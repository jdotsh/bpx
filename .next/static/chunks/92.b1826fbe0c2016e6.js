"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[92],{4092:function(i,t,n){n.r(t),n.d(t,{default:function(){return d}});var r=n(1334),e=n(891),c=n(3630),o=n(8661),a=function(){return(a=Object.assign||function(i){for(var t,n=1,r=arguments.length;n<r;n++)for(var e in t=arguments[n])Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=t[e]);return i}).apply(this,arguments)},g=function(){function i(i,t,n){var r=this;this._config=a({smallGridSpacing:10,gridSpacing:100,gridLineStroke:.5,gridLineOpacity:.4,gridLineColor:"#ccc"},i||{}),this._canvas=t,this._visible=!1,n.on("diagram.init",function(){r._init(),r.toggle(!0)}),n.on("gridSnapping.toggle",function(i){var t=i.active;r.toggle(t),r._centerGridAroundViewbox()}),n.on("canvas.viewbox.changed",function(i){var t=i.viewbox;r._centerGridAroundViewbox(t)})}return i.prototype._init=function(){var i=(0,e.IO)("defs",this._canvas._svg);i||(i=(0,r.Ue)("defs"),(0,r.R3)(this._canvas._svg,i));var t=(0,r.Ue)("pattern"),n="djs-small-grid-pattern-"+s();(0,r.Lj)(t,{id:n,width:this._config.smallGridSpacing,height:this._config.smallGridSpacing,patternUnits:"userSpaceOnUse"});var c=(0,r.Ue)("path");(0,r.Lj)(c,{d:"M ".concat(this._config.smallGridSpacing,",0 L 0,0 0,").concat(this._config.smallGridSpacing," ").concat(this._config.smallGridSpacing,",").concat(this._config.smallGridSpacing," Z"),fill:"none",stroke:this._config.gridLineColor,strokeWidth:this._config.gridLineStroke,opacity:this._config.gridLineOpacity}),(0,r.R3)(t,c);var o=this._pattern=(0,r.Ue)("pattern"),a="djs-grid-pattern-"+s();(0,r.Lj)(o,{id:a,width:this._config.gridSpacing,height:this._config.gridSpacing,patternUnits:"userSpaceOnUse"});var g=(0,r.Ue)("path");(0,r.Lj)(g,{d:"M ".concat(this._config.gridSpacing,",0 L 0,0 0,").concat(this._config.gridSpacing," ").concat(this._config.gridSpacing,",").concat(this._config.gridSpacing," Z"),fill:"none",stroke:this._config.gridLineColor,strokeWidth:2*this._config.gridLineStroke,opacity:2*this._config.gridLineOpacity}),(0,r.R3)(o,g);var d=(0,r.Ue)("rect");(0,r.Lj)(d,{width:this._config.gridSpacing,height:this._config.gridSpacing,fill:"url(#".concat(n,")")}),(0,r.R3)(o,d),(0,r.R3)(i,t),(0,r.R3)(i,o);var h=this._gfx=(0,r.Ue)("rect");(0,r.Lj)(h,{x:-5e4,y:-5e4,width:1e5,height:1e5,fill:"url(#".concat(a,")")})},i.prototype._centerGridAroundViewbox=function(i){i||(i=this._canvas.viewbox());var t=(0,o.wS)(i);(0,r.Lj)(this._gfx,{x:-5e4+(0,c.q)(t.x,this._config.gridSpacing,"round"),y:-5e4+(0,c.q)(t.y,this._config.gridSpacing,"round")})},i.prototype.isVisible=function(){return this._visible},i.prototype.toggle=function(i){if(void 0===i&&(i=!this._visible),i!==this._visible){var t=this._getParent();i?(0,r.R3)(t,this._gfx):(0,r.ZH)(t),this._visible=i}},i.prototype._getParent=function(){return this._canvas.getLayer("djs-grid-line",-2)},i}();function s(){return Math.round(1e6*Math.random())}g.$inject=["config.gridLine","canvas","eventBus"];var d={__init__:["gridLineBg"],gridLineBg:["type",g]}}}]);