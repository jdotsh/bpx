"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("middleware",{

/***/ "(middleware)/./lib/auth/server.ts":
/*!****************************!*\
  !*** ./lib/auth/server.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createMiddlewareClient: () => (/* binding */ createMiddlewareClient),\n/* harmony export */   createServerClient: () => (/* binding */ createServerClient),\n/* harmony export */   createUserProfile: () => (/* binding */ createUserProfile),\n/* harmony export */   getCurrentUser: () => (/* binding */ getCurrentUser),\n/* harmony export */   getUserProfile: () => (/* binding */ getUserProfile)\n/* harmony export */ });\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/ssr */ \"(middleware)/./node_modules/@supabase/ssr/dist/module/index.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/headers */ \"(middleware)/./node_modules/next/dist/esm/api/headers.js\");\n// Server-side auth for BPMN Studio Web SaaS\n// Release 1 Day 2: Authentication Setup\n\n\n// Server-side auth (for API routes, server components)\nfunction createServerClient() {\n    const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n    // Use fallback values for build process when env vars are not set\n    const supabaseUrl = \"https://adjdqxptoaecafmmjgtf.supabase.co\" || 0;\n    const supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFkamRxeHB0b2FlY2FmbW1qZ3RmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU1NTgzOTMsImV4cCI6MjA3MTEzNDM5M30.L_PMZMsTkFklUOx9lNll-s1NiaW9HnGifk-bkB5tdIQ\" || 0;\n    return (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createServerClient)(supabaseUrl, supabaseAnonKey, {\n        cookies: {\n            get (name) {\n                return cookieStore.get(name)?.value;\n            },\n            set (name, value, options) {\n                cookieStore.set({\n                    name,\n                    value,\n                    ...options\n                });\n            },\n            remove (name, options) {\n                cookieStore.set({\n                    name,\n                    value: \"\",\n                    ...options\n                });\n            }\n        }\n    });\n}\n// Middleware auth (for route protection)\nfunction createMiddlewareClient(request) {\n    // Use fallback values for build process when env vars are not set\n    const supabaseUrl = \"https://adjdqxptoaecafmmjgtf.supabase.co\" || 0;\n    const supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFkamRxeHB0b2FlY2FmbW1qZ3RmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU1NTgzOTMsImV4cCI6MjA3MTEzNDM5M30.L_PMZMsTkFklUOx9lNll-s1NiaW9HnGifk-bkB5tdIQ\" || 0;\n    return (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createServerClient)(supabaseUrl, supabaseAnonKey, {\n        cookies: {\n            get (name) {\n                return request.cookies.get(name)?.value;\n            },\n            set (name, value, options) {\n                request.cookies.set({\n                    name,\n                    value,\n                    ...options\n                });\n            },\n            remove (name, options) {\n                request.cookies.set({\n                    name,\n                    value: \"\",\n                    ...options\n                });\n            }\n        }\n    });\n}\n// Get current user (server-side)\nasync function getCurrentUser() {\n    const supabase = createServerClient();\n    try {\n        const { data: { user }, error } = await supabase.auth.getUser();\n        if (error || !user) {\n            return null;\n        }\n        return user;\n    } catch (error) {\n        console.error(\"Error getting current user:\", error);\n        return null;\n    }\n}\n// Get user profile with org info\nasync function getUserProfile(userId) {\n    const supabase = createServerClient();\n    try {\n        const { data: profile, error } = await supabase.from(\"profiles\").select(`\n        *,\n        subscriptions (\n          plan,\n          status,\n          current_period_end\n        )\n      `).eq(\"id\", userId).single();\n        if (error) {\n            console.error(\"Error getting user profile:\", error);\n            return null;\n        }\n        return profile;\n    } catch (error) {\n        console.error(\"Error getting user profile:\", error);\n        return null;\n    }\n}\n// Create profile on signup\nasync function createUserProfile(user) {\n    const supabase = createServerClient();\n    try {\n        // Create profile\n        const { data: profile, error: profileError } = await supabase.from(\"profiles\").insert({\n            id: user.id,\n            email: user.email,\n            name: user.user_metadata?.full_name || user.email?.split(\"@\")[0] || \"User\",\n            avatar_url: user.user_metadata?.avatar_url\n        }).select().single();\n        if (profileError) {\n            console.error(\"Error creating profile:\", profileError);\n            return null;\n        }\n        // Create free subscription\n        const { error: subscriptionError } = await supabase.from(\"subscriptions\").insert({\n            profile_id: user.id,\n            stripe_customer_id: `temp_${user.id}`,\n            plan: \"FREE\",\n            status: \"ACTIVE\",\n            current_period_end: new Date(Date.now() + 365 * 24 * 60 * 60 * 1000)\n        });\n        if (subscriptionError) {\n            console.error(\"Error creating subscription:\", subscriptionError);\n        // Don't fail profile creation if subscription fails\n        }\n        return profile;\n    } catch (error) {\n        console.error(\"Error creating user profile:\", error);\n        return null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU1mLFNBQ2xEVSxJQUFJLENBQUMsWUFDTE0sTUFBTSxDQUFDO1lBQ05DLElBQUlmLEtBQUtlLEVBQUU7WUFDWEMsT0FBT2hCLEtBQUtnQixLQUFLO1lBQ2pCMUIsTUFBTVUsS0FBS2lCLGFBQWEsRUFBRUMsYUFBYWxCLEtBQUtnQixLQUFLLEVBQUVHLE1BQU0sSUFBSSxDQUFDLEVBQUUsSUFBSTtZQUNwRUMsWUFBWXBCLEtBQUtpQixhQUFhLEVBQUVHO1FBQ2xDLEdBQ0NYLE1BQU0sR0FDTkUsTUFBTTtRQUVULElBQUlFLGNBQWM7WUFDaEJULFFBQVFILEtBQUssQ0FBQywyQkFBMkJZO1lBQ3pDLE9BQU87UUFDVDtRQUVBLDJCQUEyQjtRQUMzQixNQUFNLEVBQUVaLE9BQU9vQixpQkFBaUIsRUFBRSxHQUFHLE1BQU12QixTQUN4Q1UsSUFBSSxDQUFDLGlCQUNMTSxNQUFNLENBQUM7WUFDTlEsWUFBWXRCLEtBQUtlLEVBQUU7WUFDbkJRLG9CQUFvQixDQUFDLEtBQUssRUFBRXZCLEtBQUtlLEVBQUUsQ0FBQyxDQUFDO1lBQ3JDUyxNQUFNO1lBQ05DLFFBQVE7WUFDUkMsb0JBQW9CLElBQUlDLEtBQUtBLEtBQUtDLEdBQUcsS0FBSyxNQUFNLEtBQUssS0FBSyxLQUFLO1FBQ2pFO1FBRUYsSUFBSVAsbUJBQW1CO1lBQ3JCakIsUUFBUUgsS0FBSyxDQUFDLGdDQUFnQ29CO1FBQzlDLG9EQUFvRDtRQUN0RDtRQUVBLE9BQU9kO0lBQ1QsRUFBRSxPQUFPTixPQUFPO1FBQ2RHLFFBQVFILEtBQUssQ0FBQyxnQ0FBZ0NBO1FBQzlDLE9BQU87SUFDVDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2xpYi9hdXRoL3NlcnZlci50cz85MjYyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFNlcnZlci1zaWRlIGF1dGggZm9yIEJQTU4gU3R1ZGlvIFdlYiBTYWFTXG4vLyBSZWxlYXNlIDEgRGF5IDI6IEF1dGhlbnRpY2F0aW9uIFNldHVwXG5cbmltcG9ydCB7IGNyZWF0ZVNlcnZlckNsaWVudCBhcyBjcmVhdGVTdXBhYmFzZVNlcnZlckNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zc3InXG5pbXBvcnQgeyBjb29raWVzIH0gZnJvbSAnbmV4dC9oZWFkZXJzJ1xuaW1wb3J0IHR5cGUgeyBOZXh0UmVxdWVzdCB9IGZyb20gJ25leHQvc2VydmVyJ1xuXG4vLyBTZXJ2ZXItc2lkZSBhdXRoIChmb3IgQVBJIHJvdXRlcywgc2VydmVyIGNvbXBvbmVudHMpXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2VydmVyQ2xpZW50KCkge1xuICBjb25zdCBjb29raWVTdG9yZSA9IGNvb2tpZXMoKVxuICBcbiAgLy8gVXNlIGZhbGxiYWNrIHZhbHVlcyBmb3IgYnVpbGQgcHJvY2VzcyB3aGVuIGVudiB2YXJzIGFyZSBub3Qgc2V0XG4gIGNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIHx8ICdodHRwczovL3BsYWNlaG9sZGVyLnN1cGFiYXNlLmNvJ1xuICBjb25zdCBzdXBhYmFzZUFub25LZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSB8fCAncGxhY2Vob2xkZXItYW5vbi1rZXknXG5cbiAgcmV0dXJuIGNyZWF0ZVN1cGFiYXNlU2VydmVyQ2xpZW50KFxuICAgIHN1cGFiYXNlVXJsLFxuICAgIHN1cGFiYXNlQW5vbktleSxcbiAgICB7XG4gICAgICBjb29raWVzOiB7XG4gICAgICAgIGdldChuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgICByZXR1cm4gY29va2llU3RvcmUuZ2V0KG5hbWUpPy52YWx1ZVxuICAgICAgICB9LFxuICAgICAgICBzZXQobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBvcHRpb25zOiBhbnkpIHtcbiAgICAgICAgICBjb29raWVTdG9yZS5zZXQoeyBuYW1lLCB2YWx1ZSwgLi4ub3B0aW9ucyB9KVxuICAgICAgICB9LFxuICAgICAgICByZW1vdmUobmFtZTogc3RyaW5nLCBvcHRpb25zOiBhbnkpIHtcbiAgICAgICAgICBjb29raWVTdG9yZS5zZXQoeyBuYW1lLCB2YWx1ZTogJycsIC4uLm9wdGlvbnMgfSlcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfVxuICApXG59XG5cbi8vIE1pZGRsZXdhcmUgYXV0aCAoZm9yIHJvdXRlIHByb3RlY3Rpb24pXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTWlkZGxld2FyZUNsaWVudChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICAvLyBVc2UgZmFsbGJhY2sgdmFsdWVzIGZvciBidWlsZCBwcm9jZXNzIHdoZW4gZW52IHZhcnMgYXJlIG5vdCBzZXRcbiAgY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwgfHwgJ2h0dHBzOi8vcGxhY2Vob2xkZXIuc3VwYWJhc2UuY28nXG4gIGNvbnN0IHN1cGFiYXNlQW5vbktleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIHx8ICdwbGFjZWhvbGRlci1hbm9uLWtleSdcbiAgXG4gIHJldHVybiBjcmVhdGVTdXBhYmFzZVNlcnZlckNsaWVudChcbiAgICBzdXBhYmFzZVVybCxcbiAgICBzdXBhYmFzZUFub25LZXksXG4gICAge1xuICAgICAgY29va2llczoge1xuICAgICAgICBnZXQobmFtZTogc3RyaW5nKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcXVlc3QuY29va2llcy5nZXQobmFtZSk/LnZhbHVlXG4gICAgICAgIH0sXG4gICAgICAgIHNldChuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIG9wdGlvbnM6IGFueSkge1xuICAgICAgICAgIHJlcXVlc3QuY29va2llcy5zZXQoeyBuYW1lLCB2YWx1ZSwgLi4ub3B0aW9ucyB9KVxuICAgICAgICB9LFxuICAgICAgICByZW1vdmUobmFtZTogc3RyaW5nLCBvcHRpb25zOiBhbnkpIHtcbiAgICAgICAgICByZXF1ZXN0LmNvb2tpZXMuc2V0KHsgbmFtZSwgdmFsdWU6ICcnLCAuLi5vcHRpb25zIH0pXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH1cbiAgKVxufVxuXG4vLyBHZXQgY3VycmVudCB1c2VyIChzZXJ2ZXItc2lkZSlcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDdXJyZW50VXNlcigpIHtcbiAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVTZXJ2ZXJDbGllbnQoKVxuICBcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9LCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKClcbiAgICBcbiAgICBpZiAoZXJyb3IgfHwgIXVzZXIpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgcmV0dXJuIHVzZXJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGN1cnJlbnQgdXNlcjonLCBlcnJvcilcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbi8vIEdldCB1c2VyIHByb2ZpbGUgd2l0aCBvcmcgaW5mb1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJQcm9maWxlKHVzZXJJZDogc3RyaW5nKSB7XG4gIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlU2VydmVyQ2xpZW50KClcbiAgXG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYXRhOiBwcm9maWxlLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdwcm9maWxlcycpXG4gICAgICAuc2VsZWN0KGBcbiAgICAgICAgKixcbiAgICAgICAgc3Vic2NyaXB0aW9ucyAoXG4gICAgICAgICAgcGxhbixcbiAgICAgICAgICBzdGF0dXMsXG4gICAgICAgICAgY3VycmVudF9wZXJpb2RfZW5kXG4gICAgICAgIClcbiAgICAgIGApXG4gICAgICAuZXEoJ2lkJywgdXNlcklkKVxuICAgICAgLnNpbmdsZSgpXG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgdXNlciBwcm9maWxlOicsIGVycm9yKVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvZmlsZVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgdXNlciBwcm9maWxlOicsIGVycm9yKVxuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuLy8gQ3JlYXRlIHByb2ZpbGUgb24gc2lnbnVwXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlVXNlclByb2ZpbGUodXNlcjogYW55KSB7XG4gIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlU2VydmVyQ2xpZW50KClcbiAgXG4gIHRyeSB7XG4gICAgLy8gQ3JlYXRlIHByb2ZpbGVcbiAgICBjb25zdCB7IGRhdGE6IHByb2ZpbGUsIGVycm9yOiBwcm9maWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncHJvZmlsZXMnKVxuICAgICAgLmluc2VydCh7XG4gICAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgbmFtZTogdXNlci51c2VyX21ldGFkYXRhPy5mdWxsX25hbWUgfHwgdXNlci5lbWFpbD8uc3BsaXQoJ0AnKVswXSB8fCAnVXNlcicsXG4gICAgICAgIGF2YXRhcl91cmw6IHVzZXIudXNlcl9tZXRhZGF0YT8uYXZhdGFyX3VybCxcbiAgICAgIH0pXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5zaW5nbGUoKVxuXG4gICAgaWYgKHByb2ZpbGVFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgcHJvZmlsZTonLCBwcm9maWxlRXJyb3IpXG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIC8vIENyZWF0ZSBmcmVlIHN1YnNjcmlwdGlvblxuICAgIGNvbnN0IHsgZXJyb3I6IHN1YnNjcmlwdGlvbkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3N1YnNjcmlwdGlvbnMnKVxuICAgICAgLmluc2VydCh7XG4gICAgICAgIHByb2ZpbGVfaWQ6IHVzZXIuaWQsXG4gICAgICAgIHN0cmlwZV9jdXN0b21lcl9pZDogYHRlbXBfJHt1c2VyLmlkfWAsIC8vIFdpbGwgYmUgdXBkYXRlZCB3aGVuIFN0cmlwZSBjdXN0b21lciBpcyBjcmVhdGVkXG4gICAgICAgIHBsYW46ICdGUkVFJyxcbiAgICAgICAgc3RhdHVzOiAnQUNUSVZFJyxcbiAgICAgICAgY3VycmVudF9wZXJpb2RfZW5kOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMzY1ICogMjQgKiA2MCAqIDYwICogMTAwMCksIC8vIDEgeWVhciBmcm9tIG5vd1xuICAgICAgfSlcblxuICAgIGlmIChzdWJzY3JpcHRpb25FcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgc3Vic2NyaXB0aW9uOicsIHN1YnNjcmlwdGlvbkVycm9yKVxuICAgICAgLy8gRG9uJ3QgZmFpbCBwcm9maWxlIGNyZWF0aW9uIGlmIHN1YnNjcmlwdGlvbiBmYWlsc1xuICAgIH1cblxuICAgIHJldHVybiBwcm9maWxlXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgdXNlciBwcm9maWxlOicsIGVycm9yKVxuICAgIHJldHVybiBudWxsXG4gIH1cbn0iXSwibmFtZXMiOlsiY3JlYXRlU2VydmVyQ2xpZW50IiwiY3JlYXRlU3VwYWJhc2VTZXJ2ZXJDbGllbnQiLCJjb29raWVzIiwiY29va2llU3RvcmUiLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJzdXBhYmFzZUFub25LZXkiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImdldCIsIm5hbWUiLCJ2YWx1ZSIsInNldCIsIm9wdGlvbnMiLCJyZW1vdmUiLCJjcmVhdGVNaWRkbGV3YXJlQ2xpZW50IiwicmVxdWVzdCIsImdldEN1cnJlbnRVc2VyIiwic3VwYWJhc2UiLCJkYXRhIiwidXNlciIsImVycm9yIiwiYXV0aCIsImdldFVzZXIiLCJjb25zb2xlIiwiZ2V0VXNlclByb2ZpbGUiLCJ1c2VySWQiLCJwcm9maWxlIiwiZnJvbSIsInNlbGVjdCIsImVxIiwic2luZ2xlIiwiY3JlYXRlVXNlclByb2ZpbGUiLCJwcm9maWxlRXJyb3IiLCJpbnNlcnQiLCJpZCIsImVtYWlsIiwidXNlcl9tZXRhZGF0YSIsImZ1bGxfbmFtZSIsInNwbGl0IiwiYXZhdGFyX3VybCIsInN1YnNjcmlwdGlvbkVycm9yIiwicHJvZmlsZV9pZCIsInN0cmlwZV9jdXN0b21lcl9pZCIsInBsYW4iLCJzdGF0dXMiLCJjdXJyZW50X3BlcmlvZF9lbmQiLCJEYXRlIiwibm93Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./lib/auth/server.ts\n");

/***/ })

});