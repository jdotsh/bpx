"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/diagram-js-direct-editing";
exports.ids = ["vendor-chunks/diagram-js-direct-editing"];
exports.modules = {

/***/ "(ssr)/./node_modules/diagram-js-direct-editing/lib/DirectEditing.js":
/*!*********************************************************************!*\
  !*** ./node_modules/diagram-js-direct-editing/lib/DirectEditing.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DirectEditing)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _TextBox_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TextBox.js */ \"(ssr)/./node_modules/diagram-js-direct-editing/lib/TextBox.js\");\n\n\n\n\n\n/**\n * A direct editing component that allows users\n * to edit an elements text directly in the diagram\n *\n * @param {EventBus} eventBus the event bus\n * @param {Canvas} canvas the canvas\n */\nfunction DirectEditing(eventBus, canvas) {\n\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n\n  this._providers = [];\n  this._textbox = new _TextBox_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n    container: canvas.getContainer(),\n    keyHandler: (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.bind)(this._handleKey, this),\n    resizeHandler: (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.bind)(this._handleResize, this)\n  });\n}\n\nDirectEditing.$inject = [ 'eventBus', 'canvas' ];\n\n\n/**\n * Register a direct editing provider\n\n * @param {Object} provider the provider, must expose an #activate(element) method that returns\n *                          an activation context ({ bounds: {x, y, width, height }, text }) if\n *                          direct editing is available for the given element.\n *                          Additionally the provider must expose a #update(element, value) method\n *                          to receive direct editing updates.\n */\nDirectEditing.prototype.registerProvider = function(provider) {\n  this._providers.push(provider);\n};\n\n\n/**\n * Returns true if direct editing is currently active\n *\n * @param {djs.model.Base} [element]\n *\n * @return {boolean}\n */\nDirectEditing.prototype.isActive = function(element) {\n  return !!(this._active && (!element || this._active.element === element));\n};\n\n\n/**\n * Cancel direct editing, if it is currently active\n */\nDirectEditing.prototype.cancel = function() {\n  if (!this._active) {\n    return;\n  }\n\n  this._fire('cancel');\n  this.close();\n};\n\n\nDirectEditing.prototype._fire = function(event, context) {\n  this._eventBus.fire('directEditing.' + event, context || { active: this._active });\n};\n\nDirectEditing.prototype.close = function() {\n  this._textbox.destroy();\n\n  this._fire('deactivate');\n\n  this._active = null;\n\n  this.resizable = undefined;\n\n  // restoreFocus API is available from diagram-js@15.0.0\n  this._canvas.restoreFocus && this._canvas.restoreFocus();\n};\n\n\nDirectEditing.prototype.complete = function() {\n\n  var active = this._active;\n\n  if (!active) {\n    return;\n  }\n\n  var containerBounds,\n      previousBounds = active.context.bounds,\n      newBounds = this.$textbox.getBoundingClientRect(),\n      newText = this.getValue(),\n      previousText = active.context.text;\n\n  if (\n    newText !== previousText ||\n    newBounds.height !== previousBounds.height ||\n    newBounds.width !== previousBounds.width\n  ) {\n    containerBounds = this._textbox.container.getBoundingClientRect();\n\n    active.provider.update(active.element, newText, active.context.text, {\n      x: newBounds.left - containerBounds.left,\n      y: newBounds.top - containerBounds.top,\n      width: newBounds.width,\n      height: newBounds.height\n    });\n  }\n\n  this._fire('complete');\n\n  this.close();\n};\n\n\nDirectEditing.prototype.getValue = function() {\n  return this._textbox.getValue();\n};\n\n\nDirectEditing.prototype._handleKey = function(e) {\n\n  // stop bubble\n  e.stopPropagation();\n\n  var key = e.keyCode || e.charCode;\n\n  // ESC\n  if (key === 27) {\n    e.preventDefault();\n    return this.cancel();\n  }\n\n  // Enter\n  if (key === 13 && !e.shiftKey) {\n    e.preventDefault();\n    return this.complete();\n  }\n};\n\n\nDirectEditing.prototype._handleResize = function(event) {\n  this._fire('resize', event);\n};\n\n\n/**\n * Activate direct editing on the given element\n *\n * @param {Object} ElementDescriptor the descriptor for a shape or connection\n * @return {Boolean} true if the activation was possible\n */\nDirectEditing.prototype.activate = function(element) {\n  if (this.isActive()) {\n    this.cancel();\n  }\n\n  // the direct editing context\n  var context;\n\n  var provider = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.find)(this._providers, function(p) {\n    return ((context = p.activate(element))) ? p : null;\n  });\n\n  // check if activation took place\n  if (context) {\n    this.$textbox = this._textbox.create(\n      context.bounds,\n      context.style,\n      context.text,\n      context.options\n    );\n\n    this._active = {\n      element: element,\n      context: context,\n      provider: provider\n    };\n\n    if (context.options && context.options.resizable) {\n      this.resizable = true;\n    }\n\n    this._fire('activate');\n  }\n\n  return !!context;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy1kaXJlY3QtZWRpdGluZy9saWIvRGlyZWN0RWRpdGluZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFHa0I7O0FBRWlCOzs7QUFHbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxRQUFRO0FBQ25CO0FBQ2U7O0FBRWY7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQixtREFBTztBQUM3QjtBQUNBLGdCQUFnQiw4Q0FBSTtBQUNwQixtQkFBbUIsOENBQUk7QUFDdkIsR0FBRztBQUNIOztBQUVBOzs7QUFHQTtBQUNBOztBQUVBLFdBQVcsUUFBUTtBQUNuQixxREFBcUQsU0FBUyxxQkFBcUIsUUFBUTtBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0I7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQSw2REFBNkQsc0JBQXNCO0FBQ25GOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsaUJBQWlCLDhDQUFJO0FBQ3JCO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzLWRpcmVjdC1lZGl0aW5nL2xpYi9EaXJlY3RFZGl0aW5nLmpzPzM2MzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgYmluZCxcbiAgZmluZFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCBUZXh0Qm94IGZyb20gJy4vVGV4dEJveC5qcyc7XG5cblxuLyoqXG4gKiBBIGRpcmVjdCBlZGl0aW5nIGNvbXBvbmVudCB0aGF0IGFsbG93cyB1c2Vyc1xuICogdG8gZWRpdCBhbiBlbGVtZW50cyB0ZXh0IGRpcmVjdGx5IGluIHRoZSBkaWFncmFtXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXMgdGhlIGV2ZW50IGJ1c1xuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhcyB0aGUgY2FudmFzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERpcmVjdEVkaXRpbmcoZXZlbnRCdXMsIGNhbnZhcykge1xuXG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcblxuICB0aGlzLl9wcm92aWRlcnMgPSBbXTtcbiAgdGhpcy5fdGV4dGJveCA9IG5ldyBUZXh0Qm94KHtcbiAgICBjb250YWluZXI6IGNhbnZhcy5nZXRDb250YWluZXIoKSxcbiAgICBrZXlIYW5kbGVyOiBiaW5kKHRoaXMuX2hhbmRsZUtleSwgdGhpcyksXG4gICAgcmVzaXplSGFuZGxlcjogYmluZCh0aGlzLl9oYW5kbGVSZXNpemUsIHRoaXMpXG4gIH0pO1xufVxuXG5EaXJlY3RFZGl0aW5nLiRpbmplY3QgPSBbICdldmVudEJ1cycsICdjYW52YXMnIF07XG5cblxuLyoqXG4gKiBSZWdpc3RlciBhIGRpcmVjdCBlZGl0aW5nIHByb3ZpZGVyXG5cbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm92aWRlciB0aGUgcHJvdmlkZXIsIG11c3QgZXhwb3NlIGFuICNhY3RpdmF0ZShlbGVtZW50KSBtZXRob2QgdGhhdCByZXR1cm5zXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgYW4gYWN0aXZhdGlvbiBjb250ZXh0ICh7IGJvdW5kczoge3gsIHksIHdpZHRoLCBoZWlnaHQgfSwgdGV4dCB9KSBpZlxuICogICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdCBlZGl0aW5nIGlzIGF2YWlsYWJsZSBmb3IgdGhlIGdpdmVuIGVsZW1lbnQuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgQWRkaXRpb25hbGx5IHRoZSBwcm92aWRlciBtdXN0IGV4cG9zZSBhICN1cGRhdGUoZWxlbWVudCwgdmFsdWUpIG1ldGhvZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgIHRvIHJlY2VpdmUgZGlyZWN0IGVkaXRpbmcgdXBkYXRlcy5cbiAqL1xuRGlyZWN0RWRpdGluZy5wcm90b3R5cGUucmVnaXN0ZXJQcm92aWRlciA9IGZ1bmN0aW9uKHByb3ZpZGVyKSB7XG4gIHRoaXMuX3Byb3ZpZGVycy5wdXNoKHByb3ZpZGVyKTtcbn07XG5cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgZGlyZWN0IGVkaXRpbmcgaXMgY3VycmVudGx5IGFjdGl2ZVxuICpcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IFtlbGVtZW50XVxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbkRpcmVjdEVkaXRpbmcucHJvdG90eXBlLmlzQWN0aXZlID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gISEodGhpcy5fYWN0aXZlICYmICghZWxlbWVudCB8fCB0aGlzLl9hY3RpdmUuZWxlbWVudCA9PT0gZWxlbWVudCkpO1xufTtcblxuXG4vKipcbiAqIENhbmNlbCBkaXJlY3QgZWRpdGluZywgaWYgaXQgaXMgY3VycmVudGx5IGFjdGl2ZVxuICovXG5EaXJlY3RFZGl0aW5nLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCF0aGlzLl9hY3RpdmUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLl9maXJlKCdjYW5jZWwnKTtcbiAgdGhpcy5jbG9zZSgpO1xufTtcblxuXG5EaXJlY3RFZGl0aW5nLnByb3RvdHlwZS5fZmlyZSA9IGZ1bmN0aW9uKGV2ZW50LCBjb250ZXh0KSB7XG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2RpcmVjdEVkaXRpbmcuJyArIGV2ZW50LCBjb250ZXh0IHx8IHsgYWN0aXZlOiB0aGlzLl9hY3RpdmUgfSk7XG59O1xuXG5EaXJlY3RFZGl0aW5nLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl90ZXh0Ym94LmRlc3Ryb3koKTtcblxuICB0aGlzLl9maXJlKCdkZWFjdGl2YXRlJyk7XG5cbiAgdGhpcy5fYWN0aXZlID0gbnVsbDtcblxuICB0aGlzLnJlc2l6YWJsZSA9IHVuZGVmaW5lZDtcblxuICAvLyByZXN0b3JlRm9jdXMgQVBJIGlzIGF2YWlsYWJsZSBmcm9tIGRpYWdyYW0tanNAMTUuMC4wXG4gIHRoaXMuX2NhbnZhcy5yZXN0b3JlRm9jdXMgJiYgdGhpcy5fY2FudmFzLnJlc3RvcmVGb2N1cygpO1xufTtcblxuXG5EaXJlY3RFZGl0aW5nLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuXG4gIHZhciBhY3RpdmUgPSB0aGlzLl9hY3RpdmU7XG5cbiAgaWYgKCFhY3RpdmUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgY29udGFpbmVyQm91bmRzLFxuICAgICAgcHJldmlvdXNCb3VuZHMgPSBhY3RpdmUuY29udGV4dC5ib3VuZHMsXG4gICAgICBuZXdCb3VuZHMgPSB0aGlzLiR0ZXh0Ym94LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgbmV3VGV4dCA9IHRoaXMuZ2V0VmFsdWUoKSxcbiAgICAgIHByZXZpb3VzVGV4dCA9IGFjdGl2ZS5jb250ZXh0LnRleHQ7XG5cbiAgaWYgKFxuICAgIG5ld1RleHQgIT09IHByZXZpb3VzVGV4dCB8fFxuICAgIG5ld0JvdW5kcy5oZWlnaHQgIT09IHByZXZpb3VzQm91bmRzLmhlaWdodCB8fFxuICAgIG5ld0JvdW5kcy53aWR0aCAhPT0gcHJldmlvdXNCb3VuZHMud2lkdGhcbiAgKSB7XG4gICAgY29udGFpbmVyQm91bmRzID0gdGhpcy5fdGV4dGJveC5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICBhY3RpdmUucHJvdmlkZXIudXBkYXRlKGFjdGl2ZS5lbGVtZW50LCBuZXdUZXh0LCBhY3RpdmUuY29udGV4dC50ZXh0LCB7XG4gICAgICB4OiBuZXdCb3VuZHMubGVmdCAtIGNvbnRhaW5lckJvdW5kcy5sZWZ0LFxuICAgICAgeTogbmV3Qm91bmRzLnRvcCAtIGNvbnRhaW5lckJvdW5kcy50b3AsXG4gICAgICB3aWR0aDogbmV3Qm91bmRzLndpZHRoLFxuICAgICAgaGVpZ2h0OiBuZXdCb3VuZHMuaGVpZ2h0XG4gICAgfSk7XG4gIH1cblxuICB0aGlzLl9maXJlKCdjb21wbGV0ZScpO1xuXG4gIHRoaXMuY2xvc2UoKTtcbn07XG5cblxuRGlyZWN0RWRpdGluZy5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX3RleHRib3guZ2V0VmFsdWUoKTtcbn07XG5cblxuRGlyZWN0RWRpdGluZy5wcm90b3R5cGUuX2hhbmRsZUtleSA9IGZ1bmN0aW9uKGUpIHtcblxuICAvLyBzdG9wIGJ1YmJsZVxuICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gIHZhciBrZXkgPSBlLmtleUNvZGUgfHwgZS5jaGFyQ29kZTtcblxuICAvLyBFU0NcbiAgaWYgKGtleSA9PT0gMjcpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgcmV0dXJuIHRoaXMuY2FuY2VsKCk7XG4gIH1cblxuICAvLyBFbnRlclxuICBpZiAoa2V5ID09PSAxMyAmJiAhZS5zaGlmdEtleSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICByZXR1cm4gdGhpcy5jb21wbGV0ZSgpO1xuICB9XG59O1xuXG5cbkRpcmVjdEVkaXRpbmcucHJvdG90eXBlLl9oYW5kbGVSZXNpemUgPSBmdW5jdGlvbihldmVudCkge1xuICB0aGlzLl9maXJlKCdyZXNpemUnLCBldmVudCk7XG59O1xuXG5cbi8qKlxuICogQWN0aXZhdGUgZGlyZWN0IGVkaXRpbmcgb24gdGhlIGdpdmVuIGVsZW1lbnRcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gRWxlbWVudERlc2NyaXB0b3IgdGhlIGRlc2NyaXB0b3IgZm9yIGEgc2hhcGUgb3IgY29ubmVjdGlvblxuICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgYWN0aXZhdGlvbiB3YXMgcG9zc2libGVcbiAqL1xuRGlyZWN0RWRpdGluZy5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIGlmICh0aGlzLmlzQWN0aXZlKCkpIHtcbiAgICB0aGlzLmNhbmNlbCgpO1xuICB9XG5cbiAgLy8gdGhlIGRpcmVjdCBlZGl0aW5nIGNvbnRleHRcbiAgdmFyIGNvbnRleHQ7XG5cbiAgdmFyIHByb3ZpZGVyID0gZmluZCh0aGlzLl9wcm92aWRlcnMsIGZ1bmN0aW9uKHApIHtcbiAgICByZXR1cm4gKChjb250ZXh0ID0gcC5hY3RpdmF0ZShlbGVtZW50KSkpID8gcCA6IG51bGw7XG4gIH0pO1xuXG4gIC8vIGNoZWNrIGlmIGFjdGl2YXRpb24gdG9vayBwbGFjZVxuICBpZiAoY29udGV4dCkge1xuICAgIHRoaXMuJHRleHRib3ggPSB0aGlzLl90ZXh0Ym94LmNyZWF0ZShcbiAgICAgIGNvbnRleHQuYm91bmRzLFxuICAgICAgY29udGV4dC5zdHlsZSxcbiAgICAgIGNvbnRleHQudGV4dCxcbiAgICAgIGNvbnRleHQub3B0aW9uc1xuICAgICk7XG5cbiAgICB0aGlzLl9hY3RpdmUgPSB7XG4gICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgY29udGV4dDogY29udGV4dCxcbiAgICAgIHByb3ZpZGVyOiBwcm92aWRlclxuICAgIH07XG5cbiAgICBpZiAoY29udGV4dC5vcHRpb25zICYmIGNvbnRleHQub3B0aW9ucy5yZXNpemFibGUpIHtcbiAgICAgIHRoaXMucmVzaXphYmxlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLl9maXJlKCdhY3RpdmF0ZScpO1xuICB9XG5cbiAgcmV0dXJuICEhY29udGV4dDtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js-direct-editing/lib/DirectEditing.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js-direct-editing/lib/TextBox.js":
/*!***************************************************************!*\
  !*** ./node_modules/diagram-js-direct-editing/lib/TextBox.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TextBox)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dom */ \"(ssr)/./node_modules/min-dom/dist/index.esm.js\");\n\n\n\n\nvar min = Math.min,\n    max = Math.max;\n\nfunction preventDefault(e) {\n  e.preventDefault();\n}\n\nfunction stopPropagation(e) {\n  e.stopPropagation();\n}\n\nfunction isTextNode(node) {\n  return node.nodeType === Node.TEXT_NODE;\n}\n\nfunction toArray(nodeList) {\n  return [].slice.call(nodeList);\n}\n\n/**\n * Initializes a container for a content editable div.\n *\n * Structure:\n *\n * container\n *   parent\n *     content\n *     resize-handle\n *\n * @param {object} options\n * @param {DOMElement} options.container The DOM element to append the contentContainer to\n * @param {Function} options.keyHandler Handler for key events\n * @param {Function} options.resizeHandler Handler for resize events\n */\nfunction TextBox(options) {\n  this.container = options.container;\n\n  this.parent = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.domify)(\n    '<div class=\"djs-direct-editing-parent\">' +\n      '<div class=\"djs-direct-editing-content\" contenteditable=\"true\"></div>' +\n    '</div>'\n  );\n\n  this.content = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.query)('[contenteditable]', this.parent);\n\n  this.keyHandler = options.keyHandler || function() {};\n  this.resizeHandler = options.resizeHandler || function() {};\n\n  this.autoResize = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.bind)(this.autoResize, this);\n  this.handlePaste = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.bind)(this.handlePaste, this);\n}\n\n\n/**\n * Create a text box with the given position, size, style and text content\n *\n * @param {Object} bounds\n * @param {Number} bounds.x absolute x position\n * @param {Number} bounds.y absolute y position\n * @param {Number} [bounds.width] fixed width value\n * @param {Number} [bounds.height] fixed height value\n * @param {Number} [bounds.maxWidth] maximum width value\n * @param {Number} [bounds.maxHeight] maximum height value\n * @param {Number} [bounds.minWidth] minimum width value\n * @param {Number} [bounds.minHeight] minimum height value\n * @param {Object} [style]\n * @param {String} value text content\n *\n * @return {DOMElement} The created content DOM element\n */\nTextBox.prototype.create = function(bounds, style, value, options) {\n  var self = this;\n\n  var parent = this.parent,\n      content = this.content,\n      container = this.container;\n\n  options = this.options = options || {};\n\n  style = this.style = style || {};\n\n  var parentStyle = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.pick)(style, [\n    'width',\n    'height',\n    'maxWidth',\n    'maxHeight',\n    'minWidth',\n    'minHeight',\n    'left',\n    'top',\n    'backgroundColor',\n    'position',\n    'overflow',\n    'border',\n    'wordWrap',\n    'textAlign',\n    'outline',\n    'transform'\n  ]);\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(parent.style, {\n    width: bounds.width + 'px',\n    height: bounds.height + 'px',\n    maxWidth: bounds.maxWidth + 'px',\n    maxHeight: bounds.maxHeight + 'px',\n    minWidth: bounds.minWidth + 'px',\n    minHeight: bounds.minHeight + 'px',\n    left: bounds.x + 'px',\n    top: bounds.y + 'px',\n    backgroundColor: '#ffffff',\n    position: 'absolute',\n    overflow: 'visible',\n    border: '1px solid #ccc',\n    boxSizing: 'border-box',\n    wordWrap: 'normal',\n    textAlign: 'center',\n    outline: 'none'\n  }, parentStyle);\n\n  var contentStyle = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.pick)(style, [\n    'fontFamily',\n    'fontSize',\n    'fontWeight',\n    'lineHeight',\n    'padding',\n    'paddingTop',\n    'paddingRight',\n    'paddingBottom',\n    'paddingLeft'\n  ]);\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(content.style, {\n    boxSizing: 'border-box',\n    width: '100%',\n    outline: 'none',\n    wordWrap: 'break-word'\n  }, contentStyle);\n\n  if (options.centerVertically) {\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(content.style, {\n      position: 'absolute',\n      top: '50%',\n      transform: 'translate(0, -50%)'\n    }, contentStyle);\n  }\n\n  content.innerText = value;\n\n  min_dom__WEBPACK_IMPORTED_MODULE_0__.event.bind(content, 'keydown', this.keyHandler);\n  min_dom__WEBPACK_IMPORTED_MODULE_0__.event.bind(content, 'mousedown', stopPropagation);\n  min_dom__WEBPACK_IMPORTED_MODULE_0__.event.bind(content, 'paste', self.handlePaste);\n\n  if (options.autoResize) {\n    min_dom__WEBPACK_IMPORTED_MODULE_0__.event.bind(content, 'input', this.autoResize);\n  }\n\n  if (options.resizable) {\n    this.resizable(style);\n  }\n\n  container.appendChild(parent);\n\n  // set selection to end of text\n  this.setSelection(content.lastChild, content.lastChild && content.lastChild.length);\n\n  return parent;\n};\n\n/**\n * Intercept paste events to remove formatting from pasted text.\n */\nTextBox.prototype.handlePaste = function(e) {\n  var options = this.options,\n      style = this.style;\n\n  e.preventDefault();\n\n  var text;\n\n  if (e.clipboardData) {\n\n    // Chrome, Firefox, Safari\n    text = e.clipboardData.getData('text/plain');\n  } else {\n\n    // Internet Explorer\n    text = window.clipboardData.getData('Text');\n  }\n\n  this.insertText(text);\n\n  if (options.autoResize) {\n    var hasResized = this.autoResize(style);\n\n    if (hasResized) {\n      this.resizeHandler(hasResized);\n    }\n  }\n};\n\nTextBox.prototype.insertText = function(text) {\n  text = normalizeEndOfLineSequences(text);\n\n  // insertText command not supported by Internet Explorer\n  var success = document.execCommand('insertText', false, text);\n\n  if (success) {\n    return;\n  }\n\n  this._insertTextIE(text);\n};\n\nTextBox.prototype._insertTextIE = function(text) {\n\n  // Internet Explorer\n  var range = this.getSelection(),\n      startContainer = range.startContainer,\n      endContainer = range.endContainer,\n      startOffset = range.startOffset,\n      endOffset = range.endOffset,\n      commonAncestorContainer = range.commonAncestorContainer;\n\n  var childNodesArray = toArray(commonAncestorContainer.childNodes);\n\n  var container,\n      offset;\n\n  if (isTextNode(commonAncestorContainer)) {\n    var containerTextContent = startContainer.textContent;\n\n    startContainer.textContent =\n      containerTextContent.substring(0, startOffset)\n      + text\n      + containerTextContent.substring(endOffset);\n\n    container = startContainer;\n    offset = startOffset + text.length;\n\n  } else if (startContainer === this.content && endContainer === this.content) {\n    var textNode = document.createTextNode(text);\n\n    this.content.insertBefore(textNode, childNodesArray[startOffset]);\n\n    container = textNode;\n    offset = textNode.textContent.length;\n  } else {\n    var startContainerChildIndex = childNodesArray.indexOf(startContainer),\n        endContainerChildIndex = childNodesArray.indexOf(endContainer);\n\n    childNodesArray.forEach(function(childNode, index) {\n\n      if (index === startContainerChildIndex) {\n        childNode.textContent =\n          startContainer.textContent.substring(0, startOffset) +\n          text +\n          endContainer.textContent.substring(endOffset);\n      } else if (index > startContainerChildIndex && index <= endContainerChildIndex) {\n        (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.remove)(childNode);\n      }\n    });\n\n    container = startContainer;\n    offset = startOffset + text.length;\n  }\n\n  if (container && offset !== undefined) {\n\n    // is necessary in Internet Explorer\n    setTimeout(function() {\n      self.setSelection(container, offset);\n    });\n  }\n};\n\n/**\n * Automatically resize element vertically to fit its content.\n */\nTextBox.prototype.autoResize = function() {\n  var parent = this.parent,\n      content = this.content;\n\n  var fontSize = parseInt(this.style.fontSize) || 12;\n\n  if (content.scrollHeight > parent.offsetHeight ||\n      content.scrollHeight < parent.offsetHeight - fontSize) {\n    var bounds = parent.getBoundingClientRect();\n\n    var height = content.scrollHeight;\n    parent.style.height = height + 'px';\n\n    this.resizeHandler({\n      width: bounds.width,\n      height: bounds.height,\n      dx: 0,\n      dy: height - bounds.height\n    });\n  }\n};\n\n/**\n * Make an element resizable by adding a resize handle.\n */\nTextBox.prototype.resizable = function() {\n  var self = this;\n\n  var parent = this.parent,\n      resizeHandle = this.resizeHandle;\n\n  var minWidth = parseInt(this.style.minWidth) || 0,\n      minHeight = parseInt(this.style.minHeight) || 0,\n      maxWidth = parseInt(this.style.maxWidth) || Infinity,\n      maxHeight = parseInt(this.style.maxHeight) || Infinity;\n\n  if (!resizeHandle) {\n    resizeHandle = this.resizeHandle = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.domify)(\n      '<div class=\"djs-direct-editing-resize-handle\"></div>'\n    );\n\n    var startX, startY, startWidth, startHeight;\n\n    var onMouseDown = function(e) {\n      preventDefault(e);\n      stopPropagation(e);\n\n      startX = e.clientX;\n      startY = e.clientY;\n\n      var bounds = parent.getBoundingClientRect();\n\n      startWidth = bounds.width;\n      startHeight = bounds.height;\n\n      min_dom__WEBPACK_IMPORTED_MODULE_0__.event.bind(document, 'mousemove', onMouseMove);\n      min_dom__WEBPACK_IMPORTED_MODULE_0__.event.bind(document, 'mouseup', onMouseUp);\n    };\n\n    var onMouseMove = function(e) {\n      preventDefault(e);\n      stopPropagation(e);\n\n      var newWidth = min(max(startWidth + e.clientX - startX, minWidth), maxWidth);\n      var newHeight = min(max(startHeight + e.clientY - startY, minHeight), maxHeight);\n\n      parent.style.width = newWidth + 'px';\n      parent.style.height = newHeight + 'px';\n\n      self.resizeHandler({\n        width: startWidth,\n        height: startHeight,\n        dx: e.clientX - startX,\n        dy: e.clientY - startY\n      });\n    };\n\n    var onMouseUp = function(e) {\n      preventDefault(e);\n      stopPropagation(e);\n\n      min_dom__WEBPACK_IMPORTED_MODULE_0__.event.unbind(document,'mousemove', onMouseMove, false);\n      min_dom__WEBPACK_IMPORTED_MODULE_0__.event.unbind(document, 'mouseup', onMouseUp, false);\n    };\n\n    min_dom__WEBPACK_IMPORTED_MODULE_0__.event.bind(resizeHandle, 'mousedown', onMouseDown);\n  }\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(resizeHandle.style, {\n    position: 'absolute',\n    bottom: '0px',\n    right: '0px',\n    cursor: 'nwse-resize',\n    width: '0',\n    height: '0',\n    borderTop: (parseInt(this.style.fontSize) / 4 || 3) + 'px solid transparent',\n    borderRight: (parseInt(this.style.fontSize) / 4 || 3) + 'px solid #ccc',\n    borderBottom: (parseInt(this.style.fontSize) / 4 || 3) + 'px solid #ccc',\n    borderLeft: (parseInt(this.style.fontSize) / 4 || 3) + 'px solid transparent'\n  });\n\n  parent.appendChild(resizeHandle);\n};\n\n\n/**\n * Clear content and style of the textbox, unbind listeners and\n * reset CSS style.\n */\nTextBox.prototype.destroy = function() {\n  var parent = this.parent,\n      content = this.content,\n      resizeHandle = this.resizeHandle;\n\n  // clear content\n  content.innerText = '';\n\n  // clear styles\n  parent.removeAttribute('style');\n  content.removeAttribute('style');\n\n  min_dom__WEBPACK_IMPORTED_MODULE_0__.event.unbind(content, 'keydown', this.keyHandler);\n  min_dom__WEBPACK_IMPORTED_MODULE_0__.event.unbind(content, 'mousedown', stopPropagation);\n  min_dom__WEBPACK_IMPORTED_MODULE_0__.event.unbind(content, 'input', this.autoResize);\n  min_dom__WEBPACK_IMPORTED_MODULE_0__.event.unbind(content, 'paste', this.handlePaste);\n\n  if (resizeHandle) {\n    resizeHandle.removeAttribute('style');\n\n    (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.remove)(resizeHandle);\n  }\n\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.remove)(parent);\n};\n\n\nTextBox.prototype.getValue = function() {\n  return this.content.innerText.trim();\n};\n\n\nTextBox.prototype.getSelection = function() {\n  var selection = window.getSelection(),\n      range = selection.getRangeAt(0);\n\n  return range;\n};\n\n\nTextBox.prototype.setSelection = function(container, offset) {\n  var range = document.createRange();\n\n  if (container === null) {\n    range.selectNodeContents(this.content);\n  } else {\n    range.setStart(container, offset);\n    range.setEnd(container, offset);\n  }\n\n  var selection = window.getSelection();\n\n  selection.removeAllRanges();\n  selection.addRange(range);\n};\n\n// helpers //////////\n\nfunction normalizeEndOfLineSequences(string) {\n  return string.replace(/\\r\\n|\\r|\\n/g, '\\n');\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy1kaXJlY3QtZWRpdGluZy9saWIvVGV4dEJveC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFJa0I7O0FBT0Q7O0FBRWpCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsWUFBWTtBQUN2QixXQUFXLFVBQVU7QUFDckIsV0FBVyxVQUFVO0FBQ3JCO0FBQ2U7QUFDZjs7QUFFQSxnQkFBZ0IsK0NBQU07QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCLDhDQUFROztBQUV6QjtBQUNBOztBQUVBLG9CQUFvQiw4Q0FBSTtBQUN4QixxQkFBcUIsOENBQUk7QUFDekI7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZLFlBQVk7QUFDeEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxvQkFBb0IsOENBQUk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFLGdEQUFNO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVILHFCQUFxQiw4Q0FBSTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFLGdEQUFNO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsSUFBSSxnREFBTTtBQUNWO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQSxFQUFFLDBDQUFRO0FBQ1YsRUFBRSwwQ0FBUTtBQUNWLEVBQUUsMENBQVE7O0FBRVY7QUFDQSxJQUFJLDBDQUFRO0FBQ1o7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsSUFBSTtBQUNKOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLFFBQVEsK0NBQVM7QUFDakI7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVDQUF1QywrQ0FBTTtBQUM3QztBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsTUFBTSwwQ0FBUTtBQUNkLE1BQU0sMENBQVE7QUFDZDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBOztBQUVBLE1BQU0sMENBQVE7QUFDZCxNQUFNLDBDQUFRO0FBQ2Q7O0FBRUEsSUFBSSwwQ0FBUTtBQUNaOztBQUVBLEVBQUUsZ0RBQU07QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFLDBDQUFRO0FBQ1YsRUFBRSwwQ0FBUTtBQUNWLEVBQUUsMENBQVE7QUFDVixFQUFFLDBDQUFROztBQUVWO0FBQ0E7O0FBRUEsSUFBSSwrQ0FBUztBQUNiOztBQUVBLEVBQUUsK0NBQVM7QUFDWDs7O0FBR0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMtZGlyZWN0LWVkaXRpbmcvbGliL1RleHRCb3guanM/NDZlYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBhc3NpZ24sXG4gIGJpbmQsXG4gIHBpY2tcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBkb21pZnksXG4gIHF1ZXJ5IGFzIGRvbVF1ZXJ5LFxuICBldmVudCBhcyBkb21FdmVudCxcbiAgcmVtb3ZlIGFzIGRvbVJlbW92ZVxufSBmcm9tICdtaW4tZG9tJztcblxudmFyIG1pbiA9IE1hdGgubWluLFxuICAgIG1heCA9IE1hdGgubWF4O1xuXG5mdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChlKSB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbn1cblxuZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKGUpIHtcbiAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbn1cblxuZnVuY3Rpb24gaXNUZXh0Tm9kZShub2RlKSB7XG4gIHJldHVybiBub2RlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERTtcbn1cblxuZnVuY3Rpb24gdG9BcnJheShub2RlTGlzdCkge1xuICByZXR1cm4gW10uc2xpY2UuY2FsbChub2RlTGlzdCk7XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgYSBjb250YWluZXIgZm9yIGEgY29udGVudCBlZGl0YWJsZSBkaXYuXG4gKlxuICogU3RydWN0dXJlOlxuICpcbiAqIGNvbnRhaW5lclxuICogICBwYXJlbnRcbiAqICAgICBjb250ZW50XG4gKiAgICAgcmVzaXplLWhhbmRsZVxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IG9wdGlvbnMuY29udGFpbmVyIFRoZSBET00gZWxlbWVudCB0byBhcHBlbmQgdGhlIGNvbnRlbnRDb250YWluZXIgdG9cbiAqIEBwYXJhbSB7RnVuY3Rpb259IG9wdGlvbnMua2V5SGFuZGxlciBIYW5kbGVyIGZvciBrZXkgZXZlbnRzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLnJlc2l6ZUhhbmRsZXIgSGFuZGxlciBmb3IgcmVzaXplIGV2ZW50c1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUZXh0Qm94KG9wdGlvbnMpIHtcbiAgdGhpcy5jb250YWluZXIgPSBvcHRpb25zLmNvbnRhaW5lcjtcblxuICB0aGlzLnBhcmVudCA9IGRvbWlmeShcbiAgICAnPGRpdiBjbGFzcz1cImRqcy1kaXJlY3QtZWRpdGluZy1wYXJlbnRcIj4nICtcbiAgICAgICc8ZGl2IGNsYXNzPVwiZGpzLWRpcmVjdC1lZGl0aW5nLWNvbnRlbnRcIiBjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCI+PC9kaXY+JyArXG4gICAgJzwvZGl2PidcbiAgKTtcblxuICB0aGlzLmNvbnRlbnQgPSBkb21RdWVyeSgnW2NvbnRlbnRlZGl0YWJsZV0nLCB0aGlzLnBhcmVudCk7XG5cbiAgdGhpcy5rZXlIYW5kbGVyID0gb3B0aW9ucy5rZXlIYW5kbGVyIHx8IGZ1bmN0aW9uKCkge307XG4gIHRoaXMucmVzaXplSGFuZGxlciA9IG9wdGlvbnMucmVzaXplSGFuZGxlciB8fCBmdW5jdGlvbigpIHt9O1xuXG4gIHRoaXMuYXV0b1Jlc2l6ZSA9IGJpbmQodGhpcy5hdXRvUmVzaXplLCB0aGlzKTtcbiAgdGhpcy5oYW5kbGVQYXN0ZSA9IGJpbmQodGhpcy5oYW5kbGVQYXN0ZSwgdGhpcyk7XG59XG5cblxuLyoqXG4gKiBDcmVhdGUgYSB0ZXh0IGJveCB3aXRoIHRoZSBnaXZlbiBwb3NpdGlvbiwgc2l6ZSwgc3R5bGUgYW5kIHRleHQgY29udGVudFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBib3VuZHNcbiAqIEBwYXJhbSB7TnVtYmVyfSBib3VuZHMueCBhYnNvbHV0ZSB4IHBvc2l0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gYm91bmRzLnkgYWJzb2x1dGUgeSBwb3NpdGlvblxuICogQHBhcmFtIHtOdW1iZXJ9IFtib3VuZHMud2lkdGhdIGZpeGVkIHdpZHRoIHZhbHVlXG4gKiBAcGFyYW0ge051bWJlcn0gW2JvdW5kcy5oZWlnaHRdIGZpeGVkIGhlaWdodCB2YWx1ZVxuICogQHBhcmFtIHtOdW1iZXJ9IFtib3VuZHMubWF4V2lkdGhdIG1heGltdW0gd2lkdGggdmFsdWVcbiAqIEBwYXJhbSB7TnVtYmVyfSBbYm91bmRzLm1heEhlaWdodF0gbWF4aW11bSBoZWlnaHQgdmFsdWVcbiAqIEBwYXJhbSB7TnVtYmVyfSBbYm91bmRzLm1pbldpZHRoXSBtaW5pbXVtIHdpZHRoIHZhbHVlXG4gKiBAcGFyYW0ge051bWJlcn0gW2JvdW5kcy5taW5IZWlnaHRdIG1pbmltdW0gaGVpZ2h0IHZhbHVlXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0eWxlXVxuICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIHRleHQgY29udGVudFxuICpcbiAqIEByZXR1cm4ge0RPTUVsZW1lbnR9IFRoZSBjcmVhdGVkIGNvbnRlbnQgRE9NIGVsZW1lbnRcbiAqL1xuVGV4dEJveC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oYm91bmRzLCBzdHlsZSwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudCxcbiAgICAgIGNvbnRlbnQgPSB0aGlzLmNvbnRlbnQsXG4gICAgICBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcblxuICBvcHRpb25zID0gdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICBzdHlsZSA9IHRoaXMuc3R5bGUgPSBzdHlsZSB8fCB7fTtcblxuICB2YXIgcGFyZW50U3R5bGUgPSBwaWNrKHN0eWxlLCBbXG4gICAgJ3dpZHRoJyxcbiAgICAnaGVpZ2h0JyxcbiAgICAnbWF4V2lkdGgnLFxuICAgICdtYXhIZWlnaHQnLFxuICAgICdtaW5XaWR0aCcsXG4gICAgJ21pbkhlaWdodCcsXG4gICAgJ2xlZnQnLFxuICAgICd0b3AnLFxuICAgICdiYWNrZ3JvdW5kQ29sb3InLFxuICAgICdwb3NpdGlvbicsXG4gICAgJ292ZXJmbG93JyxcbiAgICAnYm9yZGVyJyxcbiAgICAnd29yZFdyYXAnLFxuICAgICd0ZXh0QWxpZ24nLFxuICAgICdvdXRsaW5lJyxcbiAgICAndHJhbnNmb3JtJ1xuICBdKTtcblxuICBhc3NpZ24ocGFyZW50LnN0eWxlLCB7XG4gICAgd2lkdGg6IGJvdW5kcy53aWR0aCArICdweCcsXG4gICAgaGVpZ2h0OiBib3VuZHMuaGVpZ2h0ICsgJ3B4JyxcbiAgICBtYXhXaWR0aDogYm91bmRzLm1heFdpZHRoICsgJ3B4JyxcbiAgICBtYXhIZWlnaHQ6IGJvdW5kcy5tYXhIZWlnaHQgKyAncHgnLFxuICAgIG1pbldpZHRoOiBib3VuZHMubWluV2lkdGggKyAncHgnLFxuICAgIG1pbkhlaWdodDogYm91bmRzLm1pbkhlaWdodCArICdweCcsXG4gICAgbGVmdDogYm91bmRzLnggKyAncHgnLFxuICAgIHRvcDogYm91bmRzLnkgKyAncHgnLFxuICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmZmZmYnLFxuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIG92ZXJmbG93OiAndmlzaWJsZScsXG4gICAgYm9yZGVyOiAnMXB4IHNvbGlkICNjY2MnLFxuICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgIHdvcmRXcmFwOiAnbm9ybWFsJyxcbiAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgIG91dGxpbmU6ICdub25lJ1xuICB9LCBwYXJlbnRTdHlsZSk7XG5cbiAgdmFyIGNvbnRlbnRTdHlsZSA9IHBpY2soc3R5bGUsIFtcbiAgICAnZm9udEZhbWlseScsXG4gICAgJ2ZvbnRTaXplJyxcbiAgICAnZm9udFdlaWdodCcsXG4gICAgJ2xpbmVIZWlnaHQnLFxuICAgICdwYWRkaW5nJyxcbiAgICAncGFkZGluZ1RvcCcsXG4gICAgJ3BhZGRpbmdSaWdodCcsXG4gICAgJ3BhZGRpbmdCb3R0b20nLFxuICAgICdwYWRkaW5nTGVmdCdcbiAgXSk7XG5cbiAgYXNzaWduKGNvbnRlbnQuc3R5bGUsIHtcbiAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICB3aWR0aDogJzEwMCUnLFxuICAgIG91dGxpbmU6ICdub25lJyxcbiAgICB3b3JkV3JhcDogJ2JyZWFrLXdvcmQnXG4gIH0sIGNvbnRlbnRTdHlsZSk7XG5cbiAgaWYgKG9wdGlvbnMuY2VudGVyVmVydGljYWxseSkge1xuICAgIGFzc2lnbihjb250ZW50LnN0eWxlLCB7XG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIHRvcDogJzUwJScsXG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMCwgLTUwJSknXG4gICAgfSwgY29udGVudFN0eWxlKTtcbiAgfVxuXG4gIGNvbnRlbnQuaW5uZXJUZXh0ID0gdmFsdWU7XG5cbiAgZG9tRXZlbnQuYmluZChjb250ZW50LCAna2V5ZG93bicsIHRoaXMua2V5SGFuZGxlcik7XG4gIGRvbUV2ZW50LmJpbmQoY29udGVudCwgJ21vdXNlZG93bicsIHN0b3BQcm9wYWdhdGlvbik7XG4gIGRvbUV2ZW50LmJpbmQoY29udGVudCwgJ3Bhc3RlJywgc2VsZi5oYW5kbGVQYXN0ZSk7XG5cbiAgaWYgKG9wdGlvbnMuYXV0b1Jlc2l6ZSkge1xuICAgIGRvbUV2ZW50LmJpbmQoY29udGVudCwgJ2lucHV0JywgdGhpcy5hdXRvUmVzaXplKTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLnJlc2l6YWJsZSkge1xuICAgIHRoaXMucmVzaXphYmxlKHN0eWxlKTtcbiAgfVxuXG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChwYXJlbnQpO1xuXG4gIC8vIHNldCBzZWxlY3Rpb24gdG8gZW5kIG9mIHRleHRcbiAgdGhpcy5zZXRTZWxlY3Rpb24oY29udGVudC5sYXN0Q2hpbGQsIGNvbnRlbnQubGFzdENoaWxkICYmIGNvbnRlbnQubGFzdENoaWxkLmxlbmd0aCk7XG5cbiAgcmV0dXJuIHBhcmVudDtcbn07XG5cbi8qKlxuICogSW50ZXJjZXB0IHBhc3RlIGV2ZW50cyB0byByZW1vdmUgZm9ybWF0dGluZyBmcm9tIHBhc3RlZCB0ZXh0LlxuICovXG5UZXh0Qm94LnByb3RvdHlwZS5oYW5kbGVQYXN0ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICBzdHlsZSA9IHRoaXMuc3R5bGU7XG5cbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIHZhciB0ZXh0O1xuXG4gIGlmIChlLmNsaXBib2FyZERhdGEpIHtcblxuICAgIC8vIENocm9tZSwgRmlyZWZveCwgU2FmYXJpXG4gICAgdGV4dCA9IGUuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCd0ZXh0L3BsYWluJyk7XG4gIH0gZWxzZSB7XG5cbiAgICAvLyBJbnRlcm5ldCBFeHBsb3JlclxuICAgIHRleHQgPSB3aW5kb3cuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCdUZXh0Jyk7XG4gIH1cblxuICB0aGlzLmluc2VydFRleHQodGV4dCk7XG5cbiAgaWYgKG9wdGlvbnMuYXV0b1Jlc2l6ZSkge1xuICAgIHZhciBoYXNSZXNpemVkID0gdGhpcy5hdXRvUmVzaXplKHN0eWxlKTtcblxuICAgIGlmIChoYXNSZXNpemVkKSB7XG4gICAgICB0aGlzLnJlc2l6ZUhhbmRsZXIoaGFzUmVzaXplZCk7XG4gICAgfVxuICB9XG59O1xuXG5UZXh0Qm94LnByb3RvdHlwZS5pbnNlcnRUZXh0ID0gZnVuY3Rpb24odGV4dCkge1xuICB0ZXh0ID0gbm9ybWFsaXplRW5kT2ZMaW5lU2VxdWVuY2VzKHRleHQpO1xuXG4gIC8vIGluc2VydFRleHQgY29tbWFuZCBub3Qgc3VwcG9ydGVkIGJ5IEludGVybmV0IEV4cGxvcmVyXG4gIHZhciBzdWNjZXNzID0gZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2luc2VydFRleHQnLCBmYWxzZSwgdGV4dCk7XG5cbiAgaWYgKHN1Y2Nlc3MpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLl9pbnNlcnRUZXh0SUUodGV4dCk7XG59O1xuXG5UZXh0Qm94LnByb3RvdHlwZS5faW5zZXJ0VGV4dElFID0gZnVuY3Rpb24odGV4dCkge1xuXG4gIC8vIEludGVybmV0IEV4cGxvcmVyXG4gIHZhciByYW5nZSA9IHRoaXMuZ2V0U2VsZWN0aW9uKCksXG4gICAgICBzdGFydENvbnRhaW5lciA9IHJhbmdlLnN0YXJ0Q29udGFpbmVyLFxuICAgICAgZW5kQ29udGFpbmVyID0gcmFuZ2UuZW5kQ29udGFpbmVyLFxuICAgICAgc3RhcnRPZmZzZXQgPSByYW5nZS5zdGFydE9mZnNldCxcbiAgICAgIGVuZE9mZnNldCA9IHJhbmdlLmVuZE9mZnNldCxcbiAgICAgIGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyID0gcmFuZ2UuY29tbW9uQW5jZXN0b3JDb250YWluZXI7XG5cbiAgdmFyIGNoaWxkTm9kZXNBcnJheSA9IHRvQXJyYXkoY29tbW9uQW5jZXN0b3JDb250YWluZXIuY2hpbGROb2Rlcyk7XG5cbiAgdmFyIGNvbnRhaW5lcixcbiAgICAgIG9mZnNldDtcblxuICBpZiAoaXNUZXh0Tm9kZShjb21tb25BbmNlc3RvckNvbnRhaW5lcikpIHtcbiAgICB2YXIgY29udGFpbmVyVGV4dENvbnRlbnQgPSBzdGFydENvbnRhaW5lci50ZXh0Q29udGVudDtcblxuICAgIHN0YXJ0Q29udGFpbmVyLnRleHRDb250ZW50ID1cbiAgICAgIGNvbnRhaW5lclRleHRDb250ZW50LnN1YnN0cmluZygwLCBzdGFydE9mZnNldClcbiAgICAgICsgdGV4dFxuICAgICAgKyBjb250YWluZXJUZXh0Q29udGVudC5zdWJzdHJpbmcoZW5kT2Zmc2V0KTtcblxuICAgIGNvbnRhaW5lciA9IHN0YXJ0Q29udGFpbmVyO1xuICAgIG9mZnNldCA9IHN0YXJ0T2Zmc2V0ICsgdGV4dC5sZW5ndGg7XG5cbiAgfSBlbHNlIGlmIChzdGFydENvbnRhaW5lciA9PT0gdGhpcy5jb250ZW50ICYmIGVuZENvbnRhaW5lciA9PT0gdGhpcy5jb250ZW50KSB7XG4gICAgdmFyIHRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCk7XG5cbiAgICB0aGlzLmNvbnRlbnQuaW5zZXJ0QmVmb3JlKHRleHROb2RlLCBjaGlsZE5vZGVzQXJyYXlbc3RhcnRPZmZzZXRdKTtcblxuICAgIGNvbnRhaW5lciA9IHRleHROb2RlO1xuICAgIG9mZnNldCA9IHRleHROb2RlLnRleHRDb250ZW50Lmxlbmd0aDtcbiAgfSBlbHNlIHtcbiAgICB2YXIgc3RhcnRDb250YWluZXJDaGlsZEluZGV4ID0gY2hpbGROb2Rlc0FycmF5LmluZGV4T2Yoc3RhcnRDb250YWluZXIpLFxuICAgICAgICBlbmRDb250YWluZXJDaGlsZEluZGV4ID0gY2hpbGROb2Rlc0FycmF5LmluZGV4T2YoZW5kQ29udGFpbmVyKTtcblxuICAgIGNoaWxkTm9kZXNBcnJheS5mb3JFYWNoKGZ1bmN0aW9uKGNoaWxkTm9kZSwgaW5kZXgpIHtcblxuICAgICAgaWYgKGluZGV4ID09PSBzdGFydENvbnRhaW5lckNoaWxkSW5kZXgpIHtcbiAgICAgICAgY2hpbGROb2RlLnRleHRDb250ZW50ID1cbiAgICAgICAgICBzdGFydENvbnRhaW5lci50ZXh0Q29udGVudC5zdWJzdHJpbmcoMCwgc3RhcnRPZmZzZXQpICtcbiAgICAgICAgICB0ZXh0ICtcbiAgICAgICAgICBlbmRDb250YWluZXIudGV4dENvbnRlbnQuc3Vic3RyaW5nKGVuZE9mZnNldCk7XG4gICAgICB9IGVsc2UgaWYgKGluZGV4ID4gc3RhcnRDb250YWluZXJDaGlsZEluZGV4ICYmIGluZGV4IDw9IGVuZENvbnRhaW5lckNoaWxkSW5kZXgpIHtcbiAgICAgICAgZG9tUmVtb3ZlKGNoaWxkTm9kZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb250YWluZXIgPSBzdGFydENvbnRhaW5lcjtcbiAgICBvZmZzZXQgPSBzdGFydE9mZnNldCArIHRleHQubGVuZ3RoO1xuICB9XG5cbiAgaWYgKGNvbnRhaW5lciAmJiBvZmZzZXQgIT09IHVuZGVmaW5lZCkge1xuXG4gICAgLy8gaXMgbmVjZXNzYXJ5IGluIEludGVybmV0IEV4cGxvcmVyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuc2V0U2VsZWN0aW9uKGNvbnRhaW5lciwgb2Zmc2V0KTtcbiAgICB9KTtcbiAgfVxufTtcblxuLyoqXG4gKiBBdXRvbWF0aWNhbGx5IHJlc2l6ZSBlbGVtZW50IHZlcnRpY2FsbHkgdG8gZml0IGl0cyBjb250ZW50LlxuICovXG5UZXh0Qm94LnByb3RvdHlwZS5hdXRvUmVzaXplID0gZnVuY3Rpb24oKSB7XG4gIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudCxcbiAgICAgIGNvbnRlbnQgPSB0aGlzLmNvbnRlbnQ7XG5cbiAgdmFyIGZvbnRTaXplID0gcGFyc2VJbnQodGhpcy5zdHlsZS5mb250U2l6ZSkgfHwgMTI7XG5cbiAgaWYgKGNvbnRlbnQuc2Nyb2xsSGVpZ2h0ID4gcGFyZW50Lm9mZnNldEhlaWdodCB8fFxuICAgICAgY29udGVudC5zY3JvbGxIZWlnaHQgPCBwYXJlbnQub2Zmc2V0SGVpZ2h0IC0gZm9udFNpemUpIHtcbiAgICB2YXIgYm91bmRzID0gcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgdmFyIGhlaWdodCA9IGNvbnRlbnQuc2Nyb2xsSGVpZ2h0O1xuICAgIHBhcmVudC5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnO1xuXG4gICAgdGhpcy5yZXNpemVIYW5kbGVyKHtcbiAgICAgIHdpZHRoOiBib3VuZHMud2lkdGgsXG4gICAgICBoZWlnaHQ6IGJvdW5kcy5oZWlnaHQsXG4gICAgICBkeDogMCxcbiAgICAgIGR5OiBoZWlnaHQgLSBib3VuZHMuaGVpZ2h0XG4gICAgfSk7XG4gIH1cbn07XG5cbi8qKlxuICogTWFrZSBhbiBlbGVtZW50IHJlc2l6YWJsZSBieSBhZGRpbmcgYSByZXNpemUgaGFuZGxlLlxuICovXG5UZXh0Qm94LnByb3RvdHlwZS5yZXNpemFibGUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudCxcbiAgICAgIHJlc2l6ZUhhbmRsZSA9IHRoaXMucmVzaXplSGFuZGxlO1xuXG4gIHZhciBtaW5XaWR0aCA9IHBhcnNlSW50KHRoaXMuc3R5bGUubWluV2lkdGgpIHx8IDAsXG4gICAgICBtaW5IZWlnaHQgPSBwYXJzZUludCh0aGlzLnN0eWxlLm1pbkhlaWdodCkgfHwgMCxcbiAgICAgIG1heFdpZHRoID0gcGFyc2VJbnQodGhpcy5zdHlsZS5tYXhXaWR0aCkgfHwgSW5maW5pdHksXG4gICAgICBtYXhIZWlnaHQgPSBwYXJzZUludCh0aGlzLnN0eWxlLm1heEhlaWdodCkgfHwgSW5maW5pdHk7XG5cbiAgaWYgKCFyZXNpemVIYW5kbGUpIHtcbiAgICByZXNpemVIYW5kbGUgPSB0aGlzLnJlc2l6ZUhhbmRsZSA9IGRvbWlmeShcbiAgICAgICc8ZGl2IGNsYXNzPVwiZGpzLWRpcmVjdC1lZGl0aW5nLXJlc2l6ZS1oYW5kbGVcIj48L2Rpdj4nXG4gICAgKTtcblxuICAgIHZhciBzdGFydFgsIHN0YXJ0WSwgc3RhcnRXaWR0aCwgc3RhcnRIZWlnaHQ7XG5cbiAgICB2YXIgb25Nb3VzZURvd24gPSBmdW5jdGlvbihlKSB7XG4gICAgICBwcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgIHN0b3BQcm9wYWdhdGlvbihlKTtcblxuICAgICAgc3RhcnRYID0gZS5jbGllbnRYO1xuICAgICAgc3RhcnRZID0gZS5jbGllbnRZO1xuXG4gICAgICB2YXIgYm91bmRzID0gcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICBzdGFydFdpZHRoID0gYm91bmRzLndpZHRoO1xuICAgICAgc3RhcnRIZWlnaHQgPSBib3VuZHMuaGVpZ2h0O1xuXG4gICAgICBkb21FdmVudC5iaW5kKGRvY3VtZW50LCAnbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUpO1xuICAgICAgZG9tRXZlbnQuYmluZChkb2N1bWVudCwgJ21vdXNldXAnLCBvbk1vdXNlVXApO1xuICAgIH07XG5cbiAgICB2YXIgb25Nb3VzZU1vdmUgPSBmdW5jdGlvbihlKSB7XG4gICAgICBwcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgIHN0b3BQcm9wYWdhdGlvbihlKTtcblxuICAgICAgdmFyIG5ld1dpZHRoID0gbWluKG1heChzdGFydFdpZHRoICsgZS5jbGllbnRYIC0gc3RhcnRYLCBtaW5XaWR0aCksIG1heFdpZHRoKTtcbiAgICAgIHZhciBuZXdIZWlnaHQgPSBtaW4obWF4KHN0YXJ0SGVpZ2h0ICsgZS5jbGllbnRZIC0gc3RhcnRZLCBtaW5IZWlnaHQpLCBtYXhIZWlnaHQpO1xuXG4gICAgICBwYXJlbnQuc3R5bGUud2lkdGggPSBuZXdXaWR0aCArICdweCc7XG4gICAgICBwYXJlbnQuc3R5bGUuaGVpZ2h0ID0gbmV3SGVpZ2h0ICsgJ3B4JztcblxuICAgICAgc2VsZi5yZXNpemVIYW5kbGVyKHtcbiAgICAgICAgd2lkdGg6IHN0YXJ0V2lkdGgsXG4gICAgICAgIGhlaWdodDogc3RhcnRIZWlnaHQsXG4gICAgICAgIGR4OiBlLmNsaWVudFggLSBzdGFydFgsXG4gICAgICAgIGR5OiBlLmNsaWVudFkgLSBzdGFydFlcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgb25Nb3VzZVVwID0gZnVuY3Rpb24oZSkge1xuICAgICAgcHJldmVudERlZmF1bHQoZSk7XG4gICAgICBzdG9wUHJvcGFnYXRpb24oZSk7XG5cbiAgICAgIGRvbUV2ZW50LnVuYmluZChkb2N1bWVudCwnbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUsIGZhbHNlKTtcbiAgICAgIGRvbUV2ZW50LnVuYmluZChkb2N1bWVudCwgJ21vdXNldXAnLCBvbk1vdXNlVXAsIGZhbHNlKTtcbiAgICB9O1xuXG4gICAgZG9tRXZlbnQuYmluZChyZXNpemVIYW5kbGUsICdtb3VzZWRvd24nLCBvbk1vdXNlRG93bik7XG4gIH1cblxuICBhc3NpZ24ocmVzaXplSGFuZGxlLnN0eWxlLCB7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgYm90dG9tOiAnMHB4JyxcbiAgICByaWdodDogJzBweCcsXG4gICAgY3Vyc29yOiAnbndzZS1yZXNpemUnLFxuICAgIHdpZHRoOiAnMCcsXG4gICAgaGVpZ2h0OiAnMCcsXG4gICAgYm9yZGVyVG9wOiAocGFyc2VJbnQodGhpcy5zdHlsZS5mb250U2l6ZSkgLyA0IHx8IDMpICsgJ3B4IHNvbGlkIHRyYW5zcGFyZW50JyxcbiAgICBib3JkZXJSaWdodDogKHBhcnNlSW50KHRoaXMuc3R5bGUuZm9udFNpemUpIC8gNCB8fCAzKSArICdweCBzb2xpZCAjY2NjJyxcbiAgICBib3JkZXJCb3R0b206IChwYXJzZUludCh0aGlzLnN0eWxlLmZvbnRTaXplKSAvIDQgfHwgMykgKyAncHggc29saWQgI2NjYycsXG4gICAgYm9yZGVyTGVmdDogKHBhcnNlSW50KHRoaXMuc3R5bGUuZm9udFNpemUpIC8gNCB8fCAzKSArICdweCBzb2xpZCB0cmFuc3BhcmVudCdcbiAgfSk7XG5cbiAgcGFyZW50LmFwcGVuZENoaWxkKHJlc2l6ZUhhbmRsZSk7XG59O1xuXG5cbi8qKlxuICogQ2xlYXIgY29udGVudCBhbmQgc3R5bGUgb2YgdGhlIHRleHRib3gsIHVuYmluZCBsaXN0ZW5lcnMgYW5kXG4gKiByZXNldCBDU1Mgc3R5bGUuXG4gKi9cblRleHRCb3gucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50LFxuICAgICAgY29udGVudCA9IHRoaXMuY29udGVudCxcbiAgICAgIHJlc2l6ZUhhbmRsZSA9IHRoaXMucmVzaXplSGFuZGxlO1xuXG4gIC8vIGNsZWFyIGNvbnRlbnRcbiAgY29udGVudC5pbm5lclRleHQgPSAnJztcblxuICAvLyBjbGVhciBzdHlsZXNcbiAgcGFyZW50LnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgY29udGVudC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG5cbiAgZG9tRXZlbnQudW5iaW5kKGNvbnRlbnQsICdrZXlkb3duJywgdGhpcy5rZXlIYW5kbGVyKTtcbiAgZG9tRXZlbnQudW5iaW5kKGNvbnRlbnQsICdtb3VzZWRvd24nLCBzdG9wUHJvcGFnYXRpb24pO1xuICBkb21FdmVudC51bmJpbmQoY29udGVudCwgJ2lucHV0JywgdGhpcy5hdXRvUmVzaXplKTtcbiAgZG9tRXZlbnQudW5iaW5kKGNvbnRlbnQsICdwYXN0ZScsIHRoaXMuaGFuZGxlUGFzdGUpO1xuXG4gIGlmIChyZXNpemVIYW5kbGUpIHtcbiAgICByZXNpemVIYW5kbGUucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuXG4gICAgZG9tUmVtb3ZlKHJlc2l6ZUhhbmRsZSk7XG4gIH1cblxuICBkb21SZW1vdmUocGFyZW50KTtcbn07XG5cblxuVGV4dEJveC5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuY29udGVudC5pbm5lclRleHQudHJpbSgpO1xufTtcblxuXG5UZXh0Qm94LnByb3RvdHlwZS5nZXRTZWxlY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKSxcbiAgICAgIHJhbmdlID0gc2VsZWN0aW9uLmdldFJhbmdlQXQoMCk7XG5cbiAgcmV0dXJuIHJhbmdlO1xufTtcblxuXG5UZXh0Qm94LnByb3RvdHlwZS5zZXRTZWxlY3Rpb24gPSBmdW5jdGlvbihjb250YWluZXIsIG9mZnNldCkge1xuICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuXG4gIGlmIChjb250YWluZXIgPT09IG51bGwpIHtcbiAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHModGhpcy5jb250ZW50KTtcbiAgfSBlbHNlIHtcbiAgICByYW5nZS5zZXRTdGFydChjb250YWluZXIsIG9mZnNldCk7XG4gICAgcmFuZ2Uuc2V0RW5kKGNvbnRhaW5lciwgb2Zmc2V0KTtcbiAgfVxuXG4gIHZhciBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG5cbiAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xufTtcblxuLy8gaGVscGVycyAvLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUVuZE9mTGluZVNlcXVlbmNlcyhzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC9cXHJcXG58XFxyfFxcbi9nLCAnXFxuJyk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js-direct-editing/lib/TextBox.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js-direct-editing/lib/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/diagram-js-direct-editing/lib/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var diagram_js_lib_features_interaction_events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! diagram-js/lib/features/interaction-events */ \"(ssr)/./node_modules/diagram-js/lib/features/interaction-events/index.js\");\n/* harmony import */ var _DirectEditing_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DirectEditing.js */ \"(ssr)/./node_modules/diagram-js-direct-editing/lib/DirectEditing.js\");\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    diagram_js_lib_features_interaction_events__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n  ],\n  __init__: [ 'directEditing' ],\n  directEditing: [ 'type', _DirectEditing_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy1kaXJlY3QtZWRpdGluZy9saWIvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWlGOztBQUVsQzs7QUFFL0MsaUVBQWU7QUFDZjtBQUNBLElBQUksa0ZBQXVCO0FBQzNCO0FBQ0E7QUFDQSwyQkFBMkIseURBQWE7QUFDeEMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzLWRpcmVjdC1lZGl0aW5nL2xpYi9pbmRleC5qcz80NDdhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBJbnRlcmFjdGlvbkV2ZW50c01vZHVsZSBmcm9tICdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9pbnRlcmFjdGlvbi1ldmVudHMnO1xuXG5pbXBvcnQgRGlyZWN0RWRpdGluZyBmcm9tICcuL0RpcmVjdEVkaXRpbmcuanMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgSW50ZXJhY3Rpb25FdmVudHNNb2R1bGVcbiAgXSxcbiAgX19pbml0X186IFsgJ2RpcmVjdEVkaXRpbmcnIF0sXG4gIGRpcmVjdEVkaXRpbmc6IFsgJ3R5cGUnLCBEaXJlY3RFZGl0aW5nIF1cbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js-direct-editing/lib/index.js\n");

/***/ })

};
;