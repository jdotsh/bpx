"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/diagram-js";
exports.ids = ["vendor-chunks/diagram-js"];
exports.modules = {

/***/ "(ssr)/./node_modules/diagram-js/lib/Diagram.js":
/*!************************************************!*\
  !*** ./node_modules/diagram-js/lib/Diagram.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Diagram)\n/* harmony export */ });\n/* harmony import */ var didi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! didi */ \"(ssr)/./node_modules/didi/dist/index.js\");\n/* harmony import */ var _core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core */ \"(ssr)/./node_modules/diagram-js/lib/core/index.js\");\n\n\n\n\n/**\n * @typedef {import('didi').InjectionContext} InjectionContext\n * @typedef {import('didi').LocalsMap} LocalsMap\n * @typedef {import('didi').ModuleDeclaration} ModuleDeclaration\n *\n * @typedef { {\n *   modules?: ModuleDeclaration[];\n * } & Record<string, any> } DiagramOptions\n */\n\n/**\n * @template T\n * @typedef {import('didi').FactoryFunction<T>} FactoryFunction\n */\n\n/**\n * @template T\n * @typedef {import('didi').ArrayFunc<T>} ArrayFunc\n */\n\n/**\n * Bootstrap an injector from a list of modules, instantiating a number of default components\n *\n * @param {ModuleDeclaration[]} modules\n *\n * @return {Injector} a injector to use to access the components\n */\nfunction bootstrap(modules) {\n  var injector = new didi__WEBPACK_IMPORTED_MODULE_0__.Injector(modules);\n\n  injector.init();\n\n  return injector;\n}\n\n/**\n * Creates an injector from passed options.\n *\n * @template ServiceMap\n * @param {DiagramOptions} [options]\n *\n * @return {Injector<ServiceMap>}\n */\nfunction createInjector(options) {\n\n  options = options || {};\n\n  /**\n   * @type { ModuleDeclaration }\n   */\n  var configModule = {\n    'config': [ 'value', options ]\n  };\n\n  var modules = [ configModule, _core__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ].concat(options.modules || []);\n\n  return bootstrap(modules);\n}\n\n\n/**\n * The main diagram-js entry point that bootstraps the diagram with the given\n * configuration.\n *\n * To register extensions with the diagram, pass them as Array<Module> to the constructor.\n *\n * @class\n * @constructor\n * @template [ServiceMap=null]\n *\n * @example Creating a plug-in that logs whenever a shape is added to the canvas.\n *\n * ```javascript\n * // plug-in implementation\n * function MyLoggingPlugin(eventBus) {\n *   eventBus.on('shape.added', function(event) {\n *     console.log('shape ', event.shape, ' was added to the diagram');\n *   });\n * }\n *\n * // export as module\n * export default {\n *   __init__: [ 'myLoggingPlugin' ],\n *     myLoggingPlugin: [ 'type', MyLoggingPlugin ]\n * };\n * ```\n *\n * Use the plug-in in a Diagram instance:\n *\n * ```javascript\n * import MyLoggingModule from 'path-to-my-logging-plugin';\n *\n * var diagram = new Diagram({\n *   modules: [\n *     MyLoggingModule\n *   ]\n * });\n *\n * diagram.invoke([ 'canvas', function(canvas) {\n *   // add shape to drawing canvas\n *   canvas.addShape({ x: 10, y: 10 });\n * });\n *\n * // 'shape ... was added to the diagram' logged to console\n * ```\n *\n * @param {DiagramOptions} [options]\n * @param {Injector<ServiceMap>} [injector] An (optional) injector to bootstrap the diagram with.\n */\nfunction Diagram(options, injector) {\n\n  /**\n   * @type {Injector<ServiceMap>}\n   */\n  this._injector = injector || createInjector(options);\n\n  // init\n\n  /**\n   * An event indicating that all plug-ins are loaded.\n   *\n   * Use this event to fire other events to interested plug-ins\n   *\n   * @memberOf Diagram\n   *\n   * @event diagram.init\n   *\n   * @example\n   *\n   * ```javascript\n   * eventBus.on('diagram.init', function() {\n   *   eventBus.fire('my-custom-event', { foo: 'BAR' });\n   * });\n   * ```\n   *\n   * @type {Object}\n   */\n  this.get('eventBus').fire('diagram.init');\n}\n\n/**\n * @overlord\n *\n * Resolves a diagram service.\n *\n * @template T\n *\n * @param {string} name The name of the service to get.\n *\n * @return {T}\n */\n/**\n * @overlord\n *\n * Resolves a diagram service.\n *\n * @template T\n *\n * @param {string} name The name of the service to get.\n * @param {true} strict If false, resolve missing services to null.\n *\n * @return {T}\n */\n/**\n * @overlord\n *\n * Resolves a diagram service.\n *\n * @template T\n *\n * @param {string} name The name of the service to get.\n * @param {boolean} strict If false, resolve missing services to null.\n *\n * @return {T|null}\n */\n/**\n * Resolves a diagram service.\n *\n * @template {keyof ServiceMap} Name\n *\n * @param {Name} name The name of the service to get.\n *\n * @return {ServiceMap[Name]}\n */\nDiagram.prototype.get = function(name, strict) {\n  return this._injector.get(name, strict);\n};\n\n/**\n * @overlord\n *\n * Invoke the given function, injecting dependencies. Return the result.\n *\n * @template T\n *\n * @param {FactoryFunction<T>} func\n * @param {InjectionContext} [context]\n * @param {LocalsMap} [locals]\n *\n * @return {T}\n */\n/**\n * Invoke the given function, injecting dependencies provided in\n * array notation. Return the result.\n *\n * @template T\n *\n * @param {ArrayFunc<T>} func function to be invoked\n * @param {InjectionContext} [context] context of the invocation\n * @param {LocalsMap} [locals] locals provided\n *\n * @return {T}\n */\nDiagram.prototype.invoke = function(func, context, locals) {\n  return this._injector.invoke(func, context, locals);\n};\n\n/**\n * Destroys the diagram\n */\nDiagram.prototype.destroy = function() {\n  this.get('eventBus').fire('diagram.destroy');\n};\n\n/**\n * Clear the diagram, removing all contents.\n */\nDiagram.prototype.clear = function() {\n  this.get('eventBus').fire('diagram.clear');\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvRGlhZ3JhbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7O0FBRUE7O0FBRWhDO0FBQ0EsYUFBYSxpQ0FBaUM7QUFDOUMsYUFBYSwwQkFBMEI7QUFDdkMsYUFBYSxrQ0FBa0M7QUFDL0M7QUFDQTtBQUNBO0FBQ0EsS0FBSyx3QkFBd0I7QUFDN0I7O0FBRUE7QUFDQTtBQUNBLGFBQWEsbUNBQW1DO0FBQ2hEOztBQUVBO0FBQ0E7QUFDQSxhQUFhLDZCQUE2QjtBQUMxQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHFCQUFxQjtBQUNoQztBQUNBLFlBQVksVUFBVTtBQUN0QjtBQUNBO0FBQ0EscUJBQXFCLDBDQUFROztBQUU3Qjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0I7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnQ0FBZ0MsNkNBQVU7O0FBRTFDO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixjQUFjO0FBQ3JDLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCLFdBQVcsc0JBQXNCO0FBQ2pDO0FBQ2U7O0FBRWY7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxZQUFZO0FBQ3RELE1BQU07QUFDTjtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsTUFBTTtBQUNqQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsa0JBQWtCO0FBQ2hDO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxvQkFBb0I7QUFDL0IsV0FBVyxrQkFBa0I7QUFDN0IsV0FBVyxXQUFXO0FBQ3RCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsa0JBQWtCO0FBQzdCLFdBQVcsV0FBVztBQUN0QjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL0RpYWdyYW0uanM/NGIwNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RvciB9IGZyb20gJ2RpZGknO1xuXG5pbXBvcnQgQ29yZU1vZHVsZSBmcm9tICcuL2NvcmUnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpZGknKS5JbmplY3Rpb25Db250ZXh0fSBJbmplY3Rpb25Db250ZXh0XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCdkaWRpJykuTG9jYWxzTWFwfSBMb2NhbHNNYXBcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpZGknKS5Nb2R1bGVEZWNsYXJhdGlvbn0gTW9kdWxlRGVjbGFyYXRpb25cbiAqXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgbW9kdWxlcz86IE1vZHVsZURlY2xhcmF0aW9uW107XG4gKiB9ICYgUmVjb3JkPHN0cmluZywgYW55PiB9IERpYWdyYW1PcHRpb25zXG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHR5cGVkZWYge2ltcG9ydCgnZGlkaScpLkZhY3RvcnlGdW5jdGlvbjxUPn0gRmFjdG9yeUZ1bmN0aW9uXG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHR5cGVkZWYge2ltcG9ydCgnZGlkaScpLkFycmF5RnVuYzxUPn0gQXJyYXlGdW5jXG4gKi9cblxuLyoqXG4gKiBCb290c3RyYXAgYW4gaW5qZWN0b3IgZnJvbSBhIGxpc3Qgb2YgbW9kdWxlcywgaW5zdGFudGlhdGluZyBhIG51bWJlciBvZiBkZWZhdWx0IGNvbXBvbmVudHNcbiAqXG4gKiBAcGFyYW0ge01vZHVsZURlY2xhcmF0aW9uW119IG1vZHVsZXNcbiAqXG4gKiBAcmV0dXJuIHtJbmplY3Rvcn0gYSBpbmplY3RvciB0byB1c2UgdG8gYWNjZXNzIHRoZSBjb21wb25lbnRzXG4gKi9cbmZ1bmN0aW9uIGJvb3RzdHJhcChtb2R1bGVzKSB7XG4gIHZhciBpbmplY3RvciA9IG5ldyBJbmplY3Rvcihtb2R1bGVzKTtcblxuICBpbmplY3Rvci5pbml0KCk7XG5cbiAgcmV0dXJuIGluamVjdG9yO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gaW5qZWN0b3IgZnJvbSBwYXNzZWQgb3B0aW9ucy5cbiAqXG4gKiBAdGVtcGxhdGUgU2VydmljZU1hcFxuICogQHBhcmFtIHtEaWFncmFtT3B0aW9uc30gW29wdGlvbnNdXG4gKlxuICogQHJldHVybiB7SW5qZWN0b3I8U2VydmljZU1hcD59XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluamVjdG9yKG9wdGlvbnMpIHtcblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAvKipcbiAgICogQHR5cGUgeyBNb2R1bGVEZWNsYXJhdGlvbiB9XG4gICAqL1xuICB2YXIgY29uZmlnTW9kdWxlID0ge1xuICAgICdjb25maWcnOiBbICd2YWx1ZScsIG9wdGlvbnMgXVxuICB9O1xuXG4gIHZhciBtb2R1bGVzID0gWyBjb25maWdNb2R1bGUsIENvcmVNb2R1bGUgXS5jb25jYXQob3B0aW9ucy5tb2R1bGVzIHx8IFtdKTtcblxuICByZXR1cm4gYm9vdHN0cmFwKG1vZHVsZXMpO1xufVxuXG5cbi8qKlxuICogVGhlIG1haW4gZGlhZ3JhbS1qcyBlbnRyeSBwb2ludCB0aGF0IGJvb3RzdHJhcHMgdGhlIGRpYWdyYW0gd2l0aCB0aGUgZ2l2ZW5cbiAqIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogVG8gcmVnaXN0ZXIgZXh0ZW5zaW9ucyB3aXRoIHRoZSBkaWFncmFtLCBwYXNzIHRoZW0gYXMgQXJyYXk8TW9kdWxlPiB0byB0aGUgY29uc3RydWN0b3IuXG4gKlxuICogQGNsYXNzXG4gKiBAY29uc3RydWN0b3JcbiAqIEB0ZW1wbGF0ZSBbU2VydmljZU1hcD1udWxsXVxuICpcbiAqIEBleGFtcGxlIENyZWF0aW5nIGEgcGx1Zy1pbiB0aGF0IGxvZ3Mgd2hlbmV2ZXIgYSBzaGFwZSBpcyBhZGRlZCB0byB0aGUgY2FudmFzLlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIHBsdWctaW4gaW1wbGVtZW50YXRpb25cbiAqIGZ1bmN0aW9uIE15TG9nZ2luZ1BsdWdpbihldmVudEJ1cykge1xuICogICBldmVudEJ1cy5vbignc2hhcGUuYWRkZWQnLCBmdW5jdGlvbihldmVudCkge1xuICogICAgIGNvbnNvbGUubG9nKCdzaGFwZSAnLCBldmVudC5zaGFwZSwgJyB3YXMgYWRkZWQgdG8gdGhlIGRpYWdyYW0nKTtcbiAqICAgfSk7XG4gKiB9XG4gKlxuICogLy8gZXhwb3J0IGFzIG1vZHVsZVxuICogZXhwb3J0IGRlZmF1bHQge1xuICogICBfX2luaXRfXzogWyAnbXlMb2dnaW5nUGx1Z2luJyBdLFxuICogICAgIG15TG9nZ2luZ1BsdWdpbjogWyAndHlwZScsIE15TG9nZ2luZ1BsdWdpbiBdXG4gKiB9O1xuICogYGBgXG4gKlxuICogVXNlIHRoZSBwbHVnLWluIGluIGEgRGlhZ3JhbSBpbnN0YW5jZTpcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBpbXBvcnQgTXlMb2dnaW5nTW9kdWxlIGZyb20gJ3BhdGgtdG8tbXktbG9nZ2luZy1wbHVnaW4nO1xuICpcbiAqIHZhciBkaWFncmFtID0gbmV3IERpYWdyYW0oe1xuICogICBtb2R1bGVzOiBbXG4gKiAgICAgTXlMb2dnaW5nTW9kdWxlXG4gKiAgIF1cbiAqIH0pO1xuICpcbiAqIGRpYWdyYW0uaW52b2tlKFsgJ2NhbnZhcycsIGZ1bmN0aW9uKGNhbnZhcykge1xuICogICAvLyBhZGQgc2hhcGUgdG8gZHJhd2luZyBjYW52YXNcbiAqICAgY2FudmFzLmFkZFNoYXBlKHsgeDogMTAsIHk6IDEwIH0pO1xuICogfSk7XG4gKlxuICogLy8gJ3NoYXBlIC4uLiB3YXMgYWRkZWQgdG8gdGhlIGRpYWdyYW0nIGxvZ2dlZCB0byBjb25zb2xlXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge0RpYWdyYW1PcHRpb25zfSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7SW5qZWN0b3I8U2VydmljZU1hcD59IFtpbmplY3Rvcl0gQW4gKG9wdGlvbmFsKSBpbmplY3RvciB0byBib290c3RyYXAgdGhlIGRpYWdyYW0gd2l0aC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRGlhZ3JhbShvcHRpb25zLCBpbmplY3Rvcikge1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7SW5qZWN0b3I8U2VydmljZU1hcD59XG4gICAqL1xuICB0aGlzLl9pbmplY3RvciA9IGluamVjdG9yIHx8IGNyZWF0ZUluamVjdG9yKG9wdGlvbnMpO1xuXG4gIC8vIGluaXRcblxuICAvKipcbiAgICogQW4gZXZlbnQgaW5kaWNhdGluZyB0aGF0IGFsbCBwbHVnLWlucyBhcmUgbG9hZGVkLlxuICAgKlxuICAgKiBVc2UgdGhpcyBldmVudCB0byBmaXJlIG90aGVyIGV2ZW50cyB0byBpbnRlcmVzdGVkIHBsdWctaW5zXG4gICAqXG4gICAqIEBtZW1iZXJPZiBEaWFncmFtXG4gICAqXG4gICAqIEBldmVudCBkaWFncmFtLmluaXRcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogYGBgamF2YXNjcmlwdFxuICAgKiBldmVudEJ1cy5vbignZGlhZ3JhbS5pbml0JywgZnVuY3Rpb24oKSB7XG4gICAqICAgZXZlbnRCdXMuZmlyZSgnbXktY3VzdG9tLWV2ZW50JywgeyBmb286ICdCQVInIH0pO1xuICAgKiB9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqL1xuICB0aGlzLmdldCgnZXZlbnRCdXMnKS5maXJlKCdkaWFncmFtLmluaXQnKTtcbn1cblxuLyoqXG4gKiBAb3ZlcmxvcmRcbiAqXG4gKiBSZXNvbHZlcyBhIGRpYWdyYW0gc2VydmljZS5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBzZXJ2aWNlIHRvIGdldC5cbiAqXG4gKiBAcmV0dXJuIHtUfVxuICovXG4vKipcbiAqIEBvdmVybG9yZFxuICpcbiAqIFJlc29sdmVzIGEgZGlhZ3JhbSBzZXJ2aWNlLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIHNlcnZpY2UgdG8gZ2V0LlxuICogQHBhcmFtIHt0cnVlfSBzdHJpY3QgSWYgZmFsc2UsIHJlc29sdmUgbWlzc2luZyBzZXJ2aWNlcyB0byBudWxsLlxuICpcbiAqIEByZXR1cm4ge1R9XG4gKi9cbi8qKlxuICogQG92ZXJsb3JkXG4gKlxuICogUmVzb2x2ZXMgYSBkaWFncmFtIHNlcnZpY2UuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgc2VydmljZSB0byBnZXQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHN0cmljdCBJZiBmYWxzZSwgcmVzb2x2ZSBtaXNzaW5nIHNlcnZpY2VzIHRvIG51bGwuXG4gKlxuICogQHJldHVybiB7VHxudWxsfVxuICovXG4vKipcbiAqIFJlc29sdmVzIGEgZGlhZ3JhbSBzZXJ2aWNlLlxuICpcbiAqIEB0ZW1wbGF0ZSB7a2V5b2YgU2VydmljZU1hcH0gTmFtZVxuICpcbiAqIEBwYXJhbSB7TmFtZX0gbmFtZSBUaGUgbmFtZSBvZiB0aGUgc2VydmljZSB0byBnZXQuXG4gKlxuICogQHJldHVybiB7U2VydmljZU1hcFtOYW1lXX1cbiAqL1xuRGlhZ3JhbS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24obmFtZSwgc3RyaWN0KSB7XG4gIHJldHVybiB0aGlzLl9pbmplY3Rvci5nZXQobmFtZSwgc3RyaWN0KTtcbn07XG5cbi8qKlxuICogQG92ZXJsb3JkXG4gKlxuICogSW52b2tlIHRoZSBnaXZlbiBmdW5jdGlvbiwgaW5qZWN0aW5nIGRlcGVuZGVuY2llcy4gUmV0dXJuIHRoZSByZXN1bHQuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqXG4gKiBAcGFyYW0ge0ZhY3RvcnlGdW5jdGlvbjxUPn0gZnVuY1xuICogQHBhcmFtIHtJbmplY3Rpb25Db250ZXh0fSBbY29udGV4dF1cbiAqIEBwYXJhbSB7TG9jYWxzTWFwfSBbbG9jYWxzXVxuICpcbiAqIEByZXR1cm4ge1R9XG4gKi9cbi8qKlxuICogSW52b2tlIHRoZSBnaXZlbiBmdW5jdGlvbiwgaW5qZWN0aW5nIGRlcGVuZGVuY2llcyBwcm92aWRlZCBpblxuICogYXJyYXkgbm90YXRpb24uIFJldHVybiB0aGUgcmVzdWx0LlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKlxuICogQHBhcmFtIHtBcnJheUZ1bmM8VD59IGZ1bmMgZnVuY3Rpb24gdG8gYmUgaW52b2tlZFxuICogQHBhcmFtIHtJbmplY3Rpb25Db250ZXh0fSBbY29udGV4dF0gY29udGV4dCBvZiB0aGUgaW52b2NhdGlvblxuICogQHBhcmFtIHtMb2NhbHNNYXB9IFtsb2NhbHNdIGxvY2FscyBwcm92aWRlZFxuICpcbiAqIEByZXR1cm4ge1R9XG4gKi9cbkRpYWdyYW0ucHJvdG90eXBlLmludm9rZSA9IGZ1bmN0aW9uKGZ1bmMsIGNvbnRleHQsIGxvY2Fscykge1xuICByZXR1cm4gdGhpcy5faW5qZWN0b3IuaW52b2tlKGZ1bmMsIGNvbnRleHQsIGxvY2Fscyk7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBkaWFncmFtXG4gKi9cbkRpYWdyYW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5nZXQoJ2V2ZW50QnVzJykuZmlyZSgnZGlhZ3JhbS5kZXN0cm95Jyk7XG59O1xuXG4vKipcbiAqIENsZWFyIHRoZSBkaWFncmFtLCByZW1vdmluZyBhbGwgY29udGVudHMuXG4gKi9cbkRpYWdyYW0ucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZ2V0KCdldmVudEJ1cycpLmZpcmUoJ2RpYWdyYW0uY2xlYXInKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/Diagram.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/command/CommandInterceptor.js":
/*!*******************************************************************!*\
  !*** ./node_modules/diagram-js/lib/command/CommandInterceptor.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CommandInterceptor)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('../core/Types').ElementLike} ElementLike\n * @typedef {import('../core/EventBus').default} EventBus\n * @typedef {import('./CommandStack').CommandContext} CommandContext\n *\n * @typedef {string|string[]} Events\n * @typedef { (context: CommandContext) => ElementLike[] | void } HandlerFunction\n * @typedef { (context: CommandContext) => void } ComposeHandlerFunction\n */\n\nvar DEFAULT_PRIORITY = 1000;\n\n/**\n * A utility that can be used to plug into the command execution for\n * extension and/or validation.\n *\n * @class\n * @constructor\n *\n * @example\n *\n * ```javascript\n * import CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n *\n * class CommandLogger extends CommandInterceptor {\n *   constructor(eventBus) {\n *     super(eventBus);\n *\n *   this.preExecute('shape.create', (event) => {\n *     console.log('commandStack.shape-create.preExecute', event);\n *   });\n * }\n * ```\n *\n * @param {EventBus} eventBus\n */\nfunction CommandInterceptor(eventBus) {\n\n  /**\n   * @type {EventBus}\n   */\n  this._eventBus = eventBus;\n}\n\nCommandInterceptor.$inject = [ 'eventBus' ];\n\nfunction unwrapEvent(fn, that) {\n  return function(event) {\n    return fn.call(that || null, event.context, event.command, event);\n  };\n}\n\n\n/**\n * Intercept a command during one of the phases.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {string} [hook] phase to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.on = function(events, hook, priority, handlerFn, unwrap, that) {\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(hook) || (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(hook)) {\n    that = unwrap;\n    unwrap = handlerFn;\n    handlerFn = priority;\n    priority = hook;\n    hook = null;\n  }\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(priority)) {\n    that = unwrap;\n    unwrap = handlerFn;\n    handlerFn = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isObject)(unwrap)) {\n    that = unwrap;\n    unwrap = false;\n  }\n\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(handlerFn)) {\n    throw new Error('handlerFn must be a function');\n  }\n\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(events)) {\n    events = [ events ];\n  }\n\n  var eventBus = this._eventBus;\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(events, function(event) {\n\n    // concat commandStack(.event)?(.hook)?\n    var fullEvent = [ 'commandStack', event, hook ].filter(function(e) { return e; }).join('.');\n\n    eventBus.on(fullEvent, priority, unwrap ? unwrapEvent(handlerFn, that) : handlerFn, that);\n  });\n};\n\n/**\n * Add a <canExecute> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.canExecute = createHook('canExecute');\n\n/**\n * Add a <preExecute> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.preExecute = createHook('preExecute');\n\n/**\n * Add a <preExecuted> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.preExecuted = createHook('preExecuted');\n\n/**\n * Add a <execute> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.execute = createHook('execute');\n\n/**\n * Add a <executed> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.executed = createHook('executed');\n\n/**\n * Add a <postExecute> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.postExecute = createHook('postExecute');\n\n/**\n * Add a <postExecuted> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.postExecuted = createHook('postExecuted');\n\n/**\n * Add a <revert> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.revert = createHook('revert');\n\n/**\n * Add a <reverted> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.reverted = createHook('reverted');\n\n/*\n * Add prototype methods for each phase of command execution (e.g. execute,\n * revert).\n *\n * @param {string} hook\n *\n * @return { (\n *   events?: Events,\n *   priority?: number,\n *   handlerFn: ComposeHandlerFunction|HandlerFunction,\n *   unwrap?: boolean\n * ) => any }\n */\nfunction createHook(hook) {\n\n  /**\n   * @this {CommandInterceptor}\n   *\n   * @param {Events} [events]\n   * @param {number} [priority]\n   * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n   * @param {boolean} [unwrap]\n   * @param {any} [that]\n   */\n  const hookFn = function(events, priority, handlerFn, unwrap, that) {\n\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(events) || (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(events)) {\n      that = unwrap;\n      unwrap = handlerFn;\n      handlerFn = priority;\n      priority = events;\n      events = null;\n    }\n\n    this.on(events, hook, priority, handlerFn, unwrap, that);\n  };\n\n  return hookFn;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvY29tbWFuZC9Db21tYW5kSW50ZXJjZXB0b3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFNa0I7O0FBRWxCO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQsYUFBYSxvQ0FBb0M7QUFDakQsYUFBYSx5Q0FBeUM7QUFDdEQ7QUFDQSxhQUFhLGlCQUFpQjtBQUM5QixjQUFjLG9EQUFvRDtBQUNsRSxjQUFjLG9DQUFvQztBQUNsRDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ2U7O0FBRWY7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsd0NBQXdDO0FBQ25ELFdBQVcsU0FBUztBQUNwQixXQUFXLEtBQUs7QUFDaEI7QUFDQTs7QUFFQSxNQUFNLG9EQUFVLFVBQVUsa0RBQVE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU0sb0RBQVU7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNLGtEQUFRO0FBQ2Q7QUFDQTtBQUNBOztBQUVBLE9BQU8sb0RBQVU7QUFDakI7QUFDQTs7QUFFQSxPQUFPLGlEQUFPO0FBQ2Q7QUFDQTs7QUFFQTs7QUFFQSxFQUFFLGlEQUFPOztBQUVUO0FBQ0EseUVBQXlFLFdBQVc7O0FBRXBGO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyx3Q0FBd0M7QUFDbkQsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsS0FBSztBQUNoQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyx3Q0FBd0M7QUFDbkQsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsS0FBSztBQUNoQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyx3Q0FBd0M7QUFDbkQsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsS0FBSztBQUNoQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyx3Q0FBd0M7QUFDbkQsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsS0FBSztBQUNoQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyx3Q0FBd0M7QUFDbkQsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsS0FBSztBQUNoQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyx3Q0FBd0M7QUFDbkQsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsS0FBSztBQUNoQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyx3Q0FBd0M7QUFDbkQsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsS0FBSztBQUNoQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyx3Q0FBd0M7QUFDbkQsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsS0FBSztBQUNoQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyx3Q0FBd0M7QUFDbkQsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsS0FBSztBQUNoQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQixhQUFhLHdDQUF3QztBQUNyRCxhQUFhLFNBQVM7QUFDdEIsYUFBYSxLQUFLO0FBQ2xCO0FBQ0E7O0FBRUEsUUFBUSxvREFBVSxZQUFZLGtEQUFRO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvY29tbWFuZC9Db21tYW5kSW50ZXJjZXB0b3IuanM/ZGExNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBmb3JFYWNoLFxuICBpc0Z1bmN0aW9uLFxuICBpc0FycmF5LFxuICBpc051bWJlcixcbiAgaXNPYmplY3Rcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2NvcmUvVHlwZXMnKS5FbGVtZW50TGlrZX0gRWxlbWVudExpa2VcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi9Db21tYW5kU3RhY2snKS5Db21tYW5kQ29udGV4dH0gQ29tbWFuZENvbnRleHRcbiAqXG4gKiBAdHlwZWRlZiB7c3RyaW5nfHN0cmluZ1tdfSBFdmVudHNcbiAqIEB0eXBlZGVmIHsgKGNvbnRleHQ6IENvbW1hbmRDb250ZXh0KSA9PiBFbGVtZW50TGlrZVtdIHwgdm9pZCB9IEhhbmRsZXJGdW5jdGlvblxuICogQHR5cGVkZWYgeyAoY29udGV4dDogQ29tbWFuZENvbnRleHQpID0+IHZvaWQgfSBDb21wb3NlSGFuZGxlckZ1bmN0aW9uXG4gKi9cblxudmFyIERFRkFVTFRfUFJJT1JJVFkgPSAxMDAwO1xuXG4vKipcbiAqIEEgdXRpbGl0eSB0aGF0IGNhbiBiZSB1c2VkIHRvIHBsdWcgaW50byB0aGUgY29tbWFuZCBleGVjdXRpb24gZm9yXG4gKiBleHRlbnNpb24gYW5kL29yIHZhbGlkYXRpb24uXG4gKlxuICogQGNsYXNzXG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGltcG9ydCBDb21tYW5kSW50ZXJjZXB0b3IgZnJvbSAnZGlhZ3JhbS1qcy9saWIvY29tbWFuZC9Db21tYW5kSW50ZXJjZXB0b3InO1xuICpcbiAqIGNsYXNzIENvbW1hbmRMb2dnZXIgZXh0ZW5kcyBDb21tYW5kSW50ZXJjZXB0b3Ige1xuICogICBjb25zdHJ1Y3RvcihldmVudEJ1cykge1xuICogICAgIHN1cGVyKGV2ZW50QnVzKTtcbiAqXG4gKiAgIHRoaXMucHJlRXhlY3V0ZSgnc2hhcGUuY3JlYXRlJywgKGV2ZW50KSA9PiB7XG4gKiAgICAgY29uc29sZS5sb2coJ2NvbW1hbmRTdGFjay5zaGFwZS1jcmVhdGUucHJlRXhlY3V0ZScsIGV2ZW50KTtcbiAqICAgfSk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb21tYW5kSW50ZXJjZXB0b3IoZXZlbnRCdXMpIHtcblxuICAvKipcbiAgICogQHR5cGUge0V2ZW50QnVzfVxuICAgKi9cbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcbn1cblxuQ29tbWFuZEludGVyY2VwdG9yLiRpbmplY3QgPSBbICdldmVudEJ1cycgXTtcblxuZnVuY3Rpb24gdW53cmFwRXZlbnQoZm4sIHRoYXQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgcmV0dXJuIGZuLmNhbGwodGhhdCB8fCBudWxsLCBldmVudC5jb250ZXh0LCBldmVudC5jb21tYW5kLCBldmVudCk7XG4gIH07XG59XG5cblxuLyoqXG4gKiBJbnRlcmNlcHQgYSBjb21tYW5kIGR1cmluZyBvbmUgb2YgdGhlIHBoYXNlcy5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50c30gW2V2ZW50c10gY29tbWFuZChzKSB0byBpbnRlcmNlcHRcbiAqIEBwYXJhbSB7c3RyaW5nfSBbaG9va10gcGhhc2UgdG8gaW50ZXJjZXB0XG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5XVxuICogQHBhcmFtIHtDb21wb3NlSGFuZGxlckZ1bmN0aW9ufEhhbmRsZXJGdW5jdGlvbn0gaGFuZGxlckZuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt1bndyYXBdIHdoZXRoZXIgdGhlIGV2ZW50IHNob3VsZCBiZSB1bndyYXBwZWRcbiAqIEBwYXJhbSB7YW55fSBbdGhhdF1cbiAqL1xuQ29tbWFuZEludGVyY2VwdG9yLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uKGV2ZW50cywgaG9vaywgcHJpb3JpdHksIGhhbmRsZXJGbiwgdW53cmFwLCB0aGF0KSB7XG5cbiAgaWYgKGlzRnVuY3Rpb24oaG9vaykgfHwgaXNOdW1iZXIoaG9vaykpIHtcbiAgICB0aGF0ID0gdW53cmFwO1xuICAgIHVud3JhcCA9IGhhbmRsZXJGbjtcbiAgICBoYW5kbGVyRm4gPSBwcmlvcml0eTtcbiAgICBwcmlvcml0eSA9IGhvb2s7XG4gICAgaG9vayA9IG51bGw7XG4gIH1cblxuICBpZiAoaXNGdW5jdGlvbihwcmlvcml0eSkpIHtcbiAgICB0aGF0ID0gdW53cmFwO1xuICAgIHVud3JhcCA9IGhhbmRsZXJGbjtcbiAgICBoYW5kbGVyRm4gPSBwcmlvcml0eTtcbiAgICBwcmlvcml0eSA9IERFRkFVTFRfUFJJT1JJVFk7XG4gIH1cblxuICBpZiAoaXNPYmplY3QodW53cmFwKSkge1xuICAgIHRoYXQgPSB1bndyYXA7XG4gICAgdW53cmFwID0gZmFsc2U7XG4gIH1cblxuICBpZiAoIWlzRnVuY3Rpb24oaGFuZGxlckZuKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignaGFuZGxlckZuIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgaWYgKCFpc0FycmF5KGV2ZW50cykpIHtcbiAgICBldmVudHMgPSBbIGV2ZW50cyBdO1xuICB9XG5cbiAgdmFyIGV2ZW50QnVzID0gdGhpcy5fZXZlbnRCdXM7XG5cbiAgZm9yRWFjaChldmVudHMsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAvLyBjb25jYXQgY29tbWFuZFN0YWNrKC5ldmVudCk/KC5ob29rKT9cbiAgICB2YXIgZnVsbEV2ZW50ID0gWyAnY29tbWFuZFN0YWNrJywgZXZlbnQsIGhvb2sgXS5maWx0ZXIoZnVuY3Rpb24oZSkgeyByZXR1cm4gZTsgfSkuam9pbignLicpO1xuXG4gICAgZXZlbnRCdXMub24oZnVsbEV2ZW50LCBwcmlvcml0eSwgdW53cmFwID8gdW53cmFwRXZlbnQoaGFuZGxlckZuLCB0aGF0KSA6IGhhbmRsZXJGbiwgdGhhdCk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBBZGQgYSA8Y2FuRXhlY3V0ZT4gcGhhc2Ugb2YgY29tbWFuZCBpbnRlcmNlcHRvci5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50c30gW2V2ZW50c10gY29tbWFuZChzKSB0byBpbnRlcmNlcHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHldXG4gKiBAcGFyYW0ge0NvbXBvc2VIYW5kbGVyRnVuY3Rpb258SGFuZGxlckZ1bmN0aW9ufSBoYW5kbGVyRm5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Vud3JhcF0gd2hldGhlciB0aGUgZXZlbnQgc2hvdWxkIGJlIHVud3JhcHBlZFxuICogQHBhcmFtIHthbnl9IFt0aGF0XVxuICovXG5Db21tYW5kSW50ZXJjZXB0b3IucHJvdG90eXBlLmNhbkV4ZWN1dGUgPSBjcmVhdGVIb29rKCdjYW5FeGVjdXRlJyk7XG5cbi8qKlxuICogQWRkIGEgPHByZUV4ZWN1dGU+IHBoYXNlIG9mIGNvbW1hbmQgaW50ZXJjZXB0b3IuXG4gKlxuICogQHBhcmFtIHtFdmVudHN9IFtldmVudHNdIGNvbW1hbmQocykgdG8gaW50ZXJjZXB0XG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5XVxuICogQHBhcmFtIHtDb21wb3NlSGFuZGxlckZ1bmN0aW9ufEhhbmRsZXJGdW5jdGlvbn0gaGFuZGxlckZuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt1bndyYXBdIHdoZXRoZXIgdGhlIGV2ZW50IHNob3VsZCBiZSB1bndyYXBwZWRcbiAqIEBwYXJhbSB7YW55fSBbdGhhdF1cbiAqL1xuQ29tbWFuZEludGVyY2VwdG9yLnByb3RvdHlwZS5wcmVFeGVjdXRlID0gY3JlYXRlSG9vaygncHJlRXhlY3V0ZScpO1xuXG4vKipcbiAqIEFkZCBhIDxwcmVFeGVjdXRlZD4gcGhhc2Ugb2YgY29tbWFuZCBpbnRlcmNlcHRvci5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50c30gW2V2ZW50c10gY29tbWFuZChzKSB0byBpbnRlcmNlcHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHldXG4gKiBAcGFyYW0ge0NvbXBvc2VIYW5kbGVyRnVuY3Rpb258SGFuZGxlckZ1bmN0aW9ufSBoYW5kbGVyRm5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Vud3JhcF0gd2hldGhlciB0aGUgZXZlbnQgc2hvdWxkIGJlIHVud3JhcHBlZFxuICogQHBhcmFtIHthbnl9IFt0aGF0XVxuICovXG5Db21tYW5kSW50ZXJjZXB0b3IucHJvdG90eXBlLnByZUV4ZWN1dGVkID0gY3JlYXRlSG9vaygncHJlRXhlY3V0ZWQnKTtcblxuLyoqXG4gKiBBZGQgYSA8ZXhlY3V0ZT4gcGhhc2Ugb2YgY29tbWFuZCBpbnRlcmNlcHRvci5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50c30gW2V2ZW50c10gY29tbWFuZChzKSB0byBpbnRlcmNlcHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHldXG4gKiBAcGFyYW0ge0NvbXBvc2VIYW5kbGVyRnVuY3Rpb258SGFuZGxlckZ1bmN0aW9ufSBoYW5kbGVyRm5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Vud3JhcF0gd2hldGhlciB0aGUgZXZlbnQgc2hvdWxkIGJlIHVud3JhcHBlZFxuICogQHBhcmFtIHthbnl9IFt0aGF0XVxuICovXG5Db21tYW5kSW50ZXJjZXB0b3IucHJvdG90eXBlLmV4ZWN1dGUgPSBjcmVhdGVIb29rKCdleGVjdXRlJyk7XG5cbi8qKlxuICogQWRkIGEgPGV4ZWN1dGVkPiBwaGFzZSBvZiBjb21tYW5kIGludGVyY2VwdG9yLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRzfSBbZXZlbnRzXSBjb21tYW5kKHMpIHRvIGludGVyY2VwdFxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eV1cbiAqIEBwYXJhbSB7Q29tcG9zZUhhbmRsZXJGdW5jdGlvbnxIYW5kbGVyRnVuY3Rpb259IGhhbmRsZXJGblxuICogQHBhcmFtIHtib29sZWFufSBbdW53cmFwXSB3aGV0aGVyIHRoZSBldmVudCBzaG91bGQgYmUgdW53cmFwcGVkXG4gKiBAcGFyYW0ge2FueX0gW3RoYXRdXG4gKi9cbkNvbW1hbmRJbnRlcmNlcHRvci5wcm90b3R5cGUuZXhlY3V0ZWQgPSBjcmVhdGVIb29rKCdleGVjdXRlZCcpO1xuXG4vKipcbiAqIEFkZCBhIDxwb3N0RXhlY3V0ZT4gcGhhc2Ugb2YgY29tbWFuZCBpbnRlcmNlcHRvci5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50c30gW2V2ZW50c10gY29tbWFuZChzKSB0byBpbnRlcmNlcHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHldXG4gKiBAcGFyYW0ge0NvbXBvc2VIYW5kbGVyRnVuY3Rpb258SGFuZGxlckZ1bmN0aW9ufSBoYW5kbGVyRm5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Vud3JhcF0gd2hldGhlciB0aGUgZXZlbnQgc2hvdWxkIGJlIHVud3JhcHBlZFxuICogQHBhcmFtIHthbnl9IFt0aGF0XVxuICovXG5Db21tYW5kSW50ZXJjZXB0b3IucHJvdG90eXBlLnBvc3RFeGVjdXRlID0gY3JlYXRlSG9vaygncG9zdEV4ZWN1dGUnKTtcblxuLyoqXG4gKiBBZGQgYSA8cG9zdEV4ZWN1dGVkPiBwaGFzZSBvZiBjb21tYW5kIGludGVyY2VwdG9yLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRzfSBbZXZlbnRzXSBjb21tYW5kKHMpIHRvIGludGVyY2VwdFxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eV1cbiAqIEBwYXJhbSB7Q29tcG9zZUhhbmRsZXJGdW5jdGlvbnxIYW5kbGVyRnVuY3Rpb259IGhhbmRsZXJGblxuICogQHBhcmFtIHtib29sZWFufSBbdW53cmFwXSB3aGV0aGVyIHRoZSBldmVudCBzaG91bGQgYmUgdW53cmFwcGVkXG4gKiBAcGFyYW0ge2FueX0gW3RoYXRdXG4gKi9cbkNvbW1hbmRJbnRlcmNlcHRvci5wcm90b3R5cGUucG9zdEV4ZWN1dGVkID0gY3JlYXRlSG9vaygncG9zdEV4ZWN1dGVkJyk7XG5cbi8qKlxuICogQWRkIGEgPHJldmVydD4gcGhhc2Ugb2YgY29tbWFuZCBpbnRlcmNlcHRvci5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50c30gW2V2ZW50c10gY29tbWFuZChzKSB0byBpbnRlcmNlcHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHldXG4gKiBAcGFyYW0ge0NvbXBvc2VIYW5kbGVyRnVuY3Rpb258SGFuZGxlckZ1bmN0aW9ufSBoYW5kbGVyRm5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Vud3JhcF0gd2hldGhlciB0aGUgZXZlbnQgc2hvdWxkIGJlIHVud3JhcHBlZFxuICogQHBhcmFtIHthbnl9IFt0aGF0XVxuICovXG5Db21tYW5kSW50ZXJjZXB0b3IucHJvdG90eXBlLnJldmVydCA9IGNyZWF0ZUhvb2soJ3JldmVydCcpO1xuXG4vKipcbiAqIEFkZCBhIDxyZXZlcnRlZD4gcGhhc2Ugb2YgY29tbWFuZCBpbnRlcmNlcHRvci5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50c30gW2V2ZW50c10gY29tbWFuZChzKSB0byBpbnRlcmNlcHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHldXG4gKiBAcGFyYW0ge0NvbXBvc2VIYW5kbGVyRnVuY3Rpb258SGFuZGxlckZ1bmN0aW9ufSBoYW5kbGVyRm5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Vud3JhcF0gd2hldGhlciB0aGUgZXZlbnQgc2hvdWxkIGJlIHVud3JhcHBlZFxuICogQHBhcmFtIHthbnl9IFt0aGF0XVxuICovXG5Db21tYW5kSW50ZXJjZXB0b3IucHJvdG90eXBlLnJldmVydGVkID0gY3JlYXRlSG9vaygncmV2ZXJ0ZWQnKTtcblxuLypcbiAqIEFkZCBwcm90b3R5cGUgbWV0aG9kcyBmb3IgZWFjaCBwaGFzZSBvZiBjb21tYW5kIGV4ZWN1dGlvbiAoZS5nLiBleGVjdXRlLFxuICogcmV2ZXJ0KS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaG9va1xuICpcbiAqIEByZXR1cm4geyAoXG4gKiAgIGV2ZW50cz86IEV2ZW50cyxcbiAqICAgcHJpb3JpdHk/OiBudW1iZXIsXG4gKiAgIGhhbmRsZXJGbjogQ29tcG9zZUhhbmRsZXJGdW5jdGlvbnxIYW5kbGVyRnVuY3Rpb24sXG4gKiAgIHVud3JhcD86IGJvb2xlYW5cbiAqICkgPT4gYW55IH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlSG9vayhob29rKSB7XG5cbiAgLyoqXG4gICAqIEB0aGlzIHtDb21tYW5kSW50ZXJjZXB0b3J9XG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRzfSBbZXZlbnRzXVxuICAgKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5XVxuICAgKiBAcGFyYW0ge0NvbXBvc2VIYW5kbGVyRnVuY3Rpb258SGFuZGxlckZ1bmN0aW9ufSBoYW5kbGVyRm5cbiAgICogQHBhcmFtIHtib29sZWFufSBbdW53cmFwXVxuICAgKiBAcGFyYW0ge2FueX0gW3RoYXRdXG4gICAqL1xuICBjb25zdCBob29rRm4gPSBmdW5jdGlvbihldmVudHMsIHByaW9yaXR5LCBoYW5kbGVyRm4sIHVud3JhcCwgdGhhdCkge1xuXG4gICAgaWYgKGlzRnVuY3Rpb24oZXZlbnRzKSB8fCBpc051bWJlcihldmVudHMpKSB7XG4gICAgICB0aGF0ID0gdW53cmFwO1xuICAgICAgdW53cmFwID0gaGFuZGxlckZuO1xuICAgICAgaGFuZGxlckZuID0gcHJpb3JpdHk7XG4gICAgICBwcmlvcml0eSA9IGV2ZW50cztcbiAgICAgIGV2ZW50cyA9IG51bGw7XG4gICAgfVxuXG4gICAgdGhpcy5vbihldmVudHMsIGhvb2ssIHByaW9yaXR5LCBoYW5kbGVyRm4sIHVud3JhcCwgdGhhdCk7XG4gIH07XG5cbiAgcmV0dXJuIGhvb2tGbjtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/command/CommandInterceptor.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/command/CommandStack.js":
/*!*************************************************************!*\
  !*** ./node_modules/diagram-js/lib/command/CommandStack.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CommandStack)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../core/Types').ElementLike} ElementLike\n *\n * @typedef {import('../core/EventBus').default} EventBus\n * @typedef {import('./CommandHandler').default} CommandHandler\n *\n * @typedef { any } CommandContext\n * @typedef { {\n *   new (...args: any[]) : CommandHandler\n * } } CommandHandlerConstructor\n * @typedef { {\n *   [key: string]: CommandHandler;\n * } } CommandHandlerMap\n * @typedef { {\n *   command: string;\n *   context: any;\n *   id?: any;\n * } } CommandStackAction\n * @typedef { {\n *   actions: CommandStackAction[];\n *   dirty: ElementLike[];\n *   trigger: 'execute' | 'undo' | 'redo' | 'clear' | null;\n *   atomic?: boolean;\n * } } CurrentExecution\n */\n\n/**\n * A service that offers un- and redoable execution of commands.\n *\n * The command stack is responsible for executing modeling actions\n * in a un- and redoable manner. To do this it delegates the actual\n * command execution to {@link CommandHandler}s.\n *\n * Command handlers provide {@link CommandHandler#execute(ctx)} and\n * {@link CommandHandler#revert(ctx)} methods to un- and redo a command\n * identified by a command context.\n *\n *\n * ## Life-Cycle events\n *\n * In the process the command stack fires a number of life-cycle events\n * that other components to participate in the command execution.\n *\n *    * preExecute\n *    * preExecuted\n *    * execute\n *    * executed\n *    * postExecute\n *    * postExecuted\n *    * revert\n *    * reverted\n *\n * A special event is used for validating, whether a command can be\n * performed prior to its execution.\n *\n *    * canExecute\n *\n * Each of the events is fired as `commandStack.{eventName}` and\n * `commandStack.{commandName}.{eventName}`, respectively. This gives\n * components fine grained control on where to hook into.\n *\n * The event object fired transports `command`, the name of the\n * command and `context`, the command context.\n *\n *\n * ## Creating Command Handlers\n *\n * Command handlers should provide the {@link CommandHandler#execute(ctx)}\n * and {@link CommandHandler#revert(ctx)} methods to implement\n * redoing and undoing of a command.\n *\n * A command handler _must_ ensure undo is performed properly in order\n * not to break the undo chain. It must also return the shapes that\n * got changed during the `execute` and `revert` operations.\n *\n * Command handlers may execute other modeling operations (and thus\n * commands) in their `preExecute(d)` and `postExecute(d)` phases. The command\n * stack will properly group all commands together into a logical unit\n * that may be re- and undone atomically.\n *\n * Command handlers must not execute other commands from within their\n * core implementation (`execute`, `revert`).\n *\n *\n * ## Change Tracking\n *\n * During the execution of the CommandStack it will keep track of all\n * elements that have been touched during the command's execution.\n *\n * At the end of the CommandStack execution it will notify interested\n * components via an 'elements.changed' event with all the dirty\n * elements.\n *\n * The event can be picked up by components that are interested in the fact\n * that elements have been changed. One use case for this is updating\n * their graphical representation after moving / resizing or deletion.\n *\n * @see CommandHandler\n *\n * @param {EventBus} eventBus\n * @param {Injector} injector\n */\nfunction CommandStack(eventBus, injector) {\n\n  /**\n   * A map of all registered command handlers.\n   *\n   * @type {CommandHandlerMap}\n   */\n  this._handlerMap = {};\n\n  /**\n   * A stack containing all re/undoable actions on the diagram\n   *\n   * @type {CommandStackAction[]}\n   */\n  this._stack = [];\n\n  /**\n   * The current index on the stack\n   *\n   * @type {number}\n   */\n  this._stackIdx = -1;\n\n  /**\n   * Current active commandStack execution\n   *\n   * @type {CurrentExecution}\n   */\n  this._currentExecution = {\n    actions: [],\n    dirty: [],\n    trigger: null\n  };\n\n  /**\n   * @type {Injector}\n   */\n  this._injector = injector;\n\n  /**\n   * @type EventBus\n   */\n  this._eventBus = eventBus;\n\n  /**\n   * @type { number }\n   */\n  this._uid = 1;\n\n  eventBus.on([\n    'diagram.destroy',\n    'diagram.clear'\n  ], function() {\n    this.clear(false);\n  }, this);\n}\n\nCommandStack.$inject = [ 'eventBus', 'injector' ];\n\n\n/**\n * Execute a command.\n *\n * @param {string} command The command to execute.\n * @param {CommandContext} context The context with which to execute the command.\n */\nCommandStack.prototype.execute = function(command, context) {\n  if (!command) {\n    throw new Error('command required');\n  }\n\n  this._currentExecution.trigger = 'execute';\n\n  const action = { command: command, context: context };\n\n  this._pushAction(action);\n  this._internalExecute(action);\n  this._popAction();\n};\n\n\n/**\n * Check whether a command can be executed.\n *\n * Implementors may hook into the mechanism on two ways:\n *\n *   * in event listeners:\n *\n *     Users may prevent the execution via an event listener.\n *     It must prevent the default action for `commandStack.(<command>.)canExecute` events.\n *\n *   * in command handlers:\n *\n *     If the method {@link CommandHandler#canExecute} is implemented in a handler\n *     it will be called to figure out whether the execution is allowed.\n *\n * @param {string} command The command to execute.\n * @param {CommandContext} context The context with which to execute the command.\n *\n * @return {boolean} Whether the command can be executed with the given context.\n */\nCommandStack.prototype.canExecute = function(command, context) {\n\n  const action = { command: command, context: context };\n\n  const handler = this._getHandler(command);\n\n  let result = this._fire(command, 'canExecute', action);\n\n  // handler#canExecute will only be called if no listener\n  // decided on a result already\n  if (result === undefined) {\n    if (!handler) {\n      return false;\n    }\n\n    if (handler.canExecute) {\n      result = handler.canExecute(context);\n    }\n  }\n\n  return result;\n};\n\n\n/**\n * Clear the command stack, erasing all undo / redo history.\n *\n * @param {boolean} [emit=true] Whether to fire an event. Defaults to `true`.\n */\nCommandStack.prototype.clear = function(emit) {\n  this._stack.length = 0;\n  this._stackIdx = -1;\n\n  if (emit !== false) {\n    this._fire('changed', { trigger: 'clear' });\n  }\n};\n\n\n/**\n * Undo last command(s)\n */\nCommandStack.prototype.undo = function() {\n  let action = this._getUndoAction(),\n      next;\n\n  if (action) {\n    this._currentExecution.trigger = 'undo';\n\n    this._pushAction(action);\n\n    while (action) {\n      this._internalUndo(action);\n      next = this._getUndoAction();\n\n      if (!next || next.id !== action.id) {\n        break;\n      }\n\n      action = next;\n    }\n\n    this._popAction();\n  }\n};\n\n\n/**\n * Redo last command(s)\n */\nCommandStack.prototype.redo = function() {\n  let action = this._getRedoAction(),\n      next;\n\n  if (action) {\n    this._currentExecution.trigger = 'redo';\n\n    this._pushAction(action);\n\n    while (action) {\n      this._internalExecute(action, true);\n      next = this._getRedoAction();\n\n      if (!next || next.id !== action.id) {\n        break;\n      }\n\n      action = next;\n    }\n\n    this._popAction();\n  }\n};\n\n\n/**\n * Register a handler instance with the command stack.\n *\n * @param {string} command Command to be executed.\n * @param {CommandHandler} handler Handler to execute the command.\n */\nCommandStack.prototype.register = function(command, handler) {\n  this._setHandler(command, handler);\n};\n\n\n/**\n * Register a handler type with the command stack  by instantiating it and\n * injecting its dependencies.\n *\n * @param {string} command Command to be executed.\n * @param {CommandHandlerConstructor} handlerCls Constructor to instantiate a {@link CommandHandler}.\n */\nCommandStack.prototype.registerHandler = function(command, handlerCls) {\n\n  if (!command || !handlerCls) {\n    throw new Error('command and handlerCls must be defined');\n  }\n\n  const handler = this._injector.instantiate(handlerCls);\n  this.register(command, handler);\n};\n\n/**\n * @return {boolean}\n */\nCommandStack.prototype.canUndo = function() {\n  return !!this._getUndoAction();\n};\n\n/**\n * @return {boolean}\n */\nCommandStack.prototype.canRedo = function() {\n  return !!this._getRedoAction();\n};\n\n// stack access  //////////////////////\n\nCommandStack.prototype._getRedoAction = function() {\n  return this._stack[this._stackIdx + 1];\n};\n\n\nCommandStack.prototype._getUndoAction = function() {\n  return this._stack[this._stackIdx];\n};\n\n\n// internal functionality //////////////////////\n\nCommandStack.prototype._internalUndo = function(action) {\n  const command = action.command,\n        context = action.context;\n\n  const handler = this._getHandler(command);\n\n  // guard against illegal nested command stack invocations\n  this._atomicDo(() => {\n    this._fire(command, 'revert', action);\n\n    if (handler.revert) {\n      this._markDirty(handler.revert(context));\n    }\n\n    this._revertedAction(action);\n\n    this._fire(command, 'reverted', action);\n  });\n};\n\n\nCommandStack.prototype._fire = function(command, qualifier, event) {\n  if (arguments.length < 3) {\n    event = qualifier;\n    qualifier = null;\n  }\n\n  const names = qualifier ? [ command + '.' + qualifier, qualifier ] : [ command ];\n  let result;\n\n  event = this._eventBus.createEvent(event);\n\n  for (const name of names) {\n    result = this._eventBus.fire('commandStack.' + name, event);\n\n    if (event.cancelBubble) {\n      break;\n    }\n  }\n\n  return result;\n};\n\nCommandStack.prototype._createId = function() {\n  return this._uid++;\n};\n\nCommandStack.prototype._atomicDo = function(fn) {\n\n  const execution = this._currentExecution;\n\n  execution.atomic = true;\n\n  try {\n    fn();\n  } finally {\n    execution.atomic = false;\n  }\n};\n\nCommandStack.prototype._internalExecute = function(action, redo) {\n  const command = action.command,\n        context = action.context;\n\n  const handler = this._getHandler(command);\n\n  if (!handler) {\n    throw new Error('no command handler registered for <' + command + '>');\n  }\n\n  this._pushAction(action);\n\n  if (!redo) {\n    this._fire(command, 'preExecute', action);\n\n    if (handler.preExecute) {\n      handler.preExecute(context);\n    }\n\n    this._fire(command, 'preExecuted', action);\n  }\n\n  // guard against illegal nested command stack invocations\n  this._atomicDo(() => {\n\n    this._fire(command, 'execute', action);\n\n    if (handler.execute) {\n\n      // actual execute + mark return results as dirty\n      this._markDirty(handler.execute(context));\n    }\n\n    // log to stack\n    this._executedAction(action, redo);\n\n    this._fire(command, 'executed', action);\n  });\n\n  if (!redo) {\n    this._fire(command, 'postExecute', action);\n\n    if (handler.postExecute) {\n      handler.postExecute(context);\n    }\n\n    this._fire(command, 'postExecuted', action);\n  }\n\n  this._popAction();\n};\n\n\nCommandStack.prototype._pushAction = function(action) {\n\n  const execution = this._currentExecution,\n        actions = execution.actions;\n\n  const baseAction = actions[0];\n\n  if (execution.atomic) {\n    throw new Error('illegal invocation in <execute> or <revert> phase (action: ' + action.command + ')');\n  }\n\n  if (!action.id) {\n    action.id = (baseAction && baseAction.id) || this._createId();\n  }\n\n  actions.push(action);\n};\n\n\nCommandStack.prototype._popAction = function() {\n  const execution = this._currentExecution,\n        trigger = execution.trigger,\n        actions = execution.actions,\n        dirty = execution.dirty;\n\n  actions.pop();\n\n  if (!actions.length) {\n    this._eventBus.fire('elements.changed', { elements: (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.uniqueBy)('id', dirty.reverse()) });\n\n    dirty.length = 0;\n\n    this._fire('changed', { trigger: trigger });\n\n    execution.trigger = null;\n  }\n};\n\n\nCommandStack.prototype._markDirty = function(elements) {\n  const execution = this._currentExecution;\n\n  if (!elements) {\n    return;\n  }\n\n  elements = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(elements) ? elements : [ elements ];\n\n  execution.dirty = execution.dirty.concat(elements);\n};\n\n\nCommandStack.prototype._executedAction = function(action, redo) {\n  const stackIdx = ++this._stackIdx;\n\n  if (!redo) {\n    this._stack.splice(stackIdx, this._stack.length, action);\n  }\n};\n\n\nCommandStack.prototype._revertedAction = function(action) {\n  this._stackIdx--;\n};\n\n\nCommandStack.prototype._getHandler = function(command) {\n  return this._handlerMap[command];\n};\n\nCommandStack.prototype._setHandler = function(command, handler) {\n  if (!command || !handler) {\n    throw new Error('command and handler required');\n  }\n\n  if (this._handlerMap[command]) {\n    throw new Error('overriding handler for command <' + command + '>');\n  }\n\n  this._handlerMap[command] = handler;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvY29tbWFuZC9Db21tYW5kU3RhY2suanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFHa0I7O0FBRWxCO0FBQ0EsYUFBYSx5QkFBeUI7QUFDdEM7QUFDQSxhQUFhLHFDQUFxQztBQUNsRDtBQUNBLGFBQWEsb0NBQW9DO0FBQ2pELGFBQWEsb0NBQW9DO0FBQ2pEO0FBQ0EsY0FBYyxNQUFNO0FBQ3BCO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIscUJBQXFCO0FBQzlDO0FBQ0EsNkJBQTZCLG1DQUFtQztBQUNoRSxJQUFJLGtDQUFrQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxVQUFVO0FBQzNELGtCQUFrQixZQUFZLEVBQUUsVUFBVTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDLFFBQVEsa0NBQWtDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFVBQVU7QUFDckI7QUFDZTs7QUFFZjtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxnQkFBZ0I7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxtQkFBbUI7O0FBRW5CO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsaUNBQWlDO0FBQ3ZEO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxnQkFBZ0I7QUFDM0I7QUFDQSxZQUFZLFNBQVM7QUFDckI7QUFDQTs7QUFFQSxtQkFBbUI7O0FBRW5COztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0QkFBNEIsa0JBQWtCO0FBQzlDO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLGdCQUFnQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVywyQkFBMkIseUNBQXlDLHFCQUFxQjtBQUNwRztBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsR0FBRztBQUNIOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLDhDQUE4QyxVQUFVLGtEQUFRLHlCQUF5Qjs7QUFFekY7O0FBRUEsNEJBQTRCLGtCQUFrQjs7QUFFOUM7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxhQUFhLGlEQUFPOztBQUVwQjtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9jb21tYW5kL0NvbW1hbmRTdGFjay5qcz82ZTI5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHVuaXF1ZUJ5LFxuICBpc0FycmF5XG59IGZyb20gJ21pbi1kYXNoJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCdkaWRpJykuSW5qZWN0b3J9IEluamVjdG9yXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vY29yZS9UeXBlcycpLkVsZW1lbnRMaWtlfSBFbGVtZW50TGlrZVxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi9Db21tYW5kSGFuZGxlcicpLmRlZmF1bHR9IENvbW1hbmRIYW5kbGVyXG4gKlxuICogQHR5cGVkZWYgeyBhbnkgfSBDb21tYW5kQ29udGV4dFxuICogQHR5cGVkZWYgeyB7XG4gKiAgIG5ldyAoLi4uYXJnczogYW55W10pIDogQ29tbWFuZEhhbmRsZXJcbiAqIH0gfSBDb21tYW5kSGFuZGxlckNvbnN0cnVjdG9yXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgW2tleTogc3RyaW5nXTogQ29tbWFuZEhhbmRsZXI7XG4gKiB9IH0gQ29tbWFuZEhhbmRsZXJNYXBcbiAqIEB0eXBlZGVmIHsge1xuICogICBjb21tYW5kOiBzdHJpbmc7XG4gKiAgIGNvbnRleHQ6IGFueTtcbiAqICAgaWQ/OiBhbnk7XG4gKiB9IH0gQ29tbWFuZFN0YWNrQWN0aW9uXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgYWN0aW9uczogQ29tbWFuZFN0YWNrQWN0aW9uW107XG4gKiAgIGRpcnR5OiBFbGVtZW50TGlrZVtdO1xuICogICB0cmlnZ2VyOiAnZXhlY3V0ZScgfCAndW5kbycgfCAncmVkbycgfCAnY2xlYXInIHwgbnVsbDtcbiAqICAgYXRvbWljPzogYm9vbGVhbjtcbiAqIH0gfSBDdXJyZW50RXhlY3V0aW9uXG4gKi9cblxuLyoqXG4gKiBBIHNlcnZpY2UgdGhhdCBvZmZlcnMgdW4tIGFuZCByZWRvYWJsZSBleGVjdXRpb24gb2YgY29tbWFuZHMuXG4gKlxuICogVGhlIGNvbW1hbmQgc3RhY2sgaXMgcmVzcG9uc2libGUgZm9yIGV4ZWN1dGluZyBtb2RlbGluZyBhY3Rpb25zXG4gKiBpbiBhIHVuLSBhbmQgcmVkb2FibGUgbWFubmVyLiBUbyBkbyB0aGlzIGl0IGRlbGVnYXRlcyB0aGUgYWN0dWFsXG4gKiBjb21tYW5kIGV4ZWN1dGlvbiB0byB7QGxpbmsgQ29tbWFuZEhhbmRsZXJ9cy5cbiAqXG4gKiBDb21tYW5kIGhhbmRsZXJzIHByb3ZpZGUge0BsaW5rIENvbW1hbmRIYW5kbGVyI2V4ZWN1dGUoY3R4KX0gYW5kXG4gKiB7QGxpbmsgQ29tbWFuZEhhbmRsZXIjcmV2ZXJ0KGN0eCl9IG1ldGhvZHMgdG8gdW4tIGFuZCByZWRvIGEgY29tbWFuZFxuICogaWRlbnRpZmllZCBieSBhIGNvbW1hbmQgY29udGV4dC5cbiAqXG4gKlxuICogIyMgTGlmZS1DeWNsZSBldmVudHNcbiAqXG4gKiBJbiB0aGUgcHJvY2VzcyB0aGUgY29tbWFuZCBzdGFjayBmaXJlcyBhIG51bWJlciBvZiBsaWZlLWN5Y2xlIGV2ZW50c1xuICogdGhhdCBvdGhlciBjb21wb25lbnRzIHRvIHBhcnRpY2lwYXRlIGluIHRoZSBjb21tYW5kIGV4ZWN1dGlvbi5cbiAqXG4gKiAgICAqIHByZUV4ZWN1dGVcbiAqICAgICogcHJlRXhlY3V0ZWRcbiAqICAgICogZXhlY3V0ZVxuICogICAgKiBleGVjdXRlZFxuICogICAgKiBwb3N0RXhlY3V0ZVxuICogICAgKiBwb3N0RXhlY3V0ZWRcbiAqICAgICogcmV2ZXJ0XG4gKiAgICAqIHJldmVydGVkXG4gKlxuICogQSBzcGVjaWFsIGV2ZW50IGlzIHVzZWQgZm9yIHZhbGlkYXRpbmcsIHdoZXRoZXIgYSBjb21tYW5kIGNhbiBiZVxuICogcGVyZm9ybWVkIHByaW9yIHRvIGl0cyBleGVjdXRpb24uXG4gKlxuICogICAgKiBjYW5FeGVjdXRlXG4gKlxuICogRWFjaCBvZiB0aGUgZXZlbnRzIGlzIGZpcmVkIGFzIGBjb21tYW5kU3RhY2sue2V2ZW50TmFtZX1gIGFuZFxuICogYGNvbW1hbmRTdGFjay57Y29tbWFuZE5hbWV9LntldmVudE5hbWV9YCwgcmVzcGVjdGl2ZWx5LiBUaGlzIGdpdmVzXG4gKiBjb21wb25lbnRzIGZpbmUgZ3JhaW5lZCBjb250cm9sIG9uIHdoZXJlIHRvIGhvb2sgaW50by5cbiAqXG4gKiBUaGUgZXZlbnQgb2JqZWN0IGZpcmVkIHRyYW5zcG9ydHMgYGNvbW1hbmRgLCB0aGUgbmFtZSBvZiB0aGVcbiAqIGNvbW1hbmQgYW5kIGBjb250ZXh0YCwgdGhlIGNvbW1hbmQgY29udGV4dC5cbiAqXG4gKlxuICogIyMgQ3JlYXRpbmcgQ29tbWFuZCBIYW5kbGVyc1xuICpcbiAqIENvbW1hbmQgaGFuZGxlcnMgc2hvdWxkIHByb3ZpZGUgdGhlIHtAbGluayBDb21tYW5kSGFuZGxlciNleGVjdXRlKGN0eCl9XG4gKiBhbmQge0BsaW5rIENvbW1hbmRIYW5kbGVyI3JldmVydChjdHgpfSBtZXRob2RzIHRvIGltcGxlbWVudFxuICogcmVkb2luZyBhbmQgdW5kb2luZyBvZiBhIGNvbW1hbmQuXG4gKlxuICogQSBjb21tYW5kIGhhbmRsZXIgX211c3RfIGVuc3VyZSB1bmRvIGlzIHBlcmZvcm1lZCBwcm9wZXJseSBpbiBvcmRlclxuICogbm90IHRvIGJyZWFrIHRoZSB1bmRvIGNoYWluLiBJdCBtdXN0IGFsc28gcmV0dXJuIHRoZSBzaGFwZXMgdGhhdFxuICogZ290IGNoYW5nZWQgZHVyaW5nIHRoZSBgZXhlY3V0ZWAgYW5kIGByZXZlcnRgIG9wZXJhdGlvbnMuXG4gKlxuICogQ29tbWFuZCBoYW5kbGVycyBtYXkgZXhlY3V0ZSBvdGhlciBtb2RlbGluZyBvcGVyYXRpb25zIChhbmQgdGh1c1xuICogY29tbWFuZHMpIGluIHRoZWlyIGBwcmVFeGVjdXRlKGQpYCBhbmQgYHBvc3RFeGVjdXRlKGQpYCBwaGFzZXMuIFRoZSBjb21tYW5kXG4gKiBzdGFjayB3aWxsIHByb3Blcmx5IGdyb3VwIGFsbCBjb21tYW5kcyB0b2dldGhlciBpbnRvIGEgbG9naWNhbCB1bml0XG4gKiB0aGF0IG1heSBiZSByZS0gYW5kIHVuZG9uZSBhdG9taWNhbGx5LlxuICpcbiAqIENvbW1hbmQgaGFuZGxlcnMgbXVzdCBub3QgZXhlY3V0ZSBvdGhlciBjb21tYW5kcyBmcm9tIHdpdGhpbiB0aGVpclxuICogY29yZSBpbXBsZW1lbnRhdGlvbiAoYGV4ZWN1dGVgLCBgcmV2ZXJ0YCkuXG4gKlxuICpcbiAqICMjIENoYW5nZSBUcmFja2luZ1xuICpcbiAqIER1cmluZyB0aGUgZXhlY3V0aW9uIG9mIHRoZSBDb21tYW5kU3RhY2sgaXQgd2lsbCBrZWVwIHRyYWNrIG9mIGFsbFxuICogZWxlbWVudHMgdGhhdCBoYXZlIGJlZW4gdG91Y2hlZCBkdXJpbmcgdGhlIGNvbW1hbmQncyBleGVjdXRpb24uXG4gKlxuICogQXQgdGhlIGVuZCBvZiB0aGUgQ29tbWFuZFN0YWNrIGV4ZWN1dGlvbiBpdCB3aWxsIG5vdGlmeSBpbnRlcmVzdGVkXG4gKiBjb21wb25lbnRzIHZpYSBhbiAnZWxlbWVudHMuY2hhbmdlZCcgZXZlbnQgd2l0aCBhbGwgdGhlIGRpcnR5XG4gKiBlbGVtZW50cy5cbiAqXG4gKiBUaGUgZXZlbnQgY2FuIGJlIHBpY2tlZCB1cCBieSBjb21wb25lbnRzIHRoYXQgYXJlIGludGVyZXN0ZWQgaW4gdGhlIGZhY3RcbiAqIHRoYXQgZWxlbWVudHMgaGF2ZSBiZWVuIGNoYW5nZWQuIE9uZSB1c2UgY2FzZSBmb3IgdGhpcyBpcyB1cGRhdGluZ1xuICogdGhlaXIgZ3JhcGhpY2FsIHJlcHJlc2VudGF0aW9uIGFmdGVyIG1vdmluZyAvIHJlc2l6aW5nIG9yIGRlbGV0aW9uLlxuICpcbiAqIEBzZWUgQ29tbWFuZEhhbmRsZXJcbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtJbmplY3Rvcn0gaW5qZWN0b3JcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29tbWFuZFN0YWNrKGV2ZW50QnVzLCBpbmplY3Rvcikge1xuXG4gIC8qKlxuICAgKiBBIG1hcCBvZiBhbGwgcmVnaXN0ZXJlZCBjb21tYW5kIGhhbmRsZXJzLlxuICAgKlxuICAgKiBAdHlwZSB7Q29tbWFuZEhhbmRsZXJNYXB9XG4gICAqL1xuICB0aGlzLl9oYW5kbGVyTWFwID0ge307XG5cbiAgLyoqXG4gICAqIEEgc3RhY2sgY29udGFpbmluZyBhbGwgcmUvdW5kb2FibGUgYWN0aW9ucyBvbiB0aGUgZGlhZ3JhbVxuICAgKlxuICAgKiBAdHlwZSB7Q29tbWFuZFN0YWNrQWN0aW9uW119XG4gICAqL1xuICB0aGlzLl9zdGFjayA9IFtdO1xuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBpbmRleCBvbiB0aGUgc3RhY2tcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHRoaXMuX3N0YWNrSWR4ID0gLTE7XG5cbiAgLyoqXG4gICAqIEN1cnJlbnQgYWN0aXZlIGNvbW1hbmRTdGFjayBleGVjdXRpb25cbiAgICpcbiAgICogQHR5cGUge0N1cnJlbnRFeGVjdXRpb259XG4gICAqL1xuICB0aGlzLl9jdXJyZW50RXhlY3V0aW9uID0ge1xuICAgIGFjdGlvbnM6IFtdLFxuICAgIGRpcnR5OiBbXSxcbiAgICB0cmlnZ2VyOiBudWxsXG4gIH07XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtJbmplY3Rvcn1cbiAgICovXG4gIHRoaXMuX2luamVjdG9yID0gaW5qZWN0b3I7XG5cbiAgLyoqXG4gICAqIEB0eXBlIEV2ZW50QnVzXG4gICAqL1xuICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7IG51bWJlciB9XG4gICAqL1xuICB0aGlzLl91aWQgPSAxO1xuXG4gIGV2ZW50QnVzLm9uKFtcbiAgICAnZGlhZ3JhbS5kZXN0cm95JyxcbiAgICAnZGlhZ3JhbS5jbGVhcidcbiAgXSwgZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5jbGVhcihmYWxzZSk7XG4gIH0sIHRoaXMpO1xufVxuXG5Db21tYW5kU3RhY2suJGluamVjdCA9IFsgJ2V2ZW50QnVzJywgJ2luamVjdG9yJyBdO1xuXG5cbi8qKlxuICogRXhlY3V0ZSBhIGNvbW1hbmQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbW1hbmQgVGhlIGNvbW1hbmQgdG8gZXhlY3V0ZS5cbiAqIEBwYXJhbSB7Q29tbWFuZENvbnRleHR9IGNvbnRleHQgVGhlIGNvbnRleHQgd2l0aCB3aGljaCB0byBleGVjdXRlIHRoZSBjb21tYW5kLlxuICovXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbihjb21tYW5kLCBjb250ZXh0KSB7XG4gIGlmICghY29tbWFuZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY29tbWFuZCByZXF1aXJlZCcpO1xuICB9XG5cbiAgdGhpcy5fY3VycmVudEV4ZWN1dGlvbi50cmlnZ2VyID0gJ2V4ZWN1dGUnO1xuXG4gIGNvbnN0IGFjdGlvbiA9IHsgY29tbWFuZDogY29tbWFuZCwgY29udGV4dDogY29udGV4dCB9O1xuXG4gIHRoaXMuX3B1c2hBY3Rpb24oYWN0aW9uKTtcbiAgdGhpcy5faW50ZXJuYWxFeGVjdXRlKGFjdGlvbik7XG4gIHRoaXMuX3BvcEFjdGlvbigpO1xufTtcblxuXG4vKipcbiAqIENoZWNrIHdoZXRoZXIgYSBjb21tYW5kIGNhbiBiZSBleGVjdXRlZC5cbiAqXG4gKiBJbXBsZW1lbnRvcnMgbWF5IGhvb2sgaW50byB0aGUgbWVjaGFuaXNtIG9uIHR3byB3YXlzOlxuICpcbiAqICAgKiBpbiBldmVudCBsaXN0ZW5lcnM6XG4gKlxuICogICAgIFVzZXJzIG1heSBwcmV2ZW50IHRoZSBleGVjdXRpb24gdmlhIGFuIGV2ZW50IGxpc3RlbmVyLlxuICogICAgIEl0IG11c3QgcHJldmVudCB0aGUgZGVmYXVsdCBhY3Rpb24gZm9yIGBjb21tYW5kU3RhY2suKDxjb21tYW5kPi4pY2FuRXhlY3V0ZWAgZXZlbnRzLlxuICpcbiAqICAgKiBpbiBjb21tYW5kIGhhbmRsZXJzOlxuICpcbiAqICAgICBJZiB0aGUgbWV0aG9kIHtAbGluayBDb21tYW5kSGFuZGxlciNjYW5FeGVjdXRlfSBpcyBpbXBsZW1lbnRlZCBpbiBhIGhhbmRsZXJcbiAqICAgICBpdCB3aWxsIGJlIGNhbGxlZCB0byBmaWd1cmUgb3V0IHdoZXRoZXIgdGhlIGV4ZWN1dGlvbiBpcyBhbGxvd2VkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb21tYW5kIFRoZSBjb21tYW5kIHRvIGV4ZWN1dGUuXG4gKiBAcGFyYW0ge0NvbW1hbmRDb250ZXh0fSBjb250ZXh0IFRoZSBjb250ZXh0IHdpdGggd2hpY2ggdG8gZXhlY3V0ZSB0aGUgY29tbWFuZC5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBjb21tYW5kIGNhbiBiZSBleGVjdXRlZCB3aXRoIHRoZSBnaXZlbiBjb250ZXh0LlxuICovXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLmNhbkV4ZWN1dGUgPSBmdW5jdGlvbihjb21tYW5kLCBjb250ZXh0KSB7XG5cbiAgY29uc3QgYWN0aW9uID0geyBjb21tYW5kOiBjb21tYW5kLCBjb250ZXh0OiBjb250ZXh0IH07XG5cbiAgY29uc3QgaGFuZGxlciA9IHRoaXMuX2dldEhhbmRsZXIoY29tbWFuZCk7XG5cbiAgbGV0IHJlc3VsdCA9IHRoaXMuX2ZpcmUoY29tbWFuZCwgJ2NhbkV4ZWN1dGUnLCBhY3Rpb24pO1xuXG4gIC8vIGhhbmRsZXIjY2FuRXhlY3V0ZSB3aWxsIG9ubHkgYmUgY2FsbGVkIGlmIG5vIGxpc3RlbmVyXG4gIC8vIGRlY2lkZWQgb24gYSByZXN1bHQgYWxyZWFkeVxuICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoaGFuZGxlci5jYW5FeGVjdXRlKSB7XG4gICAgICByZXN1bHQgPSBoYW5kbGVyLmNhbkV4ZWN1dGUoY29udGV4dCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblxuLyoqXG4gKiBDbGVhciB0aGUgY29tbWFuZCBzdGFjaywgZXJhc2luZyBhbGwgdW5kbyAvIHJlZG8gaGlzdG9yeS5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtlbWl0PXRydWVdIFdoZXRoZXIgdG8gZmlyZSBhbiBldmVudC4gRGVmYXVsdHMgdG8gYHRydWVgLlxuICovXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oZW1pdCkge1xuICB0aGlzLl9zdGFjay5sZW5ndGggPSAwO1xuICB0aGlzLl9zdGFja0lkeCA9IC0xO1xuXG4gIGlmIChlbWl0ICE9PSBmYWxzZSkge1xuICAgIHRoaXMuX2ZpcmUoJ2NoYW5nZWQnLCB7IHRyaWdnZXI6ICdjbGVhcicgfSk7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBVbmRvIGxhc3QgY29tbWFuZChzKVxuICovXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLnVuZG8gPSBmdW5jdGlvbigpIHtcbiAgbGV0IGFjdGlvbiA9IHRoaXMuX2dldFVuZG9BY3Rpb24oKSxcbiAgICAgIG5leHQ7XG5cbiAgaWYgKGFjdGlvbikge1xuICAgIHRoaXMuX2N1cnJlbnRFeGVjdXRpb24udHJpZ2dlciA9ICd1bmRvJztcblxuICAgIHRoaXMuX3B1c2hBY3Rpb24oYWN0aW9uKTtcblxuICAgIHdoaWxlIChhY3Rpb24pIHtcbiAgICAgIHRoaXMuX2ludGVybmFsVW5kbyhhY3Rpb24pO1xuICAgICAgbmV4dCA9IHRoaXMuX2dldFVuZG9BY3Rpb24oKTtcblxuICAgICAgaWYgKCFuZXh0IHx8IG5leHQuaWQgIT09IGFjdGlvbi5pZCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgYWN0aW9uID0gbmV4dDtcbiAgICB9XG5cbiAgICB0aGlzLl9wb3BBY3Rpb24oKTtcbiAgfVxufTtcblxuXG4vKipcbiAqIFJlZG8gbGFzdCBjb21tYW5kKHMpXG4gKi9cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUucmVkbyA9IGZ1bmN0aW9uKCkge1xuICBsZXQgYWN0aW9uID0gdGhpcy5fZ2V0UmVkb0FjdGlvbigpLFxuICAgICAgbmV4dDtcblxuICBpZiAoYWN0aW9uKSB7XG4gICAgdGhpcy5fY3VycmVudEV4ZWN1dGlvbi50cmlnZ2VyID0gJ3JlZG8nO1xuXG4gICAgdGhpcy5fcHVzaEFjdGlvbihhY3Rpb24pO1xuXG4gICAgd2hpbGUgKGFjdGlvbikge1xuICAgICAgdGhpcy5faW50ZXJuYWxFeGVjdXRlKGFjdGlvbiwgdHJ1ZSk7XG4gICAgICBuZXh0ID0gdGhpcy5fZ2V0UmVkb0FjdGlvbigpO1xuXG4gICAgICBpZiAoIW5leHQgfHwgbmV4dC5pZCAhPT0gYWN0aW9uLmlkKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBhY3Rpb24gPSBuZXh0O1xuICAgIH1cblxuICAgIHRoaXMuX3BvcEFjdGlvbigpO1xuICB9XG59O1xuXG5cbi8qKlxuICogUmVnaXN0ZXIgYSBoYW5kbGVyIGluc3RhbmNlIHdpdGggdGhlIGNvbW1hbmQgc3RhY2suXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbW1hbmQgQ29tbWFuZCB0byBiZSBleGVjdXRlZC5cbiAqIEBwYXJhbSB7Q29tbWFuZEhhbmRsZXJ9IGhhbmRsZXIgSGFuZGxlciB0byBleGVjdXRlIHRoZSBjb21tYW5kLlxuICovXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24oY29tbWFuZCwgaGFuZGxlcikge1xuICB0aGlzLl9zZXRIYW5kbGVyKGNvbW1hbmQsIGhhbmRsZXIpO1xufTtcblxuXG4vKipcbiAqIFJlZ2lzdGVyIGEgaGFuZGxlciB0eXBlIHdpdGggdGhlIGNvbW1hbmQgc3RhY2sgIGJ5IGluc3RhbnRpYXRpbmcgaXQgYW5kXG4gKiBpbmplY3RpbmcgaXRzIGRlcGVuZGVuY2llcy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29tbWFuZCBDb21tYW5kIHRvIGJlIGV4ZWN1dGVkLlxuICogQHBhcmFtIHtDb21tYW5kSGFuZGxlckNvbnN0cnVjdG9yfSBoYW5kbGVyQ2xzIENvbnN0cnVjdG9yIHRvIGluc3RhbnRpYXRlIGEge0BsaW5rIENvbW1hbmRIYW5kbGVyfS5cbiAqL1xuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5yZWdpc3RlckhhbmRsZXIgPSBmdW5jdGlvbihjb21tYW5kLCBoYW5kbGVyQ2xzKSB7XG5cbiAgaWYgKCFjb21tYW5kIHx8ICFoYW5kbGVyQ2xzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjb21tYW5kIGFuZCBoYW5kbGVyQ2xzIG11c3QgYmUgZGVmaW5lZCcpO1xuICB9XG5cbiAgY29uc3QgaGFuZGxlciA9IHRoaXMuX2luamVjdG9yLmluc3RhbnRpYXRlKGhhbmRsZXJDbHMpO1xuICB0aGlzLnJlZ2lzdGVyKGNvbW1hbmQsIGhhbmRsZXIpO1xufTtcblxuLyoqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLmNhblVuZG8gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICEhdGhpcy5fZ2V0VW5kb0FjdGlvbigpO1xufTtcblxuLyoqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLmNhblJlZG8gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICEhdGhpcy5fZ2V0UmVkb0FjdGlvbigpO1xufTtcblxuLy8gc3RhY2sgYWNjZXNzICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX2dldFJlZG9BY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX3N0YWNrW3RoaXMuX3N0YWNrSWR4ICsgMV07XG59O1xuXG5cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX2dldFVuZG9BY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX3N0YWNrW3RoaXMuX3N0YWNrSWR4XTtcbn07XG5cblxuLy8gaW50ZXJuYWwgZnVuY3Rpb25hbGl0eSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX2ludGVybmFsVW5kbyA9IGZ1bmN0aW9uKGFjdGlvbikge1xuICBjb25zdCBjb21tYW5kID0gYWN0aW9uLmNvbW1hbmQsXG4gICAgICAgIGNvbnRleHQgPSBhY3Rpb24uY29udGV4dDtcblxuICBjb25zdCBoYW5kbGVyID0gdGhpcy5fZ2V0SGFuZGxlcihjb21tYW5kKTtcblxuICAvLyBndWFyZCBhZ2FpbnN0IGlsbGVnYWwgbmVzdGVkIGNvbW1hbmQgc3RhY2sgaW52b2NhdGlvbnNcbiAgdGhpcy5fYXRvbWljRG8oKCkgPT4ge1xuICAgIHRoaXMuX2ZpcmUoY29tbWFuZCwgJ3JldmVydCcsIGFjdGlvbik7XG5cbiAgICBpZiAoaGFuZGxlci5yZXZlcnQpIHtcbiAgICAgIHRoaXMuX21hcmtEaXJ0eShoYW5kbGVyLnJldmVydChjb250ZXh0KSk7XG4gICAgfVxuXG4gICAgdGhpcy5fcmV2ZXJ0ZWRBY3Rpb24oYWN0aW9uKTtcblxuICAgIHRoaXMuX2ZpcmUoY29tbWFuZCwgJ3JldmVydGVkJywgYWN0aW9uKTtcbiAgfSk7XG59O1xuXG5cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX2ZpcmUgPSBmdW5jdGlvbihjb21tYW5kLCBxdWFsaWZpZXIsIGV2ZW50KSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMykge1xuICAgIGV2ZW50ID0gcXVhbGlmaWVyO1xuICAgIHF1YWxpZmllciA9IG51bGw7XG4gIH1cblxuICBjb25zdCBuYW1lcyA9IHF1YWxpZmllciA/IFsgY29tbWFuZCArICcuJyArIHF1YWxpZmllciwgcXVhbGlmaWVyIF0gOiBbIGNvbW1hbmQgXTtcbiAgbGV0IHJlc3VsdDtcblxuICBldmVudCA9IHRoaXMuX2V2ZW50QnVzLmNyZWF0ZUV2ZW50KGV2ZW50KTtcblxuICBmb3IgKGNvbnN0IG5hbWUgb2YgbmFtZXMpIHtcbiAgICByZXN1bHQgPSB0aGlzLl9ldmVudEJ1cy5maXJlKCdjb21tYW5kU3RhY2suJyArIG5hbWUsIGV2ZW50KTtcblxuICAgIGlmIChldmVudC5jYW5jZWxCdWJibGUpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLl9jcmVhdGVJZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fdWlkKys7XG59O1xuXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLl9hdG9taWNEbyA9IGZ1bmN0aW9uKGZuKSB7XG5cbiAgY29uc3QgZXhlY3V0aW9uID0gdGhpcy5fY3VycmVudEV4ZWN1dGlvbjtcblxuICBleGVjdXRpb24uYXRvbWljID0gdHJ1ZTtcblxuICB0cnkge1xuICAgIGZuKCk7XG4gIH0gZmluYWxseSB7XG4gICAgZXhlY3V0aW9uLmF0b21pYyA9IGZhbHNlO1xuICB9XG59O1xuXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLl9pbnRlcm5hbEV4ZWN1dGUgPSBmdW5jdGlvbihhY3Rpb24sIHJlZG8pIHtcbiAgY29uc3QgY29tbWFuZCA9IGFjdGlvbi5jb21tYW5kLFxuICAgICAgICBjb250ZXh0ID0gYWN0aW9uLmNvbnRleHQ7XG5cbiAgY29uc3QgaGFuZGxlciA9IHRoaXMuX2dldEhhbmRsZXIoY29tbWFuZCk7XG5cbiAgaWYgKCFoYW5kbGVyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdubyBjb21tYW5kIGhhbmRsZXIgcmVnaXN0ZXJlZCBmb3IgPCcgKyBjb21tYW5kICsgJz4nKTtcbiAgfVxuXG4gIHRoaXMuX3B1c2hBY3Rpb24oYWN0aW9uKTtcblxuICBpZiAoIXJlZG8pIHtcbiAgICB0aGlzLl9maXJlKGNvbW1hbmQsICdwcmVFeGVjdXRlJywgYWN0aW9uKTtcblxuICAgIGlmIChoYW5kbGVyLnByZUV4ZWN1dGUpIHtcbiAgICAgIGhhbmRsZXIucHJlRXhlY3V0ZShjb250ZXh0KTtcbiAgICB9XG5cbiAgICB0aGlzLl9maXJlKGNvbW1hbmQsICdwcmVFeGVjdXRlZCcsIGFjdGlvbik7XG4gIH1cblxuICAvLyBndWFyZCBhZ2FpbnN0IGlsbGVnYWwgbmVzdGVkIGNvbW1hbmQgc3RhY2sgaW52b2NhdGlvbnNcbiAgdGhpcy5fYXRvbWljRG8oKCkgPT4ge1xuXG4gICAgdGhpcy5fZmlyZShjb21tYW5kLCAnZXhlY3V0ZScsIGFjdGlvbik7XG5cbiAgICBpZiAoaGFuZGxlci5leGVjdXRlKSB7XG5cbiAgICAgIC8vIGFjdHVhbCBleGVjdXRlICsgbWFyayByZXR1cm4gcmVzdWx0cyBhcyBkaXJ0eVxuICAgICAgdGhpcy5fbWFya0RpcnR5KGhhbmRsZXIuZXhlY3V0ZShjb250ZXh0KSk7XG4gICAgfVxuXG4gICAgLy8gbG9nIHRvIHN0YWNrXG4gICAgdGhpcy5fZXhlY3V0ZWRBY3Rpb24oYWN0aW9uLCByZWRvKTtcblxuICAgIHRoaXMuX2ZpcmUoY29tbWFuZCwgJ2V4ZWN1dGVkJywgYWN0aW9uKTtcbiAgfSk7XG5cbiAgaWYgKCFyZWRvKSB7XG4gICAgdGhpcy5fZmlyZShjb21tYW5kLCAncG9zdEV4ZWN1dGUnLCBhY3Rpb24pO1xuXG4gICAgaWYgKGhhbmRsZXIucG9zdEV4ZWN1dGUpIHtcbiAgICAgIGhhbmRsZXIucG9zdEV4ZWN1dGUoY29udGV4dCk7XG4gICAgfVxuXG4gICAgdGhpcy5fZmlyZShjb21tYW5kLCAncG9zdEV4ZWN1dGVkJywgYWN0aW9uKTtcbiAgfVxuXG4gIHRoaXMuX3BvcEFjdGlvbigpO1xufTtcblxuXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLl9wdXNoQWN0aW9uID0gZnVuY3Rpb24oYWN0aW9uKSB7XG5cbiAgY29uc3QgZXhlY3V0aW9uID0gdGhpcy5fY3VycmVudEV4ZWN1dGlvbixcbiAgICAgICAgYWN0aW9ucyA9IGV4ZWN1dGlvbi5hY3Rpb25zO1xuXG4gIGNvbnN0IGJhc2VBY3Rpb24gPSBhY3Rpb25zWzBdO1xuXG4gIGlmIChleGVjdXRpb24uYXRvbWljKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbGxlZ2FsIGludm9jYXRpb24gaW4gPGV4ZWN1dGU+IG9yIDxyZXZlcnQ+IHBoYXNlIChhY3Rpb246ICcgKyBhY3Rpb24uY29tbWFuZCArICcpJyk7XG4gIH1cblxuICBpZiAoIWFjdGlvbi5pZCkge1xuICAgIGFjdGlvbi5pZCA9IChiYXNlQWN0aW9uICYmIGJhc2VBY3Rpb24uaWQpIHx8IHRoaXMuX2NyZWF0ZUlkKCk7XG4gIH1cblxuICBhY3Rpb25zLnB1c2goYWN0aW9uKTtcbn07XG5cblxuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5fcG9wQWN0aW9uID0gZnVuY3Rpb24oKSB7XG4gIGNvbnN0IGV4ZWN1dGlvbiA9IHRoaXMuX2N1cnJlbnRFeGVjdXRpb24sXG4gICAgICAgIHRyaWdnZXIgPSBleGVjdXRpb24udHJpZ2dlcixcbiAgICAgICAgYWN0aW9ucyA9IGV4ZWN1dGlvbi5hY3Rpb25zLFxuICAgICAgICBkaXJ0eSA9IGV4ZWN1dGlvbi5kaXJ0eTtcblxuICBhY3Rpb25zLnBvcCgpO1xuXG4gIGlmICghYWN0aW9ucy5sZW5ndGgpIHtcbiAgICB0aGlzLl9ldmVudEJ1cy5maXJlKCdlbGVtZW50cy5jaGFuZ2VkJywgeyBlbGVtZW50czogdW5pcXVlQnkoJ2lkJywgZGlydHkucmV2ZXJzZSgpKSB9KTtcblxuICAgIGRpcnR5Lmxlbmd0aCA9IDA7XG5cbiAgICB0aGlzLl9maXJlKCdjaGFuZ2VkJywgeyB0cmlnZ2VyOiB0cmlnZ2VyIH0pO1xuXG4gICAgZXhlY3V0aW9uLnRyaWdnZXIgPSBudWxsO1xuICB9XG59O1xuXG5cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX21hcmtEaXJ0eSA9IGZ1bmN0aW9uKGVsZW1lbnRzKSB7XG4gIGNvbnN0IGV4ZWN1dGlvbiA9IHRoaXMuX2N1cnJlbnRFeGVjdXRpb247XG5cbiAgaWYgKCFlbGVtZW50cykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGVsZW1lbnRzID0gaXNBcnJheShlbGVtZW50cykgPyBlbGVtZW50cyA6IFsgZWxlbWVudHMgXTtcblxuICBleGVjdXRpb24uZGlydHkgPSBleGVjdXRpb24uZGlydHkuY29uY2F0KGVsZW1lbnRzKTtcbn07XG5cblxuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5fZXhlY3V0ZWRBY3Rpb24gPSBmdW5jdGlvbihhY3Rpb24sIHJlZG8pIHtcbiAgY29uc3Qgc3RhY2tJZHggPSArK3RoaXMuX3N0YWNrSWR4O1xuXG4gIGlmICghcmVkbykge1xuICAgIHRoaXMuX3N0YWNrLnNwbGljZShzdGFja0lkeCwgdGhpcy5fc3RhY2subGVuZ3RoLCBhY3Rpb24pO1xuICB9XG59O1xuXG5cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX3JldmVydGVkQWN0aW9uID0gZnVuY3Rpb24oYWN0aW9uKSB7XG4gIHRoaXMuX3N0YWNrSWR4LS07XG59O1xuXG5cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX2dldEhhbmRsZXIgPSBmdW5jdGlvbihjb21tYW5kKSB7XG4gIHJldHVybiB0aGlzLl9oYW5kbGVyTWFwW2NvbW1hbmRdO1xufTtcblxuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5fc2V0SGFuZGxlciA9IGZ1bmN0aW9uKGNvbW1hbmQsIGhhbmRsZXIpIHtcbiAgaWYgKCFjb21tYW5kIHx8ICFoYW5kbGVyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjb21tYW5kIGFuZCBoYW5kbGVyIHJlcXVpcmVkJyk7XG4gIH1cblxuICBpZiAodGhpcy5faGFuZGxlck1hcFtjb21tYW5kXSkge1xuICAgIHRocm93IG5ldyBFcnJvcignb3ZlcnJpZGluZyBoYW5kbGVyIGZvciBjb21tYW5kIDwnICsgY29tbWFuZCArICc+Jyk7XG4gIH1cblxuICB0aGlzLl9oYW5kbGVyTWFwW2NvbW1hbmRdID0gaGFuZGxlcjtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/command/CommandStack.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/command/index.js":
/*!******************************************************!*\
  !*** ./node_modules/diagram-js/lib/command/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _CommandStack__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CommandStack */ \"(ssr)/./node_modules/diagram-js/lib/command/CommandStack.js\");\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  commandStack: [ 'type', _CommandStack__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvY29tbWFuZC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEwQzs7QUFFMUM7QUFDQSxXQUFXO0FBQ1g7QUFDQSxpRUFBZTtBQUNmLDBCQUEwQixxREFBWTtBQUN0QyxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvY29tbWFuZC9pbmRleC5qcz9jZThjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb21tYW5kU3RhY2sgZnJvbSAnLi9Db21tYW5kU3RhY2snO1xuXG4vKipcbiAqIEB0eXBlIHsgaW1wb3J0KCdkaWRpJykuTW9kdWxlRGVjbGFyYXRpb24gfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNvbW1hbmRTdGFjazogWyAndHlwZScsIENvbW1hbmRTdGFjayBdXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/command/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/core/Canvas.js":
/*!****************************************************!*\
  !*** ./node_modules/diagram-js/lib/core/Canvas.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Canvas)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dom */ \"(ssr)/./node_modules/min-dom/dist/index.esm.js\");\n/* harmony import */ var _util_Collections__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/Collections */ \"(ssr)/./node_modules/diagram-js/lib/util/Collections.js\");\n/* harmony import */ var _util_Elements__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Elements */ \"(ssr)/./node_modules/diagram-js/lib/util/Elements.js\");\n/* harmony import */ var _layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../layout/LayoutUtil */ \"(ssr)/./node_modules/diagram-js/lib/layout/LayoutUtil.js\");\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/./node_modules/tiny-svg/dist/index.esm.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('./Types').ConnectionLike} ConnectionLike\n * @typedef {import('./Types').RootLike} RootLike\n * @typedef {import('./Types').ParentLike } ParentLike\n * @typedef {import('./Types').ShapeLike} ShapeLike\n *\n * @typedef { {\n *   container?: HTMLElement;\n *   deferUpdate?: boolean;\n *   width?: number;\n *   height?: number;\n *   autoFocus?: boolean;\n * } } CanvasConfig\n * @typedef { {\n *   group: SVGElement;\n *   index: number;\n *   visible: boolean;\n * } } CanvasLayer\n * @typedef { {\n *   [key: string]: CanvasLayer;\n * } } CanvasLayers\n * @typedef { {\n *   rootElement: ShapeLike;\n *   layer: CanvasLayer;\n * } } CanvasPlane\n * @typedef { {\n *   scale: number;\n *   inner: Rect;\n *   outer: Dimensions;\n * } & Rect } CanvasViewbox\n *\n * @typedef {import('./ElementRegistry').default} ElementRegistry\n * @typedef {import('./EventBus').default} EventBus\n * @typedef {import('./GraphicsFactory').default} GraphicsFactory\n *\n * @typedef {import('../util/Types').Dimensions} Dimensions\n * @typedef {import('../util/Types').Point} Point\n * @typedef {import('../util/Types').Rect} Rect\n * @typedef {import('../util/Types').RectTRBL} RectTRBL\n * @typedef {import('../util/Types').ScrollDelta} ScrollDelta\n */\n\nfunction round(number, resolution) {\n  return Math.round(number * resolution) / resolution;\n}\n\nfunction ensurePx(number) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(number) ? number + 'px' : number;\n}\n\nfunction findRoot(element) {\n  while (element.parent) {\n    element = element.parent;\n  }\n\n  return element;\n}\n\n/**\n * Creates a HTML container element for a SVG element with\n * the given configuration\n *\n * @param {CanvasConfig} options\n *\n * @return {HTMLElement} the container element\n */\nfunction createContainer(options) {\n\n  options = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({}, { width: '100%', height: '100%' }, options);\n\n  const container = options.container || document.body;\n\n  // create a <div> around the svg element with the respective size\n  // this way we can always get the correct container size\n  // (this is impossible for <svg> elements at the moment)\n  const parent = document.createElement('div');\n  parent.setAttribute('class', 'djs-container djs-parent');\n\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.assignStyle)(parent, {\n    position: 'relative',\n    overflow: 'hidden',\n    width: ensurePx(options.width),\n    height: ensurePx(options.height)\n  });\n\n  container.appendChild(parent);\n\n  return parent;\n}\n\nfunction createGroup(parent, cls, childIndex) {\n  const group = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.create)('g');\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.classes)(group).add(cls);\n\n  const index = childIndex !== undefined ? childIndex : parent.childNodes.length - 1;\n\n  // must ensure second argument is node or _null_\n  // cf. https://developer.mozilla.org/en-US/docs/Web/API/Node/insertBefore\n  parent.insertBefore(group, parent.childNodes[index] || null);\n\n  return group;\n}\n\nconst BASE_LAYER = 'base';\n\n// render plane contents behind utility layers\nconst PLANE_LAYER_INDEX = 0;\nconst UTILITY_LAYER_INDEX = 1;\n\n\nconst REQUIRED_MODEL_ATTRS = {\n  shape: [ 'x', 'y', 'width', 'height' ],\n  connection: [ 'waypoints' ]\n};\n\n/**\n * The main drawing canvas.\n *\n * @class\n * @constructor\n *\n * @emits Canvas#canvas.init\n *\n * @param {CanvasConfig|null} config\n * @param {EventBus} eventBus\n * @param {GraphicsFactory} graphicsFactory\n * @param {ElementRegistry} elementRegistry\n */\nfunction Canvas(config, eventBus, graphicsFactory, elementRegistry) {\n  this._eventBus = eventBus;\n  this._elementRegistry = elementRegistry;\n  this._graphicsFactory = graphicsFactory;\n\n  /**\n   * @type {number}\n   */\n  this._rootsIdx = 0;\n\n  /**\n   * @type {CanvasLayers}\n   */\n  this._layers = {};\n\n  /**\n   * @type {CanvasPlane[]}\n   */\n  this._planes = [];\n\n  /**\n   * @type {RootLike|null}\n   */\n  this._rootElement = null;\n\n  /**\n   * @type {boolean}\n   */\n  this._focused = false;\n\n  this._init(config || {});\n}\n\nCanvas.$inject = [\n  'config.canvas',\n  'eventBus',\n  'graphicsFactory',\n  'elementRegistry'\n];\n\n/**\n * Creates a <svg> element that is wrapped into a <div>.\n * This way we are always able to correctly figure out the size of the svg element\n * by querying the parent node.\n\n * (It is not possible to get the size of a svg element cross browser @ 2014-04-01)\n\n * <div class=\"djs-container\" style=\"width: {desired-width}, height: {desired-height}\">\n *   <svg width=\"100%\" height=\"100%\">\n *    ...\n *   </svg>\n * </div>\n *\n * @param {CanvasConfig} config\n */\nCanvas.prototype._init = function(config) {\n  const eventBus = this._eventBus;\n\n  // html container\n  const container = this._container = createContainer(config);\n\n  const svg = this._svg = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.create)('svg');\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.attr)(svg, {\n    width: '100%',\n    height: '100%'\n  });\n\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.attr)(svg, 'tabindex', 0);\n\n  config.autoFocus && eventBus.on('element.hover', () => {\n    this.restoreFocus();\n  });\n\n  eventBus.on('element.mousedown', 500, (event) => {\n    this.focus();\n  });\n\n  svg.addEventListener('focusin', () => {\n    this._setFocused(true);\n  });\n\n  svg.addEventListener('focusout', () => {\n    this._setFocused(false);\n  });\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.append)(container, svg);\n\n  const viewport = this._viewport = createGroup(svg, 'viewport');\n\n  // debounce canvas.viewbox.changed events when deferUpdate is set\n  // to help with potential performance issues\n  if (config.deferUpdate) {\n    this._viewboxChanged = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.debounce)((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.bind)(this._viewboxChanged, this), 300);\n  }\n\n  eventBus.on('diagram.init', () => {\n\n    /**\n     * An event indicating that the canvas is ready to be drawn on.\n     *\n     * @memberOf Canvas\n     *\n     * @event canvas.init\n     *\n     * @type {Object}\n     * @property {SVGElement} svg the created svg element\n     * @property {SVGElement} viewport the direct parent of diagram elements and shapes\n     */\n    eventBus.fire('canvas.init', {\n      svg: svg,\n      viewport: viewport\n    });\n\n  });\n\n  // reset viewbox on shape changes to\n  // recompute the viewbox\n  eventBus.on([\n    'shape.added',\n    'connection.added',\n    'shape.removed',\n    'connection.removed',\n    'elements.changed',\n    'root.set'\n  ], () => {\n    delete this._cachedViewbox;\n  });\n\n  eventBus.on('diagram.destroy', 500, this._destroy, this);\n  eventBus.on('diagram.clear', 500, this._clear, this);\n};\n\nCanvas.prototype._destroy = function() {\n  this._eventBus.fire('canvas.destroy', {\n    svg: this._svg,\n    viewport: this._viewport\n  });\n\n  const parent = this._container.parentNode;\n\n  if (parent) {\n    parent.removeChild(this._container);\n  }\n\n  delete this._svg;\n  delete this._container;\n  delete this._layers;\n  delete this._planes;\n  delete this._rootElement;\n  delete this._viewport;\n};\n\nCanvas.prototype._setFocused = function(focused) {\n\n  if (focused == this._focused) {\n    return;\n  }\n\n  this._focused = focused;\n\n  this._eventBus.fire('canvas.focus.changed', { focused });\n};\n\nCanvas.prototype._clear = function() {\n\n  const allElements = this._elementRegistry.getAll();\n\n  // remove all elements\n  allElements.forEach(element => {\n    const type = (0,_util_Elements__WEBPACK_IMPORTED_MODULE_3__.getType)(element);\n\n    if (type === 'root') {\n      this.removeRootElement(element);\n    } else {\n      this._removeElement(element, type);\n    }\n  });\n\n  // remove all planes\n  this._planes = [];\n  this._rootElement = null;\n\n  // force recomputation of view box\n  delete this._cachedViewbox;\n};\n\n/**\n * Sets focus on the canvas SVG element.\n */\nCanvas.prototype.focus = function() {\n  this._svg.focus({ preventScroll: true });\n\n  this._setFocused(true);\n};\n\n/**\n* Sets focus on the canvas SVG element if `document.body` is currently focused.\n*/\nCanvas.prototype.restoreFocus = function() {\n  if (document.activeElement === document.body) {\n    this.focus();\n  }\n};\n\n/**\n* Returns true if the canvas is focused.\n*\n* @return {boolean}\n*/\nCanvas.prototype.isFocused = function() {\n  return this._focused;\n};\n\n/**\n * Returns the default layer on which\n * all elements are drawn.\n *\n * @return {SVGElement}  The SVG element of the layer.\n */\nCanvas.prototype.getDefaultLayer = function() {\n  return this.getLayer(BASE_LAYER, PLANE_LAYER_INDEX);\n};\n\n/**\n * Returns a layer that is used to draw elements\n * or annotations on it.\n *\n * Non-existing layers retrieved through this method\n * will be created. During creation, the optional index\n * may be used to create layers below or above existing layers.\n * A layer with a certain index is always created above all\n * existing layers with the same index.\n *\n * @param {string} name The name of the layer.\n * @param {number} [index] The index of the layer.\n *\n * @return {SVGElement} The SVG element of the layer.\n */\nCanvas.prototype.getLayer = function(name, index) {\n\n  if (!name) {\n    throw new Error('must specify a name');\n  }\n\n  let layer = this._layers[name];\n\n  if (!layer) {\n    layer = this._layers[name] = this._createLayer(name, index);\n  }\n\n  // throw an error if layer creation / retrival is\n  // requested on different index\n  if (typeof index !== 'undefined' && layer.index !== index) {\n    throw new Error('layer <' + name + '> already created at index <' + index + '>');\n  }\n\n  return layer.group;\n};\n\n/**\n * For a given index, return the number of layers that have a higher index and\n * are visible.\n *\n * This is used to determine the node a layer should be inserted at.\n *\n * @param {number} index\n *\n * @return {number}\n */\nCanvas.prototype._getChildIndex = function(index) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.reduce)(this._layers, function(childIndex, layer) {\n    if (layer.visible && index >= layer.index) {\n      childIndex++;\n    }\n\n    return childIndex;\n  }, 0);\n};\n\n/**\n * Creates a given layer and returns it.\n *\n * @param {string} name\n * @param {number} [index=0]\n *\n * @return {CanvasLayer}\n */\nCanvas.prototype._createLayer = function(name, index) {\n\n  if (typeof index === 'undefined') {\n    index = UTILITY_LAYER_INDEX;\n  }\n\n  const childIndex = this._getChildIndex(index);\n\n  return {\n    group: createGroup(this._viewport, 'layer-' + name, childIndex),\n    index: index,\n    visible: true\n  };\n};\n\n\n/**\n * Shows a given layer.\n *\n * @param {string} name The name of the layer.\n *\n * @return {SVGElement} The SVG element of the layer.\n */\nCanvas.prototype.showLayer = function(name) {\n\n  if (!name) {\n    throw new Error('must specify a name');\n  }\n\n  const layer = this._layers[name];\n\n  if (!layer) {\n    throw new Error('layer <' + name + '> does not exist');\n  }\n\n  const viewport = this._viewport;\n  const group = layer.group;\n  const index = layer.index;\n\n  if (layer.visible) {\n    return group;\n  }\n\n  const childIndex = this._getChildIndex(index);\n\n  viewport.insertBefore(group, viewport.childNodes[childIndex] || null);\n\n  layer.visible = true;\n\n  return group;\n};\n\n/**\n * Hides a given layer.\n *\n * @param {string} name The name of the layer.\n *\n * @return {SVGElement} The SVG element of the layer.\n */\nCanvas.prototype.hideLayer = function(name) {\n\n  if (!name) {\n    throw new Error('must specify a name');\n  }\n\n  const layer = this._layers[name];\n\n  if (!layer) {\n    throw new Error('layer <' + name + '> does not exist');\n  }\n\n  const group = layer.group;\n\n  if (!layer.visible) {\n    return group;\n  }\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.remove)(group);\n\n  layer.visible = false;\n\n  return group;\n};\n\n\nCanvas.prototype._removeLayer = function(name) {\n\n  const layer = this._layers[name];\n\n  if (layer) {\n    delete this._layers[name];\n\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.remove)(layer.group);\n  }\n};\n\n/**\n * Returns the currently active layer. Can be null.\n *\n * @return {CanvasLayer|null} The active layer of `null`.\n */\nCanvas.prototype.getActiveLayer = function() {\n  const plane = this._findPlaneForRoot(this.getRootElement());\n\n  if (!plane) {\n    return null;\n  }\n\n  return plane.layer;\n};\n\n\n/**\n * Returns the plane which contains the given element.\n *\n * @param {ShapeLike|ConnectionLike|string} element The element or its ID.\n *\n * @return {RootLike|undefined} The root of the element.\n */\nCanvas.prototype.findRoot = function(element) {\n  if (typeof element === 'string') {\n    element = this._elementRegistry.get(element);\n  }\n\n  if (!element) {\n    return;\n  }\n\n  const plane = this._findPlaneForRoot(\n    findRoot(element)\n  ) || {};\n\n  return plane.rootElement;\n};\n\n/**\n * Return a list of all root elements on the diagram.\n *\n * @return {(RootLike)[]} The list of root elements.\n */\nCanvas.prototype.getRootElements = function() {\n  return this._planes.map(function(plane) {\n    return plane.rootElement;\n  });\n};\n\nCanvas.prototype._findPlaneForRoot = function(rootElement) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.find)(this._planes, function(plane) {\n    return plane.rootElement === rootElement;\n  });\n};\n\n\n/**\n * Returns the html element that encloses the\n * drawing canvas.\n *\n * @return {HTMLElement} The HTML element of the container.\n */\nCanvas.prototype.getContainer = function() {\n  return this._container;\n};\n\n\n// markers //////////////////////\n\nCanvas.prototype._updateMarker = function(element, marker, add) {\n  let container;\n\n  if (!element.id) {\n    element = this._elementRegistry.get(element);\n  }\n\n  element.markers = element.markers || new Set();\n\n  // we need to access all\n  container = this._elementRegistry._elements[element.id];\n\n  if (!container) {\n    return;\n  }\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)([ container.gfx, container.secondaryGfx ], function(gfx) {\n    if (gfx) {\n\n      // invoke either addClass or removeClass based on mode\n      if (add) {\n        element.markers.add(marker);\n        (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.classes)(gfx).add(marker);\n      } else {\n        element.markers.delete(marker);\n        (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.classes)(gfx).remove(marker);\n      }\n    }\n  });\n\n  /**\n   * An event indicating that a marker has been updated for an element\n   *\n   * @event element.marker.update\n   * @type {Object}\n   * @property {Element} element the shape\n   * @property {SVGElement} gfx the graphical representation of the shape\n   * @property {string} marker\n   * @property {boolean} add true if the marker was added, false if it got removed\n   */\n  this._eventBus.fire('element.marker.update', { element: element, gfx: container.gfx, marker: marker, add: !!add });\n};\n\n\n/**\n * Adds a marker to an element (basically a css class).\n *\n * Fires the element.marker.update event, making it possible to\n * integrate extension into the marker life-cycle, too.\n *\n * @example\n *\n * ```javascript\n * canvas.addMarker('foo', 'some-marker');\n *\n * const fooGfx = canvas.getGraphics('foo');\n *\n * fooGfx; // <g class=\"... some-marker\"> ... </g>\n * ```\n *\n * @param {ShapeLike|ConnectionLike|string} element The element or its ID.\n * @param {string} marker The marker.\n */\nCanvas.prototype.addMarker = function(element, marker) {\n  this._updateMarker(element, marker, true);\n};\n\n\n/**\n * Remove a marker from an element.\n *\n * Fires the element.marker.update event, making it possible to\n * integrate extension into the marker life-cycle, too.\n *\n * @param {ShapeLike|ConnectionLike|string} element The element or its ID.\n * @param {string} marker The marker.\n */\nCanvas.prototype.removeMarker = function(element, marker) {\n  this._updateMarker(element, marker, false);\n};\n\n/**\n * Check whether an element has a given marker.\n *\n * @param {ShapeLike|ConnectionLike|string} element The element or its ID.\n * @param {string} marker The marker.\n */\nCanvas.prototype.hasMarker = function(element, marker) {\n  if (!element.id) {\n    element = this._elementRegistry.get(element);\n  }\n\n  if (!element.markers) {\n    return false;\n  }\n\n  return element.markers.has(marker);\n};\n\n/**\n * Toggles a marker on an element.\n *\n * Fires the element.marker.update event, making it possible to\n * integrate extension into the marker life-cycle, too.\n *\n * @param {ShapeLike|ConnectionLike|string} element The element or its ID.\n * @param {string} marker The marker.\n */\nCanvas.prototype.toggleMarker = function(element, marker) {\n  if (this.hasMarker(element, marker)) {\n    this.removeMarker(element, marker);\n  } else {\n    this.addMarker(element, marker);\n  }\n};\n\n/**\n * Returns the current root element.\n *\n * Supports two different modes for handling root elements:\n *\n * 1. if no root element has been added before, an implicit root will be added\n * and returned. This is used in applications that don't require explicit\n * root elements.\n *\n * 2. when root elements have been added before calling `getRootElement`,\n * root elements can be null. This is used for applications that want to manage\n * root elements themselves.\n *\n * @return {RootLike} The current root element.\n */\nCanvas.prototype.getRootElement = function() {\n  const rootElement = this._rootElement;\n\n  // can return null if root elements are present but none was set yet\n  if (rootElement || this._planes.length) {\n    return rootElement;\n  }\n\n  return this.setRootElement(this.addRootElement(null));\n};\n\n/**\n * Adds a given root element and returns it.\n *\n * @param {RootLike} [rootElement] The root element to be added.\n *\n * @return {RootLike} The added root element or an implicit root element.\n */\nCanvas.prototype.addRootElement = function(rootElement) {\n  const idx = this._rootsIdx++;\n\n  if (!rootElement) {\n    rootElement = {\n      id: '__implicitroot_' + idx,\n      children: [],\n      isImplicit: true\n    };\n  }\n\n  const layerName = rootElement.layer = 'root-' + idx;\n\n  this._ensureValid('root', rootElement);\n\n  const layer = this.getLayer(layerName, PLANE_LAYER_INDEX);\n\n  this.hideLayer(layerName);\n\n  this._addRoot(rootElement, layer);\n\n  this._planes.push({\n    rootElement: rootElement,\n    layer: layer\n  });\n\n  return rootElement;\n};\n\n/**\n * Removes a given root element and returns it.\n *\n * @param {RootLike|string} rootElement element or element ID\n *\n * @return {RootLike|undefined} removed element\n */\nCanvas.prototype.removeRootElement = function(rootElement) {\n\n  if (typeof rootElement === 'string') {\n    rootElement = this._elementRegistry.get(rootElement);\n  }\n\n  const plane = this._findPlaneForRoot(rootElement);\n\n  if (!plane) {\n    return;\n  }\n\n  // hook up life-cycle events\n  this._removeRoot(rootElement);\n\n  // clean up layer\n  this._removeLayer(rootElement.layer);\n\n  // clean up plane\n  this._planes = this._planes.filter(function(plane) {\n    return plane.rootElement !== rootElement;\n  });\n\n  // clean up active root\n  if (this._rootElement === rootElement) {\n    this._rootElement = null;\n  }\n\n  return rootElement;\n};\n\n\n/**\n * Sets a given element as the new root element for the canvas\n * and returns the new root element.\n *\n * @param {RootLike} rootElement The root element to be set.\n *\n * @return {RootLike} The set root element.\n */\nCanvas.prototype.setRootElement = function(rootElement) {\n\n  if (rootElement === this._rootElement) {\n    return rootElement;\n  }\n\n  let plane;\n\n  if (!rootElement) {\n    throw new Error('rootElement required');\n  }\n\n  plane = this._findPlaneForRoot(rootElement);\n\n  // give set add semantics for backwards compatibility\n  if (!plane) {\n    rootElement = this.addRootElement(rootElement);\n  }\n\n  this._setRoot(rootElement);\n\n  return rootElement;\n};\n\n\nCanvas.prototype._removeRoot = function(element) {\n  const elementRegistry = this._elementRegistry,\n        eventBus = this._eventBus;\n\n  // simulate element remove event sequence\n  eventBus.fire('root.remove', { element: element });\n  eventBus.fire('root.removed', { element: element });\n\n  elementRegistry.remove(element);\n};\n\n\nCanvas.prototype._addRoot = function(element, gfx) {\n  const elementRegistry = this._elementRegistry,\n        eventBus = this._eventBus;\n\n  // resemble element add event sequence\n  eventBus.fire('root.add', { element: element });\n\n  elementRegistry.add(element, gfx);\n\n  eventBus.fire('root.added', { element: element, gfx: gfx });\n};\n\n\nCanvas.prototype._setRoot = function(rootElement, layer) {\n\n  const currentRoot = this._rootElement;\n\n  if (currentRoot) {\n\n    // un-associate previous root element <svg>\n    this._elementRegistry.updateGraphics(currentRoot, null, true);\n\n    // hide previous layer\n    this.hideLayer(currentRoot.layer);\n  }\n\n  if (rootElement) {\n\n    if (!layer) {\n      layer = this._findPlaneForRoot(rootElement).layer;\n    }\n\n    // associate element with <svg>\n    this._elementRegistry.updateGraphics(rootElement, this._svg, true);\n\n    // show root layer\n    this.showLayer(rootElement.layer);\n  }\n\n  this._rootElement = rootElement;\n\n  this._eventBus.fire('root.set', { element: rootElement });\n};\n\nCanvas.prototype._ensureValid = function(type, element) {\n  if (!element.id) {\n    throw new Error('element must have an id');\n  }\n\n  if (this._elementRegistry.get(element.id)) {\n    throw new Error('element <' + element.id + '> already exists');\n  }\n\n  const requiredAttrs = REQUIRED_MODEL_ATTRS[type];\n\n  const valid = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.every)(requiredAttrs, function(attr) {\n    return typeof element[attr] !== 'undefined';\n  });\n\n  if (!valid) {\n    throw new Error(\n      'must supply { ' + requiredAttrs.join(', ') + ' } with ' + type);\n  }\n};\n\nCanvas.prototype._setParent = function(element, parent, parentIndex) {\n  (0,_util_Collections__WEBPACK_IMPORTED_MODULE_4__.add)(parent.children, element, parentIndex);\n  element.parent = parent;\n};\n\n/**\n * Adds an element to the canvas.\n *\n * This wires the parent <-> child relationship between the element and\n * a explicitly specified parent or an implicit root element.\n *\n * During add it emits the events\n *\n *  * <{type}.add> (element, parent)\n *  * <{type}.added> (element, gfx)\n *\n * Extensions may hook into these events to perform their magic.\n *\n * @param {string} type\n * @param {ConnectionLike|ShapeLike} element\n * @param {ShapeLike} [parent]\n * @param {number} [parentIndex]\n *\n * @return {ConnectionLike|ShapeLike} The added element.\n */\nCanvas.prototype._addElement = function(type, element, parent, parentIndex) {\n\n  parent = parent || this.getRootElement();\n\n  const eventBus = this._eventBus,\n        graphicsFactory = this._graphicsFactory;\n\n  this._ensureValid(type, element);\n\n  eventBus.fire(type + '.add', { element: element, parent: parent });\n\n  this._setParent(element, parent, parentIndex);\n\n  // create graphics\n  const gfx = graphicsFactory.create(type, element, parentIndex);\n\n  this._elementRegistry.add(element, gfx);\n\n  // update its visual\n  graphicsFactory.update(type, element, gfx);\n\n  eventBus.fire(type + '.added', { element: element, gfx: gfx });\n\n  return element;\n};\n\n/**\n * Adds a shape to the canvas.\n *\n * @param {ShapeLike} shape The shape to be added\n * @param {ParentLike} [parent] The shape's parent.\n * @param {number} [parentIndex] The index at which to add the shape to the parent's children.\n *\n * @return {ShapeLike} The added shape.\n */\nCanvas.prototype.addShape = function(shape, parent, parentIndex) {\n  return this._addElement('shape', shape, parent, parentIndex);\n};\n\n/**\n * Adds a connection to the canvas.\n *\n * @param {ConnectionLike} connection The connection to be added.\n * @param {ParentLike} [parent] The connection's parent.\n * @param {number} [parentIndex] The index at which to add the connection to the parent's children.\n *\n * @return {ConnectionLike} The added connection.\n */\nCanvas.prototype.addConnection = function(connection, parent, parentIndex) {\n  return this._addElement('connection', connection, parent, parentIndex);\n};\n\n\n/**\n * Internal remove element\n */\nCanvas.prototype._removeElement = function(element, type) {\n\n  const elementRegistry = this._elementRegistry,\n        graphicsFactory = this._graphicsFactory,\n        eventBus = this._eventBus;\n\n  element = elementRegistry.get(element.id || element);\n\n  if (!element) {\n\n    // element was removed already\n    return;\n  }\n\n  eventBus.fire(type + '.remove', { element: element });\n\n  graphicsFactory.remove(element);\n\n  // unset parent <-> child relationship\n  (0,_util_Collections__WEBPACK_IMPORTED_MODULE_4__.remove)(element.parent && element.parent.children, element);\n  element.parent = null;\n\n  eventBus.fire(type + '.removed', { element: element });\n\n  elementRegistry.remove(element);\n\n  return element;\n};\n\n\n/**\n * Removes a shape from the canvas.\n *\n * @fires ShapeRemoveEvent\n * @fires ShapeRemovedEvent\n *\n * @param {ShapeLike|string} shape The shape or its ID.\n *\n * @return {ShapeLike} The removed shape.\n */\nCanvas.prototype.removeShape = function(shape) {\n\n  /**\n   * An event indicating that a shape is about to be removed from the canvas.\n   *\n   * @memberOf Canvas\n   *\n   * @event ShapeRemoveEvent\n   * @type {Object}\n   * @property {ShapeLike} element The shape.\n   * @property {SVGElement} gfx The graphical element.\n   */\n\n  /**\n   * An event indicating that a shape has been removed from the canvas.\n   *\n   * @memberOf Canvas\n   *\n   * @event ShapeRemovedEvent\n   * @type {Object}\n   * @property {ShapeLike} element The shape.\n   * @property {SVGElement} gfx The graphical element.\n   */\n  return this._removeElement(shape, 'shape');\n};\n\n\n/**\n * Removes a connection from the canvas.\n *\n * @fires ConnectionRemoveEvent\n * @fires ConnectionRemovedEvent\n *\n * @param {ConnectionLike|string} connection The connection or its ID.\n *\n * @return {ConnectionLike} The removed connection.\n */\nCanvas.prototype.removeConnection = function(connection) {\n\n  /**\n   * An event indicating that a connection is about to be removed from the canvas.\n   *\n   * @memberOf Canvas\n   *\n   * @event ConnectionRemoveEvent\n   * @type {Object}\n   * @property {ConnectionLike} element The connection.\n   * @property {SVGElement} gfx The graphical element.\n   */\n\n  /**\n   * An event indicating that a connection has been removed from the canvas.\n   *\n   * @memberOf Canvas\n   *\n   * @event ConnectionRemovedEvent\n   * @type {Object}\n   * @property {ConnectionLike} element The connection.\n   * @property {SVGElement} gfx The graphical element.\n   */\n  return this._removeElement(connection, 'connection');\n};\n\n\n/**\n * Returns the graphical element of an element.\n *\n * @param {ShapeLike|ConnectionLike|string} element The element or its ID.\n * @param {boolean} [secondary=false] Whether to return the secondary graphical element.\n *\n * @return {SVGElement} The graphical element.\n */\nCanvas.prototype.getGraphics = function(element, secondary) {\n  return this._elementRegistry.getGraphics(element, secondary);\n};\n\n\n/**\n * Perform a viewbox update via a given change function.\n *\n * @param {Function} changeFn\n */\nCanvas.prototype._changeViewbox = function(changeFn) {\n\n  // notify others of the upcoming viewbox change\n  this._eventBus.fire('canvas.viewbox.changing');\n\n  // perform actual change\n  changeFn.apply(this);\n\n  // reset the cached viewbox so that\n  // a new get operation on viewbox or zoom\n  // triggers a viewbox re-computation\n  this._cachedViewbox = null;\n\n  // notify others of the change; this step\n  // may or may not be debounced\n  this._viewboxChanged();\n};\n\nCanvas.prototype._viewboxChanged = function() {\n  this._eventBus.fire('canvas.viewbox.changed', { viewbox: this.viewbox() });\n};\n\n\n/**\n * Gets or sets the view box of the canvas, i.e. the\n * area that is currently displayed.\n *\n * The getter may return a cached viewbox (if it is currently\n * changing). To force a recomputation, pass `false` as the first argument.\n *\n * @example\n *\n * ```javascript\n * canvas.viewbox({ x: 100, y: 100, width: 500, height: 500 })\n *\n * // sets the visible area of the diagram to (100|100) -> (600|100)\n * // and and scales it according to the diagram width\n *\n * const viewbox = canvas.viewbox(); // pass `false` to force recomputing the box.\n *\n * console.log(viewbox);\n * // {\n * //   inner: Dimensions,\n * //   outer: Dimensions,\n * //   scale,\n * //   x, y,\n * //   width, height\n * // }\n *\n * // if the current diagram is zoomed and scrolled, you may reset it to the\n * // default zoom via this method, too:\n *\n * const zoomedAndScrolledViewbox = canvas.viewbox();\n *\n * canvas.viewbox({\n *   x: 0,\n *   y: 0,\n *   width: zoomedAndScrolledViewbox.outer.width,\n *   height: zoomedAndScrolledViewbox.outer.height\n * });\n * ```\n *\n * @param {Rect} [box] The viewbox to be set.\n *\n * @return {CanvasViewbox} The set viewbox.\n */\nCanvas.prototype.viewbox = function(box) {\n\n  if (box === undefined && this._cachedViewbox) {\n    return structuredClone(this._cachedViewbox);\n  }\n\n  const viewport = this._viewport,\n        outerBox = this.getSize();\n  let innerBox,\n      matrix,\n      activeLayer,\n      transform,\n      scale,\n      x, y;\n\n  if (!box) {\n\n    // compute the inner box based on the\n    // diagrams active layer. This allows us to exclude\n    // external components, such as overlays\n\n    activeLayer = this._rootElement ? this.getActiveLayer() : null;\n    innerBox = activeLayer && activeLayer.getBBox() || {};\n\n    transform = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.transform)(viewport);\n    matrix = transform ? transform.matrix : (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.createMatrix)();\n    scale = round(matrix.a, 1000);\n\n    x = round(-matrix.e || 0, 1000);\n    y = round(-matrix.f || 0, 1000);\n\n    box = this._cachedViewbox = {\n      x: x ? x / scale : 0,\n      y: y ? y / scale : 0,\n      width: outerBox.width / scale,\n      height: outerBox.height / scale,\n      scale: scale,\n      inner: {\n        width: innerBox.width || 0,\n        height: innerBox.height || 0,\n        x: innerBox.x || 0,\n        y: innerBox.y || 0\n      },\n      outer: outerBox\n    };\n\n    return box;\n  } else {\n\n    this._changeViewbox(function() {\n      scale = Math.min(outerBox.width / box.width, outerBox.height / box.height);\n\n      const matrix = this._svg.createSVGMatrix()\n        .scale(scale)\n        .translate(-box.x, -box.y);\n\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.transform)(viewport, matrix);\n    });\n  }\n\n  return box;\n};\n\n\n/**\n * Gets or sets the scroll of the canvas.\n *\n * @param {ScrollDelta} [delta] The scroll to be set.\n *\n * @return {Point}\n */\nCanvas.prototype.scroll = function(delta) {\n\n  const node = this._viewport;\n  let matrix = node.getCTM();\n\n  if (delta) {\n    this._changeViewbox(function() {\n      delta = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({ dx: 0, dy: 0 }, delta || {});\n\n      matrix = this._svg.createSVGMatrix().translate(delta.dx, delta.dy).multiply(matrix);\n\n      setCTM(node, matrix);\n    });\n  }\n\n  return { x: matrix.e, y: matrix.f };\n};\n\n/**\n * Scrolls the viewbox to contain the given element.\n * Optionally specify a padding to be applied to the edges.\n *\n * @param {ShapeLike|ConnectionLike|string} element The element to scroll to or its ID.\n * @param {RectTRBL|number} [padding=100] The padding to be applied. Can also specify top, bottom, left and right.\n */\nCanvas.prototype.scrollToElement = function(element, padding) {\n  let defaultPadding = 100;\n\n  if (typeof element === 'string') {\n    element = this._elementRegistry.get(element);\n  }\n\n  // set to correct rootElement\n  const rootElement = this.findRoot(element);\n\n  if (rootElement !== this.getRootElement()) {\n    this.setRootElement(rootElement);\n  }\n\n  // element is rootElement, do not change viewport\n  if (rootElement === element) {\n    return;\n  }\n\n  if (!padding) {\n    padding = {};\n  }\n  if (typeof padding === 'number') {\n    defaultPadding = padding;\n  }\n\n  padding = {\n    top: padding.top || defaultPadding,\n    right: padding.right || defaultPadding,\n    bottom: padding.bottom || defaultPadding,\n    left: padding.left || defaultPadding\n  };\n\n  const elementBounds = (0,_util_Elements__WEBPACK_IMPORTED_MODULE_3__.getBBox)(element),\n        elementTrbl = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_5__.asTRBL)(elementBounds),\n        viewboxBounds = this.viewbox(),\n        zoom = this.zoom();\n  let dx, dy;\n\n  // shrink viewboxBounds with padding\n  viewboxBounds.y += padding.top / zoom;\n  viewboxBounds.x += padding.left / zoom;\n  viewboxBounds.width -= (padding.right + padding.left) / zoom;\n  viewboxBounds.height -= (padding.bottom + padding.top) / zoom;\n\n  const viewboxTrbl = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_5__.asTRBL)(viewboxBounds);\n\n  const canFit = elementBounds.width < viewboxBounds.width && elementBounds.height < viewboxBounds.height;\n\n  if (!canFit) {\n\n    // top-left when element can't fit\n    dx = elementBounds.x - viewboxBounds.x;\n    dy = elementBounds.y - viewboxBounds.y;\n\n  } else {\n\n    const dRight = Math.max(0, elementTrbl.right - viewboxTrbl.right),\n          dLeft = Math.min(0, elementTrbl.left - viewboxTrbl.left),\n          dBottom = Math.max(0, elementTrbl.bottom - viewboxTrbl.bottom),\n          dTop = Math.min(0, elementTrbl.top - viewboxTrbl.top);\n\n    dx = dRight || dLeft;\n    dy = dBottom || dTop;\n\n  }\n\n  this.scroll({ dx: -dx * zoom, dy: -dy * zoom });\n};\n\n/**\n * Gets or sets the current zoom of the canvas, optionally zooming to the\n * specified position.\n *\n * The getter may return a cached zoom level. Call it with `false` as the first\n * argument to force recomputation of the current level.\n *\n * @param {number|'fit-viewport'} [newScale] The new zoom level, either a number,\n * i.e. 0.9, or `fit-viewport` to adjust the size to fit the current viewport.\n * @param {Point} [center] The reference point { x: ..., y: ...} to zoom to.\n *\n * @return {number} The set zoom level.\n */\nCanvas.prototype.zoom = function(newScale, center) {\n\n  if (!newScale) {\n    return this.viewbox(newScale).scale;\n  }\n\n  if (newScale === 'fit-viewport') {\n    return this._fitViewport(center);\n  }\n\n  let outer,\n      matrix;\n\n  this._changeViewbox(function() {\n\n    if (typeof center !== 'object') {\n      outer = this.viewbox().outer;\n\n      center = {\n        x: outer.width / 2,\n        y: outer.height / 2\n      };\n    }\n\n    matrix = this._setZoom(newScale, center);\n  });\n\n  return round(matrix.a, 1000);\n};\n\nfunction setCTM(node, m) {\n  const mstr = 'matrix(' + m.a + ',' + m.b + ',' + m.c + ',' + m.d + ',' + m.e + ',' + m.f + ')';\n  node.setAttribute('transform', mstr);\n}\n\nCanvas.prototype._fitViewport = function(center) {\n\n  const vbox = this.viewbox(),\n        outer = vbox.outer,\n        inner = vbox.inner;\n  let newScale,\n      newViewbox;\n\n  // display the complete diagram without zooming in.\n  // instead of relying on internal zoom, we perform a\n  // hard reset on the canvas viewbox to realize this\n  //\n  // if diagram does not need to be zoomed in, we focus it around\n  // the diagram origin instead\n\n  if (inner.x >= 0 &&\n      inner.y >= 0 &&\n      inner.x + inner.width <= outer.width &&\n      inner.y + inner.height <= outer.height &&\n      !center) {\n\n    newViewbox = {\n      x: 0,\n      y: 0,\n      width: Math.max(inner.width + inner.x, outer.width),\n      height: Math.max(inner.height + inner.y, outer.height)\n    };\n  } else {\n\n    newScale = Math.min(1, outer.width / inner.width, outer.height / inner.height);\n    newViewbox = {\n      x: inner.x + (center ? inner.width / 2 - outer.width / newScale / 2 : 0),\n      y: inner.y + (center ? inner.height / 2 - outer.height / newScale / 2 : 0),\n      width: outer.width / newScale,\n      height: outer.height / newScale\n    };\n  }\n\n  this.viewbox(newViewbox);\n\n  return this.viewbox(false).scale;\n};\n\n\nCanvas.prototype._setZoom = function(scale, center) {\n\n  const svg = this._svg,\n        viewport = this._viewport;\n\n  const matrix = svg.createSVGMatrix();\n  const point = svg.createSVGPoint();\n\n  let centerPoint,\n      originalPoint,\n      currentMatrix,\n      scaleMatrix,\n      newMatrix;\n\n  currentMatrix = viewport.getCTM();\n\n  const currentScale = currentMatrix.a;\n\n  if (center) {\n    centerPoint = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(point, center);\n\n    // revert applied viewport transformations\n    originalPoint = centerPoint.matrixTransform(currentMatrix.inverse());\n\n    // create scale matrix\n    scaleMatrix = matrix\n      .translate(originalPoint.x, originalPoint.y)\n      .scale(1 / currentScale * scale)\n      .translate(-originalPoint.x, -originalPoint.y);\n\n    newMatrix = currentMatrix.multiply(scaleMatrix);\n  } else {\n    newMatrix = matrix.scale(scale);\n  }\n\n  setCTM(this._viewport, newMatrix);\n\n  return newMatrix;\n};\n\n\n/**\n * Returns the size of the canvas.\n *\n * @return {Dimensions} The size of the canvas.\n */\nCanvas.prototype.getSize = function() {\n  return {\n    width: this._container.clientWidth,\n    height: this._container.clientHeight\n  };\n};\n\n\n/**\n * Returns the absolute bounding box of an element.\n *\n * The absolute bounding box may be used to display overlays in the callers\n * (browser) coordinate system rather than the zoomed in/out canvas coordinates.\n *\n * @param {ShapeLike|ConnectionLike} element The element.\n *\n * @return {Rect} The element's absolute bounding box.\n */\nCanvas.prototype.getAbsoluteBBox = function(element) {\n  const vbox = this.viewbox();\n  let bbox;\n\n  // connection\n  // use svg bbox\n  if (element.waypoints) {\n    const gfx = this.getGraphics(element);\n\n    bbox = gfx.getBBox();\n  }\n\n  // shapes\n  // use data\n  else {\n    bbox = element;\n  }\n\n  const x = bbox.x * vbox.scale - vbox.x * vbox.scale;\n  const y = bbox.y * vbox.scale - vbox.y * vbox.scale;\n\n  const width = bbox.width * vbox.scale;\n  const height = bbox.height * vbox.scale;\n\n  return {\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  };\n};\n\n/**\n * Fires an event so other modules can react to the canvas resizing.\n */\nCanvas.prototype.resized = function() {\n\n  // force recomputation of view box\n  delete this._cachedViewbox;\n\n  this._eventBus.fire('canvas.resized');\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvY29yZS9DYW52YXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQVNrQjs7QUFLRDs7QUFLWTs7QUFLSDs7QUFFb0I7O0FBUzVCOztBQUVzQzs7O0FBR3hEO0FBQ0EsYUFBYSxrQ0FBa0M7QUFDL0MsYUFBYSw0QkFBNEI7QUFDekMsYUFBYSwrQkFBK0I7QUFDNUMsYUFBYSw2QkFBNkI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFNBQVM7QUFDZDtBQUNBLGFBQWEscUNBQXFDO0FBQ2xELGFBQWEsOEJBQThCO0FBQzNDLGFBQWEscUNBQXFDO0FBQ2xEO0FBQ0EsYUFBYSxvQ0FBb0M7QUFDakQsYUFBYSwrQkFBK0I7QUFDNUMsYUFBYSw4QkFBOEI7QUFDM0MsYUFBYSxrQ0FBa0M7QUFDL0MsYUFBYSxxQ0FBcUM7QUFDbEQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUyxrREFBUTtBQUNqQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCO0FBQ0EsWUFBWSxhQUFhO0FBQ3pCO0FBQ0E7O0FBRUEsWUFBWSxnREFBTSxHQUFHLElBQUksK0JBQStCOztBQUV4RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUUsb0RBQVc7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGdCQUFnQixnREFBUztBQUN6QixFQUFFLGlEQUFVOztBQUVaOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsbUJBQW1CO0FBQzlCLFdBQVcsVUFBVTtBQUNyQixXQUFXLGlCQUFpQjtBQUM1QixXQUFXLGlCQUFpQjtBQUM1QjtBQUNlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQSx5QkFBeUI7QUFDekI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLDZDQUE2QyxjQUFjLFdBQVcsZUFBZTtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLDBCQUEwQixnREFBUzs7QUFFbkMsRUFBRSw4Q0FBTztBQUNUO0FBQ0E7QUFDQSxHQUFHOztBQUVILEVBQUUsNkNBQU87O0FBRVQ7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUgsRUFBRSxnREFBUzs7QUFFWDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsa0RBQVEsQ0FBQyw4Q0FBSTtBQUN4Qzs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZCxrQkFBa0IsWUFBWTtBQUM5QixrQkFBa0IsWUFBWTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUwsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsZ0RBQWdELFNBQVM7QUFDekQ7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQix1REFBTzs7QUFFeEI7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFCQUFxQjs7QUFFekM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksYUFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZLFlBQVk7QUFDeEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFNBQVMsZ0RBQU07QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVksWUFBWTtBQUN4QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVksWUFBWTtBQUN4QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEVBQUUsZ0RBQVM7O0FBRVg7O0FBRUE7QUFDQTs7O0FBR0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSxJQUFJLGdEQUFTO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtCQUFrQjtBQUM5QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUNBQWlDO0FBQzVDO0FBQ0EsWUFBWSxvQkFBb0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EsU0FBUyw4Q0FBSTtBQUNiO0FBQ0EsR0FBRztBQUNIOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksYUFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRSxpREFBTztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaURBQVU7QUFDbEIsUUFBUTtBQUNSO0FBQ0EsUUFBUSxpREFBVTtBQUNsQjtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWixnQkFBZ0IsU0FBUztBQUN6QixnQkFBZ0IsWUFBWTtBQUM1QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsU0FBUztBQUN6QjtBQUNBLGlEQUFpRCxrRUFBa0U7QUFDbkg7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxXQUFXLGlDQUFpQztBQUM1QyxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUNBQWlDO0FBQzVDLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlDQUFpQztBQUM1QyxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlDQUFpQztBQUM1QyxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNBLFlBQVksVUFBVTtBQUN0QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCO0FBQ0EsWUFBWSxvQkFBb0I7QUFDaEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQ0FBaUMsa0JBQWtCO0FBQ25ELGtDQUFrQyxrQkFBa0I7O0FBRXBEO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhCQUE4QixrQkFBa0I7O0FBRWhEOztBQUVBLGdDQUFnQyw0QkFBNEI7QUFDNUQ7OztBQUdBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxvQ0FBb0Msc0JBQXNCO0FBQzFEOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxnQkFBZ0IsK0NBQUs7QUFDckI7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxxQkFBcUIsbUNBQW1DO0FBQ3hEO0FBQ0E7O0FBRUE7QUFDQSxFQUFFLHNEQUFhO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxLQUFLO0FBQ2IsUUFBUSxLQUFLO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsMEJBQTBCO0FBQ3JDLFdBQVcsV0FBVztBQUN0QixXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZLDBCQUEwQjtBQUN0QztBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsaUNBQWlDLGtDQUFrQzs7QUFFbkU7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLG1DQUFtQyw0QkFBNEI7O0FBRS9EO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsWUFBWTtBQUN2QixXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZLFdBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0IsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVksZ0JBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBLG9DQUFvQyxrQkFBa0I7O0FBRXREOztBQUVBO0FBQ0EsRUFBRSx5REFBZ0I7QUFDbEI7O0FBRUEscUNBQXFDLGtCQUFrQjs7QUFFdkQ7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxrQkFBa0I7QUFDN0I7QUFDQSxZQUFZLFdBQVc7QUFDdkI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1osZ0JBQWdCLFdBQVc7QUFDM0IsZ0JBQWdCLFlBQVk7QUFDNUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaLGdCQUFnQixXQUFXO0FBQzNCLGdCQUFnQixZQUFZO0FBQzVCO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx1QkFBdUI7QUFDbEM7QUFDQSxZQUFZLGdCQUFnQjtBQUM1QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWixnQkFBZ0IsZ0JBQWdCO0FBQ2hDLGdCQUFnQixZQUFZO0FBQzVCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWixnQkFBZ0IsZ0JBQWdCO0FBQ2hDLGdCQUFnQixZQUFZO0FBQzVCO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQ0FBaUM7QUFDNUMsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtEQUFrRCx5QkFBeUI7QUFDM0U7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHlDQUF5QztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakI7QUFDQSxZQUFZLGVBQWU7QUFDM0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxnQkFBZ0IsbURBQVk7QUFDNUIsNENBQTRDLHNEQUFZO0FBQ3hEOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNLG1EQUFZO0FBQ2xCLEtBQUs7QUFDTDs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGFBQWE7QUFDeEI7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjLGdEQUFNLEdBQUcsY0FBYyxhQUFhOztBQUVsRDs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlDQUFpQztBQUM1QyxXQUFXLGlCQUFpQjtBQUM1QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0JBQXdCLHVEQUFjO0FBQ3RDLHNCQUFzQiwwREFBTTtBQUM1QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0IsMERBQU07O0FBRTVCOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsZ0JBQWdCLGdDQUFnQztBQUNoRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsdUJBQXVCO0FBQ2xDO0FBQ0EsV0FBVyxPQUFPLCtCQUErQixnQkFBZ0I7QUFDakU7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0Esa0JBQWtCLGdEQUFNOztBQUV4QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFlBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsMEJBQTBCO0FBQ3JDO0FBQ0EsWUFBWSxNQUFNO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2NvcmUvQ2FudmFzLmpzPzVlMTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgaXNOdW1iZXIsXG4gIGFzc2lnbixcbiAgZm9yRWFjaCxcbiAgZXZlcnksXG4gIGRlYm91bmNlLFxuICBiaW5kLFxuICByZWR1Y2UsXG4gIGZpbmRcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBhc3NpZ25TdHlsZSxcbiAgYXR0ciBhcyBkb21BdHRyXG59IGZyb20gJ21pbi1kb20nO1xuXG5pbXBvcnQge1xuICBhZGQgYXMgY29sbGVjdGlvbkFkZCxcbiAgcmVtb3ZlIGFzIGNvbGxlY3Rpb25SZW1vdmVcbn0gZnJvbSAnLi4vdXRpbC9Db2xsZWN0aW9ucyc7XG5cbmltcG9ydCB7XG4gIGdldFR5cGUsXG4gIGdldEJCb3ggYXMgZ2V0Qm91bmRpbmdCb3hcbn0gZnJvbSAnLi4vdXRpbC9FbGVtZW50cyc7XG5cbmltcG9ydCB7IGFzVFJCTCB9IGZyb20gJy4uL2xheW91dC9MYXlvdXRVdGlsJztcblxuaW1wb3J0IHtcbiAgYXBwZW5kIGFzIHN2Z0FwcGVuZCxcbiAgYXR0ciBhcyBzdmdBdHRyLFxuICBjbGFzc2VzIGFzIHN2Z0NsYXNzZXMsXG4gIGNyZWF0ZSBhcyBzdmdDcmVhdGUsXG4gIHRyYW5zZm9ybSBhcyBzdmdUcmFuc2Zvcm0sXG4gIHJlbW92ZSBhcyBzdmdSZW1vdmVcbn0gZnJvbSAndGlueS1zdmcnO1xuXG5pbXBvcnQgeyBjcmVhdGVNYXRyaXggYXMgY3JlYXRlTWF0cml4IH0gZnJvbSAndGlueS1zdmcnO1xuXG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi9UeXBlcycpLkNvbm5lY3Rpb25MaWtlfSBDb25uZWN0aW9uTGlrZVxuICogQHR5cGVkZWYge2ltcG9ydCgnLi9UeXBlcycpLlJvb3RMaWtlfSBSb290TGlrZVxuICogQHR5cGVkZWYge2ltcG9ydCgnLi9UeXBlcycpLlBhcmVudExpa2UgfSBQYXJlbnRMaWtlXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuL1R5cGVzJykuU2hhcGVMaWtlfSBTaGFwZUxpa2VcbiAqXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgY29udGFpbmVyPzogSFRNTEVsZW1lbnQ7XG4gKiAgIGRlZmVyVXBkYXRlPzogYm9vbGVhbjtcbiAqICAgd2lkdGg/OiBudW1iZXI7XG4gKiAgIGhlaWdodD86IG51bWJlcjtcbiAqICAgYXV0b0ZvY3VzPzogYm9vbGVhbjtcbiAqIH0gfSBDYW52YXNDb25maWdcbiAqIEB0eXBlZGVmIHsge1xuICogICBncm91cDogU1ZHRWxlbWVudDtcbiAqICAgaW5kZXg6IG51bWJlcjtcbiAqICAgdmlzaWJsZTogYm9vbGVhbjtcbiAqIH0gfSBDYW52YXNMYXllclxuICogQHR5cGVkZWYgeyB7XG4gKiAgIFtrZXk6IHN0cmluZ106IENhbnZhc0xheWVyO1xuICogfSB9IENhbnZhc0xheWVyc1xuICogQHR5cGVkZWYgeyB7XG4gKiAgIHJvb3RFbGVtZW50OiBTaGFwZUxpa2U7XG4gKiAgIGxheWVyOiBDYW52YXNMYXllcjtcbiAqIH0gfSBDYW52YXNQbGFuZVxuICogQHR5cGVkZWYgeyB7XG4gKiAgIHNjYWxlOiBudW1iZXI7XG4gKiAgIGlubmVyOiBSZWN0O1xuICogICBvdXRlcjogRGltZW5zaW9ucztcbiAqIH0gJiBSZWN0IH0gQ2FudmFzVmlld2JveFxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vRWxlbWVudFJlZ2lzdHJ5JykuZGVmYXVsdH0gRWxlbWVudFJlZ2lzdHJ5XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vR3JhcGhpY3NGYWN0b3J5JykuZGVmYXVsdH0gR3JhcGhpY3NGYWN0b3J5XG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vdXRpbC9UeXBlcycpLkRpbWVuc2lvbnN9IERpbWVuc2lvbnNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3V0aWwvVHlwZXMnKS5Qb2ludH0gUG9pbnRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3V0aWwvVHlwZXMnKS5SZWN0fSBSZWN0XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi91dGlsL1R5cGVzJykuUmVjdFRSQkx9IFJlY3RUUkJMXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi91dGlsL1R5cGVzJykuU2Nyb2xsRGVsdGF9IFNjcm9sbERlbHRhXG4gKi9cblxuZnVuY3Rpb24gcm91bmQobnVtYmVyLCByZXNvbHV0aW9uKSB7XG4gIHJldHVybiBNYXRoLnJvdW5kKG51bWJlciAqIHJlc29sdXRpb24pIC8gcmVzb2x1dGlvbjtcbn1cblxuZnVuY3Rpb24gZW5zdXJlUHgobnVtYmVyKSB7XG4gIHJldHVybiBpc051bWJlcihudW1iZXIpID8gbnVtYmVyICsgJ3B4JyA6IG51bWJlcjtcbn1cblxuZnVuY3Rpb24gZmluZFJvb3QoZWxlbWVudCkge1xuICB3aGlsZSAoZWxlbWVudC5wYXJlbnQpIHtcbiAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnQ7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgSFRNTCBjb250YWluZXIgZWxlbWVudCBmb3IgYSBTVkcgZWxlbWVudCB3aXRoXG4gKiB0aGUgZ2l2ZW4gY29uZmlndXJhdGlvblxuICpcbiAqIEBwYXJhbSB7Q2FudmFzQ29uZmlnfSBvcHRpb25zXG4gKlxuICogQHJldHVybiB7SFRNTEVsZW1lbnR9IHRoZSBjb250YWluZXIgZWxlbWVudFxuICovXG5mdW5jdGlvbiBjcmVhdGVDb250YWluZXIob3B0aW9ucykge1xuXG4gIG9wdGlvbnMgPSBhc3NpZ24oe30sIHsgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnMTAwJScgfSwgb3B0aW9ucyk7XG5cbiAgY29uc3QgY29udGFpbmVyID0gb3B0aW9ucy5jb250YWluZXIgfHwgZG9jdW1lbnQuYm9keTtcblxuICAvLyBjcmVhdGUgYSA8ZGl2PiBhcm91bmQgdGhlIHN2ZyBlbGVtZW50IHdpdGggdGhlIHJlc3BlY3RpdmUgc2l6ZVxuICAvLyB0aGlzIHdheSB3ZSBjYW4gYWx3YXlzIGdldCB0aGUgY29ycmVjdCBjb250YWluZXIgc2l6ZVxuICAvLyAodGhpcyBpcyBpbXBvc3NpYmxlIGZvciA8c3ZnPiBlbGVtZW50cyBhdCB0aGUgbW9tZW50KVxuICBjb25zdCBwYXJlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgcGFyZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnZGpzLWNvbnRhaW5lciBkanMtcGFyZW50Jyk7XG5cbiAgYXNzaWduU3R5bGUocGFyZW50LCB7XG4gICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgIHdpZHRoOiBlbnN1cmVQeChvcHRpb25zLndpZHRoKSxcbiAgICBoZWlnaHQ6IGVuc3VyZVB4KG9wdGlvbnMuaGVpZ2h0KVxuICB9KTtcblxuICBjb250YWluZXIuYXBwZW5kQ2hpbGQocGFyZW50KTtcblxuICByZXR1cm4gcGFyZW50O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVHcm91cChwYXJlbnQsIGNscywgY2hpbGRJbmRleCkge1xuICBjb25zdCBncm91cCA9IHN2Z0NyZWF0ZSgnZycpO1xuICBzdmdDbGFzc2VzKGdyb3VwKS5hZGQoY2xzKTtcblxuICBjb25zdCBpbmRleCA9IGNoaWxkSW5kZXggIT09IHVuZGVmaW5lZCA/IGNoaWxkSW5kZXggOiBwYXJlbnQuY2hpbGROb2Rlcy5sZW5ndGggLSAxO1xuXG4gIC8vIG11c3QgZW5zdXJlIHNlY29uZCBhcmd1bWVudCBpcyBub2RlIG9yIF9udWxsX1xuICAvLyBjZi4gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL05vZGUvaW5zZXJ0QmVmb3JlXG4gIHBhcmVudC5pbnNlcnRCZWZvcmUoZ3JvdXAsIHBhcmVudC5jaGlsZE5vZGVzW2luZGV4XSB8fCBudWxsKTtcblxuICByZXR1cm4gZ3JvdXA7XG59XG5cbmNvbnN0IEJBU0VfTEFZRVIgPSAnYmFzZSc7XG5cbi8vIHJlbmRlciBwbGFuZSBjb250ZW50cyBiZWhpbmQgdXRpbGl0eSBsYXllcnNcbmNvbnN0IFBMQU5FX0xBWUVSX0lOREVYID0gMDtcbmNvbnN0IFVUSUxJVFlfTEFZRVJfSU5ERVggPSAxO1xuXG5cbmNvbnN0IFJFUVVJUkVEX01PREVMX0FUVFJTID0ge1xuICBzaGFwZTogWyAneCcsICd5JywgJ3dpZHRoJywgJ2hlaWdodCcgXSxcbiAgY29ubmVjdGlvbjogWyAnd2F5cG9pbnRzJyBdXG59O1xuXG4vKipcbiAqIFRoZSBtYWluIGRyYXdpbmcgY2FudmFzLlxuICpcbiAqIEBjbGFzc1xuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQGVtaXRzIENhbnZhcyNjYW52YXMuaW5pdFxuICpcbiAqIEBwYXJhbSB7Q2FudmFzQ29uZmlnfG51bGx9IGNvbmZpZ1xuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7R3JhcGhpY3NGYWN0b3J5fSBncmFwaGljc0ZhY3RvcnlcbiAqIEBwYXJhbSB7RWxlbWVudFJlZ2lzdHJ5fSBlbGVtZW50UmVnaXN0cnlcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2FudmFzKGNvbmZpZywgZXZlbnRCdXMsIGdyYXBoaWNzRmFjdG9yeSwgZWxlbWVudFJlZ2lzdHJ5KSB7XG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG4gIHRoaXMuX2VsZW1lbnRSZWdpc3RyeSA9IGVsZW1lbnRSZWdpc3RyeTtcbiAgdGhpcy5fZ3JhcGhpY3NGYWN0b3J5ID0gZ3JhcGhpY3NGYWN0b3J5O1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgdGhpcy5fcm9vdHNJZHggPSAwO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7Q2FudmFzTGF5ZXJzfVxuICAgKi9cbiAgdGhpcy5fbGF5ZXJzID0ge307XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtDYW52YXNQbGFuZVtdfVxuICAgKi9cbiAgdGhpcy5fcGxhbmVzID0gW107XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtSb290TGlrZXxudWxsfVxuICAgKi9cbiAgdGhpcy5fcm9vdEVsZW1lbnQgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICovXG4gIHRoaXMuX2ZvY3VzZWQgPSBmYWxzZTtcblxuICB0aGlzLl9pbml0KGNvbmZpZyB8fCB7fSk7XG59XG5cbkNhbnZhcy4kaW5qZWN0ID0gW1xuICAnY29uZmlnLmNhbnZhcycsXG4gICdldmVudEJ1cycsXG4gICdncmFwaGljc0ZhY3RvcnknLFxuICAnZWxlbWVudFJlZ2lzdHJ5J1xuXTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgPHN2Zz4gZWxlbWVudCB0aGF0IGlzIHdyYXBwZWQgaW50byBhIDxkaXY+LlxuICogVGhpcyB3YXkgd2UgYXJlIGFsd2F5cyBhYmxlIHRvIGNvcnJlY3RseSBmaWd1cmUgb3V0IHRoZSBzaXplIG9mIHRoZSBzdmcgZWxlbWVudFxuICogYnkgcXVlcnlpbmcgdGhlIHBhcmVudCBub2RlLlxuXG4gKiAoSXQgaXMgbm90IHBvc3NpYmxlIHRvIGdldCB0aGUgc2l6ZSBvZiBhIHN2ZyBlbGVtZW50IGNyb3NzIGJyb3dzZXIgQCAyMDE0LTA0LTAxKVxuXG4gKiA8ZGl2IGNsYXNzPVwiZGpzLWNvbnRhaW5lclwiIHN0eWxlPVwid2lkdGg6IHtkZXNpcmVkLXdpZHRofSwgaGVpZ2h0OiB7ZGVzaXJlZC1oZWlnaHR9XCI+XG4gKiAgIDxzdmcgd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PVwiMTAwJVwiPlxuICogICAgLi4uXG4gKiAgIDwvc3ZnPlxuICogPC9kaXY+XG4gKlxuICogQHBhcmFtIHtDYW52YXNDb25maWd9IGNvbmZpZ1xuICovXG5DYW52YXMucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24oY29uZmlnKSB7XG4gIGNvbnN0IGV2ZW50QnVzID0gdGhpcy5fZXZlbnRCdXM7XG5cbiAgLy8gaHRtbCBjb250YWluZXJcbiAgY29uc3QgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyID0gY3JlYXRlQ29udGFpbmVyKGNvbmZpZyk7XG5cbiAgY29uc3Qgc3ZnID0gdGhpcy5fc3ZnID0gc3ZnQ3JlYXRlKCdzdmcnKTtcblxuICBzdmdBdHRyKHN2Zywge1xuICAgIHdpZHRoOiAnMTAwJScsXG4gICAgaGVpZ2h0OiAnMTAwJSdcbiAgfSk7XG5cbiAgZG9tQXR0cihzdmcsICd0YWJpbmRleCcsIDApO1xuXG4gIGNvbmZpZy5hdXRvRm9jdXMgJiYgZXZlbnRCdXMub24oJ2VsZW1lbnQuaG92ZXInLCAoKSA9PiB7XG4gICAgdGhpcy5yZXN0b3JlRm9jdXMoKTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2VsZW1lbnQubW91c2Vkb3duJywgNTAwLCAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmZvY3VzKCk7XG4gIH0pO1xuXG4gIHN2Zy5hZGRFdmVudExpc3RlbmVyKCdmb2N1c2luJywgKCkgPT4ge1xuICAgIHRoaXMuX3NldEZvY3VzZWQodHJ1ZSk7XG4gIH0pO1xuXG4gIHN2Zy5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsICgpID0+IHtcbiAgICB0aGlzLl9zZXRGb2N1c2VkKGZhbHNlKTtcbiAgfSk7XG5cbiAgc3ZnQXBwZW5kKGNvbnRhaW5lciwgc3ZnKTtcblxuICBjb25zdCB2aWV3cG9ydCA9IHRoaXMuX3ZpZXdwb3J0ID0gY3JlYXRlR3JvdXAoc3ZnLCAndmlld3BvcnQnKTtcblxuICAvLyBkZWJvdW5jZSBjYW52YXMudmlld2JveC5jaGFuZ2VkIGV2ZW50cyB3aGVuIGRlZmVyVXBkYXRlIGlzIHNldFxuICAvLyB0byBoZWxwIHdpdGggcG90ZW50aWFsIHBlcmZvcm1hbmNlIGlzc3Vlc1xuICBpZiAoY29uZmlnLmRlZmVyVXBkYXRlKSB7XG4gICAgdGhpcy5fdmlld2JveENoYW5nZWQgPSBkZWJvdW5jZShiaW5kKHRoaXMuX3ZpZXdib3hDaGFuZ2VkLCB0aGlzKSwgMzAwKTtcbiAgfVxuXG4gIGV2ZW50QnVzLm9uKCdkaWFncmFtLmluaXQnLCAoKSA9PiB7XG5cbiAgICAvKipcbiAgICAgKiBBbiBldmVudCBpbmRpY2F0aW5nIHRoYXQgdGhlIGNhbnZhcyBpcyByZWFkeSB0byBiZSBkcmF3biBvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJPZiBDYW52YXNcbiAgICAgKlxuICAgICAqIEBldmVudCBjYW52YXMuaW5pdFxuICAgICAqXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge1NWR0VsZW1lbnR9IHN2ZyB0aGUgY3JlYXRlZCBzdmcgZWxlbWVudFxuICAgICAqIEBwcm9wZXJ0eSB7U1ZHRWxlbWVudH0gdmlld3BvcnQgdGhlIGRpcmVjdCBwYXJlbnQgb2YgZGlhZ3JhbSBlbGVtZW50cyBhbmQgc2hhcGVzXG4gICAgICovXG4gICAgZXZlbnRCdXMuZmlyZSgnY2FudmFzLmluaXQnLCB7XG4gICAgICBzdmc6IHN2ZyxcbiAgICAgIHZpZXdwb3J0OiB2aWV3cG9ydFxuICAgIH0pO1xuXG4gIH0pO1xuXG4gIC8vIHJlc2V0IHZpZXdib3ggb24gc2hhcGUgY2hhbmdlcyB0b1xuICAvLyByZWNvbXB1dGUgdGhlIHZpZXdib3hcbiAgZXZlbnRCdXMub24oW1xuICAgICdzaGFwZS5hZGRlZCcsXG4gICAgJ2Nvbm5lY3Rpb24uYWRkZWQnLFxuICAgICdzaGFwZS5yZW1vdmVkJyxcbiAgICAnY29ubmVjdGlvbi5yZW1vdmVkJyxcbiAgICAnZWxlbWVudHMuY2hhbmdlZCcsXG4gICAgJ3Jvb3Quc2V0J1xuICBdLCAoKSA9PiB7XG4gICAgZGVsZXRlIHRoaXMuX2NhY2hlZFZpZXdib3g7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdkaWFncmFtLmRlc3Ryb3knLCA1MDAsIHRoaXMuX2Rlc3Ryb3ksIHRoaXMpO1xuICBldmVudEJ1cy5vbignZGlhZ3JhbS5jbGVhcicsIDUwMCwgdGhpcy5fY2xlYXIsIHRoaXMpO1xufTtcblxuQ2FudmFzLnByb3RvdHlwZS5fZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9ldmVudEJ1cy5maXJlKCdjYW52YXMuZGVzdHJveScsIHtcbiAgICBzdmc6IHRoaXMuX3N2ZyxcbiAgICB2aWV3cG9ydDogdGhpcy5fdmlld3BvcnRcbiAgfSk7XG5cbiAgY29uc3QgcGFyZW50ID0gdGhpcy5fY29udGFpbmVyLnBhcmVudE5vZGU7XG5cbiAgaWYgKHBhcmVudCkge1xuICAgIHBhcmVudC5yZW1vdmVDaGlsZCh0aGlzLl9jb250YWluZXIpO1xuICB9XG5cbiAgZGVsZXRlIHRoaXMuX3N2ZztcbiAgZGVsZXRlIHRoaXMuX2NvbnRhaW5lcjtcbiAgZGVsZXRlIHRoaXMuX2xheWVycztcbiAgZGVsZXRlIHRoaXMuX3BsYW5lcztcbiAgZGVsZXRlIHRoaXMuX3Jvb3RFbGVtZW50O1xuICBkZWxldGUgdGhpcy5fdmlld3BvcnQ7XG59O1xuXG5DYW52YXMucHJvdG90eXBlLl9zZXRGb2N1c2VkID0gZnVuY3Rpb24oZm9jdXNlZCkge1xuXG4gIGlmIChmb2N1c2VkID09IHRoaXMuX2ZvY3VzZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLl9mb2N1c2VkID0gZm9jdXNlZDtcblxuICB0aGlzLl9ldmVudEJ1cy5maXJlKCdjYW52YXMuZm9jdXMuY2hhbmdlZCcsIHsgZm9jdXNlZCB9KTtcbn07XG5cbkNhbnZhcy5wcm90b3R5cGUuX2NsZWFyID0gZnVuY3Rpb24oKSB7XG5cbiAgY29uc3QgYWxsRWxlbWVudHMgPSB0aGlzLl9lbGVtZW50UmVnaXN0cnkuZ2V0QWxsKCk7XG5cbiAgLy8gcmVtb3ZlIGFsbCBlbGVtZW50c1xuICBhbGxFbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgIGNvbnN0IHR5cGUgPSBnZXRUeXBlKGVsZW1lbnQpO1xuXG4gICAgaWYgKHR5cGUgPT09ICdyb290Jykge1xuICAgICAgdGhpcy5yZW1vdmVSb290RWxlbWVudChlbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fcmVtb3ZlRWxlbWVudChlbGVtZW50LCB0eXBlKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHJlbW92ZSBhbGwgcGxhbmVzXG4gIHRoaXMuX3BsYW5lcyA9IFtdO1xuICB0aGlzLl9yb290RWxlbWVudCA9IG51bGw7XG5cbiAgLy8gZm9yY2UgcmVjb21wdXRhdGlvbiBvZiB2aWV3IGJveFxuICBkZWxldGUgdGhpcy5fY2FjaGVkVmlld2JveDtcbn07XG5cbi8qKlxuICogU2V0cyBmb2N1cyBvbiB0aGUgY2FudmFzIFNWRyBlbGVtZW50LlxuICovXG5DYW52YXMucHJvdG90eXBlLmZvY3VzID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX3N2Zy5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG5cbiAgdGhpcy5fc2V0Rm9jdXNlZCh0cnVlKTtcbn07XG5cbi8qKlxuKiBTZXRzIGZvY3VzIG9uIHRoZSBjYW52YXMgU1ZHIGVsZW1lbnQgaWYgYGRvY3VtZW50LmJvZHlgIGlzIGN1cnJlbnRseSBmb2N1c2VkLlxuKi9cbkNhbnZhcy5wcm90b3R5cGUucmVzdG9yZUZvY3VzID0gZnVuY3Rpb24oKSB7XG4gIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgdGhpcy5mb2N1cygpO1xuICB9XG59O1xuXG4vKipcbiogUmV0dXJucyB0cnVlIGlmIHRoZSBjYW52YXMgaXMgZm9jdXNlZC5cbipcbiogQHJldHVybiB7Ym9vbGVhbn1cbiovXG5DYW52YXMucHJvdG90eXBlLmlzRm9jdXNlZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fZm9jdXNlZDtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZGVmYXVsdCBsYXllciBvbiB3aGljaFxuICogYWxsIGVsZW1lbnRzIGFyZSBkcmF3bi5cbiAqXG4gKiBAcmV0dXJuIHtTVkdFbGVtZW50fSAgVGhlIFNWRyBlbGVtZW50IG9mIHRoZSBsYXllci5cbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5nZXREZWZhdWx0TGF5ZXIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZ2V0TGF5ZXIoQkFTRV9MQVlFUiwgUExBTkVfTEFZRVJfSU5ERVgpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgbGF5ZXIgdGhhdCBpcyB1c2VkIHRvIGRyYXcgZWxlbWVudHNcbiAqIG9yIGFubm90YXRpb25zIG9uIGl0LlxuICpcbiAqIE5vbi1leGlzdGluZyBsYXllcnMgcmV0cmlldmVkIHRocm91Z2ggdGhpcyBtZXRob2RcbiAqIHdpbGwgYmUgY3JlYXRlZC4gRHVyaW5nIGNyZWF0aW9uLCB0aGUgb3B0aW9uYWwgaW5kZXhcbiAqIG1heSBiZSB1c2VkIHRvIGNyZWF0ZSBsYXllcnMgYmVsb3cgb3IgYWJvdmUgZXhpc3RpbmcgbGF5ZXJzLlxuICogQSBsYXllciB3aXRoIGEgY2VydGFpbiBpbmRleCBpcyBhbHdheXMgY3JlYXRlZCBhYm92ZSBhbGxcbiAqIGV4aXN0aW5nIGxheWVycyB3aXRoIHRoZSBzYW1lIGluZGV4LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBsYXllci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbaW5kZXhdIFRoZSBpbmRleCBvZiB0aGUgbGF5ZXIuXG4gKlxuICogQHJldHVybiB7U1ZHRWxlbWVudH0gVGhlIFNWRyBlbGVtZW50IG9mIHRoZSBsYXllci5cbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5nZXRMYXllciA9IGZ1bmN0aW9uKG5hbWUsIGluZGV4KSB7XG5cbiAgaWYgKCFuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtdXN0IHNwZWNpZnkgYSBuYW1lJyk7XG4gIH1cblxuICBsZXQgbGF5ZXIgPSB0aGlzLl9sYXllcnNbbmFtZV07XG5cbiAgaWYgKCFsYXllcikge1xuICAgIGxheWVyID0gdGhpcy5fbGF5ZXJzW25hbWVdID0gdGhpcy5fY3JlYXRlTGF5ZXIobmFtZSwgaW5kZXgpO1xuICB9XG5cbiAgLy8gdGhyb3cgYW4gZXJyb3IgaWYgbGF5ZXIgY3JlYXRpb24gLyByZXRyaXZhbCBpc1xuICAvLyByZXF1ZXN0ZWQgb24gZGlmZmVyZW50IGluZGV4XG4gIGlmICh0eXBlb2YgaW5kZXggIT09ICd1bmRlZmluZWQnICYmIGxheWVyLmluZGV4ICE9PSBpbmRleCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbGF5ZXIgPCcgKyBuYW1lICsgJz4gYWxyZWFkeSBjcmVhdGVkIGF0IGluZGV4IDwnICsgaW5kZXggKyAnPicpO1xuICB9XG5cbiAgcmV0dXJuIGxheWVyLmdyb3VwO1xufTtcblxuLyoqXG4gKiBGb3IgYSBnaXZlbiBpbmRleCwgcmV0dXJuIHRoZSBudW1iZXIgb2YgbGF5ZXJzIHRoYXQgaGF2ZSBhIGhpZ2hlciBpbmRleCBhbmRcbiAqIGFyZSB2aXNpYmxlLlxuICpcbiAqIFRoaXMgaXMgdXNlZCB0byBkZXRlcm1pbmUgdGhlIG5vZGUgYSBsYXllciBzaG91bGQgYmUgaW5zZXJ0ZWQgYXQuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gKlxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5DYW52YXMucHJvdG90eXBlLl9nZXRDaGlsZEluZGV4ID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgcmV0dXJuIHJlZHVjZSh0aGlzLl9sYXllcnMsIGZ1bmN0aW9uKGNoaWxkSW5kZXgsIGxheWVyKSB7XG4gICAgaWYgKGxheWVyLnZpc2libGUgJiYgaW5kZXggPj0gbGF5ZXIuaW5kZXgpIHtcbiAgICAgIGNoaWxkSW5kZXgrKztcbiAgICB9XG5cbiAgICByZXR1cm4gY2hpbGRJbmRleDtcbiAgfSwgMCk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBnaXZlbiBsYXllciBhbmQgcmV0dXJucyBpdC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHtudW1iZXJ9IFtpbmRleD0wXVxuICpcbiAqIEByZXR1cm4ge0NhbnZhc0xheWVyfVxuICovXG5DYW52YXMucHJvdG90eXBlLl9jcmVhdGVMYXllciA9IGZ1bmN0aW9uKG5hbWUsIGluZGV4KSB7XG5cbiAgaWYgKHR5cGVvZiBpbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpbmRleCA9IFVUSUxJVFlfTEFZRVJfSU5ERVg7XG4gIH1cblxuICBjb25zdCBjaGlsZEluZGV4ID0gdGhpcy5fZ2V0Q2hpbGRJbmRleChpbmRleCk7XG5cbiAgcmV0dXJuIHtcbiAgICBncm91cDogY3JlYXRlR3JvdXAodGhpcy5fdmlld3BvcnQsICdsYXllci0nICsgbmFtZSwgY2hpbGRJbmRleCksXG4gICAgaW5kZXg6IGluZGV4LFxuICAgIHZpc2libGU6IHRydWVcbiAgfTtcbn07XG5cblxuLyoqXG4gKiBTaG93cyBhIGdpdmVuIGxheWVyLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBsYXllci5cbiAqXG4gKiBAcmV0dXJuIHtTVkdFbGVtZW50fSBUaGUgU1ZHIGVsZW1lbnQgb2YgdGhlIGxheWVyLlxuICovXG5DYW52YXMucHJvdG90eXBlLnNob3dMYXllciA9IGZ1bmN0aW9uKG5hbWUpIHtcblxuICBpZiAoIW5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ211c3Qgc3BlY2lmeSBhIG5hbWUnKTtcbiAgfVxuXG4gIGNvbnN0IGxheWVyID0gdGhpcy5fbGF5ZXJzW25hbWVdO1xuXG4gIGlmICghbGF5ZXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2xheWVyIDwnICsgbmFtZSArICc+IGRvZXMgbm90IGV4aXN0Jyk7XG4gIH1cblxuICBjb25zdCB2aWV3cG9ydCA9IHRoaXMuX3ZpZXdwb3J0O1xuICBjb25zdCBncm91cCA9IGxheWVyLmdyb3VwO1xuICBjb25zdCBpbmRleCA9IGxheWVyLmluZGV4O1xuXG4gIGlmIChsYXllci52aXNpYmxlKSB7XG4gICAgcmV0dXJuIGdyb3VwO1xuICB9XG5cbiAgY29uc3QgY2hpbGRJbmRleCA9IHRoaXMuX2dldENoaWxkSW5kZXgoaW5kZXgpO1xuXG4gIHZpZXdwb3J0Lmluc2VydEJlZm9yZShncm91cCwgdmlld3BvcnQuY2hpbGROb2Rlc1tjaGlsZEluZGV4XSB8fCBudWxsKTtcblxuICBsYXllci52aXNpYmxlID0gdHJ1ZTtcblxuICByZXR1cm4gZ3JvdXA7XG59O1xuXG4vKipcbiAqIEhpZGVzIGEgZ2l2ZW4gbGF5ZXIuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGxheWVyLlxuICpcbiAqIEByZXR1cm4ge1NWR0VsZW1lbnR9IFRoZSBTVkcgZWxlbWVudCBvZiB0aGUgbGF5ZXIuXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUuaGlkZUxheWVyID0gZnVuY3Rpb24obmFtZSkge1xuXG4gIGlmICghbmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignbXVzdCBzcGVjaWZ5IGEgbmFtZScpO1xuICB9XG5cbiAgY29uc3QgbGF5ZXIgPSB0aGlzLl9sYXllcnNbbmFtZV07XG5cbiAgaWYgKCFsYXllcikge1xuICAgIHRocm93IG5ldyBFcnJvcignbGF5ZXIgPCcgKyBuYW1lICsgJz4gZG9lcyBub3QgZXhpc3QnKTtcbiAgfVxuXG4gIGNvbnN0IGdyb3VwID0gbGF5ZXIuZ3JvdXA7XG5cbiAgaWYgKCFsYXllci52aXNpYmxlKSB7XG4gICAgcmV0dXJuIGdyb3VwO1xuICB9XG5cbiAgc3ZnUmVtb3ZlKGdyb3VwKTtcblxuICBsYXllci52aXNpYmxlID0gZmFsc2U7XG5cbiAgcmV0dXJuIGdyb3VwO1xufTtcblxuXG5DYW52YXMucHJvdG90eXBlLl9yZW1vdmVMYXllciA9IGZ1bmN0aW9uKG5hbWUpIHtcblxuICBjb25zdCBsYXllciA9IHRoaXMuX2xheWVyc1tuYW1lXTtcblxuICBpZiAobGF5ZXIpIHtcbiAgICBkZWxldGUgdGhpcy5fbGF5ZXJzW25hbWVdO1xuXG4gICAgc3ZnUmVtb3ZlKGxheWVyLmdyb3VwKTtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjdXJyZW50bHkgYWN0aXZlIGxheWVyLiBDYW4gYmUgbnVsbC5cbiAqXG4gKiBAcmV0dXJuIHtDYW52YXNMYXllcnxudWxsfSBUaGUgYWN0aXZlIGxheWVyIG9mIGBudWxsYC5cbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5nZXRBY3RpdmVMYXllciA9IGZ1bmN0aW9uKCkge1xuICBjb25zdCBwbGFuZSA9IHRoaXMuX2ZpbmRQbGFuZUZvclJvb3QodGhpcy5nZXRSb290RWxlbWVudCgpKTtcblxuICBpZiAoIXBsYW5lKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gcGxhbmUubGF5ZXI7XG59O1xuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgcGxhbmUgd2hpY2ggY29udGFpbnMgdGhlIGdpdmVuIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtTaGFwZUxpa2V8Q29ubmVjdGlvbkxpa2V8c3RyaW5nfSBlbGVtZW50IFRoZSBlbGVtZW50IG9yIGl0cyBJRC5cbiAqXG4gKiBAcmV0dXJuIHtSb290TGlrZXx1bmRlZmluZWR9IFRoZSByb290IG9mIHRoZSBlbGVtZW50LlxuICovXG5DYW52YXMucHJvdG90eXBlLmZpbmRSb290ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgZWxlbWVudCA9IHRoaXMuX2VsZW1lbnRSZWdpc3RyeS5nZXQoZWxlbWVudCk7XG4gIH1cblxuICBpZiAoIWVsZW1lbnQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBwbGFuZSA9IHRoaXMuX2ZpbmRQbGFuZUZvclJvb3QoXG4gICAgZmluZFJvb3QoZWxlbWVudClcbiAgKSB8fCB7fTtcblxuICByZXR1cm4gcGxhbmUucm9vdEVsZW1lbnQ7XG59O1xuXG4vKipcbiAqIFJldHVybiBhIGxpc3Qgb2YgYWxsIHJvb3QgZWxlbWVudHMgb24gdGhlIGRpYWdyYW0uXG4gKlxuICogQHJldHVybiB7KFJvb3RMaWtlKVtdfSBUaGUgbGlzdCBvZiByb290IGVsZW1lbnRzLlxuICovXG5DYW52YXMucHJvdG90eXBlLmdldFJvb3RFbGVtZW50cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fcGxhbmVzLm1hcChmdW5jdGlvbihwbGFuZSkge1xuICAgIHJldHVybiBwbGFuZS5yb290RWxlbWVudDtcbiAgfSk7XG59O1xuXG5DYW52YXMucHJvdG90eXBlLl9maW5kUGxhbmVGb3JSb290ID0gZnVuY3Rpb24ocm9vdEVsZW1lbnQpIHtcbiAgcmV0dXJuIGZpbmQodGhpcy5fcGxhbmVzLCBmdW5jdGlvbihwbGFuZSkge1xuICAgIHJldHVybiBwbGFuZS5yb290RWxlbWVudCA9PT0gcm9vdEVsZW1lbnQ7XG4gIH0pO1xufTtcblxuXG4vKipcbiAqIFJldHVybnMgdGhlIGh0bWwgZWxlbWVudCB0aGF0IGVuY2xvc2VzIHRoZVxuICogZHJhd2luZyBjYW52YXMuXG4gKlxuICogQHJldHVybiB7SFRNTEVsZW1lbnR9IFRoZSBIVE1MIGVsZW1lbnQgb2YgdGhlIGNvbnRhaW5lci5cbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5nZXRDb250YWluZXIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcbn07XG5cblxuLy8gbWFya2VycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbkNhbnZhcy5wcm90b3R5cGUuX3VwZGF0ZU1hcmtlciA9IGZ1bmN0aW9uKGVsZW1lbnQsIG1hcmtlciwgYWRkKSB7XG4gIGxldCBjb250YWluZXI7XG5cbiAgaWYgKCFlbGVtZW50LmlkKSB7XG4gICAgZWxlbWVudCA9IHRoaXMuX2VsZW1lbnRSZWdpc3RyeS5nZXQoZWxlbWVudCk7XG4gIH1cblxuICBlbGVtZW50Lm1hcmtlcnMgPSBlbGVtZW50Lm1hcmtlcnMgfHwgbmV3IFNldCgpO1xuXG4gIC8vIHdlIG5lZWQgdG8gYWNjZXNzIGFsbFxuICBjb250YWluZXIgPSB0aGlzLl9lbGVtZW50UmVnaXN0cnkuX2VsZW1lbnRzW2VsZW1lbnQuaWRdO1xuXG4gIGlmICghY29udGFpbmVyKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZm9yRWFjaChbIGNvbnRhaW5lci5nZngsIGNvbnRhaW5lci5zZWNvbmRhcnlHZnggXSwgZnVuY3Rpb24oZ2Z4KSB7XG4gICAgaWYgKGdmeCkge1xuXG4gICAgICAvLyBpbnZva2UgZWl0aGVyIGFkZENsYXNzIG9yIHJlbW92ZUNsYXNzIGJhc2VkIG9uIG1vZGVcbiAgICAgIGlmIChhZGQpIHtcbiAgICAgICAgZWxlbWVudC5tYXJrZXJzLmFkZChtYXJrZXIpO1xuICAgICAgICBzdmdDbGFzc2VzKGdmeCkuYWRkKG1hcmtlcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50Lm1hcmtlcnMuZGVsZXRlKG1hcmtlcik7XG4gICAgICAgIHN2Z0NsYXNzZXMoZ2Z4KS5yZW1vdmUobWFya2VyKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBBbiBldmVudCBpbmRpY2F0aW5nIHRoYXQgYSBtYXJrZXIgaGFzIGJlZW4gdXBkYXRlZCBmb3IgYW4gZWxlbWVudFxuICAgKlxuICAgKiBAZXZlbnQgZWxlbWVudC5tYXJrZXIudXBkYXRlXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqIEBwcm9wZXJ0eSB7RWxlbWVudH0gZWxlbWVudCB0aGUgc2hhcGVcbiAgICogQHByb3BlcnR5IHtTVkdFbGVtZW50fSBnZnggdGhlIGdyYXBoaWNhbCByZXByZXNlbnRhdGlvbiBvZiB0aGUgc2hhcGVcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IG1hcmtlclxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGFkZCB0cnVlIGlmIHRoZSBtYXJrZXIgd2FzIGFkZGVkLCBmYWxzZSBpZiBpdCBnb3QgcmVtb3ZlZFxuICAgKi9cbiAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnZWxlbWVudC5tYXJrZXIudXBkYXRlJywgeyBlbGVtZW50OiBlbGVtZW50LCBnZng6IGNvbnRhaW5lci5nZngsIG1hcmtlcjogbWFya2VyLCBhZGQ6ICEhYWRkIH0pO1xufTtcblxuXG4vKipcbiAqIEFkZHMgYSBtYXJrZXIgdG8gYW4gZWxlbWVudCAoYmFzaWNhbGx5IGEgY3NzIGNsYXNzKS5cbiAqXG4gKiBGaXJlcyB0aGUgZWxlbWVudC5tYXJrZXIudXBkYXRlIGV2ZW50LCBtYWtpbmcgaXQgcG9zc2libGUgdG9cbiAqIGludGVncmF0ZSBleHRlbnNpb24gaW50byB0aGUgbWFya2VyIGxpZmUtY3ljbGUsIHRvby5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGNhbnZhcy5hZGRNYXJrZXIoJ2ZvbycsICdzb21lLW1hcmtlcicpO1xuICpcbiAqIGNvbnN0IGZvb0dmeCA9IGNhbnZhcy5nZXRHcmFwaGljcygnZm9vJyk7XG4gKlxuICogZm9vR2Z4OyAvLyA8ZyBjbGFzcz1cIi4uLiBzb21lLW1hcmtlclwiPiAuLi4gPC9nPlxuICogYGBgXG4gKlxuICogQHBhcmFtIHtTaGFwZUxpa2V8Q29ubmVjdGlvbkxpa2V8c3RyaW5nfSBlbGVtZW50IFRoZSBlbGVtZW50IG9yIGl0cyBJRC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtYXJrZXIgVGhlIG1hcmtlci5cbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5hZGRNYXJrZXIgPSBmdW5jdGlvbihlbGVtZW50LCBtYXJrZXIpIHtcbiAgdGhpcy5fdXBkYXRlTWFya2VyKGVsZW1lbnQsIG1hcmtlciwgdHJ1ZSk7XG59O1xuXG5cbi8qKlxuICogUmVtb3ZlIGEgbWFya2VyIGZyb20gYW4gZWxlbWVudC5cbiAqXG4gKiBGaXJlcyB0aGUgZWxlbWVudC5tYXJrZXIudXBkYXRlIGV2ZW50LCBtYWtpbmcgaXQgcG9zc2libGUgdG9cbiAqIGludGVncmF0ZSBleHRlbnNpb24gaW50byB0aGUgbWFya2VyIGxpZmUtY3ljbGUsIHRvby5cbiAqXG4gKiBAcGFyYW0ge1NoYXBlTGlrZXxDb25uZWN0aW9uTGlrZXxzdHJpbmd9IGVsZW1lbnQgVGhlIGVsZW1lbnQgb3IgaXRzIElELlxuICogQHBhcmFtIHtzdHJpbmd9IG1hcmtlciBUaGUgbWFya2VyLlxuICovXG5DYW52YXMucHJvdG90eXBlLnJlbW92ZU1hcmtlciA9IGZ1bmN0aW9uKGVsZW1lbnQsIG1hcmtlcikge1xuICB0aGlzLl91cGRhdGVNYXJrZXIoZWxlbWVudCwgbWFya2VyLCBmYWxzZSk7XG59O1xuXG4vKipcbiAqIENoZWNrIHdoZXRoZXIgYW4gZWxlbWVudCBoYXMgYSBnaXZlbiBtYXJrZXIuXG4gKlxuICogQHBhcmFtIHtTaGFwZUxpa2V8Q29ubmVjdGlvbkxpa2V8c3RyaW5nfSBlbGVtZW50IFRoZSBlbGVtZW50IG9yIGl0cyBJRC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtYXJrZXIgVGhlIG1hcmtlci5cbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5oYXNNYXJrZXIgPSBmdW5jdGlvbihlbGVtZW50LCBtYXJrZXIpIHtcbiAgaWYgKCFlbGVtZW50LmlkKSB7XG4gICAgZWxlbWVudCA9IHRoaXMuX2VsZW1lbnRSZWdpc3RyeS5nZXQoZWxlbWVudCk7XG4gIH1cblxuICBpZiAoIWVsZW1lbnQubWFya2Vycykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50Lm1hcmtlcnMuaGFzKG1hcmtlcik7XG59O1xuXG4vKipcbiAqIFRvZ2dsZXMgYSBtYXJrZXIgb24gYW4gZWxlbWVudC5cbiAqXG4gKiBGaXJlcyB0aGUgZWxlbWVudC5tYXJrZXIudXBkYXRlIGV2ZW50LCBtYWtpbmcgaXQgcG9zc2libGUgdG9cbiAqIGludGVncmF0ZSBleHRlbnNpb24gaW50byB0aGUgbWFya2VyIGxpZmUtY3ljbGUsIHRvby5cbiAqXG4gKiBAcGFyYW0ge1NoYXBlTGlrZXxDb25uZWN0aW9uTGlrZXxzdHJpbmd9IGVsZW1lbnQgVGhlIGVsZW1lbnQgb3IgaXRzIElELlxuICogQHBhcmFtIHtzdHJpbmd9IG1hcmtlciBUaGUgbWFya2VyLlxuICovXG5DYW52YXMucHJvdG90eXBlLnRvZ2dsZU1hcmtlciA9IGZ1bmN0aW9uKGVsZW1lbnQsIG1hcmtlcikge1xuICBpZiAodGhpcy5oYXNNYXJrZXIoZWxlbWVudCwgbWFya2VyKSkge1xuICAgIHRoaXMucmVtb3ZlTWFya2VyKGVsZW1lbnQsIG1hcmtlcik7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5hZGRNYXJrZXIoZWxlbWVudCwgbWFya2VyKTtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjdXJyZW50IHJvb3QgZWxlbWVudC5cbiAqXG4gKiBTdXBwb3J0cyB0d28gZGlmZmVyZW50IG1vZGVzIGZvciBoYW5kbGluZyByb290IGVsZW1lbnRzOlxuICpcbiAqIDEuIGlmIG5vIHJvb3QgZWxlbWVudCBoYXMgYmVlbiBhZGRlZCBiZWZvcmUsIGFuIGltcGxpY2l0IHJvb3Qgd2lsbCBiZSBhZGRlZFxuICogYW5kIHJldHVybmVkLiBUaGlzIGlzIHVzZWQgaW4gYXBwbGljYXRpb25zIHRoYXQgZG9uJ3QgcmVxdWlyZSBleHBsaWNpdFxuICogcm9vdCBlbGVtZW50cy5cbiAqXG4gKiAyLiB3aGVuIHJvb3QgZWxlbWVudHMgaGF2ZSBiZWVuIGFkZGVkIGJlZm9yZSBjYWxsaW5nIGBnZXRSb290RWxlbWVudGAsXG4gKiByb290IGVsZW1lbnRzIGNhbiBiZSBudWxsLiBUaGlzIGlzIHVzZWQgZm9yIGFwcGxpY2F0aW9ucyB0aGF0IHdhbnQgdG8gbWFuYWdlXG4gKiByb290IGVsZW1lbnRzIHRoZW1zZWx2ZXMuXG4gKlxuICogQHJldHVybiB7Um9vdExpa2V9IFRoZSBjdXJyZW50IHJvb3QgZWxlbWVudC5cbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5nZXRSb290RWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICBjb25zdCByb290RWxlbWVudCA9IHRoaXMuX3Jvb3RFbGVtZW50O1xuXG4gIC8vIGNhbiByZXR1cm4gbnVsbCBpZiByb290IGVsZW1lbnRzIGFyZSBwcmVzZW50IGJ1dCBub25lIHdhcyBzZXQgeWV0XG4gIGlmIChyb290RWxlbWVudCB8fCB0aGlzLl9wbGFuZXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHJvb3RFbGVtZW50O1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuc2V0Um9vdEVsZW1lbnQodGhpcy5hZGRSb290RWxlbWVudChudWxsKSk7XG59O1xuXG4vKipcbiAqIEFkZHMgYSBnaXZlbiByb290IGVsZW1lbnQgYW5kIHJldHVybnMgaXQuXG4gKlxuICogQHBhcmFtIHtSb290TGlrZX0gW3Jvb3RFbGVtZW50XSBUaGUgcm9vdCBlbGVtZW50IHRvIGJlIGFkZGVkLlxuICpcbiAqIEByZXR1cm4ge1Jvb3RMaWtlfSBUaGUgYWRkZWQgcm9vdCBlbGVtZW50IG9yIGFuIGltcGxpY2l0IHJvb3QgZWxlbWVudC5cbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5hZGRSb290RWxlbWVudCA9IGZ1bmN0aW9uKHJvb3RFbGVtZW50KSB7XG4gIGNvbnN0IGlkeCA9IHRoaXMuX3Jvb3RzSWR4Kys7XG5cbiAgaWYgKCFyb290RWxlbWVudCkge1xuICAgIHJvb3RFbGVtZW50ID0ge1xuICAgICAgaWQ6ICdfX2ltcGxpY2l0cm9vdF8nICsgaWR4LFxuICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgaXNJbXBsaWNpdDogdHJ1ZVxuICAgIH07XG4gIH1cblxuICBjb25zdCBsYXllck5hbWUgPSByb290RWxlbWVudC5sYXllciA9ICdyb290LScgKyBpZHg7XG5cbiAgdGhpcy5fZW5zdXJlVmFsaWQoJ3Jvb3QnLCByb290RWxlbWVudCk7XG5cbiAgY29uc3QgbGF5ZXIgPSB0aGlzLmdldExheWVyKGxheWVyTmFtZSwgUExBTkVfTEFZRVJfSU5ERVgpO1xuXG4gIHRoaXMuaGlkZUxheWVyKGxheWVyTmFtZSk7XG5cbiAgdGhpcy5fYWRkUm9vdChyb290RWxlbWVudCwgbGF5ZXIpO1xuXG4gIHRoaXMuX3BsYW5lcy5wdXNoKHtcbiAgICByb290RWxlbWVudDogcm9vdEVsZW1lbnQsXG4gICAgbGF5ZXI6IGxheWVyXG4gIH0pO1xuXG4gIHJldHVybiByb290RWxlbWVudDtcbn07XG5cbi8qKlxuICogUmVtb3ZlcyBhIGdpdmVuIHJvb3QgZWxlbWVudCBhbmQgcmV0dXJucyBpdC5cbiAqXG4gKiBAcGFyYW0ge1Jvb3RMaWtlfHN0cmluZ30gcm9vdEVsZW1lbnQgZWxlbWVudCBvciBlbGVtZW50IElEXG4gKlxuICogQHJldHVybiB7Um9vdExpa2V8dW5kZWZpbmVkfSByZW1vdmVkIGVsZW1lbnRcbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5yZW1vdmVSb290RWxlbWVudCA9IGZ1bmN0aW9uKHJvb3RFbGVtZW50KSB7XG5cbiAgaWYgKHR5cGVvZiByb290RWxlbWVudCA9PT0gJ3N0cmluZycpIHtcbiAgICByb290RWxlbWVudCA9IHRoaXMuX2VsZW1lbnRSZWdpc3RyeS5nZXQocm9vdEVsZW1lbnQpO1xuICB9XG5cbiAgY29uc3QgcGxhbmUgPSB0aGlzLl9maW5kUGxhbmVGb3JSb290KHJvb3RFbGVtZW50KTtcblxuICBpZiAoIXBsYW5lKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gaG9vayB1cCBsaWZlLWN5Y2xlIGV2ZW50c1xuICB0aGlzLl9yZW1vdmVSb290KHJvb3RFbGVtZW50KTtcblxuICAvLyBjbGVhbiB1cCBsYXllclxuICB0aGlzLl9yZW1vdmVMYXllcihyb290RWxlbWVudC5sYXllcik7XG5cbiAgLy8gY2xlYW4gdXAgcGxhbmVcbiAgdGhpcy5fcGxhbmVzID0gdGhpcy5fcGxhbmVzLmZpbHRlcihmdW5jdGlvbihwbGFuZSkge1xuICAgIHJldHVybiBwbGFuZS5yb290RWxlbWVudCAhPT0gcm9vdEVsZW1lbnQ7XG4gIH0pO1xuXG4gIC8vIGNsZWFuIHVwIGFjdGl2ZSByb290XG4gIGlmICh0aGlzLl9yb290RWxlbWVudCA9PT0gcm9vdEVsZW1lbnQpIHtcbiAgICB0aGlzLl9yb290RWxlbWVudCA9IG51bGw7XG4gIH1cblxuICByZXR1cm4gcm9vdEVsZW1lbnQ7XG59O1xuXG5cbi8qKlxuICogU2V0cyBhIGdpdmVuIGVsZW1lbnQgYXMgdGhlIG5ldyByb290IGVsZW1lbnQgZm9yIHRoZSBjYW52YXNcbiAqIGFuZCByZXR1cm5zIHRoZSBuZXcgcm9vdCBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7Um9vdExpa2V9IHJvb3RFbGVtZW50IFRoZSByb290IGVsZW1lbnQgdG8gYmUgc2V0LlxuICpcbiAqIEByZXR1cm4ge1Jvb3RMaWtlfSBUaGUgc2V0IHJvb3QgZWxlbWVudC5cbiAqL1xuQ2FudmFzLnByb3RvdHlwZS5zZXRSb290RWxlbWVudCA9IGZ1bmN0aW9uKHJvb3RFbGVtZW50KSB7XG5cbiAgaWYgKHJvb3RFbGVtZW50ID09PSB0aGlzLl9yb290RWxlbWVudCkge1xuICAgIHJldHVybiByb290RWxlbWVudDtcbiAgfVxuXG4gIGxldCBwbGFuZTtcblxuICBpZiAoIXJvb3RFbGVtZW50KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdyb290RWxlbWVudCByZXF1aXJlZCcpO1xuICB9XG5cbiAgcGxhbmUgPSB0aGlzLl9maW5kUGxhbmVGb3JSb290KHJvb3RFbGVtZW50KTtcblxuICAvLyBnaXZlIHNldCBhZGQgc2VtYW50aWNzIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICBpZiAoIXBsYW5lKSB7XG4gICAgcm9vdEVsZW1lbnQgPSB0aGlzLmFkZFJvb3RFbGVtZW50KHJvb3RFbGVtZW50KTtcbiAgfVxuXG4gIHRoaXMuX3NldFJvb3Qocm9vdEVsZW1lbnQpO1xuXG4gIHJldHVybiByb290RWxlbWVudDtcbn07XG5cblxuQ2FudmFzLnByb3RvdHlwZS5fcmVtb3ZlUm9vdCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgY29uc3QgZWxlbWVudFJlZ2lzdHJ5ID0gdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LFxuICAgICAgICBldmVudEJ1cyA9IHRoaXMuX2V2ZW50QnVzO1xuXG4gIC8vIHNpbXVsYXRlIGVsZW1lbnQgcmVtb3ZlIGV2ZW50IHNlcXVlbmNlXG4gIGV2ZW50QnVzLmZpcmUoJ3Jvb3QucmVtb3ZlJywgeyBlbGVtZW50OiBlbGVtZW50IH0pO1xuICBldmVudEJ1cy5maXJlKCdyb290LnJlbW92ZWQnLCB7IGVsZW1lbnQ6IGVsZW1lbnQgfSk7XG5cbiAgZWxlbWVudFJlZ2lzdHJ5LnJlbW92ZShlbGVtZW50KTtcbn07XG5cblxuQ2FudmFzLnByb3RvdHlwZS5fYWRkUm9vdCA9IGZ1bmN0aW9uKGVsZW1lbnQsIGdmeCkge1xuICBjb25zdCBlbGVtZW50UmVnaXN0cnkgPSB0aGlzLl9lbGVtZW50UmVnaXN0cnksXG4gICAgICAgIGV2ZW50QnVzID0gdGhpcy5fZXZlbnRCdXM7XG5cbiAgLy8gcmVzZW1ibGUgZWxlbWVudCBhZGQgZXZlbnQgc2VxdWVuY2VcbiAgZXZlbnRCdXMuZmlyZSgncm9vdC5hZGQnLCB7IGVsZW1lbnQ6IGVsZW1lbnQgfSk7XG5cbiAgZWxlbWVudFJlZ2lzdHJ5LmFkZChlbGVtZW50LCBnZngpO1xuXG4gIGV2ZW50QnVzLmZpcmUoJ3Jvb3QuYWRkZWQnLCB7IGVsZW1lbnQ6IGVsZW1lbnQsIGdmeDogZ2Z4IH0pO1xufTtcblxuXG5DYW52YXMucHJvdG90eXBlLl9zZXRSb290ID0gZnVuY3Rpb24ocm9vdEVsZW1lbnQsIGxheWVyKSB7XG5cbiAgY29uc3QgY3VycmVudFJvb3QgPSB0aGlzLl9yb290RWxlbWVudDtcblxuICBpZiAoY3VycmVudFJvb3QpIHtcblxuICAgIC8vIHVuLWFzc29jaWF0ZSBwcmV2aW91cyByb290IGVsZW1lbnQgPHN2Zz5cbiAgICB0aGlzLl9lbGVtZW50UmVnaXN0cnkudXBkYXRlR3JhcGhpY3MoY3VycmVudFJvb3QsIG51bGwsIHRydWUpO1xuXG4gICAgLy8gaGlkZSBwcmV2aW91cyBsYXllclxuICAgIHRoaXMuaGlkZUxheWVyKGN1cnJlbnRSb290LmxheWVyKTtcbiAgfVxuXG4gIGlmIChyb290RWxlbWVudCkge1xuXG4gICAgaWYgKCFsYXllcikge1xuICAgICAgbGF5ZXIgPSB0aGlzLl9maW5kUGxhbmVGb3JSb290KHJvb3RFbGVtZW50KS5sYXllcjtcbiAgICB9XG5cbiAgICAvLyBhc3NvY2lhdGUgZWxlbWVudCB3aXRoIDxzdmc+XG4gICAgdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LnVwZGF0ZUdyYXBoaWNzKHJvb3RFbGVtZW50LCB0aGlzLl9zdmcsIHRydWUpO1xuXG4gICAgLy8gc2hvdyByb290IGxheWVyXG4gICAgdGhpcy5zaG93TGF5ZXIocm9vdEVsZW1lbnQubGF5ZXIpO1xuICB9XG5cbiAgdGhpcy5fcm9vdEVsZW1lbnQgPSByb290RWxlbWVudDtcblxuICB0aGlzLl9ldmVudEJ1cy5maXJlKCdyb290LnNldCcsIHsgZWxlbWVudDogcm9vdEVsZW1lbnQgfSk7XG59O1xuXG5DYW52YXMucHJvdG90eXBlLl9lbnN1cmVWYWxpZCA9IGZ1bmN0aW9uKHR5cGUsIGVsZW1lbnQpIHtcbiAgaWYgKCFlbGVtZW50LmlkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdlbGVtZW50IG11c3QgaGF2ZSBhbiBpZCcpO1xuICB9XG5cbiAgaWYgKHRoaXMuX2VsZW1lbnRSZWdpc3RyeS5nZXQoZWxlbWVudC5pZCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2VsZW1lbnQgPCcgKyBlbGVtZW50LmlkICsgJz4gYWxyZWFkeSBleGlzdHMnKTtcbiAgfVxuXG4gIGNvbnN0IHJlcXVpcmVkQXR0cnMgPSBSRVFVSVJFRF9NT0RFTF9BVFRSU1t0eXBlXTtcblxuICBjb25zdCB2YWxpZCA9IGV2ZXJ5KHJlcXVpcmVkQXR0cnMsIGZ1bmN0aW9uKGF0dHIpIHtcbiAgICByZXR1cm4gdHlwZW9mIGVsZW1lbnRbYXR0cl0gIT09ICd1bmRlZmluZWQnO1xuICB9KTtcblxuICBpZiAoIXZhbGlkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ211c3Qgc3VwcGx5IHsgJyArIHJlcXVpcmVkQXR0cnMuam9pbignLCAnKSArICcgfSB3aXRoICcgKyB0eXBlKTtcbiAgfVxufTtcblxuQ2FudmFzLnByb3RvdHlwZS5fc2V0UGFyZW50ID0gZnVuY3Rpb24oZWxlbWVudCwgcGFyZW50LCBwYXJlbnRJbmRleCkge1xuICBjb2xsZWN0aW9uQWRkKHBhcmVudC5jaGlsZHJlbiwgZWxlbWVudCwgcGFyZW50SW5kZXgpO1xuICBlbGVtZW50LnBhcmVudCA9IHBhcmVudDtcbn07XG5cbi8qKlxuICogQWRkcyBhbiBlbGVtZW50IHRvIHRoZSBjYW52YXMuXG4gKlxuICogVGhpcyB3aXJlcyB0aGUgcGFyZW50IDwtPiBjaGlsZCByZWxhdGlvbnNoaXAgYmV0d2VlbiB0aGUgZWxlbWVudCBhbmRcbiAqIGEgZXhwbGljaXRseSBzcGVjaWZpZWQgcGFyZW50IG9yIGFuIGltcGxpY2l0IHJvb3QgZWxlbWVudC5cbiAqXG4gKiBEdXJpbmcgYWRkIGl0IGVtaXRzIHRoZSBldmVudHNcbiAqXG4gKiAgKiA8e3R5cGV9LmFkZD4gKGVsZW1lbnQsIHBhcmVudClcbiAqICAqIDx7dHlwZX0uYWRkZWQ+IChlbGVtZW50LCBnZngpXG4gKlxuICogRXh0ZW5zaW9ucyBtYXkgaG9vayBpbnRvIHRoZXNlIGV2ZW50cyB0byBwZXJmb3JtIHRoZWlyIG1hZ2ljLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Nvbm5lY3Rpb25MaWtlfFNoYXBlTGlrZX0gZWxlbWVudFxuICogQHBhcmFtIHtTaGFwZUxpa2V9IFtwYXJlbnRdXG4gKiBAcGFyYW0ge251bWJlcn0gW3BhcmVudEluZGV4XVxuICpcbiAqIEByZXR1cm4ge0Nvbm5lY3Rpb25MaWtlfFNoYXBlTGlrZX0gVGhlIGFkZGVkIGVsZW1lbnQuXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUuX2FkZEVsZW1lbnQgPSBmdW5jdGlvbih0eXBlLCBlbGVtZW50LCBwYXJlbnQsIHBhcmVudEluZGV4KSB7XG5cbiAgcGFyZW50ID0gcGFyZW50IHx8IHRoaXMuZ2V0Um9vdEVsZW1lbnQoKTtcblxuICBjb25zdCBldmVudEJ1cyA9IHRoaXMuX2V2ZW50QnVzLFxuICAgICAgICBncmFwaGljc0ZhY3RvcnkgPSB0aGlzLl9ncmFwaGljc0ZhY3Rvcnk7XG5cbiAgdGhpcy5fZW5zdXJlVmFsaWQodHlwZSwgZWxlbWVudCk7XG5cbiAgZXZlbnRCdXMuZmlyZSh0eXBlICsgJy5hZGQnLCB7IGVsZW1lbnQ6IGVsZW1lbnQsIHBhcmVudDogcGFyZW50IH0pO1xuXG4gIHRoaXMuX3NldFBhcmVudChlbGVtZW50LCBwYXJlbnQsIHBhcmVudEluZGV4KTtcblxuICAvLyBjcmVhdGUgZ3JhcGhpY3NcbiAgY29uc3QgZ2Z4ID0gZ3JhcGhpY3NGYWN0b3J5LmNyZWF0ZSh0eXBlLCBlbGVtZW50LCBwYXJlbnRJbmRleCk7XG5cbiAgdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LmFkZChlbGVtZW50LCBnZngpO1xuXG4gIC8vIHVwZGF0ZSBpdHMgdmlzdWFsXG4gIGdyYXBoaWNzRmFjdG9yeS51cGRhdGUodHlwZSwgZWxlbWVudCwgZ2Z4KTtcblxuICBldmVudEJ1cy5maXJlKHR5cGUgKyAnLmFkZGVkJywgeyBlbGVtZW50OiBlbGVtZW50LCBnZng6IGdmeCB9KTtcblxuICByZXR1cm4gZWxlbWVudDtcbn07XG5cbi8qKlxuICogQWRkcyBhIHNoYXBlIHRvIHRoZSBjYW52YXMuXG4gKlxuICogQHBhcmFtIHtTaGFwZUxpa2V9IHNoYXBlIFRoZSBzaGFwZSB0byBiZSBhZGRlZFxuICogQHBhcmFtIHtQYXJlbnRMaWtlfSBbcGFyZW50XSBUaGUgc2hhcGUncyBwYXJlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gW3BhcmVudEluZGV4XSBUaGUgaW5kZXggYXQgd2hpY2ggdG8gYWRkIHRoZSBzaGFwZSB0byB0aGUgcGFyZW50J3MgY2hpbGRyZW4uXG4gKlxuICogQHJldHVybiB7U2hhcGVMaWtlfSBUaGUgYWRkZWQgc2hhcGUuXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUuYWRkU2hhcGUgPSBmdW5jdGlvbihzaGFwZSwgcGFyZW50LCBwYXJlbnRJbmRleCkge1xuICByZXR1cm4gdGhpcy5fYWRkRWxlbWVudCgnc2hhcGUnLCBzaGFwZSwgcGFyZW50LCBwYXJlbnRJbmRleCk7XG59O1xuXG4vKipcbiAqIEFkZHMgYSBjb25uZWN0aW9uIHRvIHRoZSBjYW52YXMuXG4gKlxuICogQHBhcmFtIHtDb25uZWN0aW9uTGlrZX0gY29ubmVjdGlvbiBUaGUgY29ubmVjdGlvbiB0byBiZSBhZGRlZC5cbiAqIEBwYXJhbSB7UGFyZW50TGlrZX0gW3BhcmVudF0gVGhlIGNvbm5lY3Rpb24ncyBwYXJlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gW3BhcmVudEluZGV4XSBUaGUgaW5kZXggYXQgd2hpY2ggdG8gYWRkIHRoZSBjb25uZWN0aW9uIHRvIHRoZSBwYXJlbnQncyBjaGlsZHJlbi5cbiAqXG4gKiBAcmV0dXJuIHtDb25uZWN0aW9uTGlrZX0gVGhlIGFkZGVkIGNvbm5lY3Rpb24uXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUuYWRkQ29ubmVjdGlvbiA9IGZ1bmN0aW9uKGNvbm5lY3Rpb24sIHBhcmVudCwgcGFyZW50SW5kZXgpIHtcbiAgcmV0dXJuIHRoaXMuX2FkZEVsZW1lbnQoJ2Nvbm5lY3Rpb24nLCBjb25uZWN0aW9uLCBwYXJlbnQsIHBhcmVudEluZGV4KTtcbn07XG5cblxuLyoqXG4gKiBJbnRlcm5hbCByZW1vdmUgZWxlbWVudFxuICovXG5DYW52YXMucHJvdG90eXBlLl9yZW1vdmVFbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCwgdHlwZSkge1xuXG4gIGNvbnN0IGVsZW1lbnRSZWdpc3RyeSA9IHRoaXMuX2VsZW1lbnRSZWdpc3RyeSxcbiAgICAgICAgZ3JhcGhpY3NGYWN0b3J5ID0gdGhpcy5fZ3JhcGhpY3NGYWN0b3J5LFxuICAgICAgICBldmVudEJ1cyA9IHRoaXMuX2V2ZW50QnVzO1xuXG4gIGVsZW1lbnQgPSBlbGVtZW50UmVnaXN0cnkuZ2V0KGVsZW1lbnQuaWQgfHwgZWxlbWVudCk7XG5cbiAgaWYgKCFlbGVtZW50KSB7XG5cbiAgICAvLyBlbGVtZW50IHdhcyByZW1vdmVkIGFscmVhZHlcbiAgICByZXR1cm47XG4gIH1cblxuICBldmVudEJ1cy5maXJlKHR5cGUgKyAnLnJlbW92ZScsIHsgZWxlbWVudDogZWxlbWVudCB9KTtcblxuICBncmFwaGljc0ZhY3RvcnkucmVtb3ZlKGVsZW1lbnQpO1xuXG4gIC8vIHVuc2V0IHBhcmVudCA8LT4gY2hpbGQgcmVsYXRpb25zaGlwXG4gIGNvbGxlY3Rpb25SZW1vdmUoZWxlbWVudC5wYXJlbnQgJiYgZWxlbWVudC5wYXJlbnQuY2hpbGRyZW4sIGVsZW1lbnQpO1xuICBlbGVtZW50LnBhcmVudCA9IG51bGw7XG5cbiAgZXZlbnRCdXMuZmlyZSh0eXBlICsgJy5yZW1vdmVkJywgeyBlbGVtZW50OiBlbGVtZW50IH0pO1xuXG4gIGVsZW1lbnRSZWdpc3RyeS5yZW1vdmUoZWxlbWVudCk7XG5cbiAgcmV0dXJuIGVsZW1lbnQ7XG59O1xuXG5cbi8qKlxuICogUmVtb3ZlcyBhIHNoYXBlIGZyb20gdGhlIGNhbnZhcy5cbiAqXG4gKiBAZmlyZXMgU2hhcGVSZW1vdmVFdmVudFxuICogQGZpcmVzIFNoYXBlUmVtb3ZlZEV2ZW50XG4gKlxuICogQHBhcmFtIHtTaGFwZUxpa2V8c3RyaW5nfSBzaGFwZSBUaGUgc2hhcGUgb3IgaXRzIElELlxuICpcbiAqIEByZXR1cm4ge1NoYXBlTGlrZX0gVGhlIHJlbW92ZWQgc2hhcGUuXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUucmVtb3ZlU2hhcGUgPSBmdW5jdGlvbihzaGFwZSkge1xuXG4gIC8qKlxuICAgKiBBbiBldmVudCBpbmRpY2F0aW5nIHRoYXQgYSBzaGFwZSBpcyBhYm91dCB0byBiZSByZW1vdmVkIGZyb20gdGhlIGNhbnZhcy5cbiAgICpcbiAgICogQG1lbWJlck9mIENhbnZhc1xuICAgKlxuICAgKiBAZXZlbnQgU2hhcGVSZW1vdmVFdmVudFxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKiBAcHJvcGVydHkge1NoYXBlTGlrZX0gZWxlbWVudCBUaGUgc2hhcGUuXG4gICAqIEBwcm9wZXJ0eSB7U1ZHRWxlbWVudH0gZ2Z4IFRoZSBncmFwaGljYWwgZWxlbWVudC5cbiAgICovXG5cbiAgLyoqXG4gICAqIEFuIGV2ZW50IGluZGljYXRpbmcgdGhhdCBhIHNoYXBlIGhhcyBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgY2FudmFzLlxuICAgKlxuICAgKiBAbWVtYmVyT2YgQ2FudmFzXG4gICAqXG4gICAqIEBldmVudCBTaGFwZVJlbW92ZWRFdmVudFxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKiBAcHJvcGVydHkge1NoYXBlTGlrZX0gZWxlbWVudCBUaGUgc2hhcGUuXG4gICAqIEBwcm9wZXJ0eSB7U1ZHRWxlbWVudH0gZ2Z4IFRoZSBncmFwaGljYWwgZWxlbWVudC5cbiAgICovXG4gIHJldHVybiB0aGlzLl9yZW1vdmVFbGVtZW50KHNoYXBlLCAnc2hhcGUnKTtcbn07XG5cblxuLyoqXG4gKiBSZW1vdmVzIGEgY29ubmVjdGlvbiBmcm9tIHRoZSBjYW52YXMuXG4gKlxuICogQGZpcmVzIENvbm5lY3Rpb25SZW1vdmVFdmVudFxuICogQGZpcmVzIENvbm5lY3Rpb25SZW1vdmVkRXZlbnRcbiAqXG4gKiBAcGFyYW0ge0Nvbm5lY3Rpb25MaWtlfHN0cmluZ30gY29ubmVjdGlvbiBUaGUgY29ubmVjdGlvbiBvciBpdHMgSUQuXG4gKlxuICogQHJldHVybiB7Q29ubmVjdGlvbkxpa2V9IFRoZSByZW1vdmVkIGNvbm5lY3Rpb24uXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUucmVtb3ZlQ29ubmVjdGlvbiA9IGZ1bmN0aW9uKGNvbm5lY3Rpb24pIHtcblxuICAvKipcbiAgICogQW4gZXZlbnQgaW5kaWNhdGluZyB0aGF0IGEgY29ubmVjdGlvbiBpcyBhYm91dCB0byBiZSByZW1vdmVkIGZyb20gdGhlIGNhbnZhcy5cbiAgICpcbiAgICogQG1lbWJlck9mIENhbnZhc1xuICAgKlxuICAgKiBAZXZlbnQgQ29ubmVjdGlvblJlbW92ZUV2ZW50XG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqIEBwcm9wZXJ0eSB7Q29ubmVjdGlvbkxpa2V9IGVsZW1lbnQgVGhlIGNvbm5lY3Rpb24uXG4gICAqIEBwcm9wZXJ0eSB7U1ZHRWxlbWVudH0gZ2Z4IFRoZSBncmFwaGljYWwgZWxlbWVudC5cbiAgICovXG5cbiAgLyoqXG4gICAqIEFuIGV2ZW50IGluZGljYXRpbmcgdGhhdCBhIGNvbm5lY3Rpb24gaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIHRoZSBjYW52YXMuXG4gICAqXG4gICAqIEBtZW1iZXJPZiBDYW52YXNcbiAgICpcbiAgICogQGV2ZW50IENvbm5lY3Rpb25SZW1vdmVkRXZlbnRcbiAgICogQHR5cGUge09iamVjdH1cbiAgICogQHByb3BlcnR5IHtDb25uZWN0aW9uTGlrZX0gZWxlbWVudCBUaGUgY29ubmVjdGlvbi5cbiAgICogQHByb3BlcnR5IHtTVkdFbGVtZW50fSBnZnggVGhlIGdyYXBoaWNhbCBlbGVtZW50LlxuICAgKi9cbiAgcmV0dXJuIHRoaXMuX3JlbW92ZUVsZW1lbnQoY29ubmVjdGlvbiwgJ2Nvbm5lY3Rpb24nKTtcbn07XG5cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBncmFwaGljYWwgZWxlbWVudCBvZiBhbiBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7U2hhcGVMaWtlfENvbm5lY3Rpb25MaWtlfHN0cmluZ30gZWxlbWVudCBUaGUgZWxlbWVudCBvciBpdHMgSUQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtzZWNvbmRhcnk9ZmFsc2VdIFdoZXRoZXIgdG8gcmV0dXJuIHRoZSBzZWNvbmRhcnkgZ3JhcGhpY2FsIGVsZW1lbnQuXG4gKlxuICogQHJldHVybiB7U1ZHRWxlbWVudH0gVGhlIGdyYXBoaWNhbCBlbGVtZW50LlxuICovXG5DYW52YXMucHJvdG90eXBlLmdldEdyYXBoaWNzID0gZnVuY3Rpb24oZWxlbWVudCwgc2Vjb25kYXJ5KSB7XG4gIHJldHVybiB0aGlzLl9lbGVtZW50UmVnaXN0cnkuZ2V0R3JhcGhpY3MoZWxlbWVudCwgc2Vjb25kYXJ5KTtcbn07XG5cblxuLyoqXG4gKiBQZXJmb3JtIGEgdmlld2JveCB1cGRhdGUgdmlhIGEgZ2l2ZW4gY2hhbmdlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNoYW5nZUZuXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUuX2NoYW5nZVZpZXdib3ggPSBmdW5jdGlvbihjaGFuZ2VGbikge1xuXG4gIC8vIG5vdGlmeSBvdGhlcnMgb2YgdGhlIHVwY29taW5nIHZpZXdib3ggY2hhbmdlXG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2NhbnZhcy52aWV3Ym94LmNoYW5naW5nJyk7XG5cbiAgLy8gcGVyZm9ybSBhY3R1YWwgY2hhbmdlXG4gIGNoYW5nZUZuLmFwcGx5KHRoaXMpO1xuXG4gIC8vIHJlc2V0IHRoZSBjYWNoZWQgdmlld2JveCBzbyB0aGF0XG4gIC8vIGEgbmV3IGdldCBvcGVyYXRpb24gb24gdmlld2JveCBvciB6b29tXG4gIC8vIHRyaWdnZXJzIGEgdmlld2JveCByZS1jb21wdXRhdGlvblxuICB0aGlzLl9jYWNoZWRWaWV3Ym94ID0gbnVsbDtcblxuICAvLyBub3RpZnkgb3RoZXJzIG9mIHRoZSBjaGFuZ2U7IHRoaXMgc3RlcFxuICAvLyBtYXkgb3IgbWF5IG5vdCBiZSBkZWJvdW5jZWRcbiAgdGhpcy5fdmlld2JveENoYW5nZWQoKTtcbn07XG5cbkNhbnZhcy5wcm90b3R5cGUuX3ZpZXdib3hDaGFuZ2VkID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2NhbnZhcy52aWV3Ym94LmNoYW5nZWQnLCB7IHZpZXdib3g6IHRoaXMudmlld2JveCgpIH0pO1xufTtcblxuXG4vKipcbiAqIEdldHMgb3Igc2V0cyB0aGUgdmlldyBib3ggb2YgdGhlIGNhbnZhcywgaS5lLiB0aGVcbiAqIGFyZWEgdGhhdCBpcyBjdXJyZW50bHkgZGlzcGxheWVkLlxuICpcbiAqIFRoZSBnZXR0ZXIgbWF5IHJldHVybiBhIGNhY2hlZCB2aWV3Ym94IChpZiBpdCBpcyBjdXJyZW50bHlcbiAqIGNoYW5naW5nKS4gVG8gZm9yY2UgYSByZWNvbXB1dGF0aW9uLCBwYXNzIGBmYWxzZWAgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogY2FudmFzLnZpZXdib3goeyB4OiAxMDAsIHk6IDEwMCwgd2lkdGg6IDUwMCwgaGVpZ2h0OiA1MDAgfSlcbiAqXG4gKiAvLyBzZXRzIHRoZSB2aXNpYmxlIGFyZWEgb2YgdGhlIGRpYWdyYW0gdG8gKDEwMHwxMDApIC0+ICg2MDB8MTAwKVxuICogLy8gYW5kIGFuZCBzY2FsZXMgaXQgYWNjb3JkaW5nIHRvIHRoZSBkaWFncmFtIHdpZHRoXG4gKlxuICogY29uc3Qgdmlld2JveCA9IGNhbnZhcy52aWV3Ym94KCk7IC8vIHBhc3MgYGZhbHNlYCB0byBmb3JjZSByZWNvbXB1dGluZyB0aGUgYm94LlxuICpcbiAqIGNvbnNvbGUubG9nKHZpZXdib3gpO1xuICogLy8ge1xuICogLy8gICBpbm5lcjogRGltZW5zaW9ucyxcbiAqIC8vICAgb3V0ZXI6IERpbWVuc2lvbnMsXG4gKiAvLyAgIHNjYWxlLFxuICogLy8gICB4LCB5LFxuICogLy8gICB3aWR0aCwgaGVpZ2h0XG4gKiAvLyB9XG4gKlxuICogLy8gaWYgdGhlIGN1cnJlbnQgZGlhZ3JhbSBpcyB6b29tZWQgYW5kIHNjcm9sbGVkLCB5b3UgbWF5IHJlc2V0IGl0IHRvIHRoZVxuICogLy8gZGVmYXVsdCB6b29tIHZpYSB0aGlzIG1ldGhvZCwgdG9vOlxuICpcbiAqIGNvbnN0IHpvb21lZEFuZFNjcm9sbGVkVmlld2JveCA9IGNhbnZhcy52aWV3Ym94KCk7XG4gKlxuICogY2FudmFzLnZpZXdib3goe1xuICogICB4OiAwLFxuICogICB5OiAwLFxuICogICB3aWR0aDogem9vbWVkQW5kU2Nyb2xsZWRWaWV3Ym94Lm91dGVyLndpZHRoLFxuICogICBoZWlnaHQ6IHpvb21lZEFuZFNjcm9sbGVkVmlld2JveC5vdXRlci5oZWlnaHRcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHtSZWN0fSBbYm94XSBUaGUgdmlld2JveCB0byBiZSBzZXQuXG4gKlxuICogQHJldHVybiB7Q2FudmFzVmlld2JveH0gVGhlIHNldCB2aWV3Ym94LlxuICovXG5DYW52YXMucHJvdG90eXBlLnZpZXdib3ggPSBmdW5jdGlvbihib3gpIHtcblxuICBpZiAoYm94ID09PSB1bmRlZmluZWQgJiYgdGhpcy5fY2FjaGVkVmlld2JveCkge1xuICAgIHJldHVybiBzdHJ1Y3R1cmVkQ2xvbmUodGhpcy5fY2FjaGVkVmlld2JveCk7XG4gIH1cblxuICBjb25zdCB2aWV3cG9ydCA9IHRoaXMuX3ZpZXdwb3J0LFxuICAgICAgICBvdXRlckJveCA9IHRoaXMuZ2V0U2l6ZSgpO1xuICBsZXQgaW5uZXJCb3gsXG4gICAgICBtYXRyaXgsXG4gICAgICBhY3RpdmVMYXllcixcbiAgICAgIHRyYW5zZm9ybSxcbiAgICAgIHNjYWxlLFxuICAgICAgeCwgeTtcblxuICBpZiAoIWJveCkge1xuXG4gICAgLy8gY29tcHV0ZSB0aGUgaW5uZXIgYm94IGJhc2VkIG9uIHRoZVxuICAgIC8vIGRpYWdyYW1zIGFjdGl2ZSBsYXllci4gVGhpcyBhbGxvd3MgdXMgdG8gZXhjbHVkZVxuICAgIC8vIGV4dGVybmFsIGNvbXBvbmVudHMsIHN1Y2ggYXMgb3ZlcmxheXNcblxuICAgIGFjdGl2ZUxheWVyID0gdGhpcy5fcm9vdEVsZW1lbnQgPyB0aGlzLmdldEFjdGl2ZUxheWVyKCkgOiBudWxsO1xuICAgIGlubmVyQm94ID0gYWN0aXZlTGF5ZXIgJiYgYWN0aXZlTGF5ZXIuZ2V0QkJveCgpIHx8IHt9O1xuXG4gICAgdHJhbnNmb3JtID0gc3ZnVHJhbnNmb3JtKHZpZXdwb3J0KTtcbiAgICBtYXRyaXggPSB0cmFuc2Zvcm0gPyB0cmFuc2Zvcm0ubWF0cml4IDogY3JlYXRlTWF0cml4KCk7XG4gICAgc2NhbGUgPSByb3VuZChtYXRyaXguYSwgMTAwMCk7XG5cbiAgICB4ID0gcm91bmQoLW1hdHJpeC5lIHx8IDAsIDEwMDApO1xuICAgIHkgPSByb3VuZCgtbWF0cml4LmYgfHwgMCwgMTAwMCk7XG5cbiAgICBib3ggPSB0aGlzLl9jYWNoZWRWaWV3Ym94ID0ge1xuICAgICAgeDogeCA/IHggLyBzY2FsZSA6IDAsXG4gICAgICB5OiB5ID8geSAvIHNjYWxlIDogMCxcbiAgICAgIHdpZHRoOiBvdXRlckJveC53aWR0aCAvIHNjYWxlLFxuICAgICAgaGVpZ2h0OiBvdXRlckJveC5oZWlnaHQgLyBzY2FsZSxcbiAgICAgIHNjYWxlOiBzY2FsZSxcbiAgICAgIGlubmVyOiB7XG4gICAgICAgIHdpZHRoOiBpbm5lckJveC53aWR0aCB8fCAwLFxuICAgICAgICBoZWlnaHQ6IGlubmVyQm94LmhlaWdodCB8fCAwLFxuICAgICAgICB4OiBpbm5lckJveC54IHx8IDAsXG4gICAgICAgIHk6IGlubmVyQm94LnkgfHwgMFxuICAgICAgfSxcbiAgICAgIG91dGVyOiBvdXRlckJveFxuICAgIH07XG5cbiAgICByZXR1cm4gYm94O1xuICB9IGVsc2Uge1xuXG4gICAgdGhpcy5fY2hhbmdlVmlld2JveChmdW5jdGlvbigpIHtcbiAgICAgIHNjYWxlID0gTWF0aC5taW4ob3V0ZXJCb3gud2lkdGggLyBib3gud2lkdGgsIG91dGVyQm94LmhlaWdodCAvIGJveC5oZWlnaHQpO1xuXG4gICAgICBjb25zdCBtYXRyaXggPSB0aGlzLl9zdmcuY3JlYXRlU1ZHTWF0cml4KClcbiAgICAgICAgLnNjYWxlKHNjYWxlKVxuICAgICAgICAudHJhbnNsYXRlKC1ib3gueCwgLWJveC55KTtcblxuICAgICAgc3ZnVHJhbnNmb3JtKHZpZXdwb3J0LCBtYXRyaXgpO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGJveDtcbn07XG5cblxuLyoqXG4gKiBHZXRzIG9yIHNldHMgdGhlIHNjcm9sbCBvZiB0aGUgY2FudmFzLlxuICpcbiAqIEBwYXJhbSB7U2Nyb2xsRGVsdGF9IFtkZWx0YV0gVGhlIHNjcm9sbCB0byBiZSBzZXQuXG4gKlxuICogQHJldHVybiB7UG9pbnR9XG4gKi9cbkNhbnZhcy5wcm90b3R5cGUuc2Nyb2xsID0gZnVuY3Rpb24oZGVsdGEpIHtcblxuICBjb25zdCBub2RlID0gdGhpcy5fdmlld3BvcnQ7XG4gIGxldCBtYXRyaXggPSBub2RlLmdldENUTSgpO1xuXG4gIGlmIChkZWx0YSkge1xuICAgIHRoaXMuX2NoYW5nZVZpZXdib3goZnVuY3Rpb24oKSB7XG4gICAgICBkZWx0YSA9IGFzc2lnbih7IGR4OiAwLCBkeTogMCB9LCBkZWx0YSB8fCB7fSk7XG5cbiAgICAgIG1hdHJpeCA9IHRoaXMuX3N2Zy5jcmVhdGVTVkdNYXRyaXgoKS50cmFuc2xhdGUoZGVsdGEuZHgsIGRlbHRhLmR5KS5tdWx0aXBseShtYXRyaXgpO1xuXG4gICAgICBzZXRDVE0obm9kZSwgbWF0cml4KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB7IHg6IG1hdHJpeC5lLCB5OiBtYXRyaXguZiB9O1xufTtcblxuLyoqXG4gKiBTY3JvbGxzIHRoZSB2aWV3Ym94IHRvIGNvbnRhaW4gdGhlIGdpdmVuIGVsZW1lbnQuXG4gKiBPcHRpb25hbGx5IHNwZWNpZnkgYSBwYWRkaW5nIHRvIGJlIGFwcGxpZWQgdG8gdGhlIGVkZ2VzLlxuICpcbiAqIEBwYXJhbSB7U2hhcGVMaWtlfENvbm5lY3Rpb25MaWtlfHN0cmluZ30gZWxlbWVudCBUaGUgZWxlbWVudCB0byBzY3JvbGwgdG8gb3IgaXRzIElELlxuICogQHBhcmFtIHtSZWN0VFJCTHxudW1iZXJ9IFtwYWRkaW5nPTEwMF0gVGhlIHBhZGRpbmcgdG8gYmUgYXBwbGllZC4gQ2FuIGFsc28gc3BlY2lmeSB0b3AsIGJvdHRvbSwgbGVmdCBhbmQgcmlnaHQuXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUuc2Nyb2xsVG9FbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCwgcGFkZGluZykge1xuICBsZXQgZGVmYXVsdFBhZGRpbmcgPSAxMDA7XG5cbiAgaWYgKHR5cGVvZiBlbGVtZW50ID09PSAnc3RyaW5nJykge1xuICAgIGVsZW1lbnQgPSB0aGlzLl9lbGVtZW50UmVnaXN0cnkuZ2V0KGVsZW1lbnQpO1xuICB9XG5cbiAgLy8gc2V0IHRvIGNvcnJlY3Qgcm9vdEVsZW1lbnRcbiAgY29uc3Qgcm9vdEVsZW1lbnQgPSB0aGlzLmZpbmRSb290KGVsZW1lbnQpO1xuXG4gIGlmIChyb290RWxlbWVudCAhPT0gdGhpcy5nZXRSb290RWxlbWVudCgpKSB7XG4gICAgdGhpcy5zZXRSb290RWxlbWVudChyb290RWxlbWVudCk7XG4gIH1cblxuICAvLyBlbGVtZW50IGlzIHJvb3RFbGVtZW50LCBkbyBub3QgY2hhbmdlIHZpZXdwb3J0XG4gIGlmIChyb290RWxlbWVudCA9PT0gZWxlbWVudCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghcGFkZGluZykge1xuICAgIHBhZGRpbmcgPSB7fTtcbiAgfVxuICBpZiAodHlwZW9mIHBhZGRpbmcgPT09ICdudW1iZXInKSB7XG4gICAgZGVmYXVsdFBhZGRpbmcgPSBwYWRkaW5nO1xuICB9XG5cbiAgcGFkZGluZyA9IHtcbiAgICB0b3A6IHBhZGRpbmcudG9wIHx8IGRlZmF1bHRQYWRkaW5nLFxuICAgIHJpZ2h0OiBwYWRkaW5nLnJpZ2h0IHx8IGRlZmF1bHRQYWRkaW5nLFxuICAgIGJvdHRvbTogcGFkZGluZy5ib3R0b20gfHwgZGVmYXVsdFBhZGRpbmcsXG4gICAgbGVmdDogcGFkZGluZy5sZWZ0IHx8IGRlZmF1bHRQYWRkaW5nXG4gIH07XG5cbiAgY29uc3QgZWxlbWVudEJvdW5kcyA9IGdldEJvdW5kaW5nQm94KGVsZW1lbnQpLFxuICAgICAgICBlbGVtZW50VHJibCA9IGFzVFJCTChlbGVtZW50Qm91bmRzKSxcbiAgICAgICAgdmlld2JveEJvdW5kcyA9IHRoaXMudmlld2JveCgpLFxuICAgICAgICB6b29tID0gdGhpcy56b29tKCk7XG4gIGxldCBkeCwgZHk7XG5cbiAgLy8gc2hyaW5rIHZpZXdib3hCb3VuZHMgd2l0aCBwYWRkaW5nXG4gIHZpZXdib3hCb3VuZHMueSArPSBwYWRkaW5nLnRvcCAvIHpvb207XG4gIHZpZXdib3hCb3VuZHMueCArPSBwYWRkaW5nLmxlZnQgLyB6b29tO1xuICB2aWV3Ym94Qm91bmRzLndpZHRoIC09IChwYWRkaW5nLnJpZ2h0ICsgcGFkZGluZy5sZWZ0KSAvIHpvb207XG4gIHZpZXdib3hCb3VuZHMuaGVpZ2h0IC09IChwYWRkaW5nLmJvdHRvbSArIHBhZGRpbmcudG9wKSAvIHpvb207XG5cbiAgY29uc3Qgdmlld2JveFRyYmwgPSBhc1RSQkwodmlld2JveEJvdW5kcyk7XG5cbiAgY29uc3QgY2FuRml0ID0gZWxlbWVudEJvdW5kcy53aWR0aCA8IHZpZXdib3hCb3VuZHMud2lkdGggJiYgZWxlbWVudEJvdW5kcy5oZWlnaHQgPCB2aWV3Ym94Qm91bmRzLmhlaWdodDtcblxuICBpZiAoIWNhbkZpdCkge1xuXG4gICAgLy8gdG9wLWxlZnQgd2hlbiBlbGVtZW50IGNhbid0IGZpdFxuICAgIGR4ID0gZWxlbWVudEJvdW5kcy54IC0gdmlld2JveEJvdW5kcy54O1xuICAgIGR5ID0gZWxlbWVudEJvdW5kcy55IC0gdmlld2JveEJvdW5kcy55O1xuXG4gIH0gZWxzZSB7XG5cbiAgICBjb25zdCBkUmlnaHQgPSBNYXRoLm1heCgwLCBlbGVtZW50VHJibC5yaWdodCAtIHZpZXdib3hUcmJsLnJpZ2h0KSxcbiAgICAgICAgICBkTGVmdCA9IE1hdGgubWluKDAsIGVsZW1lbnRUcmJsLmxlZnQgLSB2aWV3Ym94VHJibC5sZWZ0KSxcbiAgICAgICAgICBkQm90dG9tID0gTWF0aC5tYXgoMCwgZWxlbWVudFRyYmwuYm90dG9tIC0gdmlld2JveFRyYmwuYm90dG9tKSxcbiAgICAgICAgICBkVG9wID0gTWF0aC5taW4oMCwgZWxlbWVudFRyYmwudG9wIC0gdmlld2JveFRyYmwudG9wKTtcblxuICAgIGR4ID0gZFJpZ2h0IHx8IGRMZWZ0O1xuICAgIGR5ID0gZEJvdHRvbSB8fCBkVG9wO1xuXG4gIH1cblxuICB0aGlzLnNjcm9sbCh7IGR4OiAtZHggKiB6b29tLCBkeTogLWR5ICogem9vbSB9KTtcbn07XG5cbi8qKlxuICogR2V0cyBvciBzZXRzIHRoZSBjdXJyZW50IHpvb20gb2YgdGhlIGNhbnZhcywgb3B0aW9uYWxseSB6b29taW5nIHRvIHRoZVxuICogc3BlY2lmaWVkIHBvc2l0aW9uLlxuICpcbiAqIFRoZSBnZXR0ZXIgbWF5IHJldHVybiBhIGNhY2hlZCB6b29tIGxldmVsLiBDYWxsIGl0IHdpdGggYGZhbHNlYCBhcyB0aGUgZmlyc3RcbiAqIGFyZ3VtZW50IHRvIGZvcmNlIHJlY29tcHV0YXRpb24gb2YgdGhlIGN1cnJlbnQgbGV2ZWwuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ8J2ZpdC12aWV3cG9ydCd9IFtuZXdTY2FsZV0gVGhlIG5ldyB6b29tIGxldmVsLCBlaXRoZXIgYSBudW1iZXIsXG4gKiBpLmUuIDAuOSwgb3IgYGZpdC12aWV3cG9ydGAgdG8gYWRqdXN0IHRoZSBzaXplIHRvIGZpdCB0aGUgY3VycmVudCB2aWV3cG9ydC5cbiAqIEBwYXJhbSB7UG9pbnR9IFtjZW50ZXJdIFRoZSByZWZlcmVuY2UgcG9pbnQgeyB4OiAuLi4sIHk6IC4uLn0gdG8gem9vbSB0by5cbiAqXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBzZXQgem9vbSBsZXZlbC5cbiAqL1xuQ2FudmFzLnByb3RvdHlwZS56b29tID0gZnVuY3Rpb24obmV3U2NhbGUsIGNlbnRlcikge1xuXG4gIGlmICghbmV3U2NhbGUpIHtcbiAgICByZXR1cm4gdGhpcy52aWV3Ym94KG5ld1NjYWxlKS5zY2FsZTtcbiAgfVxuXG4gIGlmIChuZXdTY2FsZSA9PT0gJ2ZpdC12aWV3cG9ydCcpIHtcbiAgICByZXR1cm4gdGhpcy5fZml0Vmlld3BvcnQoY2VudGVyKTtcbiAgfVxuXG4gIGxldCBvdXRlcixcbiAgICAgIG1hdHJpeDtcblxuICB0aGlzLl9jaGFuZ2VWaWV3Ym94KGZ1bmN0aW9uKCkge1xuXG4gICAgaWYgKHR5cGVvZiBjZW50ZXIgIT09ICdvYmplY3QnKSB7XG4gICAgICBvdXRlciA9IHRoaXMudmlld2JveCgpLm91dGVyO1xuXG4gICAgICBjZW50ZXIgPSB7XG4gICAgICAgIHg6IG91dGVyLndpZHRoIC8gMixcbiAgICAgICAgeTogb3V0ZXIuaGVpZ2h0IC8gMlxuICAgICAgfTtcbiAgICB9XG5cbiAgICBtYXRyaXggPSB0aGlzLl9zZXRab29tKG5ld1NjYWxlLCBjZW50ZXIpO1xuICB9KTtcblxuICByZXR1cm4gcm91bmQobWF0cml4LmEsIDEwMDApO1xufTtcblxuZnVuY3Rpb24gc2V0Q1RNKG5vZGUsIG0pIHtcbiAgY29uc3QgbXN0ciA9ICdtYXRyaXgoJyArIG0uYSArICcsJyArIG0uYiArICcsJyArIG0uYyArICcsJyArIG0uZCArICcsJyArIG0uZSArICcsJyArIG0uZiArICcpJztcbiAgbm9kZS5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsIG1zdHIpO1xufVxuXG5DYW52YXMucHJvdG90eXBlLl9maXRWaWV3cG9ydCA9IGZ1bmN0aW9uKGNlbnRlcikge1xuXG4gIGNvbnN0IHZib3ggPSB0aGlzLnZpZXdib3goKSxcbiAgICAgICAgb3V0ZXIgPSB2Ym94Lm91dGVyLFxuICAgICAgICBpbm5lciA9IHZib3guaW5uZXI7XG4gIGxldCBuZXdTY2FsZSxcbiAgICAgIG5ld1ZpZXdib3g7XG5cbiAgLy8gZGlzcGxheSB0aGUgY29tcGxldGUgZGlhZ3JhbSB3aXRob3V0IHpvb21pbmcgaW4uXG4gIC8vIGluc3RlYWQgb2YgcmVseWluZyBvbiBpbnRlcm5hbCB6b29tLCB3ZSBwZXJmb3JtIGFcbiAgLy8gaGFyZCByZXNldCBvbiB0aGUgY2FudmFzIHZpZXdib3ggdG8gcmVhbGl6ZSB0aGlzXG4gIC8vXG4gIC8vIGlmIGRpYWdyYW0gZG9lcyBub3QgbmVlZCB0byBiZSB6b29tZWQgaW4sIHdlIGZvY3VzIGl0IGFyb3VuZFxuICAvLyB0aGUgZGlhZ3JhbSBvcmlnaW4gaW5zdGVhZFxuXG4gIGlmIChpbm5lci54ID49IDAgJiZcbiAgICAgIGlubmVyLnkgPj0gMCAmJlxuICAgICAgaW5uZXIueCArIGlubmVyLndpZHRoIDw9IG91dGVyLndpZHRoICYmXG4gICAgICBpbm5lci55ICsgaW5uZXIuaGVpZ2h0IDw9IG91dGVyLmhlaWdodCAmJlxuICAgICAgIWNlbnRlcikge1xuXG4gICAgbmV3Vmlld2JveCA9IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgICAgd2lkdGg6IE1hdGgubWF4KGlubmVyLndpZHRoICsgaW5uZXIueCwgb3V0ZXIud2lkdGgpLFxuICAgICAgaGVpZ2h0OiBNYXRoLm1heChpbm5lci5oZWlnaHQgKyBpbm5lci55LCBvdXRlci5oZWlnaHQpXG4gICAgfTtcbiAgfSBlbHNlIHtcblxuICAgIG5ld1NjYWxlID0gTWF0aC5taW4oMSwgb3V0ZXIud2lkdGggLyBpbm5lci53aWR0aCwgb3V0ZXIuaGVpZ2h0IC8gaW5uZXIuaGVpZ2h0KTtcbiAgICBuZXdWaWV3Ym94ID0ge1xuICAgICAgeDogaW5uZXIueCArIChjZW50ZXIgPyBpbm5lci53aWR0aCAvIDIgLSBvdXRlci53aWR0aCAvIG5ld1NjYWxlIC8gMiA6IDApLFxuICAgICAgeTogaW5uZXIueSArIChjZW50ZXIgPyBpbm5lci5oZWlnaHQgLyAyIC0gb3V0ZXIuaGVpZ2h0IC8gbmV3U2NhbGUgLyAyIDogMCksXG4gICAgICB3aWR0aDogb3V0ZXIud2lkdGggLyBuZXdTY2FsZSxcbiAgICAgIGhlaWdodDogb3V0ZXIuaGVpZ2h0IC8gbmV3U2NhbGVcbiAgICB9O1xuICB9XG5cbiAgdGhpcy52aWV3Ym94KG5ld1ZpZXdib3gpO1xuXG4gIHJldHVybiB0aGlzLnZpZXdib3goZmFsc2UpLnNjYWxlO1xufTtcblxuXG5DYW52YXMucHJvdG90eXBlLl9zZXRab29tID0gZnVuY3Rpb24oc2NhbGUsIGNlbnRlcikge1xuXG4gIGNvbnN0IHN2ZyA9IHRoaXMuX3N2ZyxcbiAgICAgICAgdmlld3BvcnQgPSB0aGlzLl92aWV3cG9ydDtcblxuICBjb25zdCBtYXRyaXggPSBzdmcuY3JlYXRlU1ZHTWF0cml4KCk7XG4gIGNvbnN0IHBvaW50ID0gc3ZnLmNyZWF0ZVNWR1BvaW50KCk7XG5cbiAgbGV0IGNlbnRlclBvaW50LFxuICAgICAgb3JpZ2luYWxQb2ludCxcbiAgICAgIGN1cnJlbnRNYXRyaXgsXG4gICAgICBzY2FsZU1hdHJpeCxcbiAgICAgIG5ld01hdHJpeDtcblxuICBjdXJyZW50TWF0cml4ID0gdmlld3BvcnQuZ2V0Q1RNKCk7XG5cbiAgY29uc3QgY3VycmVudFNjYWxlID0gY3VycmVudE1hdHJpeC5hO1xuXG4gIGlmIChjZW50ZXIpIHtcbiAgICBjZW50ZXJQb2ludCA9IGFzc2lnbihwb2ludCwgY2VudGVyKTtcblxuICAgIC8vIHJldmVydCBhcHBsaWVkIHZpZXdwb3J0IHRyYW5zZm9ybWF0aW9uc1xuICAgIG9yaWdpbmFsUG9pbnQgPSBjZW50ZXJQb2ludC5tYXRyaXhUcmFuc2Zvcm0oY3VycmVudE1hdHJpeC5pbnZlcnNlKCkpO1xuXG4gICAgLy8gY3JlYXRlIHNjYWxlIG1hdHJpeFxuICAgIHNjYWxlTWF0cml4ID0gbWF0cml4XG4gICAgICAudHJhbnNsYXRlKG9yaWdpbmFsUG9pbnQueCwgb3JpZ2luYWxQb2ludC55KVxuICAgICAgLnNjYWxlKDEgLyBjdXJyZW50U2NhbGUgKiBzY2FsZSlcbiAgICAgIC50cmFuc2xhdGUoLW9yaWdpbmFsUG9pbnQueCwgLW9yaWdpbmFsUG9pbnQueSk7XG5cbiAgICBuZXdNYXRyaXggPSBjdXJyZW50TWF0cml4Lm11bHRpcGx5KHNjYWxlTWF0cml4KTtcbiAgfSBlbHNlIHtcbiAgICBuZXdNYXRyaXggPSBtYXRyaXguc2NhbGUoc2NhbGUpO1xuICB9XG5cbiAgc2V0Q1RNKHRoaXMuX3ZpZXdwb3J0LCBuZXdNYXRyaXgpO1xuXG4gIHJldHVybiBuZXdNYXRyaXg7XG59O1xuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgc2l6ZSBvZiB0aGUgY2FudmFzLlxuICpcbiAqIEByZXR1cm4ge0RpbWVuc2lvbnN9IFRoZSBzaXplIG9mIHRoZSBjYW52YXMuXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHdpZHRoOiB0aGlzLl9jb250YWluZXIuY2xpZW50V2lkdGgsXG4gICAgaGVpZ2h0OiB0aGlzLl9jb250YWluZXIuY2xpZW50SGVpZ2h0XG4gIH07XG59O1xuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgYWJzb2x1dGUgYm91bmRpbmcgYm94IG9mIGFuIGVsZW1lbnQuXG4gKlxuICogVGhlIGFic29sdXRlIGJvdW5kaW5nIGJveCBtYXkgYmUgdXNlZCB0byBkaXNwbGF5IG92ZXJsYXlzIGluIHRoZSBjYWxsZXJzXG4gKiAoYnJvd3NlcikgY29vcmRpbmF0ZSBzeXN0ZW0gcmF0aGVyIHRoYW4gdGhlIHpvb21lZCBpbi9vdXQgY2FudmFzIGNvb3JkaW5hdGVzLlxuICpcbiAqIEBwYXJhbSB7U2hhcGVMaWtlfENvbm5lY3Rpb25MaWtlfSBlbGVtZW50IFRoZSBlbGVtZW50LlxuICpcbiAqIEByZXR1cm4ge1JlY3R9IFRoZSBlbGVtZW50J3MgYWJzb2x1dGUgYm91bmRpbmcgYm94LlxuICovXG5DYW52YXMucHJvdG90eXBlLmdldEFic29sdXRlQkJveCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgY29uc3QgdmJveCA9IHRoaXMudmlld2JveCgpO1xuICBsZXQgYmJveDtcblxuICAvLyBjb25uZWN0aW9uXG4gIC8vIHVzZSBzdmcgYmJveFxuICBpZiAoZWxlbWVudC53YXlwb2ludHMpIHtcbiAgICBjb25zdCBnZnggPSB0aGlzLmdldEdyYXBoaWNzKGVsZW1lbnQpO1xuXG4gICAgYmJveCA9IGdmeC5nZXRCQm94KCk7XG4gIH1cblxuICAvLyBzaGFwZXNcbiAgLy8gdXNlIGRhdGFcbiAgZWxzZSB7XG4gICAgYmJveCA9IGVsZW1lbnQ7XG4gIH1cblxuICBjb25zdCB4ID0gYmJveC54ICogdmJveC5zY2FsZSAtIHZib3gueCAqIHZib3guc2NhbGU7XG4gIGNvbnN0IHkgPSBiYm94LnkgKiB2Ym94LnNjYWxlIC0gdmJveC55ICogdmJveC5zY2FsZTtcblxuICBjb25zdCB3aWR0aCA9IGJib3gud2lkdGggKiB2Ym94LnNjYWxlO1xuICBjb25zdCBoZWlnaHQgPSBiYm94LmhlaWdodCAqIHZib3guc2NhbGU7XG5cbiAgcmV0dXJuIHtcbiAgICB4OiB4LFxuICAgIHk6IHksXG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0XG4gIH07XG59O1xuXG4vKipcbiAqIEZpcmVzIGFuIGV2ZW50IHNvIG90aGVyIG1vZHVsZXMgY2FuIHJlYWN0IHRvIHRoZSBjYW52YXMgcmVzaXppbmcuXG4gKi9cbkNhbnZhcy5wcm90b3R5cGUucmVzaXplZCA9IGZ1bmN0aW9uKCkge1xuXG4gIC8vIGZvcmNlIHJlY29tcHV0YXRpb24gb2YgdmlldyBib3hcbiAgZGVsZXRlIHRoaXMuX2NhY2hlZFZpZXdib3g7XG5cbiAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnY2FudmFzLnJlc2l6ZWQnKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/core/Canvas.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/core/ElementFactory.js":
/*!************************************************************!*\
  !*** ./node_modules/diagram-js/lib/core/ElementFactory.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ElementFactory)\n/* harmony export */ });\n/* harmony import */ var _model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model */ \"(ssr)/./node_modules/diagram-js/lib/model/index.js\");\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n\n\n/**\n * @typedef {import('../model/Types').Element} Element\n * @typedef {import('../model/Types').Connection} Connection\n * @typedef {import('../model/Types').Label} Label\n * @typedef {import('../model/Types').Root} Root\n * @typedef {import('../model/Types').Shape} Shape\n */\n\n/**\n * A factory for model elements.\n *\n * @template {Connection} [T=Connection]\n * @template {Label} [U=Label]\n * @template {Root} [V=Root]\n * @template {Shape} [W=Shape]\n */\nfunction ElementFactory() {\n  this._uid = 12;\n}\n\n/**\n * Create a root element.\n *\n * @param {Partial<Root>} [attrs]\n *\n * @return {V} The created root element.\n */\nElementFactory.prototype.createRoot = function(attrs) {\n  return this.create('root', attrs);\n};\n\n/**\n * Create a label.\n *\n * @param {Partial<Label>} [attrs]\n *\n * @return {U} The created label.\n */\nElementFactory.prototype.createLabel = function(attrs) {\n  return this.create('label', attrs);\n};\n\n/**\n * Create a shape.\n *\n * @param {Partial<Shape>} [attrs]\n *\n * @return {W} The created shape.\n */\nElementFactory.prototype.createShape = function(attrs) {\n  return this.create('shape', attrs);\n};\n\n/**\n * Create a connection.\n *\n * @param {Partial<Connection>} [attrs]\n *\n * @return {T} The created connection.\n */\nElementFactory.prototype.createConnection = function(attrs) {\n  return this.create('connection', attrs);\n};\n\n/**\n * Create a root element.\n *\n * @overlord\n * @param {'root'} type\n * @param {Partial<Root>} [attrs]\n * @return {V}\n */\n/**\n * Create a shape.\n *\n * @overlord\n * @param {'shape'} type\n * @param {Partial<Shape>} [attrs]\n * @return {W}\n */\n/**\n * Create a connection.\n *\n * @overlord\n * @param {'connection'} type\n * @param {Partial<Connection>} [attrs]\n * @return {T}\n */\n/**\n * Create a label.\n *\n * @param {'label'} type\n * @param {Partial<Label>} [attrs]\n * @return {U}\n */\nElementFactory.prototype.create = function(type, attrs) {\n\n  attrs = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({}, attrs || {});\n\n  if (!attrs.id) {\n    attrs.id = type + '_' + (this._uid++);\n  }\n\n  return (0,_model__WEBPACK_IMPORTED_MODULE_1__.create)(type, attrs);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvY29yZS9FbGVtZW50RmFjdG9yeS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFFa0I7O0FBRWdCOztBQUVsQztBQUNBLGFBQWEsa0NBQWtDO0FBQy9DLGFBQWEscUNBQXFDO0FBQ2xELGFBQWEsZ0NBQWdDO0FBQzdDLGFBQWEsK0JBQStCO0FBQzVDLGFBQWEsZ0NBQWdDO0FBQzdDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsWUFBWTtBQUMxQixjQUFjLE9BQU87QUFDckIsY0FBYyxNQUFNO0FBQ3BCLGNBQWMsT0FBTztBQUNyQjtBQUNlO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUI7QUFDQSxZQUFZLEdBQUc7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQjtBQUMzQjtBQUNBLFlBQVksR0FBRztBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCO0FBQ0EsWUFBWSxHQUFHO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxxQkFBcUI7QUFDaEM7QUFDQSxZQUFZLEdBQUc7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLGVBQWU7QUFDMUIsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxnQkFBZ0I7QUFDM0IsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsV0FBVyxxQkFBcUI7QUFDaEMsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsZ0JBQWdCO0FBQzNCLFlBQVk7QUFDWjtBQUNBOztBQUVBLFVBQVUsZ0RBQU0sR0FBRyxhQUFhOztBQUVoQztBQUNBO0FBQ0E7O0FBRUEsU0FBUyw4Q0FBTTtBQUNmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2NvcmUvRWxlbWVudEZhY3RvcnkuanM/NDBkZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBjcmVhdGVcbn0gZnJvbSAnLi4vbW9kZWwnO1xuXG5pbXBvcnQgeyBhc3NpZ24gfSBmcm9tICdtaW4tZGFzaCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vbW9kZWwvVHlwZXMnKS5FbGVtZW50fSBFbGVtZW50XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9tb2RlbC9UeXBlcycpLkNvbm5lY3Rpb259IENvbm5lY3Rpb25cbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL21vZGVsL1R5cGVzJykuTGFiZWx9IExhYmVsXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9tb2RlbC9UeXBlcycpLlJvb3R9IFJvb3RcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL21vZGVsL1R5cGVzJykuU2hhcGV9IFNoYXBlXG4gKi9cblxuLyoqXG4gKiBBIGZhY3RvcnkgZm9yIG1vZGVsIGVsZW1lbnRzLlxuICpcbiAqIEB0ZW1wbGF0ZSB7Q29ubmVjdGlvbn0gW1Q9Q29ubmVjdGlvbl1cbiAqIEB0ZW1wbGF0ZSB7TGFiZWx9IFtVPUxhYmVsXVxuICogQHRlbXBsYXRlIHtSb290fSBbVj1Sb290XVxuICogQHRlbXBsYXRlIHtTaGFwZX0gW1c9U2hhcGVdXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEVsZW1lbnRGYWN0b3J5KCkge1xuICB0aGlzLl91aWQgPSAxMjtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSByb290IGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtQYXJ0aWFsPFJvb3Q+fSBbYXR0cnNdXG4gKlxuICogQHJldHVybiB7Vn0gVGhlIGNyZWF0ZWQgcm9vdCBlbGVtZW50LlxuICovXG5FbGVtZW50RmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlUm9vdCA9IGZ1bmN0aW9uKGF0dHJzKSB7XG4gIHJldHVybiB0aGlzLmNyZWF0ZSgncm9vdCcsIGF0dHJzKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgbGFiZWwuXG4gKlxuICogQHBhcmFtIHtQYXJ0aWFsPExhYmVsPn0gW2F0dHJzXVxuICpcbiAqIEByZXR1cm4ge1V9IFRoZSBjcmVhdGVkIGxhYmVsLlxuICovXG5FbGVtZW50RmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlTGFiZWwgPSBmdW5jdGlvbihhdHRycykge1xuICByZXR1cm4gdGhpcy5jcmVhdGUoJ2xhYmVsJywgYXR0cnMpO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYSBzaGFwZS5cbiAqXG4gKiBAcGFyYW0ge1BhcnRpYWw8U2hhcGU+fSBbYXR0cnNdXG4gKlxuICogQHJldHVybiB7V30gVGhlIGNyZWF0ZWQgc2hhcGUuXG4gKi9cbkVsZW1lbnRGYWN0b3J5LnByb3RvdHlwZS5jcmVhdGVTaGFwZSA9IGZ1bmN0aW9uKGF0dHJzKSB7XG4gIHJldHVybiB0aGlzLmNyZWF0ZSgnc2hhcGUnLCBhdHRycyk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhIGNvbm5lY3Rpb24uXG4gKlxuICogQHBhcmFtIHtQYXJ0aWFsPENvbm5lY3Rpb24+fSBbYXR0cnNdXG4gKlxuICogQHJldHVybiB7VH0gVGhlIGNyZWF0ZWQgY29ubmVjdGlvbi5cbiAqL1xuRWxlbWVudEZhY3RvcnkucHJvdG90eXBlLmNyZWF0ZUNvbm5lY3Rpb24gPSBmdW5jdGlvbihhdHRycykge1xuICByZXR1cm4gdGhpcy5jcmVhdGUoJ2Nvbm5lY3Rpb24nLCBhdHRycyk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhIHJvb3QgZWxlbWVudC5cbiAqXG4gKiBAb3ZlcmxvcmRcbiAqIEBwYXJhbSB7J3Jvb3QnfSB0eXBlXG4gKiBAcGFyYW0ge1BhcnRpYWw8Um9vdD59IFthdHRyc11cbiAqIEByZXR1cm4ge1Z9XG4gKi9cbi8qKlxuICogQ3JlYXRlIGEgc2hhcGUuXG4gKlxuICogQG92ZXJsb3JkXG4gKiBAcGFyYW0geydzaGFwZSd9IHR5cGVcbiAqIEBwYXJhbSB7UGFydGlhbDxTaGFwZT59IFthdHRyc11cbiAqIEByZXR1cm4ge1d9XG4gKi9cbi8qKlxuICogQ3JlYXRlIGEgY29ubmVjdGlvbi5cbiAqXG4gKiBAb3ZlcmxvcmRcbiAqIEBwYXJhbSB7J2Nvbm5lY3Rpb24nfSB0eXBlXG4gKiBAcGFyYW0ge1BhcnRpYWw8Q29ubmVjdGlvbj59IFthdHRyc11cbiAqIEByZXR1cm4ge1R9XG4gKi9cbi8qKlxuICogQ3JlYXRlIGEgbGFiZWwuXG4gKlxuICogQHBhcmFtIHsnbGFiZWwnfSB0eXBlXG4gKiBAcGFyYW0ge1BhcnRpYWw8TGFiZWw+fSBbYXR0cnNdXG4gKiBAcmV0dXJuIHtVfVxuICovXG5FbGVtZW50RmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24odHlwZSwgYXR0cnMpIHtcblxuICBhdHRycyA9IGFzc2lnbih7fSwgYXR0cnMgfHwge30pO1xuXG4gIGlmICghYXR0cnMuaWQpIHtcbiAgICBhdHRycy5pZCA9IHR5cGUgKyAnXycgKyAodGhpcy5fdWlkKyspO1xuICB9XG5cbiAgcmV0dXJuIGNyZWF0ZSh0eXBlLCBhdHRycyk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/core/ElementFactory.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/core/ElementRegistry.js":
/*!*************************************************************!*\
  !*** ./node_modules/diagram-js/lib/core/ElementRegistry.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ElementRegistry)\n/* harmony export */ });\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/./node_modules/tiny-svg/dist/index.esm.js\");\nvar ELEMENT_ID = 'data-element-id';\n\n\n\n/**\n * @typedef {import('./Types').ElementLike} ElementLike\n *\n * @typedef {import('./EventBus').default} EventBus\n *\n * @typedef { (element: ElementLike, gfx: SVGElement) => boolean|any } ElementRegistryFilterCallback\n * @typedef { (element: ElementLike, gfx: SVGElement) => any } ElementRegistryForEachCallback\n */\n\n/**\n * A registry that keeps track of all shapes in the diagram.\n *\n * @class\n * @constructor\n *\n * @param {EventBus} eventBus\n */\nfunction ElementRegistry(eventBus) {\n\n  /**\n   * @type { {\n   *   [id: string]: {\n   *     element: ElementLike;\n   *     gfx?: SVGElement;\n   *     secondaryGfx?: SVGElement;\n   *   }\n   * } }\n   */\n  this._elements = {};\n\n  this._eventBus = eventBus;\n}\n\nElementRegistry.$inject = [ 'eventBus' ];\n\n/**\n * Add an element and its graphical representation(s) to the registry.\n *\n * @param {ElementLike} element The element to be added.\n * @param {SVGElement} gfx The primary graphical representation.\n * @param {SVGElement} [secondaryGfx] The secondary graphical representation.\n */\nElementRegistry.prototype.add = function(element, gfx, secondaryGfx) {\n\n  var id = element.id;\n\n  this._validateId(id);\n\n  // associate dom node with element\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.attr)(gfx, ELEMENT_ID, id);\n\n  if (secondaryGfx) {\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.attr)(secondaryGfx, ELEMENT_ID, id);\n  }\n\n  this._elements[id] = { element: element, gfx: gfx, secondaryGfx: secondaryGfx };\n};\n\n/**\n * Remove an element from the registry.\n *\n * @param {ElementLike|string} element\n */\nElementRegistry.prototype.remove = function(element) {\n  var elements = this._elements,\n      id = element.id || element,\n      container = id && elements[id];\n\n  if (container) {\n\n    // unset element id on gfx\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.attr)(container.gfx, ELEMENT_ID, '');\n\n    if (container.secondaryGfx) {\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.attr)(container.secondaryGfx, ELEMENT_ID, '');\n    }\n\n    delete elements[id];\n  }\n};\n\n/**\n * Update an elements ID.\n *\n * @param {ElementLike|string} element The element or its ID.\n * @param {string} newId The new ID.\n */\nElementRegistry.prototype.updateId = function(element, newId) {\n\n  this._validateId(newId);\n\n  if (typeof element === 'string') {\n    element = this.get(element);\n  }\n\n  this._eventBus.fire('element.updateId', {\n    element: element,\n    newId: newId\n  });\n\n  var gfx = this.getGraphics(element),\n      secondaryGfx = this.getGraphics(element, true);\n\n  this.remove(element);\n\n  element.id = newId;\n\n  this.add(element, gfx, secondaryGfx);\n};\n\n/**\n * Update the graphical representation of an element.\n *\n * @param {ElementLike|string} filter The element or its ID.\n * @param {SVGElement} gfx The new graphical representation.\n * @param {boolean} [secondary=false] Whether to update the secondary graphical representation.\n */\nElementRegistry.prototype.updateGraphics = function(filter, gfx, secondary) {\n  var id = filter.id || filter;\n\n  var container = this._elements[id];\n\n  if (secondary) {\n    container.secondaryGfx = gfx;\n  } else {\n    container.gfx = gfx;\n  }\n\n  if (gfx) {\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.attr)(gfx, ELEMENT_ID, id);\n  }\n\n  return gfx;\n};\n\n/**\n * Get the element with the given ID or graphical representation.\n *\n * @example\n *\n * ```javascript\n * elementRegistry.get('SomeElementId_1');\n *\n * elementRegistry.get(gfx);\n * ```\n *\n * @param {string|SVGElement} filter The elements ID or graphical representation.\n *\n * @return {ElementLike|undefined} The element.\n */\nElementRegistry.prototype.get = function(filter) {\n  var id;\n\n  if (typeof filter === 'string') {\n    id = filter;\n  } else {\n    id = filter && (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.attr)(filter, ELEMENT_ID);\n  }\n\n  var container = this._elements[id];\n  return container && container.element;\n};\n\n/**\n * Return all elements that match a given filter function.\n *\n * @param {ElementRegistryFilterCallback} fn The filter function.\n *\n * @return {ElementLike[]} The matching elements.\n */\nElementRegistry.prototype.filter = function(fn) {\n\n  var filtered = [];\n\n  this.forEach(function(element, gfx) {\n    if (fn(element, gfx)) {\n      filtered.push(element);\n    }\n  });\n\n  return filtered;\n};\n\n/**\n * Return the first element that matches the given filter function.\n *\n * @param {ElementRegistryFilterCallback} fn The filter function.\n *\n * @return {ElementLike|undefined} The matching element.\n */\nElementRegistry.prototype.find = function(fn) {\n  var map = this._elements,\n      keys = Object.keys(map);\n\n  for (var i = 0; i < keys.length; i++) {\n    var id = keys[i],\n        container = map[id],\n        element = container.element,\n        gfx = container.gfx;\n\n    if (fn(element, gfx)) {\n      return element;\n    }\n  }\n};\n\n/**\n * Get all elements.\n *\n * @return {ElementLike[]} All elements.\n */\nElementRegistry.prototype.getAll = function() {\n  return this.filter(function(e) { return e; });\n};\n\n/**\n * Execute a given function for each element.\n *\n * @param {ElementRegistryForEachCallback} fn The function to execute.\n */\nElementRegistry.prototype.forEach = function(fn) {\n\n  var map = this._elements;\n\n  Object.keys(map).forEach(function(id) {\n    var container = map[id],\n        element = container.element,\n        gfx = container.gfx;\n\n    return fn(element, gfx);\n  });\n};\n\n/**\n * Return the graphical representation of an element.\n *\n * @example\n *\n * ```javascript\n * elementRegistry.getGraphics('SomeElementId_1');\n *\n * elementRegistry.getGraphics(rootElement); // <g ...>\n *\n * elementRegistry.getGraphics(rootElement, true); // <svg ...>\n * ```\n *\n * @param {ElementLike|string} filter The element or its ID.\n * @param {boolean} [secondary=false] Whether to return the secondary graphical representation.\n *\n * @return {SVGElement} The graphical representation.\n */\nElementRegistry.prototype.getGraphics = function(filter, secondary) {\n  var id = filter.id || filter;\n\n  var container = this._elements[id];\n  return container && (secondary ? container.secondaryGfx : container.gfx);\n};\n\n/**\n * Validate an ID and throw an error if invalid.\n *\n * @param {string} id\n *\n * @throws {Error} Error indicating that the ID is invalid or already assigned.\n */\nElementRegistry.prototype._validateId = function(id) {\n  if (!id) {\n    throw new Error('element must have an id');\n  }\n\n  if (this._elements[id]) {\n    throw new Error('element with id ' + id + ' already added');\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvY29yZS9FbGVtZW50UmVnaXN0cnkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7QUFFMkM7O0FBRTNDO0FBQ0EsYUFBYSwrQkFBK0I7QUFDNUM7QUFDQSxhQUFhLDhCQUE4QjtBQUMzQztBQUNBLGNBQWMseURBQXlEO0FBQ3ZFLGNBQWMsaURBQWlEO0FBQy9EOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNlOztBQUVmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxhQUFhO0FBQ3hCLFdBQVcsWUFBWTtBQUN2QixXQUFXLFlBQVk7QUFDdkI7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBLEVBQUUsOENBQU87O0FBRVQ7QUFDQSxJQUFJLDhDQUFPO0FBQ1g7O0FBRUEseUJBQXlCO0FBQ3pCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsb0JBQW9CO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxJQUFJLDhDQUFPOztBQUVYO0FBQ0EsTUFBTSw4Q0FBTztBQUNiOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG9CQUFvQjtBQUMvQixXQUFXLFFBQVE7QUFDbkI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxvQkFBb0I7QUFDL0IsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0EsSUFBSSw4Q0FBTztBQUNYOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsbUJBQW1CO0FBQzlCO0FBQ0EsWUFBWSx1QkFBdUI7QUFDbkM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osbUJBQW1CLDhDQUFPO0FBQzFCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLCtCQUErQjtBQUMxQztBQUNBLFlBQVksZUFBZTtBQUMzQjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsK0JBQStCO0FBQzFDO0FBQ0EsWUFBWSx1QkFBdUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCLGlCQUFpQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZUFBZTtBQUMzQjtBQUNBO0FBQ0EsbUNBQW1DLFdBQVc7QUFDOUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQ0FBZ0M7QUFDM0M7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsbURBQW1EO0FBQ25EO0FBQ0E7QUFDQSxXQUFXLG9CQUFvQjtBQUMvQixXQUFXLFNBQVM7QUFDcEI7QUFDQSxZQUFZLFlBQVk7QUFDeEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9jb3JlL0VsZW1lbnRSZWdpc3RyeS5qcz9kYWVlIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBFTEVNRU5UX0lEID0gJ2RhdGEtZWxlbWVudC1pZCc7XG5cbmltcG9ydCB7IGF0dHIgYXMgc3ZnQXR0ciB9IGZyb20gJ3Rpbnktc3ZnJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuL1R5cGVzJykuRWxlbWVudExpa2V9IEVsZW1lbnRMaWtlXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKlxuICogQHR5cGVkZWYgeyAoZWxlbWVudDogRWxlbWVudExpa2UsIGdmeDogU1ZHRWxlbWVudCkgPT4gYm9vbGVhbnxhbnkgfSBFbGVtZW50UmVnaXN0cnlGaWx0ZXJDYWxsYmFja1xuICogQHR5cGVkZWYgeyAoZWxlbWVudDogRWxlbWVudExpa2UsIGdmeDogU1ZHRWxlbWVudCkgPT4gYW55IH0gRWxlbWVudFJlZ2lzdHJ5Rm9yRWFjaENhbGxiYWNrXG4gKi9cblxuLyoqXG4gKiBBIHJlZ2lzdHJ5IHRoYXQga2VlcHMgdHJhY2sgb2YgYWxsIHNoYXBlcyBpbiB0aGUgZGlhZ3JhbS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEVsZW1lbnRSZWdpc3RyeShldmVudEJ1cykge1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7IHtcbiAgICogICBbaWQ6IHN0cmluZ106IHtcbiAgICogICAgIGVsZW1lbnQ6IEVsZW1lbnRMaWtlO1xuICAgKiAgICAgZ2Z4PzogU1ZHRWxlbWVudDtcbiAgICogICAgIHNlY29uZGFyeUdmeD86IFNWR0VsZW1lbnQ7XG4gICAqICAgfVxuICAgKiB9IH1cbiAgICovXG4gIHRoaXMuX2VsZW1lbnRzID0ge307XG5cbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcbn1cblxuRWxlbWVudFJlZ2lzdHJ5LiRpbmplY3QgPSBbICdldmVudEJ1cycgXTtcblxuLyoqXG4gKiBBZGQgYW4gZWxlbWVudCBhbmQgaXRzIGdyYXBoaWNhbCByZXByZXNlbnRhdGlvbihzKSB0byB0aGUgcmVnaXN0cnkuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50TGlrZX0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBiZSBhZGRlZC5cbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZ2Z4IFRoZSBwcmltYXJ5IGdyYXBoaWNhbCByZXByZXNlbnRhdGlvbi5cbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gW3NlY29uZGFyeUdmeF0gVGhlIHNlY29uZGFyeSBncmFwaGljYWwgcmVwcmVzZW50YXRpb24uXG4gKi9cbkVsZW1lbnRSZWdpc3RyeS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oZWxlbWVudCwgZ2Z4LCBzZWNvbmRhcnlHZngpIHtcblxuICB2YXIgaWQgPSBlbGVtZW50LmlkO1xuXG4gIHRoaXMuX3ZhbGlkYXRlSWQoaWQpO1xuXG4gIC8vIGFzc29jaWF0ZSBkb20gbm9kZSB3aXRoIGVsZW1lbnRcbiAgc3ZnQXR0cihnZngsIEVMRU1FTlRfSUQsIGlkKTtcblxuICBpZiAoc2Vjb25kYXJ5R2Z4KSB7XG4gICAgc3ZnQXR0cihzZWNvbmRhcnlHZngsIEVMRU1FTlRfSUQsIGlkKTtcbiAgfVxuXG4gIHRoaXMuX2VsZW1lbnRzW2lkXSA9IHsgZWxlbWVudDogZWxlbWVudCwgZ2Z4OiBnZngsIHNlY29uZGFyeUdmeDogc2Vjb25kYXJ5R2Z4IH07XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbiBlbGVtZW50IGZyb20gdGhlIHJlZ2lzdHJ5LlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudExpa2V8c3RyaW5nfSBlbGVtZW50XG4gKi9cbkVsZW1lbnRSZWdpc3RyeS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB2YXIgZWxlbWVudHMgPSB0aGlzLl9lbGVtZW50cyxcbiAgICAgIGlkID0gZWxlbWVudC5pZCB8fCBlbGVtZW50LFxuICAgICAgY29udGFpbmVyID0gaWQgJiYgZWxlbWVudHNbaWRdO1xuXG4gIGlmIChjb250YWluZXIpIHtcblxuICAgIC8vIHVuc2V0IGVsZW1lbnQgaWQgb24gZ2Z4XG4gICAgc3ZnQXR0cihjb250YWluZXIuZ2Z4LCBFTEVNRU5UX0lELCAnJyk7XG5cbiAgICBpZiAoY29udGFpbmVyLnNlY29uZGFyeUdmeCkge1xuICAgICAgc3ZnQXR0cihjb250YWluZXIuc2Vjb25kYXJ5R2Z4LCBFTEVNRU5UX0lELCAnJyk7XG4gICAgfVxuXG4gICAgZGVsZXRlIGVsZW1lbnRzW2lkXTtcbiAgfVxufTtcblxuLyoqXG4gKiBVcGRhdGUgYW4gZWxlbWVudHMgSUQuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50TGlrZXxzdHJpbmd9IGVsZW1lbnQgVGhlIGVsZW1lbnQgb3IgaXRzIElELlxuICogQHBhcmFtIHtzdHJpbmd9IG5ld0lkIFRoZSBuZXcgSUQuXG4gKi9cbkVsZW1lbnRSZWdpc3RyeS5wcm90b3R5cGUudXBkYXRlSWQgPSBmdW5jdGlvbihlbGVtZW50LCBuZXdJZCkge1xuXG4gIHRoaXMuX3ZhbGlkYXRlSWQobmV3SWQpO1xuXG4gIGlmICh0eXBlb2YgZWxlbWVudCA9PT0gJ3N0cmluZycpIHtcbiAgICBlbGVtZW50ID0gdGhpcy5nZXQoZWxlbWVudCk7XG4gIH1cblxuICB0aGlzLl9ldmVudEJ1cy5maXJlKCdlbGVtZW50LnVwZGF0ZUlkJywge1xuICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgbmV3SWQ6IG5ld0lkXG4gIH0pO1xuXG4gIHZhciBnZnggPSB0aGlzLmdldEdyYXBoaWNzKGVsZW1lbnQpLFxuICAgICAgc2Vjb25kYXJ5R2Z4ID0gdGhpcy5nZXRHcmFwaGljcyhlbGVtZW50LCB0cnVlKTtcblxuICB0aGlzLnJlbW92ZShlbGVtZW50KTtcblxuICBlbGVtZW50LmlkID0gbmV3SWQ7XG5cbiAgdGhpcy5hZGQoZWxlbWVudCwgZ2Z4LCBzZWNvbmRhcnlHZngpO1xufTtcblxuLyoqXG4gKiBVcGRhdGUgdGhlIGdyYXBoaWNhbCByZXByZXNlbnRhdGlvbiBvZiBhbiBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudExpa2V8c3RyaW5nfSBmaWx0ZXIgVGhlIGVsZW1lbnQgb3IgaXRzIElELlxuICogQHBhcmFtIHtTVkdFbGVtZW50fSBnZnggVGhlIG5ldyBncmFwaGljYWwgcmVwcmVzZW50YXRpb24uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtzZWNvbmRhcnk9ZmFsc2VdIFdoZXRoZXIgdG8gdXBkYXRlIHRoZSBzZWNvbmRhcnkgZ3JhcGhpY2FsIHJlcHJlc2VudGF0aW9uLlxuICovXG5FbGVtZW50UmVnaXN0cnkucHJvdG90eXBlLnVwZGF0ZUdyYXBoaWNzID0gZnVuY3Rpb24oZmlsdGVyLCBnZngsIHNlY29uZGFyeSkge1xuICB2YXIgaWQgPSBmaWx0ZXIuaWQgfHwgZmlsdGVyO1xuXG4gIHZhciBjb250YWluZXIgPSB0aGlzLl9lbGVtZW50c1tpZF07XG5cbiAgaWYgKHNlY29uZGFyeSkge1xuICAgIGNvbnRhaW5lci5zZWNvbmRhcnlHZnggPSBnZng7XG4gIH0gZWxzZSB7XG4gICAgY29udGFpbmVyLmdmeCA9IGdmeDtcbiAgfVxuXG4gIGlmIChnZngpIHtcbiAgICBzdmdBdHRyKGdmeCwgRUxFTUVOVF9JRCwgaWQpO1xuICB9XG5cbiAgcmV0dXJuIGdmeDtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBlbGVtZW50IHdpdGggdGhlIGdpdmVuIElEIG9yIGdyYXBoaWNhbCByZXByZXNlbnRhdGlvbi5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGVsZW1lbnRSZWdpc3RyeS5nZXQoJ1NvbWVFbGVtZW50SWRfMScpO1xuICpcbiAqIGVsZW1lbnRSZWdpc3RyeS5nZXQoZ2Z4KTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfFNWR0VsZW1lbnR9IGZpbHRlciBUaGUgZWxlbWVudHMgSUQgb3IgZ3JhcGhpY2FsIHJlcHJlc2VudGF0aW9uLlxuICpcbiAqIEByZXR1cm4ge0VsZW1lbnRMaWtlfHVuZGVmaW5lZH0gVGhlIGVsZW1lbnQuXG4gKi9cbkVsZW1lbnRSZWdpc3RyeS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oZmlsdGVyKSB7XG4gIHZhciBpZDtcblxuICBpZiAodHlwZW9mIGZpbHRlciA9PT0gJ3N0cmluZycpIHtcbiAgICBpZCA9IGZpbHRlcjtcbiAgfSBlbHNlIHtcbiAgICBpZCA9IGZpbHRlciAmJiBzdmdBdHRyKGZpbHRlciwgRUxFTUVOVF9JRCk7XG4gIH1cblxuICB2YXIgY29udGFpbmVyID0gdGhpcy5fZWxlbWVudHNbaWRdO1xuICByZXR1cm4gY29udGFpbmVyICYmIGNvbnRhaW5lci5lbGVtZW50O1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYWxsIGVsZW1lbnRzIHRoYXQgbWF0Y2ggYSBnaXZlbiBmaWx0ZXIgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtFbGVtZW50UmVnaXN0cnlGaWx0ZXJDYWxsYmFja30gZm4gVGhlIGZpbHRlciBmdW5jdGlvbi5cbiAqXG4gKiBAcmV0dXJuIHtFbGVtZW50TGlrZVtdfSBUaGUgbWF0Y2hpbmcgZWxlbWVudHMuXG4gKi9cbkVsZW1lbnRSZWdpc3RyeS5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24oZm4pIHtcblxuICB2YXIgZmlsdGVyZWQgPSBbXTtcblxuICB0aGlzLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCwgZ2Z4KSB7XG4gICAgaWYgKGZuKGVsZW1lbnQsIGdmeCkpIHtcbiAgICAgIGZpbHRlcmVkLnB1c2goZWxlbWVudCk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gZmlsdGVyZWQ7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IG1hdGNoZXMgdGhlIGdpdmVuIGZpbHRlciBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnRSZWdpc3RyeUZpbHRlckNhbGxiYWNrfSBmbiBUaGUgZmlsdGVyIGZ1bmN0aW9uLlxuICpcbiAqIEByZXR1cm4ge0VsZW1lbnRMaWtlfHVuZGVmaW5lZH0gVGhlIG1hdGNoaW5nIGVsZW1lbnQuXG4gKi9cbkVsZW1lbnRSZWdpc3RyeS5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uKGZuKSB7XG4gIHZhciBtYXAgPSB0aGlzLl9lbGVtZW50cyxcbiAgICAgIGtleXMgPSBPYmplY3Qua2V5cyhtYXApO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpZCA9IGtleXNbaV0sXG4gICAgICAgIGNvbnRhaW5lciA9IG1hcFtpZF0sXG4gICAgICAgIGVsZW1lbnQgPSBjb250YWluZXIuZWxlbWVudCxcbiAgICAgICAgZ2Z4ID0gY29udGFpbmVyLmdmeDtcblxuICAgIGlmIChmbihlbGVtZW50LCBnZngpKSB7XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogR2V0IGFsbCBlbGVtZW50cy5cbiAqXG4gKiBAcmV0dXJuIHtFbGVtZW50TGlrZVtdfSBBbGwgZWxlbWVudHMuXG4gKi9cbkVsZW1lbnRSZWdpc3RyeS5wcm90b3R5cGUuZ2V0QWxsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbihlKSB7IHJldHVybiBlOyB9KTtcbn07XG5cbi8qKlxuICogRXhlY3V0ZSBhIGdpdmVuIGZ1bmN0aW9uIGZvciBlYWNoIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50UmVnaXN0cnlGb3JFYWNoQ2FsbGJhY2t9IGZuIFRoZSBmdW5jdGlvbiB0byBleGVjdXRlLlxuICovXG5FbGVtZW50UmVnaXN0cnkucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihmbikge1xuXG4gIHZhciBtYXAgPSB0aGlzLl9lbGVtZW50cztcblxuICBPYmplY3Qua2V5cyhtYXApLmZvckVhY2goZnVuY3Rpb24oaWQpIHtcbiAgICB2YXIgY29udGFpbmVyID0gbWFwW2lkXSxcbiAgICAgICAgZWxlbWVudCA9IGNvbnRhaW5lci5lbGVtZW50LFxuICAgICAgICBnZnggPSBjb250YWluZXIuZ2Z4O1xuXG4gICAgcmV0dXJuIGZuKGVsZW1lbnQsIGdmeCk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGdyYXBoaWNhbCByZXByZXNlbnRhdGlvbiBvZiBhbiBlbGVtZW50LlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogZWxlbWVudFJlZ2lzdHJ5LmdldEdyYXBoaWNzKCdTb21lRWxlbWVudElkXzEnKTtcbiAqXG4gKiBlbGVtZW50UmVnaXN0cnkuZ2V0R3JhcGhpY3Mocm9vdEVsZW1lbnQpOyAvLyA8ZyAuLi4+XG4gKlxuICogZWxlbWVudFJlZ2lzdHJ5LmdldEdyYXBoaWNzKHJvb3RFbGVtZW50LCB0cnVlKTsgLy8gPHN2ZyAuLi4+XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnRMaWtlfHN0cmluZ30gZmlsdGVyIFRoZSBlbGVtZW50IG9yIGl0cyBJRC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NlY29uZGFyeT1mYWxzZV0gV2hldGhlciB0byByZXR1cm4gdGhlIHNlY29uZGFyeSBncmFwaGljYWwgcmVwcmVzZW50YXRpb24uXG4gKlxuICogQHJldHVybiB7U1ZHRWxlbWVudH0gVGhlIGdyYXBoaWNhbCByZXByZXNlbnRhdGlvbi5cbiAqL1xuRWxlbWVudFJlZ2lzdHJ5LnByb3RvdHlwZS5nZXRHcmFwaGljcyA9IGZ1bmN0aW9uKGZpbHRlciwgc2Vjb25kYXJ5KSB7XG4gIHZhciBpZCA9IGZpbHRlci5pZCB8fCBmaWx0ZXI7XG5cbiAgdmFyIGNvbnRhaW5lciA9IHRoaXMuX2VsZW1lbnRzW2lkXTtcbiAgcmV0dXJuIGNvbnRhaW5lciAmJiAoc2Vjb25kYXJ5ID8gY29udGFpbmVyLnNlY29uZGFyeUdmeCA6IGNvbnRhaW5lci5nZngpO1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZSBhbiBJRCBhbmQgdGhyb3cgYW4gZXJyb3IgaWYgaW52YWxpZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAqXG4gKiBAdGhyb3dzIHtFcnJvcn0gRXJyb3IgaW5kaWNhdGluZyB0aGF0IHRoZSBJRCBpcyBpbnZhbGlkIG9yIGFscmVhZHkgYXNzaWduZWQuXG4gKi9cbkVsZW1lbnRSZWdpc3RyeS5wcm90b3R5cGUuX3ZhbGlkYXRlSWQgPSBmdW5jdGlvbihpZCkge1xuICBpZiAoIWlkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdlbGVtZW50IG11c3QgaGF2ZSBhbiBpZCcpO1xuICB9XG5cbiAgaWYgKHRoaXMuX2VsZW1lbnRzW2lkXSkge1xuICAgIHRocm93IG5ldyBFcnJvcignZWxlbWVudCB3aXRoIGlkICcgKyBpZCArICcgYWxyZWFkeSBhZGRlZCcpO1xuICB9XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/core/ElementRegistry.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/core/EventBus.js":
/*!******************************************************!*\
  !*** ./node_modules/diagram-js/lib/core/EventBus.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EventBus)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\nvar FN_REF = '__fn';\n\nvar DEFAULT_PRIORITY = 1000;\n\nvar slice = Array.prototype.slice;\n\n/**\n * @typedef { {\n *   stopPropagation(): void;\n *   preventDefault(): void;\n *   cancelBubble: boolean;\n *   defaultPrevented: boolean;\n *   returnValue: any;\n * } } Event\n */\n\n/**\n * @template E\n *\n * @typedef { (event: E & Event, ...any) => any } EventBusEventCallback\n */\n\n/**\n * @typedef { {\n *  priority: number;\n *  next: EventBusListener | null;\n *  callback: EventBusEventCallback<any>;\n * } } EventBusListener\n */\n\n/**\n * A general purpose event bus.\n *\n * This component is used to communicate across a diagram instance.\n * Other parts of a diagram can use it to listen to and broadcast events.\n *\n *\n * ## Registering for Events\n *\n * The event bus provides the {@link EventBus#on} and {@link EventBus#once}\n * methods to register for events. {@link EventBus#off} can be used to\n * remove event registrations. Listeners receive an instance of {@link Event}\n * as the first argument. It allows them to hook into the event execution.\n *\n * ```javascript\n *\n * // listen for event\n * eventBus.on('foo', function(event) {\n *\n *   // access event type\n *   event.type; // 'foo'\n *\n *   // stop propagation to other listeners\n *   event.stopPropagation();\n *\n *   // prevent event default\n *   event.preventDefault();\n * });\n *\n * // listen for event with custom payload\n * eventBus.on('bar', function(event, payload) {\n *   console.log(payload);\n * });\n *\n * // listen for event returning value\n * eventBus.on('foobar', function(event) {\n *\n *   // stop event propagation + prevent default\n *   return false;\n *\n *   // stop event propagation + return custom result\n *   return {\n *     complex: 'listening result'\n *   };\n * });\n *\n *\n * // listen with custom priority (default=1000, higher is better)\n * eventBus.on('priorityfoo', 1500, function(event) {\n *   console.log('invoked first!');\n * });\n *\n *\n * // listen for event and pass the context (`this`)\n * eventBus.on('foobar', function(event) {\n *   this.foo();\n * }, this);\n * ```\n *\n *\n * ## Emitting Events\n *\n * Events can be emitted via the event bus using {@link EventBus#fire}.\n *\n * ```javascript\n *\n * // false indicates that the default action\n * // was prevented by listeners\n * if (eventBus.fire('foo') === false) {\n *   console.log('default has been prevented!');\n * };\n *\n *\n * // custom args + return value listener\n * eventBus.on('sum', function(event, a, b) {\n *   return a + b;\n * });\n *\n * // you can pass custom arguments + retrieve result values.\n * var sum = eventBus.fire('sum', 1, 2);\n * console.log(sum); // 3\n * ```\n *\n * @template [EventMap=null]\n */\nfunction EventBus() {\n\n  /**\n   * @type { Record<string, EventBusListener> }\n   */\n  this._listeners = {};\n\n  // cleanup on destroy on lowest priority to allow\n  // message passing until the bitter end\n  this.on('diagram.destroy', 1, this._destroy, this);\n}\n\n/**\n * @overlord\n *\n * Register an event listener for events with the given name.\n *\n * The callback will be invoked with `event, ...additionalArguments`\n * that have been passed to {@link EventBus#fire}.\n *\n * Returning false from a listener will prevent the events default action\n * (if any is specified). To stop an event from being processed further in\n * other listeners execute {@link Event#stopPropagation}.\n *\n * Returning anything but `undefined` from a listener will stop the listener propagation.\n *\n * @template T\n *\n * @param {string|string[]} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<T>} callback\n * @param {any} [that] callback context\n */\n/**\n * Register an event listener for events with the given name.\n *\n * The callback will be invoked with `event, ...additionalArguments`\n * that have been passed to {@link EventBus#fire}.\n *\n * Returning false from a listener will prevent the events default action\n * (if any is specified). To stop an event from being processed further in\n * other listeners execute {@link Event#stopPropagation}.\n *\n * Returning anything but `undefined` from a listener will stop the listener propagation.\n *\n * @template {keyof EventMap} EventName\n *\n * @param {EventName} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<EventMap[EventName]>} callback\n * @param {any} [that] callback context\n */\nEventBus.prototype.on = function(events, priority, callback, that) {\n\n  events = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(events) ? events : [ events ];\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(priority)) {\n    throw new Error('priority must be a number');\n  }\n\n  var actualCallback = callback;\n\n  if (that) {\n    actualCallback = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.bind)(callback, that);\n\n    // make sure we remember and are able to remove\n    // bound callbacks via {@link #off} using the original\n    // callback\n    actualCallback[FN_REF] = callback[FN_REF] || callback;\n  }\n\n  var self = this;\n\n  events.forEach(function(e) {\n    self._addListener(e, {\n      priority: priority,\n      callback: actualCallback,\n      next: null\n    });\n  });\n};\n\n/**\n * @overlord\n *\n * Register an event listener that is called only once.\n *\n * @template T\n *\n * @param {string|string[]} events to subscribe to\n * @param {number} [priority=1000] the listen priority\n * @param {EventBusEventCallback<T>} callback\n * @param {any} [that] callback context\n */\n/**\n * Register an event listener that is called only once.\n *\n * @template {keyof EventMap} EventName\n *\n * @param {EventName} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<EventMap[EventName]>} callback\n * @param {any} [that] callback context\n */\nEventBus.prototype.once = function(events, priority, callback, that) {\n  var self = this;\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(priority)) {\n    throw new Error('priority must be a number');\n  }\n\n  function wrappedCallback() {\n    wrappedCallback.__isTomb = true;\n\n    var result = callback.apply(that, arguments);\n\n    self.off(events, wrappedCallback);\n\n    return result;\n  }\n\n  // make sure we remember and are able to remove\n  // bound callbacks via {@link #off} using the original\n  // callback\n  wrappedCallback[FN_REF] = callback;\n\n  this.on(events, priority, wrappedCallback);\n};\n\n\n/**\n * Removes event listeners by event and callback.\n *\n * If no callback is given, all listeners for a given event name are being removed.\n *\n * @param {string|string[]} events\n * @param {EventBusEventCallback<unknown>} [callback]\n */\nEventBus.prototype.off = function(events, callback) {\n\n  events = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(events) ? events : [ events ];\n\n  var self = this;\n\n  events.forEach(function(event) {\n    self._removeListener(event, callback);\n  });\n\n};\n\n\n/**\n * Create an event recognized be the event bus.\n *\n * @param {Object} data Event data.\n *\n * @return {Event} An event that will be recognized by the event bus.\n */\nEventBus.prototype.createEvent = function(data) {\n  var event = new InternalEvent();\n\n  event.init(data);\n\n  return event;\n};\n\n\n/**\n * Fires an event.\n *\n * @example\n *\n * ```javascript\n * // fire event by name\n * events.fire('foo');\n *\n * // fire event object with nested type\n * var event = { type: 'foo' };\n * events.fire(event);\n *\n * // fire event with explicit type\n * var event = { x: 10, y: 20 };\n * events.fire('element.moved', event);\n *\n * // pass additional arguments to the event\n * events.on('foo', function(event, bar) {\n *   alert(bar);\n * });\n *\n * events.fire({ type: 'foo' }, 'I am bar!');\n * ```\n *\n * @param {string} [type] event type\n * @param {Object} [data] event or event data\n * @param {...any} [args] additional arguments the callback will be called with.\n *\n * @return {any} The return value. Will be set to `false` if the default was prevented.\n */\nEventBus.prototype.fire = function(type, data) {\n  var event,\n      firstListener,\n      returnValue,\n      args;\n\n  args = slice.call(arguments);\n\n  if (typeof type === 'object') {\n    data = type;\n    type = data.type;\n  }\n\n  if (!type) {\n    throw new Error('no event type specified');\n  }\n\n  firstListener = this._listeners[type];\n\n  if (!firstListener) {\n    return;\n  }\n\n  // we make sure we fire instances of our home made\n  // events here. We wrap them only once, though\n  if (data instanceof InternalEvent) {\n\n    // we are fine, we alread have an event\n    event = data;\n  } else {\n    event = this.createEvent(data);\n  }\n\n  // ensure we pass the event as the first parameter\n  args[0] = event;\n\n  // original event type (in case we delegate)\n  var originalType = event.type;\n\n  // update event type before delegation\n  if (type !== originalType) {\n    event.type = type;\n  }\n\n  try {\n    returnValue = this._invokeListeners(event, args, firstListener);\n  } finally {\n\n    // reset event type after delegation\n    if (type !== originalType) {\n      event.type = originalType;\n    }\n  }\n\n  // set the return value to false if the event default\n  // got prevented and no other return value exists\n  if (returnValue === undefined && event.defaultPrevented) {\n    returnValue = false;\n  }\n\n  return returnValue;\n};\n\n/**\n * Handle an error by firing an event.\n *\n * @param {Error} error The error to be handled.\n *\n * @return {boolean} Whether the error was handled.\n */\nEventBus.prototype.handleError = function(error) {\n  return this.fire('error', { error: error }) === false;\n};\n\n\nEventBus.prototype._destroy = function() {\n  this._listeners = {};\n};\n\n/**\n * @param {Event} event\n * @param {any[]} args\n * @param {EventBusListener} listener\n *\n * @return {any}\n */\nEventBus.prototype._invokeListeners = function(event, args, listener) {\n\n  var returnValue;\n\n  while (listener) {\n\n    // handle stopped propagation\n    if (event.cancelBubble) {\n      break;\n    }\n\n    returnValue = this._invokeListener(event, args, listener);\n\n    listener = listener.next;\n  }\n\n  return returnValue;\n};\n\n/**\n * @param {Event} event\n * @param {any[]} args\n * @param {EventBusListener} listener\n *\n * @return {any}\n */\nEventBus.prototype._invokeListener = function(event, args, listener) {\n\n  var returnValue;\n\n  if (listener.callback.__isTomb) {\n    return returnValue;\n  }\n\n  try {\n\n    // returning false prevents the default action\n    returnValue = invokeFunction(listener.callback, args);\n\n    // stop propagation on return value\n    if (returnValue !== undefined) {\n      event.returnValue = returnValue;\n      event.stopPropagation();\n    }\n\n    // prevent default on return false\n    if (returnValue === false) {\n      event.preventDefault();\n    }\n  } catch (error) {\n    if (!this.handleError(error)) {\n      console.error('unhandled error in event listener', error);\n\n      throw error;\n    }\n  }\n\n  return returnValue;\n};\n\n/**\n * Add new listener with a certain priority to the list\n * of listeners (for the given event).\n *\n * The semantics of listener registration / listener execution are\n * first register, first serve: New listeners will always be inserted\n * after existing listeners with the same priority.\n *\n * Example: Inserting two listeners with priority 1000 and 1300\n *\n *    * before: [ 1500, 1500, 1000, 1000 ]\n *    * after: [ 1500, 1500, (new=1300), 1000, 1000, (new=1000) ]\n *\n * @param {string} event\n * @param {EventBusListener} newListener\n */\nEventBus.prototype._addListener = function(event, newListener) {\n\n  var listener = this._getListeners(event),\n      previousListener;\n\n  // no prior listeners\n  if (!listener) {\n    this._setListeners(event, newListener);\n\n    return;\n  }\n\n  // ensure we order listeners by priority from\n  // 0 (high) to n > 0 (low)\n  while (listener) {\n\n    if (listener.priority < newListener.priority) {\n\n      newListener.next = listener;\n\n      if (previousListener) {\n        previousListener.next = newListener;\n      } else {\n        this._setListeners(event, newListener);\n      }\n\n      return;\n    }\n\n    previousListener = listener;\n    listener = listener.next;\n  }\n\n  // add new listener to back\n  previousListener.next = newListener;\n};\n\n\n/**\n * @param {string} name\n *\n * @return {EventBusListener}\n */\nEventBus.prototype._getListeners = function(name) {\n  return this._listeners[name];\n};\n\n/**\n * @param {string} name\n * @param {EventBusListener} listener\n */\nEventBus.prototype._setListeners = function(name, listener) {\n  this._listeners[name] = listener;\n};\n\nEventBus.prototype._removeListener = function(event, callback) {\n\n  var listener = this._getListeners(event),\n      nextListener,\n      previousListener,\n      listenerCallback;\n\n  if (!callback) {\n\n    // clear listeners\n    this._setListeners(event, null);\n\n    return;\n  }\n\n  while (listener) {\n\n    nextListener = listener.next;\n\n    listenerCallback = listener.callback;\n\n    if (listenerCallback === callback || listenerCallback[FN_REF] === callback) {\n      if (previousListener) {\n        previousListener.next = nextListener;\n      } else {\n\n        // new first listener\n        this._setListeners(event, nextListener);\n      }\n    }\n\n    previousListener = listener;\n    listener = nextListener;\n  }\n};\n\n/**\n * A event that is emitted via the event bus.\n */\nfunction InternalEvent() { }\n\nInternalEvent.prototype.stopPropagation = function() {\n  this.cancelBubble = true;\n};\n\nInternalEvent.prototype.preventDefault = function() {\n  this.defaultPrevented = true;\n};\n\nInternalEvent.prototype.init = function(data) {\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(this, data || {});\n};\n\n\n/**\n * Invoke function. Be fast...\n *\n * @param {Function} fn\n * @param {any[]} args\n *\n * @return {any}\n */\nfunction invokeFunction(fn, args) {\n  return fn.apply(null, args);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvY29yZS9FdmVudEJ1cy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQU1rQjs7QUFFbEI7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYyxvQ0FBb0M7QUFDbEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsbUJBQW1CLEtBQUs7QUFDdkQsb0NBQW9DLG9CQUFvQjtBQUN4RCxpRUFBaUU7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxvQkFBb0I7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ2U7O0FBRWY7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsb0JBQW9CO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw0QkFBNEI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCLFdBQVcsUUFBUTtBQUNuQixXQUFXLDBCQUEwQjtBQUNyQyxXQUFXLEtBQUs7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixvQkFBb0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDRCQUE0QjtBQUN4RDtBQUNBO0FBQ0E7QUFDQSxjQUFjLGdCQUFnQjtBQUM5QjtBQUNBLFdBQVcsV0FBVztBQUN0QixXQUFXLFFBQVE7QUFDbkIsV0FBVyw0Q0FBNEM7QUFDdkQsV0FBVyxLQUFLO0FBQ2hCO0FBQ0E7O0FBRUEsV0FBVyxpREFBTzs7QUFFbEIsTUFBTSxvREFBVTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPLGtEQUFRO0FBQ2Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLHFCQUFxQiw4Q0FBSTs7QUFFekI7QUFDQSw0QkFBNEIsWUFBWTtBQUN4QztBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlCQUFpQjtBQUM1QixXQUFXLFFBQVE7QUFDbkIsV0FBVywwQkFBMEI7QUFDckMsV0FBVyxLQUFLO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnQkFBZ0I7QUFDOUI7QUFDQSxXQUFXLFdBQVc7QUFDdEIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsNENBQTRDO0FBQ3ZELFdBQVcsS0FBSztBQUNoQjtBQUNBO0FBQ0E7O0FBRUEsTUFBTSxvREFBVTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPLGtEQUFRO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSwwQkFBMEIsWUFBWTtBQUN0QztBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlCQUFpQjtBQUM1QixXQUFXLGdDQUFnQztBQUMzQztBQUNBOztBQUVBLFdBQVcsaURBQU87O0FBRWxCOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsaUJBQWlCLGFBQWE7QUFDOUI7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWSxLQUFLO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0EsOEJBQThCLGNBQWM7QUFDNUM7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxrQkFBa0I7QUFDN0I7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsa0JBQWtCO0FBQzdCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsa0JBQWtCO0FBQzdCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxrQkFBa0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7O0FBRVI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUUsZ0RBQU0saUJBQWlCO0FBQ3pCOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2NvcmUvRXZlbnRCdXMuanM/ZmMwZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBpc0Z1bmN0aW9uLFxuICBpc0FycmF5LFxuICBpc051bWJlcixcbiAgYmluZCxcbiAgYXNzaWduXG59IGZyb20gJ21pbi1kYXNoJztcblxudmFyIEZOX1JFRiA9ICdfX2ZuJztcblxudmFyIERFRkFVTFRfUFJJT1JJVFkgPSAxMDAwO1xuXG52YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbi8qKlxuICogQHR5cGVkZWYgeyB7XG4gKiAgIHN0b3BQcm9wYWdhdGlvbigpOiB2b2lkO1xuICogICBwcmV2ZW50RGVmYXVsdCgpOiB2b2lkO1xuICogICBjYW5jZWxCdWJibGU6IGJvb2xlYW47XG4gKiAgIGRlZmF1bHRQcmV2ZW50ZWQ6IGJvb2xlYW47XG4gKiAgIHJldHVyblZhbHVlOiBhbnk7XG4gKiB9IH0gRXZlbnRcbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBFXG4gKlxuICogQHR5cGVkZWYgeyAoZXZlbnQ6IEUgJiBFdmVudCwgLi4uYW55KSA9PiBhbnkgfSBFdmVudEJ1c0V2ZW50Q2FsbGJhY2tcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHsge1xuICogIHByaW9yaXR5OiBudW1iZXI7XG4gKiAgbmV4dDogRXZlbnRCdXNMaXN0ZW5lciB8IG51bGw7XG4gKiAgY2FsbGJhY2s6IEV2ZW50QnVzRXZlbnRDYWxsYmFjazxhbnk+O1xuICogfSB9IEV2ZW50QnVzTGlzdGVuZXJcbiAqL1xuXG4vKipcbiAqIEEgZ2VuZXJhbCBwdXJwb3NlIGV2ZW50IGJ1cy5cbiAqXG4gKiBUaGlzIGNvbXBvbmVudCBpcyB1c2VkIHRvIGNvbW11bmljYXRlIGFjcm9zcyBhIGRpYWdyYW0gaW5zdGFuY2UuXG4gKiBPdGhlciBwYXJ0cyBvZiBhIGRpYWdyYW0gY2FuIHVzZSBpdCB0byBsaXN0ZW4gdG8gYW5kIGJyb2FkY2FzdCBldmVudHMuXG4gKlxuICpcbiAqICMjIFJlZ2lzdGVyaW5nIGZvciBFdmVudHNcbiAqXG4gKiBUaGUgZXZlbnQgYnVzIHByb3ZpZGVzIHRoZSB7QGxpbmsgRXZlbnRCdXMjb259IGFuZCB7QGxpbmsgRXZlbnRCdXMjb25jZX1cbiAqIG1ldGhvZHMgdG8gcmVnaXN0ZXIgZm9yIGV2ZW50cy4ge0BsaW5rIEV2ZW50QnVzI29mZn0gY2FuIGJlIHVzZWQgdG9cbiAqIHJlbW92ZSBldmVudCByZWdpc3RyYXRpb25zLiBMaXN0ZW5lcnMgcmVjZWl2ZSBhbiBpbnN0YW5jZSBvZiB7QGxpbmsgRXZlbnR9XG4gKiBhcyB0aGUgZmlyc3QgYXJndW1lbnQuIEl0IGFsbG93cyB0aGVtIHRvIGhvb2sgaW50byB0aGUgZXZlbnQgZXhlY3V0aW9uLlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqXG4gKiAvLyBsaXN0ZW4gZm9yIGV2ZW50XG4gKiBldmVudEJ1cy5vbignZm9vJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAqXG4gKiAgIC8vIGFjY2VzcyBldmVudCB0eXBlXG4gKiAgIGV2ZW50LnR5cGU7IC8vICdmb28nXG4gKlxuICogICAvLyBzdG9wIHByb3BhZ2F0aW9uIHRvIG90aGVyIGxpc3RlbmVyc1xuICogICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAqXG4gKiAgIC8vIHByZXZlbnQgZXZlbnQgZGVmYXVsdFxuICogICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICogfSk7XG4gKlxuICogLy8gbGlzdGVuIGZvciBldmVudCB3aXRoIGN1c3RvbSBwYXlsb2FkXG4gKiBldmVudEJ1cy5vbignYmFyJywgZnVuY3Rpb24oZXZlbnQsIHBheWxvYWQpIHtcbiAqICAgY29uc29sZS5sb2cocGF5bG9hZCk7XG4gKiB9KTtcbiAqXG4gKiAvLyBsaXN0ZW4gZm9yIGV2ZW50IHJldHVybmluZyB2YWx1ZVxuICogZXZlbnRCdXMub24oJ2Zvb2JhcicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gKlxuICogICAvLyBzdG9wIGV2ZW50IHByb3BhZ2F0aW9uICsgcHJldmVudCBkZWZhdWx0XG4gKiAgIHJldHVybiBmYWxzZTtcbiAqXG4gKiAgIC8vIHN0b3AgZXZlbnQgcHJvcGFnYXRpb24gKyByZXR1cm4gY3VzdG9tIHJlc3VsdFxuICogICByZXR1cm4ge1xuICogICAgIGNvbXBsZXg6ICdsaXN0ZW5pbmcgcmVzdWx0J1xuICogICB9O1xuICogfSk7XG4gKlxuICpcbiAqIC8vIGxpc3RlbiB3aXRoIGN1c3RvbSBwcmlvcml0eSAoZGVmYXVsdD0xMDAwLCBoaWdoZXIgaXMgYmV0dGVyKVxuICogZXZlbnRCdXMub24oJ3ByaW9yaXR5Zm9vJywgMTUwMCwgZnVuY3Rpb24oZXZlbnQpIHtcbiAqICAgY29uc29sZS5sb2coJ2ludm9rZWQgZmlyc3QhJyk7XG4gKiB9KTtcbiAqXG4gKlxuICogLy8gbGlzdGVuIGZvciBldmVudCBhbmQgcGFzcyB0aGUgY29udGV4dCAoYHRoaXNgKVxuICogZXZlbnRCdXMub24oJ2Zvb2JhcicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gKiAgIHRoaXMuZm9vKCk7XG4gKiB9LCB0aGlzKTtcbiAqIGBgYFxuICpcbiAqXG4gKiAjIyBFbWl0dGluZyBFdmVudHNcbiAqXG4gKiBFdmVudHMgY2FuIGJlIGVtaXR0ZWQgdmlhIHRoZSBldmVudCBidXMgdXNpbmcge0BsaW5rIEV2ZW50QnVzI2ZpcmV9LlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqXG4gKiAvLyBmYWxzZSBpbmRpY2F0ZXMgdGhhdCB0aGUgZGVmYXVsdCBhY3Rpb25cbiAqIC8vIHdhcyBwcmV2ZW50ZWQgYnkgbGlzdGVuZXJzXG4gKiBpZiAoZXZlbnRCdXMuZmlyZSgnZm9vJykgPT09IGZhbHNlKSB7XG4gKiAgIGNvbnNvbGUubG9nKCdkZWZhdWx0IGhhcyBiZWVuIHByZXZlbnRlZCEnKTtcbiAqIH07XG4gKlxuICpcbiAqIC8vIGN1c3RvbSBhcmdzICsgcmV0dXJuIHZhbHVlIGxpc3RlbmVyXG4gKiBldmVudEJ1cy5vbignc3VtJywgZnVuY3Rpb24oZXZlbnQsIGEsIGIpIHtcbiAqICAgcmV0dXJuIGEgKyBiO1xuICogfSk7XG4gKlxuICogLy8geW91IGNhbiBwYXNzIGN1c3RvbSBhcmd1bWVudHMgKyByZXRyaWV2ZSByZXN1bHQgdmFsdWVzLlxuICogdmFyIHN1bSA9IGV2ZW50QnVzLmZpcmUoJ3N1bScsIDEsIDIpO1xuICogY29uc29sZS5sb2coc3VtKTsgLy8gM1xuICogYGBgXG4gKlxuICogQHRlbXBsYXRlIFtFdmVudE1hcD1udWxsXVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBFdmVudEJ1cygpIHtcblxuICAvKipcbiAgICogQHR5cGUgeyBSZWNvcmQ8c3RyaW5nLCBFdmVudEJ1c0xpc3RlbmVyPiB9XG4gICAqL1xuICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcblxuICAvLyBjbGVhbnVwIG9uIGRlc3Ryb3kgb24gbG93ZXN0IHByaW9yaXR5IHRvIGFsbG93XG4gIC8vIG1lc3NhZ2UgcGFzc2luZyB1bnRpbCB0aGUgYml0dGVyIGVuZFxuICB0aGlzLm9uKCdkaWFncmFtLmRlc3Ryb3knLCAxLCB0aGlzLl9kZXN0cm95LCB0aGlzKTtcbn1cblxuLyoqXG4gKiBAb3ZlcmxvcmRcbiAqXG4gKiBSZWdpc3RlciBhbiBldmVudCBsaXN0ZW5lciBmb3IgZXZlbnRzIHdpdGggdGhlIGdpdmVuIG5hbWUuXG4gKlxuICogVGhlIGNhbGxiYWNrIHdpbGwgYmUgaW52b2tlZCB3aXRoIGBldmVudCwgLi4uYWRkaXRpb25hbEFyZ3VtZW50c2BcbiAqIHRoYXQgaGF2ZSBiZWVuIHBhc3NlZCB0byB7QGxpbmsgRXZlbnRCdXMjZmlyZX0uXG4gKlxuICogUmV0dXJuaW5nIGZhbHNlIGZyb20gYSBsaXN0ZW5lciB3aWxsIHByZXZlbnQgdGhlIGV2ZW50cyBkZWZhdWx0IGFjdGlvblxuICogKGlmIGFueSBpcyBzcGVjaWZpZWQpLiBUbyBzdG9wIGFuIGV2ZW50IGZyb20gYmVpbmcgcHJvY2Vzc2VkIGZ1cnRoZXIgaW5cbiAqIG90aGVyIGxpc3RlbmVycyBleGVjdXRlIHtAbGluayBFdmVudCNzdG9wUHJvcGFnYXRpb259LlxuICpcbiAqIFJldHVybmluZyBhbnl0aGluZyBidXQgYHVuZGVmaW5lZGAgZnJvbSBhIGxpc3RlbmVyIHdpbGwgc3RvcCB0aGUgbGlzdGVuZXIgcHJvcGFnYXRpb24uXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gZXZlbnRzIHRvIHN1YnNjcmliZSB0b1xuICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT0xMDAwXSBsaXN0ZW4gcHJpb3JpdHlcbiAqIEBwYXJhbSB7RXZlbnRCdXNFdmVudENhbGxiYWNrPFQ+fSBjYWxsYmFja1xuICogQHBhcmFtIHthbnl9IFt0aGF0XSBjYWxsYmFjayBjb250ZXh0XG4gKi9cbi8qKlxuICogUmVnaXN0ZXIgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIGV2ZW50cyB3aXRoIHRoZSBnaXZlbiBuYW1lLlxuICpcbiAqIFRoZSBjYWxsYmFjayB3aWxsIGJlIGludm9rZWQgd2l0aCBgZXZlbnQsIC4uLmFkZGl0aW9uYWxBcmd1bWVudHNgXG4gKiB0aGF0IGhhdmUgYmVlbiBwYXNzZWQgdG8ge0BsaW5rIEV2ZW50QnVzI2ZpcmV9LlxuICpcbiAqIFJldHVybmluZyBmYWxzZSBmcm9tIGEgbGlzdGVuZXIgd2lsbCBwcmV2ZW50IHRoZSBldmVudHMgZGVmYXVsdCBhY3Rpb25cbiAqIChpZiBhbnkgaXMgc3BlY2lmaWVkKS4gVG8gc3RvcCBhbiBldmVudCBmcm9tIGJlaW5nIHByb2Nlc3NlZCBmdXJ0aGVyIGluXG4gKiBvdGhlciBsaXN0ZW5lcnMgZXhlY3V0ZSB7QGxpbmsgRXZlbnQjc3RvcFByb3BhZ2F0aW9ufS5cbiAqXG4gKiBSZXR1cm5pbmcgYW55dGhpbmcgYnV0IGB1bmRlZmluZWRgIGZyb20gYSBsaXN0ZW5lciB3aWxsIHN0b3AgdGhlIGxpc3RlbmVyIHByb3BhZ2F0aW9uLlxuICpcbiAqIEB0ZW1wbGF0ZSB7a2V5b2YgRXZlbnRNYXB9IEV2ZW50TmFtZVxuICpcbiAqIEBwYXJhbSB7RXZlbnROYW1lfSBldmVudHMgdG8gc3Vic2NyaWJlIHRvXG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PTEwMDBdIGxpc3RlbiBwcmlvcml0eVxuICogQHBhcmFtIHtFdmVudEJ1c0V2ZW50Q2FsbGJhY2s8RXZlbnRNYXBbRXZlbnROYW1lXT59IGNhbGxiYWNrXG4gKiBAcGFyYW0ge2FueX0gW3RoYXRdIGNhbGxiYWNrIGNvbnRleHRcbiAqL1xuRXZlbnRCdXMucHJvdG90eXBlLm9uID0gZnVuY3Rpb24oZXZlbnRzLCBwcmlvcml0eSwgY2FsbGJhY2ssIHRoYXQpIHtcblxuICBldmVudHMgPSBpc0FycmF5KGV2ZW50cykgPyBldmVudHMgOiBbIGV2ZW50cyBdO1xuXG4gIGlmIChpc0Z1bmN0aW9uKHByaW9yaXR5KSkge1xuICAgIHRoYXQgPSBjYWxsYmFjaztcbiAgICBjYWxsYmFjayA9IHByaW9yaXR5O1xuICAgIHByaW9yaXR5ID0gREVGQVVMVF9QUklPUklUWTtcbiAgfVxuXG4gIGlmICghaXNOdW1iZXIocHJpb3JpdHkpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcmlvcml0eSBtdXN0IGJlIGEgbnVtYmVyJyk7XG4gIH1cblxuICB2YXIgYWN0dWFsQ2FsbGJhY2sgPSBjYWxsYmFjaztcblxuICBpZiAodGhhdCkge1xuICAgIGFjdHVhbENhbGxiYWNrID0gYmluZChjYWxsYmFjaywgdGhhdCk7XG5cbiAgICAvLyBtYWtlIHN1cmUgd2UgcmVtZW1iZXIgYW5kIGFyZSBhYmxlIHRvIHJlbW92ZVxuICAgIC8vIGJvdW5kIGNhbGxiYWNrcyB2aWEge0BsaW5rICNvZmZ9IHVzaW5nIHRoZSBvcmlnaW5hbFxuICAgIC8vIGNhbGxiYWNrXG4gICAgYWN0dWFsQ2FsbGJhY2tbRk5fUkVGXSA9IGNhbGxiYWNrW0ZOX1JFRl0gfHwgY2FsbGJhY2s7XG4gIH1cblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24oZSkge1xuICAgIHNlbGYuX2FkZExpc3RlbmVyKGUsIHtcbiAgICAgIHByaW9yaXR5OiBwcmlvcml0eSxcbiAgICAgIGNhbGxiYWNrOiBhY3R1YWxDYWxsYmFjayxcbiAgICAgIG5leHQ6IG51bGxcbiAgICB9KTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEBvdmVybG9yZFxuICpcbiAqIFJlZ2lzdGVyIGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgaXMgY2FsbGVkIG9ubHkgb25jZS5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBldmVudHMgdG8gc3Vic2NyaWJlIHRvXG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PTEwMDBdIHRoZSBsaXN0ZW4gcHJpb3JpdHlcbiAqIEBwYXJhbSB7RXZlbnRCdXNFdmVudENhbGxiYWNrPFQ+fSBjYWxsYmFja1xuICogQHBhcmFtIHthbnl9IFt0aGF0XSBjYWxsYmFjayBjb250ZXh0XG4gKi9cbi8qKlxuICogUmVnaXN0ZXIgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBpcyBjYWxsZWQgb25seSBvbmNlLlxuICpcbiAqIEB0ZW1wbGF0ZSB7a2V5b2YgRXZlbnRNYXB9IEV2ZW50TmFtZVxuICpcbiAqIEBwYXJhbSB7RXZlbnROYW1lfSBldmVudHMgdG8gc3Vic2NyaWJlIHRvXG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PTEwMDBdIGxpc3RlbiBwcmlvcml0eVxuICogQHBhcmFtIHtFdmVudEJ1c0V2ZW50Q2FsbGJhY2s8RXZlbnRNYXBbRXZlbnROYW1lXT59IGNhbGxiYWNrXG4gKiBAcGFyYW0ge2FueX0gW3RoYXRdIGNhbGxiYWNrIGNvbnRleHRcbiAqL1xuRXZlbnRCdXMucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbihldmVudHMsIHByaW9yaXR5LCBjYWxsYmFjaywgdGhhdCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgaWYgKGlzRnVuY3Rpb24ocHJpb3JpdHkpKSB7XG4gICAgdGhhdCA9IGNhbGxiYWNrO1xuICAgIGNhbGxiYWNrID0gcHJpb3JpdHk7XG4gICAgcHJpb3JpdHkgPSBERUZBVUxUX1BSSU9SSVRZO1xuICB9XG5cbiAgaWYgKCFpc051bWJlcihwcmlvcml0eSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3ByaW9yaXR5IG11c3QgYmUgYSBudW1iZXInKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdyYXBwZWRDYWxsYmFjaygpIHtcbiAgICB3cmFwcGVkQ2FsbGJhY2suX19pc1RvbWIgPSB0cnVlO1xuXG4gICAgdmFyIHJlc3VsdCA9IGNhbGxiYWNrLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG5cbiAgICBzZWxmLm9mZihldmVudHMsIHdyYXBwZWRDYWxsYmFjayk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gbWFrZSBzdXJlIHdlIHJlbWVtYmVyIGFuZCBhcmUgYWJsZSB0byByZW1vdmVcbiAgLy8gYm91bmQgY2FsbGJhY2tzIHZpYSB7QGxpbmsgI29mZn0gdXNpbmcgdGhlIG9yaWdpbmFsXG4gIC8vIGNhbGxiYWNrXG4gIHdyYXBwZWRDYWxsYmFja1tGTl9SRUZdID0gY2FsbGJhY2s7XG5cbiAgdGhpcy5vbihldmVudHMsIHByaW9yaXR5LCB3cmFwcGVkQ2FsbGJhY2spO1xufTtcblxuXG4vKipcbiAqIFJlbW92ZXMgZXZlbnQgbGlzdGVuZXJzIGJ5IGV2ZW50IGFuZCBjYWxsYmFjay5cbiAqXG4gKiBJZiBubyBjYWxsYmFjayBpcyBnaXZlbiwgYWxsIGxpc3RlbmVycyBmb3IgYSBnaXZlbiBldmVudCBuYW1lIGFyZSBiZWluZyByZW1vdmVkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBldmVudHNcbiAqIEBwYXJhbSB7RXZlbnRCdXNFdmVudENhbGxiYWNrPHVua25vd24+fSBbY2FsbGJhY2tdXG4gKi9cbkV2ZW50QnVzLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbihldmVudHMsIGNhbGxiYWNrKSB7XG5cbiAgZXZlbnRzID0gaXNBcnJheShldmVudHMpID8gZXZlbnRzIDogWyBldmVudHMgXTtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBzZWxmLl9yZW1vdmVMaXN0ZW5lcihldmVudCwgY2FsbGJhY2spO1xuICB9KTtcblxufTtcblxuXG4vKipcbiAqIENyZWF0ZSBhbiBldmVudCByZWNvZ25pemVkIGJlIHRoZSBldmVudCBidXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGRhdGEgRXZlbnQgZGF0YS5cbiAqXG4gKiBAcmV0dXJuIHtFdmVudH0gQW4gZXZlbnQgdGhhdCB3aWxsIGJlIHJlY29nbml6ZWQgYnkgdGhlIGV2ZW50IGJ1cy5cbiAqL1xuRXZlbnRCdXMucHJvdG90eXBlLmNyZWF0ZUV2ZW50ID0gZnVuY3Rpb24oZGF0YSkge1xuICB2YXIgZXZlbnQgPSBuZXcgSW50ZXJuYWxFdmVudCgpO1xuXG4gIGV2ZW50LmluaXQoZGF0YSk7XG5cbiAgcmV0dXJuIGV2ZW50O1xufTtcblxuXG4vKipcbiAqIEZpcmVzIGFuIGV2ZW50LlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogLy8gZmlyZSBldmVudCBieSBuYW1lXG4gKiBldmVudHMuZmlyZSgnZm9vJyk7XG4gKlxuICogLy8gZmlyZSBldmVudCBvYmplY3Qgd2l0aCBuZXN0ZWQgdHlwZVxuICogdmFyIGV2ZW50ID0geyB0eXBlOiAnZm9vJyB9O1xuICogZXZlbnRzLmZpcmUoZXZlbnQpO1xuICpcbiAqIC8vIGZpcmUgZXZlbnQgd2l0aCBleHBsaWNpdCB0eXBlXG4gKiB2YXIgZXZlbnQgPSB7IHg6IDEwLCB5OiAyMCB9O1xuICogZXZlbnRzLmZpcmUoJ2VsZW1lbnQubW92ZWQnLCBldmVudCk7XG4gKlxuICogLy8gcGFzcyBhZGRpdGlvbmFsIGFyZ3VtZW50cyB0byB0aGUgZXZlbnRcbiAqIGV2ZW50cy5vbignZm9vJywgZnVuY3Rpb24oZXZlbnQsIGJhcikge1xuICogICBhbGVydChiYXIpO1xuICogfSk7XG4gKlxuICogZXZlbnRzLmZpcmUoeyB0eXBlOiAnZm9vJyB9LCAnSSBhbSBiYXIhJyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gW3R5cGVdIGV2ZW50IHR5cGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbZGF0YV0gZXZlbnQgb3IgZXZlbnQgZGF0YVxuICogQHBhcmFtIHsuLi5hbnl9IFthcmdzXSBhZGRpdGlvbmFsIGFyZ3VtZW50cyB0aGUgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgd2l0aC5cbiAqXG4gKiBAcmV0dXJuIHthbnl9IFRoZSByZXR1cm4gdmFsdWUuIFdpbGwgYmUgc2V0IHRvIGBmYWxzZWAgaWYgdGhlIGRlZmF1bHQgd2FzIHByZXZlbnRlZC5cbiAqL1xuRXZlbnRCdXMucHJvdG90eXBlLmZpcmUgPSBmdW5jdGlvbih0eXBlLCBkYXRhKSB7XG4gIHZhciBldmVudCxcbiAgICAgIGZpcnN0TGlzdGVuZXIsXG4gICAgICByZXR1cm5WYWx1ZSxcbiAgICAgIGFyZ3M7XG5cbiAgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzKTtcblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgZGF0YSA9IHR5cGU7XG4gICAgdHlwZSA9IGRhdGEudHlwZTtcbiAgfVxuXG4gIGlmICghdHlwZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignbm8gZXZlbnQgdHlwZSBzcGVjaWZpZWQnKTtcbiAgfVxuXG4gIGZpcnN0TGlzdGVuZXIgPSB0aGlzLl9saXN0ZW5lcnNbdHlwZV07XG5cbiAgaWYgKCFmaXJzdExpc3RlbmVyKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gd2UgbWFrZSBzdXJlIHdlIGZpcmUgaW5zdGFuY2VzIG9mIG91ciBob21lIG1hZGVcbiAgLy8gZXZlbnRzIGhlcmUuIFdlIHdyYXAgdGhlbSBvbmx5IG9uY2UsIHRob3VnaFxuICBpZiAoZGF0YSBpbnN0YW5jZW9mIEludGVybmFsRXZlbnQpIHtcblxuICAgIC8vIHdlIGFyZSBmaW5lLCB3ZSBhbHJlYWQgaGF2ZSBhbiBldmVudFxuICAgIGV2ZW50ID0gZGF0YTtcbiAgfSBlbHNlIHtcbiAgICBldmVudCA9IHRoaXMuY3JlYXRlRXZlbnQoZGF0YSk7XG4gIH1cblxuICAvLyBlbnN1cmUgd2UgcGFzcyB0aGUgZXZlbnQgYXMgdGhlIGZpcnN0IHBhcmFtZXRlclxuICBhcmdzWzBdID0gZXZlbnQ7XG5cbiAgLy8gb3JpZ2luYWwgZXZlbnQgdHlwZSAoaW4gY2FzZSB3ZSBkZWxlZ2F0ZSlcbiAgdmFyIG9yaWdpbmFsVHlwZSA9IGV2ZW50LnR5cGU7XG5cbiAgLy8gdXBkYXRlIGV2ZW50IHR5cGUgYmVmb3JlIGRlbGVnYXRpb25cbiAgaWYgKHR5cGUgIT09IG9yaWdpbmFsVHlwZSkge1xuICAgIGV2ZW50LnR5cGUgPSB0eXBlO1xuICB9XG5cbiAgdHJ5IHtcbiAgICByZXR1cm5WYWx1ZSA9IHRoaXMuX2ludm9rZUxpc3RlbmVycyhldmVudCwgYXJncywgZmlyc3RMaXN0ZW5lcik7XG4gIH0gZmluYWxseSB7XG5cbiAgICAvLyByZXNldCBldmVudCB0eXBlIGFmdGVyIGRlbGVnYXRpb25cbiAgICBpZiAodHlwZSAhPT0gb3JpZ2luYWxUeXBlKSB7XG4gICAgICBldmVudC50eXBlID0gb3JpZ2luYWxUeXBlO1xuICAgIH1cbiAgfVxuXG4gIC8vIHNldCB0aGUgcmV0dXJuIHZhbHVlIHRvIGZhbHNlIGlmIHRoZSBldmVudCBkZWZhdWx0XG4gIC8vIGdvdCBwcmV2ZW50ZWQgYW5kIG5vIG90aGVyIHJldHVybiB2YWx1ZSBleGlzdHNcbiAgaWYgKHJldHVyblZhbHVlID09PSB1bmRlZmluZWQgJiYgZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgIHJldHVyblZhbHVlID0gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gcmV0dXJuVmFsdWU7XG59O1xuXG4vKipcbiAqIEhhbmRsZSBhbiBlcnJvciBieSBmaXJpbmcgYW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtFcnJvcn0gZXJyb3IgVGhlIGVycm9yIHRvIGJlIGhhbmRsZWQuXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgZXJyb3Igd2FzIGhhbmRsZWQuXG4gKi9cbkV2ZW50QnVzLnByb3RvdHlwZS5oYW5kbGVFcnJvciA9IGZ1bmN0aW9uKGVycm9yKSB7XG4gIHJldHVybiB0aGlzLmZpcmUoJ2Vycm9yJywgeyBlcnJvcjogZXJyb3IgfSkgPT09IGZhbHNlO1xufTtcblxuXG5FdmVudEJ1cy5wcm90b3R5cGUuX2Rlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fbGlzdGVuZXJzID0ge307XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gKiBAcGFyYW0ge2FueVtdfSBhcmdzXG4gKiBAcGFyYW0ge0V2ZW50QnVzTGlzdGVuZXJ9IGxpc3RlbmVyXG4gKlxuICogQHJldHVybiB7YW55fVxuICovXG5FdmVudEJ1cy5wcm90b3R5cGUuX2ludm9rZUxpc3RlbmVycyA9IGZ1bmN0aW9uKGV2ZW50LCBhcmdzLCBsaXN0ZW5lcikge1xuXG4gIHZhciByZXR1cm5WYWx1ZTtcblxuICB3aGlsZSAobGlzdGVuZXIpIHtcblxuICAgIC8vIGhhbmRsZSBzdG9wcGVkIHByb3BhZ2F0aW9uXG4gICAgaWYgKGV2ZW50LmNhbmNlbEJ1YmJsZSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuVmFsdWUgPSB0aGlzLl9pbnZva2VMaXN0ZW5lcihldmVudCwgYXJncywgbGlzdGVuZXIpO1xuXG4gICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5uZXh0O1xuICB9XG5cbiAgcmV0dXJuIHJldHVyblZhbHVlO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICogQHBhcmFtIHthbnlbXX0gYXJnc1xuICogQHBhcmFtIHtFdmVudEJ1c0xpc3RlbmVyfSBsaXN0ZW5lclxuICpcbiAqIEByZXR1cm4ge2FueX1cbiAqL1xuRXZlbnRCdXMucHJvdG90eXBlLl9pbnZva2VMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50LCBhcmdzLCBsaXN0ZW5lcikge1xuXG4gIHZhciByZXR1cm5WYWx1ZTtcblxuICBpZiAobGlzdGVuZXIuY2FsbGJhY2suX19pc1RvbWIpIHtcbiAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gIH1cblxuICB0cnkge1xuXG4gICAgLy8gcmV0dXJuaW5nIGZhbHNlIHByZXZlbnRzIHRoZSBkZWZhdWx0IGFjdGlvblxuICAgIHJldHVyblZhbHVlID0gaW52b2tlRnVuY3Rpb24obGlzdGVuZXIuY2FsbGJhY2ssIGFyZ3MpO1xuXG4gICAgLy8gc3RvcCBwcm9wYWdhdGlvbiBvbiByZXR1cm4gdmFsdWVcbiAgICBpZiAocmV0dXJuVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZXZlbnQucmV0dXJuVmFsdWUgPSByZXR1cm5WYWx1ZTtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cblxuICAgIC8vIHByZXZlbnQgZGVmYXVsdCBvbiByZXR1cm4gZmFsc2VcbiAgICBpZiAocmV0dXJuVmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoIXRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCd1bmhhbmRsZWQgZXJyb3IgaW4gZXZlbnQgbGlzdGVuZXInLCBlcnJvcik7XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXR1cm5WYWx1ZTtcbn07XG5cbi8qKlxuICogQWRkIG5ldyBsaXN0ZW5lciB3aXRoIGEgY2VydGFpbiBwcmlvcml0eSB0byB0aGUgbGlzdFxuICogb2YgbGlzdGVuZXJzIChmb3IgdGhlIGdpdmVuIGV2ZW50KS5cbiAqXG4gKiBUaGUgc2VtYW50aWNzIG9mIGxpc3RlbmVyIHJlZ2lzdHJhdGlvbiAvIGxpc3RlbmVyIGV4ZWN1dGlvbiBhcmVcbiAqIGZpcnN0IHJlZ2lzdGVyLCBmaXJzdCBzZXJ2ZTogTmV3IGxpc3RlbmVycyB3aWxsIGFsd2F5cyBiZSBpbnNlcnRlZFxuICogYWZ0ZXIgZXhpc3RpbmcgbGlzdGVuZXJzIHdpdGggdGhlIHNhbWUgcHJpb3JpdHkuXG4gKlxuICogRXhhbXBsZTogSW5zZXJ0aW5nIHR3byBsaXN0ZW5lcnMgd2l0aCBwcmlvcml0eSAxMDAwIGFuZCAxMzAwXG4gKlxuICogICAgKiBiZWZvcmU6IFsgMTUwMCwgMTUwMCwgMTAwMCwgMTAwMCBdXG4gKiAgICAqIGFmdGVyOiBbIDE1MDAsIDE1MDAsIChuZXc9MTMwMCksIDEwMDAsIDEwMDAsIChuZXc9MTAwMCkgXVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtFdmVudEJ1c0xpc3RlbmVyfSBuZXdMaXN0ZW5lclxuICovXG5FdmVudEJ1cy5wcm90b3R5cGUuX2FkZExpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQsIG5ld0xpc3RlbmVyKSB7XG5cbiAgdmFyIGxpc3RlbmVyID0gdGhpcy5fZ2V0TGlzdGVuZXJzKGV2ZW50KSxcbiAgICAgIHByZXZpb3VzTGlzdGVuZXI7XG5cbiAgLy8gbm8gcHJpb3IgbGlzdGVuZXJzXG4gIGlmICghbGlzdGVuZXIpIHtcbiAgICB0aGlzLl9zZXRMaXN0ZW5lcnMoZXZlbnQsIG5ld0xpc3RlbmVyKTtcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIGVuc3VyZSB3ZSBvcmRlciBsaXN0ZW5lcnMgYnkgcHJpb3JpdHkgZnJvbVxuICAvLyAwIChoaWdoKSB0byBuID4gMCAobG93KVxuICB3aGlsZSAobGlzdGVuZXIpIHtcblxuICAgIGlmIChsaXN0ZW5lci5wcmlvcml0eSA8IG5ld0xpc3RlbmVyLnByaW9yaXR5KSB7XG5cbiAgICAgIG5ld0xpc3RlbmVyLm5leHQgPSBsaXN0ZW5lcjtcblxuICAgICAgaWYgKHByZXZpb3VzTGlzdGVuZXIpIHtcbiAgICAgICAgcHJldmlvdXNMaXN0ZW5lci5uZXh0ID0gbmV3TGlzdGVuZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zZXRMaXN0ZW5lcnMoZXZlbnQsIG5ld0xpc3RlbmVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHByZXZpb3VzTGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLm5leHQ7XG4gIH1cblxuICAvLyBhZGQgbmV3IGxpc3RlbmVyIHRvIGJhY2tcbiAgcHJldmlvdXNMaXN0ZW5lci5uZXh0ID0gbmV3TGlzdGVuZXI7XG59O1xuXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqXG4gKiBAcmV0dXJuIHtFdmVudEJ1c0xpc3RlbmVyfVxuICovXG5FdmVudEJ1cy5wcm90b3R5cGUuX2dldExpc3RlbmVycyA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgcmV0dXJuIHRoaXMuX2xpc3RlbmVyc1tuYW1lXTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7RXZlbnRCdXNMaXN0ZW5lcn0gbGlzdGVuZXJcbiAqL1xuRXZlbnRCdXMucHJvdG90eXBlLl9zZXRMaXN0ZW5lcnMgPSBmdW5jdGlvbihuYW1lLCBsaXN0ZW5lcikge1xuICB0aGlzLl9saXN0ZW5lcnNbbmFtZV0gPSBsaXN0ZW5lcjtcbn07XG5cbkV2ZW50QnVzLnByb3RvdHlwZS5fcmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCwgY2FsbGJhY2spIHtcblxuICB2YXIgbGlzdGVuZXIgPSB0aGlzLl9nZXRMaXN0ZW5lcnMoZXZlbnQpLFxuICAgICAgbmV4dExpc3RlbmVyLFxuICAgICAgcHJldmlvdXNMaXN0ZW5lcixcbiAgICAgIGxpc3RlbmVyQ2FsbGJhY2s7XG5cbiAgaWYgKCFjYWxsYmFjaykge1xuXG4gICAgLy8gY2xlYXIgbGlzdGVuZXJzXG4gICAgdGhpcy5fc2V0TGlzdGVuZXJzKGV2ZW50LCBudWxsKTtcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIHdoaWxlIChsaXN0ZW5lcikge1xuXG4gICAgbmV4dExpc3RlbmVyID0gbGlzdGVuZXIubmV4dDtcblxuICAgIGxpc3RlbmVyQ2FsbGJhY2sgPSBsaXN0ZW5lci5jYWxsYmFjaztcblxuICAgIGlmIChsaXN0ZW5lckNhbGxiYWNrID09PSBjYWxsYmFjayB8fCBsaXN0ZW5lckNhbGxiYWNrW0ZOX1JFRl0gPT09IGNhbGxiYWNrKSB7XG4gICAgICBpZiAocHJldmlvdXNMaXN0ZW5lcikge1xuICAgICAgICBwcmV2aW91c0xpc3RlbmVyLm5leHQgPSBuZXh0TGlzdGVuZXI7XG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIC8vIG5ldyBmaXJzdCBsaXN0ZW5lclxuICAgICAgICB0aGlzLl9zZXRMaXN0ZW5lcnMoZXZlbnQsIG5leHRMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcHJldmlvdXNMaXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgIGxpc3RlbmVyID0gbmV4dExpc3RlbmVyO1xuICB9XG59O1xuXG4vKipcbiAqIEEgZXZlbnQgdGhhdCBpcyBlbWl0dGVkIHZpYSB0aGUgZXZlbnQgYnVzLlxuICovXG5mdW5jdGlvbiBJbnRlcm5hbEV2ZW50KCkgeyB9XG5cbkludGVybmFsRXZlbnQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG59O1xuXG5JbnRlcm5hbEV2ZW50LnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xufTtcblxuSW50ZXJuYWxFdmVudC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgYXNzaWduKHRoaXMsIGRhdGEgfHwge30pO1xufTtcblxuXG4vKipcbiAqIEludm9rZSBmdW5jdGlvbi4gQmUgZmFzdC4uLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge2FueVtdfSBhcmdzXG4gKlxuICogQHJldHVybiB7YW55fVxuICovXG5mdW5jdGlvbiBpbnZva2VGdW5jdGlvbihmbiwgYXJncykge1xuICByZXR1cm4gZm4uYXBwbHkobnVsbCwgYXJncyk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/core/EventBus.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/core/GraphicsFactory.js":
/*!*************************************************************!*\
  !*** ./node_modules/diagram-js/lib/core/GraphicsFactory.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ GraphicsFactory)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _util_GraphicsUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/GraphicsUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/GraphicsUtil.js\");\n/* harmony import */ var _util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/SvgTransformUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/SvgTransformUtil.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dom */ \"(ssr)/./node_modules/min-dom/dist/index.esm.js\");\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/./node_modules/tiny-svg/dist/index.esm.js\");\n/* harmony import */ var _util_Elements__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Elements */ \"(ssr)/./node_modules/diagram-js/lib/util/Elements.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('./Types').ConnectionLike} ConnectionLike\n * @typedef {import('./Types').ElementLike} ElementLike\n * @typedef {import('./Types').ShapeLike} ShapeLike\n *\n * @typedef {import('./ElementRegistry').default} ElementRegistry\n * @typedef {import('./EventBus').default} EventBus\n */\n\n/**\n * A factory that creates graphical elements.\n *\n * @param {EventBus} eventBus\n * @param {ElementRegistry} elementRegistry\n */\nfunction GraphicsFactory(eventBus, elementRegistry) {\n  this._eventBus = eventBus;\n  this._elementRegistry = elementRegistry;\n}\n\nGraphicsFactory.$inject = [ 'eventBus' , 'elementRegistry' ];\n\n/**\n * @param { { parent?: any } } element\n * @return {SVGElement}\n */\nGraphicsFactory.prototype._getChildrenContainer = function(element) {\n\n  var gfx = this._elementRegistry.getGraphics(element);\n\n  var childrenGfx;\n\n  // root element\n  if (!element.parent) {\n    childrenGfx = gfx;\n  } else {\n    childrenGfx = (0,_util_GraphicsUtil__WEBPACK_IMPORTED_MODULE_0__.getChildren)(gfx);\n    if (!childrenGfx) {\n      childrenGfx = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('g');\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.classes)(childrenGfx).add('djs-children');\n\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.append)(gfx.parentNode, childrenGfx);\n    }\n  }\n\n  return childrenGfx;\n};\n\n/**\n * Clears the graphical representation of the element and returns the\n * cleared visual (the <g class=\"djs-visual\" /> element).\n */\nGraphicsFactory.prototype._clear = function(gfx) {\n  var visual = (0,_util_GraphicsUtil__WEBPACK_IMPORTED_MODULE_0__.getVisual)(gfx);\n\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.clear)(visual);\n\n  return visual;\n};\n\n/**\n * Creates a gfx container for shapes and connections\n *\n * The layout is as follows:\n *\n * <g class=\"djs-group\">\n *\n *   <!-- the gfx -->\n *   <g class=\"djs-element djs-(shape|connection|frame)\">\n *     <g class=\"djs-visual\">\n *       <!-- the renderer draws in here -->\n *     </g>\n *\n *     <!-- extensions (overlays, click box, ...) goes here\n *   </g>\n *\n *   <!-- the gfx child nodes -->\n *   <g class=\"djs-children\"></g>\n * </g>\n *\n * @param {string} type the type of the element, i.e. shape | connection\n * @param {SVGElement} childrenGfx\n * @param {number} [parentIndex] position to create container in parent\n * @param {boolean} [isFrame] is frame element\n *\n * @return {SVGElement}\n */\nGraphicsFactory.prototype._createContainer = function(\n    type, childrenGfx, parentIndex, isFrame\n) {\n  var outerGfx = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('g');\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.classes)(outerGfx).add('djs-group');\n\n  // insert node at position\n  if (typeof parentIndex !== 'undefined') {\n    prependTo(outerGfx, childrenGfx, childrenGfx.childNodes[parentIndex]);\n  } else {\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.append)(childrenGfx, outerGfx);\n  }\n\n  var gfx = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('g');\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.classes)(gfx).add('djs-element');\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.classes)(gfx).add('djs-' + type);\n\n  if (isFrame) {\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.classes)(gfx).add('djs-frame');\n  }\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.append)(outerGfx, gfx);\n\n  // create visual\n  var visual = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('g');\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.classes)(visual).add('djs-visual');\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.append)(gfx, visual);\n\n  return gfx;\n};\n\n/**\n * Create a graphical element.\n *\n * @param { 'shape' | 'connection' | 'label' | 'root' } type The type of the element.\n * @param {ElementLike} element The element.\n * @param {number} [parentIndex] The index at which to add the graphical element to its parent's children.\n *\n * @return {SVGElement} The graphical element.\n */\nGraphicsFactory.prototype.create = function(type, element, parentIndex) {\n  var childrenGfx = this._getChildrenContainer(element.parent);\n  return this._createContainer(type, childrenGfx, parentIndex, (0,_util_Elements__WEBPACK_IMPORTED_MODULE_3__.isFrameElement)(element));\n};\n\n/**\n * Update the containments of the given elements.\n *\n * @param {ElementLike[]} elements The elements.\n */\nGraphicsFactory.prototype.updateContainments = function(elements) {\n\n  var self = this,\n      elementRegistry = this._elementRegistry,\n      parents;\n\n  parents = (0,min_dash__WEBPACK_IMPORTED_MODULE_4__.reduce)(elements, function(map, e) {\n\n    if (e.parent) {\n      map[e.parent.id] = e.parent;\n    }\n\n    return map;\n  }, {});\n\n  // update all parents of changed and reorganized their children\n  // in the correct order (as indicated in our model)\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_4__.forEach)(parents, function(parent) {\n\n    var children = parent.children;\n\n    if (!children) {\n      return;\n    }\n\n    var childrenGfx = self._getChildrenContainer(parent);\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_4__.forEach)(children.slice().reverse(), function(child) {\n      var childGfx = elementRegistry.getGraphics(child);\n\n      prependTo(childGfx.parentNode, childrenGfx);\n    });\n  });\n};\n\n/**\n * Draw a shape.\n *\n * @param {SVGElement} visual The graphical element.\n * @param {ShapeLike} element The shape.\n * @param {Object} attrs Optional attributes.\n *\n * @return {SVGElement}\n */\nGraphicsFactory.prototype.drawShape = function(visual, element, attrs = {}) {\n  var eventBus = this._eventBus;\n\n  return eventBus.fire('render.shape', { gfx: visual, element, attrs });\n};\n\n/**\n * Get the path of a shape.\n *\n * @param {ShapeLike} element The shape.\n *\n * @return {string} The path of the shape.\n */\nGraphicsFactory.prototype.getShapePath = function(element) {\n  var eventBus = this._eventBus;\n\n  return eventBus.fire('render.getShapePath', element);\n};\n\n/**\n * Draw a connection.\n *\n * @param {SVGElement} visual The graphical element.\n * @param {ConnectionLike} element The connection.\n * @param {Object} attrs Optional attributes.\n *\n * @return {SVGElement}\n */\nGraphicsFactory.prototype.drawConnection = function(visual, element, attrs = {}) {\n  var eventBus = this._eventBus;\n\n  return eventBus.fire('render.connection', { gfx: visual, element, attrs });\n};\n\n/**\n * Get the path of a connection.\n *\n * @param {ConnectionLike} connection The connection.\n *\n * @return {string} The path of the connection.\n */\nGraphicsFactory.prototype.getConnectionPath = function(connection) {\n  var eventBus = this._eventBus;\n\n  return eventBus.fire('render.getConnectionPath', connection);\n};\n\n/**\n * Update an elements graphical representation.\n *\n * @param {'shape'|'connection'} type\n * @param {ElementLike} element\n * @param {SVGElement} gfx\n */\nGraphicsFactory.prototype.update = function(type, element, gfx) {\n\n  // do NOT update root element\n  if (!element.parent) {\n    return;\n  }\n\n  var visual = this._clear(gfx);\n\n  // redraw\n  if (type === 'shape') {\n    this.drawShape(visual, element);\n\n    // update positioning\n    (0,_util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_5__.translate)(gfx, element.x, element.y);\n  } else if (type === 'connection') {\n    this.drawConnection(visual, element);\n  } else {\n    throw new Error('unknown type: ' + type);\n  }\n\n  if (element.hidden) {\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(gfx, 'display', 'none');\n  } else {\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(gfx, 'display', 'block');\n  }\n};\n\n/**\n * Remove a graphical element.\n *\n * @param {ElementLike} element The element.\n */\nGraphicsFactory.prototype.remove = function(element) {\n  var gfx = this._elementRegistry.getGraphics(element);\n\n  // remove\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.remove)(gfx.parentNode);\n};\n\n\n// helpers //////////\n\nfunction prependTo(newNode, parentNode, siblingNode) {\n  var node = siblingNode || parentNode.firstChild;\n\n  // do not prepend node to itself to prevent IE from crashing\n  // https://github.com/bpmn-io/bpmn-js/issues/746\n  if (newNode === node) {\n    return;\n  }\n\n  parentNode.insertBefore(newNode, node);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvY29yZS9HcmFwaGljc0ZhY3RvcnkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUdrQjs7QUFLWTs7QUFFdUI7O0FBRVQ7O0FBUTFCOztBQUlROztBQUUxQjtBQUNBLGFBQWEsa0NBQWtDO0FBQy9DLGFBQWEsK0JBQStCO0FBQzVDLGFBQWEsNkJBQTZCO0FBQzFDO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQsYUFBYSw4QkFBOEI7QUFDM0M7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsaUJBQWlCO0FBQzVCO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxjQUFjLGlCQUFpQjtBQUMvQixZQUFZO0FBQ1o7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osa0JBQWtCLCtEQUFXO0FBQzdCO0FBQ0Esb0JBQW9CLGdEQUFTO0FBQzdCLE1BQU0saURBQVU7O0FBRWhCLE1BQU0sZ0RBQVM7QUFDZjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNkRBQVM7O0FBRXhCLEVBQUUsOENBQVE7O0FBRVY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsWUFBWTtBQUN2QixXQUFXLFFBQVE7QUFDbkIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGdEQUFTO0FBQzFCLEVBQUUsaURBQVU7O0FBRVo7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLElBQUksZ0RBQVM7QUFDYjs7QUFFQSxZQUFZLGdEQUFTO0FBQ3JCLEVBQUUsaURBQVU7QUFDWixFQUFFLGlEQUFVOztBQUVaO0FBQ0EsSUFBSSxpREFBVTtBQUNkOztBQUVBLEVBQUUsZ0RBQVM7O0FBRVg7QUFDQSxlQUFlLGdEQUFTO0FBQ3hCLEVBQUUsaURBQVU7O0FBRVosRUFBRSxnREFBUzs7QUFFWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNENBQTRDO0FBQ3hELFdBQVcsYUFBYTtBQUN4QixXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZLFlBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsK0RBQStELDhEQUFjO0FBQzdFOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxZQUFZLGdEQUFNOztBQUVsQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHLElBQUk7O0FBRVA7QUFDQTtBQUNBLEVBQUUsaURBQU87O0FBRVQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLElBQUksaURBQU87QUFDWDs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsV0FBVztBQUN0QixXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZO0FBQ1o7QUFDQSwwRUFBMEU7QUFDMUU7O0FBRUEseUNBQXlDLDZCQUE2QjtBQUN0RTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEI7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsZ0JBQWdCO0FBQzNCLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVk7QUFDWjtBQUNBLCtFQUErRTtBQUMvRTs7QUFFQSw4Q0FBOEMsNkJBQTZCO0FBQzNFOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsc0JBQXNCO0FBQ2pDLFdBQVcsYUFBYTtBQUN4QixXQUFXLFlBQVk7QUFDdkI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLGlFQUFTO0FBQ2IsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLDhDQUFPO0FBQ1gsSUFBSTtBQUNKLElBQUksOENBQU87QUFDWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsYUFBYTtBQUN4QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFLGdEQUFTO0FBQ1g7OztBQUdBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2NvcmUvR3JhcGhpY3NGYWN0b3J5LmpzPzdmOWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgZm9yRWFjaCxcbiAgcmVkdWNlXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgZ2V0Q2hpbGRyZW4sXG4gIGdldFZpc3VhbFxufSBmcm9tICcuLi91dGlsL0dyYXBoaWNzVXRpbCc7XG5cbmltcG9ydCB7IHRyYW5zbGF0ZSB9IGZyb20gJy4uL3V0aWwvU3ZnVHJhbnNmb3JtVXRpbCc7XG5cbmltcG9ydCB7IGNsZWFyIGFzIGRvbUNsZWFyIH0gZnJvbSAnbWluLWRvbSc7XG5cbmltcG9ydCB7XG4gIGFwcGVuZCBhcyBzdmdBcHBlbmQsXG4gIGF0dHIgYXMgc3ZnQXR0cixcbiAgY2xhc3NlcyBhcyBzdmdDbGFzc2VzLFxuICBjcmVhdGUgYXMgc3ZnQ3JlYXRlLFxuICByZW1vdmUgYXMgc3ZnUmVtb3ZlXG59IGZyb20gJ3Rpbnktc3ZnJztcblxuaW1wb3J0IHtcbiAgaXNGcmFtZUVsZW1lbnRcbn0gZnJvbSAnLi4vdXRpbC9FbGVtZW50cyc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi9UeXBlcycpLkNvbm5lY3Rpb25MaWtlfSBDb25uZWN0aW9uTGlrZVxuICogQHR5cGVkZWYge2ltcG9ydCgnLi9UeXBlcycpLkVsZW1lbnRMaWtlfSBFbGVtZW50TGlrZVxuICogQHR5cGVkZWYge2ltcG9ydCgnLi9UeXBlcycpLlNoYXBlTGlrZX0gU2hhcGVMaWtlXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi9FbGVtZW50UmVnaXN0cnknKS5kZWZhdWx0fSBFbGVtZW50UmVnaXN0cnlcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICovXG5cbi8qKlxuICogQSBmYWN0b3J5IHRoYXQgY3JlYXRlcyBncmFwaGljYWwgZWxlbWVudHMuXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7RWxlbWVudFJlZ2lzdHJ5fSBlbGVtZW50UmVnaXN0cnlcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gR3JhcGhpY3NGYWN0b3J5KGV2ZW50QnVzLCBlbGVtZW50UmVnaXN0cnkpIHtcbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcbiAgdGhpcy5fZWxlbWVudFJlZ2lzdHJ5ID0gZWxlbWVudFJlZ2lzdHJ5O1xufVxuXG5HcmFwaGljc0ZhY3RvcnkuJGluamVjdCA9IFsgJ2V2ZW50QnVzJyAsICdlbGVtZW50UmVnaXN0cnknIF07XG5cbi8qKlxuICogQHBhcmFtIHsgeyBwYXJlbnQ/OiBhbnkgfSB9IGVsZW1lbnRcbiAqIEByZXR1cm4ge1NWR0VsZW1lbnR9XG4gKi9cbkdyYXBoaWNzRmFjdG9yeS5wcm90b3R5cGUuX2dldENoaWxkcmVuQ29udGFpbmVyID0gZnVuY3Rpb24oZWxlbWVudCkge1xuXG4gIHZhciBnZnggPSB0aGlzLl9lbGVtZW50UmVnaXN0cnkuZ2V0R3JhcGhpY3MoZWxlbWVudCk7XG5cbiAgdmFyIGNoaWxkcmVuR2Z4O1xuXG4gIC8vIHJvb3QgZWxlbWVudFxuICBpZiAoIWVsZW1lbnQucGFyZW50KSB7XG4gICAgY2hpbGRyZW5HZnggPSBnZng7XG4gIH0gZWxzZSB7XG4gICAgY2hpbGRyZW5HZnggPSBnZXRDaGlsZHJlbihnZngpO1xuICAgIGlmICghY2hpbGRyZW5HZngpIHtcbiAgICAgIGNoaWxkcmVuR2Z4ID0gc3ZnQ3JlYXRlKCdnJyk7XG4gICAgICBzdmdDbGFzc2VzKGNoaWxkcmVuR2Z4KS5hZGQoJ2Rqcy1jaGlsZHJlbicpO1xuXG4gICAgICBzdmdBcHBlbmQoZ2Z4LnBhcmVudE5vZGUsIGNoaWxkcmVuR2Z4KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY2hpbGRyZW5HZng7XG59O1xuXG4vKipcbiAqIENsZWFycyB0aGUgZ3JhcGhpY2FsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBlbGVtZW50IGFuZCByZXR1cm5zIHRoZVxuICogY2xlYXJlZCB2aXN1YWwgKHRoZSA8ZyBjbGFzcz1cImRqcy12aXN1YWxcIiAvPiBlbGVtZW50KS5cbiAqL1xuR3JhcGhpY3NGYWN0b3J5LnByb3RvdHlwZS5fY2xlYXIgPSBmdW5jdGlvbihnZngpIHtcbiAgdmFyIHZpc3VhbCA9IGdldFZpc3VhbChnZngpO1xuXG4gIGRvbUNsZWFyKHZpc3VhbCk7XG5cbiAgcmV0dXJuIHZpc3VhbDtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGdmeCBjb250YWluZXIgZm9yIHNoYXBlcyBhbmQgY29ubmVjdGlvbnNcbiAqXG4gKiBUaGUgbGF5b3V0IGlzIGFzIGZvbGxvd3M6XG4gKlxuICogPGcgY2xhc3M9XCJkanMtZ3JvdXBcIj5cbiAqXG4gKiAgIDwhLS0gdGhlIGdmeCAtLT5cbiAqICAgPGcgY2xhc3M9XCJkanMtZWxlbWVudCBkanMtKHNoYXBlfGNvbm5lY3Rpb258ZnJhbWUpXCI+XG4gKiAgICAgPGcgY2xhc3M9XCJkanMtdmlzdWFsXCI+XG4gKiAgICAgICA8IS0tIHRoZSByZW5kZXJlciBkcmF3cyBpbiBoZXJlIC0tPlxuICogICAgIDwvZz5cbiAqXG4gKiAgICAgPCEtLSBleHRlbnNpb25zIChvdmVybGF5cywgY2xpY2sgYm94LCAuLi4pIGdvZXMgaGVyZVxuICogICA8L2c+XG4gKlxuICogICA8IS0tIHRoZSBnZnggY2hpbGQgbm9kZXMgLS0+XG4gKiAgIDxnIGNsYXNzPVwiZGpzLWNoaWxkcmVuXCI+PC9nPlxuICogPC9nPlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIHRoZSB0eXBlIG9mIHRoZSBlbGVtZW50LCBpLmUuIHNoYXBlIHwgY29ubmVjdGlvblxuICogQHBhcmFtIHtTVkdFbGVtZW50fSBjaGlsZHJlbkdmeFxuICogQHBhcmFtIHtudW1iZXJ9IFtwYXJlbnRJbmRleF0gcG9zaXRpb24gdG8gY3JlYXRlIGNvbnRhaW5lciBpbiBwYXJlbnRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRnJhbWVdIGlzIGZyYW1lIGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJuIHtTVkdFbGVtZW50fVxuICovXG5HcmFwaGljc0ZhY3RvcnkucHJvdG90eXBlLl9jcmVhdGVDb250YWluZXIgPSBmdW5jdGlvbihcbiAgICB0eXBlLCBjaGlsZHJlbkdmeCwgcGFyZW50SW5kZXgsIGlzRnJhbWVcbikge1xuICB2YXIgb3V0ZXJHZnggPSBzdmdDcmVhdGUoJ2cnKTtcbiAgc3ZnQ2xhc3NlcyhvdXRlckdmeCkuYWRkKCdkanMtZ3JvdXAnKTtcblxuICAvLyBpbnNlcnQgbm9kZSBhdCBwb3NpdGlvblxuICBpZiAodHlwZW9mIHBhcmVudEluZGV4ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHByZXBlbmRUbyhvdXRlckdmeCwgY2hpbGRyZW5HZngsIGNoaWxkcmVuR2Z4LmNoaWxkTm9kZXNbcGFyZW50SW5kZXhdKTtcbiAgfSBlbHNlIHtcbiAgICBzdmdBcHBlbmQoY2hpbGRyZW5HZngsIG91dGVyR2Z4KTtcbiAgfVxuXG4gIHZhciBnZnggPSBzdmdDcmVhdGUoJ2cnKTtcbiAgc3ZnQ2xhc3NlcyhnZngpLmFkZCgnZGpzLWVsZW1lbnQnKTtcbiAgc3ZnQ2xhc3NlcyhnZngpLmFkZCgnZGpzLScgKyB0eXBlKTtcblxuICBpZiAoaXNGcmFtZSkge1xuICAgIHN2Z0NsYXNzZXMoZ2Z4KS5hZGQoJ2Rqcy1mcmFtZScpO1xuICB9XG5cbiAgc3ZnQXBwZW5kKG91dGVyR2Z4LCBnZngpO1xuXG4gIC8vIGNyZWF0ZSB2aXN1YWxcbiAgdmFyIHZpc3VhbCA9IHN2Z0NyZWF0ZSgnZycpO1xuICBzdmdDbGFzc2VzKHZpc3VhbCkuYWRkKCdkanMtdmlzdWFsJyk7XG5cbiAgc3ZnQXBwZW5kKGdmeCwgdmlzdWFsKTtcblxuICByZXR1cm4gZ2Z4O1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYSBncmFwaGljYWwgZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0geyAnc2hhcGUnIHwgJ2Nvbm5lY3Rpb24nIHwgJ2xhYmVsJyB8ICdyb290JyB9IHR5cGUgVGhlIHR5cGUgb2YgdGhlIGVsZW1lbnQuXG4gKiBAcGFyYW0ge0VsZW1lbnRMaWtlfSBlbGVtZW50IFRoZSBlbGVtZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IFtwYXJlbnRJbmRleF0gVGhlIGluZGV4IGF0IHdoaWNoIHRvIGFkZCB0aGUgZ3JhcGhpY2FsIGVsZW1lbnQgdG8gaXRzIHBhcmVudCdzIGNoaWxkcmVuLlxuICpcbiAqIEByZXR1cm4ge1NWR0VsZW1lbnR9IFRoZSBncmFwaGljYWwgZWxlbWVudC5cbiAqL1xuR3JhcGhpY3NGYWN0b3J5LnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbih0eXBlLCBlbGVtZW50LCBwYXJlbnRJbmRleCkge1xuICB2YXIgY2hpbGRyZW5HZnggPSB0aGlzLl9nZXRDaGlsZHJlbkNvbnRhaW5lcihlbGVtZW50LnBhcmVudCk7XG4gIHJldHVybiB0aGlzLl9jcmVhdGVDb250YWluZXIodHlwZSwgY2hpbGRyZW5HZngsIHBhcmVudEluZGV4LCBpc0ZyYW1lRWxlbWVudChlbGVtZW50KSk7XG59O1xuXG4vKipcbiAqIFVwZGF0ZSB0aGUgY29udGFpbm1lbnRzIG9mIHRoZSBnaXZlbiBlbGVtZW50cy5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnRMaWtlW119IGVsZW1lbnRzIFRoZSBlbGVtZW50cy5cbiAqL1xuR3JhcGhpY3NGYWN0b3J5LnByb3RvdHlwZS51cGRhdGVDb250YWlubWVudHMgPSBmdW5jdGlvbihlbGVtZW50cykge1xuXG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIGVsZW1lbnRSZWdpc3RyeSA9IHRoaXMuX2VsZW1lbnRSZWdpc3RyeSxcbiAgICAgIHBhcmVudHM7XG5cbiAgcGFyZW50cyA9IHJlZHVjZShlbGVtZW50cywgZnVuY3Rpb24obWFwLCBlKSB7XG5cbiAgICBpZiAoZS5wYXJlbnQpIHtcbiAgICAgIG1hcFtlLnBhcmVudC5pZF0gPSBlLnBhcmVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWFwO1xuICB9LCB7fSk7XG5cbiAgLy8gdXBkYXRlIGFsbCBwYXJlbnRzIG9mIGNoYW5nZWQgYW5kIHJlb3JnYW5pemVkIHRoZWlyIGNoaWxkcmVuXG4gIC8vIGluIHRoZSBjb3JyZWN0IG9yZGVyIChhcyBpbmRpY2F0ZWQgaW4gb3VyIG1vZGVsKVxuICBmb3JFYWNoKHBhcmVudHMsIGZ1bmN0aW9uKHBhcmVudCkge1xuXG4gICAgdmFyIGNoaWxkcmVuID0gcGFyZW50LmNoaWxkcmVuO1xuXG4gICAgaWYgKCFjaGlsZHJlbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjaGlsZHJlbkdmeCA9IHNlbGYuX2dldENoaWxkcmVuQ29udGFpbmVyKHBhcmVudCk7XG5cbiAgICBmb3JFYWNoKGNoaWxkcmVuLnNsaWNlKCkucmV2ZXJzZSgpLCBmdW5jdGlvbihjaGlsZCkge1xuICAgICAgdmFyIGNoaWxkR2Z4ID0gZWxlbWVudFJlZ2lzdHJ5LmdldEdyYXBoaWNzKGNoaWxkKTtcblxuICAgICAgcHJlcGVuZFRvKGNoaWxkR2Z4LnBhcmVudE5vZGUsIGNoaWxkcmVuR2Z4KTtcbiAgICB9KTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIERyYXcgYSBzaGFwZS5cbiAqXG4gKiBAcGFyYW0ge1NWR0VsZW1lbnR9IHZpc3VhbCBUaGUgZ3JhcGhpY2FsIGVsZW1lbnQuXG4gKiBAcGFyYW0ge1NoYXBlTGlrZX0gZWxlbWVudCBUaGUgc2hhcGUuXG4gKiBAcGFyYW0ge09iamVjdH0gYXR0cnMgT3B0aW9uYWwgYXR0cmlidXRlcy5cbiAqXG4gKiBAcmV0dXJuIHtTVkdFbGVtZW50fVxuICovXG5HcmFwaGljc0ZhY3RvcnkucHJvdG90eXBlLmRyYXdTaGFwZSA9IGZ1bmN0aW9uKHZpc3VhbCwgZWxlbWVudCwgYXR0cnMgPSB7fSkge1xuICB2YXIgZXZlbnRCdXMgPSB0aGlzLl9ldmVudEJ1cztcblxuICByZXR1cm4gZXZlbnRCdXMuZmlyZSgncmVuZGVyLnNoYXBlJywgeyBnZng6IHZpc3VhbCwgZWxlbWVudCwgYXR0cnMgfSk7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgcGF0aCBvZiBhIHNoYXBlLlxuICpcbiAqIEBwYXJhbSB7U2hhcGVMaWtlfSBlbGVtZW50IFRoZSBzaGFwZS5cbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBwYXRoIG9mIHRoZSBzaGFwZS5cbiAqL1xuR3JhcGhpY3NGYWN0b3J5LnByb3RvdHlwZS5nZXRTaGFwZVBhdGggPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHZhciBldmVudEJ1cyA9IHRoaXMuX2V2ZW50QnVzO1xuXG4gIHJldHVybiBldmVudEJ1cy5maXJlKCdyZW5kZXIuZ2V0U2hhcGVQYXRoJywgZWxlbWVudCk7XG59O1xuXG4vKipcbiAqIERyYXcgYSBjb25uZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gdmlzdWFsIFRoZSBncmFwaGljYWwgZWxlbWVudC5cbiAqIEBwYXJhbSB7Q29ubmVjdGlvbkxpa2V9IGVsZW1lbnQgVGhlIGNvbm5lY3Rpb24uXG4gKiBAcGFyYW0ge09iamVjdH0gYXR0cnMgT3B0aW9uYWwgYXR0cmlidXRlcy5cbiAqXG4gKiBAcmV0dXJuIHtTVkdFbGVtZW50fVxuICovXG5HcmFwaGljc0ZhY3RvcnkucHJvdG90eXBlLmRyYXdDb25uZWN0aW9uID0gZnVuY3Rpb24odmlzdWFsLCBlbGVtZW50LCBhdHRycyA9IHt9KSB7XG4gIHZhciBldmVudEJ1cyA9IHRoaXMuX2V2ZW50QnVzO1xuXG4gIHJldHVybiBldmVudEJ1cy5maXJlKCdyZW5kZXIuY29ubmVjdGlvbicsIHsgZ2Z4OiB2aXN1YWwsIGVsZW1lbnQsIGF0dHJzIH0pO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIHBhdGggb2YgYSBjb25uZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7Q29ubmVjdGlvbkxpa2V9IGNvbm5lY3Rpb24gVGhlIGNvbm5lY3Rpb24uXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgcGF0aCBvZiB0aGUgY29ubmVjdGlvbi5cbiAqL1xuR3JhcGhpY3NGYWN0b3J5LnByb3RvdHlwZS5nZXRDb25uZWN0aW9uUGF0aCA9IGZ1bmN0aW9uKGNvbm5lY3Rpb24pIHtcbiAgdmFyIGV2ZW50QnVzID0gdGhpcy5fZXZlbnRCdXM7XG5cbiAgcmV0dXJuIGV2ZW50QnVzLmZpcmUoJ3JlbmRlci5nZXRDb25uZWN0aW9uUGF0aCcsIGNvbm5lY3Rpb24pO1xufTtcblxuLyoqXG4gKiBVcGRhdGUgYW4gZWxlbWVudHMgZ3JhcGhpY2FsIHJlcHJlc2VudGF0aW9uLlxuICpcbiAqIEBwYXJhbSB7J3NoYXBlJ3wnY29ubmVjdGlvbid9IHR5cGVcbiAqIEBwYXJhbSB7RWxlbWVudExpa2V9IGVsZW1lbnRcbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZ2Z4XG4gKi9cbkdyYXBoaWNzRmFjdG9yeS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24odHlwZSwgZWxlbWVudCwgZ2Z4KSB7XG5cbiAgLy8gZG8gTk9UIHVwZGF0ZSByb290IGVsZW1lbnRcbiAgaWYgKCFlbGVtZW50LnBhcmVudCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciB2aXN1YWwgPSB0aGlzLl9jbGVhcihnZngpO1xuXG4gIC8vIHJlZHJhd1xuICBpZiAodHlwZSA9PT0gJ3NoYXBlJykge1xuICAgIHRoaXMuZHJhd1NoYXBlKHZpc3VhbCwgZWxlbWVudCk7XG5cbiAgICAvLyB1cGRhdGUgcG9zaXRpb25pbmdcbiAgICB0cmFuc2xhdGUoZ2Z4LCBlbGVtZW50LngsIGVsZW1lbnQueSk7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2Nvbm5lY3Rpb24nKSB7XG4gICAgdGhpcy5kcmF3Q29ubmVjdGlvbih2aXN1YWwsIGVsZW1lbnQpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcigndW5rbm93biB0eXBlOiAnICsgdHlwZSk7XG4gIH1cblxuICBpZiAoZWxlbWVudC5oaWRkZW4pIHtcbiAgICBzdmdBdHRyKGdmeCwgJ2Rpc3BsYXknLCAnbm9uZScpO1xuICB9IGVsc2Uge1xuICAgIHN2Z0F0dHIoZ2Z4LCAnZGlzcGxheScsICdibG9jaycpO1xuICB9XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhIGdyYXBoaWNhbCBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudExpa2V9IGVsZW1lbnQgVGhlIGVsZW1lbnQuXG4gKi9cbkdyYXBoaWNzRmFjdG9yeS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB2YXIgZ2Z4ID0gdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LmdldEdyYXBoaWNzKGVsZW1lbnQpO1xuXG4gIC8vIHJlbW92ZVxuICBzdmdSZW1vdmUoZ2Z4LnBhcmVudE5vZGUpO1xufTtcblxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuZnVuY3Rpb24gcHJlcGVuZFRvKG5ld05vZGUsIHBhcmVudE5vZGUsIHNpYmxpbmdOb2RlKSB7XG4gIHZhciBub2RlID0gc2libGluZ05vZGUgfHwgcGFyZW50Tm9kZS5maXJzdENoaWxkO1xuXG4gIC8vIGRvIG5vdCBwcmVwZW5kIG5vZGUgdG8gaXRzZWxmIHRvIHByZXZlbnQgSUUgZnJvbSBjcmFzaGluZ1xuICAvLyBodHRwczovL2dpdGh1Yi5jb20vYnBtbi1pby9icG1uLWpzL2lzc3Vlcy83NDZcbiAgaWYgKG5ld05vZGUgPT09IG5vZGUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdOb2RlLCBub2RlKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/core/GraphicsFactory.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/core/index.js":
/*!***************************************************!*\
  !*** ./node_modules/diagram-js/lib/core/index.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _draw__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../draw */ \"(ssr)/./node_modules/diagram-js/lib/draw/index.js\");\n/* harmony import */ var _Canvas__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Canvas */ \"(ssr)/./node_modules/diagram-js/lib/core/Canvas.js\");\n/* harmony import */ var _ElementRegistry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ElementRegistry */ \"(ssr)/./node_modules/diagram-js/lib/core/ElementRegistry.js\");\n/* harmony import */ var _ElementFactory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ElementFactory */ \"(ssr)/./node_modules/diagram-js/lib/core/ElementFactory.js\");\n/* harmony import */ var _EventBus__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./EventBus */ \"(ssr)/./node_modules/diagram-js/lib/core/EventBus.js\");\n/* harmony import */ var _GraphicsFactory__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./GraphicsFactory */ \"(ssr)/./node_modules/diagram-js/lib/core/GraphicsFactory.js\");\n\n\n\n\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [ _draw__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ],\n  __init__: [ 'canvas' ],\n  canvas: [ 'type', _Canvas__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ],\n  elementRegistry: [ 'type', _ElementRegistry__WEBPACK_IMPORTED_MODULE_2__[\"default\"] ],\n  elementFactory: [ 'type', _ElementFactory__WEBPACK_IMPORTED_MODULE_3__[\"default\"] ],\n  eventBus: [ 'type', _EventBus__WEBPACK_IMPORTED_MODULE_4__[\"default\"] ],\n  graphicsFactory: [ 'type', _GraphicsFactory__WEBPACK_IMPORTED_MODULE_5__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvY29yZS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWlDOztBQUVIO0FBQ2tCO0FBQ0Y7QUFDWjtBQUNjOztBQUVoRDtBQUNBLFdBQVc7QUFDWDtBQUNBLGlFQUFlO0FBQ2YsaUJBQWlCLDZDQUFVO0FBQzNCO0FBQ0Esb0JBQW9CLCtDQUFNO0FBQzFCLDZCQUE2Qix3REFBZTtBQUM1Qyw0QkFBNEIsdURBQWM7QUFDMUMsc0JBQXNCLGlEQUFRO0FBQzlCLDZCQUE2Qix3REFBZTtBQUM1QyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2NvcmUvaW5kZXguanM/NjcwZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRHJhd01vZHVsZSBmcm9tICcuLi9kcmF3JztcblxuaW1wb3J0IENhbnZhcyBmcm9tICcuL0NhbnZhcyc7XG5pbXBvcnQgRWxlbWVudFJlZ2lzdHJ5IGZyb20gJy4vRWxlbWVudFJlZ2lzdHJ5JztcbmltcG9ydCBFbGVtZW50RmFjdG9yeSBmcm9tICcuL0VsZW1lbnRGYWN0b3J5JztcbmltcG9ydCBFdmVudEJ1cyBmcm9tICcuL0V2ZW50QnVzJztcbmltcG9ydCBHcmFwaGljc0ZhY3RvcnkgZnJvbSAnLi9HcmFwaGljc0ZhY3RvcnknO1xuXG4vKipcbiAqIEB0eXBlIHsgaW1wb3J0KCdkaWRpJykuTW9kdWxlRGVjbGFyYXRpb24gfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbIERyYXdNb2R1bGUgXSxcbiAgX19pbml0X186IFsgJ2NhbnZhcycgXSxcbiAgY2FudmFzOiBbICd0eXBlJywgQ2FudmFzIF0sXG4gIGVsZW1lbnRSZWdpc3RyeTogWyAndHlwZScsIEVsZW1lbnRSZWdpc3RyeSBdLFxuICBlbGVtZW50RmFjdG9yeTogWyAndHlwZScsIEVsZW1lbnRGYWN0b3J5IF0sXG4gIGV2ZW50QnVzOiBbICd0eXBlJywgRXZlbnRCdXMgXSxcbiAgZ3JhcGhpY3NGYWN0b3J5OiBbICd0eXBlJywgR3JhcGhpY3NGYWN0b3J5IF1cbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/core/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/draw/BaseRenderer.js":
/*!**********************************************************!*\
  !*** ./node_modules/diagram-js/lib/draw/BaseRenderer.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BaseRenderer)\n/* harmony export */ });\nvar DEFAULT_RENDER_PRIORITY = 1000;\n\n/**\n * @typedef {import('../core/Types').ElementLike} Element\n * @typedef {import('../core/Types').ConnectionLike} Connection\n * @typedef {import('../core/Types').ShapeLike} Shape\n *\n * @typedef {import('../core/EventBus').default} EventBus\n */\n\n/**\n * The base implementation of shape and connection renderers.\n *\n * @param {EventBus} eventBus\n * @param {number} [renderPriority=1000]\n */\nfunction BaseRenderer(eventBus, renderPriority) {\n  var self = this;\n\n  renderPriority = renderPriority || DEFAULT_RENDER_PRIORITY;\n\n  eventBus.on([ 'render.shape', 'render.connection' ], renderPriority, function(evt, context) {\n    var type = evt.type,\n        element = context.element,\n        visuals = context.gfx,\n        attrs = context.attrs;\n\n    if (self.canRender(element)) {\n      if (type === 'render.shape') {\n        return self.drawShape(visuals, element, attrs);\n      } else {\n        return self.drawConnection(visuals, element, attrs);\n      }\n    }\n  });\n\n  eventBus.on([ 'render.getShapePath', 'render.getConnectionPath' ], renderPriority, function(evt, element) {\n    if (self.canRender(element)) {\n      if (evt.type === 'render.getShapePath') {\n        return self.getShapePath(element);\n      } else {\n        return self.getConnectionPath(element);\n      }\n    }\n  });\n}\n\n/**\n * Checks whether an element can be rendered.\n *\n * @param {Element} element The element to be rendered.\n *\n * @return {boolean} Whether the element can be rendered.\n */\nBaseRenderer.prototype.canRender = function(element) {};\n\n/**\n * Draws a shape.\n *\n * @param {SVGElement} visuals The SVG element to draw the shape into.\n * @param {Shape} shape The shape to be drawn.\n *\n * @return {SVGElement} The SVG element of the shape drawn.\n */\nBaseRenderer.prototype.drawShape = function(visuals, shape) {};\n\n/**\n * Draws a connection.\n *\n * @param {SVGElement} visuals The SVG element to draw the connection into.\n * @param {Connection} connection The connection to be drawn.\n *\n * @return {SVGElement} The SVG element of the connection drawn.\n */\nBaseRenderer.prototype.drawConnection = function(visuals, connection) {};\n\n/**\n * Gets the SVG path of the graphical representation of a shape.\n *\n * @param {Shape} shape The shape.\n *\n * @return {string} The SVG path of the shape.\n */\nBaseRenderer.prototype.getShapePath = function(shape) {};\n\n/**\n * Gets the SVG path of the graphical representation of a connection.\n *\n * @param {Connection} connection The connection.\n *\n * @return {string} The SVG path of the connection.\n */\nBaseRenderer.prototype.getConnectionPath = function(connection) {};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZHJhdy9CYXNlUmVuZGVyZXIuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOztBQUVBO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQsYUFBYSx3Q0FBd0M7QUFDckQsYUFBYSxtQ0FBbUM7QUFDaEQ7QUFDQSxhQUFhLG9DQUFvQztBQUNqRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxRQUFRO0FBQ25CO0FBQ2U7QUFDZjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQSxZQUFZLFNBQVM7QUFDckI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsWUFBWTtBQUN2QjtBQUNBLFlBQVksWUFBWTtBQUN4QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBLFlBQVksUUFBUTtBQUNwQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QjtBQUNBLFlBQVksUUFBUTtBQUNwQjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2RyYXcvQmFzZVJlbmRlcmVyLmpzP2I5MmUiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIERFRkFVTFRfUkVOREVSX1BSSU9SSVRZID0gMTAwMDtcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9jb3JlL1R5cGVzJykuRWxlbWVudExpa2V9IEVsZW1lbnRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2NvcmUvVHlwZXMnKS5Db25uZWN0aW9uTGlrZX0gQ29ubmVjdGlvblxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vY29yZS9UeXBlcycpLlNoYXBlTGlrZX0gU2hhcGVcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcbiAqL1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIHNoYXBlIGFuZCBjb25uZWN0aW9uIHJlbmRlcmVycy5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtudW1iZXJ9IFtyZW5kZXJQcmlvcml0eT0xMDAwXVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBCYXNlUmVuZGVyZXIoZXZlbnRCdXMsIHJlbmRlclByaW9yaXR5KSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICByZW5kZXJQcmlvcml0eSA9IHJlbmRlclByaW9yaXR5IHx8IERFRkFVTFRfUkVOREVSX1BSSU9SSVRZO1xuXG4gIGV2ZW50QnVzLm9uKFsgJ3JlbmRlci5zaGFwZScsICdyZW5kZXIuY29ubmVjdGlvbicgXSwgcmVuZGVyUHJpb3JpdHksIGZ1bmN0aW9uKGV2dCwgY29udGV4dCkge1xuICAgIHZhciB0eXBlID0gZXZ0LnR5cGUsXG4gICAgICAgIGVsZW1lbnQgPSBjb250ZXh0LmVsZW1lbnQsXG4gICAgICAgIHZpc3VhbHMgPSBjb250ZXh0LmdmeCxcbiAgICAgICAgYXR0cnMgPSBjb250ZXh0LmF0dHJzO1xuXG4gICAgaWYgKHNlbGYuY2FuUmVuZGVyKGVsZW1lbnQpKSB7XG4gICAgICBpZiAodHlwZSA9PT0gJ3JlbmRlci5zaGFwZScpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuZHJhd1NoYXBlKHZpc3VhbHMsIGVsZW1lbnQsIGF0dHJzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzZWxmLmRyYXdDb25uZWN0aW9uKHZpc3VhbHMsIGVsZW1lbnQsIGF0dHJzKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKFsgJ3JlbmRlci5nZXRTaGFwZVBhdGgnLCAncmVuZGVyLmdldENvbm5lY3Rpb25QYXRoJyBdLCByZW5kZXJQcmlvcml0eSwgZnVuY3Rpb24oZXZ0LCBlbGVtZW50KSB7XG4gICAgaWYgKHNlbGYuY2FuUmVuZGVyKGVsZW1lbnQpKSB7XG4gICAgICBpZiAoZXZ0LnR5cGUgPT09ICdyZW5kZXIuZ2V0U2hhcGVQYXRoJykge1xuICAgICAgICByZXR1cm4gc2VsZi5nZXRTaGFwZVBhdGgoZWxlbWVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc2VsZi5nZXRDb25uZWN0aW9uUGF0aChlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGFuIGVsZW1lbnQgY2FuIGJlIHJlbmRlcmVkLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBiZSByZW5kZXJlZC5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBlbGVtZW50IGNhbiBiZSByZW5kZXJlZC5cbiAqL1xuQmFzZVJlbmRlcmVyLnByb3RvdHlwZS5jYW5SZW5kZXIgPSBmdW5jdGlvbihlbGVtZW50KSB7fTtcblxuLyoqXG4gKiBEcmF3cyBhIHNoYXBlLlxuICpcbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gdmlzdWFscyBUaGUgU1ZHIGVsZW1lbnQgdG8gZHJhdyB0aGUgc2hhcGUgaW50by5cbiAqIEBwYXJhbSB7U2hhcGV9IHNoYXBlIFRoZSBzaGFwZSB0byBiZSBkcmF3bi5cbiAqXG4gKiBAcmV0dXJuIHtTVkdFbGVtZW50fSBUaGUgU1ZHIGVsZW1lbnQgb2YgdGhlIHNoYXBlIGRyYXduLlxuICovXG5CYXNlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdTaGFwZSA9IGZ1bmN0aW9uKHZpc3VhbHMsIHNoYXBlKSB7fTtcblxuLyoqXG4gKiBEcmF3cyBhIGNvbm5lY3Rpb24uXG4gKlxuICogQHBhcmFtIHtTVkdFbGVtZW50fSB2aXN1YWxzIFRoZSBTVkcgZWxlbWVudCB0byBkcmF3IHRoZSBjb25uZWN0aW9uIGludG8uXG4gKiBAcGFyYW0ge0Nvbm5lY3Rpb259IGNvbm5lY3Rpb24gVGhlIGNvbm5lY3Rpb24gdG8gYmUgZHJhd24uXG4gKlxuICogQHJldHVybiB7U1ZHRWxlbWVudH0gVGhlIFNWRyBlbGVtZW50IG9mIHRoZSBjb25uZWN0aW9uIGRyYXduLlxuICovXG5CYXNlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdDb25uZWN0aW9uID0gZnVuY3Rpb24odmlzdWFscywgY29ubmVjdGlvbikge307XG5cbi8qKlxuICogR2V0cyB0aGUgU1ZHIHBhdGggb2YgdGhlIGdyYXBoaWNhbCByZXByZXNlbnRhdGlvbiBvZiBhIHNoYXBlLlxuICpcbiAqIEBwYXJhbSB7U2hhcGV9IHNoYXBlIFRoZSBzaGFwZS5cbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBTVkcgcGF0aCBvZiB0aGUgc2hhcGUuXG4gKi9cbkJhc2VSZW5kZXJlci5wcm90b3R5cGUuZ2V0U2hhcGVQYXRoID0gZnVuY3Rpb24oc2hhcGUpIHt9O1xuXG4vKipcbiAqIEdldHMgdGhlIFNWRyBwYXRoIG9mIHRoZSBncmFwaGljYWwgcmVwcmVzZW50YXRpb24gb2YgYSBjb25uZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7Q29ubmVjdGlvbn0gY29ubmVjdGlvbiBUaGUgY29ubmVjdGlvbi5cbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBTVkcgcGF0aCBvZiB0aGUgY29ubmVjdGlvbi5cbiAqL1xuQmFzZVJlbmRlcmVyLnByb3RvdHlwZS5nZXRDb25uZWN0aW9uUGF0aCA9IGZ1bmN0aW9uKGNvbm5lY3Rpb24pIHt9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/draw/BaseRenderer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/draw/DefaultRenderer.js":
/*!*************************************************************!*\
  !*** ./node_modules/diagram-js/lib/draw/DefaultRenderer.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DefaultRenderer)\n/* harmony export */ });\n/* harmony import */ var inherits_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! inherits-browser */ \"(ssr)/./node_modules/inherits-browser/dist/index.es.js\");\n/* harmony import */ var _BaseRenderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseRenderer */ \"(ssr)/./node_modules/diagram-js/lib/draw/BaseRenderer.js\");\n/* harmony import */ var _util_RenderUtil__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/RenderUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/RenderUtil.js\");\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/./node_modules/tiny-svg/dist/index.esm.js\");\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _util_Elements__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Elements */ \"(ssr)/./node_modules/diagram-js/lib/util/Elements.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('../core/EventBus').default} EventBus\n * @typedef {import('./Styles').default} Styles\n */\n\n// apply default renderer with lowest possible priority\n// so that it only kicks in if noone else could render\nvar DEFAULT_RENDER_PRIORITY = 1;\n\n/**\n * The default renderer used for shapes and connections.\n *\n * @param {EventBus} eventBus\n * @param {Styles} styles\n */\nfunction DefaultRenderer(eventBus, styles) {\n\n  _BaseRenderer__WEBPACK_IMPORTED_MODULE_0__[\"default\"].call(this, eventBus, DEFAULT_RENDER_PRIORITY);\n\n  this.CONNECTION_STYLE = styles.style([ 'no-fill' ], { strokeWidth: 5, stroke: 'fuchsia' });\n  this.SHAPE_STYLE = styles.style({ fill: 'white', stroke: 'fuchsia', strokeWidth: 2 });\n  this.FRAME_STYLE = styles.style([ 'no-fill' ], { stroke: 'fuchsia', strokeDasharray: 4, strokeWidth: 2 });\n}\n\n(0,inherits_browser__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(DefaultRenderer, _BaseRenderer__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n\n/**\n * @private\n */\nDefaultRenderer.prototype.canRender = function() {\n  return true;\n};\n\n/**\n * @private\n */\nDefaultRenderer.prototype.drawShape = function drawShape(visuals, element, attrs) {\n  var rect = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.create)('rect');\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.attr)(rect, {\n    x: 0,\n    y: 0,\n    width: element.width || 0,\n    height: element.height || 0\n  });\n\n  if ((0,_util_Elements__WEBPACK_IMPORTED_MODULE_3__.isFrameElement)(element)) {\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.attr)(rect, (0,min_dash__WEBPACK_IMPORTED_MODULE_4__.assign)({}, this.FRAME_STYLE, attrs || {}));\n  } else {\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.attr)(rect, (0,min_dash__WEBPACK_IMPORTED_MODULE_4__.assign)({}, this.SHAPE_STYLE, attrs || {}));\n  }\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.append)(visuals, rect);\n\n  return rect;\n};\n\n/**\n * @private\n */\nDefaultRenderer.prototype.drawConnection = function drawConnection(visuals, connection, attrs) {\n\n  var line = (0,_util_RenderUtil__WEBPACK_IMPORTED_MODULE_5__.createLine)(connection.waypoints, (0,min_dash__WEBPACK_IMPORTED_MODULE_4__.assign)({}, this.CONNECTION_STYLE, attrs || {}));\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.append)(visuals, line);\n\n  return line;\n};\n\n/**\n * @private\n */\nDefaultRenderer.prototype.getShapePath = function getShapePath(shape) {\n\n  var x = shape.x,\n      y = shape.y,\n      width = shape.width,\n      height = shape.height;\n\n  var shapePath = [\n    [ 'M', x, y ],\n    [ 'l', width, 0 ],\n    [ 'l', 0, height ],\n    [ 'l', -width, 0 ],\n    [ 'z' ]\n  ];\n\n  return (0,_util_RenderUtil__WEBPACK_IMPORTED_MODULE_5__.componentsToPath)(shapePath);\n};\n\n/**\n * @private\n */\nDefaultRenderer.prototype.getConnectionPath = function getConnectionPath(connection) {\n  var waypoints = connection.waypoints;\n\n  var idx, point, connectionPath = [];\n\n  for (idx = 0; (point = waypoints[idx]); idx++) {\n\n    // take invisible docking into account\n    // when creating the path\n    point = point.original || point;\n\n    connectionPath.push([ idx === 0 ? 'M' : 'L', point.x, point.y ]);\n  }\n\n  return (0,_util_RenderUtil__WEBPACK_IMPORTED_MODULE_5__.componentsToPath)(connectionPath);\n};\n\nDefaultRenderer.$inject = [ 'eventBus', 'styles' ];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZHJhdy9EZWZhdWx0UmVuZGVyZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUF3Qzs7QUFFRTs7QUFLZDs7QUFNVjs7QUFFZ0I7O0FBSVI7O0FBRTFCO0FBQ0EsYUFBYSxvQ0FBb0M7QUFDakQsYUFBYSw0QkFBNEI7QUFDekM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkI7QUFDZTs7QUFFZixFQUFFLHFEQUFZOztBQUVkLHdEQUF3RCxtQ0FBbUM7QUFDM0Ysb0NBQW9DLGtEQUFrRDtBQUN0RixtREFBbUQsdURBQXVEO0FBQzFHOztBQUVBLDREQUFRLGtCQUFrQixxREFBWTs7O0FBR3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZ0RBQVM7O0FBRXRCLEVBQUUsOENBQU87QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUgsTUFBTSw4REFBYztBQUNwQixJQUFJLDhDQUFPLE9BQU8sZ0RBQU0sR0FBRywrQkFBK0I7QUFDMUQsSUFBSTtBQUNKLElBQUksOENBQU8sT0FBTyxnREFBTSxHQUFHLCtCQUErQjtBQUMxRDs7QUFFQSxFQUFFLGdEQUFTOztBQUVYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsYUFBYSw0REFBVSx1QkFBdUIsZ0RBQU0sR0FBRyxvQ0FBb0M7QUFDM0YsRUFBRSxnREFBUzs7QUFFWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVMsa0VBQWdCO0FBQ3pCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsZ0JBQWdCLDBCQUEwQjs7QUFFMUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsU0FBUyxrRUFBZ0I7QUFDekI7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZHJhdy9EZWZhdWx0UmVuZGVyZXIuanM/YzczMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMtYnJvd3Nlcic7XG5cbmltcG9ydCBCYXNlUmVuZGVyZXIgZnJvbSAnLi9CYXNlUmVuZGVyZXInO1xuXG5pbXBvcnQge1xuICBjb21wb25lbnRzVG9QYXRoLFxuICBjcmVhdGVMaW5lXG59IGZyb20gJy4uL3V0aWwvUmVuZGVyVXRpbCc7XG5cbmltcG9ydCB7XG4gIGFwcGVuZCBhcyBzdmdBcHBlbmQsXG4gIGF0dHIgYXMgc3ZnQXR0cixcbiAgY3JlYXRlIGFzIHN2Z0NyZWF0ZVxufSBmcm9tICd0aW55LXN2Zyc7XG5cbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgaXNGcmFtZUVsZW1lbnRcbn0gZnJvbSAnLi4vdXRpbC9FbGVtZW50cyc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuL1N0eWxlcycpLmRlZmF1bHR9IFN0eWxlc1xuICovXG5cbi8vIGFwcGx5IGRlZmF1bHQgcmVuZGVyZXIgd2l0aCBsb3dlc3QgcG9zc2libGUgcHJpb3JpdHlcbi8vIHNvIHRoYXQgaXQgb25seSBraWNrcyBpbiBpZiBub29uZSBlbHNlIGNvdWxkIHJlbmRlclxudmFyIERFRkFVTFRfUkVOREVSX1BSSU9SSVRZID0gMTtcblxuLyoqXG4gKiBUaGUgZGVmYXVsdCByZW5kZXJlciB1c2VkIGZvciBzaGFwZXMgYW5kIGNvbm5lY3Rpb25zLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge1N0eWxlc30gc3R5bGVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERlZmF1bHRSZW5kZXJlcihldmVudEJ1cywgc3R5bGVzKSB7XG5cbiAgQmFzZVJlbmRlcmVyLmNhbGwodGhpcywgZXZlbnRCdXMsIERFRkFVTFRfUkVOREVSX1BSSU9SSVRZKTtcblxuICB0aGlzLkNPTk5FQ1RJT05fU1RZTEUgPSBzdHlsZXMuc3R5bGUoWyAnbm8tZmlsbCcgXSwgeyBzdHJva2VXaWR0aDogNSwgc3Ryb2tlOiAnZnVjaHNpYScgfSk7XG4gIHRoaXMuU0hBUEVfU1RZTEUgPSBzdHlsZXMuc3R5bGUoeyBmaWxsOiAnd2hpdGUnLCBzdHJva2U6ICdmdWNoc2lhJywgc3Ryb2tlV2lkdGg6IDIgfSk7XG4gIHRoaXMuRlJBTUVfU1RZTEUgPSBzdHlsZXMuc3R5bGUoWyAnbm8tZmlsbCcgXSwgeyBzdHJva2U6ICdmdWNoc2lhJywgc3Ryb2tlRGFzaGFycmF5OiA0LCBzdHJva2VXaWR0aDogMiB9KTtcbn1cblxuaW5oZXJpdHMoRGVmYXVsdFJlbmRlcmVyLCBCYXNlUmVuZGVyZXIpO1xuXG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuRGVmYXVsdFJlbmRlcmVyLnByb3RvdHlwZS5jYW5SZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbkRlZmF1bHRSZW5kZXJlci5wcm90b3R5cGUuZHJhd1NoYXBlID0gZnVuY3Rpb24gZHJhd1NoYXBlKHZpc3VhbHMsIGVsZW1lbnQsIGF0dHJzKSB7XG4gIHZhciByZWN0ID0gc3ZnQ3JlYXRlKCdyZWN0Jyk7XG5cbiAgc3ZnQXR0cihyZWN0LCB7XG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHdpZHRoOiBlbGVtZW50LndpZHRoIHx8IDAsXG4gICAgaGVpZ2h0OiBlbGVtZW50LmhlaWdodCB8fCAwXG4gIH0pO1xuXG4gIGlmIChpc0ZyYW1lRWxlbWVudChlbGVtZW50KSkge1xuICAgIHN2Z0F0dHIocmVjdCwgYXNzaWduKHt9LCB0aGlzLkZSQU1FX1NUWUxFLCBhdHRycyB8fCB7fSkpO1xuICB9IGVsc2Uge1xuICAgIHN2Z0F0dHIocmVjdCwgYXNzaWduKHt9LCB0aGlzLlNIQVBFX1NUWUxFLCBhdHRycyB8fCB7fSkpO1xuICB9XG5cbiAgc3ZnQXBwZW5kKHZpc3VhbHMsIHJlY3QpO1xuXG4gIHJldHVybiByZWN0O1xufTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5EZWZhdWx0UmVuZGVyZXIucHJvdG90eXBlLmRyYXdDb25uZWN0aW9uID0gZnVuY3Rpb24gZHJhd0Nvbm5lY3Rpb24odmlzdWFscywgY29ubmVjdGlvbiwgYXR0cnMpIHtcblxuICB2YXIgbGluZSA9IGNyZWF0ZUxpbmUoY29ubmVjdGlvbi53YXlwb2ludHMsIGFzc2lnbih7fSwgdGhpcy5DT05ORUNUSU9OX1NUWUxFLCBhdHRycyB8fCB7fSkpO1xuICBzdmdBcHBlbmQodmlzdWFscywgbGluZSk7XG5cbiAgcmV0dXJuIGxpbmU7XG59O1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbkRlZmF1bHRSZW5kZXJlci5wcm90b3R5cGUuZ2V0U2hhcGVQYXRoID0gZnVuY3Rpb24gZ2V0U2hhcGVQYXRoKHNoYXBlKSB7XG5cbiAgdmFyIHggPSBzaGFwZS54LFxuICAgICAgeSA9IHNoYXBlLnksXG4gICAgICB3aWR0aCA9IHNoYXBlLndpZHRoLFxuICAgICAgaGVpZ2h0ID0gc2hhcGUuaGVpZ2h0O1xuXG4gIHZhciBzaGFwZVBhdGggPSBbXG4gICAgWyAnTScsIHgsIHkgXSxcbiAgICBbICdsJywgd2lkdGgsIDAgXSxcbiAgICBbICdsJywgMCwgaGVpZ2h0IF0sXG4gICAgWyAnbCcsIC13aWR0aCwgMCBdLFxuICAgIFsgJ3onIF1cbiAgXTtcblxuICByZXR1cm4gY29tcG9uZW50c1RvUGF0aChzaGFwZVBhdGgpO1xufTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5EZWZhdWx0UmVuZGVyZXIucHJvdG90eXBlLmdldENvbm5lY3Rpb25QYXRoID0gZnVuY3Rpb24gZ2V0Q29ubmVjdGlvblBhdGgoY29ubmVjdGlvbikge1xuICB2YXIgd2F5cG9pbnRzID0gY29ubmVjdGlvbi53YXlwb2ludHM7XG5cbiAgdmFyIGlkeCwgcG9pbnQsIGNvbm5lY3Rpb25QYXRoID0gW107XG5cbiAgZm9yIChpZHggPSAwOyAocG9pbnQgPSB3YXlwb2ludHNbaWR4XSk7IGlkeCsrKSB7XG5cbiAgICAvLyB0YWtlIGludmlzaWJsZSBkb2NraW5nIGludG8gYWNjb3VudFxuICAgIC8vIHdoZW4gY3JlYXRpbmcgdGhlIHBhdGhcbiAgICBwb2ludCA9IHBvaW50Lm9yaWdpbmFsIHx8IHBvaW50O1xuXG4gICAgY29ubmVjdGlvblBhdGgucHVzaChbIGlkeCA9PT0gMCA/ICdNJyA6ICdMJywgcG9pbnQueCwgcG9pbnQueSBdKTtcbiAgfVxuXG4gIHJldHVybiBjb21wb25lbnRzVG9QYXRoKGNvbm5lY3Rpb25QYXRoKTtcbn07XG5cbkRlZmF1bHRSZW5kZXJlci4kaW5qZWN0ID0gWyAnZXZlbnRCdXMnLCAnc3R5bGVzJyBdO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/draw/DefaultRenderer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/draw/Styles.js":
/*!****************************************************!*\
  !*** ./node_modules/diagram-js/lib/draw/Styles.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Styles)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n\n/**\n * A component that manages shape styles\n */\nfunction Styles() {\n\n  var defaultTraits = {\n\n    'no-fill': {\n      fill: 'none'\n    },\n    'no-border': {\n      strokeOpacity: 0.0\n    },\n    'no-events': {\n      pointerEvents: 'none'\n    }\n  };\n\n  var self = this;\n\n  /**\n   * Builds a style definition from a className, a list of traits and an object\n   * of additional attributes.\n   *\n   * @param {string} className\n   * @param {string[]} [traits]\n   * @param {Object} [additionalAttrs]\n   *\n   * @return {Object} the style definition\n   */\n  this.cls = function(className, traits, additionalAttrs) {\n    var attrs = this.style(traits, additionalAttrs);\n\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(attrs, { 'class': className });\n  };\n\n  /**\n   * Builds a style definition from a list of traits and an object of additional\n   * attributes.\n   *\n   * @param {string[]} [traits]\n   * @param {Object} additionalAttrs\n   *\n   * @return {Object} the style definition\n   */\n  this.style = function(traits, additionalAttrs) {\n\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(traits) && !additionalAttrs) {\n      additionalAttrs = traits;\n      traits = [];\n    }\n\n    var attrs = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.reduce)(traits, function(attrs, t) {\n      return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(attrs, defaultTraits[t] || {});\n    }, {});\n\n    return additionalAttrs ? (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(attrs, additionalAttrs) : attrs;\n  };\n\n\n  /**\n   * Computes a style definition from a list of traits and an object of\n   * additional attributes, with custom style definition object.\n   *\n   * @param {Object} custom\n   * @param {string[]} [traits]\n   * @param {Object} defaultStyles\n   *\n   * @return {Object} the style definition\n   */\n  this.computeStyle = function(custom, traits, defaultStyles) {\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(traits)) {\n      defaultStyles = traits;\n      traits = [];\n    }\n\n    return self.style(traits || [], (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({}, defaultStyles, custom || {}));\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZHJhdy9TdHlsZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFJa0I7OztBQUdsQjtBQUNBO0FBQ0E7QUFDZTs7QUFFZjs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxVQUFVO0FBQ3ZCLGFBQWEsUUFBUTtBQUNyQjtBQUNBLGNBQWMsUUFBUTtBQUN0QjtBQUNBO0FBQ0E7O0FBRUEsV0FBVyxnREFBTSxVQUFVLG9CQUFvQjtBQUMvQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsVUFBVTtBQUN2QixhQUFhLFFBQVE7QUFDckI7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTs7QUFFQSxTQUFTLGlEQUFPO0FBQ2hCO0FBQ0E7QUFDQTs7QUFFQSxnQkFBZ0IsZ0RBQU07QUFDdEIsYUFBYSxnREFBTSw4QkFBOEI7QUFDakQsS0FBSyxJQUFJOztBQUVULDZCQUE2QixnREFBTTtBQUNuQzs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxVQUFVO0FBQ3ZCLGFBQWEsUUFBUTtBQUNyQjtBQUNBLGNBQWMsUUFBUTtBQUN0QjtBQUNBO0FBQ0EsU0FBUyxpREFBTztBQUNoQjtBQUNBO0FBQ0E7O0FBRUEsb0NBQW9DLGdEQUFNLEdBQUcsNkJBQTZCO0FBQzFFO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZHJhdy9TdHlsZXMuanM/YWJkZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBpc0FycmF5LFxuICBhc3NpZ24sXG4gIHJlZHVjZVxufSBmcm9tICdtaW4tZGFzaCc7XG5cblxuLyoqXG4gKiBBIGNvbXBvbmVudCB0aGF0IG1hbmFnZXMgc2hhcGUgc3R5bGVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFN0eWxlcygpIHtcblxuICB2YXIgZGVmYXVsdFRyYWl0cyA9IHtcblxuICAgICduby1maWxsJzoge1xuICAgICAgZmlsbDogJ25vbmUnXG4gICAgfSxcbiAgICAnbm8tYm9yZGVyJzoge1xuICAgICAgc3Ryb2tlT3BhY2l0eTogMC4wXG4gICAgfSxcbiAgICAnbm8tZXZlbnRzJzoge1xuICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnXG4gICAgfVxuICB9O1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICAvKipcbiAgICogQnVpbGRzIGEgc3R5bGUgZGVmaW5pdGlvbiBmcm9tIGEgY2xhc3NOYW1lLCBhIGxpc3Qgb2YgdHJhaXRzIGFuZCBhbiBvYmplY3RcbiAgICogb2YgYWRkaXRpb25hbCBhdHRyaWJ1dGVzLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IFt0cmFpdHNdXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbYWRkaXRpb25hbEF0dHJzXVxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R9IHRoZSBzdHlsZSBkZWZpbml0aW9uXG4gICAqL1xuICB0aGlzLmNscyA9IGZ1bmN0aW9uKGNsYXNzTmFtZSwgdHJhaXRzLCBhZGRpdGlvbmFsQXR0cnMpIHtcbiAgICB2YXIgYXR0cnMgPSB0aGlzLnN0eWxlKHRyYWl0cywgYWRkaXRpb25hbEF0dHJzKTtcblxuICAgIHJldHVybiBhc3NpZ24oYXR0cnMsIHsgJ2NsYXNzJzogY2xhc3NOYW1lIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBCdWlsZHMgYSBzdHlsZSBkZWZpbml0aW9uIGZyb20gYSBsaXN0IG9mIHRyYWl0cyBhbmQgYW4gb2JqZWN0IG9mIGFkZGl0aW9uYWxcbiAgICogYXR0cmlidXRlcy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmdbXX0gW3RyYWl0c11cbiAgICogQHBhcmFtIHtPYmplY3R9IGFkZGl0aW9uYWxBdHRyc1xuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R9IHRoZSBzdHlsZSBkZWZpbml0aW9uXG4gICAqL1xuICB0aGlzLnN0eWxlID0gZnVuY3Rpb24odHJhaXRzLCBhZGRpdGlvbmFsQXR0cnMpIHtcblxuICAgIGlmICghaXNBcnJheSh0cmFpdHMpICYmICFhZGRpdGlvbmFsQXR0cnMpIHtcbiAgICAgIGFkZGl0aW9uYWxBdHRycyA9IHRyYWl0cztcbiAgICAgIHRyYWl0cyA9IFtdO1xuICAgIH1cblxuICAgIHZhciBhdHRycyA9IHJlZHVjZSh0cmFpdHMsIGZ1bmN0aW9uKGF0dHJzLCB0KSB7XG4gICAgICByZXR1cm4gYXNzaWduKGF0dHJzLCBkZWZhdWx0VHJhaXRzW3RdIHx8IHt9KTtcbiAgICB9LCB7fSk7XG5cbiAgICByZXR1cm4gYWRkaXRpb25hbEF0dHJzID8gYXNzaWduKGF0dHJzLCBhZGRpdGlvbmFsQXR0cnMpIDogYXR0cnM7XG4gIH07XG5cblxuICAvKipcbiAgICogQ29tcHV0ZXMgYSBzdHlsZSBkZWZpbml0aW9uIGZyb20gYSBsaXN0IG9mIHRyYWl0cyBhbmQgYW4gb2JqZWN0IG9mXG4gICAqIGFkZGl0aW9uYWwgYXR0cmlidXRlcywgd2l0aCBjdXN0b20gc3R5bGUgZGVmaW5pdGlvbiBvYmplY3QuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjdXN0b21cbiAgICogQHBhcmFtIHtzdHJpbmdbXX0gW3RyYWl0c11cbiAgICogQHBhcmFtIHtPYmplY3R9IGRlZmF1bHRTdHlsZXNcbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fSB0aGUgc3R5bGUgZGVmaW5pdGlvblxuICAgKi9cbiAgdGhpcy5jb21wdXRlU3R5bGUgPSBmdW5jdGlvbihjdXN0b20sIHRyYWl0cywgZGVmYXVsdFN0eWxlcykge1xuICAgIGlmICghaXNBcnJheSh0cmFpdHMpKSB7XG4gICAgICBkZWZhdWx0U3R5bGVzID0gdHJhaXRzO1xuICAgICAgdHJhaXRzID0gW107XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGYuc3R5bGUodHJhaXRzIHx8IFtdLCBhc3NpZ24oe30sIGRlZmF1bHRTdHlsZXMsIGN1c3RvbSB8fCB7fSkpO1xuICB9O1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/draw/Styles.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/draw/index.js":
/*!***************************************************!*\
  !*** ./node_modules/diagram-js/lib/draw/index.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _DefaultRenderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DefaultRenderer */ \"(ssr)/./node_modules/diagram-js/lib/draw/DefaultRenderer.js\");\n/* harmony import */ var _Styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Styles */ \"(ssr)/./node_modules/diagram-js/lib/draw/Styles.js\");\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [ 'defaultRenderer' ],\n  defaultRenderer: [ 'type', _DefaultRenderer__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ],\n  styles: [ 'type', _Styles__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZHJhdy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0Q7QUFDbEI7O0FBRTlCO0FBQ0EsV0FBVztBQUNYO0FBQ0EsaUVBQWU7QUFDZjtBQUNBLDZCQUE2Qix3REFBZTtBQUM1QyxvQkFBb0IsK0NBQU07QUFDMUIsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2RyYXcvaW5kZXguanM/ZDFjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGVmYXVsdFJlbmRlcmVyIGZyb20gJy4vRGVmYXVsdFJlbmRlcmVyJztcbmltcG9ydCBTdHlsZXMgZnJvbSAnLi9TdHlsZXMnO1xuXG4vKipcbiAqIEB0eXBlIHsgaW1wb3J0KCdkaWRpJykuTW9kdWxlRGVjbGFyYXRpb24gfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICdkZWZhdWx0UmVuZGVyZXInIF0sXG4gIGRlZmF1bHRSZW5kZXJlcjogWyAndHlwZScsIERlZmF1bHRSZW5kZXJlciBdLFxuICBzdHlsZXM6IFsgJ3R5cGUnLCBTdHlsZXMgXVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/draw/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/align-elements/AlignElements.js":
/*!******************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/align-elements/AlignElements.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AlignElements)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef {import('../modeling/Modeling').default} Modeling\n * @typedef {import('../rules/Rules').default} Rules\n *\n * @typedef {import('../../util/Types').Axis} Axis\n * @typedef {import('../../util/Types').Dimension} Dimension\n *\n * @typedef { 'top' | 'right' | 'bottom' | 'left' | 'center' | 'middle' } Alignment\n */\n\nfunction last(arr) {\n  return arr && arr[arr.length - 1];\n}\n\nfunction sortTopOrMiddle(element) {\n  return element.y;\n}\n\nfunction sortLeftOrCenter(element) {\n  return element.x;\n}\n\n/**\n * Sorting functions for different alignments.\n *\n * @type {Record<string, Function>}\n */\nvar ALIGNMENT_SORTING = {\n  left: sortLeftOrCenter,\n  center: sortLeftOrCenter,\n  right: function(element) {\n    return element.x + element.width;\n  },\n  top: sortTopOrMiddle,\n  middle: sortTopOrMiddle,\n  bottom: function(element) {\n    return element.y + element.height;\n  }\n};\n\n/**\n * @param {Modeling} modeling\n * @param {Rules} rules\n */\nfunction AlignElements(modeling, rules) {\n  this._modeling = modeling;\n  this._rules = rules;\n}\n\nAlignElements.$inject = [ 'modeling', 'rules' ];\n\n\n/**\n * Get relevant axis and dimension for given alignment.\n *\n * @param {Alignment} type\n *\n * @return { {\n *   axis: Axis;\n *   dimension: Dimension;\n * } }\n */\nAlignElements.prototype._getOrientationDetails = function(type) {\n  var vertical = [ 'top', 'bottom', 'middle' ],\n      axis = 'x',\n      dimension = 'width';\n\n  if (vertical.indexOf(type) !== -1) {\n    axis = 'y';\n    dimension = 'height';\n  }\n\n  return {\n    axis: axis,\n    dimension: dimension\n  };\n};\n\nAlignElements.prototype._isType = function(type, types) {\n  return types.indexOf(type) !== -1;\n};\n\n/**\n * Get point on relevant axis for given alignment.\n *\n * @param {Alignment} type\n * @param {Element[]} sortedElements\n *\n * @return {Partial<Record<Alignment, number>>}\n */\nAlignElements.prototype._alignmentPosition = function(type, sortedElements) {\n  var orientation = this._getOrientationDetails(type),\n      axis = orientation.axis,\n      dimension = orientation.dimension,\n      alignment = {},\n      centers = {},\n      hasSharedCenters = false,\n      centeredElements,\n      firstElement,\n      lastElement;\n\n  function getMiddleOrTop(first, last) {\n    return Math.round((first[axis] + last[axis] + last[dimension]) / 2);\n  }\n\n  if (this._isType(type, [ 'left', 'top' ])) {\n    alignment[type] = sortedElements[0][axis];\n\n  } else if (this._isType(type, [ 'right', 'bottom' ])) {\n    lastElement = last(sortedElements);\n\n    alignment[type] = lastElement[axis] + lastElement[dimension];\n\n  } else if (this._isType(type, [ 'center', 'middle' ])) {\n\n    // check if there is a center shared by more than one shape\n    // if not, just take the middle of the range\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(sortedElements, function(element) {\n      var center = element[axis] + Math.round(element[dimension] / 2);\n\n      if (centers[center]) {\n        centers[center].elements.push(element);\n      } else {\n        centers[center] = {\n          elements: [ element ],\n          center: center\n        };\n      }\n    });\n\n    centeredElements = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.sortBy)(centers, function(center) {\n      if (center.elements.length > 1) {\n        hasSharedCenters = true;\n      }\n\n      return center.elements.length;\n    });\n\n    if (hasSharedCenters) {\n      alignment[type] = last(centeredElements).center;\n\n      return alignment;\n    }\n\n    firstElement = sortedElements[0];\n\n    sortedElements = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.sortBy)(sortedElements, function(element) {\n      return element[axis] + element[dimension];\n    });\n\n    lastElement = last(sortedElements);\n\n    alignment[type] = getMiddleOrTop(firstElement, lastElement);\n  }\n\n  return alignment;\n};\n\n/**\n * Align elements on relevant axis for given alignment.\n *\n * @param {Element[]} elements\n * @param {Alignment} type\n */\nAlignElements.prototype.trigger = function(elements, type) {\n  var modeling = this._modeling,\n      allowed;\n\n  // filter out elements which cannot be aligned\n  var filteredElements = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.filter)(elements, function(element) {\n    return !(element.waypoints || element.host || element.labelTarget);\n  });\n\n  // filter out elements via rules\n  allowed = this._rules.allowed('elements.align', { elements: filteredElements });\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(allowed)) {\n    filteredElements = allowed;\n  }\n\n  if (filteredElements.length < 2 || !allowed) {\n    return;\n  }\n\n  var sortFn = ALIGNMENT_SORTING[type];\n\n  var sortedElements = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.sortBy)(filteredElements, sortFn);\n\n  var alignment = this._alignmentPosition(type, sortedElements);\n\n  modeling.alignElements(sortedElements, alignment);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYWxpZ24tZWxlbWVudHMvQWxpZ25FbGVtZW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUtrQjs7QUFFbEI7QUFDQSxhQUFhLHFDQUFxQztBQUNsRDtBQUNBLGFBQWEsd0NBQXdDO0FBQ3JELGFBQWEsa0NBQWtDO0FBQy9DO0FBQ0EsYUFBYSxpQ0FBaUM7QUFDOUMsYUFBYSxzQ0FBc0M7QUFDbkQ7QUFDQSxjQUFjLDREQUE0RDtBQUMxRTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLE9BQU87QUFDbEI7QUFDZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QixXQUFXLFdBQVc7QUFDdEI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQixrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsSUFBSTtBQUNKOztBQUVBOztBQUVBLElBQUk7O0FBRUo7QUFDQTtBQUNBLElBQUksaURBQU87QUFDWDs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMLHVCQUF1QixnREFBTTtBQUM3QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSxxQkFBcUIsZ0RBQU07QUFDM0I7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEIsV0FBVyxXQUFXO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EseUJBQXlCLGdEQUFNO0FBQy9CO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLG9EQUFvRCw0QkFBNEI7QUFDaEYsTUFBTSxpREFBTztBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLHVCQUF1QixnREFBTTs7QUFFN0I7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9hbGlnbi1lbGVtZW50cy9BbGlnbkVsZW1lbnRzLmpzP2I2YWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgZmlsdGVyLFxuICBmb3JFYWNoLFxuICBpc0FycmF5LFxuICBzb3J0Qnlcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL21vZGVsL1R5cGVzJykuRWxlbWVudH0gRWxlbWVudFxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL21vZGVsaW5nL01vZGVsaW5nJykuZGVmYXVsdH0gTW9kZWxpbmdcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3J1bGVzL1J1bGVzJykuZGVmYXVsdH0gUnVsZXNcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi91dGlsL1R5cGVzJykuQXhpc30gQXhpc1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vdXRpbC9UeXBlcycpLkRpbWVuc2lvbn0gRGltZW5zaW9uXG4gKlxuICogQHR5cGVkZWYgeyAndG9wJyB8ICdyaWdodCcgfCAnYm90dG9tJyB8ICdsZWZ0JyB8ICdjZW50ZXInIHwgJ21pZGRsZScgfSBBbGlnbm1lbnRcbiAqL1xuXG5mdW5jdGlvbiBsYXN0KGFycikge1xuICByZXR1cm4gYXJyICYmIGFyclthcnIubGVuZ3RoIC0gMV07XG59XG5cbmZ1bmN0aW9uIHNvcnRUb3BPck1pZGRsZShlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50Lnk7XG59XG5cbmZ1bmN0aW9uIHNvcnRMZWZ0T3JDZW50ZXIoZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC54O1xufVxuXG4vKipcbiAqIFNvcnRpbmcgZnVuY3Rpb25zIGZvciBkaWZmZXJlbnQgYWxpZ25tZW50cy5cbiAqXG4gKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgRnVuY3Rpb24+fVxuICovXG52YXIgQUxJR05NRU5UX1NPUlRJTkcgPSB7XG4gIGxlZnQ6IHNvcnRMZWZ0T3JDZW50ZXIsXG4gIGNlbnRlcjogc29ydExlZnRPckNlbnRlcixcbiAgcmlnaHQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudC54ICsgZWxlbWVudC53aWR0aDtcbiAgfSxcbiAgdG9wOiBzb3J0VG9wT3JNaWRkbGUsXG4gIG1pZGRsZTogc29ydFRvcE9yTWlkZGxlLFxuICBib3R0b206IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudC55ICsgZWxlbWVudC5oZWlnaHQ7XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtNb2RlbGluZ30gbW9kZWxpbmdcbiAqIEBwYXJhbSB7UnVsZXN9IHJ1bGVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFsaWduRWxlbWVudHMobW9kZWxpbmcsIHJ1bGVzKSB7XG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG4gIHRoaXMuX3J1bGVzID0gcnVsZXM7XG59XG5cbkFsaWduRWxlbWVudHMuJGluamVjdCA9IFsgJ21vZGVsaW5nJywgJ3J1bGVzJyBdO1xuXG5cbi8qKlxuICogR2V0IHJlbGV2YW50IGF4aXMgYW5kIGRpbWVuc2lvbiBmb3IgZ2l2ZW4gYWxpZ25tZW50LlxuICpcbiAqIEBwYXJhbSB7QWxpZ25tZW50fSB0eXBlXG4gKlxuICogQHJldHVybiB7IHtcbiAqICAgYXhpczogQXhpcztcbiAqICAgZGltZW5zaW9uOiBEaW1lbnNpb247XG4gKiB9IH1cbiAqL1xuQWxpZ25FbGVtZW50cy5wcm90b3R5cGUuX2dldE9yaWVudGF0aW9uRGV0YWlscyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIHZlcnRpY2FsID0gWyAndG9wJywgJ2JvdHRvbScsICdtaWRkbGUnIF0sXG4gICAgICBheGlzID0gJ3gnLFxuICAgICAgZGltZW5zaW9uID0gJ3dpZHRoJztcblxuICBpZiAodmVydGljYWwuaW5kZXhPZih0eXBlKSAhPT0gLTEpIHtcbiAgICBheGlzID0gJ3knO1xuICAgIGRpbWVuc2lvbiA9ICdoZWlnaHQnO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBheGlzOiBheGlzLFxuICAgIGRpbWVuc2lvbjogZGltZW5zaW9uXG4gIH07XG59O1xuXG5BbGlnbkVsZW1lbnRzLnByb3RvdHlwZS5faXNUeXBlID0gZnVuY3Rpb24odHlwZSwgdHlwZXMpIHtcbiAgcmV0dXJuIHR5cGVzLmluZGV4T2YodHlwZSkgIT09IC0xO1xufTtcblxuLyoqXG4gKiBHZXQgcG9pbnQgb24gcmVsZXZhbnQgYXhpcyBmb3IgZ2l2ZW4gYWxpZ25tZW50LlxuICpcbiAqIEBwYXJhbSB7QWxpZ25tZW50fSB0eXBlXG4gKiBAcGFyYW0ge0VsZW1lbnRbXX0gc29ydGVkRWxlbWVudHNcbiAqXG4gKiBAcmV0dXJuIHtQYXJ0aWFsPFJlY29yZDxBbGlnbm1lbnQsIG51bWJlcj4+fVxuICovXG5BbGlnbkVsZW1lbnRzLnByb3RvdHlwZS5fYWxpZ25tZW50UG9zaXRpb24gPSBmdW5jdGlvbih0eXBlLCBzb3J0ZWRFbGVtZW50cykge1xuICB2YXIgb3JpZW50YXRpb24gPSB0aGlzLl9nZXRPcmllbnRhdGlvbkRldGFpbHModHlwZSksXG4gICAgICBheGlzID0gb3JpZW50YXRpb24uYXhpcyxcbiAgICAgIGRpbWVuc2lvbiA9IG9yaWVudGF0aW9uLmRpbWVuc2lvbixcbiAgICAgIGFsaWdubWVudCA9IHt9LFxuICAgICAgY2VudGVycyA9IHt9LFxuICAgICAgaGFzU2hhcmVkQ2VudGVycyA9IGZhbHNlLFxuICAgICAgY2VudGVyZWRFbGVtZW50cyxcbiAgICAgIGZpcnN0RWxlbWVudCxcbiAgICAgIGxhc3RFbGVtZW50O1xuXG4gIGZ1bmN0aW9uIGdldE1pZGRsZU9yVG9wKGZpcnN0LCBsYXN0KSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoKGZpcnN0W2F4aXNdICsgbGFzdFtheGlzXSArIGxhc3RbZGltZW5zaW9uXSkgLyAyKTtcbiAgfVxuXG4gIGlmICh0aGlzLl9pc1R5cGUodHlwZSwgWyAnbGVmdCcsICd0b3AnIF0pKSB7XG4gICAgYWxpZ25tZW50W3R5cGVdID0gc29ydGVkRWxlbWVudHNbMF1bYXhpc107XG5cbiAgfSBlbHNlIGlmICh0aGlzLl9pc1R5cGUodHlwZSwgWyAncmlnaHQnLCAnYm90dG9tJyBdKSkge1xuICAgIGxhc3RFbGVtZW50ID0gbGFzdChzb3J0ZWRFbGVtZW50cyk7XG5cbiAgICBhbGlnbm1lbnRbdHlwZV0gPSBsYXN0RWxlbWVudFtheGlzXSArIGxhc3RFbGVtZW50W2RpbWVuc2lvbl07XG5cbiAgfSBlbHNlIGlmICh0aGlzLl9pc1R5cGUodHlwZSwgWyAnY2VudGVyJywgJ21pZGRsZScgXSkpIHtcblxuICAgIC8vIGNoZWNrIGlmIHRoZXJlIGlzIGEgY2VudGVyIHNoYXJlZCBieSBtb3JlIHRoYW4gb25lIHNoYXBlXG4gICAgLy8gaWYgbm90LCBqdXN0IHRha2UgdGhlIG1pZGRsZSBvZiB0aGUgcmFuZ2VcbiAgICBmb3JFYWNoKHNvcnRlZEVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICB2YXIgY2VudGVyID0gZWxlbWVudFtheGlzXSArIE1hdGgucm91bmQoZWxlbWVudFtkaW1lbnNpb25dIC8gMik7XG5cbiAgICAgIGlmIChjZW50ZXJzW2NlbnRlcl0pIHtcbiAgICAgICAgY2VudGVyc1tjZW50ZXJdLmVsZW1lbnRzLnB1c2goZWxlbWVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjZW50ZXJzW2NlbnRlcl0gPSB7XG4gICAgICAgICAgZWxlbWVudHM6IFsgZWxlbWVudCBdLFxuICAgICAgICAgIGNlbnRlcjogY2VudGVyXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjZW50ZXJlZEVsZW1lbnRzID0gc29ydEJ5KGNlbnRlcnMsIGZ1bmN0aW9uKGNlbnRlcikge1xuICAgICAgaWYgKGNlbnRlci5lbGVtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGhhc1NoYXJlZENlbnRlcnMgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2VudGVyLmVsZW1lbnRzLmxlbmd0aDtcbiAgICB9KTtcblxuICAgIGlmIChoYXNTaGFyZWRDZW50ZXJzKSB7XG4gICAgICBhbGlnbm1lbnRbdHlwZV0gPSBsYXN0KGNlbnRlcmVkRWxlbWVudHMpLmNlbnRlcjtcblxuICAgICAgcmV0dXJuIGFsaWdubWVudDtcbiAgICB9XG5cbiAgICBmaXJzdEVsZW1lbnQgPSBzb3J0ZWRFbGVtZW50c1swXTtcblxuICAgIHNvcnRlZEVsZW1lbnRzID0gc29ydEJ5KHNvcnRlZEVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICByZXR1cm4gZWxlbWVudFtheGlzXSArIGVsZW1lbnRbZGltZW5zaW9uXTtcbiAgICB9KTtcblxuICAgIGxhc3RFbGVtZW50ID0gbGFzdChzb3J0ZWRFbGVtZW50cyk7XG5cbiAgICBhbGlnbm1lbnRbdHlwZV0gPSBnZXRNaWRkbGVPclRvcChmaXJzdEVsZW1lbnQsIGxhc3RFbGVtZW50KTtcbiAgfVxuXG4gIHJldHVybiBhbGlnbm1lbnQ7XG59O1xuXG4vKipcbiAqIEFsaWduIGVsZW1lbnRzIG9uIHJlbGV2YW50IGF4aXMgZm9yIGdpdmVuIGFsaWdubWVudC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnRbXX0gZWxlbWVudHNcbiAqIEBwYXJhbSB7QWxpZ25tZW50fSB0eXBlXG4gKi9cbkFsaWduRWxlbWVudHMucHJvdG90eXBlLnRyaWdnZXIgPSBmdW5jdGlvbihlbGVtZW50cywgdHlwZSkge1xuICB2YXIgbW9kZWxpbmcgPSB0aGlzLl9tb2RlbGluZyxcbiAgICAgIGFsbG93ZWQ7XG5cbiAgLy8gZmlsdGVyIG91dCBlbGVtZW50cyB3aGljaCBjYW5ub3QgYmUgYWxpZ25lZFxuICB2YXIgZmlsdGVyZWRFbGVtZW50cyA9IGZpbHRlcihlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJldHVybiAhKGVsZW1lbnQud2F5cG9pbnRzIHx8IGVsZW1lbnQuaG9zdCB8fCBlbGVtZW50LmxhYmVsVGFyZ2V0KTtcbiAgfSk7XG5cbiAgLy8gZmlsdGVyIG91dCBlbGVtZW50cyB2aWEgcnVsZXNcbiAgYWxsb3dlZCA9IHRoaXMuX3J1bGVzLmFsbG93ZWQoJ2VsZW1lbnRzLmFsaWduJywgeyBlbGVtZW50czogZmlsdGVyZWRFbGVtZW50cyB9KTtcbiAgaWYgKGlzQXJyYXkoYWxsb3dlZCkpIHtcbiAgICBmaWx0ZXJlZEVsZW1lbnRzID0gYWxsb3dlZDtcbiAgfVxuXG4gIGlmIChmaWx0ZXJlZEVsZW1lbnRzLmxlbmd0aCA8IDIgfHwgIWFsbG93ZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgc29ydEZuID0gQUxJR05NRU5UX1NPUlRJTkdbdHlwZV07XG5cbiAgdmFyIHNvcnRlZEVsZW1lbnRzID0gc29ydEJ5KGZpbHRlcmVkRWxlbWVudHMsIHNvcnRGbik7XG5cbiAgdmFyIGFsaWdubWVudCA9IHRoaXMuX2FsaWdubWVudFBvc2l0aW9uKHR5cGUsIHNvcnRlZEVsZW1lbnRzKTtcblxuICBtb2RlbGluZy5hbGlnbkVsZW1lbnRzKHNvcnRlZEVsZW1lbnRzLCBhbGlnbm1lbnQpO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/align-elements/AlignElements.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/align-elements/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/align-elements/index.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _AlignElements__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AlignElements */ \"(ssr)/./node_modules/diagram-js/lib/features/align-elements/AlignElements.js\");\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [ 'alignElements' ],\n  alignElements: [ 'type', _AlignElements__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYWxpZ24tZWxlbWVudHMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNEM7O0FBRTVDO0FBQ0EsV0FBVztBQUNYO0FBQ0EsaUVBQWU7QUFDZjtBQUNBLDJCQUEyQixzREFBYTtBQUN4QyxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYWxpZ24tZWxlbWVudHMvaW5kZXguanM/ZjAzYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQWxpZ25FbGVtZW50cyBmcm9tICcuL0FsaWduRWxlbWVudHMnO1xuXG4vKipcbiAqIEB0eXBlIHsgaW1wb3J0KCdkaWRpJykuTW9kdWxlRGVjbGFyYXRpb24gfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICdhbGlnbkVsZW1lbnRzJyBdLFxuICBhbGlnbkVsZW1lbnRzOiBbICd0eXBlJywgQWxpZ25FbGVtZW50cyBdXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/align-elements/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/attach-support/AttachSupport.js":
/*!******************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/attach-support/AttachSupport.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AttachSupport)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _util_Removal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/Removal */ \"(ssr)/./node_modules/diagram-js/lib/util/Removal.js\");\n/* harmony import */ var _util_AttachUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/AttachUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/AttachUtil.js\");\n/* harmony import */ var inherits_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! inherits-browser */ \"(ssr)/./node_modules/inherits-browser/dist/index.es.js\");\n/* harmony import */ var _command_CommandInterceptor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../command/CommandInterceptor */ \"(ssr)/./node_modules/diagram-js/lib/command/CommandInterceptor.js\");\n\n\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../rules/Rules').default} Rules\n * @typedef {import('../modeling/Modeling').default} Modeling\n */\n\nvar LOW_PRIORITY = 251,\n    HIGH_PRIORITY = 1401;\n\nvar MARKER_ATTACH = 'attach-ok';\n\n\n/**\n * Adds the notion of attached elements to the modeler.\n *\n * Optionally depends on `diagram-js/lib/features/move` to render\n * the attached elements during move preview.\n *\n * Optionally depends on `diagram-js/lib/features/label-support`\n * to render attached labels during move preview.\n *\n * @param {Injector} injector\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {Rules} rules\n * @param {Modeling} modeling\n */\nfunction AttachSupport(injector, eventBus, canvas, rules, modeling) {\n\n  _command_CommandInterceptor__WEBPACK_IMPORTED_MODULE_0__[\"default\"].call(this, eventBus);\n\n  var movePreview = injector.get('movePreview', false);\n\n\n  // remove all the attached elements from the shapes to be validated\n  // add all the attached shapes to the overall list of moved shapes\n  eventBus.on('shape.move.start', HIGH_PRIORITY, function(e) {\n\n    var context = e.context,\n        shapes = context.shapes,\n        validatedShapes = context.validatedShapes;\n\n    context.shapes = addAttached(shapes);\n\n    context.validatedShapes = removeAttached(validatedShapes);\n  });\n\n  // add attachers to the visual's group\n  movePreview && eventBus.on('shape.move.start', LOW_PRIORITY, function(e) {\n\n    var context = e.context,\n        shapes = context.shapes,\n        attachers = getAttachers(shapes);\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(attachers, function(attacher) {\n      movePreview.makeDraggable(context, attacher, true);\n\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(attacher.labels, function(label) {\n        movePreview.makeDraggable(context, label, true);\n      });\n    });\n  });\n\n  // add attach-ok marker to current host\n  movePreview && eventBus.on('shape.move.start', function(event) {\n    var context = event.context,\n        shapes = context.shapes;\n\n    if (shapes.length !== 1) {\n      return;\n    }\n\n    var shape = shapes[0];\n\n    var host = shape.host;\n\n    if (host) {\n      canvas.addMarker(host, MARKER_ATTACH);\n\n      eventBus.once([\n        'shape.move.out',\n        'shape.move.cleanup'\n      ], function() {\n        canvas.removeMarker(host, MARKER_ATTACH);\n      });\n    }\n  });\n\n  // add all attachers to move closure\n  this.preExecuted('elements.move', HIGH_PRIORITY, function(e) {\n    var context = e.context,\n        closure = context.closure,\n        shapes = context.shapes,\n        attachers = getAttachers(shapes);\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(attachers, function(attacher) {\n      closure.add(attacher, closure.topLevel[attacher.host.id]);\n    });\n  });\n\n  // perform the attaching after shapes are done moving\n  this.postExecuted('elements.move', function(e) {\n\n    var context = e.context,\n        shapes = context.shapes,\n        newHost = context.newHost,\n        attachers;\n\n    // only single elements can be attached\n    // multiply elements can be detached\n    if (newHost && shapes.length !== 1) {\n      return;\n    }\n\n    if (newHost) {\n      attachers = shapes;\n    } else {\n\n      // find attachers moved without host\n      attachers = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.filter)(shapes, function(shape) {\n        var host = shape.host;\n\n        return isAttacher(shape) && !includes(shapes, host);\n      });\n    }\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(attachers, function(attacher) {\n      modeling.updateAttachment(attacher, newHost);\n    });\n  });\n\n  // ensure invalid attachment connections are removed\n  this.postExecuted('elements.move', function(e) {\n\n    var shapes = e.context.shapes;\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(shapes, function(shape) {\n\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(shape.attachers, function(attacher) {\n\n        // remove invalid outgoing connections\n        (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(attacher.outgoing.slice(), function(connection) {\n          var allowed = rules.allowed('connection.reconnect', {\n            connection: connection,\n            source: connection.source,\n            target: connection.target\n          });\n\n          if (!allowed) {\n            modeling.removeConnection(connection);\n          }\n        });\n\n        // remove invalid incoming connections\n        (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(attacher.incoming.slice(), function(connection) {\n          var allowed = rules.allowed('connection.reconnect', {\n            connection: connection,\n            source: connection.source,\n            target: connection.target\n          });\n\n          if (!allowed) {\n            modeling.removeConnection(connection);\n          }\n        });\n      });\n    });\n  });\n\n  this.postExecute('shape.create', function(e) {\n    var context = e.context,\n        shape = context.shape,\n        host = context.host;\n\n    if (host) {\n      modeling.updateAttachment(shape, host);\n    }\n  });\n\n  // update attachments if the host is replaced\n  this.postExecute('shape.replace', function(e) {\n\n    var context = e.context,\n        oldShape = context.oldShape,\n        newShape = context.newShape;\n\n    // move the attachers to the new host\n    (0,_util_Removal__WEBPACK_IMPORTED_MODULE_2__.saveClear)(oldShape.attachers, function(attacher) {\n      var allowed = rules.allowed('elements.move', {\n        target: newShape,\n        shapes: [ attacher ]\n      });\n\n      if (allowed === 'attach') {\n        modeling.updateAttachment(attacher, newShape);\n      } else {\n        modeling.removeShape(attacher);\n      }\n    });\n\n    // move attachers if new host has different size\n    if (newShape.attachers.length) {\n\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(newShape.attachers, function(attacher) {\n        var delta = (0,_util_AttachUtil__WEBPACK_IMPORTED_MODULE_3__.getNewAttachShapeDelta)(attacher, oldShape, newShape);\n        modeling.moveShape(attacher, delta, attacher.parent);\n      });\n    }\n\n  });\n\n  // move shape on host resize\n  this.postExecute('shape.resize', function(event) {\n    var context = event.context,\n        shape = context.shape,\n        oldBounds = context.oldBounds,\n        newBounds = context.newBounds,\n        attachers = shape.attachers,\n        hints = context.hints || {};\n\n    if (hints.attachSupport === false) {\n      return;\n    }\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(attachers, function(attacher) {\n      var delta = (0,_util_AttachUtil__WEBPACK_IMPORTED_MODULE_3__.getNewAttachShapeDelta)(attacher, oldBounds, newBounds);\n\n      modeling.moveShape(attacher, delta, attacher.parent);\n\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(attacher.labels, function(label) {\n        modeling.moveShape(label, delta, label.parent);\n      });\n    });\n  });\n\n  // remove attachments\n  this.preExecute('shape.delete', function(event) {\n\n    var shape = event.context.shape;\n\n    (0,_util_Removal__WEBPACK_IMPORTED_MODULE_2__.saveClear)(shape.attachers, function(attacher) {\n      modeling.removeShape(attacher);\n    });\n\n    if (shape.host) {\n      modeling.updateAttachment(shape, null);\n    }\n  });\n}\n\n(0,inherits_browser__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(AttachSupport, _command_CommandInterceptor__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\nAttachSupport.$inject = [\n  'injector',\n  'eventBus',\n  'canvas',\n  'rules',\n  'modeling'\n];\n\n\n/**\n * Return attachers of the given shapes\n *\n * @param {Element[]} shapes\n * @return {Element[]}\n */\nfunction getAttachers(shapes) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.flatten)((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.map)(shapes, function(s) {\n    return s.attachers || [];\n  }));\n}\n\n/**\n * Return a combined list of elements and\n * attachers.\n *\n * @param {Element[]} elements\n * @return {Element[]} filtered\n */\nfunction addAttached(elements) {\n  var attachers = getAttachers(elements);\n\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.unionBy)('id', elements, attachers);\n}\n\n/**\n * Return a filtered list of elements that do not\n * contain attached elements with hosts being part\n * of the selection.\n *\n * @param {Element[]} elements\n *\n * @return {Element[]} filtered\n */\nfunction removeAttached(elements) {\n\n  var ids = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.groupBy)(elements, 'id');\n\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.filter)(elements, function(element) {\n    while (element) {\n\n      // host in selection\n      if (element.host && ids[element.host.id]) {\n        return false;\n      }\n\n      element = element.parent;\n    }\n\n    return true;\n  });\n}\n\nfunction isAttacher(shape) {\n  return !!shape.host;\n}\n\nfunction includes(array, item) {\n  return array.indexOf(item) !== -1;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYXR0YWNoLXN1cHBvcnQvQXR0YWNoU3VwcG9ydC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFPa0I7O0FBRTZCOztBQUVnQjs7QUFFdkI7O0FBRTBCOztBQUVsRTtBQUNBLGFBQWEseUJBQXlCO0FBQ3RDO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQ7QUFDQSxhQUFhLHFDQUFxQztBQUNsRCxhQUFhLHVDQUF1QztBQUNwRCxhQUFhLGtDQUFrQztBQUMvQyxhQUFhLHdDQUF3QztBQUNyRDs7QUFFQTtBQUNBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsUUFBUTtBQUNuQixXQUFXLE9BQU87QUFDbEIsV0FBVyxVQUFVO0FBQ3JCO0FBQ2U7O0FBRWYsRUFBRSxtRUFBa0I7O0FBRXBCOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJLGlEQUFPO0FBQ1g7O0FBRUEsTUFBTSxpREFBTztBQUNiO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJLGlEQUFPO0FBQ1g7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQSxrQkFBa0IsZ0RBQU07QUFDeEI7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7O0FBRUEsSUFBSSxpREFBTztBQUNYO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTs7QUFFQSxJQUFJLGlEQUFPOztBQUVYLE1BQU0saURBQU87O0FBRWI7QUFDQSxRQUFRLGlEQUFPO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXOztBQUVYO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQSxRQUFRLGlEQUFPO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXOztBQUVYO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUksd0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQSxNQUFNLGlEQUFPO0FBQ2Isb0JBQW9CLHdFQUFzQjtBQUMxQztBQUNBLE9BQU87QUFDUDs7QUFFQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLElBQUksaURBQU87QUFDWCxrQkFBa0Isd0VBQXNCOztBQUV4Qzs7QUFFQSxNQUFNLGlEQUFPO0FBQ2I7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTs7QUFFQSxJQUFJLHdEQUFTO0FBQ2I7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQSw0REFBUSxnQkFBZ0IsbUVBQWtCOztBQUUxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCLFlBQVk7QUFDWjtBQUNBO0FBQ0EsU0FBUyxpREFBTyxDQUFDLDZDQUFHO0FBQ3BCO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCLFlBQVksV0FBVztBQUN2QjtBQUNBO0FBQ0E7O0FBRUEsU0FBUyxpREFBTztBQUNoQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCO0FBQ0EsWUFBWSxXQUFXO0FBQ3ZCO0FBQ0E7O0FBRUEsWUFBWSxpREFBTzs7QUFFbkIsU0FBUyxnREFBTTtBQUNmOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9hdHRhY2gtc3VwcG9ydC9BdHRhY2hTdXBwb3J0LmpzPzNjM2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgZmxhdHRlbixcbiAgZmlsdGVyLFxuICBmb3JFYWNoLFxuICBncm91cEJ5LFxuICBtYXAsXG4gIHVuaW9uQnlcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQgeyBzYXZlQ2xlYXIgfSBmcm9tICcuLi8uLi91dGlsL1JlbW92YWwnO1xuXG5pbXBvcnQgeyBnZXROZXdBdHRhY2hTaGFwZURlbHRhIH0gZnJvbSAnLi4vLi4vdXRpbC9BdHRhY2hVdGlsJztcblxuaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzLWJyb3dzZXInO1xuXG5pbXBvcnQgQ29tbWFuZEludGVyY2VwdG9yIGZyb20gJy4uLy4uL2NvbW1hbmQvQ29tbWFuZEludGVyY2VwdG9yJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCdkaWRpJykuSW5qZWN0b3J9IEluamVjdG9yXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vbW9kZWwvVHlwZXMnKS5FbGVtZW50fSBFbGVtZW50XG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9DYW52YXMnKS5kZWZhdWx0fSBDYW52YXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vcnVsZXMvUnVsZXMnKS5kZWZhdWx0fSBSdWxlc1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vbW9kZWxpbmcvTW9kZWxpbmcnKS5kZWZhdWx0fSBNb2RlbGluZ1xuICovXG5cbnZhciBMT1dfUFJJT1JJVFkgPSAyNTEsXG4gICAgSElHSF9QUklPUklUWSA9IDE0MDE7XG5cbnZhciBNQVJLRVJfQVRUQUNIID0gJ2F0dGFjaC1vayc7XG5cblxuLyoqXG4gKiBBZGRzIHRoZSBub3Rpb24gb2YgYXR0YWNoZWQgZWxlbWVudHMgdG8gdGhlIG1vZGVsZXIuXG4gKlxuICogT3B0aW9uYWxseSBkZXBlbmRzIG9uIGBkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb3ZlYCB0byByZW5kZXJcbiAqIHRoZSBhdHRhY2hlZCBlbGVtZW50cyBkdXJpbmcgbW92ZSBwcmV2aWV3LlxuICpcbiAqIE9wdGlvbmFsbHkgZGVwZW5kcyBvbiBgZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbGFiZWwtc3VwcG9ydGBcbiAqIHRvIHJlbmRlciBhdHRhY2hlZCBsYWJlbHMgZHVyaW5nIG1vdmUgcHJldmlldy5cbiAqXG4gKiBAcGFyYW0ge0luamVjdG9yfSBpbmplY3RvclxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqIEBwYXJhbSB7UnVsZXN9IHJ1bGVzXG4gKiBAcGFyYW0ge01vZGVsaW5nfSBtb2RlbGluZ1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBdHRhY2hTdXBwb3J0KGluamVjdG9yLCBldmVudEJ1cywgY2FudmFzLCBydWxlcywgbW9kZWxpbmcpIHtcblxuICBDb21tYW5kSW50ZXJjZXB0b3IuY2FsbCh0aGlzLCBldmVudEJ1cyk7XG5cbiAgdmFyIG1vdmVQcmV2aWV3ID0gaW5qZWN0b3IuZ2V0KCdtb3ZlUHJldmlldycsIGZhbHNlKTtcblxuXG4gIC8vIHJlbW92ZSBhbGwgdGhlIGF0dGFjaGVkIGVsZW1lbnRzIGZyb20gdGhlIHNoYXBlcyB0byBiZSB2YWxpZGF0ZWRcbiAgLy8gYWRkIGFsbCB0aGUgYXR0YWNoZWQgc2hhcGVzIHRvIHRoZSBvdmVyYWxsIGxpc3Qgb2YgbW92ZWQgc2hhcGVzXG4gIGV2ZW50QnVzLm9uKCdzaGFwZS5tb3ZlLnN0YXJ0JywgSElHSF9QUklPUklUWSwgZnVuY3Rpb24oZSkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBlLmNvbnRleHQsXG4gICAgICAgIHNoYXBlcyA9IGNvbnRleHQuc2hhcGVzLFxuICAgICAgICB2YWxpZGF0ZWRTaGFwZXMgPSBjb250ZXh0LnZhbGlkYXRlZFNoYXBlcztcblxuICAgIGNvbnRleHQuc2hhcGVzID0gYWRkQXR0YWNoZWQoc2hhcGVzKTtcblxuICAgIGNvbnRleHQudmFsaWRhdGVkU2hhcGVzID0gcmVtb3ZlQXR0YWNoZWQodmFsaWRhdGVkU2hhcGVzKTtcbiAgfSk7XG5cbiAgLy8gYWRkIGF0dGFjaGVycyB0byB0aGUgdmlzdWFsJ3MgZ3JvdXBcbiAgbW92ZVByZXZpZXcgJiYgZXZlbnRCdXMub24oJ3NoYXBlLm1vdmUuc3RhcnQnLCBMT1dfUFJJT1JJVFksIGZ1bmN0aW9uKGUpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZS5jb250ZXh0LFxuICAgICAgICBzaGFwZXMgPSBjb250ZXh0LnNoYXBlcyxcbiAgICAgICAgYXR0YWNoZXJzID0gZ2V0QXR0YWNoZXJzKHNoYXBlcyk7XG5cbiAgICBmb3JFYWNoKGF0dGFjaGVycywgZnVuY3Rpb24oYXR0YWNoZXIpIHtcbiAgICAgIG1vdmVQcmV2aWV3Lm1ha2VEcmFnZ2FibGUoY29udGV4dCwgYXR0YWNoZXIsIHRydWUpO1xuXG4gICAgICBmb3JFYWNoKGF0dGFjaGVyLmxhYmVscywgZnVuY3Rpb24obGFiZWwpIHtcbiAgICAgICAgbW92ZVByZXZpZXcubWFrZURyYWdnYWJsZShjb250ZXh0LCBsYWJlbCwgdHJ1ZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gYWRkIGF0dGFjaC1vayBtYXJrZXIgdG8gY3VycmVudCBob3N0XG4gIG1vdmVQcmV2aWV3ICYmIGV2ZW50QnVzLm9uKCdzaGFwZS5tb3ZlLnN0YXJ0JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIHNoYXBlcyA9IGNvbnRleHQuc2hhcGVzO1xuXG4gICAgaWYgKHNoYXBlcy5sZW5ndGggIT09IDEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgc2hhcGUgPSBzaGFwZXNbMF07XG5cbiAgICB2YXIgaG9zdCA9IHNoYXBlLmhvc3Q7XG5cbiAgICBpZiAoaG9zdCkge1xuICAgICAgY2FudmFzLmFkZE1hcmtlcihob3N0LCBNQVJLRVJfQVRUQUNIKTtcblxuICAgICAgZXZlbnRCdXMub25jZShbXG4gICAgICAgICdzaGFwZS5tb3ZlLm91dCcsXG4gICAgICAgICdzaGFwZS5tb3ZlLmNsZWFudXAnXG4gICAgICBdLCBmdW5jdGlvbigpIHtcbiAgICAgICAgY2FudmFzLnJlbW92ZU1hcmtlcihob3N0LCBNQVJLRVJfQVRUQUNIKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gYWRkIGFsbCBhdHRhY2hlcnMgdG8gbW92ZSBjbG9zdXJlXG4gIHRoaXMucHJlRXhlY3V0ZWQoJ2VsZW1lbnRzLm1vdmUnLCBISUdIX1BSSU9SSVRZLCBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGNvbnRleHQgPSBlLmNvbnRleHQsXG4gICAgICAgIGNsb3N1cmUgPSBjb250ZXh0LmNsb3N1cmUsXG4gICAgICAgIHNoYXBlcyA9IGNvbnRleHQuc2hhcGVzLFxuICAgICAgICBhdHRhY2hlcnMgPSBnZXRBdHRhY2hlcnMoc2hhcGVzKTtcblxuICAgIGZvckVhY2goYXR0YWNoZXJzLCBmdW5jdGlvbihhdHRhY2hlcikge1xuICAgICAgY2xvc3VyZS5hZGQoYXR0YWNoZXIsIGNsb3N1cmUudG9wTGV2ZWxbYXR0YWNoZXIuaG9zdC5pZF0pO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBwZXJmb3JtIHRoZSBhdHRhY2hpbmcgYWZ0ZXIgc2hhcGVzIGFyZSBkb25lIG1vdmluZ1xuICB0aGlzLnBvc3RFeGVjdXRlZCgnZWxlbWVudHMubW92ZScsIGZ1bmN0aW9uKGUpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZS5jb250ZXh0LFxuICAgICAgICBzaGFwZXMgPSBjb250ZXh0LnNoYXBlcyxcbiAgICAgICAgbmV3SG9zdCA9IGNvbnRleHQubmV3SG9zdCxcbiAgICAgICAgYXR0YWNoZXJzO1xuXG4gICAgLy8gb25seSBzaW5nbGUgZWxlbWVudHMgY2FuIGJlIGF0dGFjaGVkXG4gICAgLy8gbXVsdGlwbHkgZWxlbWVudHMgY2FuIGJlIGRldGFjaGVkXG4gICAgaWYgKG5ld0hvc3QgJiYgc2hhcGVzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChuZXdIb3N0KSB7XG4gICAgICBhdHRhY2hlcnMgPSBzaGFwZXM7XG4gICAgfSBlbHNlIHtcblxuICAgICAgLy8gZmluZCBhdHRhY2hlcnMgbW92ZWQgd2l0aG91dCBob3N0XG4gICAgICBhdHRhY2hlcnMgPSBmaWx0ZXIoc2hhcGVzLCBmdW5jdGlvbihzaGFwZSkge1xuICAgICAgICB2YXIgaG9zdCA9IHNoYXBlLmhvc3Q7XG5cbiAgICAgICAgcmV0dXJuIGlzQXR0YWNoZXIoc2hhcGUpICYmICFpbmNsdWRlcyhzaGFwZXMsIGhvc3QpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZm9yRWFjaChhdHRhY2hlcnMsIGZ1bmN0aW9uKGF0dGFjaGVyKSB7XG4gICAgICBtb2RlbGluZy51cGRhdGVBdHRhY2htZW50KGF0dGFjaGVyLCBuZXdIb3N0KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gZW5zdXJlIGludmFsaWQgYXR0YWNobWVudCBjb25uZWN0aW9ucyBhcmUgcmVtb3ZlZFxuICB0aGlzLnBvc3RFeGVjdXRlZCgnZWxlbWVudHMubW92ZScsIGZ1bmN0aW9uKGUpIHtcblxuICAgIHZhciBzaGFwZXMgPSBlLmNvbnRleHQuc2hhcGVzO1xuXG4gICAgZm9yRWFjaChzaGFwZXMsIGZ1bmN0aW9uKHNoYXBlKSB7XG5cbiAgICAgIGZvckVhY2goc2hhcGUuYXR0YWNoZXJzLCBmdW5jdGlvbihhdHRhY2hlcikge1xuXG4gICAgICAgIC8vIHJlbW92ZSBpbnZhbGlkIG91dGdvaW5nIGNvbm5lY3Rpb25zXG4gICAgICAgIGZvckVhY2goYXR0YWNoZXIub3V0Z29pbmcuc2xpY2UoKSwgZnVuY3Rpb24oY29ubmVjdGlvbikge1xuICAgICAgICAgIHZhciBhbGxvd2VkID0gcnVsZXMuYWxsb3dlZCgnY29ubmVjdGlvbi5yZWNvbm5lY3QnLCB7XG4gICAgICAgICAgICBjb25uZWN0aW9uOiBjb25uZWN0aW9uLFxuICAgICAgICAgICAgc291cmNlOiBjb25uZWN0aW9uLnNvdXJjZSxcbiAgICAgICAgICAgIHRhcmdldDogY29ubmVjdGlvbi50YXJnZXRcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmICghYWxsb3dlZCkge1xuICAgICAgICAgICAgbW9kZWxpbmcucmVtb3ZlQ29ubmVjdGlvbihjb25uZWN0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHJlbW92ZSBpbnZhbGlkIGluY29taW5nIGNvbm5lY3Rpb25zXG4gICAgICAgIGZvckVhY2goYXR0YWNoZXIuaW5jb21pbmcuc2xpY2UoKSwgZnVuY3Rpb24oY29ubmVjdGlvbikge1xuICAgICAgICAgIHZhciBhbGxvd2VkID0gcnVsZXMuYWxsb3dlZCgnY29ubmVjdGlvbi5yZWNvbm5lY3QnLCB7XG4gICAgICAgICAgICBjb25uZWN0aW9uOiBjb25uZWN0aW9uLFxuICAgICAgICAgICAgc291cmNlOiBjb25uZWN0aW9uLnNvdXJjZSxcbiAgICAgICAgICAgIHRhcmdldDogY29ubmVjdGlvbi50YXJnZXRcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmICghYWxsb3dlZCkge1xuICAgICAgICAgICAgbW9kZWxpbmcucmVtb3ZlQ29ubmVjdGlvbihjb25uZWN0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHRoaXMucG9zdEV4ZWN1dGUoJ3NoYXBlLmNyZWF0ZScsIGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgY29udGV4dCA9IGUuY29udGV4dCxcbiAgICAgICAgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgICBob3N0ID0gY29udGV4dC5ob3N0O1xuXG4gICAgaWYgKGhvc3QpIHtcbiAgICAgIG1vZGVsaW5nLnVwZGF0ZUF0dGFjaG1lbnQoc2hhcGUsIGhvc3QpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gdXBkYXRlIGF0dGFjaG1lbnRzIGlmIHRoZSBob3N0IGlzIHJlcGxhY2VkXG4gIHRoaXMucG9zdEV4ZWN1dGUoJ3NoYXBlLnJlcGxhY2UnLCBmdW5jdGlvbihlKSB7XG5cbiAgICB2YXIgY29udGV4dCA9IGUuY29udGV4dCxcbiAgICAgICAgb2xkU2hhcGUgPSBjb250ZXh0Lm9sZFNoYXBlLFxuICAgICAgICBuZXdTaGFwZSA9IGNvbnRleHQubmV3U2hhcGU7XG5cbiAgICAvLyBtb3ZlIHRoZSBhdHRhY2hlcnMgdG8gdGhlIG5ldyBob3N0XG4gICAgc2F2ZUNsZWFyKG9sZFNoYXBlLmF0dGFjaGVycywgZnVuY3Rpb24oYXR0YWNoZXIpIHtcbiAgICAgIHZhciBhbGxvd2VkID0gcnVsZXMuYWxsb3dlZCgnZWxlbWVudHMubW92ZScsIHtcbiAgICAgICAgdGFyZ2V0OiBuZXdTaGFwZSxcbiAgICAgICAgc2hhcGVzOiBbIGF0dGFjaGVyIF1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoYWxsb3dlZCA9PT0gJ2F0dGFjaCcpIHtcbiAgICAgICAgbW9kZWxpbmcudXBkYXRlQXR0YWNobWVudChhdHRhY2hlciwgbmV3U2hhcGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbW9kZWxpbmcucmVtb3ZlU2hhcGUoYXR0YWNoZXIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gbW92ZSBhdHRhY2hlcnMgaWYgbmV3IGhvc3QgaGFzIGRpZmZlcmVudCBzaXplXG4gICAgaWYgKG5ld1NoYXBlLmF0dGFjaGVycy5sZW5ndGgpIHtcblxuICAgICAgZm9yRWFjaChuZXdTaGFwZS5hdHRhY2hlcnMsIGZ1bmN0aW9uKGF0dGFjaGVyKSB7XG4gICAgICAgIHZhciBkZWx0YSA9IGdldE5ld0F0dGFjaFNoYXBlRGVsdGEoYXR0YWNoZXIsIG9sZFNoYXBlLCBuZXdTaGFwZSk7XG4gICAgICAgIG1vZGVsaW5nLm1vdmVTaGFwZShhdHRhY2hlciwgZGVsdGEsIGF0dGFjaGVyLnBhcmVudCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgfSk7XG5cbiAgLy8gbW92ZSBzaGFwZSBvbiBob3N0IHJlc2l6ZVxuICB0aGlzLnBvc3RFeGVjdXRlKCdzaGFwZS5yZXNpemUnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgICBvbGRCb3VuZHMgPSBjb250ZXh0Lm9sZEJvdW5kcyxcbiAgICAgICAgbmV3Qm91bmRzID0gY29udGV4dC5uZXdCb3VuZHMsXG4gICAgICAgIGF0dGFjaGVycyA9IHNoYXBlLmF0dGFjaGVycyxcbiAgICAgICAgaGludHMgPSBjb250ZXh0LmhpbnRzIHx8IHt9O1xuXG4gICAgaWYgKGhpbnRzLmF0dGFjaFN1cHBvcnQgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yRWFjaChhdHRhY2hlcnMsIGZ1bmN0aW9uKGF0dGFjaGVyKSB7XG4gICAgICB2YXIgZGVsdGEgPSBnZXROZXdBdHRhY2hTaGFwZURlbHRhKGF0dGFjaGVyLCBvbGRCb3VuZHMsIG5ld0JvdW5kcyk7XG5cbiAgICAgIG1vZGVsaW5nLm1vdmVTaGFwZShhdHRhY2hlciwgZGVsdGEsIGF0dGFjaGVyLnBhcmVudCk7XG5cbiAgICAgIGZvckVhY2goYXR0YWNoZXIubGFiZWxzLCBmdW5jdGlvbihsYWJlbCkge1xuICAgICAgICBtb2RlbGluZy5tb3ZlU2hhcGUobGFiZWwsIGRlbHRhLCBsYWJlbC5wYXJlbnQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIHJlbW92ZSBhdHRhY2htZW50c1xuICB0aGlzLnByZUV4ZWN1dGUoJ3NoYXBlLmRlbGV0ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgc2hhcGUgPSBldmVudC5jb250ZXh0LnNoYXBlO1xuXG4gICAgc2F2ZUNsZWFyKHNoYXBlLmF0dGFjaGVycywgZnVuY3Rpb24oYXR0YWNoZXIpIHtcbiAgICAgIG1vZGVsaW5nLnJlbW92ZVNoYXBlKGF0dGFjaGVyKTtcbiAgICB9KTtcblxuICAgIGlmIChzaGFwZS5ob3N0KSB7XG4gICAgICBtb2RlbGluZy51cGRhdGVBdHRhY2htZW50KHNoYXBlLCBudWxsKTtcbiAgICB9XG4gIH0pO1xufVxuXG5pbmhlcml0cyhBdHRhY2hTdXBwb3J0LCBDb21tYW5kSW50ZXJjZXB0b3IpO1xuXG5BdHRhY2hTdXBwb3J0LiRpbmplY3QgPSBbXG4gICdpbmplY3RvcicsXG4gICdldmVudEJ1cycsXG4gICdjYW52YXMnLFxuICAncnVsZXMnLFxuICAnbW9kZWxpbmcnXG5dO1xuXG5cbi8qKlxuICogUmV0dXJuIGF0dGFjaGVycyBvZiB0aGUgZ2l2ZW4gc2hhcGVzXG4gKlxuICogQHBhcmFtIHtFbGVtZW50W119IHNoYXBlc1xuICogQHJldHVybiB7RWxlbWVudFtdfVxuICovXG5mdW5jdGlvbiBnZXRBdHRhY2hlcnMoc2hhcGVzKSB7XG4gIHJldHVybiBmbGF0dGVuKG1hcChzaGFwZXMsIGZ1bmN0aW9uKHMpIHtcbiAgICByZXR1cm4gcy5hdHRhY2hlcnMgfHwgW107XG4gIH0pKTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYSBjb21iaW5lZCBsaXN0IG9mIGVsZW1lbnRzIGFuZFxuICogYXR0YWNoZXJzLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudFtdfSBlbGVtZW50c1xuICogQHJldHVybiB7RWxlbWVudFtdfSBmaWx0ZXJlZFxuICovXG5mdW5jdGlvbiBhZGRBdHRhY2hlZChlbGVtZW50cykge1xuICB2YXIgYXR0YWNoZXJzID0gZ2V0QXR0YWNoZXJzKGVsZW1lbnRzKTtcblxuICByZXR1cm4gdW5pb25CeSgnaWQnLCBlbGVtZW50cywgYXR0YWNoZXJzKTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYSBmaWx0ZXJlZCBsaXN0IG9mIGVsZW1lbnRzIHRoYXQgZG8gbm90XG4gKiBjb250YWluIGF0dGFjaGVkIGVsZW1lbnRzIHdpdGggaG9zdHMgYmVpbmcgcGFydFxuICogb2YgdGhlIHNlbGVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnRbXX0gZWxlbWVudHNcbiAqXG4gKiBAcmV0dXJuIHtFbGVtZW50W119IGZpbHRlcmVkXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUF0dGFjaGVkKGVsZW1lbnRzKSB7XG5cbiAgdmFyIGlkcyA9IGdyb3VwQnkoZWxlbWVudHMsICdpZCcpO1xuXG4gIHJldHVybiBmaWx0ZXIoZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICB3aGlsZSAoZWxlbWVudCkge1xuXG4gICAgICAvLyBob3N0IGluIHNlbGVjdGlvblxuICAgICAgaWYgKGVsZW1lbnQuaG9zdCAmJiBpZHNbZWxlbWVudC5ob3N0LmlkXSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGlzQXR0YWNoZXIoc2hhcGUpIHtcbiAgcmV0dXJuICEhc2hhcGUuaG9zdDtcbn1cblxuZnVuY3Rpb24gaW5jbHVkZXMoYXJyYXksIGl0ZW0pIHtcbiAgcmV0dXJuIGFycmF5LmluZGV4T2YoaXRlbSkgIT09IC0xO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/attach-support/AttachSupport.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/attach-support/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/attach-support/index.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _rules__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../rules */ \"(ssr)/./node_modules/diagram-js/lib/features/rules/index.js\");\n/* harmony import */ var _AttachSupport__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AttachSupport */ \"(ssr)/./node_modules/diagram-js/lib/features/attach-support/AttachSupport.js\");\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _rules__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\n  ],\n  __init__: [ 'attachSupport' ],\n  attachSupport: [ 'type', _AttachSupport__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYXR0YWNoLXN1cHBvcnQvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW1DOztBQUVTOztBQUU1QztBQUNBLFdBQVc7QUFDWDtBQUNBLGlFQUFlO0FBQ2Y7QUFDQSxJQUFJLDhDQUFXO0FBQ2Y7QUFDQTtBQUNBLDJCQUEyQixzREFBYTtBQUN4QyxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYXR0YWNoLXN1cHBvcnQvaW5kZXguanM/NzgxZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUnVsZXNNb2R1bGUgZnJvbSAnLi4vcnVsZXMnO1xuXG5pbXBvcnQgQXR0YWNoU3VwcG9ydCBmcm9tICcuL0F0dGFjaFN1cHBvcnQnO1xuXG4vKipcbiAqIEB0eXBlIHsgaW1wb3J0KCdkaWRpJykuTW9kdWxlRGVjbGFyYXRpb24gfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgUnVsZXNNb2R1bGVcbiAgXSxcbiAgX19pbml0X186IFsgJ2F0dGFjaFN1cHBvcnQnIF0sXG4gIGF0dGFjaFN1cHBvcnQ6IFsgJ3R5cGUnLCBBdHRhY2hTdXBwb3J0IF1cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/attach-support/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/auto-place/AutoPlace.js":
/*!**********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/auto-place/AutoPlace.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AutoPlace)\n/* harmony export */ });\n/* harmony import */ var _layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../layout/LayoutUtil */ \"(ssr)/./node_modules/diagram-js/lib/layout/LayoutUtil.js\");\n/* harmony import */ var _AutoPlaceUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AutoPlaceUtil */ \"(ssr)/./node_modules/diagram-js/lib/features/auto-place/AutoPlaceUtil.js\");\n\n\n\n\n/**\n * @typedef {import('../../core/Types').ShapeLike} Shape\n *\n * @typedef {import('../../util/Types').Point} Point\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../modeling/Modeling').default} Modeling\n */\n\nvar LOW_PRIORITY = 100;\n\n\n/**\n * A service that places elements connected to existing ones\n * to an appropriate position in an _automated_ fashion.\n *\n * @param {EventBus} eventBus\n * @param {Modeling} modeling\n * @param {Canvas} canvas\n */\nfunction AutoPlace(eventBus, modeling, canvas) {\n\n  eventBus.on('autoPlace', LOW_PRIORITY, function(context) {\n    var shape = context.shape,\n        source = context.source;\n\n    return getNewShapePosition(source, shape);\n  });\n\n  eventBus.on('autoPlace.end', function(event) {\n    canvas.scrollToElement(event.shape);\n  });\n\n  /**\n   * Append shape to source at appropriate position.\n   *\n   * @param {Shape} source\n   * @param {Shape} shape\n   * @param {any} [hints={}]\n   *\n   * @return {Shape} appended shape\n   */\n  this.append = function(source, shape, hints) {\n\n    eventBus.fire('autoPlace.start', {\n      source: source,\n      shape: shape\n    });\n\n    // allow others to provide the position\n    var position = eventBus.fire('autoPlace', {\n      source: source,\n      shape: shape\n    });\n\n    var newShape = modeling.appendShape(source, shape, position, source.parent, hints);\n\n    eventBus.fire('autoPlace.end', {\n      source: source,\n      shape: newShape\n    });\n\n    return newShape;\n  };\n\n}\n\nAutoPlace.$inject = [\n  'eventBus',\n  'modeling',\n  'canvas'\n];\n\n// helpers //////////\n\n/**\n * Find the new position for the target element to\n * connect to source.\n *\n * @param {Shape} source\n * @param {Shape} element\n * @param {Object} [hints]\n * @param {Object} [hints.defaultDistance]\n *\n * @return {Point}\n */\nfunction getNewShapePosition(source, element, hints) {\n  if (!hints) {\n    hints = {};\n  }\n\n  var distance = hints.defaultDistance || _AutoPlaceUtil__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_DISTANCE;\n\n  var sourceMid = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.getMid)(source),\n      sourceTrbl = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(source);\n\n  // simply put element right next to source\n  return {\n    x: sourceTrbl.right + distance + element.width / 2,\n    y: sourceMid.y\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYXV0by1wbGFjZS9BdXRvUGxhY2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBR2lDOztBQUVrQjs7QUFFbkQ7QUFDQSxhQUFhLHNDQUFzQztBQUNuRDtBQUNBLGFBQWEsa0NBQWtDO0FBQy9DO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQsYUFBYSx1Q0FBdUM7QUFDcEQsYUFBYSx3Q0FBd0M7QUFDckQ7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkI7QUFDZTs7QUFFZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87QUFDcEIsYUFBYSxLQUFLLFNBQVM7QUFDM0I7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDBDQUEwQyw0REFBZ0I7O0FBRTFELGtCQUFrQiwwREFBTTtBQUN4QixtQkFBbUIsMERBQU07O0FBRXpCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9hdXRvLXBsYWNlL0F1dG9QbGFjZS5qcz85MjJiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGFzVFJCTCxcbiAgZ2V0TWlkXG59IGZyb20gJy4uLy4uL2xheW91dC9MYXlvdXRVdGlsJztcblxuaW1wb3J0IHsgREVGQVVMVF9ESVNUQU5DRSB9IGZyb20gJy4vQXV0b1BsYWNlVXRpbCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9UeXBlcycpLlNoYXBlTGlrZX0gU2hhcGVcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi91dGlsL1R5cGVzJykuUG9pbnR9IFBvaW50XG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9DYW52YXMnKS5kZWZhdWx0fSBDYW52YXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vbW9kZWxpbmcvTW9kZWxpbmcnKS5kZWZhdWx0fSBNb2RlbGluZ1xuICovXG5cbnZhciBMT1dfUFJJT1JJVFkgPSAxMDA7XG5cblxuLyoqXG4gKiBBIHNlcnZpY2UgdGhhdCBwbGFjZXMgZWxlbWVudHMgY29ubmVjdGVkIHRvIGV4aXN0aW5nIG9uZXNcbiAqIHRvIGFuIGFwcHJvcHJpYXRlIHBvc2l0aW9uIGluIGFuIF9hdXRvbWF0ZWRfIGZhc2hpb24uXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7TW9kZWxpbmd9IG1vZGVsaW5nXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEF1dG9QbGFjZShldmVudEJ1cywgbW9kZWxpbmcsIGNhbnZhcykge1xuXG4gIGV2ZW50QnVzLm9uKCdhdXRvUGxhY2UnLCBMT1dfUFJJT1JJVFksIGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICB2YXIgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgICBzb3VyY2UgPSBjb250ZXh0LnNvdXJjZTtcblxuICAgIHJldHVybiBnZXROZXdTaGFwZVBvc2l0aW9uKHNvdXJjZSwgc2hhcGUpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignYXV0b1BsYWNlLmVuZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgY2FudmFzLnNjcm9sbFRvRWxlbWVudChldmVudC5zaGFwZSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBBcHBlbmQgc2hhcGUgdG8gc291cmNlIGF0IGFwcHJvcHJpYXRlIHBvc2l0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge1NoYXBlfSBzb3VyY2VcbiAgICogQHBhcmFtIHtTaGFwZX0gc2hhcGVcbiAgICogQHBhcmFtIHthbnl9IFtoaW50cz17fV1cbiAgICpcbiAgICogQHJldHVybiB7U2hhcGV9IGFwcGVuZGVkIHNoYXBlXG4gICAqL1xuICB0aGlzLmFwcGVuZCA9IGZ1bmN0aW9uKHNvdXJjZSwgc2hhcGUsIGhpbnRzKSB7XG5cbiAgICBldmVudEJ1cy5maXJlKCdhdXRvUGxhY2Uuc3RhcnQnLCB7XG4gICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgIHNoYXBlOiBzaGFwZVxuICAgIH0pO1xuXG4gICAgLy8gYWxsb3cgb3RoZXJzIHRvIHByb3ZpZGUgdGhlIHBvc2l0aW9uXG4gICAgdmFyIHBvc2l0aW9uID0gZXZlbnRCdXMuZmlyZSgnYXV0b1BsYWNlJywge1xuICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICBzaGFwZTogc2hhcGVcbiAgICB9KTtcblxuICAgIHZhciBuZXdTaGFwZSA9IG1vZGVsaW5nLmFwcGVuZFNoYXBlKHNvdXJjZSwgc2hhcGUsIHBvc2l0aW9uLCBzb3VyY2UucGFyZW50LCBoaW50cyk7XG5cbiAgICBldmVudEJ1cy5maXJlKCdhdXRvUGxhY2UuZW5kJywge1xuICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICBzaGFwZTogbmV3U2hhcGVcbiAgICB9KTtcblxuICAgIHJldHVybiBuZXdTaGFwZTtcbiAgfTtcblxufVxuXG5BdXRvUGxhY2UuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ21vZGVsaW5nJyxcbiAgJ2NhbnZhcydcbl07XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xuXG4vKipcbiAqIEZpbmQgdGhlIG5ldyBwb3NpdGlvbiBmb3IgdGhlIHRhcmdldCBlbGVtZW50IHRvXG4gKiBjb25uZWN0IHRvIHNvdXJjZS5cbiAqXG4gKiBAcGFyYW0ge1NoYXBlfSBzb3VyY2VcbiAqIEBwYXJhbSB7U2hhcGV9IGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbaGludHNdXG4gKiBAcGFyYW0ge09iamVjdH0gW2hpbnRzLmRlZmF1bHREaXN0YW5jZV1cbiAqXG4gKiBAcmV0dXJuIHtQb2ludH1cbiAqL1xuZnVuY3Rpb24gZ2V0TmV3U2hhcGVQb3NpdGlvbihzb3VyY2UsIGVsZW1lbnQsIGhpbnRzKSB7XG4gIGlmICghaGludHMpIHtcbiAgICBoaW50cyA9IHt9O1xuICB9XG5cbiAgdmFyIGRpc3RhbmNlID0gaGludHMuZGVmYXVsdERpc3RhbmNlIHx8IERFRkFVTFRfRElTVEFOQ0U7XG5cbiAgdmFyIHNvdXJjZU1pZCA9IGdldE1pZChzb3VyY2UpLFxuICAgICAgc291cmNlVHJibCA9IGFzVFJCTChzb3VyY2UpO1xuXG4gIC8vIHNpbXBseSBwdXQgZWxlbWVudCByaWdodCBuZXh0IHRvIHNvdXJjZVxuICByZXR1cm4ge1xuICAgIHg6IHNvdXJjZVRyYmwucmlnaHQgKyBkaXN0YW5jZSArIGVsZW1lbnQud2lkdGggLyAyLFxuICAgIHk6IHNvdXJjZU1pZC55XG4gIH07XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/auto-place/AutoPlace.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/auto-place/AutoPlaceSelectionBehavior.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/auto-place/AutoPlaceSelectionBehavior.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AutoPlaceSelectionBehavior)\n/* harmony export */ });\n/**\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../selection/Selection').default} Selection\n */\n\n/**\n * Select element after auto placement.\n *\n * @param {EventBus} eventBus\n * @param {Selection} selection\n */\nfunction AutoPlaceSelectionBehavior(eventBus, selection) {\n\n  eventBus.on('autoPlace.end', 500, function(e) {\n    selection.select(e.shape);\n  });\n\n}\n\nAutoPlaceSelectionBehavior.$inject = [\n  'eventBus',\n  'selection'\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYXV0by1wbGFjZS9BdXRvUGxhY2VTZWxlY3Rpb25CZWhhdmlvci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQSxhQUFhLHVDQUF1QztBQUNwRCxhQUFhLDBDQUEwQztBQUN2RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxXQUFXO0FBQ3RCO0FBQ2U7O0FBRWY7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYXV0by1wbGFjZS9BdXRvUGxhY2VTZWxlY3Rpb25CZWhhdmlvci5qcz9jMjdkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9zZWxlY3Rpb24vU2VsZWN0aW9uJykuZGVmYXVsdH0gU2VsZWN0aW9uXG4gKi9cblxuLyoqXG4gKiBTZWxlY3QgZWxlbWVudCBhZnRlciBhdXRvIHBsYWNlbWVudC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtTZWxlY3Rpb259IHNlbGVjdGlvblxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBdXRvUGxhY2VTZWxlY3Rpb25CZWhhdmlvcihldmVudEJ1cywgc2VsZWN0aW9uKSB7XG5cbiAgZXZlbnRCdXMub24oJ2F1dG9QbGFjZS5lbmQnLCA1MDAsIGZ1bmN0aW9uKGUpIHtcbiAgICBzZWxlY3Rpb24uc2VsZWN0KGUuc2hhcGUpO1xuICB9KTtcblxufVxuXG5BdXRvUGxhY2VTZWxlY3Rpb25CZWhhdmlvci4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnc2VsZWN0aW9uJ1xuXTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/auto-place/AutoPlaceSelectionBehavior.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/auto-place/AutoPlaceUtil.js":
/*!**************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/auto-place/AutoPlaceUtil.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_DISTANCE: () => (/* binding */ DEFAULT_DISTANCE),\n/* harmony export */   findFreePosition: () => (/* binding */ findFreePosition),\n/* harmony export */   generateGetNextPosition: () => (/* binding */ generateGetNextPosition),\n/* harmony export */   getConnectedAtPosition: () => (/* binding */ getConnectedAtPosition),\n/* harmony export */   getConnectedDistance: () => (/* binding */ getConnectedDistance)\n/* harmony export */ });\n/* harmony import */ var _layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../layout/LayoutUtil */ \"(ssr)/./node_modules/diagram-js/lib/layout/LayoutUtil.js\");\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n\n\n/**\n * @typedef {import('../../model/Types').Connection} Connection\n * @typedef {import('../../model/Types').Element} Element\n * @typedef {import('../../model/Types').Shape} Shape\n *\n * @typedef {import('../../util/Types').Point} Point\n */\n\n// padding to detect element placement\nvar PLACEMENT_DETECTION_PAD = 10;\n\nvar DEFAULT_DISTANCE = 50;\n\nvar DEFAULT_MAX_DISTANCE = 250;\n\n\n/**\n * Get free position starting from given position.\n *\n * @param {Shape} source\n * @param {Shape} element\n * @param {Point} position\n * @param {(element: Element, position: Point, connectedAtPosition: Element) => Point} getNextPosition\n *\n * @return {Point}\n */\nfunction findFreePosition(source, element, position, getNextPosition) {\n  var connectedAtPosition;\n\n  while ((connectedAtPosition = getConnectedAtPosition(source, position, element))) {\n    position = getNextPosition(element, position, connectedAtPosition);\n  }\n\n  return position;\n}\n\n/**\n * Returns function that returns next position.\n *\n * @param {Object} nextPositionDirection\n * @param {Object} [nextPositionDirection.x]\n * @param {Object} [nextPositionDirection.y]\n *\n * @return {(element: Element, previousPosition: Point, connectedAtPosition: Element) => Point}\n */\nfunction generateGetNextPosition(nextPositionDirection) {\n  return function(element, previousPosition, connectedAtPosition) {\n    var nextPosition = {\n      x: previousPosition.x,\n      y: previousPosition.y\n    };\n\n    [ 'x', 'y' ].forEach(function(axis) {\n\n      var nextPositionDirectionForAxis = nextPositionDirection[ axis ];\n\n      if (!nextPositionDirectionForAxis) {\n        return;\n      }\n\n      var dimension = axis === 'x' ? 'width' : 'height';\n\n      var margin = nextPositionDirectionForAxis.margin,\n          minDistance = nextPositionDirectionForAxis.minDistance;\n\n      if (margin < 0) {\n        nextPosition[ axis ] = Math.min(\n          connectedAtPosition[ axis ] + margin - element[ dimension ] / 2,\n          previousPosition[ axis ] - minDistance + margin\n        );\n      } else {\n        nextPosition[ axis ] = Math.max(\n          connectedAtPosition[ axis ] + connectedAtPosition[ dimension ] + margin + element[ dimension ] / 2,\n          previousPosition[ axis ] + minDistance + margin\n        );\n      }\n    });\n\n    return nextPosition;\n  };\n}\n\n/**\n * Return connected element at given position and within given bounds. Takes\n * connected elements from host and attachers into account, too.\n *\n * @param {Shape} source\n * @param {Point} position\n * @param {Shape} element\n *\n * @return {Shape|undefined}\n */\nfunction getConnectedAtPosition(source, position, element) {\n\n  var bounds = {\n    x: position.x - (element.width / 2),\n    y: position.y - (element.height / 2),\n    width: element.width,\n    height: element.height\n  };\n\n  var closure = getAutoPlaceClosure(source);\n\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.find)(closure, function(target) {\n\n    if (target === element) {\n      return false;\n    }\n\n    var orientation = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.getOrientation)(target, bounds, PLACEMENT_DETECTION_PAD);\n\n    return orientation === 'intersect';\n  });\n}\n\n/**\n* Compute optimal distance between source and target based on existing connections to and from source.\n* Assumes left-to-right and top-to-down modeling.\n*\n* @param {Shape} source\n* @param {Object} [hints]\n* @param {number} [hints.defaultDistance]\n* @param {string} [hints.direction]\n* @param {(connection: Connection) => boolean} [hints.filter]\n* @param {(connection: Connection) => number} [hints.getWeight]\n* @param {number} [hints.maxDistance]\n* @param {'start'|'center'|'end'} [hints.reference]\n*\n* @return {number}\n*/\nfunction getConnectedDistance(source, hints) {\n  if (!hints) {\n    hints = {};\n  }\n\n  // targets > sources by default\n  function getDefaultWeight(connection) {\n    return connection.source === source ? 1 : -1;\n  }\n\n  var defaultDistance = hints.defaultDistance || DEFAULT_DISTANCE,\n      direction = hints.direction || 'e',\n      filter = hints.filter,\n      getWeight = hints.getWeight || getDefaultWeight,\n      maxDistance = hints.maxDistance || DEFAULT_MAX_DISTANCE,\n      reference = hints.reference || 'start';\n\n  if (!filter) {\n    filter = noneFilter;\n  }\n\n  function getDistance(a, b) {\n    if (direction === 'n') {\n      if (reference === 'start') {\n        return (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(a).top - (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(b).bottom;\n      } else if (reference === 'center') {\n        return (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(a).top - (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.getMid)(b).y;\n      } else {\n        return (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(a).top - (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(b).top;\n      }\n    } else if (direction === 'w') {\n      if (reference === 'start') {\n        return (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(a).left - (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(b).right;\n      } else if (reference === 'center') {\n        return (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(a).left - (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.getMid)(b).x;\n      } else {\n        return (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(a).left - (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(b).left;\n      }\n    } else if (direction === 's') {\n      if (reference === 'start') {\n        return (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(b).top - (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(a).bottom;\n      } else if (reference === 'center') {\n        return (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.getMid)(b).y - (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(a).bottom;\n      } else {\n        return (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(b).bottom - (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(a).bottom;\n      }\n    } else {\n      if (reference === 'start') {\n        return (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(b).left - (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(a).right;\n      } else if (reference === 'center') {\n        return (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.getMid)(b).x - (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(a).right;\n      } else {\n        return (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(b).right - (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(a).right;\n      }\n    }\n  }\n\n  var sourcesDistances = source.incoming\n    .filter(filter)\n    .map(function(connection) {\n      var weight = getWeight(connection);\n\n      var distance = weight < 0\n        ? getDistance(connection.source, source)\n        : getDistance(source, connection.source);\n\n      return {\n        id: connection.source.id,\n        distance: distance,\n        weight: weight\n      };\n    });\n\n  var targetsDistances = source.outgoing\n    .filter(filter)\n    .map(function(connection) {\n      var weight = getWeight(connection);\n\n      var distance = weight > 0\n        ? getDistance(source, connection.target)\n        : getDistance(connection.target, source);\n\n      return {\n        id: connection.target.id,\n        distance: distance,\n        weight: weight\n      };\n    });\n\n  var distances = sourcesDistances.concat(targetsDistances).reduce(function(accumulator, currentValue) {\n    accumulator[ currentValue.id + '__weight_' + currentValue.weight ] = currentValue;\n\n    return accumulator;\n  }, {});\n\n  var distancesGrouped = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.reduce)(distances, function(accumulator, currentValue) {\n    var distance = currentValue.distance,\n        weight = currentValue.weight;\n\n    if (distance < 0 || distance > maxDistance) {\n      return accumulator;\n    }\n\n    if (!accumulator[ String(distance) ]) {\n      accumulator[ String(distance) ] = 0;\n    }\n\n    accumulator[ String(distance) ] += 1 * weight;\n\n    if (!accumulator.distance || accumulator[ accumulator.distance ] < accumulator[ String(distance) ]) {\n      accumulator.distance = distance;\n    }\n\n    return accumulator;\n  }, {});\n\n  return distancesGrouped.distance || defaultDistance;\n}\n\n/**\n * Returns all elements connected to given source.\n *\n * This includes:\n *\n *   - elements connected to source\n *   - elements connected to host if source is an attacher\n *   - elements connected to attachers if source is a host\n *\n * @param {Shape} source\n *\n * @return {Shape[]}\n */\nfunction getAutoPlaceClosure(source) {\n\n  var allConnected = getConnected(source);\n\n  if (source.host) {\n    allConnected = allConnected.concat(getConnected(source.host));\n  }\n\n  if (source.attachers) {\n    allConnected = allConnected.concat(source.attachers.reduce(function(shapes, attacher) {\n      return shapes.concat(getConnected(attacher));\n    }, []));\n  }\n\n  return allConnected;\n}\n\n/**\n * Get all connected elements.\n *\n * @param {Shape} element\n *\n * @returns {Shape[]}\n */\nfunction getConnected(element) {\n  return getTargets(element).concat(getSources(element));\n}\n\nfunction getSources(shape) {\n  return shape.incoming.map(function(connection) {\n    return connection.source;\n  });\n}\n\nfunction getTargets(shape) {\n  return shape.outgoing.map(function(connection) {\n    return connection.target;\n  });\n}\n\nfunction noneFilter() {\n  return true;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYXV0by1wbGFjZS9BdXRvUGxhY2VVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFJaUM7O0FBS2Y7O0FBRWxCO0FBQ0EsYUFBYSx3Q0FBd0M7QUFDckQsYUFBYSxxQ0FBcUM7QUFDbEQsYUFBYSxtQ0FBbUM7QUFDaEQ7QUFDQSxhQUFhLGtDQUFrQztBQUMvQzs7QUFFQTtBQUNBOztBQUVPOztBQUVQOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLDRFQUE0RTtBQUN2RjtBQUNBLFlBQVk7QUFDWjtBQUNPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZO0FBQ1o7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQjtBQUNBLFlBQVk7QUFDWjtBQUNPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxTQUFTLDhDQUFJOztBQUViO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0Isa0VBQWM7O0FBRXBDO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxPQUFPO0FBQ2pCLFVBQVUsUUFBUTtBQUNsQixVQUFVLFFBQVE7QUFDbEIsVUFBVSxRQUFRO0FBQ2xCLFVBQVUscUNBQXFDO0FBQy9DLFVBQVUsb0NBQW9DO0FBQzlDLFVBQVUsUUFBUTtBQUNsQixVQUFVLHdCQUF3QjtBQUNsQztBQUNBLFdBQVc7QUFDWDtBQUNPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSwwREFBTSxVQUFVLDBEQUFNO0FBQ3JDLFFBQVE7QUFDUixlQUFlLDBEQUFNLFVBQVUsMERBQU07QUFDckMsUUFBUTtBQUNSLGVBQWUsMERBQU0sVUFBVSwwREFBTTtBQUNyQztBQUNBLE1BQU07QUFDTjtBQUNBLGVBQWUsMERBQU0sV0FBVywwREFBTTtBQUN0QyxRQUFRO0FBQ1IsZUFBZSwwREFBTSxXQUFXLDBEQUFNO0FBQ3RDLFFBQVE7QUFDUixlQUFlLDBEQUFNLFdBQVcsMERBQU07QUFDdEM7QUFDQSxNQUFNO0FBQ047QUFDQSxlQUFlLDBEQUFNLFVBQVUsMERBQU07QUFDckMsUUFBUTtBQUNSLGVBQWUsMERBQU0sUUFBUSwwREFBTTtBQUNuQyxRQUFRO0FBQ1IsZUFBZSwwREFBTSxhQUFhLDBEQUFNO0FBQ3hDO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsZUFBZSwwREFBTSxXQUFXLDBEQUFNO0FBQ3RDLFFBQVE7QUFDUixlQUFlLDBEQUFNLFFBQVEsMERBQU07QUFDbkMsUUFBUTtBQUNSLGVBQWUsMERBQU0sWUFBWSwwREFBTTtBQUN2QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0EsR0FBRyxJQUFJOztBQUVQLHlCQUF5QixnREFBTTtBQUMvQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRyxJQUFJOztBQUVQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9hdXRvLXBsYWNlL0F1dG9QbGFjZVV0aWwuanM/MGM3OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBhc1RSQkwsXG4gIGdldE9yaWVudGF0aW9uLFxuICBnZXRNaWRcbn0gZnJvbSAnLi4vLi4vbGF5b3V0L0xheW91dFV0aWwnO1xuXG5pbXBvcnQge1xuICBmaW5kLFxuICByZWR1Y2Vcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL21vZGVsL1R5cGVzJykuQ29ubmVjdGlvbn0gQ29ubmVjdGlvblxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vbW9kZWwvVHlwZXMnKS5FbGVtZW50fSBFbGVtZW50XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9tb2RlbC9UeXBlcycpLlNoYXBlfSBTaGFwZVxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL3V0aWwvVHlwZXMnKS5Qb2ludH0gUG9pbnRcbiAqL1xuXG4vLyBwYWRkaW5nIHRvIGRldGVjdCBlbGVtZW50IHBsYWNlbWVudFxudmFyIFBMQUNFTUVOVF9ERVRFQ1RJT05fUEFEID0gMTA7XG5cbmV4cG9ydCB2YXIgREVGQVVMVF9ESVNUQU5DRSA9IDUwO1xuXG52YXIgREVGQVVMVF9NQVhfRElTVEFOQ0UgPSAyNTA7XG5cblxuLyoqXG4gKiBHZXQgZnJlZSBwb3NpdGlvbiBzdGFydGluZyBmcm9tIGdpdmVuIHBvc2l0aW9uLlxuICpcbiAqIEBwYXJhbSB7U2hhcGV9IHNvdXJjZVxuICogQHBhcmFtIHtTaGFwZX0gZWxlbWVudFxuICogQHBhcmFtIHtQb2ludH0gcG9zaXRpb25cbiAqIEBwYXJhbSB7KGVsZW1lbnQ6IEVsZW1lbnQsIHBvc2l0aW9uOiBQb2ludCwgY29ubmVjdGVkQXRQb3NpdGlvbjogRWxlbWVudCkgPT4gUG9pbnR9IGdldE5leHRQb3NpdGlvblxuICpcbiAqIEByZXR1cm4ge1BvaW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZEZyZWVQb3NpdGlvbihzb3VyY2UsIGVsZW1lbnQsIHBvc2l0aW9uLCBnZXROZXh0UG9zaXRpb24pIHtcbiAgdmFyIGNvbm5lY3RlZEF0UG9zaXRpb247XG5cbiAgd2hpbGUgKChjb25uZWN0ZWRBdFBvc2l0aW9uID0gZ2V0Q29ubmVjdGVkQXRQb3NpdGlvbihzb3VyY2UsIHBvc2l0aW9uLCBlbGVtZW50KSkpIHtcbiAgICBwb3NpdGlvbiA9IGdldE5leHRQb3NpdGlvbihlbGVtZW50LCBwb3NpdGlvbiwgY29ubmVjdGVkQXRQb3NpdGlvbik7XG4gIH1cblxuICByZXR1cm4gcG9zaXRpb247XG59XG5cbi8qKlxuICogUmV0dXJucyBmdW5jdGlvbiB0aGF0IHJldHVybnMgbmV4dCBwb3NpdGlvbi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gbmV4dFBvc2l0aW9uRGlyZWN0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gW25leHRQb3NpdGlvbkRpcmVjdGlvbi54XVxuICogQHBhcmFtIHtPYmplY3R9IFtuZXh0UG9zaXRpb25EaXJlY3Rpb24ueV1cbiAqXG4gKiBAcmV0dXJuIHsoZWxlbWVudDogRWxlbWVudCwgcHJldmlvdXNQb3NpdGlvbjogUG9pbnQsIGNvbm5lY3RlZEF0UG9zaXRpb246IEVsZW1lbnQpID0+IFBvaW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVHZXROZXh0UG9zaXRpb24obmV4dFBvc2l0aW9uRGlyZWN0aW9uKSB7XG4gIHJldHVybiBmdW5jdGlvbihlbGVtZW50LCBwcmV2aW91c1Bvc2l0aW9uLCBjb25uZWN0ZWRBdFBvc2l0aW9uKSB7XG4gICAgdmFyIG5leHRQb3NpdGlvbiA9IHtcbiAgICAgIHg6IHByZXZpb3VzUG9zaXRpb24ueCxcbiAgICAgIHk6IHByZXZpb3VzUG9zaXRpb24ueVxuICAgIH07XG5cbiAgICBbICd4JywgJ3knIF0uZm9yRWFjaChmdW5jdGlvbihheGlzKSB7XG5cbiAgICAgIHZhciBuZXh0UG9zaXRpb25EaXJlY3Rpb25Gb3JBeGlzID0gbmV4dFBvc2l0aW9uRGlyZWN0aW9uWyBheGlzIF07XG5cbiAgICAgIGlmICghbmV4dFBvc2l0aW9uRGlyZWN0aW9uRm9yQXhpcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBkaW1lbnNpb24gPSBheGlzID09PSAneCcgPyAnd2lkdGgnIDogJ2hlaWdodCc7XG5cbiAgICAgIHZhciBtYXJnaW4gPSBuZXh0UG9zaXRpb25EaXJlY3Rpb25Gb3JBeGlzLm1hcmdpbixcbiAgICAgICAgICBtaW5EaXN0YW5jZSA9IG5leHRQb3NpdGlvbkRpcmVjdGlvbkZvckF4aXMubWluRGlzdGFuY2U7XG5cbiAgICAgIGlmIChtYXJnaW4gPCAwKSB7XG4gICAgICAgIG5leHRQb3NpdGlvblsgYXhpcyBdID0gTWF0aC5taW4oXG4gICAgICAgICAgY29ubmVjdGVkQXRQb3NpdGlvblsgYXhpcyBdICsgbWFyZ2luIC0gZWxlbWVudFsgZGltZW5zaW9uIF0gLyAyLFxuICAgICAgICAgIHByZXZpb3VzUG9zaXRpb25bIGF4aXMgXSAtIG1pbkRpc3RhbmNlICsgbWFyZ2luXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0UG9zaXRpb25bIGF4aXMgXSA9IE1hdGgubWF4KFxuICAgICAgICAgIGNvbm5lY3RlZEF0UG9zaXRpb25bIGF4aXMgXSArIGNvbm5lY3RlZEF0UG9zaXRpb25bIGRpbWVuc2lvbiBdICsgbWFyZ2luICsgZWxlbWVudFsgZGltZW5zaW9uIF0gLyAyLFxuICAgICAgICAgIHByZXZpb3VzUG9zaXRpb25bIGF4aXMgXSArIG1pbkRpc3RhbmNlICsgbWFyZ2luXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbmV4dFBvc2l0aW9uO1xuICB9O1xufVxuXG4vKipcbiAqIFJldHVybiBjb25uZWN0ZWQgZWxlbWVudCBhdCBnaXZlbiBwb3NpdGlvbiBhbmQgd2l0aGluIGdpdmVuIGJvdW5kcy4gVGFrZXNcbiAqIGNvbm5lY3RlZCBlbGVtZW50cyBmcm9tIGhvc3QgYW5kIGF0dGFjaGVycyBpbnRvIGFjY291bnQsIHRvby5cbiAqXG4gKiBAcGFyYW0ge1NoYXBlfSBzb3VyY2VcbiAqIEBwYXJhbSB7UG9pbnR9IHBvc2l0aW9uXG4gKiBAcGFyYW0ge1NoYXBlfSBlbGVtZW50XG4gKlxuICogQHJldHVybiB7U2hhcGV8dW5kZWZpbmVkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29ubmVjdGVkQXRQb3NpdGlvbihzb3VyY2UsIHBvc2l0aW9uLCBlbGVtZW50KSB7XG5cbiAgdmFyIGJvdW5kcyA9IHtcbiAgICB4OiBwb3NpdGlvbi54IC0gKGVsZW1lbnQud2lkdGggLyAyKSxcbiAgICB5OiBwb3NpdGlvbi55IC0gKGVsZW1lbnQuaGVpZ2h0IC8gMiksXG4gICAgd2lkdGg6IGVsZW1lbnQud2lkdGgsXG4gICAgaGVpZ2h0OiBlbGVtZW50LmhlaWdodFxuICB9O1xuXG4gIHZhciBjbG9zdXJlID0gZ2V0QXV0b1BsYWNlQ2xvc3VyZShzb3VyY2UpO1xuXG4gIHJldHVybiBmaW5kKGNsb3N1cmUsIGZ1bmN0aW9uKHRhcmdldCkge1xuXG4gICAgaWYgKHRhcmdldCA9PT0gZWxlbWVudCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBvcmllbnRhdGlvbiA9IGdldE9yaWVudGF0aW9uKHRhcmdldCwgYm91bmRzLCBQTEFDRU1FTlRfREVURUNUSU9OX1BBRCk7XG5cbiAgICByZXR1cm4gb3JpZW50YXRpb24gPT09ICdpbnRlcnNlY3QnO1xuICB9KTtcbn1cblxuLyoqXG4qIENvbXB1dGUgb3B0aW1hbCBkaXN0YW5jZSBiZXR3ZWVuIHNvdXJjZSBhbmQgdGFyZ2V0IGJhc2VkIG9uIGV4aXN0aW5nIGNvbm5lY3Rpb25zIHRvIGFuZCBmcm9tIHNvdXJjZS5cbiogQXNzdW1lcyBsZWZ0LXRvLXJpZ2h0IGFuZCB0b3AtdG8tZG93biBtb2RlbGluZy5cbipcbiogQHBhcmFtIHtTaGFwZX0gc291cmNlXG4qIEBwYXJhbSB7T2JqZWN0fSBbaGludHNdXG4qIEBwYXJhbSB7bnVtYmVyfSBbaGludHMuZGVmYXVsdERpc3RhbmNlXVxuKiBAcGFyYW0ge3N0cmluZ30gW2hpbnRzLmRpcmVjdGlvbl1cbiogQHBhcmFtIHsoY29ubmVjdGlvbjogQ29ubmVjdGlvbikgPT4gYm9vbGVhbn0gW2hpbnRzLmZpbHRlcl1cbiogQHBhcmFtIHsoY29ubmVjdGlvbjogQ29ubmVjdGlvbikgPT4gbnVtYmVyfSBbaGludHMuZ2V0V2VpZ2h0XVxuKiBAcGFyYW0ge251bWJlcn0gW2hpbnRzLm1heERpc3RhbmNlXVxuKiBAcGFyYW0geydzdGFydCd8J2NlbnRlcid8J2VuZCd9IFtoaW50cy5yZWZlcmVuY2VdXG4qXG4qIEByZXR1cm4ge251bWJlcn1cbiovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29ubmVjdGVkRGlzdGFuY2Uoc291cmNlLCBoaW50cykge1xuICBpZiAoIWhpbnRzKSB7XG4gICAgaGludHMgPSB7fTtcbiAgfVxuXG4gIC8vIHRhcmdldHMgPiBzb3VyY2VzIGJ5IGRlZmF1bHRcbiAgZnVuY3Rpb24gZ2V0RGVmYXVsdFdlaWdodChjb25uZWN0aW9uKSB7XG4gICAgcmV0dXJuIGNvbm5lY3Rpb24uc291cmNlID09PSBzb3VyY2UgPyAxIDogLTE7XG4gIH1cblxuICB2YXIgZGVmYXVsdERpc3RhbmNlID0gaGludHMuZGVmYXVsdERpc3RhbmNlIHx8IERFRkFVTFRfRElTVEFOQ0UsXG4gICAgICBkaXJlY3Rpb24gPSBoaW50cy5kaXJlY3Rpb24gfHwgJ2UnLFxuICAgICAgZmlsdGVyID0gaGludHMuZmlsdGVyLFxuICAgICAgZ2V0V2VpZ2h0ID0gaGludHMuZ2V0V2VpZ2h0IHx8IGdldERlZmF1bHRXZWlnaHQsXG4gICAgICBtYXhEaXN0YW5jZSA9IGhpbnRzLm1heERpc3RhbmNlIHx8IERFRkFVTFRfTUFYX0RJU1RBTkNFLFxuICAgICAgcmVmZXJlbmNlID0gaGludHMucmVmZXJlbmNlIHx8ICdzdGFydCc7XG5cbiAgaWYgKCFmaWx0ZXIpIHtcbiAgICBmaWx0ZXIgPSBub25lRmlsdGVyO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RGlzdGFuY2UoYSwgYikge1xuICAgIGlmIChkaXJlY3Rpb24gPT09ICduJykge1xuICAgICAgaWYgKHJlZmVyZW5jZSA9PT0gJ3N0YXJ0Jykge1xuICAgICAgICByZXR1cm4gYXNUUkJMKGEpLnRvcCAtIGFzVFJCTChiKS5ib3R0b207XG4gICAgICB9IGVsc2UgaWYgKHJlZmVyZW5jZSA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgcmV0dXJuIGFzVFJCTChhKS50b3AgLSBnZXRNaWQoYikueTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBhc1RSQkwoYSkudG9wIC0gYXNUUkJMKGIpLnRvcDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ3cnKSB7XG4gICAgICBpZiAocmVmZXJlbmNlID09PSAnc3RhcnQnKSB7XG4gICAgICAgIHJldHVybiBhc1RSQkwoYSkubGVmdCAtIGFzVFJCTChiKS5yaWdodDtcbiAgICAgIH0gZWxzZSBpZiAocmVmZXJlbmNlID09PSAnY2VudGVyJykge1xuICAgICAgICByZXR1cm4gYXNUUkJMKGEpLmxlZnQgLSBnZXRNaWQoYikueDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBhc1RSQkwoYSkubGVmdCAtIGFzVFJCTChiKS5sZWZ0O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAncycpIHtcbiAgICAgIGlmIChyZWZlcmVuY2UgPT09ICdzdGFydCcpIHtcbiAgICAgICAgcmV0dXJuIGFzVFJCTChiKS50b3AgLSBhc1RSQkwoYSkuYm90dG9tO1xuICAgICAgfSBlbHNlIGlmIChyZWZlcmVuY2UgPT09ICdjZW50ZXInKSB7XG4gICAgICAgIHJldHVybiBnZXRNaWQoYikueSAtIGFzVFJCTChhKS5ib3R0b207XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYXNUUkJMKGIpLmJvdHRvbSAtIGFzVFJCTChhKS5ib3R0b207XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChyZWZlcmVuY2UgPT09ICdzdGFydCcpIHtcbiAgICAgICAgcmV0dXJuIGFzVFJCTChiKS5sZWZ0IC0gYXNUUkJMKGEpLnJpZ2h0O1xuICAgICAgfSBlbHNlIGlmIChyZWZlcmVuY2UgPT09ICdjZW50ZXInKSB7XG4gICAgICAgIHJldHVybiBnZXRNaWQoYikueCAtIGFzVFJCTChhKS5yaWdodDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBhc1RSQkwoYikucmlnaHQgLSBhc1RSQkwoYSkucmlnaHQ7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIHNvdXJjZXNEaXN0YW5jZXMgPSBzb3VyY2UuaW5jb21pbmdcbiAgICAuZmlsdGVyKGZpbHRlcilcbiAgICAubWFwKGZ1bmN0aW9uKGNvbm5lY3Rpb24pIHtcbiAgICAgIHZhciB3ZWlnaHQgPSBnZXRXZWlnaHQoY29ubmVjdGlvbik7XG5cbiAgICAgIHZhciBkaXN0YW5jZSA9IHdlaWdodCA8IDBcbiAgICAgICAgPyBnZXREaXN0YW5jZShjb25uZWN0aW9uLnNvdXJjZSwgc291cmNlKVxuICAgICAgICA6IGdldERpc3RhbmNlKHNvdXJjZSwgY29ubmVjdGlvbi5zb3VyY2UpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogY29ubmVjdGlvbi5zb3VyY2UuaWQsXG4gICAgICAgIGRpc3RhbmNlOiBkaXN0YW5jZSxcbiAgICAgICAgd2VpZ2h0OiB3ZWlnaHRcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgdmFyIHRhcmdldHNEaXN0YW5jZXMgPSBzb3VyY2Uub3V0Z29pbmdcbiAgICAuZmlsdGVyKGZpbHRlcilcbiAgICAubWFwKGZ1bmN0aW9uKGNvbm5lY3Rpb24pIHtcbiAgICAgIHZhciB3ZWlnaHQgPSBnZXRXZWlnaHQoY29ubmVjdGlvbik7XG5cbiAgICAgIHZhciBkaXN0YW5jZSA9IHdlaWdodCA+IDBcbiAgICAgICAgPyBnZXREaXN0YW5jZShzb3VyY2UsIGNvbm5lY3Rpb24udGFyZ2V0KVxuICAgICAgICA6IGdldERpc3RhbmNlKGNvbm5lY3Rpb24udGFyZ2V0LCBzb3VyY2UpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogY29ubmVjdGlvbi50YXJnZXQuaWQsXG4gICAgICAgIGRpc3RhbmNlOiBkaXN0YW5jZSxcbiAgICAgICAgd2VpZ2h0OiB3ZWlnaHRcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgdmFyIGRpc3RhbmNlcyA9IHNvdXJjZXNEaXN0YW5jZXMuY29uY2F0KHRhcmdldHNEaXN0YW5jZXMpLnJlZHVjZShmdW5jdGlvbihhY2N1bXVsYXRvciwgY3VycmVudFZhbHVlKSB7XG4gICAgYWNjdW11bGF0b3JbIGN1cnJlbnRWYWx1ZS5pZCArICdfX3dlaWdodF8nICsgY3VycmVudFZhbHVlLndlaWdodCBdID0gY3VycmVudFZhbHVlO1xuXG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9LCB7fSk7XG5cbiAgdmFyIGRpc3RhbmNlc0dyb3VwZWQgPSByZWR1Y2UoZGlzdGFuY2VzLCBmdW5jdGlvbihhY2N1bXVsYXRvciwgY3VycmVudFZhbHVlKSB7XG4gICAgdmFyIGRpc3RhbmNlID0gY3VycmVudFZhbHVlLmRpc3RhbmNlLFxuICAgICAgICB3ZWlnaHQgPSBjdXJyZW50VmFsdWUud2VpZ2h0O1xuXG4gICAgaWYgKGRpc3RhbmNlIDwgMCB8fCBkaXN0YW5jZSA+IG1heERpc3RhbmNlKSB7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgaWYgKCFhY2N1bXVsYXRvclsgU3RyaW5nKGRpc3RhbmNlKSBdKSB7XG4gICAgICBhY2N1bXVsYXRvclsgU3RyaW5nKGRpc3RhbmNlKSBdID0gMDtcbiAgICB9XG5cbiAgICBhY2N1bXVsYXRvclsgU3RyaW5nKGRpc3RhbmNlKSBdICs9IDEgKiB3ZWlnaHQ7XG5cbiAgICBpZiAoIWFjY3VtdWxhdG9yLmRpc3RhbmNlIHx8IGFjY3VtdWxhdG9yWyBhY2N1bXVsYXRvci5kaXN0YW5jZSBdIDwgYWNjdW11bGF0b3JbIFN0cmluZyhkaXN0YW5jZSkgXSkge1xuICAgICAgYWNjdW11bGF0b3IuZGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH0sIHt9KTtcblxuICByZXR1cm4gZGlzdGFuY2VzR3JvdXBlZC5kaXN0YW5jZSB8fCBkZWZhdWx0RGlzdGFuY2U7XG59XG5cbi8qKlxuICogUmV0dXJucyBhbGwgZWxlbWVudHMgY29ubmVjdGVkIHRvIGdpdmVuIHNvdXJjZS5cbiAqXG4gKiBUaGlzIGluY2x1ZGVzOlxuICpcbiAqICAgLSBlbGVtZW50cyBjb25uZWN0ZWQgdG8gc291cmNlXG4gKiAgIC0gZWxlbWVudHMgY29ubmVjdGVkIHRvIGhvc3QgaWYgc291cmNlIGlzIGFuIGF0dGFjaGVyXG4gKiAgIC0gZWxlbWVudHMgY29ubmVjdGVkIHRvIGF0dGFjaGVycyBpZiBzb3VyY2UgaXMgYSBob3N0XG4gKlxuICogQHBhcmFtIHtTaGFwZX0gc291cmNlXG4gKlxuICogQHJldHVybiB7U2hhcGVbXX1cbiAqL1xuZnVuY3Rpb24gZ2V0QXV0b1BsYWNlQ2xvc3VyZShzb3VyY2UpIHtcblxuICB2YXIgYWxsQ29ubmVjdGVkID0gZ2V0Q29ubmVjdGVkKHNvdXJjZSk7XG5cbiAgaWYgKHNvdXJjZS5ob3N0KSB7XG4gICAgYWxsQ29ubmVjdGVkID0gYWxsQ29ubmVjdGVkLmNvbmNhdChnZXRDb25uZWN0ZWQoc291cmNlLmhvc3QpKTtcbiAgfVxuXG4gIGlmIChzb3VyY2UuYXR0YWNoZXJzKSB7XG4gICAgYWxsQ29ubmVjdGVkID0gYWxsQ29ubmVjdGVkLmNvbmNhdChzb3VyY2UuYXR0YWNoZXJzLnJlZHVjZShmdW5jdGlvbihzaGFwZXMsIGF0dGFjaGVyKSB7XG4gICAgICByZXR1cm4gc2hhcGVzLmNvbmNhdChnZXRDb25uZWN0ZWQoYXR0YWNoZXIpKTtcbiAgICB9LCBbXSkpO1xuICB9XG5cbiAgcmV0dXJuIGFsbENvbm5lY3RlZDtcbn1cblxuLyoqXG4gKiBHZXQgYWxsIGNvbm5lY3RlZCBlbGVtZW50cy5cbiAqXG4gKiBAcGFyYW0ge1NoYXBlfSBlbGVtZW50XG4gKlxuICogQHJldHVybnMge1NoYXBlW119XG4gKi9cbmZ1bmN0aW9uIGdldENvbm5lY3RlZChlbGVtZW50KSB7XG4gIHJldHVybiBnZXRUYXJnZXRzKGVsZW1lbnQpLmNvbmNhdChnZXRTb3VyY2VzKGVsZW1lbnQpKTtcbn1cblxuZnVuY3Rpb24gZ2V0U291cmNlcyhzaGFwZSkge1xuICByZXR1cm4gc2hhcGUuaW5jb21pbmcubWFwKGZ1bmN0aW9uKGNvbm5lY3Rpb24pIHtcbiAgICByZXR1cm4gY29ubmVjdGlvbi5zb3VyY2U7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRUYXJnZXRzKHNoYXBlKSB7XG4gIHJldHVybiBzaGFwZS5vdXRnb2luZy5tYXAoZnVuY3Rpb24oY29ubmVjdGlvbikge1xuICAgIHJldHVybiBjb25uZWN0aW9uLnRhcmdldDtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIG5vbmVGaWx0ZXIoKSB7XG4gIHJldHVybiB0cnVlO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/auto-place/AutoPlaceUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/auto-place/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/auto-place/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _AutoPlace__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AutoPlace */ \"(ssr)/./node_modules/diagram-js/lib/features/auto-place/AutoPlace.js\");\n/* harmony import */ var _AutoPlaceSelectionBehavior__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AutoPlaceSelectionBehavior */ \"(ssr)/./node_modules/diagram-js/lib/features/auto-place/AutoPlaceSelectionBehavior.js\");\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [ 'autoPlaceSelectionBehavior' ],\n  autoPlace: [ 'type', _AutoPlace__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ],\n  autoPlaceSelectionBehavior: [ 'type', _AutoPlaceSelectionBehavior__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYXV0by1wbGFjZS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBb0M7QUFDa0M7OztBQUd0RTtBQUNBLFdBQVc7QUFDWDtBQUNBLGlFQUFlO0FBQ2Y7QUFDQSx1QkFBdUIsa0RBQVM7QUFDaEMsd0NBQXdDLG1FQUEwQjtBQUNsRSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2F1dG8tcGxhY2UvaW5kZXguanM/YWFkNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQXV0b1BsYWNlIGZyb20gJy4vQXV0b1BsYWNlJztcbmltcG9ydCBBdXRvUGxhY2VTZWxlY3Rpb25CZWhhdmlvciBmcm9tICcuL0F1dG9QbGFjZVNlbGVjdGlvbkJlaGF2aW9yJztcblxuXG4vKipcbiAqIEB0eXBlIHsgaW1wb3J0KCdkaWRpJykuTW9kdWxlRGVjbGFyYXRpb24gfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICdhdXRvUGxhY2VTZWxlY3Rpb25CZWhhdmlvcicgXSxcbiAgYXV0b1BsYWNlOiBbICd0eXBlJywgQXV0b1BsYWNlIF0sXG4gIGF1dG9QbGFjZVNlbGVjdGlvbkJlaGF2aW9yOiBbICd0eXBlJywgQXV0b1BsYWNlU2VsZWN0aW9uQmVoYXZpb3IgXVxufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/auto-place/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/auto-resize/AutoResize.js":
/*!************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/auto-resize/AutoResize.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AutoResize)\n/* harmony export */ });\n/* harmony import */ var inherits_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! inherits-browser */ \"(ssr)/./node_modules/inherits-browser/dist/index.es.js\");\n/* harmony import */ var _util_Elements__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/Elements */ \"(ssr)/./node_modules/diagram-js/lib/util/Elements.js\");\n/* harmony import */ var _layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../layout/LayoutUtil */ \"(ssr)/./node_modules/diagram-js/lib/layout/LayoutUtil.js\");\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _command_CommandInterceptor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../command/CommandInterceptor */ \"(ssr)/./node_modules/diagram-js/lib/command/CommandInterceptor.js\");\n\n\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n * @typedef {import('../../model/Types').Shape} Shape\n *\n * @typedef {import('../../util/Types').Direction} Direction\n * @typedef {import('../../util/Types').Rect} Rect\n * @typedef {import('../../util/Types').RectTRBL} RectTRBL\n *\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../modeling/Modeling').default} Modeling\n * @typedef {import('../rules/Rules').default} Rules\n */\n\n/**\n * An auto resize component that takes care of expanding a parent element\n * if child elements are created or moved close the parents edge.\n *\n * @param {EventBus} eventBus\n * @param {ElementRegistry} elementRegistry\n * @param {Modeling} modeling\n * @param {Rules} rules\n */\nfunction AutoResize(eventBus, elementRegistry, modeling, rules) {\n\n  _command_CommandInterceptor__WEBPACK_IMPORTED_MODULE_0__[\"default\"].call(this, eventBus);\n\n  this._elementRegistry = elementRegistry;\n  this._modeling = modeling;\n  this._rules = rules;\n\n  var self = this;\n\n  this.postExecuted([ 'shape.create' ], function(event) {\n    var context = event.context,\n        hints = context.hints || {},\n        shape = context.shape,\n        parent = context.parent || context.newParent;\n\n    if (hints.autoResize === false) {\n      return;\n    }\n\n    self._expand([ shape ], parent);\n  });\n\n  this.postExecuted([ 'elements.move' ], function(event) {\n    var context = event.context,\n        elements = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.flatten)((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.values)(context.closure.topLevel)),\n        hints = context.hints;\n\n    var autoResize = hints ? hints.autoResize : true;\n\n    if (autoResize === false) {\n      return;\n    }\n\n    var expandings = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.groupBy)(elements, function(element) {\n      return element.parent.id;\n    });\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(expandings, function(elements, parentId) {\n\n      // optionally filter elements to be considered when resizing\n      if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isArray)(autoResize)) {\n        elements = elements.filter(function(element) {\n          return (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.find)(autoResize, (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.matchPattern)({ id: element.id }));\n        });\n      }\n\n      self._expand(elements, parentId);\n    });\n  });\n\n  this.postExecuted([ 'shape.toggleCollapse' ], function(event) {\n    var context = event.context,\n        hints = context.hints,\n        shape = context.shape;\n\n    if (hints && hints.autoResize === false) {\n      return;\n    }\n\n    if (shape.collapsed) {\n      return;\n    }\n\n    self._expand(shape.children || [], shape);\n  });\n\n  this.postExecuted([ 'shape.resize' ], function(event) {\n    var context = event.context,\n        hints = context.hints,\n        shape = context.shape,\n        parent = shape.parent;\n\n    if (hints && hints.autoResize === false) {\n      return;\n    }\n\n    if (parent) {\n      self._expand([ shape ], parent);\n    }\n  });\n\n}\n\nAutoResize.$inject = [\n  'eventBus',\n  'elementRegistry',\n  'modeling',\n  'rules'\n];\n\n(0,inherits_browser__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(AutoResize, _command_CommandInterceptor__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n\n/**\n * Calculate the new bounds of the target shape, given\n * a number of elements have been moved or added into the parent.\n *\n * This method considers the current size, the added elements as well as\n * the provided padding for the new bounds.\n *\n * @param {Shape[]} elements\n * @param {Shape} target\n */\nAutoResize.prototype._getOptimalBounds = function(elements, target) {\n\n  var offset = this.getOffset(target),\n      padding = this.getPadding(target);\n\n  var elementsTrbl = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_3__.asTRBL)((0,_util_Elements__WEBPACK_IMPORTED_MODULE_4__.getBBox)(elements)),\n      targetTrbl = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_3__.asTRBL)(target);\n\n  var newTrbl = {};\n\n  if (elementsTrbl.top - targetTrbl.top < padding.top) {\n    newTrbl.top = elementsTrbl.top - offset.top;\n  }\n\n  if (elementsTrbl.left - targetTrbl.left < padding.left) {\n    newTrbl.left = elementsTrbl.left - offset.left;\n  }\n\n  if (targetTrbl.right - elementsTrbl.right < padding.right) {\n    newTrbl.right = elementsTrbl.right + offset.right;\n  }\n\n  if (targetTrbl.bottom - elementsTrbl.bottom < padding.bottom) {\n    newTrbl.bottom = elementsTrbl.bottom + offset.bottom;\n  }\n\n  return (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_3__.asBounds)((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)({}, targetTrbl, newTrbl));\n};\n\n\n/**\n * Expand the target shape respecting rules, offset and padding\n *\n * @param {Shape[]} elements\n * @param {Shape|string} target The target or its ID.\n */\nAutoResize.prototype._expand = function(elements, target) {\n\n  if (typeof target === 'string') {\n    target = this._elementRegistry.get(target);\n  }\n\n  var allowed = this._rules.allowed('element.autoResize', {\n    elements: elements,\n    target: target\n  });\n\n  if (!allowed) {\n    return;\n  }\n\n  // calculate the new bounds\n  var newBounds = this._getOptimalBounds(elements, target);\n\n  if (!boundsChanged(newBounds, target)) {\n    return;\n  }\n\n  var resizeDirections = getResizeDirections((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.pick)(target, [ 'x', 'y', 'width', 'height' ]), newBounds);\n\n  // resize the parent shape\n  this.resize(target, newBounds, {\n    autoResize: resizeDirections\n  });\n\n  var parent = target.parent;\n\n  // recursively expand parent elements\n  if (parent) {\n    this._expand([ target ], parent);\n  }\n};\n\n\n/**\n * Get the amount to expand the given shape in each direction.\n *\n * @param {Shape} shape\n *\n * @return {RectTRBL}\n */\nAutoResize.prototype.getOffset = function(shape) {\n  return { top: 60, bottom: 60, left: 100, right: 100 };\n};\n\n\n/**\n * Get the activation threshold for each side for which\n * resize triggers.\n *\n * @param {Shape} shape\n *\n * @return {RectTRBL}\n */\nAutoResize.prototype.getPadding = function(shape) {\n  return { top: 2, bottom: 2, left: 15, right: 15 };\n};\n\n\n/**\n * Perform the actual resize operation.\n *\n * @param {Shape} shape\n * @param {Rect} newBounds\n * @param {Object} [hints]\n * @param {string} [hints.autoResize]\n */\nAutoResize.prototype.resize = function(shape, newBounds, hints) {\n  this._modeling.resizeShape(shape, newBounds, null, hints);\n};\n\n\nfunction boundsChanged(newBounds, oldBounds) {\n  return (\n    newBounds.x !== oldBounds.x ||\n    newBounds.y !== oldBounds.y ||\n    newBounds.width !== oldBounds.width ||\n    newBounds.height !== oldBounds.height\n  );\n}\n\n/**\n * Get directions of resize as {n|w|s|e} e.g. \"nw\".\n *\n * @param {Rect} oldBounds\n * @param {Rect} newBounds\n *\n * @return {Direction} Resize directions as {n|w|s|e}.\n */\nfunction getResizeDirections(oldBounds, newBounds) {\n  var directions = '';\n\n  oldBounds = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_3__.asTRBL)(oldBounds);\n  newBounds = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_3__.asTRBL)(newBounds);\n\n  if (oldBounds.top > newBounds.top) {\n    directions = directions.concat('n');\n  }\n\n  if (oldBounds.right < newBounds.right) {\n    directions = directions.concat('w');\n  }\n\n  if (oldBounds.bottom < newBounds.bottom) {\n    directions = directions.concat('s');\n  }\n\n  if (oldBounds.left > newBounds.left) {\n    directions = directions.concat('e');\n  }\n\n  return directions;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYXV0by1yZXNpemUvQXV0b1Jlc2l6ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBd0M7O0FBRXdCOztBQUsvQjs7QUFZZjs7QUFFZ0Q7O0FBRWxFO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQsYUFBYSxtQ0FBbUM7QUFDaEQ7QUFDQSxhQUFhLHNDQUFzQztBQUNuRCxhQUFhLGlDQUFpQztBQUM5QyxhQUFhLHFDQUFxQztBQUNsRDtBQUNBLGFBQWEsOENBQThDO0FBQzNELGFBQWEsdUNBQXVDO0FBQ3BELGFBQWEsd0NBQXdDO0FBQ3JELGFBQWEsa0NBQWtDO0FBQy9DOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsaUJBQWlCO0FBQzVCLFdBQVcsVUFBVTtBQUNyQixXQUFXLE9BQU87QUFDbEI7QUFDZTs7QUFFZixFQUFFLG1FQUFrQjs7QUFFcEI7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxtQkFBbUIsaURBQU8sQ0FBQyxnREFBTTtBQUNqQzs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCLGlEQUFPO0FBQzVCO0FBQ0EsS0FBSzs7QUFFTCxJQUFJLGlEQUFPOztBQUVYO0FBQ0EsVUFBVSxpREFBTztBQUNqQjtBQUNBLGlCQUFpQiw4Q0FBSSxhQUFhLHNEQUFZLEdBQUcsZ0JBQWdCO0FBQ2pFLFNBQVM7QUFDVDs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDREQUFRLGFBQWEsbUVBQWtCOzs7QUFHdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxxQkFBcUIsMERBQU0sQ0FBQyx1REFBYztBQUMxQyxtQkFBbUIsMERBQU07O0FBRXpCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTLDREQUFRLENBQUMsZ0RBQU0sR0FBRztBQUMzQjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsY0FBYztBQUN6QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSw2Q0FBNkMsOENBQUk7O0FBRWpEO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE1BQU07QUFDakIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdDQUFnQyxTQUFTO0FBQ3pDO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsTUFBTTtBQUNqQjtBQUNBLFlBQVksV0FBVyxzQkFBc0IsUUFBUTtBQUNyRDtBQUNBO0FBQ0E7O0FBRUEsY0FBYywwREFBTTtBQUNwQixjQUFjLDBEQUFNOztBQUVwQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9hdXRvLXJlc2l6ZS9BdXRvUmVzaXplLmpzP2U5ZGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzLWJyb3dzZXInO1xuXG5pbXBvcnQgeyBnZXRCQm94IGFzIGdldEJvdW5kaW5nQm94IH0gZnJvbSAnLi4vLi4vdXRpbC9FbGVtZW50cyc7XG5cbmltcG9ydCB7XG4gIGFzVFJCTCxcbiAgYXNCb3VuZHNcbn0gZnJvbSAnLi4vLi4vbGF5b3V0L0xheW91dFV0aWwnO1xuXG5pbXBvcnQge1xuICBhc3NpZ24sXG4gIGZsYXR0ZW4sXG4gIGZpbmQsXG4gIGZvckVhY2gsXG4gIGdyb3VwQnksXG4gIGlzQXJyYXksXG4gIG1hdGNoUGF0dGVybixcbiAgcGljayxcbiAgdmFsdWVzXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IENvbW1hbmRJbnRlcmNlcHRvciBmcm9tICcuLi8uLi9jb21tYW5kL0NvbW1hbmRJbnRlcmNlcHRvcic7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vbW9kZWwvVHlwZXMnKS5FbGVtZW50fSBFbGVtZW50XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9tb2RlbC9UeXBlcycpLlNoYXBlfSBTaGFwZVxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL3V0aWwvVHlwZXMnKS5EaXJlY3Rpb259IERpcmVjdGlvblxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vdXRpbC9UeXBlcycpLlJlY3R9IFJlY3RcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL3V0aWwvVHlwZXMnKS5SZWN0VFJCTH0gUmVjdFRSQkxcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0VsZW1lbnRSZWdpc3RyeScpLmRlZmF1bHR9IEVsZW1lbnRSZWdpc3RyeVxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9tb2RlbGluZy9Nb2RlbGluZycpLmRlZmF1bHR9IE1vZGVsaW5nXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9ydWxlcy9SdWxlcycpLmRlZmF1bHR9IFJ1bGVzXG4gKi9cblxuLyoqXG4gKiBBbiBhdXRvIHJlc2l6ZSBjb21wb25lbnQgdGhhdCB0YWtlcyBjYXJlIG9mIGV4cGFuZGluZyBhIHBhcmVudCBlbGVtZW50XG4gKiBpZiBjaGlsZCBlbGVtZW50cyBhcmUgY3JlYXRlZCBvciBtb3ZlZCBjbG9zZSB0aGUgcGFyZW50cyBlZGdlLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0VsZW1lbnRSZWdpc3RyeX0gZWxlbWVudFJlZ2lzdHJ5XG4gKiBAcGFyYW0ge01vZGVsaW5nfSBtb2RlbGluZ1xuICogQHBhcmFtIHtSdWxlc30gcnVsZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXV0b1Jlc2l6ZShldmVudEJ1cywgZWxlbWVudFJlZ2lzdHJ5LCBtb2RlbGluZywgcnVsZXMpIHtcblxuICBDb21tYW5kSW50ZXJjZXB0b3IuY2FsbCh0aGlzLCBldmVudEJ1cyk7XG5cbiAgdGhpcy5fZWxlbWVudFJlZ2lzdHJ5ID0gZWxlbWVudFJlZ2lzdHJ5O1xuICB0aGlzLl9tb2RlbGluZyA9IG1vZGVsaW5nO1xuICB0aGlzLl9ydWxlcyA9IHJ1bGVzO1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICB0aGlzLnBvc3RFeGVjdXRlZChbICdzaGFwZS5jcmVhdGUnIF0sIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBoaW50cyA9IGNvbnRleHQuaGludHMgfHwge30sXG4gICAgICAgIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgICAgcGFyZW50ID0gY29udGV4dC5wYXJlbnQgfHwgY29udGV4dC5uZXdQYXJlbnQ7XG5cbiAgICBpZiAoaGludHMuYXV0b1Jlc2l6ZSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZWxmLl9leHBhbmQoWyBzaGFwZSBdLCBwYXJlbnQpO1xuICB9KTtcblxuICB0aGlzLnBvc3RFeGVjdXRlZChbICdlbGVtZW50cy5tb3ZlJyBdLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgZWxlbWVudHMgPSBmbGF0dGVuKHZhbHVlcyhjb250ZXh0LmNsb3N1cmUudG9wTGV2ZWwpKSxcbiAgICAgICAgaGludHMgPSBjb250ZXh0LmhpbnRzO1xuXG4gICAgdmFyIGF1dG9SZXNpemUgPSBoaW50cyA/IGhpbnRzLmF1dG9SZXNpemUgOiB0cnVlO1xuXG4gICAgaWYgKGF1dG9SZXNpemUgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGV4cGFuZGluZ3MgPSBncm91cEJ5KGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5wYXJlbnQuaWQ7XG4gICAgfSk7XG5cbiAgICBmb3JFYWNoKGV4cGFuZGluZ3MsIGZ1bmN0aW9uKGVsZW1lbnRzLCBwYXJlbnRJZCkge1xuXG4gICAgICAvLyBvcHRpb25hbGx5IGZpbHRlciBlbGVtZW50cyB0byBiZSBjb25zaWRlcmVkIHdoZW4gcmVzaXppbmdcbiAgICAgIGlmIChpc0FycmF5KGF1dG9SZXNpemUpKSB7XG4gICAgICAgIGVsZW1lbnRzID0gZWxlbWVudHMuZmlsdGVyKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICByZXR1cm4gZmluZChhdXRvUmVzaXplLCBtYXRjaFBhdHRlcm4oeyBpZDogZWxlbWVudC5pZCB9KSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBzZWxmLl9leHBhbmQoZWxlbWVudHMsIHBhcmVudElkKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgdGhpcy5wb3N0RXhlY3V0ZWQoWyAnc2hhcGUudG9nZ2xlQ29sbGFwc2UnIF0sIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBoaW50cyA9IGNvbnRleHQuaGludHMsXG4gICAgICAgIHNoYXBlID0gY29udGV4dC5zaGFwZTtcblxuICAgIGlmIChoaW50cyAmJiBoaW50cy5hdXRvUmVzaXplID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChzaGFwZS5jb2xsYXBzZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZWxmLl9leHBhbmQoc2hhcGUuY2hpbGRyZW4gfHwgW10sIHNoYXBlKTtcbiAgfSk7XG5cbiAgdGhpcy5wb3N0RXhlY3V0ZWQoWyAnc2hhcGUucmVzaXplJyBdLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgaGludHMgPSBjb250ZXh0LmhpbnRzLFxuICAgICAgICBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXG4gICAgICAgIHBhcmVudCA9IHNoYXBlLnBhcmVudDtcblxuICAgIGlmIChoaW50cyAmJiBoaW50cy5hdXRvUmVzaXplID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIHNlbGYuX2V4cGFuZChbIHNoYXBlIF0sIHBhcmVudCk7XG4gICAgfVxuICB9KTtcblxufVxuXG5BdXRvUmVzaXplLiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdlbGVtZW50UmVnaXN0cnknLFxuICAnbW9kZWxpbmcnLFxuICAncnVsZXMnXG5dO1xuXG5pbmhlcml0cyhBdXRvUmVzaXplLCBDb21tYW5kSW50ZXJjZXB0b3IpO1xuXG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBuZXcgYm91bmRzIG9mIHRoZSB0YXJnZXQgc2hhcGUsIGdpdmVuXG4gKiBhIG51bWJlciBvZiBlbGVtZW50cyBoYXZlIGJlZW4gbW92ZWQgb3IgYWRkZWQgaW50byB0aGUgcGFyZW50LlxuICpcbiAqIFRoaXMgbWV0aG9kIGNvbnNpZGVycyB0aGUgY3VycmVudCBzaXplLCB0aGUgYWRkZWQgZWxlbWVudHMgYXMgd2VsbCBhc1xuICogdGhlIHByb3ZpZGVkIHBhZGRpbmcgZm9yIHRoZSBuZXcgYm91bmRzLlxuICpcbiAqIEBwYXJhbSB7U2hhcGVbXX0gZWxlbWVudHNcbiAqIEBwYXJhbSB7U2hhcGV9IHRhcmdldFxuICovXG5BdXRvUmVzaXplLnByb3RvdHlwZS5fZ2V0T3B0aW1hbEJvdW5kcyA9IGZ1bmN0aW9uKGVsZW1lbnRzLCB0YXJnZXQpIHtcblxuICB2YXIgb2Zmc2V0ID0gdGhpcy5nZXRPZmZzZXQodGFyZ2V0KSxcbiAgICAgIHBhZGRpbmcgPSB0aGlzLmdldFBhZGRpbmcodGFyZ2V0KTtcblxuICB2YXIgZWxlbWVudHNUcmJsID0gYXNUUkJMKGdldEJvdW5kaW5nQm94KGVsZW1lbnRzKSksXG4gICAgICB0YXJnZXRUcmJsID0gYXNUUkJMKHRhcmdldCk7XG5cbiAgdmFyIG5ld1RyYmwgPSB7fTtcblxuICBpZiAoZWxlbWVudHNUcmJsLnRvcCAtIHRhcmdldFRyYmwudG9wIDwgcGFkZGluZy50b3ApIHtcbiAgICBuZXdUcmJsLnRvcCA9IGVsZW1lbnRzVHJibC50b3AgLSBvZmZzZXQudG9wO1xuICB9XG5cbiAgaWYgKGVsZW1lbnRzVHJibC5sZWZ0IC0gdGFyZ2V0VHJibC5sZWZ0IDwgcGFkZGluZy5sZWZ0KSB7XG4gICAgbmV3VHJibC5sZWZ0ID0gZWxlbWVudHNUcmJsLmxlZnQgLSBvZmZzZXQubGVmdDtcbiAgfVxuXG4gIGlmICh0YXJnZXRUcmJsLnJpZ2h0IC0gZWxlbWVudHNUcmJsLnJpZ2h0IDwgcGFkZGluZy5yaWdodCkge1xuICAgIG5ld1RyYmwucmlnaHQgPSBlbGVtZW50c1RyYmwucmlnaHQgKyBvZmZzZXQucmlnaHQ7XG4gIH1cblxuICBpZiAodGFyZ2V0VHJibC5ib3R0b20gLSBlbGVtZW50c1RyYmwuYm90dG9tIDwgcGFkZGluZy5ib3R0b20pIHtcbiAgICBuZXdUcmJsLmJvdHRvbSA9IGVsZW1lbnRzVHJibC5ib3R0b20gKyBvZmZzZXQuYm90dG9tO1xuICB9XG5cbiAgcmV0dXJuIGFzQm91bmRzKGFzc2lnbih7fSwgdGFyZ2V0VHJibCwgbmV3VHJibCkpO1xufTtcblxuXG4vKipcbiAqIEV4cGFuZCB0aGUgdGFyZ2V0IHNoYXBlIHJlc3BlY3RpbmcgcnVsZXMsIG9mZnNldCBhbmQgcGFkZGluZ1xuICpcbiAqIEBwYXJhbSB7U2hhcGVbXX0gZWxlbWVudHNcbiAqIEBwYXJhbSB7U2hhcGV8c3RyaW5nfSB0YXJnZXQgVGhlIHRhcmdldCBvciBpdHMgSUQuXG4gKi9cbkF1dG9SZXNpemUucHJvdG90eXBlLl9leHBhbmQgPSBmdW5jdGlvbihlbGVtZW50cywgdGFyZ2V0KSB7XG5cbiAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgdGFyZ2V0ID0gdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LmdldCh0YXJnZXQpO1xuICB9XG5cbiAgdmFyIGFsbG93ZWQgPSB0aGlzLl9ydWxlcy5hbGxvd2VkKCdlbGVtZW50LmF1dG9SZXNpemUnLCB7XG4gICAgZWxlbWVudHM6IGVsZW1lbnRzLFxuICAgIHRhcmdldDogdGFyZ2V0XG4gIH0pO1xuXG4gIGlmICghYWxsb3dlZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIGNhbGN1bGF0ZSB0aGUgbmV3IGJvdW5kc1xuICB2YXIgbmV3Qm91bmRzID0gdGhpcy5fZ2V0T3B0aW1hbEJvdW5kcyhlbGVtZW50cywgdGFyZ2V0KTtcblxuICBpZiAoIWJvdW5kc0NoYW5nZWQobmV3Qm91bmRzLCB0YXJnZXQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHJlc2l6ZURpcmVjdGlvbnMgPSBnZXRSZXNpemVEaXJlY3Rpb25zKHBpY2sodGFyZ2V0LCBbICd4JywgJ3knLCAnd2lkdGgnLCAnaGVpZ2h0JyBdKSwgbmV3Qm91bmRzKTtcblxuICAvLyByZXNpemUgdGhlIHBhcmVudCBzaGFwZVxuICB0aGlzLnJlc2l6ZSh0YXJnZXQsIG5ld0JvdW5kcywge1xuICAgIGF1dG9SZXNpemU6IHJlc2l6ZURpcmVjdGlvbnNcbiAgfSk7XG5cbiAgdmFyIHBhcmVudCA9IHRhcmdldC5wYXJlbnQ7XG5cbiAgLy8gcmVjdXJzaXZlbHkgZXhwYW5kIHBhcmVudCBlbGVtZW50c1xuICBpZiAocGFyZW50KSB7XG4gICAgdGhpcy5fZXhwYW5kKFsgdGFyZ2V0IF0sIHBhcmVudCk7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBHZXQgdGhlIGFtb3VudCB0byBleHBhbmQgdGhlIGdpdmVuIHNoYXBlIGluIGVhY2ggZGlyZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7U2hhcGV9IHNoYXBlXG4gKlxuICogQHJldHVybiB7UmVjdFRSQkx9XG4gKi9cbkF1dG9SZXNpemUucHJvdG90eXBlLmdldE9mZnNldCA9IGZ1bmN0aW9uKHNoYXBlKSB7XG4gIHJldHVybiB7IHRvcDogNjAsIGJvdHRvbTogNjAsIGxlZnQ6IDEwMCwgcmlnaHQ6IDEwMCB9O1xufTtcblxuXG4vKipcbiAqIEdldCB0aGUgYWN0aXZhdGlvbiB0aHJlc2hvbGQgZm9yIGVhY2ggc2lkZSBmb3Igd2hpY2hcbiAqIHJlc2l6ZSB0cmlnZ2Vycy5cbiAqXG4gKiBAcGFyYW0ge1NoYXBlfSBzaGFwZVxuICpcbiAqIEByZXR1cm4ge1JlY3RUUkJMfVxuICovXG5BdXRvUmVzaXplLnByb3RvdHlwZS5nZXRQYWRkaW5nID0gZnVuY3Rpb24oc2hhcGUpIHtcbiAgcmV0dXJuIHsgdG9wOiAyLCBib3R0b206IDIsIGxlZnQ6IDE1LCByaWdodDogMTUgfTtcbn07XG5cblxuLyoqXG4gKiBQZXJmb3JtIHRoZSBhY3R1YWwgcmVzaXplIG9wZXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1NoYXBlfSBzaGFwZVxuICogQHBhcmFtIHtSZWN0fSBuZXdCb3VuZHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbaGludHNdXG4gKiBAcGFyYW0ge3N0cmluZ30gW2hpbnRzLmF1dG9SZXNpemVdXG4gKi9cbkF1dG9SZXNpemUucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uKHNoYXBlLCBuZXdCb3VuZHMsIGhpbnRzKSB7XG4gIHRoaXMuX21vZGVsaW5nLnJlc2l6ZVNoYXBlKHNoYXBlLCBuZXdCb3VuZHMsIG51bGwsIGhpbnRzKTtcbn07XG5cblxuZnVuY3Rpb24gYm91bmRzQ2hhbmdlZChuZXdCb3VuZHMsIG9sZEJvdW5kcykge1xuICByZXR1cm4gKFxuICAgIG5ld0JvdW5kcy54ICE9PSBvbGRCb3VuZHMueCB8fFxuICAgIG5ld0JvdW5kcy55ICE9PSBvbGRCb3VuZHMueSB8fFxuICAgIG5ld0JvdW5kcy53aWR0aCAhPT0gb2xkQm91bmRzLndpZHRoIHx8XG4gICAgbmV3Qm91bmRzLmhlaWdodCAhPT0gb2xkQm91bmRzLmhlaWdodFxuICApO1xufVxuXG4vKipcbiAqIEdldCBkaXJlY3Rpb25zIG9mIHJlc2l6ZSBhcyB7bnx3fHN8ZX0gZS5nLiBcIm53XCIuXG4gKlxuICogQHBhcmFtIHtSZWN0fSBvbGRCb3VuZHNcbiAqIEBwYXJhbSB7UmVjdH0gbmV3Qm91bmRzXG4gKlxuICogQHJldHVybiB7RGlyZWN0aW9ufSBSZXNpemUgZGlyZWN0aW9ucyBhcyB7bnx3fHN8ZX0uXG4gKi9cbmZ1bmN0aW9uIGdldFJlc2l6ZURpcmVjdGlvbnMob2xkQm91bmRzLCBuZXdCb3VuZHMpIHtcbiAgdmFyIGRpcmVjdGlvbnMgPSAnJztcblxuICBvbGRCb3VuZHMgPSBhc1RSQkwob2xkQm91bmRzKTtcbiAgbmV3Qm91bmRzID0gYXNUUkJMKG5ld0JvdW5kcyk7XG5cbiAgaWYgKG9sZEJvdW5kcy50b3AgPiBuZXdCb3VuZHMudG9wKSB7XG4gICAgZGlyZWN0aW9ucyA9IGRpcmVjdGlvbnMuY29uY2F0KCduJyk7XG4gIH1cblxuICBpZiAob2xkQm91bmRzLnJpZ2h0IDwgbmV3Qm91bmRzLnJpZ2h0KSB7XG4gICAgZGlyZWN0aW9ucyA9IGRpcmVjdGlvbnMuY29uY2F0KCd3Jyk7XG4gIH1cblxuICBpZiAob2xkQm91bmRzLmJvdHRvbSA8IG5ld0JvdW5kcy5ib3R0b20pIHtcbiAgICBkaXJlY3Rpb25zID0gZGlyZWN0aW9ucy5jb25jYXQoJ3MnKTtcbiAgfVxuXG4gIGlmIChvbGRCb3VuZHMubGVmdCA+IG5ld0JvdW5kcy5sZWZ0KSB7XG4gICAgZGlyZWN0aW9ucyA9IGRpcmVjdGlvbnMuY29uY2F0KCdlJyk7XG4gIH1cblxuICByZXR1cm4gZGlyZWN0aW9ucztcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/auto-resize/AutoResize.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/auto-resize/AutoResizeProvider.js":
/*!********************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/auto-resize/AutoResizeProvider.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AutoResizeProvider)\n/* harmony export */ });\n/* harmony import */ var _rules_RuleProvider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../rules/RuleProvider */ \"(ssr)/./node_modules/diagram-js/lib/features/rules/RuleProvider.js\");\n/* harmony import */ var inherits_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! inherits-browser */ \"(ssr)/./node_modules/inherits-browser/dist/index.es.js\");\n\n\n\n\n/**\n * @typedef {import('../../model/Types').Shape} Shape\n *\n * @typedef {import('../../core/EventBus').default} EventBus\n */\n\n/**\n * This is a base rule provider for the element.autoResize rule.\n *\n * @param {EventBus} eventBus\n */\nfunction AutoResizeProvider(eventBus) {\n\n  _rules_RuleProvider__WEBPACK_IMPORTED_MODULE_0__[\"default\"].call(this, eventBus);\n\n  var self = this;\n\n  this.addRule('element.autoResize', function(context) {\n    return self.canResize(context.elements, context.target);\n  });\n}\n\nAutoResizeProvider.$inject = [ 'eventBus' ];\n\n(0,inherits_browser__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(AutoResizeProvider, _rules_RuleProvider__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/**\n * Needs to be implemented by sub classes to allow actual auto resize\n *\n * @param {Shape[]} elements\n * @param {Shape} target\n *\n * @return {boolean}\n */\nAutoResizeProvider.prototype.canResize = function(elements, target) {\n  return false;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYXV0by1yZXNpemUvQXV0b1Jlc2l6ZVByb3ZpZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFpRDs7QUFFVDs7QUFFeEM7QUFDQSxhQUFhLG1DQUFtQztBQUNoRDtBQUNBLGFBQWEsdUNBQXVDO0FBQ3BEOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNlOztBQUVmLEVBQUUsMkRBQVk7O0FBRWQ7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQSw0REFBUSxxQkFBcUIsMkRBQVk7O0FBRXpDO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLE9BQU87QUFDbEI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYXV0by1yZXNpemUvQXV0b1Jlc2l6ZVByb3ZpZGVyLmpzP2I5N2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJ1bGVQcm92aWRlciBmcm9tICcuLi9ydWxlcy9SdWxlUHJvdmlkZXInO1xuXG5pbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMtYnJvd3Nlcic7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vbW9kZWwvVHlwZXMnKS5TaGFwZX0gU2hhcGVcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcbiAqL1xuXG4vKipcbiAqIFRoaXMgaXMgYSBiYXNlIHJ1bGUgcHJvdmlkZXIgZm9yIHRoZSBlbGVtZW50LmF1dG9SZXNpemUgcnVsZS5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBdXRvUmVzaXplUHJvdmlkZXIoZXZlbnRCdXMpIHtcblxuICBSdWxlUHJvdmlkZXIuY2FsbCh0aGlzLCBldmVudEJ1cyk7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHRoaXMuYWRkUnVsZSgnZWxlbWVudC5hdXRvUmVzaXplJywgZnVuY3Rpb24oY29udGV4dCkge1xuICAgIHJldHVybiBzZWxmLmNhblJlc2l6ZShjb250ZXh0LmVsZW1lbnRzLCBjb250ZXh0LnRhcmdldCk7XG4gIH0pO1xufVxuXG5BdXRvUmVzaXplUHJvdmlkZXIuJGluamVjdCA9IFsgJ2V2ZW50QnVzJyBdO1xuXG5pbmhlcml0cyhBdXRvUmVzaXplUHJvdmlkZXIsIFJ1bGVQcm92aWRlcik7XG5cbi8qKlxuICogTmVlZHMgdG8gYmUgaW1wbGVtZW50ZWQgYnkgc3ViIGNsYXNzZXMgdG8gYWxsb3cgYWN0dWFsIGF1dG8gcmVzaXplXG4gKlxuICogQHBhcmFtIHtTaGFwZVtdfSBlbGVtZW50c1xuICogQHBhcmFtIHtTaGFwZX0gdGFyZ2V0XG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuQXV0b1Jlc2l6ZVByb3ZpZGVyLnByb3RvdHlwZS5jYW5SZXNpemUgPSBmdW5jdGlvbihlbGVtZW50cywgdGFyZ2V0KSB7XG4gIHJldHVybiBmYWxzZTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/auto-resize/AutoResizeProvider.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/auto-scroll/AutoScroll.js":
/*!************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/auto-scroll/AutoScroll.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AutoScroll)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Event */ \"(ssr)/./node_modules/diagram-js/lib/util/Event.js\");\n\n\n\n\n/**\n * @typedef {import('../../util/Types').Point} Point\n *\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../../core/Canvas').default} Canvas\n */\n\n/**\n * Initiates canvas scrolling if current cursor point is close to a border.\n * Cancelled when current point moves back inside the scrolling borders\n * or cancelled manually.\n *\n * Default options :\n *   scrollThresholdIn: [ 20, 20, 20, 20 ],\n *   scrollThresholdOut: [ 0, 0, 0, 0 ],\n *   scrollRepeatTimeout: 15,\n *   scrollStep: 10\n *\n * Threshold order:\n *   [ left, top, right, bottom ]\n *\n * @param {Object} config\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nfunction AutoScroll(config, eventBus, canvas) {\n\n  this._canvas = canvas;\n\n  this._opts = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({\n    scrollThresholdIn: [ 20, 20, 20, 20 ],\n    scrollThresholdOut: [ 0, 0, 0, 0 ],\n    scrollRepeatTimeout: 15,\n    scrollStep: 10\n  }, config);\n\n  var self = this;\n\n  eventBus.on('drag.move', function(e) {\n    var point = self._toBorderPoint(e);\n\n    self.startScroll(point);\n  });\n\n  eventBus.on([ 'drag.cleanup' ], function() {\n    self.stopScroll();\n  });\n}\n\nAutoScroll.$inject = [\n  'config.autoScroll',\n  'eventBus',\n  'canvas'\n];\n\n\n/**\n * Starts scrolling loop.\n * Point is given in global scale in canvas container box plane.\n *\n * @param {Point} point\n */\nAutoScroll.prototype.startScroll = function(point) {\n\n  var canvas = this._canvas;\n  var opts = this._opts;\n  var self = this;\n\n  var clientRect = canvas.getContainer().getBoundingClientRect();\n\n  var diff = [\n    point.x,\n    point.y,\n    clientRect.width - point.x,\n    clientRect.height - point.y\n  ];\n\n  this.stopScroll();\n\n  var dx = 0,\n      dy = 0;\n\n  for (var i = 0; i < 4; i++) {\n    if (between(diff[i], opts.scrollThresholdOut[i], opts.scrollThresholdIn[i])) {\n      if (i === 0) {\n        dx = opts.scrollStep;\n      } else if (i == 1) {\n        dy = opts.scrollStep;\n      } else if (i == 2) {\n        dx = -opts.scrollStep;\n      } else if (i == 3) {\n        dy = -opts.scrollStep;\n      }\n    }\n  }\n\n  if (dx !== 0 || dy !== 0) {\n    canvas.scroll({ dx: dx, dy: dy });\n\n    this._scrolling = setTimeout(function() {\n      self.startScroll(point);\n    }, opts.scrollRepeatTimeout);\n  }\n};\n\nfunction between(val, start, end) {\n  if (start < val && val < end) {\n    return true;\n  }\n\n  return false;\n}\n\n\n/**\n * Stops scrolling loop.\n */\nAutoScroll.prototype.stopScroll = function() {\n  clearTimeout(this._scrolling);\n};\n\n\n/**\n * Overrides defaults options.\n *\n * @param {Object} options\n */\nAutoScroll.prototype.setOptions = function(options) {\n  this._opts = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({}, this._opts, options);\n};\n\n\n/**\n * Converts event to a point in canvas container plane in global scale.\n *\n * @param {Event} event\n * @return {Point}\n */\nAutoScroll.prototype._toBorderPoint = function(event) {\n  var clientRect = this._canvas._container.getBoundingClientRect();\n\n  var globalPosition = (0,_util_Event__WEBPACK_IMPORTED_MODULE_1__.toPoint)(event.originalEvent);\n\n  return {\n    x: globalPosition.x - clientRect.left,\n    y: globalPosition.y - clientRect.top\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYXV0by1zY3JvbGwvQXV0b1Njcm9sbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBa0M7O0FBSVI7O0FBRTFCO0FBQ0EsYUFBYSxrQ0FBa0M7QUFDL0M7QUFDQSxhQUFhLHVDQUF1QztBQUNwRCxhQUFhLHFDQUFxQztBQUNsRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkI7QUFDZTs7QUFFZjs7QUFFQSxlQUFlLGdEQUFNO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLGtCQUFrQixPQUFPO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQixnQkFBZ0I7O0FBRXBDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0EsZUFBZSxnREFBTSxHQUFHO0FBQ3hCOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUIsb0RBQU87O0FBRTlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYXV0by1zY3JvbGwvQXV0b1Njcm9sbC5qcz8zOGEzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFzc2lnbiB9IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgdG9Qb2ludFxufSBmcm9tICcuLi8uLi91dGlsL0V2ZW50JztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi91dGlsL1R5cGVzJykuUG9pbnR9IFBvaW50XG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0NhbnZhcycpLmRlZmF1bHR9IENhbnZhc1xuICovXG5cbi8qKlxuICogSW5pdGlhdGVzIGNhbnZhcyBzY3JvbGxpbmcgaWYgY3VycmVudCBjdXJzb3IgcG9pbnQgaXMgY2xvc2UgdG8gYSBib3JkZXIuXG4gKiBDYW5jZWxsZWQgd2hlbiBjdXJyZW50IHBvaW50IG1vdmVzIGJhY2sgaW5zaWRlIHRoZSBzY3JvbGxpbmcgYm9yZGVyc1xuICogb3IgY2FuY2VsbGVkIG1hbnVhbGx5LlxuICpcbiAqIERlZmF1bHQgb3B0aW9ucyA6XG4gKiAgIHNjcm9sbFRocmVzaG9sZEluOiBbIDIwLCAyMCwgMjAsIDIwIF0sXG4gKiAgIHNjcm9sbFRocmVzaG9sZE91dDogWyAwLCAwLCAwLCAwIF0sXG4gKiAgIHNjcm9sbFJlcGVhdFRpbWVvdXQ6IDE1LFxuICogICBzY3JvbGxTdGVwOiAxMFxuICpcbiAqIFRocmVzaG9sZCBvcmRlcjpcbiAqICAgWyBsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b20gXVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEF1dG9TY3JvbGwoY29uZmlnLCBldmVudEJ1cywgY2FudmFzKSB7XG5cbiAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuXG4gIHRoaXMuX29wdHMgPSBhc3NpZ24oe1xuICAgIHNjcm9sbFRocmVzaG9sZEluOiBbIDIwLCAyMCwgMjAsIDIwIF0sXG4gICAgc2Nyb2xsVGhyZXNob2xkT3V0OiBbIDAsIDAsIDAsIDAgXSxcbiAgICBzY3JvbGxSZXBlYXRUaW1lb3V0OiAxNSxcbiAgICBzY3JvbGxTdGVwOiAxMFxuICB9LCBjb25maWcpO1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICBldmVudEJ1cy5vbignZHJhZy5tb3ZlJywgZnVuY3Rpb24oZSkge1xuICAgIHZhciBwb2ludCA9IHNlbGYuX3RvQm9yZGVyUG9pbnQoZSk7XG5cbiAgICBzZWxmLnN0YXJ0U2Nyb2xsKHBvaW50KTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oWyAnZHJhZy5jbGVhbnVwJyBdLCBmdW5jdGlvbigpIHtcbiAgICBzZWxmLnN0b3BTY3JvbGwoKTtcbiAgfSk7XG59XG5cbkF1dG9TY3JvbGwuJGluamVjdCA9IFtcbiAgJ2NvbmZpZy5hdXRvU2Nyb2xsJyxcbiAgJ2V2ZW50QnVzJyxcbiAgJ2NhbnZhcydcbl07XG5cblxuLyoqXG4gKiBTdGFydHMgc2Nyb2xsaW5nIGxvb3AuXG4gKiBQb2ludCBpcyBnaXZlbiBpbiBnbG9iYWwgc2NhbGUgaW4gY2FudmFzIGNvbnRhaW5lciBib3ggcGxhbmUuXG4gKlxuICogQHBhcmFtIHtQb2ludH0gcG9pbnRcbiAqL1xuQXV0b1Njcm9sbC5wcm90b3R5cGUuc3RhcnRTY3JvbGwgPSBmdW5jdGlvbihwb2ludCkge1xuXG4gIHZhciBjYW52YXMgPSB0aGlzLl9jYW52YXM7XG4gIHZhciBvcHRzID0gdGhpcy5fb3B0cztcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHZhciBjbGllbnRSZWN0ID0gY2FudmFzLmdldENvbnRhaW5lcigpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gIHZhciBkaWZmID0gW1xuICAgIHBvaW50LngsXG4gICAgcG9pbnQueSxcbiAgICBjbGllbnRSZWN0LndpZHRoIC0gcG9pbnQueCxcbiAgICBjbGllbnRSZWN0LmhlaWdodCAtIHBvaW50LnlcbiAgXTtcblxuICB0aGlzLnN0b3BTY3JvbGwoKTtcblxuICB2YXIgZHggPSAwLFxuICAgICAgZHkgPSAwO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgaWYgKGJldHdlZW4oZGlmZltpXSwgb3B0cy5zY3JvbGxUaHJlc2hvbGRPdXRbaV0sIG9wdHMuc2Nyb2xsVGhyZXNob2xkSW5baV0pKSB7XG4gICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICBkeCA9IG9wdHMuc2Nyb2xsU3RlcDtcbiAgICAgIH0gZWxzZSBpZiAoaSA9PSAxKSB7XG4gICAgICAgIGR5ID0gb3B0cy5zY3JvbGxTdGVwO1xuICAgICAgfSBlbHNlIGlmIChpID09IDIpIHtcbiAgICAgICAgZHggPSAtb3B0cy5zY3JvbGxTdGVwO1xuICAgICAgfSBlbHNlIGlmIChpID09IDMpIHtcbiAgICAgICAgZHkgPSAtb3B0cy5zY3JvbGxTdGVwO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChkeCAhPT0gMCB8fCBkeSAhPT0gMCkge1xuICAgIGNhbnZhcy5zY3JvbGwoeyBkeDogZHgsIGR5OiBkeSB9KTtcblxuICAgIHRoaXMuX3Njcm9sbGluZyA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLnN0YXJ0U2Nyb2xsKHBvaW50KTtcbiAgICB9LCBvcHRzLnNjcm9sbFJlcGVhdFRpbWVvdXQpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBiZXR3ZWVuKHZhbCwgc3RhcnQsIGVuZCkge1xuICBpZiAoc3RhcnQgPCB2YWwgJiYgdmFsIDwgZW5kKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cblxuLyoqXG4gKiBTdG9wcyBzY3JvbGxpbmcgbG9vcC5cbiAqL1xuQXV0b1Njcm9sbC5wcm90b3R5cGUuc3RvcFNjcm9sbCA9IGZ1bmN0aW9uKCkge1xuICBjbGVhclRpbWVvdXQodGhpcy5fc2Nyb2xsaW5nKTtcbn07XG5cblxuLyoqXG4gKiBPdmVycmlkZXMgZGVmYXVsdHMgb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICovXG5BdXRvU2Nyb2xsLnByb3RvdHlwZS5zZXRPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICB0aGlzLl9vcHRzID0gYXNzaWduKHt9LCB0aGlzLl9vcHRzLCBvcHRpb25zKTtcbn07XG5cblxuLyoqXG4gKiBDb252ZXJ0cyBldmVudCB0byBhIHBvaW50IGluIGNhbnZhcyBjb250YWluZXIgcGxhbmUgaW4gZ2xvYmFsIHNjYWxlLlxuICpcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gKiBAcmV0dXJuIHtQb2ludH1cbiAqL1xuQXV0b1Njcm9sbC5wcm90b3R5cGUuX3RvQm9yZGVyUG9pbnQgPSBmdW5jdGlvbihldmVudCkge1xuICB2YXIgY2xpZW50UmVjdCA9IHRoaXMuX2NhbnZhcy5fY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gIHZhciBnbG9iYWxQb3NpdGlvbiA9IHRvUG9pbnQoZXZlbnQub3JpZ2luYWxFdmVudCk7XG5cbiAgcmV0dXJuIHtcbiAgICB4OiBnbG9iYWxQb3NpdGlvbi54IC0gY2xpZW50UmVjdC5sZWZ0LFxuICAgIHk6IGdsb2JhbFBvc2l0aW9uLnkgLSBjbGllbnRSZWN0LnRvcFxuICB9O1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/auto-scroll/AutoScroll.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/auto-scroll/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/auto-scroll/index.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _dragging__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dragging */ \"(ssr)/./node_modules/diagram-js/lib/features/dragging/index.js\");\n/* harmony import */ var _AutoScroll__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AutoScroll */ \"(ssr)/./node_modules/diagram-js/lib/features/auto-scroll/AutoScroll.js\");\n\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _dragging__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  ],\n  __init__: [ 'autoScroll' ],\n  autoScroll: [ 'type', _AutoScroll__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYXV0by1zY3JvbGwvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXlDOztBQUVIOzs7QUFHdEM7QUFDQSxXQUFXO0FBQ1g7QUFDQSxpRUFBZTtBQUNmO0FBQ0EsSUFBSSxpREFBYztBQUNsQjtBQUNBO0FBQ0Esd0JBQXdCLG1EQUFVO0FBQ2xDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYXV0by1zY3JvbGwvaW5kZXguanM/MTAxZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRHJhZ2dpbmdNb2R1bGUgZnJvbSAnLi4vZHJhZ2dpbmcnO1xuXG5pbXBvcnQgQXV0b1Njcm9sbCBmcm9tICcuL0F1dG9TY3JvbGwnO1xuXG5cbi8qKlxuICogQHR5cGUgeyBpbXBvcnQoJ2RpZGknKS5Nb2R1bGVEZWNsYXJhdGlvbiB9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBEcmFnZ2luZ01vZHVsZSxcbiAgXSxcbiAgX19pbml0X186IFsgJ2F1dG9TY3JvbGwnIF0sXG4gIGF1dG9TY3JvbGw6IFsgJ3R5cGUnLCBBdXRvU2Nyb2xsIF1cbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/auto-scroll/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/bendpoints/BendpointMove.js":
/*!**************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/bendpoints/BendpointMove.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BendpointMove),\n/* harmony export */   isReverse: () => (/* binding */ isReverse)\n/* harmony export */ });\n/* harmony import */ var _layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../layout/LayoutUtil */ \"(ssr)/./node_modules/diagram-js/lib/layout/LayoutUtil.js\");\n\n\n/**\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../dragging/Dragging').default} Dragging\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../modeling/Modeling').default} Modeling\n * @typedef {import('../rules/Rules').default} Rules\n */\n\nvar round = Math.round;\n\nvar RECONNECT_START = 'reconnectStart',\n    RECONNECT_END = 'reconnectEnd',\n    UPDATE_WAYPOINTS = 'updateWaypoints';\n\n\n/**\n * Move bendpoints through drag and drop to add/remove bendpoints or reconnect connection.\n *\n * @param {Injector} injector\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {Dragging} dragging\n * @param {Rules} rules\n * @param {Modeling} modeling\n */\nfunction BendpointMove(injector, eventBus, canvas, dragging, rules, modeling) {\n  this._injector = injector;\n\n  this.start = function(event, connection, bendpointIndex, insert) {\n    var gfx = canvas.getGraphics(connection),\n        source = connection.source,\n        target = connection.target,\n        waypoints = connection.waypoints,\n        type;\n\n    if (!insert && bendpointIndex === 0) {\n      type = RECONNECT_START;\n    } else if (!insert && bendpointIndex === waypoints.length - 1) {\n      type = RECONNECT_END;\n    } else {\n      type = UPDATE_WAYPOINTS;\n    }\n\n    var command = type === UPDATE_WAYPOINTS ? 'connection.updateWaypoints' : 'connection.reconnect';\n\n    var allowed = rules.allowed(command, {\n      connection: connection,\n      source: source,\n      target: target\n    });\n\n    if (allowed === false) {\n      allowed = rules.allowed(command, {\n        connection: connection,\n        source: target,\n        target: source\n      });\n    }\n\n    if (allowed === false) {\n      return;\n    }\n\n    dragging.init(event, 'bendpoint.move', {\n      data: {\n        connection: connection,\n        connectionGfx: gfx,\n        context: {\n          allowed: allowed,\n          bendpointIndex: bendpointIndex,\n          connection: connection,\n          source: source,\n          target: target,\n          insert: insert,\n          type: type\n        }\n      }\n    });\n  };\n\n  eventBus.on('bendpoint.move.hover', function(event) {\n    var context = event.context,\n        connection = context.connection,\n        source = connection.source,\n        target = connection.target,\n        hover = event.hover,\n        type = context.type;\n\n    // cache hover state\n    context.hover = hover;\n\n    var allowed;\n\n    if (!hover) {\n      return;\n    }\n\n    var command = type === UPDATE_WAYPOINTS ? 'connection.updateWaypoints' : 'connection.reconnect';\n\n    allowed = context.allowed = rules.allowed(command, {\n      connection: connection,\n      source: type === RECONNECT_START ? hover : source,\n      target: type === RECONNECT_END ? hover : target\n    });\n\n    if (allowed) {\n      context.source = type === RECONNECT_START ? hover : source;\n      context.target = type === RECONNECT_END ? hover : target;\n\n      return;\n    }\n\n    if (allowed === false) {\n      allowed = context.allowed = rules.allowed(command, {\n        connection: connection,\n        source: type === RECONNECT_END ? hover : target,\n        target: type === RECONNECT_START ? hover : source\n      });\n    }\n\n    if (allowed) {\n      context.source = type === RECONNECT_END ? hover : target;\n      context.target = type === RECONNECT_START ? hover : source;\n    }\n  });\n\n  eventBus.on([ 'bendpoint.move.out', 'bendpoint.move.cleanup' ], function(event) {\n    var context = event.context,\n        type = context.type;\n\n    context.hover = null;\n    context.source = null;\n    context.target = null;\n\n    if (type !== UPDATE_WAYPOINTS) {\n      context.allowed = false;\n    }\n  });\n\n  eventBus.on('bendpoint.move.end', function(event) {\n    var context = event.context,\n        allowed = context.allowed,\n        bendpointIndex = context.bendpointIndex,\n        connection = context.connection,\n        insert = context.insert,\n        newWaypoints = connection.waypoints.slice(),\n        source = context.source,\n        target = context.target,\n        type = context.type,\n        hints = context.hints || {};\n\n    // ensure integer values (important if zoom level was > 1 during move)\n    var docking = {\n      x: round(event.x),\n      y: round(event.y)\n    };\n\n    if (!allowed) {\n      return false;\n    }\n\n    if (type === UPDATE_WAYPOINTS) {\n      if (insert) {\n\n        // insert new bendpoint\n        newWaypoints.splice(bendpointIndex, 0, docking);\n      } else {\n\n        // swap previous waypoint with moved one\n        newWaypoints[bendpointIndex] = docking;\n      }\n\n      // pass hints about actual moved bendpoint\n      // useful for connection/label layout\n      hints.bendpointMove = {\n        insert: insert,\n        bendpointIndex: bendpointIndex\n      };\n\n      newWaypoints = this.cropWaypoints(connection, newWaypoints);\n\n      modeling.updateWaypoints(connection, (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_0__.filterRedundantWaypoints)(newWaypoints), hints);\n    } else {\n      if (type === RECONNECT_START) {\n        hints.docking = 'source';\n\n        if (isReverse(context)) {\n          hints.docking = 'target';\n\n          hints.newWaypoints = newWaypoints.reverse();\n        }\n      } else if (type === RECONNECT_END) {\n        hints.docking = 'target';\n\n        if (isReverse(context)) {\n          hints.docking = 'source';\n\n          hints.newWaypoints = newWaypoints.reverse();\n        }\n      }\n\n      modeling.reconnect(connection, source, target, docking, hints);\n    }\n  }, this);\n}\n\nBendpointMove.$inject = [\n  'injector',\n  'eventBus',\n  'canvas',\n  'dragging',\n  'rules',\n  'modeling'\n];\n\nBendpointMove.prototype.cropWaypoints = function(connection, newWaypoints) {\n  var connectionDocking = this._injector.get('connectionDocking', false);\n\n  if (!connectionDocking) {\n    return newWaypoints;\n  }\n\n  var waypoints = connection.waypoints;\n\n  connection.waypoints = newWaypoints;\n\n  connection.waypoints = connectionDocking.getCroppedWaypoints(connection);\n\n  newWaypoints = connection.waypoints;\n\n  connection.waypoints = waypoints;\n\n  return newWaypoints;\n};\n\n\n// helpers //////////\n\nfunction isReverse(context) {\n  var hover = context.hover,\n      source = context.source,\n      target = context.target,\n      type = context.type;\n\n  if (type === RECONNECT_START) {\n    return hover && target && hover === target && source !== target;\n  }\n\n  if (type === RECONNECT_END) {\n    return hover && source && hover === source && source !== target;\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYmVuZHBvaW50cy9CZW5kcG9pbnRNb3ZlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFtRTs7QUFFbkU7QUFDQSxhQUFhLHlCQUF5QjtBQUN0QztBQUNBLGFBQWEscUNBQXFDO0FBQ2xELGFBQWEsd0NBQXdDO0FBQ3JELGFBQWEsdUNBQXVDO0FBQ3BELGFBQWEsd0NBQXdDO0FBQ3JELGFBQWEsa0NBQWtDO0FBQy9DOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsT0FBTztBQUNsQixXQUFXLFVBQVU7QUFDckI7QUFDZTtBQUNmOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7O0FBRVI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSwyQ0FBMkMsNEVBQXdCO0FBQ25FLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7O0FBR0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYmVuZHBvaW50cy9CZW5kcG9pbnRNb3ZlLmpzPzc2OWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZmlsdGVyUmVkdW5kYW50V2F5cG9pbnRzIH0gZnJvbSAnLi4vLi4vbGF5b3V0L0xheW91dFV0aWwnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpZGknKS5JbmplY3Rvcn0gSW5qZWN0b3JcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0NhbnZhcycpLmRlZmF1bHR9IENhbnZhc1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vZHJhZ2dpbmcvRHJhZ2dpbmcnKS5kZWZhdWx0fSBEcmFnZ2luZ1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9tb2RlbGluZy9Nb2RlbGluZycpLmRlZmF1bHR9IE1vZGVsaW5nXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9ydWxlcy9SdWxlcycpLmRlZmF1bHR9IFJ1bGVzXG4gKi9cblxudmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcblxudmFyIFJFQ09OTkVDVF9TVEFSVCA9ICdyZWNvbm5lY3RTdGFydCcsXG4gICAgUkVDT05ORUNUX0VORCA9ICdyZWNvbm5lY3RFbmQnLFxuICAgIFVQREFURV9XQVlQT0lOVFMgPSAndXBkYXRlV2F5cG9pbnRzJztcblxuXG4vKipcbiAqIE1vdmUgYmVuZHBvaW50cyB0aHJvdWdoIGRyYWcgYW5kIGRyb3AgdG8gYWRkL3JlbW92ZSBiZW5kcG9pbnRzIG9yIHJlY29ubmVjdCBjb25uZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7SW5qZWN0b3J9IGluamVjdG9yXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICogQHBhcmFtIHtEcmFnZ2luZ30gZHJhZ2dpbmdcbiAqIEBwYXJhbSB7UnVsZXN9IHJ1bGVzXG4gKiBAcGFyYW0ge01vZGVsaW5nfSBtb2RlbGluZ1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBCZW5kcG9pbnRNb3ZlKGluamVjdG9yLCBldmVudEJ1cywgY2FudmFzLCBkcmFnZ2luZywgcnVsZXMsIG1vZGVsaW5nKSB7XG4gIHRoaXMuX2luamVjdG9yID0gaW5qZWN0b3I7XG5cbiAgdGhpcy5zdGFydCA9IGZ1bmN0aW9uKGV2ZW50LCBjb25uZWN0aW9uLCBiZW5kcG9pbnRJbmRleCwgaW5zZXJ0KSB7XG4gICAgdmFyIGdmeCA9IGNhbnZhcy5nZXRHcmFwaGljcyhjb25uZWN0aW9uKSxcbiAgICAgICAgc291cmNlID0gY29ubmVjdGlvbi5zb3VyY2UsXG4gICAgICAgIHRhcmdldCA9IGNvbm5lY3Rpb24udGFyZ2V0LFxuICAgICAgICB3YXlwb2ludHMgPSBjb25uZWN0aW9uLndheXBvaW50cyxcbiAgICAgICAgdHlwZTtcblxuICAgIGlmICghaW5zZXJ0ICYmIGJlbmRwb2ludEluZGV4ID09PSAwKSB7XG4gICAgICB0eXBlID0gUkVDT05ORUNUX1NUQVJUO1xuICAgIH0gZWxzZSBpZiAoIWluc2VydCAmJiBiZW5kcG9pbnRJbmRleCA9PT0gd2F5cG9pbnRzLmxlbmd0aCAtIDEpIHtcbiAgICAgIHR5cGUgPSBSRUNPTk5FQ1RfRU5EO1xuICAgIH0gZWxzZSB7XG4gICAgICB0eXBlID0gVVBEQVRFX1dBWVBPSU5UUztcbiAgICB9XG5cbiAgICB2YXIgY29tbWFuZCA9IHR5cGUgPT09IFVQREFURV9XQVlQT0lOVFMgPyAnY29ubmVjdGlvbi51cGRhdGVXYXlwb2ludHMnIDogJ2Nvbm5lY3Rpb24ucmVjb25uZWN0JztcblxuICAgIHZhciBhbGxvd2VkID0gcnVsZXMuYWxsb3dlZChjb21tYW5kLCB7XG4gICAgICBjb25uZWN0aW9uOiBjb25uZWN0aW9uLFxuICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICB0YXJnZXQ6IHRhcmdldFxuICAgIH0pO1xuXG4gICAgaWYgKGFsbG93ZWQgPT09IGZhbHNlKSB7XG4gICAgICBhbGxvd2VkID0gcnVsZXMuYWxsb3dlZChjb21tYW5kLCB7XG4gICAgICAgIGNvbm5lY3Rpb246IGNvbm5lY3Rpb24sXG4gICAgICAgIHNvdXJjZTogdGFyZ2V0LFxuICAgICAgICB0YXJnZXQ6IHNvdXJjZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGFsbG93ZWQgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZHJhZ2dpbmcuaW5pdChldmVudCwgJ2JlbmRwb2ludC5tb3ZlJywge1xuICAgICAgZGF0YToge1xuICAgICAgICBjb25uZWN0aW9uOiBjb25uZWN0aW9uLFxuICAgICAgICBjb25uZWN0aW9uR2Z4OiBnZngsXG4gICAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgICBhbGxvd2VkOiBhbGxvd2VkLFxuICAgICAgICAgIGJlbmRwb2ludEluZGV4OiBiZW5kcG9pbnRJbmRleCxcbiAgICAgICAgICBjb25uZWN0aW9uOiBjb25uZWN0aW9uLFxuICAgICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgICAgIGluc2VydDogaW5zZXJ0LFxuICAgICAgICAgIHR5cGU6IHR5cGVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIGV2ZW50QnVzLm9uKCdiZW5kcG9pbnQubW92ZS5ob3ZlcicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uLFxuICAgICAgICBzb3VyY2UgPSBjb25uZWN0aW9uLnNvdXJjZSxcbiAgICAgICAgdGFyZ2V0ID0gY29ubmVjdGlvbi50YXJnZXQsXG4gICAgICAgIGhvdmVyID0gZXZlbnQuaG92ZXIsXG4gICAgICAgIHR5cGUgPSBjb250ZXh0LnR5cGU7XG5cbiAgICAvLyBjYWNoZSBob3ZlciBzdGF0ZVxuICAgIGNvbnRleHQuaG92ZXIgPSBob3ZlcjtcblxuICAgIHZhciBhbGxvd2VkO1xuXG4gICAgaWYgKCFob3Zlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjb21tYW5kID0gdHlwZSA9PT0gVVBEQVRFX1dBWVBPSU5UUyA/ICdjb25uZWN0aW9uLnVwZGF0ZVdheXBvaW50cycgOiAnY29ubmVjdGlvbi5yZWNvbm5lY3QnO1xuXG4gICAgYWxsb3dlZCA9IGNvbnRleHQuYWxsb3dlZCA9IHJ1bGVzLmFsbG93ZWQoY29tbWFuZCwge1xuICAgICAgY29ubmVjdGlvbjogY29ubmVjdGlvbixcbiAgICAgIHNvdXJjZTogdHlwZSA9PT0gUkVDT05ORUNUX1NUQVJUID8gaG92ZXIgOiBzb3VyY2UsXG4gICAgICB0YXJnZXQ6IHR5cGUgPT09IFJFQ09OTkVDVF9FTkQgPyBob3ZlciA6IHRhcmdldFxuICAgIH0pO1xuXG4gICAgaWYgKGFsbG93ZWQpIHtcbiAgICAgIGNvbnRleHQuc291cmNlID0gdHlwZSA9PT0gUkVDT05ORUNUX1NUQVJUID8gaG92ZXIgOiBzb3VyY2U7XG4gICAgICBjb250ZXh0LnRhcmdldCA9IHR5cGUgPT09IFJFQ09OTkVDVF9FTkQgPyBob3ZlciA6IHRhcmdldDtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChhbGxvd2VkID09PSBmYWxzZSkge1xuICAgICAgYWxsb3dlZCA9IGNvbnRleHQuYWxsb3dlZCA9IHJ1bGVzLmFsbG93ZWQoY29tbWFuZCwge1xuICAgICAgICBjb25uZWN0aW9uOiBjb25uZWN0aW9uLFxuICAgICAgICBzb3VyY2U6IHR5cGUgPT09IFJFQ09OTkVDVF9FTkQgPyBob3ZlciA6IHRhcmdldCxcbiAgICAgICAgdGFyZ2V0OiB0eXBlID09PSBSRUNPTk5FQ1RfU1RBUlQgPyBob3ZlciA6IHNvdXJjZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGFsbG93ZWQpIHtcbiAgICAgIGNvbnRleHQuc291cmNlID0gdHlwZSA9PT0gUkVDT05ORUNUX0VORCA/IGhvdmVyIDogdGFyZ2V0O1xuICAgICAgY29udGV4dC50YXJnZXQgPSB0eXBlID09PSBSRUNPTk5FQ1RfU1RBUlQgPyBob3ZlciA6IHNvdXJjZTtcbiAgICB9XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKFsgJ2JlbmRwb2ludC5tb3ZlLm91dCcsICdiZW5kcG9pbnQubW92ZS5jbGVhbnVwJyBdLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgdHlwZSA9IGNvbnRleHQudHlwZTtcblxuICAgIGNvbnRleHQuaG92ZXIgPSBudWxsO1xuICAgIGNvbnRleHQuc291cmNlID0gbnVsbDtcbiAgICBjb250ZXh0LnRhcmdldCA9IG51bGw7XG5cbiAgICBpZiAodHlwZSAhPT0gVVBEQVRFX1dBWVBPSU5UUykge1xuICAgICAgY29udGV4dC5hbGxvd2VkID0gZmFsc2U7XG4gICAgfVxuICB9KTtcblxuICBldmVudEJ1cy5vbignYmVuZHBvaW50Lm1vdmUuZW5kJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGFsbG93ZWQgPSBjb250ZXh0LmFsbG93ZWQsXG4gICAgICAgIGJlbmRwb2ludEluZGV4ID0gY29udGV4dC5iZW5kcG9pbnRJbmRleCxcbiAgICAgICAgY29ubmVjdGlvbiA9IGNvbnRleHQuY29ubmVjdGlvbixcbiAgICAgICAgaW5zZXJ0ID0gY29udGV4dC5pbnNlcnQsXG4gICAgICAgIG5ld1dheXBvaW50cyA9IGNvbm5lY3Rpb24ud2F5cG9pbnRzLnNsaWNlKCksXG4gICAgICAgIHNvdXJjZSA9IGNvbnRleHQuc291cmNlLFxuICAgICAgICB0YXJnZXQgPSBjb250ZXh0LnRhcmdldCxcbiAgICAgICAgdHlwZSA9IGNvbnRleHQudHlwZSxcbiAgICAgICAgaGludHMgPSBjb250ZXh0LmhpbnRzIHx8IHt9O1xuXG4gICAgLy8gZW5zdXJlIGludGVnZXIgdmFsdWVzIChpbXBvcnRhbnQgaWYgem9vbSBsZXZlbCB3YXMgPiAxIGR1cmluZyBtb3ZlKVxuICAgIHZhciBkb2NraW5nID0ge1xuICAgICAgeDogcm91bmQoZXZlbnQueCksXG4gICAgICB5OiByb3VuZChldmVudC55KVxuICAgIH07XG5cbiAgICBpZiAoIWFsbG93ZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gVVBEQVRFX1dBWVBPSU5UUykge1xuICAgICAgaWYgKGluc2VydCkge1xuXG4gICAgICAgIC8vIGluc2VydCBuZXcgYmVuZHBvaW50XG4gICAgICAgIG5ld1dheXBvaW50cy5zcGxpY2UoYmVuZHBvaW50SW5kZXgsIDAsIGRvY2tpbmcpO1xuICAgICAgfSBlbHNlIHtcblxuICAgICAgICAvLyBzd2FwIHByZXZpb3VzIHdheXBvaW50IHdpdGggbW92ZWQgb25lXG4gICAgICAgIG5ld1dheXBvaW50c1tiZW5kcG9pbnRJbmRleF0gPSBkb2NraW5nO1xuICAgICAgfVxuXG4gICAgICAvLyBwYXNzIGhpbnRzIGFib3V0IGFjdHVhbCBtb3ZlZCBiZW5kcG9pbnRcbiAgICAgIC8vIHVzZWZ1bCBmb3IgY29ubmVjdGlvbi9sYWJlbCBsYXlvdXRcbiAgICAgIGhpbnRzLmJlbmRwb2ludE1vdmUgPSB7XG4gICAgICAgIGluc2VydDogaW5zZXJ0LFxuICAgICAgICBiZW5kcG9pbnRJbmRleDogYmVuZHBvaW50SW5kZXhcbiAgICAgIH07XG5cbiAgICAgIG5ld1dheXBvaW50cyA9IHRoaXMuY3JvcFdheXBvaW50cyhjb25uZWN0aW9uLCBuZXdXYXlwb2ludHMpO1xuXG4gICAgICBtb2RlbGluZy51cGRhdGVXYXlwb2ludHMoY29ubmVjdGlvbiwgZmlsdGVyUmVkdW5kYW50V2F5cG9pbnRzKG5ld1dheXBvaW50cyksIGhpbnRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGUgPT09IFJFQ09OTkVDVF9TVEFSVCkge1xuICAgICAgICBoaW50cy5kb2NraW5nID0gJ3NvdXJjZSc7XG5cbiAgICAgICAgaWYgKGlzUmV2ZXJzZShjb250ZXh0KSkge1xuICAgICAgICAgIGhpbnRzLmRvY2tpbmcgPSAndGFyZ2V0JztcblxuICAgICAgICAgIGhpbnRzLm5ld1dheXBvaW50cyA9IG5ld1dheXBvaW50cy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gUkVDT05ORUNUX0VORCkge1xuICAgICAgICBoaW50cy5kb2NraW5nID0gJ3RhcmdldCc7XG5cbiAgICAgICAgaWYgKGlzUmV2ZXJzZShjb250ZXh0KSkge1xuICAgICAgICAgIGhpbnRzLmRvY2tpbmcgPSAnc291cmNlJztcblxuICAgICAgICAgIGhpbnRzLm5ld1dheXBvaW50cyA9IG5ld1dheXBvaW50cy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbW9kZWxpbmcucmVjb25uZWN0KGNvbm5lY3Rpb24sIHNvdXJjZSwgdGFyZ2V0LCBkb2NraW5nLCBoaW50cyk7XG4gICAgfVxuICB9LCB0aGlzKTtcbn1cblxuQmVuZHBvaW50TW92ZS4kaW5qZWN0ID0gW1xuICAnaW5qZWN0b3InLFxuICAnZXZlbnRCdXMnLFxuICAnY2FudmFzJyxcbiAgJ2RyYWdnaW5nJyxcbiAgJ3J1bGVzJyxcbiAgJ21vZGVsaW5nJ1xuXTtcblxuQmVuZHBvaW50TW92ZS5wcm90b3R5cGUuY3JvcFdheXBvaW50cyA9IGZ1bmN0aW9uKGNvbm5lY3Rpb24sIG5ld1dheXBvaW50cykge1xuICB2YXIgY29ubmVjdGlvbkRvY2tpbmcgPSB0aGlzLl9pbmplY3Rvci5nZXQoJ2Nvbm5lY3Rpb25Eb2NraW5nJywgZmFsc2UpO1xuXG4gIGlmICghY29ubmVjdGlvbkRvY2tpbmcpIHtcbiAgICByZXR1cm4gbmV3V2F5cG9pbnRzO1xuICB9XG5cbiAgdmFyIHdheXBvaW50cyA9IGNvbm5lY3Rpb24ud2F5cG9pbnRzO1xuXG4gIGNvbm5lY3Rpb24ud2F5cG9pbnRzID0gbmV3V2F5cG9pbnRzO1xuXG4gIGNvbm5lY3Rpb24ud2F5cG9pbnRzID0gY29ubmVjdGlvbkRvY2tpbmcuZ2V0Q3JvcHBlZFdheXBvaW50cyhjb25uZWN0aW9uKTtcblxuICBuZXdXYXlwb2ludHMgPSBjb25uZWN0aW9uLndheXBvaW50cztcblxuICBjb25uZWN0aW9uLndheXBvaW50cyA9IHdheXBvaW50cztcblxuICByZXR1cm4gbmV3V2F5cG9pbnRzO1xufTtcblxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUmV2ZXJzZShjb250ZXh0KSB7XG4gIHZhciBob3ZlciA9IGNvbnRleHQuaG92ZXIsXG4gICAgICBzb3VyY2UgPSBjb250ZXh0LnNvdXJjZSxcbiAgICAgIHRhcmdldCA9IGNvbnRleHQudGFyZ2V0LFxuICAgICAgdHlwZSA9IGNvbnRleHQudHlwZTtcblxuICBpZiAodHlwZSA9PT0gUkVDT05ORUNUX1NUQVJUKSB7XG4gICAgcmV0dXJuIGhvdmVyICYmIHRhcmdldCAmJiBob3ZlciA9PT0gdGFyZ2V0ICYmIHNvdXJjZSAhPT0gdGFyZ2V0O1xuICB9XG5cbiAgaWYgKHR5cGUgPT09IFJFQ09OTkVDVF9FTkQpIHtcbiAgICByZXR1cm4gaG92ZXIgJiYgc291cmNlICYmIGhvdmVyID09PSBzb3VyY2UgJiYgc291cmNlICE9PSB0YXJnZXQ7XG4gIH1cbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/bendpoints/BendpointMove.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/bendpoints/BendpointMovePreview.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/bendpoints/BendpointMovePreview.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BendpointMovePreview)\n/* harmony export */ });\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/./node_modules/tiny-svg/dist/index.esm.js\");\n/* harmony import */ var _BendpointUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BendpointUtil */ \"(ssr)/./node_modules/diagram-js/lib/features/bendpoints/BendpointUtil.js\");\n/* harmony import */ var _util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/SvgTransformUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/SvgTransformUtil.js\");\n/* harmony import */ var _BendpointMove__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BendpointMove */ \"(ssr)/./node_modules/diagram-js/lib/features/bendpoints/BendpointMove.js\");\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../bendpoints/BendpointMove').default} BendpointMove\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n */\n\nvar RECONNECT_START = 'reconnectStart',\n    RECONNECT_END = 'reconnectEnd',\n    UPDATE_WAYPOINTS = 'updateWaypoints';\n\nvar MARKER_OK = 'connect-ok',\n    MARKER_NOT_OK = 'connect-not-ok',\n    MARKER_CONNECT_HOVER = 'connect-hover',\n    MARKER_CONNECT_UPDATING = 'djs-updating',\n    MARKER_DRAGGER = 'djs-dragging';\n\nvar HIGH_PRIORITY = 1100;\n\n/**\n * Preview connection while moving bendpoints.\n *\n * @param {BendpointMove} bendpointMove\n * @param {Injector} injector\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nfunction BendpointMovePreview(bendpointMove, injector, eventBus, canvas) {\n  this._injector = injector;\n\n  var connectionPreview = injector.get('connectionPreview', false);\n\n  eventBus.on('bendpoint.move.start', function(event) {\n    var context = event.context,\n        bendpointIndex = context.bendpointIndex,\n        connection = context.connection,\n        insert = context.insert,\n        waypoints = connection.waypoints,\n        newWaypoints = waypoints.slice();\n\n    context.waypoints = waypoints;\n\n    if (insert) {\n\n      // insert placeholder for new bendpoint\n      newWaypoints.splice(bendpointIndex, 0, { x: event.x, y: event.y });\n    }\n\n    connection.waypoints = newWaypoints;\n\n    // add dragger gfx\n    var draggerGfx = context.draggerGfx = (0,_BendpointUtil__WEBPACK_IMPORTED_MODULE_0__.addBendpoint)(canvas.getLayer('overlays'));\n\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.classes)(draggerGfx).add('djs-dragging');\n\n    canvas.addMarker(connection, MARKER_DRAGGER);\n    canvas.addMarker(connection, MARKER_CONNECT_UPDATING);\n  });\n\n  eventBus.on('bendpoint.move.hover', function(event) {\n    var context = event.context,\n        allowed = context.allowed,\n        hover = context.hover,\n        type = context.type;\n\n    if (hover) {\n      canvas.addMarker(hover, MARKER_CONNECT_HOVER);\n\n      if (type === UPDATE_WAYPOINTS) {\n        return;\n      }\n\n      if (allowed) {\n        canvas.removeMarker(hover, MARKER_NOT_OK);\n        canvas.addMarker(hover, MARKER_OK);\n      } else if (allowed === false) {\n        canvas.removeMarker(hover, MARKER_OK);\n        canvas.addMarker(hover, MARKER_NOT_OK);\n      }\n    }\n  });\n\n  eventBus.on([\n    'bendpoint.move.out',\n    'bendpoint.move.cleanup'\n  ], HIGH_PRIORITY, function(event) {\n    var context = event.context,\n        hover = context.hover,\n        target = context.target;\n\n    if (hover) {\n      canvas.removeMarker(hover, MARKER_CONNECT_HOVER);\n      canvas.removeMarker(hover, target ? MARKER_OK : MARKER_NOT_OK);\n    }\n  });\n\n  eventBus.on('bendpoint.move.move', function(event) {\n    var context = event.context,\n        allowed = context.allowed,\n        bendpointIndex = context.bendpointIndex,\n        draggerGfx = context.draggerGfx,\n        hover = context.hover,\n        type = context.type,\n        connection = context.connection,\n        source = connection.source,\n        target = connection.target,\n        newWaypoints = connection.waypoints.slice(),\n        bendpoint = { x: event.x, y: event.y },\n        hints = context.hints || {},\n        drawPreviewHints = {};\n\n    if (connectionPreview) {\n      if (hints.connectionStart) {\n        drawPreviewHints.connectionStart = hints.connectionStart;\n      }\n\n      if (hints.connectionEnd) {\n        drawPreviewHints.connectionEnd = hints.connectionEnd;\n      }\n\n\n      if (type === RECONNECT_START) {\n        if ((0,_BendpointMove__WEBPACK_IMPORTED_MODULE_2__.isReverse)(context)) {\n          drawPreviewHints.connectionEnd = drawPreviewHints.connectionEnd || bendpoint;\n\n          drawPreviewHints.source = target;\n          drawPreviewHints.target = hover || source;\n\n          newWaypoints = newWaypoints.reverse();\n        } else {\n          drawPreviewHints.connectionStart = drawPreviewHints.connectionStart || bendpoint;\n\n          drawPreviewHints.source = hover || source;\n          drawPreviewHints.target = target;\n        }\n      } else if (type === RECONNECT_END) {\n        if ((0,_BendpointMove__WEBPACK_IMPORTED_MODULE_2__.isReverse)(context)) {\n          drawPreviewHints.connectionStart = drawPreviewHints.connectionStart || bendpoint;\n\n          drawPreviewHints.source = hover || target;\n          drawPreviewHints.target = source;\n\n          newWaypoints = newWaypoints.reverse();\n        } else {\n          drawPreviewHints.connectionEnd = drawPreviewHints.connectionEnd || bendpoint;\n\n          drawPreviewHints.source = source;\n          drawPreviewHints.target = hover || target;\n        }\n\n      } else {\n        drawPreviewHints.noCropping = true;\n        drawPreviewHints.noLayout = true;\n        newWaypoints[ bendpointIndex ] = bendpoint;\n      }\n\n      if (type === UPDATE_WAYPOINTS) {\n        newWaypoints = bendpointMove.cropWaypoints(connection, newWaypoints);\n      }\n\n      drawPreviewHints.waypoints = newWaypoints;\n\n      connectionPreview.drawPreview(context, allowed, drawPreviewHints);\n    }\n\n    (0,_util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_3__.translate)(draggerGfx, event.x, event.y);\n  }, this);\n\n  eventBus.on([\n    'bendpoint.move.end',\n    'bendpoint.move.cancel'\n  ], HIGH_PRIORITY, function(event) {\n    var context = event.context,\n        connection = context.connection,\n        draggerGfx = context.draggerGfx,\n        hover = context.hover,\n        target = context.target,\n        waypoints = context.waypoints;\n\n    connection.waypoints = waypoints;\n\n    // remove dragger gfx\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.remove)(draggerGfx);\n\n    canvas.removeMarker(connection, MARKER_CONNECT_UPDATING);\n    canvas.removeMarker(connection, MARKER_DRAGGER);\n\n    if (hover) {\n      canvas.removeMarker(hover, MARKER_OK);\n      canvas.removeMarker(hover, target ? MARKER_OK : MARKER_NOT_OK);\n    }\n\n    if (connectionPreview) {\n      connectionPreview.cleanUp(context);\n    }\n  });\n}\n\nBendpointMovePreview.$inject = [\n  'bendpointMove',\n  'injector',\n  'eventBus',\n  'canvas'\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYmVuZHBvaW50cy9CZW5kcG9pbnRNb3ZlUHJldmlldy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUdrQjs7QUFFNkI7O0FBRVM7O0FBRVo7O0FBRTVDO0FBQ0EsYUFBYSx5QkFBeUI7QUFDdEM7QUFDQSxhQUFhLCtDQUErQztBQUM1RCxhQUFhLHFDQUFxQztBQUNsRCxhQUFhLHVDQUF1QztBQUNwRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkI7QUFDZTtBQUNmOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0EsK0NBQStDLHdCQUF3QjtBQUN2RTs7QUFFQTs7QUFFQTtBQUNBLDBDQUEwQyw0REFBWTs7QUFFdEQsSUFBSSxpREFBVTs7QUFFZDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isd0JBQXdCO0FBQzlDLG1DQUFtQztBQUNuQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0EsWUFBWSx5REFBUztBQUNyQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsVUFBVTtBQUNWOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUixZQUFZLHlEQUFTO0FBQ3JCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7O0FBRUE7QUFDQTtBQUNBOztBQUVBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSxJQUFJLGlFQUFTO0FBQ2IsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLElBQUksZ0RBQVM7O0FBRWI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2JlbmRwb2ludHMvQmVuZHBvaW50TW92ZVByZXZpZXcuanM/NjQwZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBjbGFzc2VzIGFzIHN2Z0NsYXNzZXMsXG4gIHJlbW92ZSBhcyBzdmdSZW1vdmVcbn0gZnJvbSAndGlueS1zdmcnO1xuXG5pbXBvcnQgeyBhZGRCZW5kcG9pbnQgfSBmcm9tICcuL0JlbmRwb2ludFV0aWwnO1xuXG5pbXBvcnQgeyB0cmFuc2xhdGUgfSBmcm9tICcuLi8uLi91dGlsL1N2Z1RyYW5zZm9ybVV0aWwnO1xuXG5pbXBvcnQgeyBpc1JldmVyc2UgfSBmcm9tICcuL0JlbmRwb2ludE1vdmUnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpZGknKS5JbmplY3Rvcn0gSW5qZWN0b3JcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9iZW5kcG9pbnRzL0JlbmRwb2ludE1vdmUnKS5kZWZhdWx0fSBCZW5kcG9pbnRNb3ZlXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0NhbnZhcycpLmRlZmF1bHR9IENhbnZhc1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKi9cblxudmFyIFJFQ09OTkVDVF9TVEFSVCA9ICdyZWNvbm5lY3RTdGFydCcsXG4gICAgUkVDT05ORUNUX0VORCA9ICdyZWNvbm5lY3RFbmQnLFxuICAgIFVQREFURV9XQVlQT0lOVFMgPSAndXBkYXRlV2F5cG9pbnRzJztcblxudmFyIE1BUktFUl9PSyA9ICdjb25uZWN0LW9rJyxcbiAgICBNQVJLRVJfTk9UX09LID0gJ2Nvbm5lY3Qtbm90LW9rJyxcbiAgICBNQVJLRVJfQ09OTkVDVF9IT1ZFUiA9ICdjb25uZWN0LWhvdmVyJyxcbiAgICBNQVJLRVJfQ09OTkVDVF9VUERBVElORyA9ICdkanMtdXBkYXRpbmcnLFxuICAgIE1BUktFUl9EUkFHR0VSID0gJ2Rqcy1kcmFnZ2luZyc7XG5cbnZhciBISUdIX1BSSU9SSVRZID0gMTEwMDtcblxuLyoqXG4gKiBQcmV2aWV3IGNvbm5lY3Rpb24gd2hpbGUgbW92aW5nIGJlbmRwb2ludHMuXG4gKlxuICogQHBhcmFtIHtCZW5kcG9pbnRNb3ZlfSBiZW5kcG9pbnRNb3ZlXG4gKiBAcGFyYW0ge0luamVjdG9yfSBpbmplY3RvclxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQmVuZHBvaW50TW92ZVByZXZpZXcoYmVuZHBvaW50TW92ZSwgaW5qZWN0b3IsIGV2ZW50QnVzLCBjYW52YXMpIHtcbiAgdGhpcy5faW5qZWN0b3IgPSBpbmplY3RvcjtcblxuICB2YXIgY29ubmVjdGlvblByZXZpZXcgPSBpbmplY3Rvci5nZXQoJ2Nvbm5lY3Rpb25QcmV2aWV3JywgZmFsc2UpO1xuXG4gIGV2ZW50QnVzLm9uKCdiZW5kcG9pbnQubW92ZS5zdGFydCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBiZW5kcG9pbnRJbmRleCA9IGNvbnRleHQuYmVuZHBvaW50SW5kZXgsXG4gICAgICAgIGNvbm5lY3Rpb24gPSBjb250ZXh0LmNvbm5lY3Rpb24sXG4gICAgICAgIGluc2VydCA9IGNvbnRleHQuaW5zZXJ0LFxuICAgICAgICB3YXlwb2ludHMgPSBjb25uZWN0aW9uLndheXBvaW50cyxcbiAgICAgICAgbmV3V2F5cG9pbnRzID0gd2F5cG9pbnRzLnNsaWNlKCk7XG5cbiAgICBjb250ZXh0LndheXBvaW50cyA9IHdheXBvaW50cztcblxuICAgIGlmIChpbnNlcnQpIHtcblxuICAgICAgLy8gaW5zZXJ0IHBsYWNlaG9sZGVyIGZvciBuZXcgYmVuZHBvaW50XG4gICAgICBuZXdXYXlwb2ludHMuc3BsaWNlKGJlbmRwb2ludEluZGV4LCAwLCB7IHg6IGV2ZW50LngsIHk6IGV2ZW50LnkgfSk7XG4gICAgfVxuXG4gICAgY29ubmVjdGlvbi53YXlwb2ludHMgPSBuZXdXYXlwb2ludHM7XG5cbiAgICAvLyBhZGQgZHJhZ2dlciBnZnhcbiAgICB2YXIgZHJhZ2dlckdmeCA9IGNvbnRleHQuZHJhZ2dlckdmeCA9IGFkZEJlbmRwb2ludChjYW52YXMuZ2V0TGF5ZXIoJ292ZXJsYXlzJykpO1xuXG4gICAgc3ZnQ2xhc3NlcyhkcmFnZ2VyR2Z4KS5hZGQoJ2Rqcy1kcmFnZ2luZycpO1xuXG4gICAgY2FudmFzLmFkZE1hcmtlcihjb25uZWN0aW9uLCBNQVJLRVJfRFJBR0dFUik7XG4gICAgY2FudmFzLmFkZE1hcmtlcihjb25uZWN0aW9uLCBNQVJLRVJfQ09OTkVDVF9VUERBVElORyk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdiZW5kcG9pbnQubW92ZS5ob3ZlcicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBhbGxvd2VkID0gY29udGV4dC5hbGxvd2VkLFxuICAgICAgICBob3ZlciA9IGNvbnRleHQuaG92ZXIsXG4gICAgICAgIHR5cGUgPSBjb250ZXh0LnR5cGU7XG5cbiAgICBpZiAoaG92ZXIpIHtcbiAgICAgIGNhbnZhcy5hZGRNYXJrZXIoaG92ZXIsIE1BUktFUl9DT05ORUNUX0hPVkVSKTtcblxuICAgICAgaWYgKHR5cGUgPT09IFVQREFURV9XQVlQT0lOVFMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoYWxsb3dlZCkge1xuICAgICAgICBjYW52YXMucmVtb3ZlTWFya2VyKGhvdmVyLCBNQVJLRVJfTk9UX09LKTtcbiAgICAgICAgY2FudmFzLmFkZE1hcmtlcihob3ZlciwgTUFSS0VSX09LKTtcbiAgICAgIH0gZWxzZSBpZiAoYWxsb3dlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgY2FudmFzLnJlbW92ZU1hcmtlcihob3ZlciwgTUFSS0VSX09LKTtcbiAgICAgICAgY2FudmFzLmFkZE1hcmtlcihob3ZlciwgTUFSS0VSX05PVF9PSyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBldmVudEJ1cy5vbihbXG4gICAgJ2JlbmRwb2ludC5tb3ZlLm91dCcsXG4gICAgJ2JlbmRwb2ludC5tb3ZlLmNsZWFudXAnXG4gIF0sIEhJR0hfUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBob3ZlciA9IGNvbnRleHQuaG92ZXIsXG4gICAgICAgIHRhcmdldCA9IGNvbnRleHQudGFyZ2V0O1xuXG4gICAgaWYgKGhvdmVyKSB7XG4gICAgICBjYW52YXMucmVtb3ZlTWFya2VyKGhvdmVyLCBNQVJLRVJfQ09OTkVDVF9IT1ZFUik7XG4gICAgICBjYW52YXMucmVtb3ZlTWFya2VyKGhvdmVyLCB0YXJnZXQgPyBNQVJLRVJfT0sgOiBNQVJLRVJfTk9UX09LKTtcbiAgICB9XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdiZW5kcG9pbnQubW92ZS5tb3ZlJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGFsbG93ZWQgPSBjb250ZXh0LmFsbG93ZWQsXG4gICAgICAgIGJlbmRwb2ludEluZGV4ID0gY29udGV4dC5iZW5kcG9pbnRJbmRleCxcbiAgICAgICAgZHJhZ2dlckdmeCA9IGNvbnRleHQuZHJhZ2dlckdmeCxcbiAgICAgICAgaG92ZXIgPSBjb250ZXh0LmhvdmVyLFxuICAgICAgICB0eXBlID0gY29udGV4dC50eXBlLFxuICAgICAgICBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uLFxuICAgICAgICBzb3VyY2UgPSBjb25uZWN0aW9uLnNvdXJjZSxcbiAgICAgICAgdGFyZ2V0ID0gY29ubmVjdGlvbi50YXJnZXQsXG4gICAgICAgIG5ld1dheXBvaW50cyA9IGNvbm5lY3Rpb24ud2F5cG9pbnRzLnNsaWNlKCksXG4gICAgICAgIGJlbmRwb2ludCA9IHsgeDogZXZlbnQueCwgeTogZXZlbnQueSB9LFxuICAgICAgICBoaW50cyA9IGNvbnRleHQuaGludHMgfHwge30sXG4gICAgICAgIGRyYXdQcmV2aWV3SGludHMgPSB7fTtcblxuICAgIGlmIChjb25uZWN0aW9uUHJldmlldykge1xuICAgICAgaWYgKGhpbnRzLmNvbm5lY3Rpb25TdGFydCkge1xuICAgICAgICBkcmF3UHJldmlld0hpbnRzLmNvbm5lY3Rpb25TdGFydCA9IGhpbnRzLmNvbm5lY3Rpb25TdGFydDtcbiAgICAgIH1cblxuICAgICAgaWYgKGhpbnRzLmNvbm5lY3Rpb25FbmQpIHtcbiAgICAgICAgZHJhd1ByZXZpZXdIaW50cy5jb25uZWN0aW9uRW5kID0gaGludHMuY29ubmVjdGlvbkVuZDtcbiAgICAgIH1cblxuXG4gICAgICBpZiAodHlwZSA9PT0gUkVDT05ORUNUX1NUQVJUKSB7XG4gICAgICAgIGlmIChpc1JldmVyc2UoY29udGV4dCkpIHtcbiAgICAgICAgICBkcmF3UHJldmlld0hpbnRzLmNvbm5lY3Rpb25FbmQgPSBkcmF3UHJldmlld0hpbnRzLmNvbm5lY3Rpb25FbmQgfHwgYmVuZHBvaW50O1xuXG4gICAgICAgICAgZHJhd1ByZXZpZXdIaW50cy5zb3VyY2UgPSB0YXJnZXQ7XG4gICAgICAgICAgZHJhd1ByZXZpZXdIaW50cy50YXJnZXQgPSBob3ZlciB8fCBzb3VyY2U7XG5cbiAgICAgICAgICBuZXdXYXlwb2ludHMgPSBuZXdXYXlwb2ludHMucmV2ZXJzZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRyYXdQcmV2aWV3SGludHMuY29ubmVjdGlvblN0YXJ0ID0gZHJhd1ByZXZpZXdIaW50cy5jb25uZWN0aW9uU3RhcnQgfHwgYmVuZHBvaW50O1xuXG4gICAgICAgICAgZHJhd1ByZXZpZXdIaW50cy5zb3VyY2UgPSBob3ZlciB8fCBzb3VyY2U7XG4gICAgICAgICAgZHJhd1ByZXZpZXdIaW50cy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gUkVDT05ORUNUX0VORCkge1xuICAgICAgICBpZiAoaXNSZXZlcnNlKGNvbnRleHQpKSB7XG4gICAgICAgICAgZHJhd1ByZXZpZXdIaW50cy5jb25uZWN0aW9uU3RhcnQgPSBkcmF3UHJldmlld0hpbnRzLmNvbm5lY3Rpb25TdGFydCB8fCBiZW5kcG9pbnQ7XG5cbiAgICAgICAgICBkcmF3UHJldmlld0hpbnRzLnNvdXJjZSA9IGhvdmVyIHx8IHRhcmdldDtcbiAgICAgICAgICBkcmF3UHJldmlld0hpbnRzLnRhcmdldCA9IHNvdXJjZTtcblxuICAgICAgICAgIG5ld1dheXBvaW50cyA9IG5ld1dheXBvaW50cy5yZXZlcnNlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZHJhd1ByZXZpZXdIaW50cy5jb25uZWN0aW9uRW5kID0gZHJhd1ByZXZpZXdIaW50cy5jb25uZWN0aW9uRW5kIHx8IGJlbmRwb2ludDtcblxuICAgICAgICAgIGRyYXdQcmV2aWV3SGludHMuc291cmNlID0gc291cmNlO1xuICAgICAgICAgIGRyYXdQcmV2aWV3SGludHMudGFyZ2V0ID0gaG92ZXIgfHwgdGFyZ2V0O1xuICAgICAgICB9XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRyYXdQcmV2aWV3SGludHMubm9Dcm9wcGluZyA9IHRydWU7XG4gICAgICAgIGRyYXdQcmV2aWV3SGludHMubm9MYXlvdXQgPSB0cnVlO1xuICAgICAgICBuZXdXYXlwb2ludHNbIGJlbmRwb2ludEluZGV4IF0gPSBiZW5kcG9pbnQ7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlID09PSBVUERBVEVfV0FZUE9JTlRTKSB7XG4gICAgICAgIG5ld1dheXBvaW50cyA9IGJlbmRwb2ludE1vdmUuY3JvcFdheXBvaW50cyhjb25uZWN0aW9uLCBuZXdXYXlwb2ludHMpO1xuICAgICAgfVxuXG4gICAgICBkcmF3UHJldmlld0hpbnRzLndheXBvaW50cyA9IG5ld1dheXBvaW50cztcblxuICAgICAgY29ubmVjdGlvblByZXZpZXcuZHJhd1ByZXZpZXcoY29udGV4dCwgYWxsb3dlZCwgZHJhd1ByZXZpZXdIaW50cyk7XG4gICAgfVxuXG4gICAgdHJhbnNsYXRlKGRyYWdnZXJHZngsIGV2ZW50LngsIGV2ZW50LnkpO1xuICB9LCB0aGlzKTtcblxuICBldmVudEJ1cy5vbihbXG4gICAgJ2JlbmRwb2ludC5tb3ZlLmVuZCcsXG4gICAgJ2JlbmRwb2ludC5tb3ZlLmNhbmNlbCdcbiAgXSwgSElHSF9QUklPUklUWSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGNvbm5lY3Rpb24gPSBjb250ZXh0LmNvbm5lY3Rpb24sXG4gICAgICAgIGRyYWdnZXJHZnggPSBjb250ZXh0LmRyYWdnZXJHZngsXG4gICAgICAgIGhvdmVyID0gY29udGV4dC5ob3ZlcixcbiAgICAgICAgdGFyZ2V0ID0gY29udGV4dC50YXJnZXQsXG4gICAgICAgIHdheXBvaW50cyA9IGNvbnRleHQud2F5cG9pbnRzO1xuXG4gICAgY29ubmVjdGlvbi53YXlwb2ludHMgPSB3YXlwb2ludHM7XG5cbiAgICAvLyByZW1vdmUgZHJhZ2dlciBnZnhcbiAgICBzdmdSZW1vdmUoZHJhZ2dlckdmeCk7XG5cbiAgICBjYW52YXMucmVtb3ZlTWFya2VyKGNvbm5lY3Rpb24sIE1BUktFUl9DT05ORUNUX1VQREFUSU5HKTtcbiAgICBjYW52YXMucmVtb3ZlTWFya2VyKGNvbm5lY3Rpb24sIE1BUktFUl9EUkFHR0VSKTtcblxuICAgIGlmIChob3Zlcikge1xuICAgICAgY2FudmFzLnJlbW92ZU1hcmtlcihob3ZlciwgTUFSS0VSX09LKTtcbiAgICAgIGNhbnZhcy5yZW1vdmVNYXJrZXIoaG92ZXIsIHRhcmdldCA/IE1BUktFUl9PSyA6IE1BUktFUl9OT1RfT0spO1xuICAgIH1cblxuICAgIGlmIChjb25uZWN0aW9uUHJldmlldykge1xuICAgICAgY29ubmVjdGlvblByZXZpZXcuY2xlYW5VcChjb250ZXh0KTtcbiAgICB9XG4gIH0pO1xufVxuXG5CZW5kcG9pbnRNb3ZlUHJldmlldy4kaW5qZWN0ID0gW1xuICAnYmVuZHBvaW50TW92ZScsXG4gICdpbmplY3RvcicsXG4gICdldmVudEJ1cycsXG4gICdjYW52YXMnXG5dOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/bendpoints/BendpointMovePreview.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/bendpoints/BendpointSnapping.js":
/*!******************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/bendpoints/BendpointSnapping.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BendpointSnapping)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _snapping_SnapUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../snapping/SnapUtil */ \"(ssr)/./node_modules/diagram-js/lib/features/snapping/SnapUtil.js\");\n/* harmony import */ var _BendpointUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BendpointUtil */ \"(ssr)/./node_modules/diagram-js/lib/features/bendpoints/BendpointUtil.js\");\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/ModelUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/ModelUtil.js\");\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('../../core/EventBus').default} EventBus\n */\nvar abs = Math.abs,\n    round = Math.round;\n\nvar TOLERANCE = 10;\n\n/**\n * @param {EventBus} eventBus\n */\nfunction BendpointSnapping(eventBus) {\n\n  function snapTo(values, value) {\n\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(values)) {\n      var i = values.length;\n\n      while (i--) if (abs(values[i] - value) <= TOLERANCE) {\n        return values[i];\n      }\n    } else {\n      values = +values;\n      var rem = value % values;\n\n      if (rem < TOLERANCE) {\n        return value - rem;\n      }\n\n      if (rem > values - TOLERANCE) {\n        return value - rem + values;\n      }\n    }\n\n    return value;\n  }\n\n  function getSnapPoint(element, event) {\n\n    if (element.waypoints) {\n      return (0,_BendpointUtil__WEBPACK_IMPORTED_MODULE_1__.getClosestPointOnConnection)(event, element);\n    }\n\n    if (element.width) {\n      return {\n        x: round(element.width / 2 + element.x),\n        y: round(element.height / 2 + element.y)\n      };\n    }\n  }\n\n  // connection segment snapping //////////////////////\n\n  function getConnectionSegmentSnaps(event) {\n\n    var context = event.context,\n        snapPoints = context.snapPoints,\n        connection = context.connection,\n        waypoints = connection.waypoints,\n        segmentStart = context.segmentStart,\n        segmentStartIndex = context.segmentStartIndex,\n        segmentEnd = context.segmentEnd,\n        segmentEndIndex = context.segmentEndIndex,\n        axis = context.axis;\n\n    if (snapPoints) {\n      return snapPoints;\n    }\n\n    var referenceWaypoints = [\n      waypoints[segmentStartIndex - 1],\n      segmentStart,\n      segmentEnd,\n      waypoints[segmentEndIndex + 1]\n    ];\n\n    if (segmentStartIndex < 2) {\n      referenceWaypoints.unshift(getSnapPoint(connection.source, event));\n    }\n\n    if (segmentEndIndex > waypoints.length - 3) {\n      referenceWaypoints.unshift(getSnapPoint(connection.target, event));\n    }\n\n    context.snapPoints = snapPoints = { horizontal: [] , vertical: [] };\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(referenceWaypoints, function(p) {\n\n      // we snap on existing bendpoints only,\n      // not placeholders that are inserted during add\n      if (p) {\n        p = p.original || p;\n\n        if (axis === 'y') {\n          snapPoints.horizontal.push(p.y);\n        }\n\n        if (axis === 'x') {\n          snapPoints.vertical.push(p.x);\n        }\n      }\n    });\n\n    return snapPoints;\n  }\n\n  eventBus.on('connectionSegment.move.move', 1500, function(event) {\n    var snapPoints = getConnectionSegmentSnaps(event),\n        x = event.x,\n        y = event.y,\n        sx, sy;\n\n    if (!snapPoints) {\n      return;\n    }\n\n    // snap\n    sx = snapTo(snapPoints.vertical, x);\n    sy = snapTo(snapPoints.horizontal, y);\n\n\n    // correction x/y\n    var cx = (x - sx),\n        cy = (y - sy);\n\n    // update delta\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(event, {\n      dx: event.dx - cx,\n      dy: event.dy - cy,\n      x: sx,\n      y: sy\n    });\n\n    // only set snapped if actually snapped\n    if (cx || snapPoints.vertical.indexOf(x) !== -1) {\n      (0,_snapping_SnapUtil__WEBPACK_IMPORTED_MODULE_2__.setSnapped)(event, 'x', sx);\n    }\n\n    if (cy || snapPoints.horizontal.indexOf(y) !== -1) {\n      (0,_snapping_SnapUtil__WEBPACK_IMPORTED_MODULE_2__.setSnapped)(event, 'y', sy);\n    }\n  });\n\n\n  // bendpoint snapping //////////////////////\n\n  function getBendpointSnaps(context) {\n\n    var snapPoints = context.snapPoints,\n        waypoints = context.connection.waypoints,\n        bendpointIndex = context.bendpointIndex;\n\n    if (snapPoints) {\n      return snapPoints;\n    }\n\n    var referenceWaypoints = [ waypoints[bendpointIndex - 1], waypoints[bendpointIndex + 1] ];\n\n    context.snapPoints = snapPoints = { horizontal: [] , vertical: [] };\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(referenceWaypoints, function(p) {\n\n      // we snap on existing bendpoints only,\n      // not placeholders that are inserted during add\n      if (p) {\n        p = p.original || p;\n\n        snapPoints.horizontal.push(p.y);\n        snapPoints.vertical.push(p.x);\n      }\n    });\n\n    return snapPoints;\n  }\n\n  // Snap Endpoint of new connection\n  eventBus.on([\n    'connect.hover',\n    'connect.move',\n    'connect.end'\n  ], 1500, function(event) {\n    var context = event.context,\n        hover = context.hover,\n        hoverMid = hover && getSnapPoint(hover, event);\n\n    // only snap on connections, elements can have multiple connect endpoints\n    if (!(0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_3__.isConnection)(hover) || !hoverMid || !hoverMid.x || !hoverMid.y) {\n      return;\n    }\n\n    (0,_snapping_SnapUtil__WEBPACK_IMPORTED_MODULE_2__.setSnapped)(event, 'x', hoverMid.x);\n    (0,_snapping_SnapUtil__WEBPACK_IMPORTED_MODULE_2__.setSnapped)(event, 'y', hoverMid.y);\n  });\n\n  eventBus.on([ 'bendpoint.move.move', 'bendpoint.move.end' ], 1500, function(event) {\n\n    var context = event.context,\n        snapPoints = getBendpointSnaps(context),\n        hover = context.hover,\n        hoverMid = hover && getSnapPoint(hover, event),\n        x = event.x,\n        y = event.y,\n        sx, sy;\n\n    if (!snapPoints) {\n      return;\n    }\n\n    // snap to hover mid\n    sx = snapTo(hoverMid ? snapPoints.vertical.concat([ hoverMid.x ]) : snapPoints.vertical, x);\n    sy = snapTo(hoverMid ? snapPoints.horizontal.concat([ hoverMid.y ]) : snapPoints.horizontal, y);\n\n    // correction x/y\n    var cx = (x - sx),\n        cy = (y - sy);\n\n    // update delta\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(event, {\n      dx: event.dx - cx,\n      dy: event.dy - cy,\n      x: event.x - cx,\n      y: event.y - cy\n    });\n\n    // only set snapped if actually snapped\n    if (cx || snapPoints.vertical.indexOf(x) !== -1) {\n      (0,_snapping_SnapUtil__WEBPACK_IMPORTED_MODULE_2__.setSnapped)(event, 'x', sx);\n    }\n\n    if (cy || snapPoints.horizontal.indexOf(y) !== -1) {\n      (0,_snapping_SnapUtil__WEBPACK_IMPORTED_MODULE_2__.setSnapped)(event, 'y', sy);\n    }\n  });\n}\n\n\nBendpointSnapping.$inject = [ 'eventBus' ];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYmVuZHBvaW50cy9CZW5kcG9pbnRTbmFwcGluZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUlrQjs7QUFFZ0M7O0FBRVk7O0FBRVY7O0FBRXBEO0FBQ0EsYUFBYSx1Q0FBdUM7QUFDcEQ7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ2U7O0FBRWY7O0FBRUEsUUFBUSxpREFBTztBQUNmOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsYUFBYSwyRUFBMkI7QUFDeEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSx3Q0FBd0M7O0FBRXhDLElBQUksaURBQU87O0FBRVg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSSxnREFBTTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsTUFBTSw4REFBVTtBQUNoQjs7QUFFQTtBQUNBLE1BQU0sOERBQVU7QUFDaEI7QUFDQSxHQUFHOzs7QUFHSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLHdDQUF3Qzs7QUFFeEMsSUFBSSxpREFBTzs7QUFFWDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUyw2REFBWTtBQUNyQjtBQUNBOztBQUVBLElBQUksOERBQVU7QUFDZCxJQUFJLDhEQUFVO0FBQ2QsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUksZ0RBQU07QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLE1BQU0sOERBQVU7QUFDaEI7O0FBRUE7QUFDQSxNQUFNLDhEQUFVO0FBQ2hCO0FBQ0EsR0FBRztBQUNIOzs7QUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9iZW5kcG9pbnRzL0JlbmRwb2ludFNuYXBwaW5nLmpzP2I1YjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgYXNzaWduLFxuICBmb3JFYWNoLFxuICBpc0FycmF5XG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHsgc2V0U25hcHBlZCB9IGZyb20gJy4uL3NuYXBwaW5nL1NuYXBVdGlsJztcblxuaW1wb3J0IHsgZ2V0Q2xvc2VzdFBvaW50T25Db25uZWN0aW9uIH0gZnJvbSAnLi9CZW5kcG9pbnRVdGlsJztcblxuaW1wb3J0IHsgaXNDb25uZWN0aW9uIH0gZnJvbSAnLi4vLi4vdXRpbC9Nb2RlbFV0aWwnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICovXG52YXIgYWJzID0gTWF0aC5hYnMsXG4gICAgcm91bmQgPSBNYXRoLnJvdW5kO1xuXG52YXIgVE9MRVJBTkNFID0gMTA7XG5cbi8qKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQmVuZHBvaW50U25hcHBpbmcoZXZlbnRCdXMpIHtcblxuICBmdW5jdGlvbiBzbmFwVG8odmFsdWVzLCB2YWx1ZSkge1xuXG4gICAgaWYgKGlzQXJyYXkodmFsdWVzKSkge1xuICAgICAgdmFyIGkgPSB2YWx1ZXMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoaS0tKSBpZiAoYWJzKHZhbHVlc1tpXSAtIHZhbHVlKSA8PSBUT0xFUkFOQ0UpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlc1tpXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWVzID0gK3ZhbHVlcztcbiAgICAgIHZhciByZW0gPSB2YWx1ZSAlIHZhbHVlcztcblxuICAgICAgaWYgKHJlbSA8IFRPTEVSQU5DRSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgLSByZW07XG4gICAgICB9XG5cbiAgICAgIGlmIChyZW0gPiB2YWx1ZXMgLSBUT0xFUkFOQ0UpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlIC0gcmVtICsgdmFsdWVzO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNuYXBQb2ludChlbGVtZW50LCBldmVudCkge1xuXG4gICAgaWYgKGVsZW1lbnQud2F5cG9pbnRzKSB7XG4gICAgICByZXR1cm4gZ2V0Q2xvc2VzdFBvaW50T25Db25uZWN0aW9uKGV2ZW50LCBlbGVtZW50KTtcbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudC53aWR0aCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogcm91bmQoZWxlbWVudC53aWR0aCAvIDIgKyBlbGVtZW50LngpLFxuICAgICAgICB5OiByb3VuZChlbGVtZW50LmhlaWdodCAvIDIgKyBlbGVtZW50LnkpXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8vIGNvbm5lY3Rpb24gc2VnbWVudCBzbmFwcGluZyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgZnVuY3Rpb24gZ2V0Q29ubmVjdGlvblNlZ21lbnRTbmFwcyhldmVudCkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBzbmFwUG9pbnRzID0gY29udGV4dC5zbmFwUG9pbnRzLFxuICAgICAgICBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uLFxuICAgICAgICB3YXlwb2ludHMgPSBjb25uZWN0aW9uLndheXBvaW50cyxcbiAgICAgICAgc2VnbWVudFN0YXJ0ID0gY29udGV4dC5zZWdtZW50U3RhcnQsXG4gICAgICAgIHNlZ21lbnRTdGFydEluZGV4ID0gY29udGV4dC5zZWdtZW50U3RhcnRJbmRleCxcbiAgICAgICAgc2VnbWVudEVuZCA9IGNvbnRleHQuc2VnbWVudEVuZCxcbiAgICAgICAgc2VnbWVudEVuZEluZGV4ID0gY29udGV4dC5zZWdtZW50RW5kSW5kZXgsXG4gICAgICAgIGF4aXMgPSBjb250ZXh0LmF4aXM7XG5cbiAgICBpZiAoc25hcFBvaW50cykge1xuICAgICAgcmV0dXJuIHNuYXBQb2ludHM7XG4gICAgfVxuXG4gICAgdmFyIHJlZmVyZW5jZVdheXBvaW50cyA9IFtcbiAgICAgIHdheXBvaW50c1tzZWdtZW50U3RhcnRJbmRleCAtIDFdLFxuICAgICAgc2VnbWVudFN0YXJ0LFxuICAgICAgc2VnbWVudEVuZCxcbiAgICAgIHdheXBvaW50c1tzZWdtZW50RW5kSW5kZXggKyAxXVxuICAgIF07XG5cbiAgICBpZiAoc2VnbWVudFN0YXJ0SW5kZXggPCAyKSB7XG4gICAgICByZWZlcmVuY2VXYXlwb2ludHMudW5zaGlmdChnZXRTbmFwUG9pbnQoY29ubmVjdGlvbi5zb3VyY2UsIGV2ZW50KSk7XG4gICAgfVxuXG4gICAgaWYgKHNlZ21lbnRFbmRJbmRleCA+IHdheXBvaW50cy5sZW5ndGggLSAzKSB7XG4gICAgICByZWZlcmVuY2VXYXlwb2ludHMudW5zaGlmdChnZXRTbmFwUG9pbnQoY29ubmVjdGlvbi50YXJnZXQsIGV2ZW50KSk7XG4gICAgfVxuXG4gICAgY29udGV4dC5zbmFwUG9pbnRzID0gc25hcFBvaW50cyA9IHsgaG9yaXpvbnRhbDogW10gLCB2ZXJ0aWNhbDogW10gfTtcblxuICAgIGZvckVhY2gocmVmZXJlbmNlV2F5cG9pbnRzLCBmdW5jdGlvbihwKSB7XG5cbiAgICAgIC8vIHdlIHNuYXAgb24gZXhpc3RpbmcgYmVuZHBvaW50cyBvbmx5LFxuICAgICAgLy8gbm90IHBsYWNlaG9sZGVycyB0aGF0IGFyZSBpbnNlcnRlZCBkdXJpbmcgYWRkXG4gICAgICBpZiAocCkge1xuICAgICAgICBwID0gcC5vcmlnaW5hbCB8fCBwO1xuXG4gICAgICAgIGlmIChheGlzID09PSAneScpIHtcbiAgICAgICAgICBzbmFwUG9pbnRzLmhvcml6b250YWwucHVzaChwLnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF4aXMgPT09ICd4Jykge1xuICAgICAgICAgIHNuYXBQb2ludHMudmVydGljYWwucHVzaChwLngpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc25hcFBvaW50cztcbiAgfVxuXG4gIGV2ZW50QnVzLm9uKCdjb25uZWN0aW9uU2VnbWVudC5tb3ZlLm1vdmUnLCAxNTAwLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBzbmFwUG9pbnRzID0gZ2V0Q29ubmVjdGlvblNlZ21lbnRTbmFwcyhldmVudCksXG4gICAgICAgIHggPSBldmVudC54LFxuICAgICAgICB5ID0gZXZlbnQueSxcbiAgICAgICAgc3gsIHN5O1xuXG4gICAgaWYgKCFzbmFwUG9pbnRzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gc25hcFxuICAgIHN4ID0gc25hcFRvKHNuYXBQb2ludHMudmVydGljYWwsIHgpO1xuICAgIHN5ID0gc25hcFRvKHNuYXBQb2ludHMuaG9yaXpvbnRhbCwgeSk7XG5cblxuICAgIC8vIGNvcnJlY3Rpb24geC95XG4gICAgdmFyIGN4ID0gKHggLSBzeCksXG4gICAgICAgIGN5ID0gKHkgLSBzeSk7XG5cbiAgICAvLyB1cGRhdGUgZGVsdGFcbiAgICBhc3NpZ24oZXZlbnQsIHtcbiAgICAgIGR4OiBldmVudC5keCAtIGN4LFxuICAgICAgZHk6IGV2ZW50LmR5IC0gY3ksXG4gICAgICB4OiBzeCxcbiAgICAgIHk6IHN5XG4gICAgfSk7XG5cbiAgICAvLyBvbmx5IHNldCBzbmFwcGVkIGlmIGFjdHVhbGx5IHNuYXBwZWRcbiAgICBpZiAoY3ggfHwgc25hcFBvaW50cy52ZXJ0aWNhbC5pbmRleE9mKHgpICE9PSAtMSkge1xuICAgICAgc2V0U25hcHBlZChldmVudCwgJ3gnLCBzeCk7XG4gICAgfVxuXG4gICAgaWYgKGN5IHx8IHNuYXBQb2ludHMuaG9yaXpvbnRhbC5pbmRleE9mKHkpICE9PSAtMSkge1xuICAgICAgc2V0U25hcHBlZChldmVudCwgJ3knLCBzeSk7XG4gICAgfVxuICB9KTtcblxuXG4gIC8vIGJlbmRwb2ludCBzbmFwcGluZyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgZnVuY3Rpb24gZ2V0QmVuZHBvaW50U25hcHMoY29udGV4dCkge1xuXG4gICAgdmFyIHNuYXBQb2ludHMgPSBjb250ZXh0LnNuYXBQb2ludHMsXG4gICAgICAgIHdheXBvaW50cyA9IGNvbnRleHQuY29ubmVjdGlvbi53YXlwb2ludHMsXG4gICAgICAgIGJlbmRwb2ludEluZGV4ID0gY29udGV4dC5iZW5kcG9pbnRJbmRleDtcblxuICAgIGlmIChzbmFwUG9pbnRzKSB7XG4gICAgICByZXR1cm4gc25hcFBvaW50cztcbiAgICB9XG5cbiAgICB2YXIgcmVmZXJlbmNlV2F5cG9pbnRzID0gWyB3YXlwb2ludHNbYmVuZHBvaW50SW5kZXggLSAxXSwgd2F5cG9pbnRzW2JlbmRwb2ludEluZGV4ICsgMV0gXTtcblxuICAgIGNvbnRleHQuc25hcFBvaW50cyA9IHNuYXBQb2ludHMgPSB7IGhvcml6b250YWw6IFtdICwgdmVydGljYWw6IFtdIH07XG5cbiAgICBmb3JFYWNoKHJlZmVyZW5jZVdheXBvaW50cywgZnVuY3Rpb24ocCkge1xuXG4gICAgICAvLyB3ZSBzbmFwIG9uIGV4aXN0aW5nIGJlbmRwb2ludHMgb25seSxcbiAgICAgIC8vIG5vdCBwbGFjZWhvbGRlcnMgdGhhdCBhcmUgaW5zZXJ0ZWQgZHVyaW5nIGFkZFxuICAgICAgaWYgKHApIHtcbiAgICAgICAgcCA9IHAub3JpZ2luYWwgfHwgcDtcblxuICAgICAgICBzbmFwUG9pbnRzLmhvcml6b250YWwucHVzaChwLnkpO1xuICAgICAgICBzbmFwUG9pbnRzLnZlcnRpY2FsLnB1c2gocC54KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBzbmFwUG9pbnRzO1xuICB9XG5cbiAgLy8gU25hcCBFbmRwb2ludCBvZiBuZXcgY29ubmVjdGlvblxuICBldmVudEJ1cy5vbihbXG4gICAgJ2Nvbm5lY3QuaG92ZXInLFxuICAgICdjb25uZWN0Lm1vdmUnLFxuICAgICdjb25uZWN0LmVuZCdcbiAgXSwgMTUwMCwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGhvdmVyID0gY29udGV4dC5ob3ZlcixcbiAgICAgICAgaG92ZXJNaWQgPSBob3ZlciAmJiBnZXRTbmFwUG9pbnQoaG92ZXIsIGV2ZW50KTtcblxuICAgIC8vIG9ubHkgc25hcCBvbiBjb25uZWN0aW9ucywgZWxlbWVudHMgY2FuIGhhdmUgbXVsdGlwbGUgY29ubmVjdCBlbmRwb2ludHNcbiAgICBpZiAoIWlzQ29ubmVjdGlvbihob3ZlcikgfHwgIWhvdmVyTWlkIHx8ICFob3Zlck1pZC54IHx8ICFob3Zlck1pZC55KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0U25hcHBlZChldmVudCwgJ3gnLCBob3Zlck1pZC54KTtcbiAgICBzZXRTbmFwcGVkKGV2ZW50LCAneScsIGhvdmVyTWlkLnkpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbihbICdiZW5kcG9pbnQubW92ZS5tb3ZlJywgJ2JlbmRwb2ludC5tb3ZlLmVuZCcgXSwgMTUwMCwgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgc25hcFBvaW50cyA9IGdldEJlbmRwb2ludFNuYXBzKGNvbnRleHQpLFxuICAgICAgICBob3ZlciA9IGNvbnRleHQuaG92ZXIsXG4gICAgICAgIGhvdmVyTWlkID0gaG92ZXIgJiYgZ2V0U25hcFBvaW50KGhvdmVyLCBldmVudCksXG4gICAgICAgIHggPSBldmVudC54LFxuICAgICAgICB5ID0gZXZlbnQueSxcbiAgICAgICAgc3gsIHN5O1xuXG4gICAgaWYgKCFzbmFwUG9pbnRzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gc25hcCB0byBob3ZlciBtaWRcbiAgICBzeCA9IHNuYXBUbyhob3Zlck1pZCA/IHNuYXBQb2ludHMudmVydGljYWwuY29uY2F0KFsgaG92ZXJNaWQueCBdKSA6IHNuYXBQb2ludHMudmVydGljYWwsIHgpO1xuICAgIHN5ID0gc25hcFRvKGhvdmVyTWlkID8gc25hcFBvaW50cy5ob3Jpem9udGFsLmNvbmNhdChbIGhvdmVyTWlkLnkgXSkgOiBzbmFwUG9pbnRzLmhvcml6b250YWwsIHkpO1xuXG4gICAgLy8gY29ycmVjdGlvbiB4L3lcbiAgICB2YXIgY3ggPSAoeCAtIHN4KSxcbiAgICAgICAgY3kgPSAoeSAtIHN5KTtcblxuICAgIC8vIHVwZGF0ZSBkZWx0YVxuICAgIGFzc2lnbihldmVudCwge1xuICAgICAgZHg6IGV2ZW50LmR4IC0gY3gsXG4gICAgICBkeTogZXZlbnQuZHkgLSBjeSxcbiAgICAgIHg6IGV2ZW50LnggLSBjeCxcbiAgICAgIHk6IGV2ZW50LnkgLSBjeVxuICAgIH0pO1xuXG4gICAgLy8gb25seSBzZXQgc25hcHBlZCBpZiBhY3R1YWxseSBzbmFwcGVkXG4gICAgaWYgKGN4IHx8IHNuYXBQb2ludHMudmVydGljYWwuaW5kZXhPZih4KSAhPT0gLTEpIHtcbiAgICAgIHNldFNuYXBwZWQoZXZlbnQsICd4Jywgc3gpO1xuICAgIH1cblxuICAgIGlmIChjeSB8fCBzbmFwUG9pbnRzLmhvcml6b250YWwuaW5kZXhPZih5KSAhPT0gLTEpIHtcbiAgICAgIHNldFNuYXBwZWQoZXZlbnQsICd5Jywgc3kpO1xuICAgIH1cbiAgfSk7XG59XG5cblxuQmVuZHBvaW50U25hcHBpbmcuJGluamVjdCA9IFsgJ2V2ZW50QnVzJyBdO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/bendpoints/BendpointSnapping.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/bendpoints/BendpointUtil.js":
/*!**************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/bendpoints/BendpointUtil.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BENDPOINT_CLS: () => (/* binding */ BENDPOINT_CLS),\n/* harmony export */   SEGMENT_DRAGGER_CLS: () => (/* binding */ SEGMENT_DRAGGER_CLS),\n/* harmony export */   addBendpoint: () => (/* binding */ addBendpoint),\n/* harmony export */   addSegmentDragger: () => (/* binding */ addSegmentDragger),\n/* harmony export */   calculateSegmentMoveRegion: () => (/* binding */ calculateSegmentMoveRegion),\n/* harmony export */   getClosestPointOnConnection: () => (/* binding */ getClosestPointOnConnection),\n/* harmony export */   getConnectionIntersection: () => (/* binding */ getConnectionIntersection),\n/* harmony export */   toCanvasCoordinates: () => (/* binding */ toCanvasCoordinates)\n/* harmony export */ });\n/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/Event */ \"(ssr)/./node_modules/diagram-js/lib/util/Event.js\");\n/* harmony import */ var _util_Geometry__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/Geometry */ \"(ssr)/./node_modules/diagram-js/lib/util/Geometry.js\");\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/./node_modules/tiny-svg/dist/index.esm.js\");\n/* harmony import */ var _util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/SvgTransformUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/SvgTransformUtil.js\");\n/* harmony import */ var _util_LineIntersection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/LineIntersection */ \"(ssr)/./node_modules/diagram-js/lib/util/LineIntersection.js\");\n/* harmony import */ var _GeometricUtil__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./GeometricUtil */ \"(ssr)/./node_modules/diagram-js/lib/features/bendpoints/GeometricUtil.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('../../core/Types').ConnectionLike} Connection\n *\n * @typedef {import('../../util/Types').Point} Point\n */\n\nvar BENDPOINT_CLS = 'djs-bendpoint';\nvar SEGMENT_DRAGGER_CLS = 'djs-segment-dragger';\n\nfunction toCanvasCoordinates(canvas, event) {\n\n  var position = (0,_util_Event__WEBPACK_IMPORTED_MODULE_0__.toPoint)(event),\n      clientRect = canvas._container.getBoundingClientRect(),\n      offset;\n\n  // canvas relative position\n\n  offset = {\n    x: clientRect.left,\n    y: clientRect.top\n  };\n\n  // update actual event payload with canvas relative measures\n\n  var viewbox = canvas.viewbox();\n\n  return {\n    x: viewbox.x + (position.x - offset.x) / viewbox.scale,\n    y: viewbox.y + (position.y - offset.y) / viewbox.scale\n  };\n}\n\nfunction getConnectionIntersection(canvas, waypoints, event) {\n  var localPosition = toCanvasCoordinates(canvas, event),\n      intersection = (0,_util_LineIntersection__WEBPACK_IMPORTED_MODULE_1__.getApproxIntersection)(waypoints, localPosition);\n\n  return intersection;\n}\n\nfunction addBendpoint(parentGfx, cls) {\n  var groupGfx = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.create)('g');\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.classes)(groupGfx).add(BENDPOINT_CLS);\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.append)(parentGfx, groupGfx);\n\n  var visual = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.create)('circle');\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.attr)(visual, {\n    cx: 0,\n    cy: 0,\n    r: 4\n  });\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.classes)(visual).add('djs-visual');\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.append)(groupGfx, visual);\n\n  var hit = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.create)('circle');\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.attr)(hit, {\n    cx: 0,\n    cy: 0,\n    r: 10\n  });\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.classes)(hit).add('djs-hit');\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.append)(groupGfx, hit);\n\n  if (cls) {\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.classes)(groupGfx).add(cls);\n  }\n\n  return groupGfx;\n}\n\nfunction createParallelDragger(parentGfx, segmentStart, segmentEnd, alignment) {\n  var draggerGfx = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.create)('g');\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.append)(parentGfx, draggerGfx);\n\n  var width = 18,\n      height = 6,\n      padding = 11,\n      hitWidth = calculateHitWidth(segmentStart, segmentEnd, alignment),\n      hitHeight = height + padding;\n\n  var visual = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.create)('rect');\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.attr)(visual, {\n    x: -width / 2,\n    y: -height / 2,\n    width: width,\n    height: height\n  });\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.classes)(visual).add('djs-visual');\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.append)(draggerGfx, visual);\n\n  var hit = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.create)('rect');\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.attr)(hit, {\n    x: -hitWidth / 2,\n    y: -hitHeight / 2,\n    width: hitWidth,\n    height: hitHeight\n  });\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.classes)(hit).add('djs-hit');\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.append)(draggerGfx, hit);\n\n  (0,_util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_3__.rotate)(draggerGfx, alignment === 'v' ? 90 : 0, 0, 0);\n\n  return draggerGfx;\n}\n\n\nfunction addSegmentDragger(parentGfx, segmentStart, segmentEnd) {\n\n  var groupGfx = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.create)('g'),\n      mid = (0,_util_Geometry__WEBPACK_IMPORTED_MODULE_4__.getMidPoint)(segmentStart, segmentEnd),\n      alignment = (0,_util_Geometry__WEBPACK_IMPORTED_MODULE_4__.pointsAligned)(segmentStart, segmentEnd);\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.append)(parentGfx, groupGfx);\n\n  createParallelDragger(groupGfx, segmentStart, segmentEnd, alignment);\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.classes)(groupGfx).add(SEGMENT_DRAGGER_CLS);\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.classes)(groupGfx).add(alignment === 'h' ? 'horizontal' : 'vertical');\n\n  (0,_util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_3__.translate)(groupGfx, mid.x, mid.y);\n\n  return groupGfx;\n}\n\n/**\n * Calculates region for segment move which is 2/3 of the full segment length\n * @param {number} segmentLength\n *\n * @return {number}\n */\nfunction calculateSegmentMoveRegion(segmentLength) {\n  return Math.abs(Math.round(segmentLength * 2 / 3));\n}\n\n/**\n * Returns the point with the closest distance that is on the connection path.\n *\n * @param {Point} position\n * @param {Connection} connection\n * @return {Point}\n */\nfunction getClosestPointOnConnection(position, connection) {\n  var segment = getClosestSegment(position, connection);\n\n  return (0,_GeometricUtil__WEBPACK_IMPORTED_MODULE_5__.perpendicularFoot)(position, segment);\n}\n\n\n// helper //////////\n\nfunction calculateHitWidth(segmentStart, segmentEnd, alignment) {\n  var segmentLengthXAxis = segmentEnd.x - segmentStart.x,\n      segmentLengthYAxis = segmentEnd.y - segmentStart.y;\n\n  return alignment === 'h' ?\n    calculateSegmentMoveRegion(segmentLengthXAxis) :\n    calculateSegmentMoveRegion(segmentLengthYAxis);\n}\n\nfunction getClosestSegment(position, connection) {\n  var waypoints = connection.waypoints;\n\n  var minDistance = Infinity,\n      segmentIndex;\n\n  for (var i = 0; i < waypoints.length - 1; i++) {\n    var start = waypoints[i],\n        end = waypoints[i + 1],\n        distance = (0,_GeometricUtil__WEBPACK_IMPORTED_MODULE_5__.getDistancePointLine)(position, [ start, end ]);\n\n    if (distance < minDistance) {\n      minDistance = distance;\n      segmentIndex = i;\n    }\n  }\n\n  return [ waypoints[segmentIndex], waypoints[segmentIndex + 1] ];\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYmVuZHBvaW50cy9CZW5kcG9pbnRVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRTBCOztBQUtHOztBQU9YOztBQUttQjs7QUFJQTs7QUFFcUM7O0FBRTFFO0FBQ0EsYUFBYSwyQ0FBMkM7QUFDeEQ7QUFDQSxhQUFhLGtDQUFrQztBQUMvQzs7QUFFTztBQUNBOztBQUVBOztBQUVQLGlCQUFpQixvREFBTztBQUN4QjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBLHFCQUFxQiw2RUFBcUI7O0FBRTFDO0FBQ0E7O0FBRU87QUFDUCxpQkFBaUIsZ0RBQVM7QUFDMUIsRUFBRSxpREFBVTs7QUFFWixFQUFFLGdEQUFTOztBQUVYLGVBQWUsZ0RBQVM7QUFDeEIsRUFBRSw4Q0FBTztBQUNUO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFLGlEQUFVOztBQUVaLEVBQUUsZ0RBQVM7O0FBRVgsWUFBWSxnREFBUztBQUNyQixFQUFFLDhDQUFPO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUUsaURBQVU7O0FBRVosRUFBRSxnREFBUzs7QUFFWDtBQUNBLElBQUksaURBQVU7QUFDZDs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CLGdEQUFTOztBQUU1QixFQUFFLGdEQUFTOztBQUVYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZUFBZSxnREFBUztBQUN4QixFQUFFLDhDQUFPO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRSxpREFBVTs7QUFFWixFQUFFLGdEQUFTOztBQUVYLFlBQVksZ0RBQVM7QUFDckIsRUFBRSw4Q0FBTztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUUsaURBQVU7O0FBRVosRUFBRSxnREFBUzs7QUFFWCxFQUFFLDhEQUFNOztBQUVSO0FBQ0E7OztBQUdPOztBQUVQLGlCQUFpQixnREFBUztBQUMxQixZQUFZLDJEQUFXO0FBQ3ZCLGtCQUFrQiw2REFBYTs7QUFFL0IsRUFBRSxnREFBUzs7QUFFWDs7QUFFQSxFQUFFLGlEQUFVO0FBQ1osRUFBRSxpREFBVTs7QUFFWixFQUFFLGlFQUFTOztBQUVYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVk7QUFDWjtBQUNPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxZQUFZO0FBQ3ZCLFlBQVk7QUFDWjtBQUNPO0FBQ1A7O0FBRUEsU0FBUyxpRUFBaUI7QUFDMUI7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsa0JBQWtCLDBCQUEwQjtBQUM1QztBQUNBO0FBQ0EsbUJBQW1CLG9FQUFvQjs7QUFFdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2JlbmRwb2ludHMvQmVuZHBvaW50VXRpbC5qcz8yN2UzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHRvUG9pbnRcbn0gZnJvbSAnLi4vLi4vdXRpbC9FdmVudCc7XG5cbmltcG9ydCB7XG4gIGdldE1pZFBvaW50LFxuICBwb2ludHNBbGlnbmVkXG59IGZyb20gJy4uLy4uL3V0aWwvR2VvbWV0cnknO1xuXG5pbXBvcnQge1xuICBhcHBlbmQgYXMgc3ZnQXBwZW5kLFxuICBhdHRyIGFzIHN2Z0F0dHIsXG4gIGNsYXNzZXMgYXMgc3ZnQ2xhc3NlcyxcbiAgY3JlYXRlIGFzIHN2Z0NyZWF0ZVxufSBmcm9tICd0aW55LXN2Zyc7XG5cbmltcG9ydCB7XG4gIHJvdGF0ZSxcbiAgdHJhbnNsYXRlXG59IGZyb20gJy4uLy4uL3V0aWwvU3ZnVHJhbnNmb3JtVXRpbCc7XG5cbmltcG9ydCB7XG4gIGdldEFwcHJveEludGVyc2VjdGlvblxufSBmcm9tICcuLi8uLi91dGlsL0xpbmVJbnRlcnNlY3Rpb24nO1xuXG5pbXBvcnQgeyBnZXREaXN0YW5jZVBvaW50TGluZSwgcGVycGVuZGljdWxhckZvb3QgfSBmcm9tICcuL0dlb21ldHJpY1V0aWwnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvVHlwZXMnKS5Db25uZWN0aW9uTGlrZX0gQ29ubmVjdGlvblxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL3V0aWwvVHlwZXMnKS5Qb2ludH0gUG9pbnRcbiAqL1xuXG5leHBvcnQgdmFyIEJFTkRQT0lOVF9DTFMgPSAnZGpzLWJlbmRwb2ludCc7XG5leHBvcnQgdmFyIFNFR01FTlRfRFJBR0dFUl9DTFMgPSAnZGpzLXNlZ21lbnQtZHJhZ2dlcic7XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0NhbnZhc0Nvb3JkaW5hdGVzKGNhbnZhcywgZXZlbnQpIHtcblxuICB2YXIgcG9zaXRpb24gPSB0b1BvaW50KGV2ZW50KSxcbiAgICAgIGNsaWVudFJlY3QgPSBjYW52YXMuX2NvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgIG9mZnNldDtcblxuICAvLyBjYW52YXMgcmVsYXRpdmUgcG9zaXRpb25cblxuICBvZmZzZXQgPSB7XG4gICAgeDogY2xpZW50UmVjdC5sZWZ0LFxuICAgIHk6IGNsaWVudFJlY3QudG9wXG4gIH07XG5cbiAgLy8gdXBkYXRlIGFjdHVhbCBldmVudCBwYXlsb2FkIHdpdGggY2FudmFzIHJlbGF0aXZlIG1lYXN1cmVzXG5cbiAgdmFyIHZpZXdib3ggPSBjYW52YXMudmlld2JveCgpO1xuXG4gIHJldHVybiB7XG4gICAgeDogdmlld2JveC54ICsgKHBvc2l0aW9uLnggLSBvZmZzZXQueCkgLyB2aWV3Ym94LnNjYWxlLFxuICAgIHk6IHZpZXdib3gueSArIChwb3NpdGlvbi55IC0gb2Zmc2V0LnkpIC8gdmlld2JveC5zY2FsZVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29ubmVjdGlvbkludGVyc2VjdGlvbihjYW52YXMsIHdheXBvaW50cywgZXZlbnQpIHtcbiAgdmFyIGxvY2FsUG9zaXRpb24gPSB0b0NhbnZhc0Nvb3JkaW5hdGVzKGNhbnZhcywgZXZlbnQpLFxuICAgICAgaW50ZXJzZWN0aW9uID0gZ2V0QXBwcm94SW50ZXJzZWN0aW9uKHdheXBvaW50cywgbG9jYWxQb3NpdGlvbik7XG5cbiAgcmV0dXJuIGludGVyc2VjdGlvbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEJlbmRwb2ludChwYXJlbnRHZngsIGNscykge1xuICB2YXIgZ3JvdXBHZnggPSBzdmdDcmVhdGUoJ2cnKTtcbiAgc3ZnQ2xhc3Nlcyhncm91cEdmeCkuYWRkKEJFTkRQT0lOVF9DTFMpO1xuXG4gIHN2Z0FwcGVuZChwYXJlbnRHZngsIGdyb3VwR2Z4KTtcblxuICB2YXIgdmlzdWFsID0gc3ZnQ3JlYXRlKCdjaXJjbGUnKTtcbiAgc3ZnQXR0cih2aXN1YWwsIHtcbiAgICBjeDogMCxcbiAgICBjeTogMCxcbiAgICByOiA0XG4gIH0pO1xuICBzdmdDbGFzc2VzKHZpc3VhbCkuYWRkKCdkanMtdmlzdWFsJyk7XG5cbiAgc3ZnQXBwZW5kKGdyb3VwR2Z4LCB2aXN1YWwpO1xuXG4gIHZhciBoaXQgPSBzdmdDcmVhdGUoJ2NpcmNsZScpO1xuICBzdmdBdHRyKGhpdCwge1xuICAgIGN4OiAwLFxuICAgIGN5OiAwLFxuICAgIHI6IDEwXG4gIH0pO1xuICBzdmdDbGFzc2VzKGhpdCkuYWRkKCdkanMtaGl0Jyk7XG5cbiAgc3ZnQXBwZW5kKGdyb3VwR2Z4LCBoaXQpO1xuXG4gIGlmIChjbHMpIHtcbiAgICBzdmdDbGFzc2VzKGdyb3VwR2Z4KS5hZGQoY2xzKTtcbiAgfVxuXG4gIHJldHVybiBncm91cEdmeDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUGFyYWxsZWxEcmFnZ2VyKHBhcmVudEdmeCwgc2VnbWVudFN0YXJ0LCBzZWdtZW50RW5kLCBhbGlnbm1lbnQpIHtcbiAgdmFyIGRyYWdnZXJHZnggPSBzdmdDcmVhdGUoJ2cnKTtcblxuICBzdmdBcHBlbmQocGFyZW50R2Z4LCBkcmFnZ2VyR2Z4KTtcblxuICB2YXIgd2lkdGggPSAxOCxcbiAgICAgIGhlaWdodCA9IDYsXG4gICAgICBwYWRkaW5nID0gMTEsXG4gICAgICBoaXRXaWR0aCA9IGNhbGN1bGF0ZUhpdFdpZHRoKHNlZ21lbnRTdGFydCwgc2VnbWVudEVuZCwgYWxpZ25tZW50KSxcbiAgICAgIGhpdEhlaWdodCA9IGhlaWdodCArIHBhZGRpbmc7XG5cbiAgdmFyIHZpc3VhbCA9IHN2Z0NyZWF0ZSgncmVjdCcpO1xuICBzdmdBdHRyKHZpc3VhbCwge1xuICAgIHg6IC13aWR0aCAvIDIsXG4gICAgeTogLWhlaWdodCAvIDIsXG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0XG4gIH0pO1xuICBzdmdDbGFzc2VzKHZpc3VhbCkuYWRkKCdkanMtdmlzdWFsJyk7XG5cbiAgc3ZnQXBwZW5kKGRyYWdnZXJHZngsIHZpc3VhbCk7XG5cbiAgdmFyIGhpdCA9IHN2Z0NyZWF0ZSgncmVjdCcpO1xuICBzdmdBdHRyKGhpdCwge1xuICAgIHg6IC1oaXRXaWR0aCAvIDIsXG4gICAgeTogLWhpdEhlaWdodCAvIDIsXG4gICAgd2lkdGg6IGhpdFdpZHRoLFxuICAgIGhlaWdodDogaGl0SGVpZ2h0XG4gIH0pO1xuICBzdmdDbGFzc2VzKGhpdCkuYWRkKCdkanMtaGl0Jyk7XG5cbiAgc3ZnQXBwZW5kKGRyYWdnZXJHZngsIGhpdCk7XG5cbiAgcm90YXRlKGRyYWdnZXJHZngsIGFsaWdubWVudCA9PT0gJ3YnID8gOTAgOiAwLCAwLCAwKTtcblxuICByZXR1cm4gZHJhZ2dlckdmeDtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gYWRkU2VnbWVudERyYWdnZXIocGFyZW50R2Z4LCBzZWdtZW50U3RhcnQsIHNlZ21lbnRFbmQpIHtcblxuICB2YXIgZ3JvdXBHZnggPSBzdmdDcmVhdGUoJ2cnKSxcbiAgICAgIG1pZCA9IGdldE1pZFBvaW50KHNlZ21lbnRTdGFydCwgc2VnbWVudEVuZCksXG4gICAgICBhbGlnbm1lbnQgPSBwb2ludHNBbGlnbmVkKHNlZ21lbnRTdGFydCwgc2VnbWVudEVuZCk7XG5cbiAgc3ZnQXBwZW5kKHBhcmVudEdmeCwgZ3JvdXBHZngpO1xuXG4gIGNyZWF0ZVBhcmFsbGVsRHJhZ2dlcihncm91cEdmeCwgc2VnbWVudFN0YXJ0LCBzZWdtZW50RW5kLCBhbGlnbm1lbnQpO1xuXG4gIHN2Z0NsYXNzZXMoZ3JvdXBHZngpLmFkZChTRUdNRU5UX0RSQUdHRVJfQ0xTKTtcbiAgc3ZnQ2xhc3Nlcyhncm91cEdmeCkuYWRkKGFsaWdubWVudCA9PT0gJ2gnID8gJ2hvcml6b250YWwnIDogJ3ZlcnRpY2FsJyk7XG5cbiAgdHJhbnNsYXRlKGdyb3VwR2Z4LCBtaWQueCwgbWlkLnkpO1xuXG4gIHJldHVybiBncm91cEdmeDtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHJlZ2lvbiBmb3Igc2VnbWVudCBtb3ZlIHdoaWNoIGlzIDIvMyBvZiB0aGUgZnVsbCBzZWdtZW50IGxlbmd0aFxuICogQHBhcmFtIHtudW1iZXJ9IHNlZ21lbnRMZW5ndGhcbiAqXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVTZWdtZW50TW92ZVJlZ2lvbihzZWdtZW50TGVuZ3RoKSB7XG4gIHJldHVybiBNYXRoLmFicyhNYXRoLnJvdW5kKHNlZ21lbnRMZW5ndGggKiAyIC8gMykpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHBvaW50IHdpdGggdGhlIGNsb3Nlc3QgZGlzdGFuY2UgdGhhdCBpcyBvbiB0aGUgY29ubmVjdGlvbiBwYXRoLlxuICpcbiAqIEBwYXJhbSB7UG9pbnR9IHBvc2l0aW9uXG4gKiBAcGFyYW0ge0Nvbm5lY3Rpb259IGNvbm5lY3Rpb25cbiAqIEByZXR1cm4ge1BvaW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2xvc2VzdFBvaW50T25Db25uZWN0aW9uKHBvc2l0aW9uLCBjb25uZWN0aW9uKSB7XG4gIHZhciBzZWdtZW50ID0gZ2V0Q2xvc2VzdFNlZ21lbnQocG9zaXRpb24sIGNvbm5lY3Rpb24pO1xuXG4gIHJldHVybiBwZXJwZW5kaWN1bGFyRm9vdChwb3NpdGlvbiwgc2VnbWVudCk7XG59XG5cblxuLy8gaGVscGVyIC8vLy8vLy8vLy9cblxuZnVuY3Rpb24gY2FsY3VsYXRlSGl0V2lkdGgoc2VnbWVudFN0YXJ0LCBzZWdtZW50RW5kLCBhbGlnbm1lbnQpIHtcbiAgdmFyIHNlZ21lbnRMZW5ndGhYQXhpcyA9IHNlZ21lbnRFbmQueCAtIHNlZ21lbnRTdGFydC54LFxuICAgICAgc2VnbWVudExlbmd0aFlBeGlzID0gc2VnbWVudEVuZC55IC0gc2VnbWVudFN0YXJ0Lnk7XG5cbiAgcmV0dXJuIGFsaWdubWVudCA9PT0gJ2gnID9cbiAgICBjYWxjdWxhdGVTZWdtZW50TW92ZVJlZ2lvbihzZWdtZW50TGVuZ3RoWEF4aXMpIDpcbiAgICBjYWxjdWxhdGVTZWdtZW50TW92ZVJlZ2lvbihzZWdtZW50TGVuZ3RoWUF4aXMpO1xufVxuXG5mdW5jdGlvbiBnZXRDbG9zZXN0U2VnbWVudChwb3NpdGlvbiwgY29ubmVjdGlvbikge1xuICB2YXIgd2F5cG9pbnRzID0gY29ubmVjdGlvbi53YXlwb2ludHM7XG5cbiAgdmFyIG1pbkRpc3RhbmNlID0gSW5maW5pdHksXG4gICAgICBzZWdtZW50SW5kZXg7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB3YXlwb2ludHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgdmFyIHN0YXJ0ID0gd2F5cG9pbnRzW2ldLFxuICAgICAgICBlbmQgPSB3YXlwb2ludHNbaSArIDFdLFxuICAgICAgICBkaXN0YW5jZSA9IGdldERpc3RhbmNlUG9pbnRMaW5lKHBvc2l0aW9uLCBbIHN0YXJ0LCBlbmQgXSk7XG5cbiAgICBpZiAoZGlzdGFuY2UgPCBtaW5EaXN0YW5jZSkge1xuICAgICAgbWluRGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICAgIHNlZ21lbnRJbmRleCA9IGk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFsgd2F5cG9pbnRzW3NlZ21lbnRJbmRleF0sIHdheXBvaW50c1tzZWdtZW50SW5kZXggKyAxXSBdO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/bendpoints/BendpointUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/bendpoints/Bendpoints.js":
/*!***********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/bendpoints/Bendpoints.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Bendpoints)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dom */ \"(ssr)/./node_modules/min-dom/dist/index.esm.js\");\n/* harmony import */ var _BendpointUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BendpointUtil */ \"(ssr)/./node_modules/diagram-js/lib/features/bendpoints/BendpointUtil.js\");\n/* harmony import */ var _util_EscapeUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/EscapeUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/EscapeUtil.js\");\n/* harmony import */ var _util_Geometry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/Geometry */ \"(ssr)/./node_modules/diagram-js/lib/util/Geometry.js\");\n/* harmony import */ var _util_Mouse__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/Mouse */ \"(ssr)/./node_modules/diagram-js/lib/util/Mouse.js\");\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/./node_modules/tiny-svg/dist/index.esm.js\");\n/* harmony import */ var _util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/SvgTransformUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/SvgTransformUtil.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('../bendpoints/BendpointMove').default} BendpointMove\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../bendpoints/ConnectionSegmentMove').default} ConnectionSegmentMove\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../interaction-events/InteractionEvents').default} InteractionEvents\n */\n\n/**\n * A service that adds editable bendpoints to connections.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {InteractionEvents} interactionEvents\n * @param {BendpointMove} bendpointMove\n * @param {ConnectionSegmentMove} connectionSegmentMove\n */\nfunction Bendpoints(\n    eventBus, canvas, interactionEvents,\n    bendpointMove, connectionSegmentMove) {\n\n  /**\n   * Returns true if intersection point is inside middle region of segment, adjusted by\n   * optional threshold\n   */\n  function isIntersectionMiddle(intersection, waypoints, treshold) {\n    var idx = intersection.index,\n        p = intersection.point,\n        p0, p1, mid, aligned, xDelta, yDelta;\n\n    if (idx <= 0 || intersection.bendpoint) {\n      return false;\n    }\n\n    p0 = waypoints[idx - 1];\n    p1 = waypoints[idx];\n    mid = (0,_util_Geometry__WEBPACK_IMPORTED_MODULE_0__.getMidPoint)(p0, p1),\n    aligned = (0,_util_Geometry__WEBPACK_IMPORTED_MODULE_0__.pointsAligned)(p0, p1);\n    xDelta = Math.abs(p.x - mid.x);\n    yDelta = Math.abs(p.y - mid.y);\n\n    return aligned && xDelta <= treshold && yDelta <= treshold;\n  }\n\n  /**\n   * Calculates the threshold from a connection's middle which fits the two-third-region\n   */\n  function calculateIntersectionThreshold(connection, intersection) {\n    var waypoints = connection.waypoints,\n        relevantSegment, alignment, segmentLength, threshold;\n\n    if (intersection.index <= 0 || intersection.bendpoint) {\n      return null;\n    }\n\n    // segment relative to connection intersection\n    relevantSegment = {\n      start: waypoints[intersection.index - 1],\n      end: waypoints[intersection.index]\n    };\n\n    alignment = (0,_util_Geometry__WEBPACK_IMPORTED_MODULE_0__.pointsAligned)(relevantSegment.start, relevantSegment.end);\n\n    if (!alignment) {\n      return null;\n    }\n\n    if (alignment === 'h') {\n      segmentLength = relevantSegment.end.x - relevantSegment.start.x;\n    } else {\n      segmentLength = relevantSegment.end.y - relevantSegment.start.y;\n    }\n\n    // calculate threshold relative to 2/3 of segment length\n    threshold = (0,_BendpointUtil__WEBPACK_IMPORTED_MODULE_1__.calculateSegmentMoveRegion)(segmentLength) / 2;\n\n    return threshold;\n  }\n\n  function activateBendpointMove(event, connection) {\n    var waypoints = connection.waypoints,\n        intersection = (0,_BendpointUtil__WEBPACK_IMPORTED_MODULE_1__.getConnectionIntersection)(canvas, waypoints, event),\n        threshold;\n\n    if (!intersection) {\n      return;\n    }\n\n    threshold = calculateIntersectionThreshold(connection, intersection);\n\n    if (isIntersectionMiddle(intersection, waypoints, threshold)) {\n      connectionSegmentMove.start(event, connection, intersection.index);\n    } else {\n      bendpointMove.start(event, connection, intersection.index, !intersection.bendpoint);\n    }\n\n    // we've handled the event\n    return true;\n  }\n\n  function bindInteractionEvents(node, eventName, element) {\n\n    min_dom__WEBPACK_IMPORTED_MODULE_2__.event.bind(node, eventName, function(event) {\n      interactionEvents.triggerMouseEvent(eventName, event, element);\n      event.stopPropagation();\n    });\n  }\n\n  function getBendpointsContainer(element, create) {\n\n    var layer = canvas.getLayer('overlays'),\n        gfx = (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.query)('.djs-bendpoints[data-element-id=\"' + (0,_util_EscapeUtil__WEBPACK_IMPORTED_MODULE_3__.escapeCSS)(element.id) + '\"]', layer);\n\n    if (!gfx && create) {\n      gfx = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_4__.create)('g');\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_4__.attr)(gfx, { 'data-element-id': element.id });\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_4__.classes)(gfx).add('djs-bendpoints');\n\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_4__.append)(layer, gfx);\n\n      bindInteractionEvents(gfx, 'mousedown', element);\n      bindInteractionEvents(gfx, 'click', element);\n      bindInteractionEvents(gfx, 'dblclick', element);\n    }\n\n    return gfx;\n  }\n\n  function getSegmentDragger(idx, parentGfx) {\n    return (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.query)(\n      '.djs-segment-dragger[data-segment-idx=\"' + idx + '\"]',\n      parentGfx\n    );\n  }\n\n  function createBendpoints(gfx, connection) {\n    connection.waypoints.forEach(function(p, idx) {\n      var bendpoint = (0,_BendpointUtil__WEBPACK_IMPORTED_MODULE_1__.addBendpoint)(gfx);\n\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_4__.append)(gfx, bendpoint);\n\n      (0,_util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_5__.translate)(bendpoint, p.x, p.y);\n    });\n\n    // add floating bendpoint\n    (0,_BendpointUtil__WEBPACK_IMPORTED_MODULE_1__.addBendpoint)(gfx, 'floating');\n  }\n\n  function createSegmentDraggers(gfx, connection) {\n\n    var waypoints = connection.waypoints;\n\n    var segmentStart,\n        segmentEnd,\n        segmentDraggerGfx;\n\n    for (var i = 1; i < waypoints.length; i++) {\n\n      segmentStart = waypoints[i - 1];\n      segmentEnd = waypoints[i];\n\n      if ((0,_util_Geometry__WEBPACK_IMPORTED_MODULE_0__.pointsAligned)(segmentStart, segmentEnd)) {\n        segmentDraggerGfx = (0,_BendpointUtil__WEBPACK_IMPORTED_MODULE_1__.addSegmentDragger)(gfx, segmentStart, segmentEnd);\n\n        (0,tiny_svg__WEBPACK_IMPORTED_MODULE_4__.attr)(segmentDraggerGfx, { 'data-segment-idx': i });\n\n        bindInteractionEvents(segmentDraggerGfx, 'mousemove', connection);\n      }\n    }\n  }\n\n  function clearBendpoints(gfx) {\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_6__.forEach)((0,min_dom__WEBPACK_IMPORTED_MODULE_2__.queryAll)('.' + _BendpointUtil__WEBPACK_IMPORTED_MODULE_1__.BENDPOINT_CLS, gfx), function(node) {\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_4__.remove)(node);\n    });\n  }\n\n  function clearSegmentDraggers(gfx) {\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_6__.forEach)((0,min_dom__WEBPACK_IMPORTED_MODULE_2__.queryAll)('.' + _BendpointUtil__WEBPACK_IMPORTED_MODULE_1__.SEGMENT_DRAGGER_CLS, gfx), function(node) {\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_4__.remove)(node);\n    });\n  }\n\n  function addHandles(connection) {\n\n    var gfx = getBendpointsContainer(connection);\n\n    if (!gfx) {\n      gfx = getBendpointsContainer(connection, true);\n\n      createBendpoints(gfx, connection);\n      createSegmentDraggers(gfx, connection);\n    }\n\n    return gfx;\n  }\n\n  function updateHandles(connection) {\n\n    var gfx = getBendpointsContainer(connection);\n\n    if (gfx) {\n      clearSegmentDraggers(gfx);\n      clearBendpoints(gfx);\n      createSegmentDraggers(gfx, connection);\n      createBendpoints(gfx, connection);\n    }\n  }\n\n  function updateFloatingBendpointPosition(parentGfx, intersection) {\n    var floating = (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.query)('.floating', parentGfx),\n        point = intersection.point;\n\n    if (!floating) {\n      return;\n    }\n\n    (0,_util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_5__.translate)(floating, point.x, point.y);\n\n  }\n\n  function updateSegmentDraggerPosition(parentGfx, intersection, waypoints) {\n\n    var draggerGfx = getSegmentDragger(intersection.index, parentGfx),\n        segmentStart = waypoints[intersection.index - 1],\n        segmentEnd = waypoints[intersection.index],\n        point = intersection.point,\n        mid = (0,_util_Geometry__WEBPACK_IMPORTED_MODULE_0__.getMidPoint)(segmentStart, segmentEnd),\n        alignment = (0,_util_Geometry__WEBPACK_IMPORTED_MODULE_0__.pointsAligned)(segmentStart, segmentEnd),\n        draggerVisual, relativePosition;\n\n    if (!draggerGfx) {\n      return;\n    }\n\n    draggerVisual = getDraggerVisual(draggerGfx);\n\n    relativePosition = {\n      x: point.x - mid.x,\n      y: point.y - mid.y\n    };\n\n    if (alignment === 'v') {\n\n      // rotate position\n      relativePosition = {\n        x: relativePosition.y,\n        y: relativePosition.x\n      };\n    }\n\n    (0,_util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_5__.translate)(draggerVisual, relativePosition.x, relativePosition.y);\n  }\n\n  eventBus.on('connection.changed', function(event) {\n    updateHandles(event.element);\n  });\n\n  eventBus.on('connection.remove', function(event) {\n    var gfx = getBendpointsContainer(event.element);\n\n    if (gfx) {\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_4__.remove)(gfx);\n    }\n  });\n\n  eventBus.on('element.marker.update', function(event) {\n\n    var element = event.element,\n        bendpointsGfx;\n\n    if (!element.waypoints) {\n      return;\n    }\n\n    bendpointsGfx = addHandles(element);\n\n    if (event.add) {\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_4__.classes)(bendpointsGfx).add(event.marker);\n    } else {\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_4__.classes)(bendpointsGfx).remove(event.marker);\n    }\n  });\n\n  eventBus.on('element.mousemove', function(event) {\n\n    var element = event.element,\n        waypoints = element.waypoints,\n        bendpointsGfx,\n        intersection;\n\n    if (waypoints) {\n      bendpointsGfx = getBendpointsContainer(element, true);\n\n      intersection = (0,_BendpointUtil__WEBPACK_IMPORTED_MODULE_1__.getConnectionIntersection)(canvas, waypoints, event.originalEvent);\n\n      if (!intersection) {\n        return;\n      }\n\n      updateFloatingBendpointPosition(bendpointsGfx, intersection);\n\n      if (!intersection.bendpoint) {\n        updateSegmentDraggerPosition(bendpointsGfx, intersection, waypoints);\n      }\n\n    }\n  });\n\n  eventBus.on('element.mousedown', function(event) {\n\n    if (!(0,_util_Mouse__WEBPACK_IMPORTED_MODULE_7__.isPrimaryButton)(event)) {\n      return;\n    }\n\n    var originalEvent = event.originalEvent,\n        element = event.element;\n\n    if (!element.waypoints) {\n      return;\n    }\n\n    return activateBendpointMove(originalEvent, element);\n  });\n\n  eventBus.on('selection.changed', function(event) {\n    var newSelection = event.newSelection,\n        primary = newSelection[0];\n\n    if (primary && primary.waypoints) {\n      addHandles(primary);\n    }\n  });\n\n  eventBus.on('element.hover', function(event) {\n    var element = event.element;\n\n    if (element.waypoints) {\n      addHandles(element);\n      interactionEvents.registerEvent(event.gfx, 'mousemove', 'element.mousemove');\n    }\n  });\n\n  eventBus.on('element.out', function(event) {\n    interactionEvents.unregisterEvent(event.gfx, 'mousemove', 'element.mousemove');\n  });\n\n  // update bendpoint container data attribute on element ID change\n  eventBus.on('element.updateId', function(context) {\n    var element = context.element,\n        newId = context.newId;\n\n    if (element.waypoints) {\n      var bendpointContainer = getBendpointsContainer(element);\n\n      if (bendpointContainer) {\n        (0,tiny_svg__WEBPACK_IMPORTED_MODULE_4__.attr)(bendpointContainer, { 'data-element-id': newId });\n      }\n    }\n  });\n\n  // API\n\n  this.addHandles = addHandles;\n  this.updateHandles = updateHandles;\n  this.getBendpointsContainer = getBendpointsContainer;\n  this.getSegmentDragger = getSegmentDragger;\n}\n\nBendpoints.$inject = [\n  'eventBus',\n  'canvas',\n  'interactionEvents',\n  'bendpointMove',\n  'connectionSegmentMove'\n];\n\n\n\n// helper /////////////\n\nfunction getDraggerVisual(draggerGfx) {\n  return (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.query)('.djs-visual', draggerGfx);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYmVuZHBvaW50cy9CZW5kcG9pbnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFtQzs7QUFNbEI7O0FBU1E7O0FBSU07O0FBS0Y7O0FBSUg7O0FBUVI7O0FBSW1COztBQUVyQztBQUNBLGFBQWEsK0NBQStDO0FBQzVELGFBQWEscUNBQXFDO0FBQ2xELGFBQWEsdURBQXVEO0FBQ3BFLGFBQWEsdUNBQXVDO0FBQ3BELGFBQWEsMkRBQTJEO0FBQ3hFOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxtQkFBbUI7QUFDOUIsV0FBVyxlQUFlO0FBQzFCLFdBQVcsdUJBQXVCO0FBQ2xDO0FBQ2U7QUFDZjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVLDJEQUFXO0FBQ3JCLGNBQWMsNkRBQWE7QUFDM0I7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnQkFBZ0IsNkRBQWE7O0FBRTdCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0IsMEVBQTBCOztBQUUxQztBQUNBOztBQUVBO0FBQ0E7QUFDQSx1QkFBdUIseUVBQXlCO0FBQ2hEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLElBQUksMENBQVE7QUFDWjtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBOztBQUVBO0FBQ0EsY0FBYyw4Q0FBUSx1Q0FBdUMsMkRBQVM7O0FBRXRFO0FBQ0EsWUFBWSxnREFBUztBQUNyQixNQUFNLDhDQUFPLFFBQVEsK0JBQStCO0FBQ3BELE1BQU0saURBQVU7O0FBRWhCLE1BQU0sZ0RBQVM7O0FBRWY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFdBQVcsOENBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNCQUFzQiw0REFBWTs7QUFFbEMsTUFBTSxnREFBUzs7QUFFZixNQUFNLGlFQUFTO0FBQ2YsS0FBSzs7QUFFTDtBQUNBLElBQUksNERBQVk7QUFDaEI7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBLG9CQUFvQixzQkFBc0I7O0FBRTFDO0FBQ0E7O0FBRUEsVUFBVSw2REFBYTtBQUN2Qiw0QkFBNEIsaUVBQWlCOztBQUU3QyxRQUFRLDhDQUFPLHNCQUFzQix1QkFBdUI7O0FBRTVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSSxpREFBTyxDQUFDLGlEQUFXLE9BQU8seURBQWE7QUFDM0MsTUFBTSxnREFBUztBQUNmLEtBQUs7QUFDTDs7QUFFQTtBQUNBLElBQUksaURBQU8sQ0FBQyxpREFBVyxPQUFPLCtEQUFtQjtBQUNqRCxNQUFNLGdEQUFTO0FBQ2YsS0FBSztBQUNMOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQkFBbUIsOENBQVE7QUFDM0I7O0FBRUE7QUFDQTtBQUNBOztBQUVBLElBQUksaUVBQVM7O0FBRWI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDJEQUFXO0FBQ3pCLG9CQUFvQiw2REFBYTtBQUNqQzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQUksaUVBQVM7QUFDYjs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0EsTUFBTSxnREFBUztBQUNmO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLE1BQU0saURBQVU7QUFDaEIsTUFBTTtBQUNOLE1BQU0saURBQVU7QUFDaEI7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEscUJBQXFCLHlFQUF5Qjs7QUFFOUM7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUEsU0FBUyw0REFBZTtBQUN4QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsUUFBUSw4Q0FBTyx1QkFBdUIsMEJBQTBCO0FBQ2hFO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTs7QUFFQTtBQUNBLFNBQVMsOENBQVE7QUFDakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYmVuZHBvaW50cy9CZW5kcG9pbnRzLmpzPzFhY2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZm9yRWFjaCB9IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgZXZlbnQgYXMgZG9tRXZlbnQsXG4gIHF1ZXJ5IGFzIGRvbVF1ZXJ5LFxuICBxdWVyeUFsbCBhcyBkb21RdWVyeUFsbFxufSBmcm9tICdtaW4tZG9tJztcblxuaW1wb3J0IHtcbiAgQkVORFBPSU5UX0NMUyxcbiAgU0VHTUVOVF9EUkFHR0VSX0NMUyxcbiAgYWRkQmVuZHBvaW50LFxuICBhZGRTZWdtZW50RHJhZ2dlcixcbiAgY2FsY3VsYXRlU2VnbWVudE1vdmVSZWdpb24sXG4gIGdldENvbm5lY3Rpb25JbnRlcnNlY3Rpb25cbn0gZnJvbSAnLi9CZW5kcG9pbnRVdGlsJztcblxuaW1wb3J0IHtcbiAgZXNjYXBlQ1NTXG59IGZyb20gJy4uLy4uL3V0aWwvRXNjYXBlVXRpbCc7XG5cbmltcG9ydCB7XG4gIHBvaW50c0FsaWduZWQsXG4gIGdldE1pZFBvaW50XG59IGZyb20gJy4uLy4uL3V0aWwvR2VvbWV0cnknO1xuXG5pbXBvcnQge1xuICBpc1ByaW1hcnlCdXR0b25cbn0gZnJvbSAnLi4vLi4vdXRpbC9Nb3VzZSc7XG5cbmltcG9ydCB7XG4gIGFwcGVuZCBhcyBzdmdBcHBlbmQsXG4gIGF0dHIgYXMgc3ZnQXR0cixcbiAgY2xhc3NlcyBhcyBzdmdDbGFzc2VzLFxuICBjcmVhdGUgYXMgc3ZnQ3JlYXRlLFxuICByZW1vdmUgYXMgc3ZnUmVtb3ZlXG59IGZyb20gJ3Rpbnktc3ZnJztcblxuaW1wb3J0IHtcbiAgdHJhbnNsYXRlXG59IGZyb20gJy4uLy4uL3V0aWwvU3ZnVHJhbnNmb3JtVXRpbCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vYmVuZHBvaW50cy9CZW5kcG9pbnRNb3ZlJykuZGVmYXVsdH0gQmVuZHBvaW50TW92ZVxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9DYW52YXMnKS5kZWZhdWx0fSBDYW52YXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2JlbmRwb2ludHMvQ29ubmVjdGlvblNlZ21lbnRNb3ZlJykuZGVmYXVsdH0gQ29ubmVjdGlvblNlZ21lbnRNb3ZlXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2ludGVyYWN0aW9uLWV2ZW50cy9JbnRlcmFjdGlvbkV2ZW50cycpLmRlZmF1bHR9IEludGVyYWN0aW9uRXZlbnRzXG4gKi9cblxuLyoqXG4gKiBBIHNlcnZpY2UgdGhhdCBhZGRzIGVkaXRhYmxlIGJlbmRwb2ludHMgdG8gY29ubmVjdGlvbnMuXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqIEBwYXJhbSB7SW50ZXJhY3Rpb25FdmVudHN9IGludGVyYWN0aW9uRXZlbnRzXG4gKiBAcGFyYW0ge0JlbmRwb2ludE1vdmV9IGJlbmRwb2ludE1vdmVcbiAqIEBwYXJhbSB7Q29ubmVjdGlvblNlZ21lbnRNb3ZlfSBjb25uZWN0aW9uU2VnbWVudE1vdmVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQmVuZHBvaW50cyhcbiAgICBldmVudEJ1cywgY2FudmFzLCBpbnRlcmFjdGlvbkV2ZW50cyxcbiAgICBiZW5kcG9pbnRNb3ZlLCBjb25uZWN0aW9uU2VnbWVudE1vdmUpIHtcblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIGludGVyc2VjdGlvbiBwb2ludCBpcyBpbnNpZGUgbWlkZGxlIHJlZ2lvbiBvZiBzZWdtZW50LCBhZGp1c3RlZCBieVxuICAgKiBvcHRpb25hbCB0aHJlc2hvbGRcbiAgICovXG4gIGZ1bmN0aW9uIGlzSW50ZXJzZWN0aW9uTWlkZGxlKGludGVyc2VjdGlvbiwgd2F5cG9pbnRzLCB0cmVzaG9sZCkge1xuICAgIHZhciBpZHggPSBpbnRlcnNlY3Rpb24uaW5kZXgsXG4gICAgICAgIHAgPSBpbnRlcnNlY3Rpb24ucG9pbnQsXG4gICAgICAgIHAwLCBwMSwgbWlkLCBhbGlnbmVkLCB4RGVsdGEsIHlEZWx0YTtcblxuICAgIGlmIChpZHggPD0gMCB8fCBpbnRlcnNlY3Rpb24uYmVuZHBvaW50KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcDAgPSB3YXlwb2ludHNbaWR4IC0gMV07XG4gICAgcDEgPSB3YXlwb2ludHNbaWR4XTtcbiAgICBtaWQgPSBnZXRNaWRQb2ludChwMCwgcDEpLFxuICAgIGFsaWduZWQgPSBwb2ludHNBbGlnbmVkKHAwLCBwMSk7XG4gICAgeERlbHRhID0gTWF0aC5hYnMocC54IC0gbWlkLngpO1xuICAgIHlEZWx0YSA9IE1hdGguYWJzKHAueSAtIG1pZC55KTtcblxuICAgIHJldHVybiBhbGlnbmVkICYmIHhEZWx0YSA8PSB0cmVzaG9sZCAmJiB5RGVsdGEgPD0gdHJlc2hvbGQ7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlcyB0aGUgdGhyZXNob2xkIGZyb20gYSBjb25uZWN0aW9uJ3MgbWlkZGxlIHdoaWNoIGZpdHMgdGhlIHR3by10aGlyZC1yZWdpb25cbiAgICovXG4gIGZ1bmN0aW9uIGNhbGN1bGF0ZUludGVyc2VjdGlvblRocmVzaG9sZChjb25uZWN0aW9uLCBpbnRlcnNlY3Rpb24pIHtcbiAgICB2YXIgd2F5cG9pbnRzID0gY29ubmVjdGlvbi53YXlwb2ludHMsXG4gICAgICAgIHJlbGV2YW50U2VnbWVudCwgYWxpZ25tZW50LCBzZWdtZW50TGVuZ3RoLCB0aHJlc2hvbGQ7XG5cbiAgICBpZiAoaW50ZXJzZWN0aW9uLmluZGV4IDw9IDAgfHwgaW50ZXJzZWN0aW9uLmJlbmRwb2ludCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gc2VnbWVudCByZWxhdGl2ZSB0byBjb25uZWN0aW9uIGludGVyc2VjdGlvblxuICAgIHJlbGV2YW50U2VnbWVudCA9IHtcbiAgICAgIHN0YXJ0OiB3YXlwb2ludHNbaW50ZXJzZWN0aW9uLmluZGV4IC0gMV0sXG4gICAgICBlbmQ6IHdheXBvaW50c1tpbnRlcnNlY3Rpb24uaW5kZXhdXG4gICAgfTtcblxuICAgIGFsaWdubWVudCA9IHBvaW50c0FsaWduZWQocmVsZXZhbnRTZWdtZW50LnN0YXJ0LCByZWxldmFudFNlZ21lbnQuZW5kKTtcblxuICAgIGlmICghYWxpZ25tZW50KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoYWxpZ25tZW50ID09PSAnaCcpIHtcbiAgICAgIHNlZ21lbnRMZW5ndGggPSByZWxldmFudFNlZ21lbnQuZW5kLnggLSByZWxldmFudFNlZ21lbnQuc3RhcnQueDtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VnbWVudExlbmd0aCA9IHJlbGV2YW50U2VnbWVudC5lbmQueSAtIHJlbGV2YW50U2VnbWVudC5zdGFydC55O1xuICAgIH1cblxuICAgIC8vIGNhbGN1bGF0ZSB0aHJlc2hvbGQgcmVsYXRpdmUgdG8gMi8zIG9mIHNlZ21lbnQgbGVuZ3RoXG4gICAgdGhyZXNob2xkID0gY2FsY3VsYXRlU2VnbWVudE1vdmVSZWdpb24oc2VnbWVudExlbmd0aCkgLyAyO1xuXG4gICAgcmV0dXJuIHRocmVzaG9sZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFjdGl2YXRlQmVuZHBvaW50TW92ZShldmVudCwgY29ubmVjdGlvbikge1xuICAgIHZhciB3YXlwb2ludHMgPSBjb25uZWN0aW9uLndheXBvaW50cyxcbiAgICAgICAgaW50ZXJzZWN0aW9uID0gZ2V0Q29ubmVjdGlvbkludGVyc2VjdGlvbihjYW52YXMsIHdheXBvaW50cywgZXZlbnQpLFxuICAgICAgICB0aHJlc2hvbGQ7XG5cbiAgICBpZiAoIWludGVyc2VjdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRocmVzaG9sZCA9IGNhbGN1bGF0ZUludGVyc2VjdGlvblRocmVzaG9sZChjb25uZWN0aW9uLCBpbnRlcnNlY3Rpb24pO1xuXG4gICAgaWYgKGlzSW50ZXJzZWN0aW9uTWlkZGxlKGludGVyc2VjdGlvbiwgd2F5cG9pbnRzLCB0aHJlc2hvbGQpKSB7XG4gICAgICBjb25uZWN0aW9uU2VnbWVudE1vdmUuc3RhcnQoZXZlbnQsIGNvbm5lY3Rpb24sIGludGVyc2VjdGlvbi5pbmRleCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJlbmRwb2ludE1vdmUuc3RhcnQoZXZlbnQsIGNvbm5lY3Rpb24sIGludGVyc2VjdGlvbi5pbmRleCwgIWludGVyc2VjdGlvbi5iZW5kcG9pbnQpO1xuICAgIH1cblxuICAgIC8vIHdlJ3ZlIGhhbmRsZWQgdGhlIGV2ZW50XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBiaW5kSW50ZXJhY3Rpb25FdmVudHMobm9kZSwgZXZlbnROYW1lLCBlbGVtZW50KSB7XG5cbiAgICBkb21FdmVudC5iaW5kKG5vZGUsIGV2ZW50TmFtZSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGludGVyYWN0aW9uRXZlbnRzLnRyaWdnZXJNb3VzZUV2ZW50KGV2ZW50TmFtZSwgZXZlbnQsIGVsZW1lbnQpO1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRCZW5kcG9pbnRzQ29udGFpbmVyKGVsZW1lbnQsIGNyZWF0ZSkge1xuXG4gICAgdmFyIGxheWVyID0gY2FudmFzLmdldExheWVyKCdvdmVybGF5cycpLFxuICAgICAgICBnZnggPSBkb21RdWVyeSgnLmRqcy1iZW5kcG9pbnRzW2RhdGEtZWxlbWVudC1pZD1cIicgKyBlc2NhcGVDU1MoZWxlbWVudC5pZCkgKyAnXCJdJywgbGF5ZXIpO1xuXG4gICAgaWYgKCFnZnggJiYgY3JlYXRlKSB7XG4gICAgICBnZnggPSBzdmdDcmVhdGUoJ2cnKTtcbiAgICAgIHN2Z0F0dHIoZ2Z4LCB7ICdkYXRhLWVsZW1lbnQtaWQnOiBlbGVtZW50LmlkIH0pO1xuICAgICAgc3ZnQ2xhc3NlcyhnZngpLmFkZCgnZGpzLWJlbmRwb2ludHMnKTtcblxuICAgICAgc3ZnQXBwZW5kKGxheWVyLCBnZngpO1xuXG4gICAgICBiaW5kSW50ZXJhY3Rpb25FdmVudHMoZ2Z4LCAnbW91c2Vkb3duJywgZWxlbWVudCk7XG4gICAgICBiaW5kSW50ZXJhY3Rpb25FdmVudHMoZ2Z4LCAnY2xpY2snLCBlbGVtZW50KTtcbiAgICAgIGJpbmRJbnRlcmFjdGlvbkV2ZW50cyhnZngsICdkYmxjbGljaycsIGVsZW1lbnQpO1xuICAgIH1cblxuICAgIHJldHVybiBnZng7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTZWdtZW50RHJhZ2dlcihpZHgsIHBhcmVudEdmeCkge1xuICAgIHJldHVybiBkb21RdWVyeShcbiAgICAgICcuZGpzLXNlZ21lbnQtZHJhZ2dlcltkYXRhLXNlZ21lbnQtaWR4PVwiJyArIGlkeCArICdcIl0nLFxuICAgICAgcGFyZW50R2Z4XG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUJlbmRwb2ludHMoZ2Z4LCBjb25uZWN0aW9uKSB7XG4gICAgY29ubmVjdGlvbi53YXlwb2ludHMuZm9yRWFjaChmdW5jdGlvbihwLCBpZHgpIHtcbiAgICAgIHZhciBiZW5kcG9pbnQgPSBhZGRCZW5kcG9pbnQoZ2Z4KTtcblxuICAgICAgc3ZnQXBwZW5kKGdmeCwgYmVuZHBvaW50KTtcblxuICAgICAgdHJhbnNsYXRlKGJlbmRwb2ludCwgcC54LCBwLnkpO1xuICAgIH0pO1xuXG4gICAgLy8gYWRkIGZsb2F0aW5nIGJlbmRwb2ludFxuICAgIGFkZEJlbmRwb2ludChnZngsICdmbG9hdGluZycpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlU2VnbWVudERyYWdnZXJzKGdmeCwgY29ubmVjdGlvbikge1xuXG4gICAgdmFyIHdheXBvaW50cyA9IGNvbm5lY3Rpb24ud2F5cG9pbnRzO1xuXG4gICAgdmFyIHNlZ21lbnRTdGFydCxcbiAgICAgICAgc2VnbWVudEVuZCxcbiAgICAgICAgc2VnbWVudERyYWdnZXJHZng7XG5cbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IHdheXBvaW50cy5sZW5ndGg7IGkrKykge1xuXG4gICAgICBzZWdtZW50U3RhcnQgPSB3YXlwb2ludHNbaSAtIDFdO1xuICAgICAgc2VnbWVudEVuZCA9IHdheXBvaW50c1tpXTtcblxuICAgICAgaWYgKHBvaW50c0FsaWduZWQoc2VnbWVudFN0YXJ0LCBzZWdtZW50RW5kKSkge1xuICAgICAgICBzZWdtZW50RHJhZ2dlckdmeCA9IGFkZFNlZ21lbnREcmFnZ2VyKGdmeCwgc2VnbWVudFN0YXJ0LCBzZWdtZW50RW5kKTtcblxuICAgICAgICBzdmdBdHRyKHNlZ21lbnREcmFnZ2VyR2Z4LCB7ICdkYXRhLXNlZ21lbnQtaWR4JzogaSB9KTtcblxuICAgICAgICBiaW5kSW50ZXJhY3Rpb25FdmVudHMoc2VnbWVudERyYWdnZXJHZngsICdtb3VzZW1vdmUnLCBjb25uZWN0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjbGVhckJlbmRwb2ludHMoZ2Z4KSB7XG4gICAgZm9yRWFjaChkb21RdWVyeUFsbCgnLicgKyBCRU5EUE9JTlRfQ0xTLCBnZngpLCBmdW5jdGlvbihub2RlKSB7XG4gICAgICBzdmdSZW1vdmUobm9kZSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjbGVhclNlZ21lbnREcmFnZ2VycyhnZngpIHtcbiAgICBmb3JFYWNoKGRvbVF1ZXJ5QWxsKCcuJyArIFNFR01FTlRfRFJBR0dFUl9DTFMsIGdmeCksIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIHN2Z1JlbW92ZShub2RlKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZEhhbmRsZXMoY29ubmVjdGlvbikge1xuXG4gICAgdmFyIGdmeCA9IGdldEJlbmRwb2ludHNDb250YWluZXIoY29ubmVjdGlvbik7XG5cbiAgICBpZiAoIWdmeCkge1xuICAgICAgZ2Z4ID0gZ2V0QmVuZHBvaW50c0NvbnRhaW5lcihjb25uZWN0aW9uLCB0cnVlKTtcblxuICAgICAgY3JlYXRlQmVuZHBvaW50cyhnZngsIGNvbm5lY3Rpb24pO1xuICAgICAgY3JlYXRlU2VnbWVudERyYWdnZXJzKGdmeCwgY29ubmVjdGlvbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdmeDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUhhbmRsZXMoY29ubmVjdGlvbikge1xuXG4gICAgdmFyIGdmeCA9IGdldEJlbmRwb2ludHNDb250YWluZXIoY29ubmVjdGlvbik7XG5cbiAgICBpZiAoZ2Z4KSB7XG4gICAgICBjbGVhclNlZ21lbnREcmFnZ2VycyhnZngpO1xuICAgICAgY2xlYXJCZW5kcG9pbnRzKGdmeCk7XG4gICAgICBjcmVhdGVTZWdtZW50RHJhZ2dlcnMoZ2Z4LCBjb25uZWN0aW9uKTtcbiAgICAgIGNyZWF0ZUJlbmRwb2ludHMoZ2Z4LCBjb25uZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVGbG9hdGluZ0JlbmRwb2ludFBvc2l0aW9uKHBhcmVudEdmeCwgaW50ZXJzZWN0aW9uKSB7XG4gICAgdmFyIGZsb2F0aW5nID0gZG9tUXVlcnkoJy5mbG9hdGluZycsIHBhcmVudEdmeCksXG4gICAgICAgIHBvaW50ID0gaW50ZXJzZWN0aW9uLnBvaW50O1xuXG4gICAgaWYgKCFmbG9hdGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyYW5zbGF0ZShmbG9hdGluZywgcG9pbnQueCwgcG9pbnQueSk7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVNlZ21lbnREcmFnZ2VyUG9zaXRpb24ocGFyZW50R2Z4LCBpbnRlcnNlY3Rpb24sIHdheXBvaW50cykge1xuXG4gICAgdmFyIGRyYWdnZXJHZnggPSBnZXRTZWdtZW50RHJhZ2dlcihpbnRlcnNlY3Rpb24uaW5kZXgsIHBhcmVudEdmeCksXG4gICAgICAgIHNlZ21lbnRTdGFydCA9IHdheXBvaW50c1tpbnRlcnNlY3Rpb24uaW5kZXggLSAxXSxcbiAgICAgICAgc2VnbWVudEVuZCA9IHdheXBvaW50c1tpbnRlcnNlY3Rpb24uaW5kZXhdLFxuICAgICAgICBwb2ludCA9IGludGVyc2VjdGlvbi5wb2ludCxcbiAgICAgICAgbWlkID0gZ2V0TWlkUG9pbnQoc2VnbWVudFN0YXJ0LCBzZWdtZW50RW5kKSxcbiAgICAgICAgYWxpZ25tZW50ID0gcG9pbnRzQWxpZ25lZChzZWdtZW50U3RhcnQsIHNlZ21lbnRFbmQpLFxuICAgICAgICBkcmFnZ2VyVmlzdWFsLCByZWxhdGl2ZVBvc2l0aW9uO1xuXG4gICAgaWYgKCFkcmFnZ2VyR2Z4KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZHJhZ2dlclZpc3VhbCA9IGdldERyYWdnZXJWaXN1YWwoZHJhZ2dlckdmeCk7XG5cbiAgICByZWxhdGl2ZVBvc2l0aW9uID0ge1xuICAgICAgeDogcG9pbnQueCAtIG1pZC54LFxuICAgICAgeTogcG9pbnQueSAtIG1pZC55XG4gICAgfTtcblxuICAgIGlmIChhbGlnbm1lbnQgPT09ICd2Jykge1xuXG4gICAgICAvLyByb3RhdGUgcG9zaXRpb25cbiAgICAgIHJlbGF0aXZlUG9zaXRpb24gPSB7XG4gICAgICAgIHg6IHJlbGF0aXZlUG9zaXRpb24ueSxcbiAgICAgICAgeTogcmVsYXRpdmVQb3NpdGlvbi54XG4gICAgICB9O1xuICAgIH1cblxuICAgIHRyYW5zbGF0ZShkcmFnZ2VyVmlzdWFsLCByZWxhdGl2ZVBvc2l0aW9uLngsIHJlbGF0aXZlUG9zaXRpb24ueSk7XG4gIH1cblxuICBldmVudEJ1cy5vbignY29ubmVjdGlvbi5jaGFuZ2VkJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB1cGRhdGVIYW5kbGVzKGV2ZW50LmVsZW1lbnQpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignY29ubmVjdGlvbi5yZW1vdmUnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBnZnggPSBnZXRCZW5kcG9pbnRzQ29udGFpbmVyKGV2ZW50LmVsZW1lbnQpO1xuXG4gICAgaWYgKGdmeCkge1xuICAgICAgc3ZnUmVtb3ZlKGdmeCk7XG4gICAgfVxuICB9KTtcblxuICBldmVudEJ1cy5vbignZWxlbWVudC5tYXJrZXIudXBkYXRlJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBlbGVtZW50ID0gZXZlbnQuZWxlbWVudCxcbiAgICAgICAgYmVuZHBvaW50c0dmeDtcblxuICAgIGlmICghZWxlbWVudC53YXlwb2ludHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBiZW5kcG9pbnRzR2Z4ID0gYWRkSGFuZGxlcyhlbGVtZW50KTtcblxuICAgIGlmIChldmVudC5hZGQpIHtcbiAgICAgIHN2Z0NsYXNzZXMoYmVuZHBvaW50c0dmeCkuYWRkKGV2ZW50Lm1hcmtlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN2Z0NsYXNzZXMoYmVuZHBvaW50c0dmeCkucmVtb3ZlKGV2ZW50Lm1hcmtlcik7XG4gICAgfVxuICB9KTtcblxuICBldmVudEJ1cy5vbignZWxlbWVudC5tb3VzZW1vdmUnLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGVsZW1lbnQgPSBldmVudC5lbGVtZW50LFxuICAgICAgICB3YXlwb2ludHMgPSBlbGVtZW50LndheXBvaW50cyxcbiAgICAgICAgYmVuZHBvaW50c0dmeCxcbiAgICAgICAgaW50ZXJzZWN0aW9uO1xuXG4gICAgaWYgKHdheXBvaW50cykge1xuICAgICAgYmVuZHBvaW50c0dmeCA9IGdldEJlbmRwb2ludHNDb250YWluZXIoZWxlbWVudCwgdHJ1ZSk7XG5cbiAgICAgIGludGVyc2VjdGlvbiA9IGdldENvbm5lY3Rpb25JbnRlcnNlY3Rpb24oY2FudmFzLCB3YXlwb2ludHMsIGV2ZW50Lm9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICBpZiAoIWludGVyc2VjdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZUZsb2F0aW5nQmVuZHBvaW50UG9zaXRpb24oYmVuZHBvaW50c0dmeCwgaW50ZXJzZWN0aW9uKTtcblxuICAgICAgaWYgKCFpbnRlcnNlY3Rpb24uYmVuZHBvaW50KSB7XG4gICAgICAgIHVwZGF0ZVNlZ21lbnREcmFnZ2VyUG9zaXRpb24oYmVuZHBvaW50c0dmeCwgaW50ZXJzZWN0aW9uLCB3YXlwb2ludHMpO1xuICAgICAgfVxuXG4gICAgfVxuICB9KTtcblxuICBldmVudEJ1cy5vbignZWxlbWVudC5tb3VzZWRvd24nLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgaWYgKCFpc1ByaW1hcnlCdXR0b24oZXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG9yaWdpbmFsRXZlbnQgPSBldmVudC5vcmlnaW5hbEV2ZW50LFxuICAgICAgICBlbGVtZW50ID0gZXZlbnQuZWxlbWVudDtcblxuICAgIGlmICghZWxlbWVudC53YXlwb2ludHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gYWN0aXZhdGVCZW5kcG9pbnRNb3ZlKG9yaWdpbmFsRXZlbnQsIGVsZW1lbnQpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignc2VsZWN0aW9uLmNoYW5nZWQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBuZXdTZWxlY3Rpb24gPSBldmVudC5uZXdTZWxlY3Rpb24sXG4gICAgICAgIHByaW1hcnkgPSBuZXdTZWxlY3Rpb25bMF07XG5cbiAgICBpZiAocHJpbWFyeSAmJiBwcmltYXJ5LndheXBvaW50cykge1xuICAgICAgYWRkSGFuZGxlcyhwcmltYXJ5KTtcbiAgICB9XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdlbGVtZW50LmhvdmVyJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgZWxlbWVudCA9IGV2ZW50LmVsZW1lbnQ7XG5cbiAgICBpZiAoZWxlbWVudC53YXlwb2ludHMpIHtcbiAgICAgIGFkZEhhbmRsZXMoZWxlbWVudCk7XG4gICAgICBpbnRlcmFjdGlvbkV2ZW50cy5yZWdpc3RlckV2ZW50KGV2ZW50LmdmeCwgJ21vdXNlbW92ZScsICdlbGVtZW50Lm1vdXNlbW92ZScpO1xuICAgIH1cbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2VsZW1lbnQub3V0JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBpbnRlcmFjdGlvbkV2ZW50cy51bnJlZ2lzdGVyRXZlbnQoZXZlbnQuZ2Z4LCAnbW91c2Vtb3ZlJywgJ2VsZW1lbnQubW91c2Vtb3ZlJyk7XG4gIH0pO1xuXG4gIC8vIHVwZGF0ZSBiZW5kcG9pbnQgY29udGFpbmVyIGRhdGEgYXR0cmlidXRlIG9uIGVsZW1lbnQgSUQgY2hhbmdlXG4gIGV2ZW50QnVzLm9uKCdlbGVtZW50LnVwZGF0ZUlkJywgZnVuY3Rpb24oY29udGV4dCkge1xuICAgIHZhciBlbGVtZW50ID0gY29udGV4dC5lbGVtZW50LFxuICAgICAgICBuZXdJZCA9IGNvbnRleHQubmV3SWQ7XG5cbiAgICBpZiAoZWxlbWVudC53YXlwb2ludHMpIHtcbiAgICAgIHZhciBiZW5kcG9pbnRDb250YWluZXIgPSBnZXRCZW5kcG9pbnRzQ29udGFpbmVyKGVsZW1lbnQpO1xuXG4gICAgICBpZiAoYmVuZHBvaW50Q29udGFpbmVyKSB7XG4gICAgICAgIHN2Z0F0dHIoYmVuZHBvaW50Q29udGFpbmVyLCB7ICdkYXRhLWVsZW1lbnQtaWQnOiBuZXdJZCB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8vIEFQSVxuXG4gIHRoaXMuYWRkSGFuZGxlcyA9IGFkZEhhbmRsZXM7XG4gIHRoaXMudXBkYXRlSGFuZGxlcyA9IHVwZGF0ZUhhbmRsZXM7XG4gIHRoaXMuZ2V0QmVuZHBvaW50c0NvbnRhaW5lciA9IGdldEJlbmRwb2ludHNDb250YWluZXI7XG4gIHRoaXMuZ2V0U2VnbWVudERyYWdnZXIgPSBnZXRTZWdtZW50RHJhZ2dlcjtcbn1cblxuQmVuZHBvaW50cy4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnY2FudmFzJyxcbiAgJ2ludGVyYWN0aW9uRXZlbnRzJyxcbiAgJ2JlbmRwb2ludE1vdmUnLFxuICAnY29ubmVjdGlvblNlZ21lbnRNb3ZlJ1xuXTtcblxuXG5cbi8vIGhlbHBlciAvLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGdldERyYWdnZXJWaXN1YWwoZHJhZ2dlckdmeCkge1xuICByZXR1cm4gZG9tUXVlcnkoJy5kanMtdmlzdWFsJywgZHJhZ2dlckdmeCk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/bendpoints/Bendpoints.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/bendpoints/ConnectionSegmentMove.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/bendpoints/ConnectionSegmentMove.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ConnectionSegmentMove)\n/* harmony export */ });\n/* harmony import */ var _util_Geometry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/Geometry */ \"(ssr)/./node_modules/diagram-js/lib/util/Geometry.js\");\n/* harmony import */ var _BendpointUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BendpointUtil */ \"(ssr)/./node_modules/diagram-js/lib/features/bendpoints/BendpointUtil.js\");\n/* harmony import */ var _layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../layout/LayoutUtil */ \"(ssr)/./node_modules/diagram-js/lib/layout/LayoutUtil.js\");\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/./node_modules/tiny-svg/dist/index.esm.js\");\n/* harmony import */ var _util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/SvgTransformUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/SvgTransformUtil.js\");\n\n\n\n\n\n\nvar MARKER_CONNECT_HOVER = 'connect-hover',\n    MARKER_CONNECT_UPDATING = 'djs-updating';\n\n\n\n\n\n/**\n * @typedef {import('../../model/Types').Shape} Shape\n *\n * @typedef {import('../../util/Types').Axis} Axis\n * @typedef {import('../../util/Types').Point} Point\n *\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../dragging/Dragging').default} Dragging\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../../core/GraphicsFactory').default} GraphicsFactory\n * @typedef {import('../modeling/Modeling').default} Modeling\n */\n\nfunction axisAdd(point, axis, delta) {\n  return axisSet(point, axis, point[axis] + delta);\n}\n\nfunction axisSet(point, axis, value) {\n  return {\n    x: (axis === 'x' ? value : point.x),\n    y: (axis === 'y' ? value : point.y)\n  };\n}\n\nfunction axisFenced(position, segmentStart, segmentEnd, axis) {\n\n  var maxValue = Math.max(segmentStart[axis], segmentEnd[axis]),\n      minValue = Math.min(segmentStart[axis], segmentEnd[axis]);\n\n  var padding = 20;\n\n  var fencedValue = Math.min(Math.max(minValue + padding, position[axis]), maxValue - padding);\n\n  return axisSet(segmentStart, axis, fencedValue);\n}\n\nfunction flipAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\n\n/**\n * Get the docking point on the given element.\n *\n * Compute a reasonable docking, if non exists.\n *\n * @param {Point} point\n * @param {Shape} referenceElement\n * @param {Axis} moveAxis\n *\n * @return {Point}\n */\nfunction getDocking(point, referenceElement, moveAxis) {\n\n  var referenceMid,\n      inverseAxis;\n\n  if (point.original) {\n    return point.original;\n  } else {\n    referenceMid = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_0__.getMid)(referenceElement);\n    inverseAxis = flipAxis(moveAxis);\n\n    return axisSet(point, inverseAxis, referenceMid[inverseAxis]);\n  }\n}\n\n/**\n * A component that implements moving of bendpoints.\n *\n * @param {Injector} injector\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {Canvas} dragging\n * @param {GraphicsFactory} graphicsFactory\n * @param {Modeling} modeling\n */\nfunction ConnectionSegmentMove(\n    injector, eventBus, canvas,\n    dragging, graphicsFactory, modeling) {\n\n  // optional connection docking integration\n  var connectionDocking = injector.get('connectionDocking', false);\n\n\n  // API\n\n  this.start = function(event, connection, idx) {\n\n    var context,\n        gfx = canvas.getGraphics(connection),\n        segmentStartIndex = idx - 1,\n        segmentEndIndex = idx,\n        waypoints = connection.waypoints,\n        segmentStart = waypoints[segmentStartIndex],\n        segmentEnd = waypoints[segmentEndIndex],\n        intersection = (0,_BendpointUtil__WEBPACK_IMPORTED_MODULE_1__.getConnectionIntersection)(canvas, waypoints, event),\n        direction, axis, dragPosition;\n\n    direction = (0,_util_Geometry__WEBPACK_IMPORTED_MODULE_2__.pointsAligned)(segmentStart, segmentEnd);\n\n    // do not move diagonal connection\n    if (!direction) {\n      return;\n    }\n\n    // the axis where we are going to move things\n    axis = direction === 'v' ? 'x' : 'y';\n\n    if (segmentStartIndex === 0) {\n      segmentStart = getDocking(segmentStart, connection.source, axis);\n    }\n\n    if (segmentEndIndex === waypoints.length - 1) {\n      segmentEnd = getDocking(segmentEnd, connection.target, axis);\n    }\n\n    if (intersection) {\n      dragPosition = intersection.point;\n    } else {\n\n      // set to segment center as default\n      dragPosition = {\n        x: (segmentStart.x + segmentEnd.x) / 2,\n        y: (segmentStart.y + segmentEnd.y) / 2\n      };\n    }\n\n    context = {\n      connection: connection,\n      segmentStartIndex: segmentStartIndex,\n      segmentEndIndex: segmentEndIndex,\n      segmentStart: segmentStart,\n      segmentEnd: segmentEnd,\n      axis: axis,\n      dragPosition: dragPosition\n    };\n\n    dragging.init(event, dragPosition, 'connectionSegment.move', {\n      cursor: axis === 'x' ? 'resize-ew' : 'resize-ns',\n      data: {\n        connection: connection,\n        connectionGfx: gfx,\n        context: context\n      }\n    });\n  };\n\n  /**\n   * Crop connection if connection cropping is provided.\n   *\n   * @param {Connection} connection\n   * @param {Point[]} newWaypoints\n   *\n   * @return {Point[]} cropped connection waypoints\n   */\n  function cropConnection(connection, newWaypoints) {\n\n    // crop connection, if docking service is provided only\n    if (!connectionDocking) {\n      return newWaypoints;\n    }\n\n    var oldWaypoints = connection.waypoints,\n        croppedWaypoints;\n\n    // temporary set new waypoints\n    connection.waypoints = newWaypoints;\n\n    croppedWaypoints = connectionDocking.getCroppedWaypoints(connection);\n\n    // restore old waypoints\n    connection.waypoints = oldWaypoints;\n\n    return croppedWaypoints;\n  }\n\n  // DRAGGING IMPLEMENTATION\n\n  function redrawConnection(data) {\n    graphicsFactory.update('connection', data.connection, data.connectionGfx);\n  }\n\n  function updateDragger(context, segmentOffset, event) {\n\n    var newWaypoints = context.newWaypoints,\n        segmentStartIndex = context.segmentStartIndex + segmentOffset,\n        segmentStart = newWaypoints[segmentStartIndex],\n        segmentEndIndex = context.segmentEndIndex + segmentOffset,\n        segmentEnd = newWaypoints[segmentEndIndex],\n        axis = flipAxis(context.axis);\n\n    // make sure the dragger does not move\n    // outside the connection\n    var draggerPosition = axisFenced(event, segmentStart, segmentEnd, axis);\n\n    // update dragger\n    (0,_util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_3__.translate)(context.draggerGfx, draggerPosition.x, draggerPosition.y);\n  }\n\n  /**\n   * Filter waypoints for redundant ones (i.e. on the same axis).\n   * Returns the filtered waypoints and the offset related to the segment move.\n   *\n   * @param {Point[]} waypoints\n   * @param {Integer} segmentStartIndex of moved segment start\n   *\n   * @return {Object} { filteredWaypoints, segmentOffset }\n   */\n  function filterRedundantWaypoints(waypoints, segmentStartIndex) {\n\n    var segmentOffset = 0;\n\n    var filteredWaypoints = waypoints.filter(function(r, idx) {\n      if ((0,_util_Geometry__WEBPACK_IMPORTED_MODULE_2__.pointsOnLine)(waypoints[idx - 1], waypoints[idx + 1], r)) {\n\n        // remove point and increment offset\n        segmentOffset = idx <= segmentStartIndex ? segmentOffset - 1 : segmentOffset;\n        return false;\n      }\n\n      // dont remove point\n      return true;\n    });\n\n    return {\n      waypoints: filteredWaypoints,\n      segmentOffset: segmentOffset\n    };\n  }\n\n  eventBus.on('connectionSegment.move.start', function(event) {\n\n    var context = event.context,\n        connection = event.connection,\n        layer = canvas.getLayer('overlays');\n\n    context.originalWaypoints = connection.waypoints.slice();\n\n    // add dragger gfx\n    context.draggerGfx = (0,_BendpointUtil__WEBPACK_IMPORTED_MODULE_1__.addSegmentDragger)(layer, context.segmentStart, context.segmentEnd);\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_4__.classes)(context.draggerGfx).add('djs-dragging');\n\n    canvas.addMarker(connection, MARKER_CONNECT_UPDATING);\n  });\n\n  eventBus.on('connectionSegment.move.move', function(event) {\n\n    var context = event.context,\n        connection = context.connection,\n        segmentStartIndex = context.segmentStartIndex,\n        segmentEndIndex = context.segmentEndIndex,\n        segmentStart = context.segmentStart,\n        segmentEnd = context.segmentEnd,\n        axis = context.axis;\n\n    var newWaypoints = context.originalWaypoints.slice(),\n        newSegmentStart = axisAdd(segmentStart, axis, event['d' + axis]),\n        newSegmentEnd = axisAdd(segmentEnd, axis, event['d' + axis]);\n\n    // original waypoint count and added / removed\n    // from start waypoint delta. We use the later\n    // to retrieve the updated segmentStartIndex / segmentEndIndex\n    var waypointCount = newWaypoints.length,\n        segmentOffset = 0;\n\n    // move segment start / end by axis delta\n    newWaypoints[segmentStartIndex] = newSegmentStart;\n    newWaypoints[segmentEndIndex] = newSegmentEnd;\n\n    var sourceToSegmentOrientation,\n        targetToSegmentOrientation;\n\n    // handle first segment\n    if (segmentStartIndex < 2) {\n      sourceToSegmentOrientation = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_0__.getOrientation)(connection.source, newSegmentStart);\n\n      // first bendpoint, remove first segment if intersecting\n      if (segmentStartIndex === 1) {\n\n        if (sourceToSegmentOrientation === 'intersect') {\n          newWaypoints.shift();\n          newWaypoints[0] = newSegmentStart;\n          segmentOffset--;\n        }\n      }\n\n      // docking point, add segment if not intersecting anymore\n      else {\n        if (sourceToSegmentOrientation !== 'intersect') {\n          newWaypoints.unshift(segmentStart);\n          segmentOffset++;\n        }\n      }\n    }\n\n    // handle last segment\n    if (segmentEndIndex > waypointCount - 3) {\n      targetToSegmentOrientation = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_0__.getOrientation)(connection.target, newSegmentEnd);\n\n      // last bendpoint, remove last segment if intersecting\n      if (segmentEndIndex === waypointCount - 2) {\n\n        if (targetToSegmentOrientation === 'intersect') {\n          newWaypoints.pop();\n          newWaypoints[newWaypoints.length - 1] = newSegmentEnd;\n        }\n      }\n\n      // last bendpoint, remove last segment if intersecting\n      else {\n        if (targetToSegmentOrientation !== 'intersect') {\n          newWaypoints.push(segmentEnd);\n        }\n      }\n    }\n\n    // update connection waypoints\n    context.newWaypoints = connection.waypoints = cropConnection(connection, newWaypoints);\n\n    // update dragger position\n    updateDragger(context, segmentOffset, event);\n\n    // save segmentOffset in context\n    context.newSegmentStartIndex = segmentStartIndex + segmentOffset;\n\n    // redraw connection\n    redrawConnection(event);\n  });\n\n  eventBus.on('connectionSegment.move.hover', function(event) {\n\n    event.context.hover = event.hover;\n    canvas.addMarker(event.hover, MARKER_CONNECT_HOVER);\n  });\n\n  eventBus.on([\n    'connectionSegment.move.out',\n    'connectionSegment.move.cleanup'\n  ], function(event) {\n\n    // remove connect marker\n    // if it was added\n    var hover = event.context.hover;\n\n    if (hover) {\n      canvas.removeMarker(hover, MARKER_CONNECT_HOVER);\n    }\n  });\n\n  eventBus.on('connectionSegment.move.cleanup', function(event) {\n\n    var context = event.context,\n        connection = context.connection;\n\n    // remove dragger gfx\n    if (context.draggerGfx) {\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_4__.remove)(context.draggerGfx);\n    }\n\n    canvas.removeMarker(connection, MARKER_CONNECT_UPDATING);\n  });\n\n  eventBus.on([\n    'connectionSegment.move.cancel',\n    'connectionSegment.move.end'\n  ], function(event) {\n    var context = event.context,\n        connection = context.connection;\n\n    connection.waypoints = context.originalWaypoints;\n\n    redrawConnection(event);\n  });\n\n  eventBus.on('connectionSegment.move.end', function(event) {\n\n    var context = event.context,\n        connection = context.connection,\n        newWaypoints = context.newWaypoints,\n        newSegmentStartIndex = context.newSegmentStartIndex;\n\n    // ensure we have actual pixel values bendpoint\n    // coordinates (important when zoom level was > 1 during move)\n    newWaypoints = newWaypoints.map(function(p) {\n      return {\n        original: p.original,\n        x: Math.round(p.x),\n        y: Math.round(p.y)\n      };\n    });\n\n    // apply filter redunant waypoints\n    var filtered = filterRedundantWaypoints(newWaypoints, newSegmentStartIndex);\n\n    // get filtered waypoints\n    var filteredWaypoints = filtered.waypoints,\n        croppedWaypoints = cropConnection(connection, filteredWaypoints),\n        segmentOffset = filtered.segmentOffset;\n\n    var hints = {\n      segmentMove: {\n        segmentStartIndex: context.segmentStartIndex,\n        newSegmentStartIndex: newSegmentStartIndex + segmentOffset\n      }\n    };\n\n    modeling.updateWaypoints(connection, croppedWaypoints, hints);\n  });\n}\n\nConnectionSegmentMove.$inject = [\n  'injector',\n  'eventBus',\n  'canvas',\n  'dragging',\n  'graphicsFactory',\n  'modeling'\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYmVuZHBvaW50cy9Db25uZWN0aW9uU2VnbWVudE1vdmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRzZCOztBQUtKOztBQUtROztBQUVqQztBQUNBOztBQUtrQjs7QUFJbUI7O0FBRXJDO0FBQ0EsYUFBYSxtQ0FBbUM7QUFDaEQ7QUFDQSxhQUFhLGlDQUFpQztBQUM5QyxhQUFhLGtDQUFrQztBQUMvQztBQUNBLGFBQWEseUJBQXlCO0FBQ3RDO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQsYUFBYSx3Q0FBd0M7QUFDckQsYUFBYSx1Q0FBdUM7QUFDcEQsYUFBYSw4Q0FBOEM7QUFDM0QsYUFBYSx3Q0FBd0M7QUFDckQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsTUFBTTtBQUNqQjtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSixtQkFBbUIsMERBQU07QUFDekI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFVBQVU7QUFDckIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLGlCQUFpQjtBQUM1QixXQUFXLFVBQVU7QUFDckI7QUFDZTtBQUNmO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIseUVBQXlCO0FBQ2hEOztBQUVBLGdCQUFnQiw2REFBYTs7QUFFN0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxZQUFZO0FBQ3pCLGFBQWEsU0FBUztBQUN0QjtBQUNBLGNBQWMsU0FBUztBQUN2QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLGlFQUFTO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0EsY0FBYyxVQUFVO0FBQ3hCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxVQUFVLDREQUFZOztBQUV0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLHlCQUF5QixpRUFBaUI7QUFDMUMsSUFBSSxpREFBVTs7QUFFZDtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1DQUFtQyxrRUFBYzs7QUFFakQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUNBQW1DLGtFQUFjOztBQUVqRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTSxnREFBUztBQUNmOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYmVuZHBvaW50cy9Db25uZWN0aW9uU2VnbWVudE1vdmUuanM/NTkyMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBwb2ludHNBbGlnbmVkLFxuICBwb2ludHNPbkxpbmVcbn0gZnJvbSAnLi4vLi4vdXRpbC9HZW9tZXRyeSc7XG5cbmltcG9ydCB7XG4gIGFkZFNlZ21lbnREcmFnZ2VyLFxuICBnZXRDb25uZWN0aW9uSW50ZXJzZWN0aW9uXG59IGZyb20gJy4vQmVuZHBvaW50VXRpbCc7XG5cbmltcG9ydCB7XG4gIGdldE1pZCxcbiAgZ2V0T3JpZW50YXRpb25cbn0gZnJvbSAnLi4vLi4vbGF5b3V0L0xheW91dFV0aWwnO1xuXG52YXIgTUFSS0VSX0NPTk5FQ1RfSE9WRVIgPSAnY29ubmVjdC1ob3ZlcicsXG4gICAgTUFSS0VSX0NPTk5FQ1RfVVBEQVRJTkcgPSAnZGpzLXVwZGF0aW5nJztcblxuaW1wb3J0IHtcbiAgY2xhc3NlcyBhcyBzdmdDbGFzc2VzLFxuICByZW1vdmUgYXMgc3ZnUmVtb3ZlXG59IGZyb20gJ3Rpbnktc3ZnJztcblxuaW1wb3J0IHtcbiAgdHJhbnNsYXRlXG59IGZyb20gJy4uLy4uL3V0aWwvU3ZnVHJhbnNmb3JtVXRpbCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vbW9kZWwvVHlwZXMnKS5TaGFwZX0gU2hhcGVcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi91dGlsL1R5cGVzJykuQXhpc30gQXhpc1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vdXRpbC9UeXBlcycpLlBvaW50fSBQb2ludFxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpZGknKS5JbmplY3Rvcn0gSW5qZWN0b3JcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0NhbnZhcycpLmRlZmF1bHR9IENhbnZhc1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vZHJhZ2dpbmcvRHJhZ2dpbmcnKS5kZWZhdWx0fSBEcmFnZ2luZ1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0dyYXBoaWNzRmFjdG9yeScpLmRlZmF1bHR9IEdyYXBoaWNzRmFjdG9yeVxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vbW9kZWxpbmcvTW9kZWxpbmcnKS5kZWZhdWx0fSBNb2RlbGluZ1xuICovXG5cbmZ1bmN0aW9uIGF4aXNBZGQocG9pbnQsIGF4aXMsIGRlbHRhKSB7XG4gIHJldHVybiBheGlzU2V0KHBvaW50LCBheGlzLCBwb2ludFtheGlzXSArIGRlbHRhKTtcbn1cblxuZnVuY3Rpb24gYXhpc1NldChwb2ludCwgYXhpcywgdmFsdWUpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiAoYXhpcyA9PT0gJ3gnID8gdmFsdWUgOiBwb2ludC54KSxcbiAgICB5OiAoYXhpcyA9PT0gJ3knID8gdmFsdWUgOiBwb2ludC55KVxuICB9O1xufVxuXG5mdW5jdGlvbiBheGlzRmVuY2VkKHBvc2l0aW9uLCBzZWdtZW50U3RhcnQsIHNlZ21lbnRFbmQsIGF4aXMpIHtcblxuICB2YXIgbWF4VmFsdWUgPSBNYXRoLm1heChzZWdtZW50U3RhcnRbYXhpc10sIHNlZ21lbnRFbmRbYXhpc10pLFxuICAgICAgbWluVmFsdWUgPSBNYXRoLm1pbihzZWdtZW50U3RhcnRbYXhpc10sIHNlZ21lbnRFbmRbYXhpc10pO1xuXG4gIHZhciBwYWRkaW5nID0gMjA7XG5cbiAgdmFyIGZlbmNlZFZhbHVlID0gTWF0aC5taW4oTWF0aC5tYXgobWluVmFsdWUgKyBwYWRkaW5nLCBwb3NpdGlvbltheGlzXSksIG1heFZhbHVlIC0gcGFkZGluZyk7XG5cbiAgcmV0dXJuIGF4aXNTZXQoc2VnbWVudFN0YXJ0LCBheGlzLCBmZW5jZWRWYWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGZsaXBBeGlzKGF4aXMpIHtcbiAgcmV0dXJuIGF4aXMgPT09ICd4JyA/ICd5JyA6ICd4Jztcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGRvY2tpbmcgcG9pbnQgb24gdGhlIGdpdmVuIGVsZW1lbnQuXG4gKlxuICogQ29tcHV0ZSBhIHJlYXNvbmFibGUgZG9ja2luZywgaWYgbm9uIGV4aXN0cy5cbiAqXG4gKiBAcGFyYW0ge1BvaW50fSBwb2ludFxuICogQHBhcmFtIHtTaGFwZX0gcmVmZXJlbmNlRWxlbWVudFxuICogQHBhcmFtIHtBeGlzfSBtb3ZlQXhpc1xuICpcbiAqIEByZXR1cm4ge1BvaW50fVxuICovXG5mdW5jdGlvbiBnZXREb2NraW5nKHBvaW50LCByZWZlcmVuY2VFbGVtZW50LCBtb3ZlQXhpcykge1xuXG4gIHZhciByZWZlcmVuY2VNaWQsXG4gICAgICBpbnZlcnNlQXhpcztcblxuICBpZiAocG9pbnQub3JpZ2luYWwpIHtcbiAgICByZXR1cm4gcG9pbnQub3JpZ2luYWw7XG4gIH0gZWxzZSB7XG4gICAgcmVmZXJlbmNlTWlkID0gZ2V0TWlkKHJlZmVyZW5jZUVsZW1lbnQpO1xuICAgIGludmVyc2VBeGlzID0gZmxpcEF4aXMobW92ZUF4aXMpO1xuXG4gICAgcmV0dXJuIGF4aXNTZXQocG9pbnQsIGludmVyc2VBeGlzLCByZWZlcmVuY2VNaWRbaW52ZXJzZUF4aXNdKTtcbiAgfVxufVxuXG4vKipcbiAqIEEgY29tcG9uZW50IHRoYXQgaW1wbGVtZW50cyBtb3Zpbmcgb2YgYmVuZHBvaW50cy5cbiAqXG4gKiBAcGFyYW0ge0luamVjdG9yfSBpbmplY3RvclxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqIEBwYXJhbSB7Q2FudmFzfSBkcmFnZ2luZ1xuICogQHBhcmFtIHtHcmFwaGljc0ZhY3Rvcnl9IGdyYXBoaWNzRmFjdG9yeVxuICogQHBhcmFtIHtNb2RlbGluZ30gbW9kZWxpbmdcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29ubmVjdGlvblNlZ21lbnRNb3ZlKFxuICAgIGluamVjdG9yLCBldmVudEJ1cywgY2FudmFzLFxuICAgIGRyYWdnaW5nLCBncmFwaGljc0ZhY3RvcnksIG1vZGVsaW5nKSB7XG5cbiAgLy8gb3B0aW9uYWwgY29ubmVjdGlvbiBkb2NraW5nIGludGVncmF0aW9uXG4gIHZhciBjb25uZWN0aW9uRG9ja2luZyA9IGluamVjdG9yLmdldCgnY29ubmVjdGlvbkRvY2tpbmcnLCBmYWxzZSk7XG5cblxuICAvLyBBUElcblxuICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24oZXZlbnQsIGNvbm5lY3Rpb24sIGlkeCkge1xuXG4gICAgdmFyIGNvbnRleHQsXG4gICAgICAgIGdmeCA9IGNhbnZhcy5nZXRHcmFwaGljcyhjb25uZWN0aW9uKSxcbiAgICAgICAgc2VnbWVudFN0YXJ0SW5kZXggPSBpZHggLSAxLFxuICAgICAgICBzZWdtZW50RW5kSW5kZXggPSBpZHgsXG4gICAgICAgIHdheXBvaW50cyA9IGNvbm5lY3Rpb24ud2F5cG9pbnRzLFxuICAgICAgICBzZWdtZW50U3RhcnQgPSB3YXlwb2ludHNbc2VnbWVudFN0YXJ0SW5kZXhdLFxuICAgICAgICBzZWdtZW50RW5kID0gd2F5cG9pbnRzW3NlZ21lbnRFbmRJbmRleF0sXG4gICAgICAgIGludGVyc2VjdGlvbiA9IGdldENvbm5lY3Rpb25JbnRlcnNlY3Rpb24oY2FudmFzLCB3YXlwb2ludHMsIGV2ZW50KSxcbiAgICAgICAgZGlyZWN0aW9uLCBheGlzLCBkcmFnUG9zaXRpb247XG5cbiAgICBkaXJlY3Rpb24gPSBwb2ludHNBbGlnbmVkKHNlZ21lbnRTdGFydCwgc2VnbWVudEVuZCk7XG5cbiAgICAvLyBkbyBub3QgbW92ZSBkaWFnb25hbCBjb25uZWN0aW9uXG4gICAgaWYgKCFkaXJlY3Rpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyB0aGUgYXhpcyB3aGVyZSB3ZSBhcmUgZ29pbmcgdG8gbW92ZSB0aGluZ3NcbiAgICBheGlzID0gZGlyZWN0aW9uID09PSAndicgPyAneCcgOiAneSc7XG5cbiAgICBpZiAoc2VnbWVudFN0YXJ0SW5kZXggPT09IDApIHtcbiAgICAgIHNlZ21lbnRTdGFydCA9IGdldERvY2tpbmcoc2VnbWVudFN0YXJ0LCBjb25uZWN0aW9uLnNvdXJjZSwgYXhpcyk7XG4gICAgfVxuXG4gICAgaWYgKHNlZ21lbnRFbmRJbmRleCA9PT0gd2F5cG9pbnRzLmxlbmd0aCAtIDEpIHtcbiAgICAgIHNlZ21lbnRFbmQgPSBnZXREb2NraW5nKHNlZ21lbnRFbmQsIGNvbm5lY3Rpb24udGFyZ2V0LCBheGlzKTtcbiAgICB9XG5cbiAgICBpZiAoaW50ZXJzZWN0aW9uKSB7XG4gICAgICBkcmFnUG9zaXRpb24gPSBpbnRlcnNlY3Rpb24ucG9pbnQ7XG4gICAgfSBlbHNlIHtcblxuICAgICAgLy8gc2V0IHRvIHNlZ21lbnQgY2VudGVyIGFzIGRlZmF1bHRcbiAgICAgIGRyYWdQb3NpdGlvbiA9IHtcbiAgICAgICAgeDogKHNlZ21lbnRTdGFydC54ICsgc2VnbWVudEVuZC54KSAvIDIsXG4gICAgICAgIHk6IChzZWdtZW50U3RhcnQueSArIHNlZ21lbnRFbmQueSkgLyAyXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnRleHQgPSB7XG4gICAgICBjb25uZWN0aW9uOiBjb25uZWN0aW9uLFxuICAgICAgc2VnbWVudFN0YXJ0SW5kZXg6IHNlZ21lbnRTdGFydEluZGV4LFxuICAgICAgc2VnbWVudEVuZEluZGV4OiBzZWdtZW50RW5kSW5kZXgsXG4gICAgICBzZWdtZW50U3RhcnQ6IHNlZ21lbnRTdGFydCxcbiAgICAgIHNlZ21lbnRFbmQ6IHNlZ21lbnRFbmQsXG4gICAgICBheGlzOiBheGlzLFxuICAgICAgZHJhZ1Bvc2l0aW9uOiBkcmFnUG9zaXRpb25cbiAgICB9O1xuXG4gICAgZHJhZ2dpbmcuaW5pdChldmVudCwgZHJhZ1Bvc2l0aW9uLCAnY29ubmVjdGlvblNlZ21lbnQubW92ZScsIHtcbiAgICAgIGN1cnNvcjogYXhpcyA9PT0gJ3gnID8gJ3Jlc2l6ZS1ldycgOiAncmVzaXplLW5zJyxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgY29ubmVjdGlvbjogY29ubmVjdGlvbixcbiAgICAgICAgY29ubmVjdGlvbkdmeDogZ2Z4LFxuICAgICAgICBjb250ZXh0OiBjb250ZXh0XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyb3AgY29ubmVjdGlvbiBpZiBjb25uZWN0aW9uIGNyb3BwaW5nIGlzIHByb3ZpZGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge0Nvbm5lY3Rpb259IGNvbm5lY3Rpb25cbiAgICogQHBhcmFtIHtQb2ludFtdfSBuZXdXYXlwb2ludHNcbiAgICpcbiAgICogQHJldHVybiB7UG9pbnRbXX0gY3JvcHBlZCBjb25uZWN0aW9uIHdheXBvaW50c1xuICAgKi9cbiAgZnVuY3Rpb24gY3JvcENvbm5lY3Rpb24oY29ubmVjdGlvbiwgbmV3V2F5cG9pbnRzKSB7XG5cbiAgICAvLyBjcm9wIGNvbm5lY3Rpb24sIGlmIGRvY2tpbmcgc2VydmljZSBpcyBwcm92aWRlZCBvbmx5XG4gICAgaWYgKCFjb25uZWN0aW9uRG9ja2luZykge1xuICAgICAgcmV0dXJuIG5ld1dheXBvaW50cztcbiAgICB9XG5cbiAgICB2YXIgb2xkV2F5cG9pbnRzID0gY29ubmVjdGlvbi53YXlwb2ludHMsXG4gICAgICAgIGNyb3BwZWRXYXlwb2ludHM7XG5cbiAgICAvLyB0ZW1wb3Jhcnkgc2V0IG5ldyB3YXlwb2ludHNcbiAgICBjb25uZWN0aW9uLndheXBvaW50cyA9IG5ld1dheXBvaW50cztcblxuICAgIGNyb3BwZWRXYXlwb2ludHMgPSBjb25uZWN0aW9uRG9ja2luZy5nZXRDcm9wcGVkV2F5cG9pbnRzKGNvbm5lY3Rpb24pO1xuXG4gICAgLy8gcmVzdG9yZSBvbGQgd2F5cG9pbnRzXG4gICAgY29ubmVjdGlvbi53YXlwb2ludHMgPSBvbGRXYXlwb2ludHM7XG5cbiAgICByZXR1cm4gY3JvcHBlZFdheXBvaW50cztcbiAgfVxuXG4gIC8vIERSQUdHSU5HIElNUExFTUVOVEFUSU9OXG5cbiAgZnVuY3Rpb24gcmVkcmF3Q29ubmVjdGlvbihkYXRhKSB7XG4gICAgZ3JhcGhpY3NGYWN0b3J5LnVwZGF0ZSgnY29ubmVjdGlvbicsIGRhdGEuY29ubmVjdGlvbiwgZGF0YS5jb25uZWN0aW9uR2Z4KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZURyYWdnZXIoY29udGV4dCwgc2VnbWVudE9mZnNldCwgZXZlbnQpIHtcblxuICAgIHZhciBuZXdXYXlwb2ludHMgPSBjb250ZXh0Lm5ld1dheXBvaW50cyxcbiAgICAgICAgc2VnbWVudFN0YXJ0SW5kZXggPSBjb250ZXh0LnNlZ21lbnRTdGFydEluZGV4ICsgc2VnbWVudE9mZnNldCxcbiAgICAgICAgc2VnbWVudFN0YXJ0ID0gbmV3V2F5cG9pbnRzW3NlZ21lbnRTdGFydEluZGV4XSxcbiAgICAgICAgc2VnbWVudEVuZEluZGV4ID0gY29udGV4dC5zZWdtZW50RW5kSW5kZXggKyBzZWdtZW50T2Zmc2V0LFxuICAgICAgICBzZWdtZW50RW5kID0gbmV3V2F5cG9pbnRzW3NlZ21lbnRFbmRJbmRleF0sXG4gICAgICAgIGF4aXMgPSBmbGlwQXhpcyhjb250ZXh0LmF4aXMpO1xuXG4gICAgLy8gbWFrZSBzdXJlIHRoZSBkcmFnZ2VyIGRvZXMgbm90IG1vdmVcbiAgICAvLyBvdXRzaWRlIHRoZSBjb25uZWN0aW9uXG4gICAgdmFyIGRyYWdnZXJQb3NpdGlvbiA9IGF4aXNGZW5jZWQoZXZlbnQsIHNlZ21lbnRTdGFydCwgc2VnbWVudEVuZCwgYXhpcyk7XG5cbiAgICAvLyB1cGRhdGUgZHJhZ2dlclxuICAgIHRyYW5zbGF0ZShjb250ZXh0LmRyYWdnZXJHZngsIGRyYWdnZXJQb3NpdGlvbi54LCBkcmFnZ2VyUG9zaXRpb24ueSk7XG4gIH1cblxuICAvKipcbiAgICogRmlsdGVyIHdheXBvaW50cyBmb3IgcmVkdW5kYW50IG9uZXMgKGkuZS4gb24gdGhlIHNhbWUgYXhpcykuXG4gICAqIFJldHVybnMgdGhlIGZpbHRlcmVkIHdheXBvaW50cyBhbmQgdGhlIG9mZnNldCByZWxhdGVkIHRvIHRoZSBzZWdtZW50IG1vdmUuXG4gICAqXG4gICAqIEBwYXJhbSB7UG9pbnRbXX0gd2F5cG9pbnRzXG4gICAqIEBwYXJhbSB7SW50ZWdlcn0gc2VnbWVudFN0YXJ0SW5kZXggb2YgbW92ZWQgc2VnbWVudCBzdGFydFxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R9IHsgZmlsdGVyZWRXYXlwb2ludHMsIHNlZ21lbnRPZmZzZXQgfVxuICAgKi9cbiAgZnVuY3Rpb24gZmlsdGVyUmVkdW5kYW50V2F5cG9pbnRzKHdheXBvaW50cywgc2VnbWVudFN0YXJ0SW5kZXgpIHtcblxuICAgIHZhciBzZWdtZW50T2Zmc2V0ID0gMDtcblxuICAgIHZhciBmaWx0ZXJlZFdheXBvaW50cyA9IHdheXBvaW50cy5maWx0ZXIoZnVuY3Rpb24ociwgaWR4KSB7XG4gICAgICBpZiAocG9pbnRzT25MaW5lKHdheXBvaW50c1tpZHggLSAxXSwgd2F5cG9pbnRzW2lkeCArIDFdLCByKSkge1xuXG4gICAgICAgIC8vIHJlbW92ZSBwb2ludCBhbmQgaW5jcmVtZW50IG9mZnNldFxuICAgICAgICBzZWdtZW50T2Zmc2V0ID0gaWR4IDw9IHNlZ21lbnRTdGFydEluZGV4ID8gc2VnbWVudE9mZnNldCAtIDEgOiBzZWdtZW50T2Zmc2V0O1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIGRvbnQgcmVtb3ZlIHBvaW50XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICB3YXlwb2ludHM6IGZpbHRlcmVkV2F5cG9pbnRzLFxuICAgICAgc2VnbWVudE9mZnNldDogc2VnbWVudE9mZnNldFxuICAgIH07XG4gIH1cblxuICBldmVudEJ1cy5vbignY29ubmVjdGlvblNlZ21lbnQubW92ZS5zdGFydCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGNvbm5lY3Rpb24gPSBldmVudC5jb25uZWN0aW9uLFxuICAgICAgICBsYXllciA9IGNhbnZhcy5nZXRMYXllcignb3ZlcmxheXMnKTtcblxuICAgIGNvbnRleHQub3JpZ2luYWxXYXlwb2ludHMgPSBjb25uZWN0aW9uLndheXBvaW50cy5zbGljZSgpO1xuXG4gICAgLy8gYWRkIGRyYWdnZXIgZ2Z4XG4gICAgY29udGV4dC5kcmFnZ2VyR2Z4ID0gYWRkU2VnbWVudERyYWdnZXIobGF5ZXIsIGNvbnRleHQuc2VnbWVudFN0YXJ0LCBjb250ZXh0LnNlZ21lbnRFbmQpO1xuICAgIHN2Z0NsYXNzZXMoY29udGV4dC5kcmFnZ2VyR2Z4KS5hZGQoJ2Rqcy1kcmFnZ2luZycpO1xuXG4gICAgY2FudmFzLmFkZE1hcmtlcihjb25uZWN0aW9uLCBNQVJLRVJfQ09OTkVDVF9VUERBVElORyk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdjb25uZWN0aW9uU2VnbWVudC5tb3ZlLm1vdmUnLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uLFxuICAgICAgICBzZWdtZW50U3RhcnRJbmRleCA9IGNvbnRleHQuc2VnbWVudFN0YXJ0SW5kZXgsXG4gICAgICAgIHNlZ21lbnRFbmRJbmRleCA9IGNvbnRleHQuc2VnbWVudEVuZEluZGV4LFxuICAgICAgICBzZWdtZW50U3RhcnQgPSBjb250ZXh0LnNlZ21lbnRTdGFydCxcbiAgICAgICAgc2VnbWVudEVuZCA9IGNvbnRleHQuc2VnbWVudEVuZCxcbiAgICAgICAgYXhpcyA9IGNvbnRleHQuYXhpcztcblxuICAgIHZhciBuZXdXYXlwb2ludHMgPSBjb250ZXh0Lm9yaWdpbmFsV2F5cG9pbnRzLnNsaWNlKCksXG4gICAgICAgIG5ld1NlZ21lbnRTdGFydCA9IGF4aXNBZGQoc2VnbWVudFN0YXJ0LCBheGlzLCBldmVudFsnZCcgKyBheGlzXSksXG4gICAgICAgIG5ld1NlZ21lbnRFbmQgPSBheGlzQWRkKHNlZ21lbnRFbmQsIGF4aXMsIGV2ZW50WydkJyArIGF4aXNdKTtcblxuICAgIC8vIG9yaWdpbmFsIHdheXBvaW50IGNvdW50IGFuZCBhZGRlZCAvIHJlbW92ZWRcbiAgICAvLyBmcm9tIHN0YXJ0IHdheXBvaW50IGRlbHRhLiBXZSB1c2UgdGhlIGxhdGVyXG4gICAgLy8gdG8gcmV0cmlldmUgdGhlIHVwZGF0ZWQgc2VnbWVudFN0YXJ0SW5kZXggLyBzZWdtZW50RW5kSW5kZXhcbiAgICB2YXIgd2F5cG9pbnRDb3VudCA9IG5ld1dheXBvaW50cy5sZW5ndGgsXG4gICAgICAgIHNlZ21lbnRPZmZzZXQgPSAwO1xuXG4gICAgLy8gbW92ZSBzZWdtZW50IHN0YXJ0IC8gZW5kIGJ5IGF4aXMgZGVsdGFcbiAgICBuZXdXYXlwb2ludHNbc2VnbWVudFN0YXJ0SW5kZXhdID0gbmV3U2VnbWVudFN0YXJ0O1xuICAgIG5ld1dheXBvaW50c1tzZWdtZW50RW5kSW5kZXhdID0gbmV3U2VnbWVudEVuZDtcblxuICAgIHZhciBzb3VyY2VUb1NlZ21lbnRPcmllbnRhdGlvbixcbiAgICAgICAgdGFyZ2V0VG9TZWdtZW50T3JpZW50YXRpb247XG5cbiAgICAvLyBoYW5kbGUgZmlyc3Qgc2VnbWVudFxuICAgIGlmIChzZWdtZW50U3RhcnRJbmRleCA8IDIpIHtcbiAgICAgIHNvdXJjZVRvU2VnbWVudE9yaWVudGF0aW9uID0gZ2V0T3JpZW50YXRpb24oY29ubmVjdGlvbi5zb3VyY2UsIG5ld1NlZ21lbnRTdGFydCk7XG5cbiAgICAgIC8vIGZpcnN0IGJlbmRwb2ludCwgcmVtb3ZlIGZpcnN0IHNlZ21lbnQgaWYgaW50ZXJzZWN0aW5nXG4gICAgICBpZiAoc2VnbWVudFN0YXJ0SW5kZXggPT09IDEpIHtcblxuICAgICAgICBpZiAoc291cmNlVG9TZWdtZW50T3JpZW50YXRpb24gPT09ICdpbnRlcnNlY3QnKSB7XG4gICAgICAgICAgbmV3V2F5cG9pbnRzLnNoaWZ0KCk7XG4gICAgICAgICAgbmV3V2F5cG9pbnRzWzBdID0gbmV3U2VnbWVudFN0YXJ0O1xuICAgICAgICAgIHNlZ21lbnRPZmZzZXQtLTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBkb2NraW5nIHBvaW50LCBhZGQgc2VnbWVudCBpZiBub3QgaW50ZXJzZWN0aW5nIGFueW1vcmVcbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAoc291cmNlVG9TZWdtZW50T3JpZW50YXRpb24gIT09ICdpbnRlcnNlY3QnKSB7XG4gICAgICAgICAgbmV3V2F5cG9pbnRzLnVuc2hpZnQoc2VnbWVudFN0YXJ0KTtcbiAgICAgICAgICBzZWdtZW50T2Zmc2V0Kys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBoYW5kbGUgbGFzdCBzZWdtZW50XG4gICAgaWYgKHNlZ21lbnRFbmRJbmRleCA+IHdheXBvaW50Q291bnQgLSAzKSB7XG4gICAgICB0YXJnZXRUb1NlZ21lbnRPcmllbnRhdGlvbiA9IGdldE9yaWVudGF0aW9uKGNvbm5lY3Rpb24udGFyZ2V0LCBuZXdTZWdtZW50RW5kKTtcblxuICAgICAgLy8gbGFzdCBiZW5kcG9pbnQsIHJlbW92ZSBsYXN0IHNlZ21lbnQgaWYgaW50ZXJzZWN0aW5nXG4gICAgICBpZiAoc2VnbWVudEVuZEluZGV4ID09PSB3YXlwb2ludENvdW50IC0gMikge1xuXG4gICAgICAgIGlmICh0YXJnZXRUb1NlZ21lbnRPcmllbnRhdGlvbiA9PT0gJ2ludGVyc2VjdCcpIHtcbiAgICAgICAgICBuZXdXYXlwb2ludHMucG9wKCk7XG4gICAgICAgICAgbmV3V2F5cG9pbnRzW25ld1dheXBvaW50cy5sZW5ndGggLSAxXSA9IG5ld1NlZ21lbnRFbmQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gbGFzdCBiZW5kcG9pbnQsIHJlbW92ZSBsYXN0IHNlZ21lbnQgaWYgaW50ZXJzZWN0aW5nXG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKHRhcmdldFRvU2VnbWVudE9yaWVudGF0aW9uICE9PSAnaW50ZXJzZWN0Jykge1xuICAgICAgICAgIG5ld1dheXBvaW50cy5wdXNoKHNlZ21lbnRFbmQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIGNvbm5lY3Rpb24gd2F5cG9pbnRzXG4gICAgY29udGV4dC5uZXdXYXlwb2ludHMgPSBjb25uZWN0aW9uLndheXBvaW50cyA9IGNyb3BDb25uZWN0aW9uKGNvbm5lY3Rpb24sIG5ld1dheXBvaW50cyk7XG5cbiAgICAvLyB1cGRhdGUgZHJhZ2dlciBwb3NpdGlvblxuICAgIHVwZGF0ZURyYWdnZXIoY29udGV4dCwgc2VnbWVudE9mZnNldCwgZXZlbnQpO1xuXG4gICAgLy8gc2F2ZSBzZWdtZW50T2Zmc2V0IGluIGNvbnRleHRcbiAgICBjb250ZXh0Lm5ld1NlZ21lbnRTdGFydEluZGV4ID0gc2VnbWVudFN0YXJ0SW5kZXggKyBzZWdtZW50T2Zmc2V0O1xuXG4gICAgLy8gcmVkcmF3IGNvbm5lY3Rpb25cbiAgICByZWRyYXdDb25uZWN0aW9uKGV2ZW50KTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2Nvbm5lY3Rpb25TZWdtZW50Lm1vdmUuaG92ZXInLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgZXZlbnQuY29udGV4dC5ob3ZlciA9IGV2ZW50LmhvdmVyO1xuICAgIGNhbnZhcy5hZGRNYXJrZXIoZXZlbnQuaG92ZXIsIE1BUktFUl9DT05ORUNUX0hPVkVSKTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oW1xuICAgICdjb25uZWN0aW9uU2VnbWVudC5tb3ZlLm91dCcsXG4gICAgJ2Nvbm5lY3Rpb25TZWdtZW50Lm1vdmUuY2xlYW51cCdcbiAgXSwgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIC8vIHJlbW92ZSBjb25uZWN0IG1hcmtlclxuICAgIC8vIGlmIGl0IHdhcyBhZGRlZFxuICAgIHZhciBob3ZlciA9IGV2ZW50LmNvbnRleHQuaG92ZXI7XG5cbiAgICBpZiAoaG92ZXIpIHtcbiAgICAgIGNhbnZhcy5yZW1vdmVNYXJrZXIoaG92ZXIsIE1BUktFUl9DT05ORUNUX0hPVkVSKTtcbiAgICB9XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdjb25uZWN0aW9uU2VnbWVudC5tb3ZlLmNsZWFudXAnLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uO1xuXG4gICAgLy8gcmVtb3ZlIGRyYWdnZXIgZ2Z4XG4gICAgaWYgKGNvbnRleHQuZHJhZ2dlckdmeCkge1xuICAgICAgc3ZnUmVtb3ZlKGNvbnRleHQuZHJhZ2dlckdmeCk7XG4gICAgfVxuXG4gICAgY2FudmFzLnJlbW92ZU1hcmtlcihjb25uZWN0aW9uLCBNQVJLRVJfQ09OTkVDVF9VUERBVElORyk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKFtcbiAgICAnY29ubmVjdGlvblNlZ21lbnQubW92ZS5jYW5jZWwnLFxuICAgICdjb25uZWN0aW9uU2VnbWVudC5tb3ZlLmVuZCdcbiAgXSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGNvbm5lY3Rpb24gPSBjb250ZXh0LmNvbm5lY3Rpb247XG5cbiAgICBjb25uZWN0aW9uLndheXBvaW50cyA9IGNvbnRleHQub3JpZ2luYWxXYXlwb2ludHM7XG5cbiAgICByZWRyYXdDb25uZWN0aW9uKGV2ZW50KTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2Nvbm5lY3Rpb25TZWdtZW50Lm1vdmUuZW5kJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgY29ubmVjdGlvbiA9IGNvbnRleHQuY29ubmVjdGlvbixcbiAgICAgICAgbmV3V2F5cG9pbnRzID0gY29udGV4dC5uZXdXYXlwb2ludHMsXG4gICAgICAgIG5ld1NlZ21lbnRTdGFydEluZGV4ID0gY29udGV4dC5uZXdTZWdtZW50U3RhcnRJbmRleDtcblxuICAgIC8vIGVuc3VyZSB3ZSBoYXZlIGFjdHVhbCBwaXhlbCB2YWx1ZXMgYmVuZHBvaW50XG4gICAgLy8gY29vcmRpbmF0ZXMgKGltcG9ydGFudCB3aGVuIHpvb20gbGV2ZWwgd2FzID4gMSBkdXJpbmcgbW92ZSlcbiAgICBuZXdXYXlwb2ludHMgPSBuZXdXYXlwb2ludHMubWFwKGZ1bmN0aW9uKHApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG9yaWdpbmFsOiBwLm9yaWdpbmFsLFxuICAgICAgICB4OiBNYXRoLnJvdW5kKHAueCksXG4gICAgICAgIHk6IE1hdGgucm91bmQocC55KVxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIGFwcGx5IGZpbHRlciByZWR1bmFudCB3YXlwb2ludHNcbiAgICB2YXIgZmlsdGVyZWQgPSBmaWx0ZXJSZWR1bmRhbnRXYXlwb2ludHMobmV3V2F5cG9pbnRzLCBuZXdTZWdtZW50U3RhcnRJbmRleCk7XG5cbiAgICAvLyBnZXQgZmlsdGVyZWQgd2F5cG9pbnRzXG4gICAgdmFyIGZpbHRlcmVkV2F5cG9pbnRzID0gZmlsdGVyZWQud2F5cG9pbnRzLFxuICAgICAgICBjcm9wcGVkV2F5cG9pbnRzID0gY3JvcENvbm5lY3Rpb24oY29ubmVjdGlvbiwgZmlsdGVyZWRXYXlwb2ludHMpLFxuICAgICAgICBzZWdtZW50T2Zmc2V0ID0gZmlsdGVyZWQuc2VnbWVudE9mZnNldDtcblxuICAgIHZhciBoaW50cyA9IHtcbiAgICAgIHNlZ21lbnRNb3ZlOiB7XG4gICAgICAgIHNlZ21lbnRTdGFydEluZGV4OiBjb250ZXh0LnNlZ21lbnRTdGFydEluZGV4LFxuICAgICAgICBuZXdTZWdtZW50U3RhcnRJbmRleDogbmV3U2VnbWVudFN0YXJ0SW5kZXggKyBzZWdtZW50T2Zmc2V0XG4gICAgICB9XG4gICAgfTtcblxuICAgIG1vZGVsaW5nLnVwZGF0ZVdheXBvaW50cyhjb25uZWN0aW9uLCBjcm9wcGVkV2F5cG9pbnRzLCBoaW50cyk7XG4gIH0pO1xufVxuXG5Db25uZWN0aW9uU2VnbWVudE1vdmUuJGluamVjdCA9IFtcbiAgJ2luamVjdG9yJyxcbiAgJ2V2ZW50QnVzJyxcbiAgJ2NhbnZhcycsXG4gICdkcmFnZ2luZycsXG4gICdncmFwaGljc0ZhY3RvcnknLFxuICAnbW9kZWxpbmcnXG5dO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/bendpoints/ConnectionSegmentMove.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/bendpoints/GeometricUtil.js":
/*!**************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/bendpoints/GeometricUtil.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAngle: () => (/* binding */ getAngle),\n/* harmony export */   getDistancePointLine: () => (/* binding */ getDistancePointLine),\n/* harmony export */   getDistancePointPoint: () => (/* binding */ getDistancePointPoint),\n/* harmony export */   perpendicularFoot: () => (/* binding */ perpendicularFoot),\n/* harmony export */   rotateVector: () => (/* binding */ rotateVector),\n/* harmony export */   vectorLength: () => (/* binding */ vectorLength)\n/* harmony export */ });\n/**\n * @typedef {import('../../util/Types').Point} Point\n * @typedef {import('../../util/Types').Vector} Vector\n */\n\n/**\n * Returns the length of a vector.\n *\n * @param {Vector} vector\n *\n * @return {number}\n */\nfunction vectorLength(vector) {\n  return Math.sqrt(Math.pow(vector.x, 2) + Math.pow(vector.y, 2));\n}\n\n\n/**\n * Calculates the angle between a line a the Y axis.\n *\n * @param {Point[]} line\n *\n * @return {number}\n */\nfunction getAngle(line) {\n\n  // return value is between 0, 180 and -180, -0\n  // @janstuemmel: maybe replace return a/b with b/a\n  return Math.atan((line[1].y - line[0].y) / (line[1].x - line[0].x));\n}\n\n\n/**\n * Rotates a vector by a given angle.\n *\n * @param {Vector} vector\n * @param {number} angle The angle in radians.\n *\n * @return {Vector}\n */\nfunction rotateVector(vector, angle) {\n  return (!angle) ? vector : {\n    x: Math.cos(angle) * vector.x - Math.sin(angle) * vector.y,\n    y: Math.sin(angle) * vector.x + Math.cos(angle) * vector.y\n  };\n}\n\n\n/**\n * Solves a 2D equation system\n * a + r*b = c, where a,b,c are 2D vectors\n *\n * @param {Vector} a\n * @param {Vector} b\n * @param {Vector} c\n *\n * @return {number}\n */\nfunction solveLambaSystem(a, b, c) {\n\n  // the 2d system\n  var system = [\n    { n: a[0] - c[0], lambda: b[0] },\n    { n: a[1] - c[1], lambda: b[1] }\n  ];\n\n  // solve\n  var n = system[0].n * b[0] + system[1].n * b[1],\n      l = system[0].lambda * b[0] + system[1].lambda * b[1];\n\n  return -n / l;\n}\n\n\n/**\n * Calculates the position of the perpendicular foot.\n *\n * @param {Point} point\n * @param {Point[]} line\n *\n * @return {Point}\n */\nfunction perpendicularFoot(point, line) {\n\n  var a = line[0], b = line[1];\n\n  // relative position of b from a\n  var bd = { x: b.x - a.x, y: b.y - a.y };\n\n  // solve equation system to the parametrized vectors param real value\n  var r = solveLambaSystem([ a.x, a.y ], [ bd.x, bd.y ], [ point.x, point.y ]);\n\n  return { x: a.x + r * bd.x, y: a.y + r * bd.y };\n}\n\n\n/**\n * Calculates the distance between a point and a line.\n *\n * @param {Point} point\n * @param {Point[]} line\n *\n * @return {number}\n */\nfunction getDistancePointLine(point, line) {\n\n  var pfPoint = perpendicularFoot(point, line);\n\n  // distance vector\n  var connectionVector = {\n    x: pfPoint.x - point.x,\n    y: pfPoint.y - point.y\n  };\n\n  return vectorLength(connectionVector);\n}\n\n\n/**\n * Calculates the distance between two points.\n *\n * @param {Point} point1\n * @param {Point} point2\n *\n * @return {number}\n */\nfunction getDistancePointPoint(point1, point2) {\n\n  return vectorLength({\n    x: point1.x - point2.x,\n    y: point1.y - point2.y\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYmVuZHBvaW50cy9HZW9tZXRyaWNVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0EsYUFBYSxrQ0FBa0M7QUFDL0MsYUFBYSxtQ0FBbUM7QUFDaEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUDtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQSxZQUFZO0FBQ1o7QUFDTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVk7QUFDWjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNLDhCQUE4QjtBQUNwQyxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLFNBQVM7QUFDcEI7QUFDQSxZQUFZO0FBQ1o7QUFDTzs7QUFFUDs7QUFFQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTs7QUFFQSxXQUFXO0FBQ1g7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLFNBQVM7QUFDcEI7QUFDQSxZQUFZO0FBQ1o7QUFDTzs7QUFFUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEI7QUFDQSxZQUFZO0FBQ1o7QUFDTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYmVuZHBvaW50cy9HZW9tZXRyaWNVdGlsLmpzPzQ5YzMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi91dGlsL1R5cGVzJykuUG9pbnR9IFBvaW50XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi91dGlsL1R5cGVzJykuVmVjdG9yfSBWZWN0b3JcbiAqL1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGxlbmd0aCBvZiBhIHZlY3Rvci5cbiAqXG4gKiBAcGFyYW0ge1ZlY3Rvcn0gdmVjdG9yXG4gKlxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdmVjdG9yTGVuZ3RoKHZlY3Rvcikge1xuICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KHZlY3Rvci54LCAyKSArIE1hdGgucG93KHZlY3Rvci55LCAyKSk7XG59XG5cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBhbmdsZSBiZXR3ZWVuIGEgbGluZSBhIHRoZSBZIGF4aXMuXG4gKlxuICogQHBhcmFtIHtQb2ludFtdfSBsaW5lXG4gKlxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QW5nbGUobGluZSkge1xuXG4gIC8vIHJldHVybiB2YWx1ZSBpcyBiZXR3ZWVuIDAsIDE4MCBhbmQgLTE4MCwgLTBcbiAgLy8gQGphbnN0dWVtbWVsOiBtYXliZSByZXBsYWNlIHJldHVybiBhL2Igd2l0aCBiL2FcbiAgcmV0dXJuIE1hdGguYXRhbigobGluZVsxXS55IC0gbGluZVswXS55KSAvIChsaW5lWzFdLnggLSBsaW5lWzBdLngpKTtcbn1cblxuXG4vKipcbiAqIFJvdGF0ZXMgYSB2ZWN0b3IgYnkgYSBnaXZlbiBhbmdsZS5cbiAqXG4gKiBAcGFyYW0ge1ZlY3Rvcn0gdmVjdG9yXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgVGhlIGFuZ2xlIGluIHJhZGlhbnMuXG4gKlxuICogQHJldHVybiB7VmVjdG9yfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlVmVjdG9yKHZlY3RvciwgYW5nbGUpIHtcbiAgcmV0dXJuICghYW5nbGUpID8gdmVjdG9yIDoge1xuICAgIHg6IE1hdGguY29zKGFuZ2xlKSAqIHZlY3Rvci54IC0gTWF0aC5zaW4oYW5nbGUpICogdmVjdG9yLnksXG4gICAgeTogTWF0aC5zaW4oYW5nbGUpICogdmVjdG9yLnggKyBNYXRoLmNvcyhhbmdsZSkgKiB2ZWN0b3IueVxuICB9O1xufVxuXG5cbi8qKlxuICogU29sdmVzIGEgMkQgZXF1YXRpb24gc3lzdGVtXG4gKiBhICsgcipiID0gYywgd2hlcmUgYSxiLGMgYXJlIDJEIHZlY3RvcnNcbiAqXG4gKiBAcGFyYW0ge1ZlY3Rvcn0gYVxuICogQHBhcmFtIHtWZWN0b3J9IGJcbiAqIEBwYXJhbSB7VmVjdG9yfSBjXG4gKlxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiBzb2x2ZUxhbWJhU3lzdGVtKGEsIGIsIGMpIHtcblxuICAvLyB0aGUgMmQgc3lzdGVtXG4gIHZhciBzeXN0ZW0gPSBbXG4gICAgeyBuOiBhWzBdIC0gY1swXSwgbGFtYmRhOiBiWzBdIH0sXG4gICAgeyBuOiBhWzFdIC0gY1sxXSwgbGFtYmRhOiBiWzFdIH1cbiAgXTtcblxuICAvLyBzb2x2ZVxuICB2YXIgbiA9IHN5c3RlbVswXS5uICogYlswXSArIHN5c3RlbVsxXS5uICogYlsxXSxcbiAgICAgIGwgPSBzeXN0ZW1bMF0ubGFtYmRhICogYlswXSArIHN5c3RlbVsxXS5sYW1iZGEgKiBiWzFdO1xuXG4gIHJldHVybiAtbiAvIGw7XG59XG5cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBwb3NpdGlvbiBvZiB0aGUgcGVycGVuZGljdWxhciBmb290LlxuICpcbiAqIEBwYXJhbSB7UG9pbnR9IHBvaW50XG4gKiBAcGFyYW0ge1BvaW50W119IGxpbmVcbiAqXG4gKiBAcmV0dXJuIHtQb2ludH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBlcnBlbmRpY3VsYXJGb290KHBvaW50LCBsaW5lKSB7XG5cbiAgdmFyIGEgPSBsaW5lWzBdLCBiID0gbGluZVsxXTtcblxuICAvLyByZWxhdGl2ZSBwb3NpdGlvbiBvZiBiIGZyb20gYVxuICB2YXIgYmQgPSB7IHg6IGIueCAtIGEueCwgeTogYi55IC0gYS55IH07XG5cbiAgLy8gc29sdmUgZXF1YXRpb24gc3lzdGVtIHRvIHRoZSBwYXJhbWV0cml6ZWQgdmVjdG9ycyBwYXJhbSByZWFsIHZhbHVlXG4gIHZhciByID0gc29sdmVMYW1iYVN5c3RlbShbIGEueCwgYS55IF0sIFsgYmQueCwgYmQueSBdLCBbIHBvaW50LngsIHBvaW50LnkgXSk7XG5cbiAgcmV0dXJuIHsgeDogYS54ICsgciAqIGJkLngsIHk6IGEueSArIHIgKiBiZC55IH07XG59XG5cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIGEgcG9pbnQgYW5kIGEgbGluZS5cbiAqXG4gKiBAcGFyYW0ge1BvaW50fSBwb2ludFxuICogQHBhcmFtIHtQb2ludFtdfSBsaW5lXG4gKlxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlzdGFuY2VQb2ludExpbmUocG9pbnQsIGxpbmUpIHtcblxuICB2YXIgcGZQb2ludCA9IHBlcnBlbmRpY3VsYXJGb290KHBvaW50LCBsaW5lKTtcblxuICAvLyBkaXN0YW5jZSB2ZWN0b3JcbiAgdmFyIGNvbm5lY3Rpb25WZWN0b3IgPSB7XG4gICAgeDogcGZQb2ludC54IC0gcG9pbnQueCxcbiAgICB5OiBwZlBvaW50LnkgLSBwb2ludC55XG4gIH07XG5cbiAgcmV0dXJuIHZlY3Rvckxlbmd0aChjb25uZWN0aW9uVmVjdG9yKTtcbn1cblxuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGRpc3RhbmNlIGJldHdlZW4gdHdvIHBvaW50cy5cbiAqXG4gKiBAcGFyYW0ge1BvaW50fSBwb2ludDFcbiAqIEBwYXJhbSB7UG9pbnR9IHBvaW50MlxuICpcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERpc3RhbmNlUG9pbnRQb2ludChwb2ludDEsIHBvaW50Mikge1xuXG4gIHJldHVybiB2ZWN0b3JMZW5ndGgoe1xuICAgIHg6IHBvaW50MS54IC0gcG9pbnQyLngsXG4gICAgeTogcG9pbnQxLnkgLSBwb2ludDIueVxuICB9KTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/bendpoints/GeometricUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/bendpoints/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/bendpoints/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _dragging__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dragging */ \"(ssr)/./node_modules/diagram-js/lib/features/dragging/index.js\");\n/* harmony import */ var _rules__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../rules */ \"(ssr)/./node_modules/diagram-js/lib/features/rules/index.js\");\n/* harmony import */ var _Bendpoints__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Bendpoints */ \"(ssr)/./node_modules/diagram-js/lib/features/bendpoints/Bendpoints.js\");\n/* harmony import */ var _BendpointMove__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BendpointMove */ \"(ssr)/./node_modules/diagram-js/lib/features/bendpoints/BendpointMove.js\");\n/* harmony import */ var _BendpointMovePreview__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./BendpointMovePreview */ \"(ssr)/./node_modules/diagram-js/lib/features/bendpoints/BendpointMovePreview.js\");\n/* harmony import */ var _ConnectionSegmentMove__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ConnectionSegmentMove */ \"(ssr)/./node_modules/diagram-js/lib/features/bendpoints/ConnectionSegmentMove.js\");\n/* harmony import */ var _BendpointSnapping__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./BendpointSnapping */ \"(ssr)/./node_modules/diagram-js/lib/features/bendpoints/BendpointSnapping.js\");\n\n\n\n\n\n\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _dragging__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    _rules__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n  ],\n  __init__: [ 'bendpoints', 'bendpointSnapping', 'bendpointMovePreview' ],\n  bendpoints: [ 'type', _Bendpoints__WEBPACK_IMPORTED_MODULE_2__[\"default\"] ],\n  bendpointMove: [ 'type', _BendpointMove__WEBPACK_IMPORTED_MODULE_3__[\"default\"] ],\n  bendpointMovePreview: [ 'type', _BendpointMovePreview__WEBPACK_IMPORTED_MODULE_4__[\"default\"] ],\n  connectionSegmentMove: [ 'type', _ConnectionSegmentMove__WEBPACK_IMPORTED_MODULE_5__[\"default\"] ],\n  bendpointSnapping: [ 'type', _BendpointSnapping__WEBPACK_IMPORTED_MODULE_6__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYmVuZHBvaW50cy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUF5QztBQUNOOztBQUVHO0FBQ007QUFDYztBQUNFO0FBQ1I7OztBQUdwRDtBQUNBLFdBQVc7QUFDWDtBQUNBLGlFQUFlO0FBQ2Y7QUFDQSxJQUFJLGlEQUFjO0FBQ2xCLElBQUksOENBQVc7QUFDZjtBQUNBO0FBQ0Esd0JBQXdCLG1EQUFVO0FBQ2xDLDJCQUEyQixzREFBYTtBQUN4QyxrQ0FBa0MsNkRBQW9CO0FBQ3RELG1DQUFtQyw4REFBcUI7QUFDeEQsK0JBQStCLDBEQUFpQjtBQUNoRCxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvYmVuZHBvaW50cy9pbmRleC5qcz9mZGJlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEcmFnZ2luZ01vZHVsZSBmcm9tICcuLi9kcmFnZ2luZyc7XG5pbXBvcnQgUnVsZXNNb2R1bGUgZnJvbSAnLi4vcnVsZXMnO1xuXG5pbXBvcnQgQmVuZHBvaW50cyBmcm9tICcuL0JlbmRwb2ludHMnO1xuaW1wb3J0IEJlbmRwb2ludE1vdmUgZnJvbSAnLi9CZW5kcG9pbnRNb3ZlJztcbmltcG9ydCBCZW5kcG9pbnRNb3ZlUHJldmlldyBmcm9tICcuL0JlbmRwb2ludE1vdmVQcmV2aWV3JztcbmltcG9ydCBDb25uZWN0aW9uU2VnbWVudE1vdmUgZnJvbSAnLi9Db25uZWN0aW9uU2VnbWVudE1vdmUnO1xuaW1wb3J0IEJlbmRwb2ludFNuYXBwaW5nIGZyb20gJy4vQmVuZHBvaW50U25hcHBpbmcnO1xuXG5cbi8qKlxuICogQHR5cGUgeyBpbXBvcnQoJ2RpZGknKS5Nb2R1bGVEZWNsYXJhdGlvbiB9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBEcmFnZ2luZ01vZHVsZSxcbiAgICBSdWxlc01vZHVsZVxuICBdLFxuICBfX2luaXRfXzogWyAnYmVuZHBvaW50cycsICdiZW5kcG9pbnRTbmFwcGluZycsICdiZW5kcG9pbnRNb3ZlUHJldmlldycgXSxcbiAgYmVuZHBvaW50czogWyAndHlwZScsIEJlbmRwb2ludHMgXSxcbiAgYmVuZHBvaW50TW92ZTogWyAndHlwZScsIEJlbmRwb2ludE1vdmUgXSxcbiAgYmVuZHBvaW50TW92ZVByZXZpZXc6IFsgJ3R5cGUnLCBCZW5kcG9pbnRNb3ZlUHJldmlldyBdLFxuICBjb25uZWN0aW9uU2VnbWVudE1vdmU6IFsgJ3R5cGUnLCBDb25uZWN0aW9uU2VnbWVudE1vdmUgXSxcbiAgYmVuZHBvaW50U25hcHBpbmc6IFsgJ3R5cGUnLCBCZW5kcG9pbnRTbmFwcGluZyBdXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/bendpoints/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/change-support/ChangeSupport.js":
/*!******************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/change-support/ChangeSupport.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChangeSupport)\n/* harmony export */ });\n/* harmony import */ var _util_Elements__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/Elements */ \"(ssr)/./node_modules/diagram-js/lib/util/Elements.js\");\n\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../../core/GraphicsFactory').default} GraphicsFactory\n */\n\n/**\n * Adds change support to the diagram, including\n *\n * <ul>\n *   <li>redrawing shapes and connections on change</li>\n * </ul>\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {ElementRegistry} elementRegistry\n * @param {GraphicsFactory} graphicsFactory\n */\nfunction ChangeSupport(\n    eventBus, canvas, elementRegistry,\n    graphicsFactory) {\n\n\n  // redraw shapes / connections on change\n\n  eventBus.on('element.changed', function(event) {\n\n    var element = event.element;\n\n    // element might have been deleted and replaced by new element with same ID\n    // thus check for parent of element except for root element\n    if (element.parent || element === canvas.getRootElement()) {\n      event.gfx = elementRegistry.getGraphics(element);\n    }\n\n    // shape + gfx may have been deleted\n    if (!event.gfx) {\n      return;\n    }\n\n    eventBus.fire((0,_util_Elements__WEBPACK_IMPORTED_MODULE_0__.getType)(element) + '.changed', event);\n  });\n\n  eventBus.on('elements.changed', function(event) {\n\n    var elements = event.elements;\n\n    elements.forEach(function(e) {\n      eventBus.fire('element.changed', { element: e });\n    });\n\n    graphicsFactory.updateContainments(elements);\n  });\n\n  eventBus.on('shape.changed', function(event) {\n    graphicsFactory.update('shape', event.element, event.gfx);\n  });\n\n  eventBus.on('connection.changed', function(event) {\n    graphicsFactory.update('connection', event.element, event.gfx);\n  });\n}\n\nChangeSupport.$inject = [\n  'eventBus',\n  'canvas',\n  'elementRegistry',\n  'graphicsFactory'\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY2hhbmdlLXN1cHBvcnQvQ2hhbmdlU3VwcG9ydC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUU2Qjs7QUFFN0I7QUFDQSxhQUFhLHFDQUFxQztBQUNsRCxhQUFhLDhDQUE4QztBQUMzRCxhQUFhLHVDQUF1QztBQUNwRCxhQUFhLDhDQUE4QztBQUMzRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxpQkFBaUI7QUFDNUIsV0FBVyxpQkFBaUI7QUFDNUI7QUFDZTtBQUNmO0FBQ0E7OztBQUdBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCLHVEQUFjO0FBQ2hDLEdBQUc7O0FBRUg7O0FBRUE7O0FBRUE7QUFDQSx5Q0FBeUMsWUFBWTtBQUNyRCxLQUFLOztBQUVMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jaGFuZ2Utc3VwcG9ydC9DaGFuZ2VTdXBwb3J0LmpzPzBkNjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgZ2V0VHlwZSBhcyBnZXRFbGVtZW50VHlwZVxufSBmcm9tICcuLi8uLi91dGlsL0VsZW1lbnRzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0NhbnZhcycpLmRlZmF1bHR9IENhbnZhc1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FbGVtZW50UmVnaXN0cnknKS5kZWZhdWx0fSBFbGVtZW50UmVnaXN0cnlcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9HcmFwaGljc0ZhY3RvcnknKS5kZWZhdWx0fSBHcmFwaGljc0ZhY3RvcnlcbiAqL1xuXG4vKipcbiAqIEFkZHMgY2hhbmdlIHN1cHBvcnQgdG8gdGhlIGRpYWdyYW0sIGluY2x1ZGluZ1xuICpcbiAqIDx1bD5cbiAqICAgPGxpPnJlZHJhd2luZyBzaGFwZXMgYW5kIGNvbm5lY3Rpb25zIG9uIGNoYW5nZTwvbGk+XG4gKiA8L3VsPlxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKiBAcGFyYW0ge0VsZW1lbnRSZWdpc3RyeX0gZWxlbWVudFJlZ2lzdHJ5XG4gKiBAcGFyYW0ge0dyYXBoaWNzRmFjdG9yeX0gZ3JhcGhpY3NGYWN0b3J5XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENoYW5nZVN1cHBvcnQoXG4gICAgZXZlbnRCdXMsIGNhbnZhcywgZWxlbWVudFJlZ2lzdHJ5LFxuICAgIGdyYXBoaWNzRmFjdG9yeSkge1xuXG5cbiAgLy8gcmVkcmF3IHNoYXBlcyAvIGNvbm5lY3Rpb25zIG9uIGNoYW5nZVxuXG4gIGV2ZW50QnVzLm9uKCdlbGVtZW50LmNoYW5nZWQnLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGVsZW1lbnQgPSBldmVudC5lbGVtZW50O1xuXG4gICAgLy8gZWxlbWVudCBtaWdodCBoYXZlIGJlZW4gZGVsZXRlZCBhbmQgcmVwbGFjZWQgYnkgbmV3IGVsZW1lbnQgd2l0aCBzYW1lIElEXG4gICAgLy8gdGh1cyBjaGVjayBmb3IgcGFyZW50IG9mIGVsZW1lbnQgZXhjZXB0IGZvciByb290IGVsZW1lbnRcbiAgICBpZiAoZWxlbWVudC5wYXJlbnQgfHwgZWxlbWVudCA9PT0gY2FudmFzLmdldFJvb3RFbGVtZW50KCkpIHtcbiAgICAgIGV2ZW50LmdmeCA9IGVsZW1lbnRSZWdpc3RyeS5nZXRHcmFwaGljcyhlbGVtZW50KTtcbiAgICB9XG5cbiAgICAvLyBzaGFwZSArIGdmeCBtYXkgaGF2ZSBiZWVuIGRlbGV0ZWRcbiAgICBpZiAoIWV2ZW50LmdmeCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGV2ZW50QnVzLmZpcmUoZ2V0RWxlbWVudFR5cGUoZWxlbWVudCkgKyAnLmNoYW5nZWQnLCBldmVudCk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdlbGVtZW50cy5jaGFuZ2VkJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBlbGVtZW50cyA9IGV2ZW50LmVsZW1lbnRzO1xuXG4gICAgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlKSB7XG4gICAgICBldmVudEJ1cy5maXJlKCdlbGVtZW50LmNoYW5nZWQnLCB7IGVsZW1lbnQ6IGUgfSk7XG4gICAgfSk7XG5cbiAgICBncmFwaGljc0ZhY3RvcnkudXBkYXRlQ29udGFpbm1lbnRzKGVsZW1lbnRzKTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ3NoYXBlLmNoYW5nZWQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIGdyYXBoaWNzRmFjdG9yeS51cGRhdGUoJ3NoYXBlJywgZXZlbnQuZWxlbWVudCwgZXZlbnQuZ2Z4KTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2Nvbm5lY3Rpb24uY2hhbmdlZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgZ3JhcGhpY3NGYWN0b3J5LnVwZGF0ZSgnY29ubmVjdGlvbicsIGV2ZW50LmVsZW1lbnQsIGV2ZW50LmdmeCk7XG4gIH0pO1xufVxuXG5DaGFuZ2VTdXBwb3J0LiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdjYW52YXMnLFxuICAnZWxlbWVudFJlZ2lzdHJ5JyxcbiAgJ2dyYXBoaWNzRmFjdG9yeSdcbl07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/change-support/ChangeSupport.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/change-support/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/change-support/index.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ChangeSupport__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ChangeSupport */ \"(ssr)/./node_modules/diagram-js/lib/features/change-support/ChangeSupport.js\");\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [ 'changeSupport' ],\n  changeSupport: [ 'type', _ChangeSupport__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY2hhbmdlLXN1cHBvcnQvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNEM7OztBQUc1QztBQUNBLFdBQVc7QUFDWDtBQUNBLGlFQUFlO0FBQ2Y7QUFDQSwyQkFBMkIsc0RBQWE7QUFDeEMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jaGFuZ2Utc3VwcG9ydC9pbmRleC5qcz9hZDQ4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDaGFuZ2VTdXBwb3J0IGZyb20gJy4vQ2hhbmdlU3VwcG9ydCc7XG5cblxuLyoqXG4gKiBAdHlwZSB7IGltcG9ydCgnZGlkaScpLk1vZHVsZURlY2xhcmF0aW9uIH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogWyAnY2hhbmdlU3VwcG9ydCcgXSxcbiAgY2hhbmdlU3VwcG9ydDogWyAndHlwZScsIENoYW5nZVN1cHBvcnQgXVxufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/change-support/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/clipboard/Clipboard.js":
/*!*********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/clipboard/Clipboard.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Clipboard)\n/* harmony export */ });\n/**\n * A clip board stub\n */\nfunction Clipboard() {}\n\n\nClipboard.prototype.get = function() {\n  return this._data;\n};\n\nClipboard.prototype.set = function(data) {\n  this._data = data;\n};\n\nClipboard.prototype.clear = function() {\n  var data = this._data;\n\n  delete this._data;\n\n  return data;\n};\n\nClipboard.prototype.isEmpty = function() {\n  return !this._data;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY2xpcGJvYXJkL0NsaXBib2FyZC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ2U7OztBQUdmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jbGlwYm9hcmQvQ2xpcGJvYXJkLmpzP2EyNDkiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBIGNsaXAgYm9hcmQgc3R1YlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDbGlwYm9hcmQoKSB7fVxuXG5cbkNsaXBib2FyZC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9kYXRhO1xufTtcblxuQ2xpcGJvYXJkLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihkYXRhKSB7XG4gIHRoaXMuX2RhdGEgPSBkYXRhO1xufTtcblxuQ2xpcGJvYXJkLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZGF0YSA9IHRoaXMuX2RhdGE7XG5cbiAgZGVsZXRlIHRoaXMuX2RhdGE7XG5cbiAgcmV0dXJuIGRhdGE7XG59O1xuXG5DbGlwYm9hcmQucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICF0aGlzLl9kYXRhO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/clipboard/Clipboard.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/clipboard/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/clipboard/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Clipboard__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Clipboard */ \"(ssr)/./node_modules/diagram-js/lib/features/clipboard/Clipboard.js\");\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  clipboard: [ 'type', _Clipboard__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY2xpcGJvYXJkL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQW9DOzs7QUFHcEM7QUFDQSxXQUFXO0FBQ1g7QUFDQSxpRUFBZTtBQUNmLHVCQUF1QixrREFBUztBQUNoQyxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY2xpcGJvYXJkL2luZGV4LmpzP2NkNDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENsaXBib2FyZCBmcm9tICcuL0NsaXBib2FyZCc7XG5cblxuLyoqXG4gKiBAdHlwZSB7IGltcG9ydCgnZGlkaScpLk1vZHVsZURlY2xhcmF0aW9uIH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBjbGlwYm9hcmQ6IFsgJ3R5cGUnLCBDbGlwYm9hcmQgXVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/clipboard/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/complex-preview/ComplexPreview.js":
/*!********************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/complex-preview/ComplexPreview.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ComplexPreview)\n/* harmony export */ });\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/./node_modules/tiny-svg/dist/index.esm.js\");\n/* harmony import */ var _util_GraphicsUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/GraphicsUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/GraphicsUtil.js\");\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/ModelUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/ModelUtil.js\");\n/* harmony import */ var _util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/SvgTransformUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/SvgTransformUtil.js\");\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n * @typedef {import('../../model/Types').Shape} Shape\n * @typedef {import('../../util/Types').Point} Point\n * @typedef {import('../../util/Types').Rect} Rect\n *\n * @typedef { { element: Element, delta: Point } } MovedOption\n * @typedef { { shape: Shape, bounds: Rect } } ResizedOption\n *\n * @typedef { {\n *   created?: Element[],\n *   removed?: Element[],\n *   moved?: MovedOption[],\n *   resized?: ResizedOption[]\n * } } CreateOptions\n */\n\nconst LAYER_NAME = 'complex-preview';\n\n/**\n * Complex preview for shapes and connections.\n */\nclass ComplexPreview {\n  constructor(canvas, graphicsFactory, previewSupport) {\n    this._canvas = canvas;\n    this._graphicsFactory = graphicsFactory;\n    this._previewSupport = previewSupport;\n\n    this._markers = [];\n  }\n\n  /**\n   * Create complex preview.\n   *\n   * @param {CreateOptions} options\n   */\n  create(options) {\n\n    // there can only be one complex preview at a time\n    this.cleanUp();\n\n    const {\n      created = [],\n      moved = [],\n      removed = [],\n      resized = []\n    } = options;\n\n    const layer = this._canvas.getLayer(LAYER_NAME);\n\n    // shapes and connections to be created\n    created.filter(element => !isHidden(element)).forEach(element => {\n      let gfx;\n\n      if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.isConnection)(element)) {\n        gfx = this._graphicsFactory._createContainer('connection', (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('g'));\n\n        this._graphicsFactory.drawConnection((0,_util_GraphicsUtil__WEBPACK_IMPORTED_MODULE_2__.getVisual)(gfx), element);\n      } else {\n        gfx = this._graphicsFactory._createContainer('shape', (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('g'));\n\n        this._graphicsFactory.drawShape((0,_util_GraphicsUtil__WEBPACK_IMPORTED_MODULE_2__.getVisual)(gfx), element);\n\n        (0,_util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_3__.translate)(gfx, element.x, element.y);\n      }\n\n      this._previewSupport.addDragger(element, layer, gfx);\n    });\n\n    // elements to be moved\n    moved.forEach(({ element, delta }) => {\n      this._previewSupport.addDragger(element, layer, undefined, 'djs-dragging');\n\n      this._canvas.addMarker(element, 'djs-element-hidden');\n\n      this._markers.push([ element, 'djs-element-hidden' ]);\n\n      const dragger = this._previewSupport.addDragger(element, layer);\n\n      if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.isConnection)(element)) {\n        (0,_util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_3__.translate)(dragger, delta.x, delta.y);\n      } else {\n        (0,_util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_3__.translate)(dragger, element.x + delta.x, element.y + delta.y);\n      }\n    });\n\n    // elements to be removed\n    removed.forEach(element => {\n      this._previewSupport.addDragger(element, layer, undefined, 'djs-dragging');\n\n      this._canvas.addMarker(element, 'djs-element-hidden');\n\n      this._markers.push([ element, 'djs-element-hidden' ]);\n    });\n\n    // elements to be resized\n    resized.forEach(({ shape, bounds }) => {\n      this._canvas.addMarker(shape, 'djs-hidden');\n\n      this._markers.push([ shape, 'djs-hidden' ]);\n\n      this._previewSupport.addDragger(shape, layer, undefined, 'djs-dragging');\n\n      const gfx = this._graphicsFactory._createContainer('shape', (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('g'));\n\n      this._graphicsFactory.drawShape((0,_util_GraphicsUtil__WEBPACK_IMPORTED_MODULE_2__.getVisual)(gfx), shape, {\n        width: bounds.width,\n        height: bounds.height\n      });\n\n      (0,_util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_3__.translate)(gfx, bounds.x, bounds.y);\n\n      this._previewSupport.addDragger(shape, layer, gfx);\n    });\n  }\n\n  cleanUp() {\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.clear)(this._canvas.getLayer(LAYER_NAME));\n\n    this._markers.forEach(([ element, marker ]) => this._canvas.removeMarker(element, marker));\n\n    this._markers = [];\n  }\n\n  show() {\n    this._canvas.showLayer(LAYER_NAME);\n  }\n\n  hide() {\n    this._canvas.hideLayer(LAYER_NAME);\n  }\n}\n\nComplexPreview.$inject = [\n  'canvas',\n  'graphicsFactory',\n  'previewSupport'\n];\n\nfunction isHidden(element) {\n  return element.hidden;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29tcGxleC1wcmV2aWV3L0NvbXBsZXhQcmV2aWV3LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBR2tCOztBQUVrQzs7QUFFQTs7QUFFSTs7QUFFeEQ7QUFDQSxhQUFhLHFDQUFxQztBQUNsRCxhQUFhLG1DQUFtQztBQUNoRCxhQUFhLGtDQUFrQztBQUMvQyxhQUFhLGlDQUFpQztBQUM5QztBQUNBLGdCQUFnQixtQ0FBbUM7QUFDbkQsZ0JBQWdCLCtCQUErQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZUFBZTtBQUM1QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47O0FBRUE7QUFDQTtBQUNBOztBQUVBLFVBQVUsNkRBQVk7QUFDdEIsbUVBQW1FLGdEQUFTOztBQUU1RSw2Q0FBNkMsNkRBQVM7QUFDdEQsUUFBUTtBQUNSLDhEQUE4RCxnREFBUzs7QUFFdkUsd0NBQXdDLDZEQUFTOztBQUVqRCxRQUFRLGlFQUFTO0FBQ2pCOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLHFCQUFxQixnQkFBZ0I7QUFDckM7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsVUFBVSw2REFBWTtBQUN0QixRQUFRLGlFQUFTO0FBQ2pCLFFBQVE7QUFDUixRQUFRLGlFQUFTO0FBQ2pCO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0EsdUJBQXVCLGVBQWU7QUFDdEM7O0FBRUE7O0FBRUE7O0FBRUEsa0VBQWtFLGdEQUFTOztBQUUzRSxzQ0FBc0MsNkRBQVM7QUFDL0M7QUFDQTtBQUNBLE9BQU87O0FBRVAsTUFBTSxpRUFBUzs7QUFFZjtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLElBQUksK0NBQVE7O0FBRVo7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29tcGxleC1wcmV2aWV3L0NvbXBsZXhQcmV2aWV3LmpzPzhmMzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgY2xlYXIgYXMgc3ZnQ2xlYXIsXG4gIGNyZWF0ZSBhcyBzdmdDcmVhdGVcbn0gZnJvbSAndGlueS1zdmcnO1xuXG5pbXBvcnQgeyBnZXRWaXN1YWwgfSBmcm9tICcuLi8uLi91dGlsL0dyYXBoaWNzVXRpbCc7XG5cbmltcG9ydCB7IGlzQ29ubmVjdGlvbiB9IGZyb20gJy4uLy4uL3V0aWwvTW9kZWxVdGlsJztcblxuaW1wb3J0IHsgdHJhbnNsYXRlIH0gZnJvbSAnLi4vLi4vdXRpbC9TdmdUcmFuc2Zvcm1VdGlsJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9tb2RlbC9UeXBlcycpLkVsZW1lbnR9IEVsZW1lbnRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL21vZGVsL1R5cGVzJykuU2hhcGV9IFNoYXBlXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi91dGlsL1R5cGVzJykuUG9pbnR9IFBvaW50XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi91dGlsL1R5cGVzJykuUmVjdH0gUmVjdFxuICpcbiAqIEB0eXBlZGVmIHsgeyBlbGVtZW50OiBFbGVtZW50LCBkZWx0YTogUG9pbnQgfSB9IE1vdmVkT3B0aW9uXG4gKiBAdHlwZWRlZiB7IHsgc2hhcGU6IFNoYXBlLCBib3VuZHM6IFJlY3QgfSB9IFJlc2l6ZWRPcHRpb25cbiAqXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgY3JlYXRlZD86IEVsZW1lbnRbXSxcbiAqICAgcmVtb3ZlZD86IEVsZW1lbnRbXSxcbiAqICAgbW92ZWQ/OiBNb3ZlZE9wdGlvbltdLFxuICogICByZXNpemVkPzogUmVzaXplZE9wdGlvbltdXG4gKiB9IH0gQ3JlYXRlT3B0aW9uc1xuICovXG5cbmNvbnN0IExBWUVSX05BTUUgPSAnY29tcGxleC1wcmV2aWV3JztcblxuLyoqXG4gKiBDb21wbGV4IHByZXZpZXcgZm9yIHNoYXBlcyBhbmQgY29ubmVjdGlvbnMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbXBsZXhQcmV2aWV3IHtcbiAgY29uc3RydWN0b3IoY2FudmFzLCBncmFwaGljc0ZhY3RvcnksIHByZXZpZXdTdXBwb3J0KSB7XG4gICAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuICAgIHRoaXMuX2dyYXBoaWNzRmFjdG9yeSA9IGdyYXBoaWNzRmFjdG9yeTtcbiAgICB0aGlzLl9wcmV2aWV3U3VwcG9ydCA9IHByZXZpZXdTdXBwb3J0O1xuXG4gICAgdGhpcy5fbWFya2VycyA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBjb21wbGV4IHByZXZpZXcuXG4gICAqXG4gICAqIEBwYXJhbSB7Q3JlYXRlT3B0aW9uc30gb3B0aW9uc1xuICAgKi9cbiAgY3JlYXRlKG9wdGlvbnMpIHtcblxuICAgIC8vIHRoZXJlIGNhbiBvbmx5IGJlIG9uZSBjb21wbGV4IHByZXZpZXcgYXQgYSB0aW1lXG4gICAgdGhpcy5jbGVhblVwKCk7XG5cbiAgICBjb25zdCB7XG4gICAgICBjcmVhdGVkID0gW10sXG4gICAgICBtb3ZlZCA9IFtdLFxuICAgICAgcmVtb3ZlZCA9IFtdLFxuICAgICAgcmVzaXplZCA9IFtdXG4gICAgfSA9IG9wdGlvbnM7XG5cbiAgICBjb25zdCBsYXllciA9IHRoaXMuX2NhbnZhcy5nZXRMYXllcihMQVlFUl9OQU1FKTtcblxuICAgIC8vIHNoYXBlcyBhbmQgY29ubmVjdGlvbnMgdG8gYmUgY3JlYXRlZFxuICAgIGNyZWF0ZWQuZmlsdGVyKGVsZW1lbnQgPT4gIWlzSGlkZGVuKGVsZW1lbnQpKS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgbGV0IGdmeDtcblxuICAgICAgaWYgKGlzQ29ubmVjdGlvbihlbGVtZW50KSkge1xuICAgICAgICBnZnggPSB0aGlzLl9ncmFwaGljc0ZhY3RvcnkuX2NyZWF0ZUNvbnRhaW5lcignY29ubmVjdGlvbicsIHN2Z0NyZWF0ZSgnZycpKTtcblxuICAgICAgICB0aGlzLl9ncmFwaGljc0ZhY3RvcnkuZHJhd0Nvbm5lY3Rpb24oZ2V0VmlzdWFsKGdmeCksIGVsZW1lbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ2Z4ID0gdGhpcy5fZ3JhcGhpY3NGYWN0b3J5Ll9jcmVhdGVDb250YWluZXIoJ3NoYXBlJywgc3ZnQ3JlYXRlKCdnJykpO1xuXG4gICAgICAgIHRoaXMuX2dyYXBoaWNzRmFjdG9yeS5kcmF3U2hhcGUoZ2V0VmlzdWFsKGdmeCksIGVsZW1lbnQpO1xuXG4gICAgICAgIHRyYW5zbGF0ZShnZngsIGVsZW1lbnQueCwgZWxlbWVudC55KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fcHJldmlld1N1cHBvcnQuYWRkRHJhZ2dlcihlbGVtZW50LCBsYXllciwgZ2Z4KTtcbiAgICB9KTtcblxuICAgIC8vIGVsZW1lbnRzIHRvIGJlIG1vdmVkXG4gICAgbW92ZWQuZm9yRWFjaCgoeyBlbGVtZW50LCBkZWx0YSB9KSA9PiB7XG4gICAgICB0aGlzLl9wcmV2aWV3U3VwcG9ydC5hZGREcmFnZ2VyKGVsZW1lbnQsIGxheWVyLCB1bmRlZmluZWQsICdkanMtZHJhZ2dpbmcnKTtcblxuICAgICAgdGhpcy5fY2FudmFzLmFkZE1hcmtlcihlbGVtZW50LCAnZGpzLWVsZW1lbnQtaGlkZGVuJyk7XG5cbiAgICAgIHRoaXMuX21hcmtlcnMucHVzaChbIGVsZW1lbnQsICdkanMtZWxlbWVudC1oaWRkZW4nIF0pO1xuXG4gICAgICBjb25zdCBkcmFnZ2VyID0gdGhpcy5fcHJldmlld1N1cHBvcnQuYWRkRHJhZ2dlcihlbGVtZW50LCBsYXllcik7XG5cbiAgICAgIGlmIChpc0Nvbm5lY3Rpb24oZWxlbWVudCkpIHtcbiAgICAgICAgdHJhbnNsYXRlKGRyYWdnZXIsIGRlbHRhLngsIGRlbHRhLnkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNsYXRlKGRyYWdnZXIsIGVsZW1lbnQueCArIGRlbHRhLngsIGVsZW1lbnQueSArIGRlbHRhLnkpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gZWxlbWVudHMgdG8gYmUgcmVtb3ZlZFxuICAgIHJlbW92ZWQuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIHRoaXMuX3ByZXZpZXdTdXBwb3J0LmFkZERyYWdnZXIoZWxlbWVudCwgbGF5ZXIsIHVuZGVmaW5lZCwgJ2Rqcy1kcmFnZ2luZycpO1xuXG4gICAgICB0aGlzLl9jYW52YXMuYWRkTWFya2VyKGVsZW1lbnQsICdkanMtZWxlbWVudC1oaWRkZW4nKTtcblxuICAgICAgdGhpcy5fbWFya2Vycy5wdXNoKFsgZWxlbWVudCwgJ2Rqcy1lbGVtZW50LWhpZGRlbicgXSk7XG4gICAgfSk7XG5cbiAgICAvLyBlbGVtZW50cyB0byBiZSByZXNpemVkXG4gICAgcmVzaXplZC5mb3JFYWNoKCh7IHNoYXBlLCBib3VuZHMgfSkgPT4ge1xuICAgICAgdGhpcy5fY2FudmFzLmFkZE1hcmtlcihzaGFwZSwgJ2Rqcy1oaWRkZW4nKTtcblxuICAgICAgdGhpcy5fbWFya2Vycy5wdXNoKFsgc2hhcGUsICdkanMtaGlkZGVuJyBdKTtcblxuICAgICAgdGhpcy5fcHJldmlld1N1cHBvcnQuYWRkRHJhZ2dlcihzaGFwZSwgbGF5ZXIsIHVuZGVmaW5lZCwgJ2Rqcy1kcmFnZ2luZycpO1xuXG4gICAgICBjb25zdCBnZnggPSB0aGlzLl9ncmFwaGljc0ZhY3RvcnkuX2NyZWF0ZUNvbnRhaW5lcignc2hhcGUnLCBzdmdDcmVhdGUoJ2cnKSk7XG5cbiAgICAgIHRoaXMuX2dyYXBoaWNzRmFjdG9yeS5kcmF3U2hhcGUoZ2V0VmlzdWFsKGdmeCksIHNoYXBlLCB7XG4gICAgICAgIHdpZHRoOiBib3VuZHMud2lkdGgsXG4gICAgICAgIGhlaWdodDogYm91bmRzLmhlaWdodFxuICAgICAgfSk7XG5cbiAgICAgIHRyYW5zbGF0ZShnZngsIGJvdW5kcy54LCBib3VuZHMueSk7XG5cbiAgICAgIHRoaXMuX3ByZXZpZXdTdXBwb3J0LmFkZERyYWdnZXIoc2hhcGUsIGxheWVyLCBnZngpO1xuICAgIH0pO1xuICB9XG5cbiAgY2xlYW5VcCgpIHtcbiAgICBzdmdDbGVhcih0aGlzLl9jYW52YXMuZ2V0TGF5ZXIoTEFZRVJfTkFNRSkpO1xuXG4gICAgdGhpcy5fbWFya2Vycy5mb3JFYWNoKChbIGVsZW1lbnQsIG1hcmtlciBdKSA9PiB0aGlzLl9jYW52YXMucmVtb3ZlTWFya2VyKGVsZW1lbnQsIG1hcmtlcikpO1xuXG4gICAgdGhpcy5fbWFya2VycyA9IFtdO1xuICB9XG5cbiAgc2hvdygpIHtcbiAgICB0aGlzLl9jYW52YXMuc2hvd0xheWVyKExBWUVSX05BTUUpO1xuICB9XG5cbiAgaGlkZSgpIHtcbiAgICB0aGlzLl9jYW52YXMuaGlkZUxheWVyKExBWUVSX05BTUUpO1xuICB9XG59XG5cbkNvbXBsZXhQcmV2aWV3LiRpbmplY3QgPSBbXG4gICdjYW52YXMnLFxuICAnZ3JhcGhpY3NGYWN0b3J5JyxcbiAgJ3ByZXZpZXdTdXBwb3J0J1xuXTtcblxuZnVuY3Rpb24gaXNIaWRkZW4oZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC5oaWRkZW47XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/complex-preview/ComplexPreview.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/complex-preview/index.js":
/*!***********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/complex-preview/index.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _preview_support__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../preview-support */ \"(ssr)/./node_modules/diagram-js/lib/features/preview-support/index.js\");\n/* harmony import */ var _ComplexPreview__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ComplexPreview */ \"(ssr)/./node_modules/diagram-js/lib/features/complex-preview/ComplexPreview.js\");\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [ _preview_support__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ],\n  __init__: [ 'complexPreview' ],\n  complexPreview: [ 'type', _ComplexPreview__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29tcGxleC1wcmV2aWV3L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFzRDs7QUFFUjs7QUFFOUM7QUFDQSxXQUFXO0FBQ1g7QUFDQSxpRUFBZTtBQUNmLGlCQUFpQix3REFBb0I7QUFDckM7QUFDQSw0QkFBNEIsdURBQWM7QUFDMUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jb21wbGV4LXByZXZpZXcvaW5kZXguanM/OGUyZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJldmlld1N1cHBvcnRNb2R1bGUgZnJvbSAnLi4vcHJldmlldy1zdXBwb3J0JztcblxuaW1wb3J0IENvbXBsZXhQcmV2aWV3IGZyb20gJy4vQ29tcGxleFByZXZpZXcnO1xuXG4vKipcbiAqIEB0eXBlIHsgaW1wb3J0KCdkaWRpJykuTW9kdWxlRGVjbGFyYXRpb24gfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbIFByZXZpZXdTdXBwb3J0TW9kdWxlIF0sXG4gIF9faW5pdF9fOiBbICdjb21wbGV4UHJldmlldycgXSxcbiAgY29tcGxleFByZXZpZXc6IFsgJ3R5cGUnLCBDb21wbGV4UHJldmlldyBdXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/complex-preview/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/connect/Connect.js":
/*!*****************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/connect/Connect.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Connect),\n/* harmony export */   isReverse: () => (/* binding */ isReverse)\n/* harmony export */ });\n/* harmony import */ var _layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../layout/LayoutUtil */ \"(ssr)/./node_modules/diagram-js/lib/layout/LayoutUtil.js\");\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef {import('../../util/Types').Point} Point\n *\n * @typedef {import('../dragging/Dragging').default} Dragging\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../modeling/Modeling').default} Modeling\n * @typedef {import('../rules/Rules').default} Rules\n */\n\n/**\n * @param {EventBus} eventBus\n * @param {Dragging} dragging\n * @param {Modeling} modeling\n * @param {Rules} rules\n */\nfunction Connect(eventBus, dragging, modeling, rules) {\n\n  // rules\n\n  function canConnect(source, target) {\n    return rules.allowed('connection.create', {\n      source: source,\n      target: target\n    });\n  }\n\n  function canConnectReverse(source, target) {\n    return canConnect(target, source);\n  }\n\n\n  // event handlers\n\n  eventBus.on('connect.hover', function(event) {\n    var context = event.context,\n        start = context.start,\n        hover = event.hover,\n        canExecute;\n\n    // cache hover state\n    context.hover = hover;\n\n    canExecute = context.canExecute = canConnect(start, hover);\n\n    // ignore hover\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNil)(canExecute)) {\n      return;\n    }\n\n    if (canExecute !== false) {\n      context.source = start;\n      context.target = hover;\n\n      return;\n    }\n\n    canExecute = context.canExecute = canConnectReverse(start, hover);\n\n    // ignore hover\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNil)(canExecute)) {\n      return;\n    }\n\n    if (canExecute !== false) {\n      context.source = hover;\n      context.target = start;\n    }\n  });\n\n  eventBus.on([ 'connect.out', 'connect.cleanup' ], function(event) {\n    var context = event.context;\n\n    context.hover = null;\n    context.source = null;\n    context.target = null;\n\n    context.canExecute = false;\n  });\n\n  eventBus.on('connect.end', function(event) {\n    var context = event.context,\n        canExecute = context.canExecute,\n        connectionStart = context.connectionStart,\n        connectionEnd = {\n          x: event.x,\n          y: event.y\n        },\n        source = context.source,\n        target = context.target;\n\n    if (!canExecute) {\n      return false;\n    }\n\n    var attrs = null,\n        hints = {\n          connectionStart: isReverse(context) ? connectionEnd : connectionStart,\n          connectionEnd: isReverse(context) ? connectionStart : connectionEnd\n        };\n\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isObject)(canExecute)) {\n      attrs = canExecute;\n    }\n\n    context.connection = modeling.connect(source, target, attrs, hints);\n  });\n\n\n  // API\n\n  /**\n   * Start connect operation.\n   *\n   * @param {MouseEvent|TouchEvent} event\n   * @param {Element} start\n   * @param {Point} [connectionStart]\n   * @param {boolean} [autoActivate=false]\n   */\n  this.start = function(event, start, connectionStart, autoActivate) {\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isObject)(connectionStart)) {\n      autoActivate = connectionStart;\n      connectionStart = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.getMid)(start);\n    }\n\n    dragging.init(event, 'connect', {\n      autoActivate: autoActivate,\n      data: {\n        shape: start,\n        context: {\n          start: start,\n          connectionStart: connectionStart\n        }\n      }\n    });\n  };\n}\n\nConnect.$inject = [\n  'eventBus',\n  'dragging',\n  'modeling',\n  'rules'\n];\n\n\n// helpers //////////\n\nfunction isReverse(context) {\n  var hover = context.hover,\n      source = context.source,\n      target = context.target;\n\n  return hover && source && hover === source && source !== target;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29ubmVjdC9Db25uZWN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFFaUM7O0FBS2Y7O0FBRWxCO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQ7QUFDQSxhQUFhLGtDQUFrQztBQUMvQztBQUNBLGFBQWEsd0NBQXdDO0FBQ3JELGFBQWEsdUNBQXVDO0FBQ3BELGFBQWEsd0NBQXdDO0FBQ3JELGFBQWEsa0NBQWtDO0FBQy9DOztBQUVBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsVUFBVTtBQUNyQixXQUFXLFVBQVU7QUFDckIsV0FBVyxPQUFPO0FBQ2xCO0FBQ2U7O0FBRWY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxRQUFRLCtDQUFLO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFFBQVEsK0NBQUs7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLGtEQUFRO0FBQ2hCO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOzs7QUFHSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHVCQUF1QjtBQUNwQyxhQUFhLFNBQVM7QUFDdEIsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0EsU0FBUyxrREFBUTtBQUNqQjtBQUNBLHdCQUF3QiwwREFBTTtBQUM5Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29ubmVjdC9Db25uZWN0LmpzPzllNDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgZ2V0TWlkXG59IGZyb20gJy4uLy4uL2xheW91dC9MYXlvdXRVdGlsJztcblxuaW1wb3J0IHtcbiAgaXNOaWwsXG4gIGlzT2JqZWN0XG59IGZyb20gJ21pbi1kYXNoJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9tb2RlbC9UeXBlcycpLkVsZW1lbnR9IEVsZW1lbnRcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi91dGlsL1R5cGVzJykuUG9pbnR9IFBvaW50XG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vZHJhZ2dpbmcvRHJhZ2dpbmcnKS5kZWZhdWx0fSBEcmFnZ2luZ1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9tb2RlbGluZy9Nb2RlbGluZycpLmRlZmF1bHR9IE1vZGVsaW5nXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9ydWxlcy9SdWxlcycpLmRlZmF1bHR9IFJ1bGVzXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtEcmFnZ2luZ30gZHJhZ2dpbmdcbiAqIEBwYXJhbSB7TW9kZWxpbmd9IG1vZGVsaW5nXG4gKiBAcGFyYW0ge1J1bGVzfSBydWxlc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb25uZWN0KGV2ZW50QnVzLCBkcmFnZ2luZywgbW9kZWxpbmcsIHJ1bGVzKSB7XG5cbiAgLy8gcnVsZXNcblxuICBmdW5jdGlvbiBjYW5Db25uZWN0KHNvdXJjZSwgdGFyZ2V0KSB7XG4gICAgcmV0dXJuIHJ1bGVzLmFsbG93ZWQoJ2Nvbm5lY3Rpb24uY3JlYXRlJywge1xuICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICB0YXJnZXQ6IHRhcmdldFxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FuQ29ubmVjdFJldmVyc2Uoc291cmNlLCB0YXJnZXQpIHtcbiAgICByZXR1cm4gY2FuQ29ubmVjdCh0YXJnZXQsIHNvdXJjZSk7XG4gIH1cblxuXG4gIC8vIGV2ZW50IGhhbmRsZXJzXG5cbiAgZXZlbnRCdXMub24oJ2Nvbm5lY3QuaG92ZXInLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgc3RhcnQgPSBjb250ZXh0LnN0YXJ0LFxuICAgICAgICBob3ZlciA9IGV2ZW50LmhvdmVyLFxuICAgICAgICBjYW5FeGVjdXRlO1xuXG4gICAgLy8gY2FjaGUgaG92ZXIgc3RhdGVcbiAgICBjb250ZXh0LmhvdmVyID0gaG92ZXI7XG5cbiAgICBjYW5FeGVjdXRlID0gY29udGV4dC5jYW5FeGVjdXRlID0gY2FuQ29ubmVjdChzdGFydCwgaG92ZXIpO1xuXG4gICAgLy8gaWdub3JlIGhvdmVyXG4gICAgaWYgKGlzTmlsKGNhbkV4ZWN1dGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGNhbkV4ZWN1dGUgIT09IGZhbHNlKSB7XG4gICAgICBjb250ZXh0LnNvdXJjZSA9IHN0YXJ0O1xuICAgICAgY29udGV4dC50YXJnZXQgPSBob3ZlcjtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNhbkV4ZWN1dGUgPSBjb250ZXh0LmNhbkV4ZWN1dGUgPSBjYW5Db25uZWN0UmV2ZXJzZShzdGFydCwgaG92ZXIpO1xuXG4gICAgLy8gaWdub3JlIGhvdmVyXG4gICAgaWYgKGlzTmlsKGNhbkV4ZWN1dGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGNhbkV4ZWN1dGUgIT09IGZhbHNlKSB7XG4gICAgICBjb250ZXh0LnNvdXJjZSA9IGhvdmVyO1xuICAgICAgY29udGV4dC50YXJnZXQgPSBzdGFydDtcbiAgICB9XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKFsgJ2Nvbm5lY3Qub3V0JywgJ2Nvbm5lY3QuY2xlYW51cCcgXSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQ7XG5cbiAgICBjb250ZXh0LmhvdmVyID0gbnVsbDtcbiAgICBjb250ZXh0LnNvdXJjZSA9IG51bGw7XG4gICAgY29udGV4dC50YXJnZXQgPSBudWxsO1xuXG4gICAgY29udGV4dC5jYW5FeGVjdXRlID0gZmFsc2U7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdjb25uZWN0LmVuZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBjYW5FeGVjdXRlID0gY29udGV4dC5jYW5FeGVjdXRlLFxuICAgICAgICBjb25uZWN0aW9uU3RhcnQgPSBjb250ZXh0LmNvbm5lY3Rpb25TdGFydCxcbiAgICAgICAgY29ubmVjdGlvbkVuZCA9IHtcbiAgICAgICAgICB4OiBldmVudC54LFxuICAgICAgICAgIHk6IGV2ZW50LnlcbiAgICAgICAgfSxcbiAgICAgICAgc291cmNlID0gY29udGV4dC5zb3VyY2UsXG4gICAgICAgIHRhcmdldCA9IGNvbnRleHQudGFyZ2V0O1xuXG4gICAgaWYgKCFjYW5FeGVjdXRlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGF0dHJzID0gbnVsbCxcbiAgICAgICAgaGludHMgPSB7XG4gICAgICAgICAgY29ubmVjdGlvblN0YXJ0OiBpc1JldmVyc2UoY29udGV4dCkgPyBjb25uZWN0aW9uRW5kIDogY29ubmVjdGlvblN0YXJ0LFxuICAgICAgICAgIGNvbm5lY3Rpb25FbmQ6IGlzUmV2ZXJzZShjb250ZXh0KSA/IGNvbm5lY3Rpb25TdGFydCA6IGNvbm5lY3Rpb25FbmRcbiAgICAgICAgfTtcblxuICAgIGlmIChpc09iamVjdChjYW5FeGVjdXRlKSkge1xuICAgICAgYXR0cnMgPSBjYW5FeGVjdXRlO1xuICAgIH1cblxuICAgIGNvbnRleHQuY29ubmVjdGlvbiA9IG1vZGVsaW5nLmNvbm5lY3Qoc291cmNlLCB0YXJnZXQsIGF0dHJzLCBoaW50cyk7XG4gIH0pO1xuXG5cbiAgLy8gQVBJXG5cbiAgLyoqXG4gICAqIFN0YXJ0IGNvbm5lY3Qgb3BlcmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnR8VG91Y2hFdmVudH0gZXZlbnRcbiAgICogQHBhcmFtIHtFbGVtZW50fSBzdGFydFxuICAgKiBAcGFyYW0ge1BvaW50fSBbY29ubmVjdGlvblN0YXJ0XVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthdXRvQWN0aXZhdGU9ZmFsc2VdXG4gICAqL1xuICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24oZXZlbnQsIHN0YXJ0LCBjb25uZWN0aW9uU3RhcnQsIGF1dG9BY3RpdmF0ZSkge1xuICAgIGlmICghaXNPYmplY3QoY29ubmVjdGlvblN0YXJ0KSkge1xuICAgICAgYXV0b0FjdGl2YXRlID0gY29ubmVjdGlvblN0YXJ0O1xuICAgICAgY29ubmVjdGlvblN0YXJ0ID0gZ2V0TWlkKHN0YXJ0KTtcbiAgICB9XG5cbiAgICBkcmFnZ2luZy5pbml0KGV2ZW50LCAnY29ubmVjdCcsIHtcbiAgICAgIGF1dG9BY3RpdmF0ZTogYXV0b0FjdGl2YXRlLFxuICAgICAgZGF0YToge1xuICAgICAgICBzaGFwZTogc3RhcnQsXG4gICAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgICBzdGFydDogc3RhcnQsXG4gICAgICAgICAgY29ubmVjdGlvblN0YXJ0OiBjb25uZWN0aW9uU3RhcnRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xufVxuXG5Db25uZWN0LiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdkcmFnZ2luZycsXG4gICdtb2RlbGluZycsXG4gICdydWxlcydcbl07XG5cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vXG5cbmV4cG9ydCBmdW5jdGlvbiBpc1JldmVyc2UoY29udGV4dCkge1xuICB2YXIgaG92ZXIgPSBjb250ZXh0LmhvdmVyLFxuICAgICAgc291cmNlID0gY29udGV4dC5zb3VyY2UsXG4gICAgICB0YXJnZXQgPSBjb250ZXh0LnRhcmdldDtcblxuICByZXR1cm4gaG92ZXIgJiYgc291cmNlICYmIGhvdmVyID09PSBzb3VyY2UgJiYgc291cmNlICE9PSB0YXJnZXQ7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/connect/Connect.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/connect/ConnectPreview.js":
/*!************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/connect/ConnectPreview.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ConnectPreview)\n/* harmony export */ });\n/* harmony import */ var _Connect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Connect */ \"(ssr)/./node_modules/diagram-js/lib/features/connect/Connect.js\");\n\n\n/**\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n */\n\nvar HIGH_PRIORITY = 1100,\n    LOW_PRIORITY = 900;\n\nvar MARKER_OK = 'connect-ok',\n    MARKER_NOT_OK = 'connect-not-ok';\n\n/**\n * Shows connection preview during connect.\n *\n * @param {Injector} injector\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nfunction ConnectPreview(injector, eventBus, canvas) {\n  var connectionPreview = injector.get('connectionPreview', false);\n\n  connectionPreview && eventBus.on('connect.move', function(event) {\n    var context = event.context,\n        canConnect = context.canExecute,\n        hover = context.hover,\n        source = context.source,\n        start = context.start,\n        startPosition = context.startPosition,\n        target = context.target,\n        connectionStart = context.connectionStart || startPosition,\n        connectionEnd = context.connectionEnd || {\n          x: event.x,\n          y: event.y\n        },\n        previewStart = connectionStart,\n        previewEnd = connectionEnd;\n\n    if ((0,_Connect__WEBPACK_IMPORTED_MODULE_0__.isReverse)(context)) {\n      previewStart = connectionEnd;\n      previewEnd = connectionStart;\n    }\n\n    connectionPreview.drawPreview(context, canConnect, {\n      source: source || start,\n      target: target || hover,\n      connectionStart: previewStart,\n      connectionEnd: previewEnd\n    });\n  });\n\n  eventBus.on('connect.hover', LOW_PRIORITY, function(event) {\n    var context = event.context,\n        hover = event.hover,\n        canExecute = context.canExecute;\n\n    // ignore hover\n    if (canExecute === null) {\n      return;\n    }\n\n    canvas.addMarker(hover, canExecute ? MARKER_OK : MARKER_NOT_OK);\n  });\n\n  eventBus.on([\n    'connect.out',\n    'connect.cleanup'\n  ], HIGH_PRIORITY, function(event) {\n    var hover = event.hover;\n\n    if (hover) {\n      canvas.removeMarker(hover, MARKER_OK);\n      canvas.removeMarker(hover, MARKER_NOT_OK);\n    }\n  });\n\n  connectionPreview && eventBus.on('connect.cleanup', function(event) {\n    connectionPreview.cleanUp(event.context);\n  });\n}\n\nConnectPreview.$inject = [\n  'injector',\n  'eventBus',\n  'canvas'\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29ubmVjdC9Db25uZWN0UHJldmlldy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFzQzs7QUFFdEM7QUFDQSxhQUFhLHlCQUF5QjtBQUN0QztBQUNBLGFBQWEscUNBQXFDO0FBQ2xELGFBQWEsdUNBQXVDO0FBQ3BEOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsUUFBUTtBQUNuQjtBQUNlO0FBQ2Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUEsUUFBUSxtREFBUztBQUNqQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29ubmVjdC9Db25uZWN0UHJldmlldy5qcz80MGM2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzUmV2ZXJzZSB9IGZyb20gJy4vQ29ubmVjdCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnZGlkaScpLkluamVjdG9yfSBJbmplY3RvclxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvQ2FudmFzJykuZGVmYXVsdH0gQ2FudmFzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcbiAqL1xuXG52YXIgSElHSF9QUklPUklUWSA9IDExMDAsXG4gICAgTE9XX1BSSU9SSVRZID0gOTAwO1xuXG52YXIgTUFSS0VSX09LID0gJ2Nvbm5lY3Qtb2snLFxuICAgIE1BUktFUl9OT1RfT0sgPSAnY29ubmVjdC1ub3Qtb2snO1xuXG4vKipcbiAqIFNob3dzIGNvbm5lY3Rpb24gcHJldmlldyBkdXJpbmcgY29ubmVjdC5cbiAqXG4gKiBAcGFyYW0ge0luamVjdG9yfSBpbmplY3RvclxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29ubmVjdFByZXZpZXcoaW5qZWN0b3IsIGV2ZW50QnVzLCBjYW52YXMpIHtcbiAgdmFyIGNvbm5lY3Rpb25QcmV2aWV3ID0gaW5qZWN0b3IuZ2V0KCdjb25uZWN0aW9uUHJldmlldycsIGZhbHNlKTtcblxuICBjb25uZWN0aW9uUHJldmlldyAmJiBldmVudEJ1cy5vbignY29ubmVjdC5tb3ZlJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGNhbkNvbm5lY3QgPSBjb250ZXh0LmNhbkV4ZWN1dGUsXG4gICAgICAgIGhvdmVyID0gY29udGV4dC5ob3ZlcixcbiAgICAgICAgc291cmNlID0gY29udGV4dC5zb3VyY2UsXG4gICAgICAgIHN0YXJ0ID0gY29udGV4dC5zdGFydCxcbiAgICAgICAgc3RhcnRQb3NpdGlvbiA9IGNvbnRleHQuc3RhcnRQb3NpdGlvbixcbiAgICAgICAgdGFyZ2V0ID0gY29udGV4dC50YXJnZXQsXG4gICAgICAgIGNvbm5lY3Rpb25TdGFydCA9IGNvbnRleHQuY29ubmVjdGlvblN0YXJ0IHx8IHN0YXJ0UG9zaXRpb24sXG4gICAgICAgIGNvbm5lY3Rpb25FbmQgPSBjb250ZXh0LmNvbm5lY3Rpb25FbmQgfHwge1xuICAgICAgICAgIHg6IGV2ZW50LngsXG4gICAgICAgICAgeTogZXZlbnQueVxuICAgICAgICB9LFxuICAgICAgICBwcmV2aWV3U3RhcnQgPSBjb25uZWN0aW9uU3RhcnQsXG4gICAgICAgIHByZXZpZXdFbmQgPSBjb25uZWN0aW9uRW5kO1xuXG4gICAgaWYgKGlzUmV2ZXJzZShjb250ZXh0KSkge1xuICAgICAgcHJldmlld1N0YXJ0ID0gY29ubmVjdGlvbkVuZDtcbiAgICAgIHByZXZpZXdFbmQgPSBjb25uZWN0aW9uU3RhcnQ7XG4gICAgfVxuXG4gICAgY29ubmVjdGlvblByZXZpZXcuZHJhd1ByZXZpZXcoY29udGV4dCwgY2FuQ29ubmVjdCwge1xuICAgICAgc291cmNlOiBzb3VyY2UgfHwgc3RhcnQsXG4gICAgICB0YXJnZXQ6IHRhcmdldCB8fCBob3ZlcixcbiAgICAgIGNvbm5lY3Rpb25TdGFydDogcHJldmlld1N0YXJ0LFxuICAgICAgY29ubmVjdGlvbkVuZDogcHJldmlld0VuZFxuICAgIH0pO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignY29ubmVjdC5ob3ZlcicsIExPV19QUklPUklUWSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGhvdmVyID0gZXZlbnQuaG92ZXIsXG4gICAgICAgIGNhbkV4ZWN1dGUgPSBjb250ZXh0LmNhbkV4ZWN1dGU7XG5cbiAgICAvLyBpZ25vcmUgaG92ZXJcbiAgICBpZiAoY2FuRXhlY3V0ZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNhbnZhcy5hZGRNYXJrZXIoaG92ZXIsIGNhbkV4ZWN1dGUgPyBNQVJLRVJfT0sgOiBNQVJLRVJfTk9UX09LKTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oW1xuICAgICdjb25uZWN0Lm91dCcsXG4gICAgJ2Nvbm5lY3QuY2xlYW51cCdcbiAgXSwgSElHSF9QUklPUklUWSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgaG92ZXIgPSBldmVudC5ob3ZlcjtcblxuICAgIGlmIChob3Zlcikge1xuICAgICAgY2FudmFzLnJlbW92ZU1hcmtlcihob3ZlciwgTUFSS0VSX09LKTtcbiAgICAgIGNhbnZhcy5yZW1vdmVNYXJrZXIoaG92ZXIsIE1BUktFUl9OT1RfT0spO1xuICAgIH1cbiAgfSk7XG5cbiAgY29ubmVjdGlvblByZXZpZXcgJiYgZXZlbnRCdXMub24oJ2Nvbm5lY3QuY2xlYW51cCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgY29ubmVjdGlvblByZXZpZXcuY2xlYW5VcChldmVudC5jb250ZXh0KTtcbiAgfSk7XG59XG5cbkNvbm5lY3RQcmV2aWV3LiRpbmplY3QgPSBbXG4gICdpbmplY3RvcicsXG4gICdldmVudEJ1cycsXG4gICdjYW52YXMnXG5dO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/connect/ConnectPreview.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/connect/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/connect/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _selection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../selection */ \"(ssr)/./node_modules/diagram-js/lib/features/selection/index.js\");\n/* harmony import */ var _rules__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../rules */ \"(ssr)/./node_modules/diagram-js/lib/features/rules/index.js\");\n/* harmony import */ var _dragging__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../dragging */ \"(ssr)/./node_modules/diagram-js/lib/features/dragging/index.js\");\n/* harmony import */ var _Connect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Connect */ \"(ssr)/./node_modules/diagram-js/lib/features/connect/Connect.js\");\n/* harmony import */ var _ConnectPreview__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ConnectPreview */ \"(ssr)/./node_modules/diagram-js/lib/features/connect/ConnectPreview.js\");\n\n\n\n\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _selection__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    _rules__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    _dragging__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\n  ],\n  __init__: [\n    'connectPreview'\n  ],\n  connect: [ 'type', _Connect__WEBPACK_IMPORTED_MODULE_3__[\"default\"] ],\n  connectPreview: [ 'type', _ConnectPreview__WEBPACK_IMPORTED_MODULE_4__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29ubmVjdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMkM7QUFDUjtBQUNNOztBQUVUO0FBQ2M7OztBQUc5QztBQUNBLFdBQVc7QUFDWDtBQUNBLGlFQUFlO0FBQ2Y7QUFDQSxJQUFJLGtEQUFlO0FBQ25CLElBQUksOENBQVc7QUFDZixJQUFJLGlEQUFjO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGdEQUFPO0FBQzVCLDRCQUE0Qix1REFBYztBQUMxQyxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29ubmVjdC9pbmRleC5qcz9lY2JkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTZWxlY3Rpb25Nb2R1bGUgZnJvbSAnLi4vc2VsZWN0aW9uJztcbmltcG9ydCBSdWxlc01vZHVsZSBmcm9tICcuLi9ydWxlcyc7XG5pbXBvcnQgRHJhZ2dpbmdNb2R1bGUgZnJvbSAnLi4vZHJhZ2dpbmcnO1xuXG5pbXBvcnQgQ29ubmVjdCBmcm9tICcuL0Nvbm5lY3QnO1xuaW1wb3J0IENvbm5lY3RQcmV2aWV3IGZyb20gJy4vQ29ubmVjdFByZXZpZXcnO1xuXG5cbi8qKlxuICogQHR5cGUgeyBpbXBvcnQoJ2RpZGknKS5Nb2R1bGVEZWNsYXJhdGlvbiB9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBTZWxlY3Rpb25Nb2R1bGUsXG4gICAgUnVsZXNNb2R1bGUsXG4gICAgRHJhZ2dpbmdNb2R1bGVcbiAgXSxcbiAgX19pbml0X186IFtcbiAgICAnY29ubmVjdFByZXZpZXcnXG4gIF0sXG4gIGNvbm5lY3Q6IFsgJ3R5cGUnLCBDb25uZWN0IF0sXG4gIGNvbm5lY3RQcmV2aWV3OiBbICd0eXBlJywgQ29ubmVjdFByZXZpZXcgXVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/connect/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/connection-preview/ConnectionPreview.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/connection-preview/ConnectionPreview.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ConnectionPreview)\n/* harmony export */ });\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/./node_modules/tiny-svg/dist/index.esm.js\");\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../layout/LayoutUtil */ \"(ssr)/./node_modules/diagram-js/lib/layout/LayoutUtil.js\");\n/* harmony import */ var _util_RenderUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/RenderUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/RenderUtil.js\");\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n * @typedef {import('../../model/Types').Connection} Connection\n * @typedef {import('../../model/Types').Shape} Shape\n *\n * @typedef {import('../../util/Types').Point} Point\n *\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/ElementFactory').default} ElementFactory\n * @typedef {import('../../core/GraphicsFactory').default} GraphicsFactory\n */\n\nvar MARKER_CONNECTION_PREVIEW = 'djs-dragger';\n\n/**\n * Draws connection preview. Optionally, this can use layouter and connection docking to draw\n * better looking previews.\n *\n * @param {Injector} injector\n * @param {Canvas} canvas\n * @param {GraphicsFactory} graphicsFactory\n * @param {ElementFactory} elementFactory\n */\nfunction ConnectionPreview(\n    injector,\n    canvas,\n    graphicsFactory,\n    elementFactory\n) {\n  this._canvas = canvas;\n  this._graphicsFactory = graphicsFactory;\n  this._elementFactory = elementFactory;\n\n  // optional components\n  this._connectionDocking = injector.get('connectionDocking', false);\n  this._layouter = injector.get('layouter', false);\n}\n\nConnectionPreview.$inject = [\n  'injector',\n  'canvas',\n  'graphicsFactory',\n  'elementFactory'\n];\n\n/**\n * Draw connection preview.\n *\n * Provide at least one of <source, connectionStart> and <target, connectionEnd> to create a preview.\n * In the clean up stage, call `connectionPreview#cleanUp` with the context to remove preview.\n *\n * @param {Object} context\n * @param {Object|boolean} canConnect\n * @param {Object} hints\n * @param {Element} [hints.source] source element\n * @param {Element} [hints.target] target element\n * @param {Point} [hints.connectionStart] connection preview start\n * @param {Point} [hints.connectionEnd] connection preview end\n * @param {Point[]} [hints.waypoints] provided waypoints for preview\n * @param {boolean} [hints.noLayout] true if preview should not be laid out\n * @param {boolean} [hints.noCropping] true if preview should not be cropped\n * @param {boolean} [hints.noNoop] true if simple connection should not be drawn\n */\nConnectionPreview.prototype.drawPreview = function(context, canConnect, hints) {\n\n  hints = hints || {};\n\n  var connectionPreviewGfx = context.connectionPreviewGfx,\n      getConnection = context.getConnection,\n      source = hints.source,\n      target = hints.target,\n      waypoints = hints.waypoints,\n      connectionStart = hints.connectionStart,\n      connectionEnd = hints.connectionEnd,\n      noLayout = hints.noLayout,\n      noCropping = hints.noCropping,\n      noNoop = hints.noNoop,\n      connection;\n\n  var self = this;\n\n  if (!connectionPreviewGfx) {\n    connectionPreviewGfx = context.connectionPreviewGfx = this.createConnectionPreviewGfx();\n  }\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.clear)(connectionPreviewGfx);\n\n  if (!getConnection) {\n    getConnection = context.getConnection = cacheReturnValues(function(canConnect, source, target) {\n      return self.getConnection(canConnect, source, target);\n    });\n  }\n\n  if (canConnect) {\n    connection = getConnection(canConnect, source, target);\n  }\n\n  if (!connection) {\n    !noNoop && this.drawNoopPreview(connectionPreviewGfx, hints);\n    return;\n  }\n\n  connection.waypoints = waypoints || [];\n\n  // optional layout\n  if (this._layouter && !noLayout) {\n    connection.waypoints = this._layouter.layoutConnection(connection, {\n      source: source,\n      target: target,\n      connectionStart: connectionStart,\n      connectionEnd: connectionEnd,\n      waypoints: hints.waypoints || connection.waypoints\n    });\n  }\n\n  // fallback if no waypoints were provided nor created with layouter\n  if (!connection.waypoints || !connection.waypoints.length) {\n    connection.waypoints = [\n      source ? (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.getMid)(source) : connectionStart,\n      target ? (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.getMid)(target) : connectionEnd\n    ];\n  }\n\n  // optional cropping\n  if (this._connectionDocking && (source || target) && !noCropping) {\n    connection.waypoints = this._connectionDocking.getCroppedWaypoints(connection, source, target);\n  }\n\n  this._graphicsFactory.drawConnection(connectionPreviewGfx, connection, {\n    stroke: 'var(--element-dragger-color)'\n  });\n};\n\n/**\n * Draw simple connection between source and target or provided points.\n *\n * @param {SVGElement} connectionPreviewGfx container for the connection\n * @param {Object} hints\n * @param {Element} [hints.source] source element\n * @param {Element} [hints.target] target element\n * @param {Point} [hints.connectionStart] required if source is not provided\n * @param {Point} [hints.connectionEnd] required if target is not provided\n */\nConnectionPreview.prototype.drawNoopPreview = function(connectionPreviewGfx, hints) {\n  var source = hints.source,\n      target = hints.target,\n      start = hints.connectionStart || (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.getMid)(source),\n      end = hints.connectionEnd || (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.getMid)(target);\n\n  var waypoints = this.cropWaypoints(start, end, source, target);\n\n  var connection = this.createNoopConnection(waypoints[0], waypoints[1]);\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.append)(connectionPreviewGfx, connection);\n};\n\n/**\n * Return cropped waypoints.\n *\n * @param {Point} start\n * @param {Point} end\n * @param {Element} source\n * @param {Element} target\n *\n * @return {Point[]}\n */\nConnectionPreview.prototype.cropWaypoints = function(start, end, source, target) {\n  var graphicsFactory = this._graphicsFactory,\n      sourcePath = source && graphicsFactory.getShapePath(source),\n      targetPath = target && graphicsFactory.getShapePath(target),\n      connectionPath = graphicsFactory.getConnectionPath({ waypoints: [ start, end ] });\n\n  start = (source && (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.getElementLineIntersection)(sourcePath, connectionPath, true)) || start;\n  end = (target && (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.getElementLineIntersection)(targetPath, connectionPath, false)) || end;\n\n  return [ start, end ];\n};\n\n/**\n * Remove connection preview container if it exists.\n *\n * @param {Object} [context]\n * @param {SVGElement} [context.connectionPreviewGfx] preview container\n */\nConnectionPreview.prototype.cleanUp = function(context) {\n  if (context && context.connectionPreviewGfx) {\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.remove)(context.connectionPreviewGfx);\n  }\n};\n\n/**\n * Get connection that connects source and target.\n *\n * @param {Object|boolean} canConnect\n *\n * @return {Connection}\n */\nConnectionPreview.prototype.getConnection = function(canConnect) {\n  var attrs = ensureConnectionAttrs(canConnect);\n\n  return this._elementFactory.createConnection(attrs);\n};\n\n\n/**\n * Add and return preview graphics.\n *\n * @return {SVGElement}\n */\nConnectionPreview.prototype.createConnectionPreviewGfx = function() {\n  var gfx = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.create)('g');\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.attr)(gfx, {\n    pointerEvents: 'none'\n  });\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.classes)(gfx).add(MARKER_CONNECTION_PREVIEW);\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.append)(this._canvas.getActiveLayer(), gfx);\n\n  return gfx;\n};\n\n/**\n * Create and return simple connection.\n *\n * @param {Point} start\n * @param {Point} end\n *\n * @return {SVGElement}\n */\nConnectionPreview.prototype.createNoopConnection = function(start, end) {\n  return (0,_util_RenderUtil__WEBPACK_IMPORTED_MODULE_2__.createLine)([ start, end ], {\n    'stroke': '#333',\n    'strokeDasharray': [ 1 ],\n    'strokeWidth': 2,\n    'pointer-events': 'none'\n  });\n};\n\n// helpers //////////\n\n/**\n * Returns function that returns cached return values referenced by stringified first argument.\n *\n * @param {Function} fn\n *\n * @return {Function}\n */\nfunction cacheReturnValues(fn) {\n  var returnValues = {};\n\n  /**\n   * Return cached return value referenced by stringified first argument.\n   *\n   * @return {*}\n   */\n  return function(firstArgument) {\n    var key = JSON.stringify(firstArgument);\n\n    var returnValue = returnValues[key];\n\n    if (!returnValue) {\n      returnValue = returnValues[key] = fn.apply(null, arguments);\n    }\n\n    return returnValue;\n  };\n}\n\n/**\n * Ensure connection attributes is object.\n *\n * @param {Object|boolean} canConnect\n *\n * @return {Object}\n */\nfunction ensureConnectionAttrs(canConnect) {\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_3__.isObject)(canConnect)) {\n    return canConnect;\n  } else {\n    return {};\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29ubmVjdGlvbi1wcmV2aWV3L0Nvbm5lY3Rpb25QcmV2aWV3LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBT2tCOztBQUlBOztBQUtlOztBQUlGOztBQUUvQjtBQUNBLGFBQWEscUNBQXFDO0FBQ2xELGFBQWEsd0NBQXdDO0FBQ3JELGFBQWEsbUNBQW1DO0FBQ2hEO0FBQ0EsYUFBYSxrQ0FBa0M7QUFDL0M7QUFDQSxhQUFhLHlCQUF5QjtBQUN0QztBQUNBLGFBQWEscUNBQXFDO0FBQ2xELGFBQWEsNkNBQTZDO0FBQzFELGFBQWEsOENBQThDO0FBQzNEOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsUUFBUTtBQUNuQixXQUFXLGlCQUFpQjtBQUM1QixXQUFXLGdCQUFnQjtBQUMzQjtBQUNlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsZ0JBQWdCO0FBQzNCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRSwrQ0FBUTs7QUFFVjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSwwREFBTTtBQUNyQixlQUFlLDBEQUFNO0FBQ3JCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QywwREFBTTtBQUM3QyxtQ0FBbUMsMERBQU07O0FBRXpDOztBQUVBOztBQUVBLEVBQUUsZ0RBQVM7QUFDWDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCwyQkFBMkI7O0FBRXRGLHFCQUFxQiw4RUFBMEI7QUFDL0MsbUJBQW1CLDhFQUEwQjs7QUFFN0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLElBQUksZ0RBQVM7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFlBQVksZ0RBQVM7O0FBRXJCLEVBQUUsOENBQU87QUFDVDtBQUNBLEdBQUc7O0FBRUgsRUFBRSxpREFBVTs7QUFFWixFQUFFLGdEQUFTOztBQUVYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsU0FBUyw0REFBVTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQjtBQUMzQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsTUFBTSxrREFBUTtBQUNkO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jb25uZWN0aW9uLXByZXZpZXcvQ29ubmVjdGlvblByZXZpZXcuanM/NjcxNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBhcHBlbmQgYXMgc3ZnQXBwZW5kLFxuICBhdHRyIGFzIHN2Z0F0dHIsXG4gIGNsYXNzZXMgYXMgc3ZnQ2xhc3NlcyxcbiAgY3JlYXRlIGFzIHN2Z0NyZWF0ZSxcbiAgcmVtb3ZlIGFzIHN2Z1JlbW92ZSxcbiAgY2xlYXIgYXMgc3ZnQ2xlYXJcbn0gZnJvbSAndGlueS1zdmcnO1xuXG5pbXBvcnQge1xuICBpc09iamVjdFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGdldEVsZW1lbnRMaW5lSW50ZXJzZWN0aW9uLFxuICBnZXRNaWRcbn0gZnJvbSAnLi4vLi4vbGF5b3V0L0xheW91dFV0aWwnO1xuXG5pbXBvcnQge1xuICBjcmVhdGVMaW5lXG59IGZyb20gJy4uLy4uL3V0aWwvUmVuZGVyVXRpbCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vbW9kZWwvVHlwZXMnKS5FbGVtZW50fSBFbGVtZW50XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9tb2RlbC9UeXBlcycpLkNvbm5lY3Rpb259IENvbm5lY3Rpb25cbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL21vZGVsL1R5cGVzJykuU2hhcGV9IFNoYXBlXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vdXRpbC9UeXBlcycpLlBvaW50fSBQb2ludFxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpZGknKS5JbmplY3Rvcn0gSW5qZWN0b3JcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0NhbnZhcycpLmRlZmF1bHR9IENhbnZhc1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FbGVtZW50RmFjdG9yeScpLmRlZmF1bHR9IEVsZW1lbnRGYWN0b3J5XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0dyYXBoaWNzRmFjdG9yeScpLmRlZmF1bHR9IEdyYXBoaWNzRmFjdG9yeVxuICovXG5cbnZhciBNQVJLRVJfQ09OTkVDVElPTl9QUkVWSUVXID0gJ2Rqcy1kcmFnZ2VyJztcblxuLyoqXG4gKiBEcmF3cyBjb25uZWN0aW9uIHByZXZpZXcuIE9wdGlvbmFsbHksIHRoaXMgY2FuIHVzZSBsYXlvdXRlciBhbmQgY29ubmVjdGlvbiBkb2NraW5nIHRvIGRyYXdcbiAqIGJldHRlciBsb29raW5nIHByZXZpZXdzLlxuICpcbiAqIEBwYXJhbSB7SW5qZWN0b3J9IGluamVjdG9yXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKiBAcGFyYW0ge0dyYXBoaWNzRmFjdG9yeX0gZ3JhcGhpY3NGYWN0b3J5XG4gKiBAcGFyYW0ge0VsZW1lbnRGYWN0b3J5fSBlbGVtZW50RmFjdG9yeVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb25uZWN0aW9uUHJldmlldyhcbiAgICBpbmplY3RvcixcbiAgICBjYW52YXMsXG4gICAgZ3JhcGhpY3NGYWN0b3J5LFxuICAgIGVsZW1lbnRGYWN0b3J5XG4pIHtcbiAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuICB0aGlzLl9ncmFwaGljc0ZhY3RvcnkgPSBncmFwaGljc0ZhY3Rvcnk7XG4gIHRoaXMuX2VsZW1lbnRGYWN0b3J5ID0gZWxlbWVudEZhY3Rvcnk7XG5cbiAgLy8gb3B0aW9uYWwgY29tcG9uZW50c1xuICB0aGlzLl9jb25uZWN0aW9uRG9ja2luZyA9IGluamVjdG9yLmdldCgnY29ubmVjdGlvbkRvY2tpbmcnLCBmYWxzZSk7XG4gIHRoaXMuX2xheW91dGVyID0gaW5qZWN0b3IuZ2V0KCdsYXlvdXRlcicsIGZhbHNlKTtcbn1cblxuQ29ubmVjdGlvblByZXZpZXcuJGluamVjdCA9IFtcbiAgJ2luamVjdG9yJyxcbiAgJ2NhbnZhcycsXG4gICdncmFwaGljc0ZhY3RvcnknLFxuICAnZWxlbWVudEZhY3RvcnknXG5dO1xuXG4vKipcbiAqIERyYXcgY29ubmVjdGlvbiBwcmV2aWV3LlxuICpcbiAqIFByb3ZpZGUgYXQgbGVhc3Qgb25lIG9mIDxzb3VyY2UsIGNvbm5lY3Rpb25TdGFydD4gYW5kIDx0YXJnZXQsIGNvbm5lY3Rpb25FbmQ+IHRvIGNyZWF0ZSBhIHByZXZpZXcuXG4gKiBJbiB0aGUgY2xlYW4gdXAgc3RhZ2UsIGNhbGwgYGNvbm5lY3Rpb25QcmV2aWV3I2NsZWFuVXBgIHdpdGggdGhlIGNvbnRleHQgdG8gcmVtb3ZlIHByZXZpZXcuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqIEBwYXJhbSB7T2JqZWN0fGJvb2xlYW59IGNhbkNvbm5lY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBoaW50c1xuICogQHBhcmFtIHtFbGVtZW50fSBbaGludHMuc291cmNlXSBzb3VyY2UgZWxlbWVudFxuICogQHBhcmFtIHtFbGVtZW50fSBbaGludHMudGFyZ2V0XSB0YXJnZXQgZWxlbWVudFxuICogQHBhcmFtIHtQb2ludH0gW2hpbnRzLmNvbm5lY3Rpb25TdGFydF0gY29ubmVjdGlvbiBwcmV2aWV3IHN0YXJ0XG4gKiBAcGFyYW0ge1BvaW50fSBbaGludHMuY29ubmVjdGlvbkVuZF0gY29ubmVjdGlvbiBwcmV2aWV3IGVuZFxuICogQHBhcmFtIHtQb2ludFtdfSBbaGludHMud2F5cG9pbnRzXSBwcm92aWRlZCB3YXlwb2ludHMgZm9yIHByZXZpZXdcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hpbnRzLm5vTGF5b3V0XSB0cnVlIGlmIHByZXZpZXcgc2hvdWxkIG5vdCBiZSBsYWlkIG91dFxuICogQHBhcmFtIHtib29sZWFufSBbaGludHMubm9Dcm9wcGluZ10gdHJ1ZSBpZiBwcmV2aWV3IHNob3VsZCBub3QgYmUgY3JvcHBlZFxuICogQHBhcmFtIHtib29sZWFufSBbaGludHMubm9Ob29wXSB0cnVlIGlmIHNpbXBsZSBjb25uZWN0aW9uIHNob3VsZCBub3QgYmUgZHJhd25cbiAqL1xuQ29ubmVjdGlvblByZXZpZXcucHJvdG90eXBlLmRyYXdQcmV2aWV3ID0gZnVuY3Rpb24oY29udGV4dCwgY2FuQ29ubmVjdCwgaGludHMpIHtcblxuICBoaW50cyA9IGhpbnRzIHx8IHt9O1xuXG4gIHZhciBjb25uZWN0aW9uUHJldmlld0dmeCA9IGNvbnRleHQuY29ubmVjdGlvblByZXZpZXdHZngsXG4gICAgICBnZXRDb25uZWN0aW9uID0gY29udGV4dC5nZXRDb25uZWN0aW9uLFxuICAgICAgc291cmNlID0gaGludHMuc291cmNlLFxuICAgICAgdGFyZ2V0ID0gaGludHMudGFyZ2V0LFxuICAgICAgd2F5cG9pbnRzID0gaGludHMud2F5cG9pbnRzLFxuICAgICAgY29ubmVjdGlvblN0YXJ0ID0gaGludHMuY29ubmVjdGlvblN0YXJ0LFxuICAgICAgY29ubmVjdGlvbkVuZCA9IGhpbnRzLmNvbm5lY3Rpb25FbmQsXG4gICAgICBub0xheW91dCA9IGhpbnRzLm5vTGF5b3V0LFxuICAgICAgbm9Dcm9wcGluZyA9IGhpbnRzLm5vQ3JvcHBpbmcsXG4gICAgICBub05vb3AgPSBoaW50cy5ub05vb3AsXG4gICAgICBjb25uZWN0aW9uO1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICBpZiAoIWNvbm5lY3Rpb25QcmV2aWV3R2Z4KSB7XG4gICAgY29ubmVjdGlvblByZXZpZXdHZnggPSBjb250ZXh0LmNvbm5lY3Rpb25QcmV2aWV3R2Z4ID0gdGhpcy5jcmVhdGVDb25uZWN0aW9uUHJldmlld0dmeCgpO1xuICB9XG5cbiAgc3ZnQ2xlYXIoY29ubmVjdGlvblByZXZpZXdHZngpO1xuXG4gIGlmICghZ2V0Q29ubmVjdGlvbikge1xuICAgIGdldENvbm5lY3Rpb24gPSBjb250ZXh0LmdldENvbm5lY3Rpb24gPSBjYWNoZVJldHVyblZhbHVlcyhmdW5jdGlvbihjYW5Db25uZWN0LCBzb3VyY2UsIHRhcmdldCkge1xuICAgICAgcmV0dXJuIHNlbGYuZ2V0Q29ubmVjdGlvbihjYW5Db25uZWN0LCBzb3VyY2UsIHRhcmdldCk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoY2FuQ29ubmVjdCkge1xuICAgIGNvbm5lY3Rpb24gPSBnZXRDb25uZWN0aW9uKGNhbkNvbm5lY3QsIHNvdXJjZSwgdGFyZ2V0KTtcbiAgfVxuXG4gIGlmICghY29ubmVjdGlvbikge1xuICAgICFub05vb3AgJiYgdGhpcy5kcmF3Tm9vcFByZXZpZXcoY29ubmVjdGlvblByZXZpZXdHZngsIGhpbnRzKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25uZWN0aW9uLndheXBvaW50cyA9IHdheXBvaW50cyB8fCBbXTtcblxuICAvLyBvcHRpb25hbCBsYXlvdXRcbiAgaWYgKHRoaXMuX2xheW91dGVyICYmICFub0xheW91dCkge1xuICAgIGNvbm5lY3Rpb24ud2F5cG9pbnRzID0gdGhpcy5fbGF5b3V0ZXIubGF5b3V0Q29ubmVjdGlvbihjb25uZWN0aW9uLCB7XG4gICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgY29ubmVjdGlvblN0YXJ0OiBjb25uZWN0aW9uU3RhcnQsXG4gICAgICBjb25uZWN0aW9uRW5kOiBjb25uZWN0aW9uRW5kLFxuICAgICAgd2F5cG9pbnRzOiBoaW50cy53YXlwb2ludHMgfHwgY29ubmVjdGlvbi53YXlwb2ludHNcbiAgICB9KTtcbiAgfVxuXG4gIC8vIGZhbGxiYWNrIGlmIG5vIHdheXBvaW50cyB3ZXJlIHByb3ZpZGVkIG5vciBjcmVhdGVkIHdpdGggbGF5b3V0ZXJcbiAgaWYgKCFjb25uZWN0aW9uLndheXBvaW50cyB8fCAhY29ubmVjdGlvbi53YXlwb2ludHMubGVuZ3RoKSB7XG4gICAgY29ubmVjdGlvbi53YXlwb2ludHMgPSBbXG4gICAgICBzb3VyY2UgPyBnZXRNaWQoc291cmNlKSA6IGNvbm5lY3Rpb25TdGFydCxcbiAgICAgIHRhcmdldCA/IGdldE1pZCh0YXJnZXQpIDogY29ubmVjdGlvbkVuZFxuICAgIF07XG4gIH1cblxuICAvLyBvcHRpb25hbCBjcm9wcGluZ1xuICBpZiAodGhpcy5fY29ubmVjdGlvbkRvY2tpbmcgJiYgKHNvdXJjZSB8fCB0YXJnZXQpICYmICFub0Nyb3BwaW5nKSB7XG4gICAgY29ubmVjdGlvbi53YXlwb2ludHMgPSB0aGlzLl9jb25uZWN0aW9uRG9ja2luZy5nZXRDcm9wcGVkV2F5cG9pbnRzKGNvbm5lY3Rpb24sIHNvdXJjZSwgdGFyZ2V0KTtcbiAgfVxuXG4gIHRoaXMuX2dyYXBoaWNzRmFjdG9yeS5kcmF3Q29ubmVjdGlvbihjb25uZWN0aW9uUHJldmlld0dmeCwgY29ubmVjdGlvbiwge1xuICAgIHN0cm9rZTogJ3ZhcigtLWVsZW1lbnQtZHJhZ2dlci1jb2xvciknXG4gIH0pO1xufTtcblxuLyoqXG4gKiBEcmF3IHNpbXBsZSBjb25uZWN0aW9uIGJldHdlZW4gc291cmNlIGFuZCB0YXJnZXQgb3IgcHJvdmlkZWQgcG9pbnRzLlxuICpcbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gY29ubmVjdGlvblByZXZpZXdHZnggY29udGFpbmVyIGZvciB0aGUgY29ubmVjdGlvblxuICogQHBhcmFtIHtPYmplY3R9IGhpbnRzXG4gKiBAcGFyYW0ge0VsZW1lbnR9IFtoaW50cy5zb3VyY2VdIHNvdXJjZSBlbGVtZW50XG4gKiBAcGFyYW0ge0VsZW1lbnR9IFtoaW50cy50YXJnZXRdIHRhcmdldCBlbGVtZW50XG4gKiBAcGFyYW0ge1BvaW50fSBbaGludHMuY29ubmVjdGlvblN0YXJ0XSByZXF1aXJlZCBpZiBzb3VyY2UgaXMgbm90IHByb3ZpZGVkXG4gKiBAcGFyYW0ge1BvaW50fSBbaGludHMuY29ubmVjdGlvbkVuZF0gcmVxdWlyZWQgaWYgdGFyZ2V0IGlzIG5vdCBwcm92aWRlZFxuICovXG5Db25uZWN0aW9uUHJldmlldy5wcm90b3R5cGUuZHJhd05vb3BQcmV2aWV3ID0gZnVuY3Rpb24oY29ubmVjdGlvblByZXZpZXdHZngsIGhpbnRzKSB7XG4gIHZhciBzb3VyY2UgPSBoaW50cy5zb3VyY2UsXG4gICAgICB0YXJnZXQgPSBoaW50cy50YXJnZXQsXG4gICAgICBzdGFydCA9IGhpbnRzLmNvbm5lY3Rpb25TdGFydCB8fCBnZXRNaWQoc291cmNlKSxcbiAgICAgIGVuZCA9IGhpbnRzLmNvbm5lY3Rpb25FbmQgfHwgZ2V0TWlkKHRhcmdldCk7XG5cbiAgdmFyIHdheXBvaW50cyA9IHRoaXMuY3JvcFdheXBvaW50cyhzdGFydCwgZW5kLCBzb3VyY2UsIHRhcmdldCk7XG5cbiAgdmFyIGNvbm5lY3Rpb24gPSB0aGlzLmNyZWF0ZU5vb3BDb25uZWN0aW9uKHdheXBvaW50c1swXSwgd2F5cG9pbnRzWzFdKTtcblxuICBzdmdBcHBlbmQoY29ubmVjdGlvblByZXZpZXdHZngsIGNvbm5lY3Rpb24pO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gY3JvcHBlZCB3YXlwb2ludHMuXG4gKlxuICogQHBhcmFtIHtQb2ludH0gc3RhcnRcbiAqIEBwYXJhbSB7UG9pbnR9IGVuZFxuICogQHBhcmFtIHtFbGVtZW50fSBzb3VyY2VcbiAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0XG4gKlxuICogQHJldHVybiB7UG9pbnRbXX1cbiAqL1xuQ29ubmVjdGlvblByZXZpZXcucHJvdG90eXBlLmNyb3BXYXlwb2ludHMgPSBmdW5jdGlvbihzdGFydCwgZW5kLCBzb3VyY2UsIHRhcmdldCkge1xuICB2YXIgZ3JhcGhpY3NGYWN0b3J5ID0gdGhpcy5fZ3JhcGhpY3NGYWN0b3J5LFxuICAgICAgc291cmNlUGF0aCA9IHNvdXJjZSAmJiBncmFwaGljc0ZhY3RvcnkuZ2V0U2hhcGVQYXRoKHNvdXJjZSksXG4gICAgICB0YXJnZXRQYXRoID0gdGFyZ2V0ICYmIGdyYXBoaWNzRmFjdG9yeS5nZXRTaGFwZVBhdGgodGFyZ2V0KSxcbiAgICAgIGNvbm5lY3Rpb25QYXRoID0gZ3JhcGhpY3NGYWN0b3J5LmdldENvbm5lY3Rpb25QYXRoKHsgd2F5cG9pbnRzOiBbIHN0YXJ0LCBlbmQgXSB9KTtcblxuICBzdGFydCA9IChzb3VyY2UgJiYgZ2V0RWxlbWVudExpbmVJbnRlcnNlY3Rpb24oc291cmNlUGF0aCwgY29ubmVjdGlvblBhdGgsIHRydWUpKSB8fCBzdGFydDtcbiAgZW5kID0gKHRhcmdldCAmJiBnZXRFbGVtZW50TGluZUludGVyc2VjdGlvbih0YXJnZXRQYXRoLCBjb25uZWN0aW9uUGF0aCwgZmFsc2UpKSB8fCBlbmQ7XG5cbiAgcmV0dXJuIFsgc3RhcnQsIGVuZCBdO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgY29ubmVjdGlvbiBwcmV2aWV3IGNvbnRhaW5lciBpZiBpdCBleGlzdHMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0XVxuICogQHBhcmFtIHtTVkdFbGVtZW50fSBbY29udGV4dC5jb25uZWN0aW9uUHJldmlld0dmeF0gcHJldmlldyBjb250YWluZXJcbiAqL1xuQ29ubmVjdGlvblByZXZpZXcucHJvdG90eXBlLmNsZWFuVXAgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0ICYmIGNvbnRleHQuY29ubmVjdGlvblByZXZpZXdHZngpIHtcbiAgICBzdmdSZW1vdmUoY29udGV4dC5jb25uZWN0aW9uUHJldmlld0dmeCk7XG4gIH1cbn07XG5cbi8qKlxuICogR2V0IGNvbm5lY3Rpb24gdGhhdCBjb25uZWN0cyBzb3VyY2UgYW5kIHRhcmdldC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdHxib29sZWFufSBjYW5Db25uZWN0XG4gKlxuICogQHJldHVybiB7Q29ubmVjdGlvbn1cbiAqL1xuQ29ubmVjdGlvblByZXZpZXcucHJvdG90eXBlLmdldENvbm5lY3Rpb24gPSBmdW5jdGlvbihjYW5Db25uZWN0KSB7XG4gIHZhciBhdHRycyA9IGVuc3VyZUNvbm5lY3Rpb25BdHRycyhjYW5Db25uZWN0KTtcblxuICByZXR1cm4gdGhpcy5fZWxlbWVudEZhY3RvcnkuY3JlYXRlQ29ubmVjdGlvbihhdHRycyk7XG59O1xuXG5cbi8qKlxuICogQWRkIGFuZCByZXR1cm4gcHJldmlldyBncmFwaGljcy5cbiAqXG4gKiBAcmV0dXJuIHtTVkdFbGVtZW50fVxuICovXG5Db25uZWN0aW9uUHJldmlldy5wcm90b3R5cGUuY3JlYXRlQ29ubmVjdGlvblByZXZpZXdHZnggPSBmdW5jdGlvbigpIHtcbiAgdmFyIGdmeCA9IHN2Z0NyZWF0ZSgnZycpO1xuXG4gIHN2Z0F0dHIoZ2Z4LCB7XG4gICAgcG9pbnRlckV2ZW50czogJ25vbmUnXG4gIH0pO1xuXG4gIHN2Z0NsYXNzZXMoZ2Z4KS5hZGQoTUFSS0VSX0NPTk5FQ1RJT05fUFJFVklFVyk7XG5cbiAgc3ZnQXBwZW5kKHRoaXMuX2NhbnZhcy5nZXRBY3RpdmVMYXllcigpLCBnZngpO1xuXG4gIHJldHVybiBnZng7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhbmQgcmV0dXJuIHNpbXBsZSBjb25uZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7UG9pbnR9IHN0YXJ0XG4gKiBAcGFyYW0ge1BvaW50fSBlbmRcbiAqXG4gKiBAcmV0dXJuIHtTVkdFbGVtZW50fVxuICovXG5Db25uZWN0aW9uUHJldmlldy5wcm90b3R5cGUuY3JlYXRlTm9vcENvbm5lY3Rpb24gPSBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gIHJldHVybiBjcmVhdGVMaW5lKFsgc3RhcnQsIGVuZCBdLCB7XG4gICAgJ3N0cm9rZSc6ICcjMzMzJyxcbiAgICAnc3Ryb2tlRGFzaGFycmF5JzogWyAxIF0sXG4gICAgJ3N0cm9rZVdpZHRoJzogMixcbiAgICAncG9pbnRlci1ldmVudHMnOiAnbm9uZSdcbiAgfSk7XG59O1xuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuLyoqXG4gKiBSZXR1cm5zIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBjYWNoZWQgcmV0dXJuIHZhbHVlcyByZWZlcmVuY2VkIGJ5IHN0cmluZ2lmaWVkIGZpcnN0IGFyZ3VtZW50LlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKlxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIGNhY2hlUmV0dXJuVmFsdWVzKGZuKSB7XG4gIHZhciByZXR1cm5WYWx1ZXMgPSB7fTtcblxuICAvKipcbiAgICogUmV0dXJuIGNhY2hlZCByZXR1cm4gdmFsdWUgcmVmZXJlbmNlZCBieSBzdHJpbmdpZmllZCBmaXJzdCBhcmd1bWVudC5cbiAgICpcbiAgICogQHJldHVybiB7Kn1cbiAgICovXG4gIHJldHVybiBmdW5jdGlvbihmaXJzdEFyZ3VtZW50KSB7XG4gICAgdmFyIGtleSA9IEpTT04uc3RyaW5naWZ5KGZpcnN0QXJndW1lbnQpO1xuXG4gICAgdmFyIHJldHVyblZhbHVlID0gcmV0dXJuVmFsdWVzW2tleV07XG5cbiAgICBpZiAoIXJldHVyblZhbHVlKSB7XG4gICAgICByZXR1cm5WYWx1ZSA9IHJldHVyblZhbHVlc1trZXldID0gZm4uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gIH07XG59XG5cbi8qKlxuICogRW5zdXJlIGNvbm5lY3Rpb24gYXR0cmlidXRlcyBpcyBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtPYmplY3R8Ym9vbGVhbn0gY2FuQ29ubmVjdFxuICpcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gZW5zdXJlQ29ubmVjdGlvbkF0dHJzKGNhbkNvbm5lY3QpIHtcbiAgaWYgKGlzT2JqZWN0KGNhbkNvbm5lY3QpKSB7XG4gICAgcmV0dXJuIGNhbkNvbm5lY3Q7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/connection-preview/ConnectionPreview.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/connection-preview/index.js":
/*!**************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/connection-preview/index.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ConnectionPreview__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ConnectionPreview */ \"(ssr)/./node_modules/diagram-js/lib/features/connection-preview/ConnectionPreview.js\");\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [ 'connectionPreview' ],\n  connectionPreview: [ 'type', _ConnectionPreview__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29ubmVjdGlvbi1wcmV2aWV3L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQW9EOzs7QUFHcEQ7QUFDQSxXQUFXO0FBQ1g7QUFDQSxpRUFBZTtBQUNmO0FBQ0EsK0JBQStCLDBEQUFpQjtBQUNoRCxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29ubmVjdGlvbi1wcmV2aWV3L2luZGV4LmpzPzczMTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvbm5lY3Rpb25QcmV2aWV3IGZyb20gJy4vQ29ubmVjdGlvblByZXZpZXcnO1xuXG5cbi8qKlxuICogQHR5cGUgeyBpbXBvcnQoJ2RpZGknKS5Nb2R1bGVEZWNsYXJhdGlvbiB9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19pbml0X186IFsgJ2Nvbm5lY3Rpb25QcmV2aWV3JyBdLFxuICBjb25uZWN0aW9uUHJldmlldzogWyAndHlwZScsIENvbm5lY3Rpb25QcmV2aWV3IF1cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/connection-preview/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/context-pad/ContextPad.js":
/*!************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/context-pad/ContextPad.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ContextPad)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dom */ \"(ssr)/./node_modules/min-dom/dist/index.esm.js\");\n/* harmony import */ var _util_EscapeUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/EscapeUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/EscapeUtil.js\");\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/ModelUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/ModelUtil.js\");\n\n\n\n\n\n\n\n\nvar MARKER_HIDDEN = 'djs-element-hidden';\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef {import('../../util/Types').Rect} Rect\n * @typedef {import('../../util/Types').RectTRBL} RectTRBL\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../../scheduler/Scheduler').default} Scheduler\n *\n * @typedef {import('./ContextPadProvider').default} ContextPadProvider\n * @typedef {import('./ContextPadProvider').ContextPadEntries} ContextPadEntries\n *\n */\n\n/**\n * @template {Element} [ElementType=Element]\n *\n * @typedef {ElementType|ElementType[]} ContextPadTarget\n */\n\nvar entrySelector = '.entry';\n\nvar DEFAULT_PRIORITY = 1000;\nvar CONTEXT_PAD_MARGIN = 8;\nvar HOVER_DELAY = 300;\n\n/**\n * A context pad that displays element specific, contextual actions next\n * to a diagram element.\n *\n * @param {Canvas} canvas\n * @param {ElementRegistry} elementRegistry\n * @param {EventBus} eventBus\n * @param {Scheduler} scheduler\n */\nfunction ContextPad(canvas, elementRegistry, eventBus, scheduler) {\n\n  this._canvas = canvas;\n  this._elementRegistry = elementRegistry;\n  this._eventBus = eventBus;\n  this._scheduler = scheduler;\n\n  this._current = null;\n\n  this._init();\n}\n\nContextPad.$inject = [\n  'canvas',\n  'elementRegistry',\n  'eventBus',\n  'scheduler'\n];\n\n\n/**\n * Registers events needed for interaction with other components.\n */\nContextPad.prototype._init = function() {\n  var self = this;\n\n  this._eventBus.on('selection.changed', function(event) {\n\n    var selection = event.newSelection;\n\n    var target = selection.length\n      ? selection.length === 1\n        ? selection[0]\n        : selection\n      : null;\n\n    if (target) {\n      self.open(target, true);\n    } else {\n      self.close();\n    }\n  });\n\n  this._eventBus.on('elements.changed', function(event) {\n    var elements = event.elements,\n        current = self._current;\n\n    if (!current) {\n      return;\n    }\n\n    var target = current.target;\n\n    var targets = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(target) ? target : [ target ];\n\n    var targetsChanged = targets.filter(function(element) {\n      return elements.includes(element);\n    });\n\n    if (targetsChanged.length) {\n\n      // (1) close\n      self.close();\n\n      var targetsNew = targets.filter(function(element) {\n        return self._elementRegistry.get(element.id);\n      });\n\n      if (targetsNew.length) {\n\n        // (2) re-open with new targets being all previous targets that still\n        // exist\n        self._updateAndOpen(targetsNew.length > 1 ? targetsNew : targetsNew[ 0 ]);\n      }\n    }\n  });\n\n  this._eventBus.on('canvas.viewbox.changed', function() {\n    self._updatePosition();\n  });\n\n  this._eventBus.on('element.marker.update', function(event) {\n    if (!self.isOpen()) {\n      return;\n    }\n\n    var element = event.element;\n\n    var current = self._current;\n\n    var targets = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(current.target) ? current.target : [ current.target ];\n\n    if (!targets.includes(element)) {\n      return;\n    }\n\n    self._updateVisibility();\n  });\n\n  this._container = this._createContainer();\n};\n\nContextPad.prototype._createContainer = function() {\n  var container = (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.domify)('<div class=\"djs-context-pad-parent\"></div>');\n\n  this._canvas.getContainer().appendChild(container);\n\n  return container;\n};\n\n/**\n * @overlord\n *\n * Register a context pad provider with the default priority. See\n * {@link ContextPadProvider} for examples.\n *\n * @param {ContextPadProvider} provider\n */\n\n/**\n * Register a context pad provider with the given priority. See\n * {@link ContextPadProvider} for examples.\n *\n * @param {number} priority\n * @param {ContextPadProvider} provider\n */\nContextPad.prototype.registerProvider = function(priority, provider) {\n  if (!provider) {\n    provider = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  this._eventBus.on('contextPad.getProviders', priority, function(event) {\n    event.providers.push(provider);\n  });\n};\n\n\n/**\n * Get context pad entries for given elements.\n *\n * @param {ContextPadTarget} target\n *\n * @return {ContextPadEntries} list of entries\n */\nContextPad.prototype.getEntries = function(target) {\n  var providers = this._getProviders();\n\n  var provideFn = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(target)\n    ? 'getMultiElementContextPadEntries'\n    : 'getContextPadEntries';\n\n  var entries = {};\n\n  // loop through all providers and their entries.\n  // group entries by id so that overriding an entry is possible\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(providers, function(provider) {\n\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(provider[provideFn])) {\n      return;\n    }\n\n    var entriesOrUpdater = provider[provideFn](target);\n\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(entriesOrUpdater)) {\n      entries = entriesOrUpdater(entries);\n    } else {\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(entriesOrUpdater, function(entry, id) {\n        entries[id] = entry;\n      });\n    }\n  });\n\n  return entries;\n};\n\n\n/**\n * Trigger context pad via DOM event.\n *\n * The entry to trigger is determined by the target element.\n *\n * @param {string} action\n * @param {Event} event\n * @param {boolean} [autoActivate=false]\n */\nContextPad.prototype.trigger = function(action, event, autoActivate) {\n  var self = this;\n\n  var entry,\n      originalEvent,\n      button = event.delegateTarget || event.target;\n\n  if (!button) {\n    return event.preventDefault();\n  }\n\n  entry = (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.attr)(button, 'data-action');\n  originalEvent = event.originalEvent || event;\n\n  if (action === 'mouseover') {\n    this._timeout = setTimeout(function() {\n      self._mouseout = self.triggerEntry(entry, 'hover', originalEvent, autoActivate);\n    }, HOVER_DELAY);\n\n    return;\n  } else if (action === 'mouseout') {\n    clearTimeout(this._timeout);\n\n    if (this._mouseout) {\n      this._mouseout();\n\n      this._mouseout = null;\n    }\n\n    return;\n  }\n\n  return this.triggerEntry(entry, action, originalEvent, autoActivate);\n};\n\n/**\n * Trigger action on context pad entry entry, e.g. click, mouseover or mouseout.\n *\n * @param {string} entryId\n * @param {string} action\n * @param {Event} event\n * @param {boolean} [autoActivate=false]\n */\nContextPad.prototype.triggerEntry = function(entryId, action, event, autoActivate) {\n\n  if (!this.isShown()) {\n    return;\n  }\n\n  var target = this._current.target,\n      entries = this._current.entries;\n\n  var entry = entries[entryId];\n\n  if (!entry) {\n    return;\n  }\n\n  var handler = entry.action;\n\n  if (this._eventBus.fire('contextPad.trigger', { entry, event }) === false) {\n    return;\n  }\n\n  // simple action (via callback function)\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(handler)) {\n    if (action === 'click') {\n      return handler(event, target, autoActivate);\n    }\n  } else {\n    if (handler[action]) {\n      return handler[action](event, target, autoActivate);\n    }\n  }\n\n  // silence other actions\n  event.preventDefault();\n};\n\n\n/**\n * Open the context pad for given elements.\n *\n * @param {ContextPadTarget} target\n * @param {boolean} [force=false] - Force re-opening context pad.\n */\nContextPad.prototype.open = function(target, force) {\n  if (!force && this.isOpen(target)) {\n    return;\n  }\n\n  this.close();\n\n  this._updateAndOpen(target);\n};\n\nContextPad.prototype._getProviders = function() {\n\n  var event = this._eventBus.createEvent({\n    type: 'contextPad.getProviders',\n    providers: []\n  });\n\n  this._eventBus.fire(event);\n\n  return event.providers;\n};\n\n\n/**\n * @param {ContextPadTarget} target\n */\nContextPad.prototype._updateAndOpen = function(target) {\n  var entries = this.getEntries(target),\n      html = this._createHtml(target),\n      image;\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(entries, function(entry, id) {\n    var grouping = entry.group || 'default',\n        control = (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.domify)(entry.html || '<div class=\"entry\" draggable=\"true\"></div>'),\n        container;\n\n    (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.attr)(control, 'data-action', id);\n\n    container = (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.query)('[data-group=' + (0,_util_EscapeUtil__WEBPACK_IMPORTED_MODULE_2__.escapeCSS)(grouping) + ']', html);\n    if (!container) {\n      container = (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.domify)('<div class=\"group\"></div>');\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.attr)(container, 'data-group', grouping);\n\n      html.appendChild(container);\n    }\n\n    container.appendChild(control);\n\n    if (entry.className) {\n      addClasses(control, entry.className);\n    }\n\n    if (entry.title) {\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.attr)(control, 'title', entry.title);\n    }\n\n    if (entry.imageUrl) {\n      image = (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.domify)('<img>');\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.attr)(image, 'src', entry.imageUrl);\n      image.style.width = '100%';\n      image.style.height = '100%';\n\n      control.appendChild(image);\n    }\n  });\n\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.classes)(html).add('open');\n\n  this._current = {\n    entries,\n    html,\n    target,\n  };\n\n  this._updatePosition();\n\n  this._updateVisibility();\n\n  this._eventBus.fire('contextPad.open', { current: this._current });\n};\n\n/**\n * @param {ContextPadTarget} target\n *\n * @return {HTMLElement}\n */\nContextPad.prototype._createHtml = function(target) {\n  var self = this;\n\n  var html = (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.domify)('<div class=\"djs-context-pad\"></div>');\n\n  min_dom__WEBPACK_IMPORTED_MODULE_1__.delegate.bind(html, entrySelector, 'click', function(event) {\n    self.trigger('click', event);\n  });\n\n  min_dom__WEBPACK_IMPORTED_MODULE_1__.delegate.bind(html, entrySelector, 'dragstart', function(event) {\n    self.trigger('dragstart', event);\n  });\n\n  min_dom__WEBPACK_IMPORTED_MODULE_1__.delegate.bind(html, entrySelector, 'mouseover', function(event) {\n    self.trigger('mouseover', event);\n  });\n\n  min_dom__WEBPACK_IMPORTED_MODULE_1__.delegate.bind(html, entrySelector, 'mouseout', function(event) {\n    self.trigger('mouseout', event);\n  });\n\n  // stop propagation of mouse events\n  min_dom__WEBPACK_IMPORTED_MODULE_1__.event.bind(html, 'mousedown', function(event) {\n    event.stopPropagation();\n  });\n\n  this._container.appendChild(html);\n\n  this._eventBus.fire('contextPad.create', {\n    target: target,\n    pad: html\n  });\n\n  return html;\n};\n\n/**\n * @param {ContextPadTarget} target\n *\n * @return { { html: HTMLElement } }\n */\nContextPad.prototype.getPad = function(target) {\n  console.warn(new Error('ContextPad#getPad is deprecated and will be removed in future library versions, cf. https://github.com/bpmn-io/diagram-js/pull/888'));\n\n  let html;\n\n  if (this.isOpen() && targetsEqual(this._current.target, target)) {\n    html = this._current.html;\n  } else {\n    html = this._createHtml(target);\n  }\n\n  return { html };\n};\n\n\n/**\n * Close the context pad\n */\nContextPad.prototype.close = function() {\n  if (!this.isOpen()) {\n    return;\n  }\n\n  clearTimeout(this._timeout);\n\n  this._container.innerHTML = '';\n\n  this._eventBus.fire('contextPad.close', { current: this._current });\n\n  this._current = null;\n};\n\n/**\n * Check if pad is open.\n *\n * If target is provided, check if it is opened\n * for the given target (single or multiple elements).\n *\n * @param {ContextPadTarget} [target]\n * @return {boolean}\n */\nContextPad.prototype.isOpen = function(target) {\n  var current = this._current;\n\n  if (!current) {\n    return false;\n  }\n\n  // basic no-args is open check\n  if (!target) {\n    return true;\n  }\n\n  var currentTarget = current.target;\n\n  // strict handling of single vs. multi-selection\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(target) !== (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(currentTarget)) {\n    return false;\n  }\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(target)) {\n    return (\n      target.length === currentTarget.length &&\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.every)(target, function(element) {\n        return currentTarget.includes(element);\n      })\n    );\n  } else {\n    return currentTarget === target;\n  }\n};\n\n\n/**\n * Check if pad is open and not hidden.\n *\n * @return {boolean}\n */\nContextPad.prototype.isShown = function() {\n  return this.isOpen() && (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.classes)(this._current.html).has('open');\n};\n\n/**\n * Show context pad.\n */\nContextPad.prototype.show = function() {\n  if (!this.isOpen()) {\n    return;\n  }\n\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.classes)(this._current.html).add('open');\n\n  this._updatePosition();\n\n  this._eventBus.fire('contextPad.show', { current: this._current });\n};\n\n/**\n * Hide context pad.\n */\nContextPad.prototype.hide = function() {\n  if (!this.isOpen()) {\n    return;\n  }\n\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.classes)(this._current.html).remove('open');\n\n  this._eventBus.fire('contextPad.hide', { current: this._current });\n};\n\n/**\n * Get context pad position.\n *\n * If target is connection context pad will be positioned at connection end.\n *\n * If multiple targets context pad will be placed at top right corner bounding\n * box.\n *\n * @param {ContextPadTarget} target\n *\n * @return {RectTRBL & { x: number, y: number }}\n */\nContextPad.prototype._getPosition = function(target) {\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(target) && (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_3__.isConnection)(target)) {\n    var viewbox = this._canvas.viewbox();\n\n    var lastWaypoint = getLastWaypoint(target);\n\n    var x = lastWaypoint.x * viewbox.scale - viewbox.x * viewbox.scale,\n        y = lastWaypoint.y * viewbox.scale - viewbox.y * viewbox.scale;\n\n    return {\n      left: x + CONTEXT_PAD_MARGIN * this._canvas.zoom(),\n      top: y\n    };\n  }\n\n  var container = this._canvas.getContainer();\n\n  var containerBounds = container.getBoundingClientRect();\n\n  var targetBounds = this._getTargetBounds(target);\n\n  return {\n    left: targetBounds.right - containerBounds.left + CONTEXT_PAD_MARGIN * this._canvas.zoom(),\n    top: targetBounds.top - containerBounds.top\n  };\n};\n\n/**\n * Update context pad position.\n */\nContextPad.prototype._updatePosition = function() {\n\n  const updateFn = () => {\n    if (!this.isOpen()) {\n      return;\n    }\n\n    var html = this._current.html;\n\n    var position = this._getPosition(this._current.target);\n\n    if ('x' in position && 'y' in position) {\n      html.style.left = position.x + 'px';\n      html.style.top = position.y + 'px';\n    } else {\n      [\n        'top',\n        'right',\n        'bottom',\n        'left'\n      ].forEach(function(key) {\n        if (key in position) {\n          html.style[ key ] = position[ key ] + 'px';\n        }\n      });\n    }\n  };\n\n  this._scheduler.schedule(updateFn, 'ContextPad#_updatePosition');\n};\n\n/**\n * Update context pad visibility. Hide if any of the target elements is hidden\n * using the `djs-element-hidden` or `djs-label-hidden` markers.\n */\nContextPad.prototype._updateVisibility = function() {\n\n  const updateFn = () => {\n    if (!this.isOpen()) {\n      return;\n    }\n\n    var self = this;\n\n    var target = this._current.target;\n\n    var targets = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(target) ? target : [ target ];\n\n    var isHidden = targets.some(function(target) {\n      return self._canvas.hasMarker(target, MARKER_HIDDEN);\n    });\n\n    if (isHidden) {\n      self.hide();\n    } else {\n      self.show();\n    }\n  };\n\n  this._scheduler.schedule(updateFn, 'ContextPad#_updateVisibility');\n};\n\n/**\n * Get bounding client rect of target element(s).\n *\n * @param {ContextPadTarget} target\n *\n * @returns {Rect & RectTRBL}\n */\nContextPad.prototype._getTargetBounds = function(target) {\n  var self = this;\n\n  var elements = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(target) ? target : [ target ];\n\n  var elementsGfx = elements.map(function(element) {\n    return self._canvas.getGraphics(element);\n  });\n\n  return elementsGfx.reduce(function(bounds, elementGfx) {\n    const elementBounds = elementGfx.getBoundingClientRect();\n\n    bounds.top = Math.min(bounds.top, elementBounds.top);\n    bounds.right = Math.max(bounds.right, elementBounds.right);\n    bounds.bottom = Math.max(bounds.bottom, elementBounds.bottom);\n    bounds.left = Math.min(bounds.left, elementBounds.left);\n\n    bounds.x = bounds.left;\n    bounds.y = bounds.top;\n\n    bounds.width = bounds.right - bounds.left;\n    bounds.height = bounds.bottom - bounds.top;\n\n    return bounds;\n  }, {\n    top: Infinity,\n    right: -Infinity,\n    bottom: -Infinity,\n    left: Infinity\n  });\n};\n\n// helpers //////////\n\nfunction addClasses(element, classNames) {\n  var classes = (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.classes)(element);\n\n  classNames = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(classNames) ? classNames : classNames.split(/\\s+/g);\n\n  classNames.forEach(function(cls) {\n    classes.add(cls);\n  });\n}\n\nfunction getLastWaypoint(connection) {\n  return connection.waypoints[connection.waypoints.length - 1];\n}\n\n/**\n * @param {ContextPadTarget} target\n * @param {ContextPadTarget} otherTarget\n *\n * @return {boolean}\n */\nfunction targetsEqual(target, otherTarget) {\n  target = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(target) ? target : [ target ];\n  otherTarget = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(otherTarget) ? otherTarget : [ otherTarget ];\n\n  return target.length === otherTarget.length\n    && (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.every)(target, function(element) {\n      return otherTarget.includes(element);\n    });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29udGV4dC1wYWQvQ29udGV4dFBhZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUtrQjs7QUFTRDs7QUFJYzs7QUFFcUI7O0FBRXBEOztBQUVBO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQ7QUFDQSxhQUFhLGlDQUFpQztBQUM5QyxhQUFhLHFDQUFxQztBQUNsRDtBQUNBLGFBQWEscUNBQXFDO0FBQ2xELGFBQWEsOENBQThDO0FBQzNELGFBQWEsdUNBQXVDO0FBQ3BELGFBQWEsNkNBQTZDO0FBQzFEO0FBQ0EsYUFBYSx3Q0FBd0M7QUFDckQsYUFBYSxrREFBa0Q7QUFDL0Q7QUFDQTs7QUFFQTtBQUNBLGNBQWMsU0FBUztBQUN2QjtBQUNBLGFBQWEsMkJBQTJCO0FBQ3hDOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLGlCQUFpQjtBQUM1QixXQUFXLFVBQVU7QUFDckIsV0FBVyxXQUFXO0FBQ3RCO0FBQ2U7O0FBRWY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsa0JBQWtCLGlEQUFPOztBQUV6QjtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPOztBQUVQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLGtCQUFrQixpREFBTzs7QUFFekI7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLCtDQUFNOztBQUV4Qjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSwwQkFBMEI7QUFDOUI7QUFDQSxXQUFXLG9CQUFvQjtBQUMvQjs7QUFFQTtBQUNBO0FBQ0EsSUFBSSwwQkFBMEI7QUFDOUI7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxvQkFBb0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsa0JBQWtCO0FBQzdCO0FBQ0EsWUFBWSxtQkFBbUI7QUFDL0I7QUFDQTtBQUNBOztBQUVBLGtCQUFrQixpREFBTztBQUN6QjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxFQUFFLGlEQUFPOztBQUVULFNBQVMsb0RBQVU7QUFDbkI7QUFDQTs7QUFFQTs7QUFFQSxRQUFRLG9EQUFVO0FBQ2xCO0FBQ0EsTUFBTTtBQUNOLE1BQU0saURBQU87QUFDYjtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLE9BQU87QUFDbEIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLFVBQVUsNkNBQU87QUFDakI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsU0FBUztBQUNwQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxrREFBa0QsY0FBYztBQUNoRTtBQUNBOztBQUVBO0FBQ0EsTUFBTSxvREFBVTtBQUNoQjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGtCQUFrQjtBQUM3QixXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQSxXQUFXLGtCQUFrQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUUsaURBQU87QUFDVDtBQUNBLGtCQUFrQiwrQ0FBTTtBQUN4Qjs7QUFFQSxJQUFJLDZDQUFPOztBQUVYLGdCQUFnQiw4Q0FBUSxrQkFBa0IsMkRBQVM7QUFDbkQ7QUFDQSxrQkFBa0IsK0NBQU07QUFDeEIsTUFBTSw2Q0FBTzs7QUFFYjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE1BQU0sNkNBQU87QUFDYjs7QUFFQTtBQUNBLGNBQWMsK0NBQU07QUFDcEIsTUFBTSw2Q0FBTztBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUgsRUFBRSxnREFBVTs7QUFFWjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLDJDQUEyQyx3QkFBd0I7QUFDbkU7O0FBRUE7QUFDQSxXQUFXLGtCQUFrQjtBQUM3QjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUEsYUFBYSwrQ0FBTTs7QUFFbkIsRUFBRSw2Q0FBVztBQUNiO0FBQ0EsR0FBRzs7QUFFSCxFQUFFLDZDQUFXO0FBQ2I7QUFDQSxHQUFHOztBQUVILEVBQUUsNkNBQVc7QUFDYjtBQUNBLEdBQUc7O0FBRUgsRUFBRSw2Q0FBVztBQUNiO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLEVBQUUsMENBQVE7QUFDVjtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0EsV0FBVyxrQkFBa0I7QUFDN0I7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQSxXQUFXO0FBQ1g7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLDRDQUE0Qyx3QkFBd0I7O0FBRXBFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxrQkFBa0I7QUFDN0IsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxNQUFNLGlEQUFPLGFBQWEsaURBQU87QUFDakM7QUFDQTs7QUFFQSxNQUFNLGlEQUFPO0FBQ2I7QUFDQTtBQUNBLE1BQU0sK0NBQUs7QUFDWDtBQUNBLE9BQU87QUFDUDtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsMEJBQTBCLGdEQUFVO0FBQ3BDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUUsZ0RBQVU7O0FBRVo7O0FBRUEsMkNBQTJDLHdCQUF3QjtBQUNuRTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFLGdEQUFVOztBQUVaLDJDQUEyQyx3QkFBd0I7QUFDbkU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsa0JBQWtCO0FBQzdCO0FBQ0EsWUFBWSxhQUFhO0FBQ3pCO0FBQ0E7QUFDQSxPQUFPLGlEQUFPLFlBQVksNkRBQVk7QUFDdEM7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxrQkFBa0IsaURBQU87O0FBRXpCO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxrQkFBa0I7QUFDN0I7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBLGlCQUFpQixpREFBTzs7QUFFeEI7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQSxnQkFBZ0IsZ0RBQVU7O0FBRTFCLGVBQWUsaURBQU87O0FBRXRCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxrQkFBa0I7QUFDN0IsV0FBVyxrQkFBa0I7QUFDN0I7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFdBQVcsaURBQU87QUFDbEIsZ0JBQWdCLGlEQUFPOztBQUV2QjtBQUNBLE9BQU8sK0NBQUs7QUFDWjtBQUNBLEtBQUs7QUFDTCIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jb250ZXh0LXBhZC9Db250ZXh0UGFkLmpzPzAxZTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgZXZlcnksXG4gIGZvckVhY2gsXG4gIGlzQXJyYXksXG4gIGlzRnVuY3Rpb25cbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBkZWxlZ2F0ZSBhcyBkb21EZWxlZ2F0ZSxcbiAgZXZlbnQgYXMgZG9tRXZlbnQsXG4gIGF0dHIgYXMgZG9tQXR0cixcbiAgcXVlcnkgYXMgZG9tUXVlcnksXG4gIGNsYXNzZXMgYXMgZG9tQ2xhc3NlcyxcbiAgZG9taWZ5IGFzIGRvbWlmeVxufSBmcm9tICdtaW4tZG9tJztcblxuaW1wb3J0IHtcbiAgZXNjYXBlQ1NTXG59IGZyb20gJy4uLy4uL3V0aWwvRXNjYXBlVXRpbCc7XG5cbmltcG9ydCB7IGlzQ29ubmVjdGlvbiB9IGZyb20gJy4uLy4uL3V0aWwvTW9kZWxVdGlsJztcblxudmFyIE1BUktFUl9ISURERU4gPSAnZGpzLWVsZW1lbnQtaGlkZGVuJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9tb2RlbC9UeXBlcycpLkVsZW1lbnR9IEVsZW1lbnRcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi91dGlsL1R5cGVzJykuUmVjdH0gUmVjdFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vdXRpbC9UeXBlcycpLlJlY3RUUkJMfSBSZWN0VFJCTFxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvQ2FudmFzJykuZGVmYXVsdH0gQ2FudmFzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0VsZW1lbnRSZWdpc3RyeScpLmRlZmF1bHR9IEVsZW1lbnRSZWdpc3RyeVxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9zY2hlZHVsZXIvU2NoZWR1bGVyJykuZGVmYXVsdH0gU2NoZWR1bGVyXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi9Db250ZXh0UGFkUHJvdmlkZXInKS5kZWZhdWx0fSBDb250ZXh0UGFkUHJvdmlkZXJcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vQ29udGV4dFBhZFByb3ZpZGVyJykuQ29udGV4dFBhZEVudHJpZXN9IENvbnRleHRQYWRFbnRyaWVzXG4gKlxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIHtFbGVtZW50fSBbRWxlbWVudFR5cGU9RWxlbWVudF1cbiAqXG4gKiBAdHlwZWRlZiB7RWxlbWVudFR5cGV8RWxlbWVudFR5cGVbXX0gQ29udGV4dFBhZFRhcmdldFxuICovXG5cbnZhciBlbnRyeVNlbGVjdG9yID0gJy5lbnRyeSc7XG5cbnZhciBERUZBVUxUX1BSSU9SSVRZID0gMTAwMDtcbnZhciBDT05URVhUX1BBRF9NQVJHSU4gPSA4O1xudmFyIEhPVkVSX0RFTEFZID0gMzAwO1xuXG4vKipcbiAqIEEgY29udGV4dCBwYWQgdGhhdCBkaXNwbGF5cyBlbGVtZW50IHNwZWNpZmljLCBjb250ZXh0dWFsIGFjdGlvbnMgbmV4dFxuICogdG8gYSBkaWFncmFtIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICogQHBhcmFtIHtFbGVtZW50UmVnaXN0cnl9IGVsZW1lbnRSZWdpc3RyeVxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7U2NoZWR1bGVyfSBzY2hlZHVsZXJcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29udGV4dFBhZChjYW52YXMsIGVsZW1lbnRSZWdpc3RyeSwgZXZlbnRCdXMsIHNjaGVkdWxlcikge1xuXG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcbiAgdGhpcy5fZWxlbWVudFJlZ2lzdHJ5ID0gZWxlbWVudFJlZ2lzdHJ5O1xuICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuICB0aGlzLl9zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG5cbiAgdGhpcy5fY3VycmVudCA9IG51bGw7XG5cbiAgdGhpcy5faW5pdCgpO1xufVxuXG5Db250ZXh0UGFkLiRpbmplY3QgPSBbXG4gICdjYW52YXMnLFxuICAnZWxlbWVudFJlZ2lzdHJ5JyxcbiAgJ2V2ZW50QnVzJyxcbiAgJ3NjaGVkdWxlcidcbl07XG5cblxuLyoqXG4gKiBSZWdpc3RlcnMgZXZlbnRzIG5lZWRlZCBmb3IgaW50ZXJhY3Rpb24gd2l0aCBvdGhlciBjb21wb25lbnRzLlxuICovXG5Db250ZXh0UGFkLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdGhpcy5fZXZlbnRCdXMub24oJ3NlbGVjdGlvbi5jaGFuZ2VkJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBzZWxlY3Rpb24gPSBldmVudC5uZXdTZWxlY3Rpb247XG5cbiAgICB2YXIgdGFyZ2V0ID0gc2VsZWN0aW9uLmxlbmd0aFxuICAgICAgPyBzZWxlY3Rpb24ubGVuZ3RoID09PSAxXG4gICAgICAgID8gc2VsZWN0aW9uWzBdXG4gICAgICAgIDogc2VsZWN0aW9uXG4gICAgICA6IG51bGw7XG5cbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICBzZWxmLm9wZW4odGFyZ2V0LCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5jbG9zZSgpO1xuICAgIH1cbiAgfSk7XG5cbiAgdGhpcy5fZXZlbnRCdXMub24oJ2VsZW1lbnRzLmNoYW5nZWQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBlbGVtZW50cyA9IGV2ZW50LmVsZW1lbnRzLFxuICAgICAgICBjdXJyZW50ID0gc2VsZi5fY3VycmVudDtcblxuICAgIGlmICghY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB0YXJnZXQgPSBjdXJyZW50LnRhcmdldDtcblxuICAgIHZhciB0YXJnZXRzID0gaXNBcnJheSh0YXJnZXQpID8gdGFyZ2V0IDogWyB0YXJnZXQgXTtcblxuICAgIHZhciB0YXJnZXRzQ2hhbmdlZCA9IHRhcmdldHMuZmlsdGVyKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBlbGVtZW50cy5pbmNsdWRlcyhlbGVtZW50KTtcbiAgICB9KTtcblxuICAgIGlmICh0YXJnZXRzQ2hhbmdlZC5sZW5ndGgpIHtcblxuICAgICAgLy8gKDEpIGNsb3NlXG4gICAgICBzZWxmLmNsb3NlKCk7XG5cbiAgICAgIHZhciB0YXJnZXRzTmV3ID0gdGFyZ2V0cy5maWx0ZXIoZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gc2VsZi5fZWxlbWVudFJlZ2lzdHJ5LmdldChlbGVtZW50LmlkKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodGFyZ2V0c05ldy5sZW5ndGgpIHtcblxuICAgICAgICAvLyAoMikgcmUtb3BlbiB3aXRoIG5ldyB0YXJnZXRzIGJlaW5nIGFsbCBwcmV2aW91cyB0YXJnZXRzIHRoYXQgc3RpbGxcbiAgICAgICAgLy8gZXhpc3RcbiAgICAgICAgc2VsZi5fdXBkYXRlQW5kT3Blbih0YXJnZXRzTmV3Lmxlbmd0aCA+IDEgPyB0YXJnZXRzTmV3IDogdGFyZ2V0c05ld1sgMCBdKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHRoaXMuX2V2ZW50QnVzLm9uKCdjYW52YXMudmlld2JveC5jaGFuZ2VkJywgZnVuY3Rpb24oKSB7XG4gICAgc2VsZi5fdXBkYXRlUG9zaXRpb24oKTtcbiAgfSk7XG5cbiAgdGhpcy5fZXZlbnRCdXMub24oJ2VsZW1lbnQubWFya2VyLnVwZGF0ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgaWYgKCFzZWxmLmlzT3BlbigpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGVsZW1lbnQgPSBldmVudC5lbGVtZW50O1xuXG4gICAgdmFyIGN1cnJlbnQgPSBzZWxmLl9jdXJyZW50O1xuXG4gICAgdmFyIHRhcmdldHMgPSBpc0FycmF5KGN1cnJlbnQudGFyZ2V0KSA/IGN1cnJlbnQudGFyZ2V0IDogWyBjdXJyZW50LnRhcmdldCBdO1xuXG4gICAgaWYgKCF0YXJnZXRzLmluY2x1ZGVzKGVsZW1lbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2VsZi5fdXBkYXRlVmlzaWJpbGl0eSgpO1xuICB9KTtcblxuICB0aGlzLl9jb250YWluZXIgPSB0aGlzLl9jcmVhdGVDb250YWluZXIoKTtcbn07XG5cbkNvbnRleHRQYWQucHJvdG90eXBlLl9jcmVhdGVDb250YWluZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGNvbnRhaW5lciA9IGRvbWlmeSgnPGRpdiBjbGFzcz1cImRqcy1jb250ZXh0LXBhZC1wYXJlbnRcIj48L2Rpdj4nKTtcblxuICB0aGlzLl9jYW52YXMuZ2V0Q29udGFpbmVyKCkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblxuICByZXR1cm4gY29udGFpbmVyO1xufTtcblxuLyoqXG4gKiBAb3ZlcmxvcmRcbiAqXG4gKiBSZWdpc3RlciBhIGNvbnRleHQgcGFkIHByb3ZpZGVyIHdpdGggdGhlIGRlZmF1bHQgcHJpb3JpdHkuIFNlZVxuICoge0BsaW5rIENvbnRleHRQYWRQcm92aWRlcn0gZm9yIGV4YW1wbGVzLlxuICpcbiAqIEBwYXJhbSB7Q29udGV4dFBhZFByb3ZpZGVyfSBwcm92aWRlclxuICovXG5cbi8qKlxuICogUmVnaXN0ZXIgYSBjb250ZXh0IHBhZCBwcm92aWRlciB3aXRoIHRoZSBnaXZlbiBwcmlvcml0eS4gU2VlXG4gKiB7QGxpbmsgQ29udGV4dFBhZFByb3ZpZGVyfSBmb3IgZXhhbXBsZXMuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHByaW9yaXR5XG4gKiBAcGFyYW0ge0NvbnRleHRQYWRQcm92aWRlcn0gcHJvdmlkZXJcbiAqL1xuQ29udGV4dFBhZC5wcm90b3R5cGUucmVnaXN0ZXJQcm92aWRlciA9IGZ1bmN0aW9uKHByaW9yaXR5LCBwcm92aWRlcikge1xuICBpZiAoIXByb3ZpZGVyKSB7XG4gICAgcHJvdmlkZXIgPSBwcmlvcml0eTtcbiAgICBwcmlvcml0eSA9IERFRkFVTFRfUFJJT1JJVFk7XG4gIH1cblxuICB0aGlzLl9ldmVudEJ1cy5vbignY29udGV4dFBhZC5nZXRQcm92aWRlcnMnLCBwcmlvcml0eSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBldmVudC5wcm92aWRlcnMucHVzaChwcm92aWRlcik7XG4gIH0pO1xufTtcblxuXG4vKipcbiAqIEdldCBjb250ZXh0IHBhZCBlbnRyaWVzIGZvciBnaXZlbiBlbGVtZW50cy5cbiAqXG4gKiBAcGFyYW0ge0NvbnRleHRQYWRUYXJnZXR9IHRhcmdldFxuICpcbiAqIEByZXR1cm4ge0NvbnRleHRQYWRFbnRyaWVzfSBsaXN0IG9mIGVudHJpZXNcbiAqL1xuQ29udGV4dFBhZC5wcm90b3R5cGUuZ2V0RW50cmllcyA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICB2YXIgcHJvdmlkZXJzID0gdGhpcy5fZ2V0UHJvdmlkZXJzKCk7XG5cbiAgdmFyIHByb3ZpZGVGbiA9IGlzQXJyYXkodGFyZ2V0KVxuICAgID8gJ2dldE11bHRpRWxlbWVudENvbnRleHRQYWRFbnRyaWVzJ1xuICAgIDogJ2dldENvbnRleHRQYWRFbnRyaWVzJztcblxuICB2YXIgZW50cmllcyA9IHt9O1xuXG4gIC8vIGxvb3AgdGhyb3VnaCBhbGwgcHJvdmlkZXJzIGFuZCB0aGVpciBlbnRyaWVzLlxuICAvLyBncm91cCBlbnRyaWVzIGJ5IGlkIHNvIHRoYXQgb3ZlcnJpZGluZyBhbiBlbnRyeSBpcyBwb3NzaWJsZVxuICBmb3JFYWNoKHByb3ZpZGVycywgZnVuY3Rpb24ocHJvdmlkZXIpIHtcblxuICAgIGlmICghaXNGdW5jdGlvbihwcm92aWRlcltwcm92aWRlRm5dKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBlbnRyaWVzT3JVcGRhdGVyID0gcHJvdmlkZXJbcHJvdmlkZUZuXSh0YXJnZXQpO1xuXG4gICAgaWYgKGlzRnVuY3Rpb24oZW50cmllc09yVXBkYXRlcikpIHtcbiAgICAgIGVudHJpZXMgPSBlbnRyaWVzT3JVcGRhdGVyKGVudHJpZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3JFYWNoKGVudHJpZXNPclVwZGF0ZXIsIGZ1bmN0aW9uKGVudHJ5LCBpZCkge1xuICAgICAgICBlbnRyaWVzW2lkXSA9IGVudHJ5O1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gZW50cmllcztcbn07XG5cblxuLyoqXG4gKiBUcmlnZ2VyIGNvbnRleHQgcGFkIHZpYSBET00gZXZlbnQuXG4gKlxuICogVGhlIGVudHJ5IHRvIHRyaWdnZXIgaXMgZGV0ZXJtaW5lZCBieSB0aGUgdGFyZ2V0IGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvblxuICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2F1dG9BY3RpdmF0ZT1mYWxzZV1cbiAqL1xuQ29udGV4dFBhZC5wcm90b3R5cGUudHJpZ2dlciA9IGZ1bmN0aW9uKGFjdGlvbiwgZXZlbnQsIGF1dG9BY3RpdmF0ZSkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdmFyIGVudHJ5LFxuICAgICAgb3JpZ2luYWxFdmVudCxcbiAgICAgIGJ1dHRvbiA9IGV2ZW50LmRlbGVnYXRlVGFyZ2V0IHx8IGV2ZW50LnRhcmdldDtcblxuICBpZiAoIWJ1dHRvbikge1xuICAgIHJldHVybiBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG5cbiAgZW50cnkgPSBkb21BdHRyKGJ1dHRvbiwgJ2RhdGEtYWN0aW9uJyk7XG4gIG9yaWdpbmFsRXZlbnQgPSBldmVudC5vcmlnaW5hbEV2ZW50IHx8IGV2ZW50O1xuXG4gIGlmIChhY3Rpb24gPT09ICdtb3VzZW92ZXInKSB7XG4gICAgdGhpcy5fdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLl9tb3VzZW91dCA9IHNlbGYudHJpZ2dlckVudHJ5KGVudHJ5LCAnaG92ZXInLCBvcmlnaW5hbEV2ZW50LCBhdXRvQWN0aXZhdGUpO1xuICAgIH0sIEhPVkVSX0RFTEFZKTtcblxuICAgIHJldHVybjtcbiAgfSBlbHNlIGlmIChhY3Rpb24gPT09ICdtb3VzZW91dCcpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCk7XG5cbiAgICBpZiAodGhpcy5fbW91c2VvdXQpIHtcbiAgICAgIHRoaXMuX21vdXNlb3V0KCk7XG5cbiAgICAgIHRoaXMuX21vdXNlb3V0ID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH1cblxuICByZXR1cm4gdGhpcy50cmlnZ2VyRW50cnkoZW50cnksIGFjdGlvbiwgb3JpZ2luYWxFdmVudCwgYXV0b0FjdGl2YXRlKTtcbn07XG5cbi8qKlxuICogVHJpZ2dlciBhY3Rpb24gb24gY29udGV4dCBwYWQgZW50cnkgZW50cnksIGUuZy4gY2xpY2ssIG1vdXNlb3ZlciBvciBtb3VzZW91dC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZW50cnlJZFxuICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvblxuICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2F1dG9BY3RpdmF0ZT1mYWxzZV1cbiAqL1xuQ29udGV4dFBhZC5wcm90b3R5cGUudHJpZ2dlckVudHJ5ID0gZnVuY3Rpb24oZW50cnlJZCwgYWN0aW9uLCBldmVudCwgYXV0b0FjdGl2YXRlKSB7XG5cbiAgaWYgKCF0aGlzLmlzU2hvd24oKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciB0YXJnZXQgPSB0aGlzLl9jdXJyZW50LnRhcmdldCxcbiAgICAgIGVudHJpZXMgPSB0aGlzLl9jdXJyZW50LmVudHJpZXM7XG5cbiAgdmFyIGVudHJ5ID0gZW50cmllc1tlbnRyeUlkXTtcblxuICBpZiAoIWVudHJ5KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGhhbmRsZXIgPSBlbnRyeS5hY3Rpb247XG5cbiAgaWYgKHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2NvbnRleHRQYWQudHJpZ2dlcicsIHsgZW50cnksIGV2ZW50IH0pID09PSBmYWxzZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIHNpbXBsZSBhY3Rpb24gKHZpYSBjYWxsYmFjayBmdW5jdGlvbilcbiAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcbiAgICBpZiAoYWN0aW9uID09PSAnY2xpY2snKSB7XG4gICAgICByZXR1cm4gaGFuZGxlcihldmVudCwgdGFyZ2V0LCBhdXRvQWN0aXZhdGUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoaGFuZGxlclthY3Rpb25dKSB7XG4gICAgICByZXR1cm4gaGFuZGxlclthY3Rpb25dKGV2ZW50LCB0YXJnZXQsIGF1dG9BY3RpdmF0ZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gc2lsZW5jZSBvdGhlciBhY3Rpb25zXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG59O1xuXG5cbi8qKlxuICogT3BlbiB0aGUgY29udGV4dCBwYWQgZm9yIGdpdmVuIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7Q29udGV4dFBhZFRhcmdldH0gdGFyZ2V0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtmb3JjZT1mYWxzZV0gLSBGb3JjZSByZS1vcGVuaW5nIGNvbnRleHQgcGFkLlxuICovXG5Db250ZXh0UGFkLnByb3RvdHlwZS5vcGVuID0gZnVuY3Rpb24odGFyZ2V0LCBmb3JjZSkge1xuICBpZiAoIWZvcmNlICYmIHRoaXMuaXNPcGVuKHRhcmdldCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLmNsb3NlKCk7XG5cbiAgdGhpcy5fdXBkYXRlQW5kT3Blbih0YXJnZXQpO1xufTtcblxuQ29udGV4dFBhZC5wcm90b3R5cGUuX2dldFByb3ZpZGVycyA9IGZ1bmN0aW9uKCkge1xuXG4gIHZhciBldmVudCA9IHRoaXMuX2V2ZW50QnVzLmNyZWF0ZUV2ZW50KHtcbiAgICB0eXBlOiAnY29udGV4dFBhZC5nZXRQcm92aWRlcnMnLFxuICAgIHByb3ZpZGVyczogW11cbiAgfSk7XG5cbiAgdGhpcy5fZXZlbnRCdXMuZmlyZShldmVudCk7XG5cbiAgcmV0dXJuIGV2ZW50LnByb3ZpZGVycztcbn07XG5cblxuLyoqXG4gKiBAcGFyYW0ge0NvbnRleHRQYWRUYXJnZXR9IHRhcmdldFxuICovXG5Db250ZXh0UGFkLnByb3RvdHlwZS5fdXBkYXRlQW5kT3BlbiA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICB2YXIgZW50cmllcyA9IHRoaXMuZ2V0RW50cmllcyh0YXJnZXQpLFxuICAgICAgaHRtbCA9IHRoaXMuX2NyZWF0ZUh0bWwodGFyZ2V0KSxcbiAgICAgIGltYWdlO1xuXG4gIGZvckVhY2goZW50cmllcywgZnVuY3Rpb24oZW50cnksIGlkKSB7XG4gICAgdmFyIGdyb3VwaW5nID0gZW50cnkuZ3JvdXAgfHwgJ2RlZmF1bHQnLFxuICAgICAgICBjb250cm9sID0gZG9taWZ5KGVudHJ5Lmh0bWwgfHwgJzxkaXYgY2xhc3M9XCJlbnRyeVwiIGRyYWdnYWJsZT1cInRydWVcIj48L2Rpdj4nKSxcbiAgICAgICAgY29udGFpbmVyO1xuXG4gICAgZG9tQXR0cihjb250cm9sLCAnZGF0YS1hY3Rpb24nLCBpZCk7XG5cbiAgICBjb250YWluZXIgPSBkb21RdWVyeSgnW2RhdGEtZ3JvdXA9JyArIGVzY2FwZUNTUyhncm91cGluZykgKyAnXScsIGh0bWwpO1xuICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICBjb250YWluZXIgPSBkb21pZnkoJzxkaXYgY2xhc3M9XCJncm91cFwiPjwvZGl2PicpO1xuICAgICAgZG9tQXR0cihjb250YWluZXIsICdkYXRhLWdyb3VwJywgZ3JvdXBpbmcpO1xuXG4gICAgICBodG1sLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNvbnRyb2wpO1xuXG4gICAgaWYgKGVudHJ5LmNsYXNzTmFtZSkge1xuICAgICAgYWRkQ2xhc3Nlcyhjb250cm9sLCBlbnRyeS5jbGFzc05hbWUpO1xuICAgIH1cblxuICAgIGlmIChlbnRyeS50aXRsZSkge1xuICAgICAgZG9tQXR0cihjb250cm9sLCAndGl0bGUnLCBlbnRyeS50aXRsZSk7XG4gICAgfVxuXG4gICAgaWYgKGVudHJ5LmltYWdlVXJsKSB7XG4gICAgICBpbWFnZSA9IGRvbWlmeSgnPGltZz4nKTtcbiAgICAgIGRvbUF0dHIoaW1hZ2UsICdzcmMnLCBlbnRyeS5pbWFnZVVybCk7XG4gICAgICBpbWFnZS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgIGltYWdlLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcblxuICAgICAgY29udHJvbC5hcHBlbmRDaGlsZChpbWFnZSk7XG4gICAgfVxuICB9KTtcblxuICBkb21DbGFzc2VzKGh0bWwpLmFkZCgnb3BlbicpO1xuXG4gIHRoaXMuX2N1cnJlbnQgPSB7XG4gICAgZW50cmllcyxcbiAgICBodG1sLFxuICAgIHRhcmdldCxcbiAgfTtcblxuICB0aGlzLl91cGRhdGVQb3NpdGlvbigpO1xuXG4gIHRoaXMuX3VwZGF0ZVZpc2liaWxpdHkoKTtcblxuICB0aGlzLl9ldmVudEJ1cy5maXJlKCdjb250ZXh0UGFkLm9wZW4nLCB7IGN1cnJlbnQ6IHRoaXMuX2N1cnJlbnQgfSk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7Q29udGV4dFBhZFRhcmdldH0gdGFyZ2V0XG4gKlxuICogQHJldHVybiB7SFRNTEVsZW1lbnR9XG4gKi9cbkNvbnRleHRQYWQucHJvdG90eXBlLl9jcmVhdGVIdG1sID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICB2YXIgaHRtbCA9IGRvbWlmeSgnPGRpdiBjbGFzcz1cImRqcy1jb250ZXh0LXBhZFwiPjwvZGl2PicpO1xuXG4gIGRvbURlbGVnYXRlLmJpbmQoaHRtbCwgZW50cnlTZWxlY3RvciwgJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBzZWxmLnRyaWdnZXIoJ2NsaWNrJywgZXZlbnQpO1xuICB9KTtcblxuICBkb21EZWxlZ2F0ZS5iaW5kKGh0bWwsIGVudHJ5U2VsZWN0b3IsICdkcmFnc3RhcnQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHNlbGYudHJpZ2dlcignZHJhZ3N0YXJ0JywgZXZlbnQpO1xuICB9KTtcblxuICBkb21EZWxlZ2F0ZS5iaW5kKGh0bWwsIGVudHJ5U2VsZWN0b3IsICdtb3VzZW92ZXInLCBmdW5jdGlvbihldmVudCkge1xuICAgIHNlbGYudHJpZ2dlcignbW91c2VvdmVyJywgZXZlbnQpO1xuICB9KTtcblxuICBkb21EZWxlZ2F0ZS5iaW5kKGh0bWwsIGVudHJ5U2VsZWN0b3IsICdtb3VzZW91dCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgc2VsZi50cmlnZ2VyKCdtb3VzZW91dCcsIGV2ZW50KTtcbiAgfSk7XG5cbiAgLy8gc3RvcCBwcm9wYWdhdGlvbiBvZiBtb3VzZSBldmVudHNcbiAgZG9tRXZlbnQuYmluZChodG1sLCAnbW91c2Vkb3duJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfSk7XG5cbiAgdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKGh0bWwpO1xuXG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2NvbnRleHRQYWQuY3JlYXRlJywge1xuICAgIHRhcmdldDogdGFyZ2V0LFxuICAgIHBhZDogaHRtbFxuICB9KTtcblxuICByZXR1cm4gaHRtbDtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtDb250ZXh0UGFkVGFyZ2V0fSB0YXJnZXRcbiAqXG4gKiBAcmV0dXJuIHsgeyBodG1sOiBIVE1MRWxlbWVudCB9IH1cbiAqL1xuQ29udGV4dFBhZC5wcm90b3R5cGUuZ2V0UGFkID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gIGNvbnNvbGUud2FybihuZXcgRXJyb3IoJ0NvbnRleHRQYWQjZ2V0UGFkIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBmdXR1cmUgbGlicmFyeSB2ZXJzaW9ucywgY2YuIGh0dHBzOi8vZ2l0aHViLmNvbS9icG1uLWlvL2RpYWdyYW0tanMvcHVsbC84ODgnKSk7XG5cbiAgbGV0IGh0bWw7XG5cbiAgaWYgKHRoaXMuaXNPcGVuKCkgJiYgdGFyZ2V0c0VxdWFsKHRoaXMuX2N1cnJlbnQudGFyZ2V0LCB0YXJnZXQpKSB7XG4gICAgaHRtbCA9IHRoaXMuX2N1cnJlbnQuaHRtbDtcbiAgfSBlbHNlIHtcbiAgICBodG1sID0gdGhpcy5fY3JlYXRlSHRtbCh0YXJnZXQpO1xuICB9XG5cbiAgcmV0dXJuIHsgaHRtbCB9O1xufTtcblxuXG4vKipcbiAqIENsb3NlIHRoZSBjb250ZXh0IHBhZFxuICovXG5Db250ZXh0UGFkLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIXRoaXMuaXNPcGVuKCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCk7XG5cbiAgdGhpcy5fY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuXG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2NvbnRleHRQYWQuY2xvc2UnLCB7IGN1cnJlbnQ6IHRoaXMuX2N1cnJlbnQgfSk7XG5cbiAgdGhpcy5fY3VycmVudCA9IG51bGw7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIHBhZCBpcyBvcGVuLlxuICpcbiAqIElmIHRhcmdldCBpcyBwcm92aWRlZCwgY2hlY2sgaWYgaXQgaXMgb3BlbmVkXG4gKiBmb3IgdGhlIGdpdmVuIHRhcmdldCAoc2luZ2xlIG9yIG11bHRpcGxlIGVsZW1lbnRzKS5cbiAqXG4gKiBAcGFyYW0ge0NvbnRleHRQYWRUYXJnZXR9IFt0YXJnZXRdXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5Db250ZXh0UGFkLnByb3RvdHlwZS5pc09wZW4gPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgdmFyIGN1cnJlbnQgPSB0aGlzLl9jdXJyZW50O1xuXG4gIGlmICghY3VycmVudCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIGJhc2ljIG5vLWFyZ3MgaXMgb3BlbiBjaGVja1xuICBpZiAoIXRhcmdldCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdmFyIGN1cnJlbnRUYXJnZXQgPSBjdXJyZW50LnRhcmdldDtcblxuICAvLyBzdHJpY3QgaGFuZGxpbmcgb2Ygc2luZ2xlIHZzLiBtdWx0aS1zZWxlY3Rpb25cbiAgaWYgKGlzQXJyYXkodGFyZ2V0KSAhPT0gaXNBcnJheShjdXJyZW50VGFyZ2V0KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChpc0FycmF5KHRhcmdldCkpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGFyZ2V0Lmxlbmd0aCA9PT0gY3VycmVudFRhcmdldC5sZW5ndGggJiZcbiAgICAgIGV2ZXJ5KHRhcmdldCwgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gY3VycmVudFRhcmdldC5pbmNsdWRlcyhlbGVtZW50KTtcbiAgICAgIH0pXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY3VycmVudFRhcmdldCA9PT0gdGFyZ2V0O1xuICB9XG59O1xuXG5cbi8qKlxuICogQ2hlY2sgaWYgcGFkIGlzIG9wZW4gYW5kIG5vdCBoaWRkZW4uXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuQ29udGV4dFBhZC5wcm90b3R5cGUuaXNTaG93biA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5pc09wZW4oKSAmJiBkb21DbGFzc2VzKHRoaXMuX2N1cnJlbnQuaHRtbCkuaGFzKCdvcGVuJyk7XG59O1xuXG4vKipcbiAqIFNob3cgY29udGV4dCBwYWQuXG4gKi9cbkNvbnRleHRQYWQucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCF0aGlzLmlzT3BlbigpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZG9tQ2xhc3Nlcyh0aGlzLl9jdXJyZW50Lmh0bWwpLmFkZCgnb3BlbicpO1xuXG4gIHRoaXMuX3VwZGF0ZVBvc2l0aW9uKCk7XG5cbiAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnY29udGV4dFBhZC5zaG93JywgeyBjdXJyZW50OiB0aGlzLl9jdXJyZW50IH0pO1xufTtcblxuLyoqXG4gKiBIaWRlIGNvbnRleHQgcGFkLlxuICovXG5Db250ZXh0UGFkLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy5pc09wZW4oKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGRvbUNsYXNzZXModGhpcy5fY3VycmVudC5odG1sKS5yZW1vdmUoJ29wZW4nKTtcblxuICB0aGlzLl9ldmVudEJ1cy5maXJlKCdjb250ZXh0UGFkLmhpZGUnLCB7IGN1cnJlbnQ6IHRoaXMuX2N1cnJlbnQgfSk7XG59O1xuXG4vKipcbiAqIEdldCBjb250ZXh0IHBhZCBwb3NpdGlvbi5cbiAqXG4gKiBJZiB0YXJnZXQgaXMgY29ubmVjdGlvbiBjb250ZXh0IHBhZCB3aWxsIGJlIHBvc2l0aW9uZWQgYXQgY29ubmVjdGlvbiBlbmQuXG4gKlxuICogSWYgbXVsdGlwbGUgdGFyZ2V0cyBjb250ZXh0IHBhZCB3aWxsIGJlIHBsYWNlZCBhdCB0b3AgcmlnaHQgY29ybmVyIGJvdW5kaW5nXG4gKiBib3guXG4gKlxuICogQHBhcmFtIHtDb250ZXh0UGFkVGFyZ2V0fSB0YXJnZXRcbiAqXG4gKiBAcmV0dXJuIHtSZWN0VFJCTCAmIHsgeDogbnVtYmVyLCB5OiBudW1iZXIgfX1cbiAqL1xuQ29udGV4dFBhZC5wcm90b3R5cGUuX2dldFBvc2l0aW9uID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gIGlmICghaXNBcnJheSh0YXJnZXQpICYmIGlzQ29ubmVjdGlvbih0YXJnZXQpKSB7XG4gICAgdmFyIHZpZXdib3ggPSB0aGlzLl9jYW52YXMudmlld2JveCgpO1xuXG4gICAgdmFyIGxhc3RXYXlwb2ludCA9IGdldExhc3RXYXlwb2ludCh0YXJnZXQpO1xuXG4gICAgdmFyIHggPSBsYXN0V2F5cG9pbnQueCAqIHZpZXdib3guc2NhbGUgLSB2aWV3Ym94LnggKiB2aWV3Ym94LnNjYWxlLFxuICAgICAgICB5ID0gbGFzdFdheXBvaW50LnkgKiB2aWV3Ym94LnNjYWxlIC0gdmlld2JveC55ICogdmlld2JveC5zY2FsZTtcblxuICAgIHJldHVybiB7XG4gICAgICBsZWZ0OiB4ICsgQ09OVEVYVF9QQURfTUFSR0lOICogdGhpcy5fY2FudmFzLnpvb20oKSxcbiAgICAgIHRvcDogeVxuICAgIH07XG4gIH1cblxuICB2YXIgY29udGFpbmVyID0gdGhpcy5fY2FudmFzLmdldENvbnRhaW5lcigpO1xuXG4gIHZhciBjb250YWluZXJCb3VuZHMgPSBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgdmFyIHRhcmdldEJvdW5kcyA9IHRoaXMuX2dldFRhcmdldEJvdW5kcyh0YXJnZXQpO1xuXG4gIHJldHVybiB7XG4gICAgbGVmdDogdGFyZ2V0Qm91bmRzLnJpZ2h0IC0gY29udGFpbmVyQm91bmRzLmxlZnQgKyBDT05URVhUX1BBRF9NQVJHSU4gKiB0aGlzLl9jYW52YXMuem9vbSgpLFxuICAgIHRvcDogdGFyZ2V0Qm91bmRzLnRvcCAtIGNvbnRhaW5lckJvdW5kcy50b3BcbiAgfTtcbn07XG5cbi8qKlxuICogVXBkYXRlIGNvbnRleHQgcGFkIHBvc2l0aW9uLlxuICovXG5Db250ZXh0UGFkLnByb3RvdHlwZS5fdXBkYXRlUG9zaXRpb24gPSBmdW5jdGlvbigpIHtcblxuICBjb25zdCB1cGRhdGVGbiA9ICgpID0+IHtcbiAgICBpZiAoIXRoaXMuaXNPcGVuKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaHRtbCA9IHRoaXMuX2N1cnJlbnQuaHRtbDtcblxuICAgIHZhciBwb3NpdGlvbiA9IHRoaXMuX2dldFBvc2l0aW9uKHRoaXMuX2N1cnJlbnQudGFyZ2V0KTtcblxuICAgIGlmICgneCcgaW4gcG9zaXRpb24gJiYgJ3knIGluIHBvc2l0aW9uKSB7XG4gICAgICBodG1sLnN0eWxlLmxlZnQgPSBwb3NpdGlvbi54ICsgJ3B4JztcbiAgICAgIGh0bWwuc3R5bGUudG9wID0gcG9zaXRpb24ueSArICdweCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIFtcbiAgICAgICAgJ3RvcCcsXG4gICAgICAgICdyaWdodCcsXG4gICAgICAgICdib3R0b20nLFxuICAgICAgICAnbGVmdCdcbiAgICAgIF0uZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgaWYgKGtleSBpbiBwb3NpdGlvbikge1xuICAgICAgICAgIGh0bWwuc3R5bGVbIGtleSBdID0gcG9zaXRpb25bIGtleSBdICsgJ3B4JztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuX3NjaGVkdWxlci5zY2hlZHVsZSh1cGRhdGVGbiwgJ0NvbnRleHRQYWQjX3VwZGF0ZVBvc2l0aW9uJyk7XG59O1xuXG4vKipcbiAqIFVwZGF0ZSBjb250ZXh0IHBhZCB2aXNpYmlsaXR5LiBIaWRlIGlmIGFueSBvZiB0aGUgdGFyZ2V0IGVsZW1lbnRzIGlzIGhpZGRlblxuICogdXNpbmcgdGhlIGBkanMtZWxlbWVudC1oaWRkZW5gIG9yIGBkanMtbGFiZWwtaGlkZGVuYCBtYXJrZXJzLlxuICovXG5Db250ZXh0UGFkLnByb3RvdHlwZS5fdXBkYXRlVmlzaWJpbGl0eSA9IGZ1bmN0aW9uKCkge1xuXG4gIGNvbnN0IHVwZGF0ZUZuID0gKCkgPT4ge1xuICAgIGlmICghdGhpcy5pc09wZW4oKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciB0YXJnZXQgPSB0aGlzLl9jdXJyZW50LnRhcmdldDtcblxuICAgIHZhciB0YXJnZXRzID0gaXNBcnJheSh0YXJnZXQpID8gdGFyZ2V0IDogWyB0YXJnZXQgXTtcblxuICAgIHZhciBpc0hpZGRlbiA9IHRhcmdldHMuc29tZShmdW5jdGlvbih0YXJnZXQpIHtcbiAgICAgIHJldHVybiBzZWxmLl9jYW52YXMuaGFzTWFya2VyKHRhcmdldCwgTUFSS0VSX0hJRERFTik7XG4gICAgfSk7XG5cbiAgICBpZiAoaXNIaWRkZW4pIHtcbiAgICAgIHNlbGYuaGlkZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLnNob3coKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5fc2NoZWR1bGVyLnNjaGVkdWxlKHVwZGF0ZUZuLCAnQ29udGV4dFBhZCNfdXBkYXRlVmlzaWJpbGl0eScpO1xufTtcblxuLyoqXG4gKiBHZXQgYm91bmRpbmcgY2xpZW50IHJlY3Qgb2YgdGFyZ2V0IGVsZW1lbnQocykuXG4gKlxuICogQHBhcmFtIHtDb250ZXh0UGFkVGFyZ2V0fSB0YXJnZXRcbiAqXG4gKiBAcmV0dXJucyB7UmVjdCAmIFJlY3RUUkJMfVxuICovXG5Db250ZXh0UGFkLnByb3RvdHlwZS5fZ2V0VGFyZ2V0Qm91bmRzID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICB2YXIgZWxlbWVudHMgPSBpc0FycmF5KHRhcmdldCkgPyB0YXJnZXQgOiBbIHRhcmdldCBdO1xuXG4gIHZhciBlbGVtZW50c0dmeCA9IGVsZW1lbnRzLm1hcChmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgcmV0dXJuIHNlbGYuX2NhbnZhcy5nZXRHcmFwaGljcyhlbGVtZW50KTtcbiAgfSk7XG5cbiAgcmV0dXJuIGVsZW1lbnRzR2Z4LnJlZHVjZShmdW5jdGlvbihib3VuZHMsIGVsZW1lbnRHZngpIHtcbiAgICBjb25zdCBlbGVtZW50Qm91bmRzID0gZWxlbWVudEdmeC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIGJvdW5kcy50b3AgPSBNYXRoLm1pbihib3VuZHMudG9wLCBlbGVtZW50Qm91bmRzLnRvcCk7XG4gICAgYm91bmRzLnJpZ2h0ID0gTWF0aC5tYXgoYm91bmRzLnJpZ2h0LCBlbGVtZW50Qm91bmRzLnJpZ2h0KTtcbiAgICBib3VuZHMuYm90dG9tID0gTWF0aC5tYXgoYm91bmRzLmJvdHRvbSwgZWxlbWVudEJvdW5kcy5ib3R0b20pO1xuICAgIGJvdW5kcy5sZWZ0ID0gTWF0aC5taW4oYm91bmRzLmxlZnQsIGVsZW1lbnRCb3VuZHMubGVmdCk7XG5cbiAgICBib3VuZHMueCA9IGJvdW5kcy5sZWZ0O1xuICAgIGJvdW5kcy55ID0gYm91bmRzLnRvcDtcblxuICAgIGJvdW5kcy53aWR0aCA9IGJvdW5kcy5yaWdodCAtIGJvdW5kcy5sZWZ0O1xuICAgIGJvdW5kcy5oZWlnaHQgPSBib3VuZHMuYm90dG9tIC0gYm91bmRzLnRvcDtcblxuICAgIHJldHVybiBib3VuZHM7XG4gIH0sIHtcbiAgICB0b3A6IEluZmluaXR5LFxuICAgIHJpZ2h0OiAtSW5maW5pdHksXG4gICAgYm90dG9tOiAtSW5maW5pdHksXG4gICAgbGVmdDogSW5maW5pdHlcbiAgfSk7XG59O1xuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuZnVuY3Rpb24gYWRkQ2xhc3NlcyhlbGVtZW50LCBjbGFzc05hbWVzKSB7XG4gIHZhciBjbGFzc2VzID0gZG9tQ2xhc3NlcyhlbGVtZW50KTtcblxuICBjbGFzc05hbWVzID0gaXNBcnJheShjbGFzc05hbWVzKSA/IGNsYXNzTmFtZXMgOiBjbGFzc05hbWVzLnNwbGl0KC9cXHMrL2cpO1xuXG4gIGNsYXNzTmFtZXMuZm9yRWFjaChmdW5jdGlvbihjbHMpIHtcbiAgICBjbGFzc2VzLmFkZChjbHMpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0TGFzdFdheXBvaW50KGNvbm5lY3Rpb24pIHtcbiAgcmV0dXJuIGNvbm5lY3Rpb24ud2F5cG9pbnRzW2Nvbm5lY3Rpb24ud2F5cG9pbnRzLmxlbmd0aCAtIDFdO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q29udGV4dFBhZFRhcmdldH0gdGFyZ2V0XG4gKiBAcGFyYW0ge0NvbnRleHRQYWRUYXJnZXR9IG90aGVyVGFyZ2V0XG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gdGFyZ2V0c0VxdWFsKHRhcmdldCwgb3RoZXJUYXJnZXQpIHtcbiAgdGFyZ2V0ID0gaXNBcnJheSh0YXJnZXQpID8gdGFyZ2V0IDogWyB0YXJnZXQgXTtcbiAgb3RoZXJUYXJnZXQgPSBpc0FycmF5KG90aGVyVGFyZ2V0KSA/IG90aGVyVGFyZ2V0IDogWyBvdGhlclRhcmdldCBdO1xuXG4gIHJldHVybiB0YXJnZXQubGVuZ3RoID09PSBvdGhlclRhcmdldC5sZW5ndGhcbiAgICAmJiBldmVyeSh0YXJnZXQsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBvdGhlclRhcmdldC5pbmNsdWRlcyhlbGVtZW50KTtcbiAgICB9KTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/context-pad/ContextPad.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/context-pad/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/context-pad/index.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _interaction_events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../interaction-events */ \"(ssr)/./node_modules/diagram-js/lib/features/interaction-events/index.js\");\n/* harmony import */ var _overlays__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../overlays */ \"(ssr)/./node_modules/diagram-js/lib/features/overlays/index.js\");\n/* harmony import */ var _scheduler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../scheduler */ \"(ssr)/./node_modules/diagram-js/lib/features/scheduler/index.js\");\n/* harmony import */ var _ContextPad__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ContextPad */ \"(ssr)/./node_modules/diagram-js/lib/features/context-pad/ContextPad.js\");\n\n\n\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _interaction_events__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    _scheduler__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    _overlays__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\n  ],\n  contextPad: [ 'type', _ContextPad__WEBPACK_IMPORTED_MODULE_3__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29udGV4dC1wYWQvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBNEQ7QUFDbkI7QUFDRTs7QUFFTDs7O0FBR3RDO0FBQ0EsV0FBVztBQUNYO0FBQ0EsaUVBQWU7QUFDZjtBQUNBLElBQUksMkRBQXVCO0FBQzNCLElBQUksa0RBQWU7QUFDbkIsSUFBSSxpREFBYztBQUNsQjtBQUNBLHdCQUF3QixtREFBVTtBQUNsQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2NvbnRleHQtcGFkL2luZGV4LmpzPzg5NGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEludGVyYWN0aW9uRXZlbnRzTW9kdWxlIGZyb20gJy4uL2ludGVyYWN0aW9uLWV2ZW50cyc7XG5pbXBvcnQgT3ZlcmxheXNNb2R1bGUgZnJvbSAnLi4vb3ZlcmxheXMnO1xuaW1wb3J0IFNjaGVkdWxlck1vZHVsZSBmcm9tICcuLi9zY2hlZHVsZXInO1xuXG5pbXBvcnQgQ29udGV4dFBhZCBmcm9tICcuL0NvbnRleHRQYWQnO1xuXG5cbi8qKlxuICogQHR5cGUgeyBpbXBvcnQoJ2RpZGknKS5Nb2R1bGVEZWNsYXJhdGlvbiB9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBJbnRlcmFjdGlvbkV2ZW50c01vZHVsZSxcbiAgICBTY2hlZHVsZXJNb2R1bGUsXG4gICAgT3ZlcmxheXNNb2R1bGVcbiAgXSxcbiAgY29udGV4dFBhZDogWyAndHlwZScsIENvbnRleHRQYWQgXVxufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/context-pad/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/copy-paste/CopyPaste.js":
/*!**********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/copy-paste/CopyPaste.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CopyPaste)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _util_Elements__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/Elements */ \"(ssr)/./node_modules/diagram-js/lib/util/Elements.js\");\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/ModelUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/ModelUtil.js\");\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('../../core/Types').ElementLike} Element\n * @typedef {import('../../core/Types').ShapeLike} Shape\n *\n * @typedef {import('../../util/Types').Point} Point\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../clipboard/Clipboard').default} Clipboard\n * @typedef {import('../create/Create').default} Create\n * @typedef {import('../../core/ElementFactory').default} ElementFactory\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../modeling/Modeling').default} Modeling\n * @typedef {import('../mouse/Mouse').default} Mouse\n * @typedef {import('../rules/Rules').default} Rules\n */\n\n/**\n * @typedef { (event: { elements: Element[] }) => Element[]|boolean } CopyPasteCanCopyElementsListener\n */\n\n/**\n * @typedef { (event: { descriptor: any, element: Element, elements: Element[] }) => void } CopyPasteCopyElementListener\n */\n\n/**\n * @typedef { (event: { element: Element, children: Element[] }) => void } CopyPasteCreateTreeListener\n */\n\n/**\n * @typedef { (event: { elements: any, tree: any }) => void } CopyPasteElementsCopiedListener\n */\n\n/**\n * @typedef { (event: { cache: any, descriptor: any }) => void } CopyPastePasteElementListener\n */\n\n/**\n * @typedef { (event: { hints: any }) => void } CopyPastePasteElementsListener\n */\n\n/**\n * Copy and paste elements.\n *\n * @param {Canvas} canvas\n * @param {Create} create\n * @param {Clipboard} clipboard\n * @param {ElementFactory} elementFactory\n * @param {EventBus} eventBus\n * @param {Modeling} modeling\n * @param {Mouse} mouse\n * @param {Rules} rules\n */\nfunction CopyPaste(\n    canvas,\n    create,\n    clipboard,\n    elementFactory,\n    eventBus,\n    modeling,\n    mouse,\n    rules\n) {\n\n  this._canvas = canvas;\n  this._create = create;\n  this._clipboard = clipboard;\n  this._elementFactory = elementFactory;\n  this._eventBus = eventBus;\n  this._modeling = modeling;\n  this._mouse = mouse;\n  this._rules = rules;\n\n  eventBus.on('copyPaste.copyElement', function(context) {\n    var descriptor = context.descriptor,\n        element = context.element,\n        elements = context.elements;\n\n    // default priority (priority = 1)\n    descriptor.priority = 1;\n\n    descriptor.id = element.id;\n\n    var parentCopied = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.find)(elements, function(e) {\n      return e === element.parent;\n    });\n\n    // do NOT reference parent if parent wasn't copied\n    if (parentCopied) {\n      descriptor.parent = element.parent.id;\n    }\n\n    // attachers (priority = 2)\n    if (isAttacher(element)) {\n      descriptor.priority = 2;\n\n      descriptor.host = element.host.id;\n    }\n\n    // connections (priority = 3)\n    if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.isConnection)(element)) {\n      descriptor.priority = 3;\n\n      descriptor.source = element.source.id;\n      descriptor.target = element.target.id;\n\n      descriptor.waypoints = copyWaypoints(element);\n    }\n\n    // labels (priority = 4)\n    if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.isLabel)(element)) {\n      descriptor.priority = 4;\n\n      descriptor.labelTarget = element.labelTarget.id;\n    }\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)([ 'x', 'y', 'width', 'height' ], function(property) {\n      if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(element[ property ])) {\n        descriptor[ property ] = element[ property ];\n      }\n    });\n\n    descriptor.hidden = element.hidden;\n    descriptor.collapsed = element.collapsed;\n\n  });\n\n  eventBus.on('copyPaste.pasteElements', function(context) {\n    var hints = context.hints;\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(hints, {\n      createElementsBehavior: false\n    });\n  });\n}\n\nCopyPaste.$inject = [\n  'canvas',\n  'create',\n  'clipboard',\n  'elementFactory',\n  'eventBus',\n  'modeling',\n  'mouse',\n  'rules'\n];\n\n\n/**\n * Copy elements.\n *\n * @param {Element[]} elements\n *\n * @return {Object}\n */\nCopyPaste.prototype.copy = function(elements) {\n  var allowed,\n      tree;\n\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(elements)) {\n    elements = elements ? [ elements ] : [];\n  }\n\n  allowed = this._eventBus.fire('copyPaste.canCopyElements', {\n    elements: elements\n  });\n\n  if (allowed === false) {\n    tree = {};\n  } else {\n    tree = this.createTree((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(allowed) ? allowed : elements);\n  }\n\n  // we set an empty tree, selection of elements\n  // to copy was empty.\n  this._clipboard.set(tree);\n\n  this._eventBus.fire('copyPaste.elementsCopied', {\n    elements: elements,\n    tree: tree\n  });\n\n  return tree;\n};\n\n/**\n * Paste elements.\n *\n * @param {Object} [context]\n * @param {Shape} [context.element] The optional parent.\n * @param {Point} [context.point] The optional position.\n * @param {Object} [context.hints] The optional hints.\n */\nCopyPaste.prototype.paste = function(context) {\n  var tree = this._clipboard.get();\n\n  if (this._clipboard.isEmpty()) {\n    return;\n  }\n\n  var hints = context && context.hints || {};\n\n  this._eventBus.fire('copyPaste.pasteElements', {\n    hints: hints\n  });\n\n  var elements = this._createElements(tree);\n\n  // paste directly\n  if (context && context.element && context.point) {\n    return this._paste(elements, context.element, context.point, hints);\n  }\n\n  this._create.start(this._mouse.getLastMoveEvent(), elements, {\n    hints: hints || {}\n  });\n};\n\n/**\n * Paste elements directly.\n *\n * @param {Element[]} elements\n * @param {Shape} target\n * @param {Point} position\n * @param {Object} [hints]\n */\nCopyPaste.prototype._paste = function(elements, target, position, hints) {\n\n  // make sure each element has x and y\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(elements, function(element) {\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(element.x)) {\n      element.x = 0;\n    }\n\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(element.y)) {\n      element.y = 0;\n    }\n  });\n\n  var bbox = (0,_util_Elements__WEBPACK_IMPORTED_MODULE_2__.getBBox)(elements);\n\n  // center elements around cursor\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(elements, function(element) {\n    if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.isConnection)(element)) {\n      element.waypoints = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.map)(element.waypoints, function(waypoint) {\n        return {\n          x: waypoint.x - bbox.x - bbox.width / 2,\n          y: waypoint.y - bbox.y - bbox.height / 2\n        };\n      });\n    }\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(element, {\n      x: element.x - bbox.x - bbox.width / 2,\n      y: element.y - bbox.y - bbox.height / 2\n    });\n  });\n\n  return this._modeling.createElements(elements, position, target, (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({}, hints));\n};\n\n/**\n * Create elements from tree.\n */\nCopyPaste.prototype._createElements = function(tree) {\n  var self = this;\n\n  var eventBus = this._eventBus;\n\n  var cache = {};\n\n  var elements = [];\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(tree, function(branch, depth) {\n\n    depth = parseInt(depth, 10);\n\n    // sort by priority\n    branch = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.sortBy)(branch, 'priority');\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(branch, function(descriptor) {\n\n      // remove priority\n      var attrs = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({}, (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.omit)(descriptor, [ 'priority' ]));\n\n      if (cache[ descriptor.parent ]) {\n        attrs.parent = cache[ descriptor.parent ];\n      } else {\n        delete attrs.parent;\n      }\n\n      eventBus.fire('copyPaste.pasteElement', {\n        cache: cache,\n        descriptor: attrs\n      });\n\n      var element;\n\n      if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.isConnection)(attrs)) {\n        attrs.source = cache[ descriptor.source ];\n        attrs.target = cache[ descriptor.target ];\n\n        element = cache[ descriptor.id ] = self.createConnection(attrs);\n\n        elements.push(element);\n\n        return;\n      }\n\n      if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.isLabel)(attrs)) {\n        attrs.labelTarget = cache[ attrs.labelTarget ];\n\n        element = cache[ descriptor.id ] = self.createLabel(attrs);\n\n        elements.push(element);\n\n        return;\n      }\n\n      if (attrs.host) {\n        attrs.host = cache[ attrs.host ];\n      }\n\n      element = cache[ descriptor.id ] = self.createShape(attrs);\n\n      elements.push(element);\n    });\n\n  });\n\n  return elements;\n};\n\nCopyPaste.prototype.createConnection = function(attrs) {\n  var connection = this._elementFactory.createConnection((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.omit)(attrs, [ 'id' ]));\n\n  return connection;\n};\n\nCopyPaste.prototype.createLabel = function(attrs) {\n  var label = this._elementFactory.createLabel((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.omit)(attrs, [ 'id' ]));\n\n  return label;\n};\n\nCopyPaste.prototype.createShape = function(attrs) {\n  var shape = this._elementFactory.createShape((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.omit)(attrs, [ 'id' ]));\n\n  return shape;\n};\n\n/**\n * Check wether element has relations to other elements e.g. attachers, labels and connections.\n *\n * @param {Object} element\n * @param {Element[]} elements\n *\n * @return {boolean}\n */\nCopyPaste.prototype.hasRelations = function(element, elements) {\n  var labelTarget,\n      source,\n      target;\n\n  if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.isConnection)(element)) {\n    source = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.find)(elements, (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.matchPattern)({ id: element.source.id }));\n    target = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.find)(elements, (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.matchPattern)({ id: element.target.id }));\n\n    if (!source || !target) {\n      return false;\n    }\n  }\n\n  if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.isLabel)(element)) {\n    labelTarget = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.find)(elements, (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.matchPattern)({ id: element.labelTarget.id }));\n\n    if (!labelTarget) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\n * Create a tree-like structure from elements.\n *\n * @example\n *\n * ```javascript\n * tree: {\n *  0: [\n *    { id: 'Shape_1', priority: 1, ... },\n *    { id: 'Shape_2', priority: 1, ... },\n *    { id: 'Connection_1', source: 'Shape_1', target: 'Shape_2', priority: 3, ... },\n *    ...\n *  ],\n *  1: [\n *    { id: 'Shape_3', parent: 'Shape1', priority: 1, ... },\n *    ...\n *  ]\n * };\n * ```\n *\n * @param {Element[]} elements\n *\n * @return {Object}\n */\nCopyPaste.prototype.createTree = function(elements) {\n  var rules = this._rules,\n      self = this;\n\n  var tree = {},\n      elementsData = [];\n\n  var parents = (0,_util_Elements__WEBPACK_IMPORTED_MODULE_2__.getParents)(elements);\n\n  function canCopy(element, elements) {\n    return rules.allowed('element.copy', {\n      element: element,\n      elements: elements\n    });\n  }\n\n  function addElementData(element, depth) {\n\n    // (1) check wether element has already been added\n    var foundElementData = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.find)(elementsData, function(elementsData) {\n      return element === elementsData.element;\n    });\n\n    // (2) add element if not already added\n    if (!foundElementData) {\n      elementsData.push({\n        element: element,\n        depth: depth\n      });\n\n      return;\n    }\n\n    // (3) update depth\n    if (foundElementData.depth < depth) {\n      elementsData = removeElementData(foundElementData, elementsData);\n\n      elementsData.push({\n        element: foundElementData.element,\n        depth: depth\n      });\n    }\n  }\n\n  function removeElementData(elementData, elementsData) {\n    var index = elementsData.indexOf(elementData);\n\n    if (index !== -1) {\n      elementsData.splice(index, 1);\n    }\n\n    return elementsData;\n  }\n\n  // (1) add elements\n  (0,_util_Elements__WEBPACK_IMPORTED_MODULE_2__.eachElement)(parents, function(element, _index, depth) {\n\n    // do NOT add external labels directly\n    if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.isLabel)(element)) {\n      return;\n    }\n\n    // always copy external labels\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(element.labels, function(label) {\n      addElementData(label, depth);\n    });\n\n    function addRelatedElements(elements) {\n      elements && elements.length && (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(elements, function(element) {\n\n        // add external labels\n        (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(element.labels, function(label) {\n          addElementData(label, depth);\n        });\n\n        addElementData(element, depth);\n      });\n    }\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)([ element.attachers, element.incoming, element.outgoing ], addRelatedElements);\n\n    addElementData(element, depth);\n\n    var children = [];\n\n    if (element.children) {\n      children = element.children.slice();\n    }\n\n    // allow others to add children to tree\n    self._eventBus.fire('copyPaste.createTree', {\n      element: element,\n      children: children\n    });\n\n    return children;\n  });\n\n  elements = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.map)(elementsData, function(elementData) {\n    return elementData.element;\n  });\n\n  // (2) copy elements\n  elementsData = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.map)(elementsData, function(elementData) {\n    elementData.descriptor = {};\n\n    self._eventBus.fire('copyPaste.copyElement', {\n      descriptor: elementData.descriptor,\n      element: elementData.element,\n      elements: elements\n    });\n\n    return elementData;\n  });\n\n  // (3) sort elements by priority\n  elementsData = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.sortBy)(elementsData, function(elementData) {\n    return elementData.descriptor.priority;\n  });\n\n  elements = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.map)(elementsData, function(elementData) {\n    return elementData.element;\n  });\n\n  // (4) create tree\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(elementsData, function(elementData) {\n    var depth = elementData.depth;\n\n    if (!self.hasRelations(elementData.element, elements)) {\n      removeElement(elementData.element, elements);\n\n      return;\n    }\n\n    if (!canCopy(elementData.element, elements)) {\n      removeElement(elementData.element, elements);\n\n      return;\n    }\n\n    if (!tree[depth]) {\n      tree[depth] = [];\n    }\n\n    tree[depth].push(elementData.descriptor);\n  });\n\n  return tree;\n};\n\n// helpers //////////\n\nfunction isAttacher(element) {\n  return !!element.host;\n}\n\nfunction copyWaypoints(element) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.map)(element.waypoints, function(waypoint) {\n\n    waypoint = copyWaypoint(waypoint);\n\n    if (waypoint.original) {\n      waypoint.original = copyWaypoint(waypoint.original);\n    }\n\n    return waypoint;\n  });\n}\n\nfunction copyWaypoint(waypoint) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({}, waypoint);\n}\n\nfunction removeElement(element, elements) {\n  var index = elements.indexOf(element);\n\n  if (index === -1) {\n    return elements;\n  }\n\n  return elements.splice(index, 1);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29weS1wYXN0ZS9Db3B5UGFzdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQVVrQjs7QUFLVzs7QUFFcUI7O0FBS3BCOztBQUU5QjtBQUNBLGFBQWEsd0NBQXdDO0FBQ3JELGFBQWEsc0NBQXNDO0FBQ25EO0FBQ0EsYUFBYSxrQ0FBa0M7QUFDL0M7QUFDQSxhQUFhLHFDQUFxQztBQUNsRCxhQUFhLDBDQUEwQztBQUN2RCxhQUFhLG9DQUFvQztBQUNqRCxhQUFhLDZDQUE2QztBQUMxRCxhQUFhLHVDQUF1QztBQUNwRCxhQUFhLHdDQUF3QztBQUNyRCxhQUFhLGtDQUFrQztBQUMvQyxhQUFhLGtDQUFrQztBQUMvQzs7QUFFQTtBQUNBLGNBQWMsVUFBVSxxQkFBcUIseUJBQXlCO0FBQ3RFOztBQUVBO0FBQ0EsY0FBYyxVQUFVLHdEQUF3RCxZQUFZO0FBQzVGOztBQUVBO0FBQ0EsY0FBYyxVQUFVLHVDQUF1QyxZQUFZO0FBQzNFOztBQUVBO0FBQ0EsY0FBYyxVQUFVLDBCQUEwQixZQUFZO0FBQzlEOztBQUVBO0FBQ0EsY0FBYyxVQUFVLDZCQUE2QixZQUFZO0FBQ2pFOztBQUVBO0FBQ0EsY0FBYyxVQUFVLFlBQVksWUFBWTtBQUNoRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsV0FBVztBQUN0QixXQUFXLGdCQUFnQjtBQUMzQixXQUFXLFVBQVU7QUFDckIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEI7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsdUJBQXVCLDhDQUFJO0FBQzNCO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFFBQVEsNkRBQVk7QUFDcEI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsUUFBUSx3REFBTztBQUNmOztBQUVBO0FBQ0E7O0FBRUEsSUFBSSxpREFBTztBQUNYLFVBQVUsa0RBQVE7QUFDbEI7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUEsSUFBSSxnREFBTTtBQUNWO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU8saURBQU87QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxJQUFJO0FBQ0osMkJBQTJCLGlEQUFPO0FBQ2xDOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLFFBQVE7QUFDbkI7QUFDQTs7QUFFQTtBQUNBLEVBQUUsaURBQU87QUFDVCxTQUFTLGtEQUFRO0FBQ2pCO0FBQ0E7O0FBRUEsU0FBUyxrREFBUTtBQUNqQjtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxhQUFhLHVEQUFPOztBQUVwQjtBQUNBLEVBQUUsaURBQU87QUFDVCxRQUFRLDZEQUFZO0FBQ3BCLDBCQUEwQiw2Q0FBRztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQSxJQUFJLGdEQUFNO0FBQ1Y7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVILG1FQUFtRSxnREFBTSxHQUFHO0FBQzVFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsRUFBRSxpREFBTzs7QUFFVDs7QUFFQTtBQUNBLGFBQWEsZ0RBQU07O0FBRW5CLElBQUksaURBQU87O0FBRVg7QUFDQSxrQkFBa0IsZ0RBQU0sR0FBRyxFQUFFLDhDQUFJOztBQUVqQztBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDs7QUFFQSxVQUFVLDZEQUFZO0FBQ3RCO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSxVQUFVLHdEQUFPO0FBQ2pCOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTCxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQSx5REFBeUQsOENBQUk7O0FBRTdEO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0MsOENBQUk7O0FBRW5EO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0MsOENBQUk7O0FBRW5EO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsV0FBVztBQUN0QjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU0sNkRBQVk7QUFDbEIsYUFBYSw4Q0FBSSxXQUFXLHNEQUFZLEdBQUcsdUJBQXVCO0FBQ2xFLGFBQWEsOENBQUksV0FBVyxzREFBWSxHQUFHLHVCQUF1Qjs7QUFFbEU7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTSx3REFBTztBQUNiLGtCQUFrQiw4Q0FBSSxXQUFXLHNEQUFZLEdBQUcsNEJBQTRCOztBQUU1RTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlDQUFpQztBQUN6QyxRQUFRLGlDQUFpQztBQUN6QyxRQUFRLDRFQUE0RTtBQUNwRjtBQUNBO0FBQ0E7QUFDQSxRQUFRLG1EQUFtRDtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGVBQWU7QUFDZjs7QUFFQSxnQkFBZ0IsMERBQVU7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBOztBQUVBO0FBQ0EsMkJBQTJCLDhDQUFJO0FBQy9CO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsRUFBRSwyREFBVzs7QUFFYjtBQUNBLFFBQVEsd0RBQU87QUFDZjtBQUNBOztBQUVBO0FBQ0EsSUFBSSxpREFBTztBQUNYO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLHFDQUFxQyxpREFBTzs7QUFFNUM7QUFDQSxRQUFRLGlEQUFPO0FBQ2Y7QUFDQSxTQUFTOztBQUVUO0FBQ0EsT0FBTztBQUNQOztBQUVBLElBQUksaURBQU87O0FBRVg7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLEdBQUc7O0FBRUgsYUFBYSw2Q0FBRztBQUNoQjtBQUNBLEdBQUc7O0FBRUg7QUFDQSxpQkFBaUIsNkNBQUc7QUFDcEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLGlCQUFpQixnREFBTTtBQUN2QjtBQUNBLEdBQUc7O0FBRUgsYUFBYSw2Q0FBRztBQUNoQjtBQUNBLEdBQUc7O0FBRUg7QUFDQSxFQUFFLGlEQUFPO0FBQ1Q7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUyw2Q0FBRzs7QUFFWjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxTQUFTLGdEQUFNLEdBQUc7QUFDbEI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jb3B5LXBhc3RlL0NvcHlQYXN0ZS5qcz85MzQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGFzc2lnbixcbiAgZmluZCxcbiAgZm9yRWFjaCxcbiAgaXNBcnJheSxcbiAgaXNOdW1iZXIsXG4gIG1hcCxcbiAgbWF0Y2hQYXR0ZXJuLFxuICBvbWl0LFxuICBzb3J0Qnlcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBnZXRCQm94LFxuICBnZXRQYXJlbnRzXG59IGZyb20gJy4uLy4uL3V0aWwvRWxlbWVudHMnO1xuXG5pbXBvcnQgeyBlYWNoRWxlbWVudCB9IGZyb20gJy4uLy4uL3V0aWwvRWxlbWVudHMnO1xuXG5pbXBvcnQge1xuICBpc0Nvbm5lY3Rpb24sXG4gIGlzTGFiZWxcbn0gZnJvbSAnLi4vLi4vdXRpbC9Nb2RlbFV0aWwnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvVHlwZXMnKS5FbGVtZW50TGlrZX0gRWxlbWVudFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9UeXBlcycpLlNoYXBlTGlrZX0gU2hhcGVcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi91dGlsL1R5cGVzJykuUG9pbnR9IFBvaW50XG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9DYW52YXMnKS5kZWZhdWx0fSBDYW52YXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2NsaXBib2FyZC9DbGlwYm9hcmQnKS5kZWZhdWx0fSBDbGlwYm9hcmRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2NyZWF0ZS9DcmVhdGUnKS5kZWZhdWx0fSBDcmVhdGVcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRWxlbWVudEZhY3RvcnknKS5kZWZhdWx0fSBFbGVtZW50RmFjdG9yeVxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9tb2RlbGluZy9Nb2RlbGluZycpLmRlZmF1bHR9IE1vZGVsaW5nXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9tb3VzZS9Nb3VzZScpLmRlZmF1bHR9IE1vdXNlXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9ydWxlcy9SdWxlcycpLmRlZmF1bHR9IFJ1bGVzXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7IChldmVudDogeyBlbGVtZW50czogRWxlbWVudFtdIH0pID0+IEVsZW1lbnRbXXxib29sZWFuIH0gQ29weVBhc3RlQ2FuQ29weUVsZW1lbnRzTGlzdGVuZXJcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHsgKGV2ZW50OiB7IGRlc2NyaXB0b3I6IGFueSwgZWxlbWVudDogRWxlbWVudCwgZWxlbWVudHM6IEVsZW1lbnRbXSB9KSA9PiB2b2lkIH0gQ29weVBhc3RlQ29weUVsZW1lbnRMaXN0ZW5lclxuICovXG5cbi8qKlxuICogQHR5cGVkZWYgeyAoZXZlbnQ6IHsgZWxlbWVudDogRWxlbWVudCwgY2hpbGRyZW46IEVsZW1lbnRbXSB9KSA9PiB2b2lkIH0gQ29weVBhc3RlQ3JlYXRlVHJlZUxpc3RlbmVyXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7IChldmVudDogeyBlbGVtZW50czogYW55LCB0cmVlOiBhbnkgfSkgPT4gdm9pZCB9IENvcHlQYXN0ZUVsZW1lbnRzQ29waWVkTGlzdGVuZXJcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHsgKGV2ZW50OiB7IGNhY2hlOiBhbnksIGRlc2NyaXB0b3I6IGFueSB9KSA9PiB2b2lkIH0gQ29weVBhc3RlUGFzdGVFbGVtZW50TGlzdGVuZXJcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHsgKGV2ZW50OiB7IGhpbnRzOiBhbnkgfSkgPT4gdm9pZCB9IENvcHlQYXN0ZVBhc3RlRWxlbWVudHNMaXN0ZW5lclxuICovXG5cbi8qKlxuICogQ29weSBhbmQgcGFzdGUgZWxlbWVudHMuXG4gKlxuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICogQHBhcmFtIHtDcmVhdGV9IGNyZWF0ZVxuICogQHBhcmFtIHtDbGlwYm9hcmR9IGNsaXBib2FyZFxuICogQHBhcmFtIHtFbGVtZW50RmFjdG9yeX0gZWxlbWVudEZhY3RvcnlcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge01vZGVsaW5nfSBtb2RlbGluZ1xuICogQHBhcmFtIHtNb3VzZX0gbW91c2VcbiAqIEBwYXJhbSB7UnVsZXN9IHJ1bGVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvcHlQYXN0ZShcbiAgICBjYW52YXMsXG4gICAgY3JlYXRlLFxuICAgIGNsaXBib2FyZCxcbiAgICBlbGVtZW50RmFjdG9yeSxcbiAgICBldmVudEJ1cyxcbiAgICBtb2RlbGluZyxcbiAgICBtb3VzZSxcbiAgICBydWxlc1xuKSB7XG5cbiAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuICB0aGlzLl9jcmVhdGUgPSBjcmVhdGU7XG4gIHRoaXMuX2NsaXBib2FyZCA9IGNsaXBib2FyZDtcbiAgdGhpcy5fZWxlbWVudEZhY3RvcnkgPSBlbGVtZW50RmFjdG9yeTtcbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcbiAgdGhpcy5fbW9kZWxpbmcgPSBtb2RlbGluZztcbiAgdGhpcy5fbW91c2UgPSBtb3VzZTtcbiAgdGhpcy5fcnVsZXMgPSBydWxlcztcblxuICBldmVudEJ1cy5vbignY29weVBhc3RlLmNvcHlFbGVtZW50JywgZnVuY3Rpb24oY29udGV4dCkge1xuICAgIHZhciBkZXNjcmlwdG9yID0gY29udGV4dC5kZXNjcmlwdG9yLFxuICAgICAgICBlbGVtZW50ID0gY29udGV4dC5lbGVtZW50LFxuICAgICAgICBlbGVtZW50cyA9IGNvbnRleHQuZWxlbWVudHM7XG5cbiAgICAvLyBkZWZhdWx0IHByaW9yaXR5IChwcmlvcml0eSA9IDEpXG4gICAgZGVzY3JpcHRvci5wcmlvcml0eSA9IDE7XG5cbiAgICBkZXNjcmlwdG9yLmlkID0gZWxlbWVudC5pZDtcblxuICAgIHZhciBwYXJlbnRDb3BpZWQgPSBmaW5kKGVsZW1lbnRzLCBmdW5jdGlvbihlKSB7XG4gICAgICByZXR1cm4gZSA9PT0gZWxlbWVudC5wYXJlbnQ7XG4gICAgfSk7XG5cbiAgICAvLyBkbyBOT1QgcmVmZXJlbmNlIHBhcmVudCBpZiBwYXJlbnQgd2Fzbid0IGNvcGllZFxuICAgIGlmIChwYXJlbnRDb3BpZWQpIHtcbiAgICAgIGRlc2NyaXB0b3IucGFyZW50ID0gZWxlbWVudC5wYXJlbnQuaWQ7XG4gICAgfVxuXG4gICAgLy8gYXR0YWNoZXJzIChwcmlvcml0eSA9IDIpXG4gICAgaWYgKGlzQXR0YWNoZXIoZWxlbWVudCkpIHtcbiAgICAgIGRlc2NyaXB0b3IucHJpb3JpdHkgPSAyO1xuXG4gICAgICBkZXNjcmlwdG9yLmhvc3QgPSBlbGVtZW50Lmhvc3QuaWQ7XG4gICAgfVxuXG4gICAgLy8gY29ubmVjdGlvbnMgKHByaW9yaXR5ID0gMylcbiAgICBpZiAoaXNDb25uZWN0aW9uKGVsZW1lbnQpKSB7XG4gICAgICBkZXNjcmlwdG9yLnByaW9yaXR5ID0gMztcblxuICAgICAgZGVzY3JpcHRvci5zb3VyY2UgPSBlbGVtZW50LnNvdXJjZS5pZDtcbiAgICAgIGRlc2NyaXB0b3IudGFyZ2V0ID0gZWxlbWVudC50YXJnZXQuaWQ7XG5cbiAgICAgIGRlc2NyaXB0b3Iud2F5cG9pbnRzID0gY29weVdheXBvaW50cyhlbGVtZW50KTtcbiAgICB9XG5cbiAgICAvLyBsYWJlbHMgKHByaW9yaXR5ID0gNClcbiAgICBpZiAoaXNMYWJlbChlbGVtZW50KSkge1xuICAgICAgZGVzY3JpcHRvci5wcmlvcml0eSA9IDQ7XG5cbiAgICAgIGRlc2NyaXB0b3IubGFiZWxUYXJnZXQgPSBlbGVtZW50LmxhYmVsVGFyZ2V0LmlkO1xuICAgIH1cblxuICAgIGZvckVhY2goWyAneCcsICd5JywgJ3dpZHRoJywgJ2hlaWdodCcgXSwgZnVuY3Rpb24ocHJvcGVydHkpIHtcbiAgICAgIGlmIChpc051bWJlcihlbGVtZW50WyBwcm9wZXJ0eSBdKSkge1xuICAgICAgICBkZXNjcmlwdG9yWyBwcm9wZXJ0eSBdID0gZWxlbWVudFsgcHJvcGVydHkgXTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRlc2NyaXB0b3IuaGlkZGVuID0gZWxlbWVudC5oaWRkZW47XG4gICAgZGVzY3JpcHRvci5jb2xsYXBzZWQgPSBlbGVtZW50LmNvbGxhcHNlZDtcblxuICB9KTtcblxuICBldmVudEJ1cy5vbignY29weVBhc3RlLnBhc3RlRWxlbWVudHMnLCBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgdmFyIGhpbnRzID0gY29udGV4dC5oaW50cztcblxuICAgIGFzc2lnbihoaW50cywge1xuICAgICAgY3JlYXRlRWxlbWVudHNCZWhhdmlvcjogZmFsc2VcbiAgICB9KTtcbiAgfSk7XG59XG5cbkNvcHlQYXN0ZS4kaW5qZWN0ID0gW1xuICAnY2FudmFzJyxcbiAgJ2NyZWF0ZScsXG4gICdjbGlwYm9hcmQnLFxuICAnZWxlbWVudEZhY3RvcnknLFxuICAnZXZlbnRCdXMnLFxuICAnbW9kZWxpbmcnLFxuICAnbW91c2UnLFxuICAncnVsZXMnXG5dO1xuXG5cbi8qKlxuICogQ29weSBlbGVtZW50cy5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnRbXX0gZWxlbWVudHNcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbkNvcHlQYXN0ZS5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uKGVsZW1lbnRzKSB7XG4gIHZhciBhbGxvd2VkLFxuICAgICAgdHJlZTtcblxuICBpZiAoIWlzQXJyYXkoZWxlbWVudHMpKSB7XG4gICAgZWxlbWVudHMgPSBlbGVtZW50cyA/IFsgZWxlbWVudHMgXSA6IFtdO1xuICB9XG5cbiAgYWxsb3dlZCA9IHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2NvcHlQYXN0ZS5jYW5Db3B5RWxlbWVudHMnLCB7XG4gICAgZWxlbWVudHM6IGVsZW1lbnRzXG4gIH0pO1xuXG4gIGlmIChhbGxvd2VkID09PSBmYWxzZSkge1xuICAgIHRyZWUgPSB7fTtcbiAgfSBlbHNlIHtcbiAgICB0cmVlID0gdGhpcy5jcmVhdGVUcmVlKGlzQXJyYXkoYWxsb3dlZCkgPyBhbGxvd2VkIDogZWxlbWVudHMpO1xuICB9XG5cbiAgLy8gd2Ugc2V0IGFuIGVtcHR5IHRyZWUsIHNlbGVjdGlvbiBvZiBlbGVtZW50c1xuICAvLyB0byBjb3B5IHdhcyBlbXB0eS5cbiAgdGhpcy5fY2xpcGJvYXJkLnNldCh0cmVlKTtcblxuICB0aGlzLl9ldmVudEJ1cy5maXJlKCdjb3B5UGFzdGUuZWxlbWVudHNDb3BpZWQnLCB7XG4gICAgZWxlbWVudHM6IGVsZW1lbnRzLFxuICAgIHRyZWU6IHRyZWVcbiAgfSk7XG5cbiAgcmV0dXJuIHRyZWU7XG59O1xuXG4vKipcbiAqIFBhc3RlIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dF1cbiAqIEBwYXJhbSB7U2hhcGV9IFtjb250ZXh0LmVsZW1lbnRdIFRoZSBvcHRpb25hbCBwYXJlbnQuXG4gKiBAcGFyYW0ge1BvaW50fSBbY29udGV4dC5wb2ludF0gVGhlIG9wdGlvbmFsIHBvc2l0aW9uLlxuICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0LmhpbnRzXSBUaGUgb3B0aW9uYWwgaGludHMuXG4gKi9cbkNvcHlQYXN0ZS5wcm90b3R5cGUucGFzdGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHZhciB0cmVlID0gdGhpcy5fY2xpcGJvYXJkLmdldCgpO1xuXG4gIGlmICh0aGlzLl9jbGlwYm9hcmQuaXNFbXB0eSgpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGhpbnRzID0gY29udGV4dCAmJiBjb250ZXh0LmhpbnRzIHx8IHt9O1xuXG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2NvcHlQYXN0ZS5wYXN0ZUVsZW1lbnRzJywge1xuICAgIGhpbnRzOiBoaW50c1xuICB9KTtcblxuICB2YXIgZWxlbWVudHMgPSB0aGlzLl9jcmVhdGVFbGVtZW50cyh0cmVlKTtcblxuICAvLyBwYXN0ZSBkaXJlY3RseVxuICBpZiAoY29udGV4dCAmJiBjb250ZXh0LmVsZW1lbnQgJiYgY29udGV4dC5wb2ludCkge1xuICAgIHJldHVybiB0aGlzLl9wYXN0ZShlbGVtZW50cywgY29udGV4dC5lbGVtZW50LCBjb250ZXh0LnBvaW50LCBoaW50cyk7XG4gIH1cblxuICB0aGlzLl9jcmVhdGUuc3RhcnQodGhpcy5fbW91c2UuZ2V0TGFzdE1vdmVFdmVudCgpLCBlbGVtZW50cywge1xuICAgIGhpbnRzOiBoaW50cyB8fCB7fVxuICB9KTtcbn07XG5cbi8qKlxuICogUGFzdGUgZWxlbWVudHMgZGlyZWN0bHkuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50W119IGVsZW1lbnRzXG4gKiBAcGFyYW0ge1NoYXBlfSB0YXJnZXRcbiAqIEBwYXJhbSB7UG9pbnR9IHBvc2l0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gW2hpbnRzXVxuICovXG5Db3B5UGFzdGUucHJvdG90eXBlLl9wYXN0ZSA9IGZ1bmN0aW9uKGVsZW1lbnRzLCB0YXJnZXQsIHBvc2l0aW9uLCBoaW50cykge1xuXG4gIC8vIG1ha2Ugc3VyZSBlYWNoIGVsZW1lbnQgaGFzIHggYW5kIHlcbiAgZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIGlmICghaXNOdW1iZXIoZWxlbWVudC54KSkge1xuICAgICAgZWxlbWVudC54ID0gMDtcbiAgICB9XG5cbiAgICBpZiAoIWlzTnVtYmVyKGVsZW1lbnQueSkpIHtcbiAgICAgIGVsZW1lbnQueSA9IDA7XG4gICAgfVxuICB9KTtcblxuICB2YXIgYmJveCA9IGdldEJCb3goZWxlbWVudHMpO1xuXG4gIC8vIGNlbnRlciBlbGVtZW50cyBhcm91bmQgY3Vyc29yXG4gIGZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICBpZiAoaXNDb25uZWN0aW9uKGVsZW1lbnQpKSB7XG4gICAgICBlbGVtZW50LndheXBvaW50cyA9IG1hcChlbGVtZW50LndheXBvaW50cywgZnVuY3Rpb24od2F5cG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB4OiB3YXlwb2ludC54IC0gYmJveC54IC0gYmJveC53aWR0aCAvIDIsXG4gICAgICAgICAgeTogd2F5cG9pbnQueSAtIGJib3gueSAtIGJib3guaGVpZ2h0IC8gMlxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXNzaWduKGVsZW1lbnQsIHtcbiAgICAgIHg6IGVsZW1lbnQueCAtIGJib3gueCAtIGJib3gud2lkdGggLyAyLFxuICAgICAgeTogZWxlbWVudC55IC0gYmJveC55IC0gYmJveC5oZWlnaHQgLyAyXG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiB0aGlzLl9tb2RlbGluZy5jcmVhdGVFbGVtZW50cyhlbGVtZW50cywgcG9zaXRpb24sIHRhcmdldCwgYXNzaWduKHt9LCBoaW50cykpO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgZWxlbWVudHMgZnJvbSB0cmVlLlxuICovXG5Db3B5UGFzdGUucHJvdG90eXBlLl9jcmVhdGVFbGVtZW50cyA9IGZ1bmN0aW9uKHRyZWUpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHZhciBldmVudEJ1cyA9IHRoaXMuX2V2ZW50QnVzO1xuXG4gIHZhciBjYWNoZSA9IHt9O1xuXG4gIHZhciBlbGVtZW50cyA9IFtdO1xuXG4gIGZvckVhY2godHJlZSwgZnVuY3Rpb24oYnJhbmNoLCBkZXB0aCkge1xuXG4gICAgZGVwdGggPSBwYXJzZUludChkZXB0aCwgMTApO1xuXG4gICAgLy8gc29ydCBieSBwcmlvcml0eVxuICAgIGJyYW5jaCA9IHNvcnRCeShicmFuY2gsICdwcmlvcml0eScpO1xuXG4gICAgZm9yRWFjaChicmFuY2gsIGZ1bmN0aW9uKGRlc2NyaXB0b3IpIHtcblxuICAgICAgLy8gcmVtb3ZlIHByaW9yaXR5XG4gICAgICB2YXIgYXR0cnMgPSBhc3NpZ24oe30sIG9taXQoZGVzY3JpcHRvciwgWyAncHJpb3JpdHknIF0pKTtcblxuICAgICAgaWYgKGNhY2hlWyBkZXNjcmlwdG9yLnBhcmVudCBdKSB7XG4gICAgICAgIGF0dHJzLnBhcmVudCA9IGNhY2hlWyBkZXNjcmlwdG9yLnBhcmVudCBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVsZXRlIGF0dHJzLnBhcmVudDtcbiAgICAgIH1cblxuICAgICAgZXZlbnRCdXMuZmlyZSgnY29weVBhc3RlLnBhc3RlRWxlbWVudCcsIHtcbiAgICAgICAgY2FjaGU6IGNhY2hlLFxuICAgICAgICBkZXNjcmlwdG9yOiBhdHRyc1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBlbGVtZW50O1xuXG4gICAgICBpZiAoaXNDb25uZWN0aW9uKGF0dHJzKSkge1xuICAgICAgICBhdHRycy5zb3VyY2UgPSBjYWNoZVsgZGVzY3JpcHRvci5zb3VyY2UgXTtcbiAgICAgICAgYXR0cnMudGFyZ2V0ID0gY2FjaGVbIGRlc2NyaXB0b3IudGFyZ2V0IF07XG5cbiAgICAgICAgZWxlbWVudCA9IGNhY2hlWyBkZXNjcmlwdG9yLmlkIF0gPSBzZWxmLmNyZWF0ZUNvbm5lY3Rpb24oYXR0cnMpO1xuXG4gICAgICAgIGVsZW1lbnRzLnB1c2goZWxlbWVudCk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNMYWJlbChhdHRycykpIHtcbiAgICAgICAgYXR0cnMubGFiZWxUYXJnZXQgPSBjYWNoZVsgYXR0cnMubGFiZWxUYXJnZXQgXTtcblxuICAgICAgICBlbGVtZW50ID0gY2FjaGVbIGRlc2NyaXB0b3IuaWQgXSA9IHNlbGYuY3JlYXRlTGFiZWwoYXR0cnMpO1xuXG4gICAgICAgIGVsZW1lbnRzLnB1c2goZWxlbWVudCk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXR0cnMuaG9zdCkge1xuICAgICAgICBhdHRycy5ob3N0ID0gY2FjaGVbIGF0dHJzLmhvc3QgXTtcbiAgICAgIH1cblxuICAgICAgZWxlbWVudCA9IGNhY2hlWyBkZXNjcmlwdG9yLmlkIF0gPSBzZWxmLmNyZWF0ZVNoYXBlKGF0dHJzKTtcblxuICAgICAgZWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICB9KTtcblxuICB9KTtcblxuICByZXR1cm4gZWxlbWVudHM7XG59O1xuXG5Db3B5UGFzdGUucHJvdG90eXBlLmNyZWF0ZUNvbm5lY3Rpb24gPSBmdW5jdGlvbihhdHRycykge1xuICB2YXIgY29ubmVjdGlvbiA9IHRoaXMuX2VsZW1lbnRGYWN0b3J5LmNyZWF0ZUNvbm5lY3Rpb24ob21pdChhdHRycywgWyAnaWQnIF0pKTtcblxuICByZXR1cm4gY29ubmVjdGlvbjtcbn07XG5cbkNvcHlQYXN0ZS5wcm90b3R5cGUuY3JlYXRlTGFiZWwgPSBmdW5jdGlvbihhdHRycykge1xuICB2YXIgbGFiZWwgPSB0aGlzLl9lbGVtZW50RmFjdG9yeS5jcmVhdGVMYWJlbChvbWl0KGF0dHJzLCBbICdpZCcgXSkpO1xuXG4gIHJldHVybiBsYWJlbDtcbn07XG5cbkNvcHlQYXN0ZS5wcm90b3R5cGUuY3JlYXRlU2hhcGUgPSBmdW5jdGlvbihhdHRycykge1xuICB2YXIgc2hhcGUgPSB0aGlzLl9lbGVtZW50RmFjdG9yeS5jcmVhdGVTaGFwZShvbWl0KGF0dHJzLCBbICdpZCcgXSkpO1xuXG4gIHJldHVybiBzaGFwZTtcbn07XG5cbi8qKlxuICogQ2hlY2sgd2V0aGVyIGVsZW1lbnQgaGFzIHJlbGF0aW9ucyB0byBvdGhlciBlbGVtZW50cyBlLmcuIGF0dGFjaGVycywgbGFiZWxzIGFuZCBjb25uZWN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudFxuICogQHBhcmFtIHtFbGVtZW50W119IGVsZW1lbnRzXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuQ29weVBhc3RlLnByb3RvdHlwZS5oYXNSZWxhdGlvbnMgPSBmdW5jdGlvbihlbGVtZW50LCBlbGVtZW50cykge1xuICB2YXIgbGFiZWxUYXJnZXQsXG4gICAgICBzb3VyY2UsXG4gICAgICB0YXJnZXQ7XG5cbiAgaWYgKGlzQ29ubmVjdGlvbihlbGVtZW50KSkge1xuICAgIHNvdXJjZSA9IGZpbmQoZWxlbWVudHMsIG1hdGNoUGF0dGVybih7IGlkOiBlbGVtZW50LnNvdXJjZS5pZCB9KSk7XG4gICAgdGFyZ2V0ID0gZmluZChlbGVtZW50cywgbWF0Y2hQYXR0ZXJuKHsgaWQ6IGVsZW1lbnQudGFyZ2V0LmlkIH0pKTtcblxuICAgIGlmICghc291cmNlIHx8ICF0YXJnZXQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBpZiAoaXNMYWJlbChlbGVtZW50KSkge1xuICAgIGxhYmVsVGFyZ2V0ID0gZmluZChlbGVtZW50cywgbWF0Y2hQYXR0ZXJuKHsgaWQ6IGVsZW1lbnQubGFiZWxUYXJnZXQuaWQgfSkpO1xuXG4gICAgaWYgKCFsYWJlbFRhcmdldCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYSB0cmVlLWxpa2Ugc3RydWN0dXJlIGZyb20gZWxlbWVudHMuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiB0cmVlOiB7XG4gKiAgMDogW1xuICogICAgeyBpZDogJ1NoYXBlXzEnLCBwcmlvcml0eTogMSwgLi4uIH0sXG4gKiAgICB7IGlkOiAnU2hhcGVfMicsIHByaW9yaXR5OiAxLCAuLi4gfSxcbiAqICAgIHsgaWQ6ICdDb25uZWN0aW9uXzEnLCBzb3VyY2U6ICdTaGFwZV8xJywgdGFyZ2V0OiAnU2hhcGVfMicsIHByaW9yaXR5OiAzLCAuLi4gfSxcbiAqICAgIC4uLlxuICogIF0sXG4gKiAgMTogW1xuICogICAgeyBpZDogJ1NoYXBlXzMnLCBwYXJlbnQ6ICdTaGFwZTEnLCBwcmlvcml0eTogMSwgLi4uIH0sXG4gKiAgICAuLi5cbiAqICBdXG4gKiB9O1xuICogYGBgXG4gKlxuICogQHBhcmFtIHtFbGVtZW50W119IGVsZW1lbnRzXG4gKlxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5Db3B5UGFzdGUucHJvdG90eXBlLmNyZWF0ZVRyZWUgPSBmdW5jdGlvbihlbGVtZW50cykge1xuICB2YXIgcnVsZXMgPSB0aGlzLl9ydWxlcyxcbiAgICAgIHNlbGYgPSB0aGlzO1xuXG4gIHZhciB0cmVlID0ge30sXG4gICAgICBlbGVtZW50c0RhdGEgPSBbXTtcblxuICB2YXIgcGFyZW50cyA9IGdldFBhcmVudHMoZWxlbWVudHMpO1xuXG4gIGZ1bmN0aW9uIGNhbkNvcHkoZWxlbWVudCwgZWxlbWVudHMpIHtcbiAgICByZXR1cm4gcnVsZXMuYWxsb3dlZCgnZWxlbWVudC5jb3B5Jywge1xuICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgIGVsZW1lbnRzOiBlbGVtZW50c1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkRWxlbWVudERhdGEoZWxlbWVudCwgZGVwdGgpIHtcblxuICAgIC8vICgxKSBjaGVjayB3ZXRoZXIgZWxlbWVudCBoYXMgYWxyZWFkeSBiZWVuIGFkZGVkXG4gICAgdmFyIGZvdW5kRWxlbWVudERhdGEgPSBmaW5kKGVsZW1lbnRzRGF0YSwgZnVuY3Rpb24oZWxlbWVudHNEYXRhKSB7XG4gICAgICByZXR1cm4gZWxlbWVudCA9PT0gZWxlbWVudHNEYXRhLmVsZW1lbnQ7XG4gICAgfSk7XG5cbiAgICAvLyAoMikgYWRkIGVsZW1lbnQgaWYgbm90IGFscmVhZHkgYWRkZWRcbiAgICBpZiAoIWZvdW5kRWxlbWVudERhdGEpIHtcbiAgICAgIGVsZW1lbnRzRGF0YS5wdXNoKHtcbiAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgZGVwdGg6IGRlcHRoXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vICgzKSB1cGRhdGUgZGVwdGhcbiAgICBpZiAoZm91bmRFbGVtZW50RGF0YS5kZXB0aCA8IGRlcHRoKSB7XG4gICAgICBlbGVtZW50c0RhdGEgPSByZW1vdmVFbGVtZW50RGF0YShmb3VuZEVsZW1lbnREYXRhLCBlbGVtZW50c0RhdGEpO1xuXG4gICAgICBlbGVtZW50c0RhdGEucHVzaCh7XG4gICAgICAgIGVsZW1lbnQ6IGZvdW5kRWxlbWVudERhdGEuZWxlbWVudCxcbiAgICAgICAgZGVwdGg6IGRlcHRoXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVFbGVtZW50RGF0YShlbGVtZW50RGF0YSwgZWxlbWVudHNEYXRhKSB7XG4gICAgdmFyIGluZGV4ID0gZWxlbWVudHNEYXRhLmluZGV4T2YoZWxlbWVudERhdGEpO1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgZWxlbWVudHNEYXRhLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVsZW1lbnRzRGF0YTtcbiAgfVxuXG4gIC8vICgxKSBhZGQgZWxlbWVudHNcbiAgZWFjaEVsZW1lbnQocGFyZW50cywgZnVuY3Rpb24oZWxlbWVudCwgX2luZGV4LCBkZXB0aCkge1xuXG4gICAgLy8gZG8gTk9UIGFkZCBleHRlcm5hbCBsYWJlbHMgZGlyZWN0bHlcbiAgICBpZiAoaXNMYWJlbChlbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGFsd2F5cyBjb3B5IGV4dGVybmFsIGxhYmVsc1xuICAgIGZvckVhY2goZWxlbWVudC5sYWJlbHMsIGZ1bmN0aW9uKGxhYmVsKSB7XG4gICAgICBhZGRFbGVtZW50RGF0YShsYWJlbCwgZGVwdGgpO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gYWRkUmVsYXRlZEVsZW1lbnRzKGVsZW1lbnRzKSB7XG4gICAgICBlbGVtZW50cyAmJiBlbGVtZW50cy5sZW5ndGggJiYgZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuXG4gICAgICAgIC8vIGFkZCBleHRlcm5hbCBsYWJlbHNcbiAgICAgICAgZm9yRWFjaChlbGVtZW50LmxhYmVscywgZnVuY3Rpb24obGFiZWwpIHtcbiAgICAgICAgICBhZGRFbGVtZW50RGF0YShsYWJlbCwgZGVwdGgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBhZGRFbGVtZW50RGF0YShlbGVtZW50LCBkZXB0aCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmb3JFYWNoKFsgZWxlbWVudC5hdHRhY2hlcnMsIGVsZW1lbnQuaW5jb21pbmcsIGVsZW1lbnQub3V0Z29pbmcgXSwgYWRkUmVsYXRlZEVsZW1lbnRzKTtcblxuICAgIGFkZEVsZW1lbnREYXRhKGVsZW1lbnQsIGRlcHRoKTtcblxuICAgIHZhciBjaGlsZHJlbiA9IFtdO1xuXG4gICAgaWYgKGVsZW1lbnQuY2hpbGRyZW4pIHtcbiAgICAgIGNoaWxkcmVuID0gZWxlbWVudC5jaGlsZHJlbi5zbGljZSgpO1xuICAgIH1cblxuICAgIC8vIGFsbG93IG90aGVycyB0byBhZGQgY2hpbGRyZW4gdG8gdHJlZVxuICAgIHNlbGYuX2V2ZW50QnVzLmZpcmUoJ2NvcHlQYXN0ZS5jcmVhdGVUcmVlJywge1xuICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9KTtcblxuICBlbGVtZW50cyA9IG1hcChlbGVtZW50c0RhdGEsIGZ1bmN0aW9uKGVsZW1lbnREYXRhKSB7XG4gICAgcmV0dXJuIGVsZW1lbnREYXRhLmVsZW1lbnQ7XG4gIH0pO1xuXG4gIC8vICgyKSBjb3B5IGVsZW1lbnRzXG4gIGVsZW1lbnRzRGF0YSA9IG1hcChlbGVtZW50c0RhdGEsIGZ1bmN0aW9uKGVsZW1lbnREYXRhKSB7XG4gICAgZWxlbWVudERhdGEuZGVzY3JpcHRvciA9IHt9O1xuXG4gICAgc2VsZi5fZXZlbnRCdXMuZmlyZSgnY29weVBhc3RlLmNvcHlFbGVtZW50Jywge1xuICAgICAgZGVzY3JpcHRvcjogZWxlbWVudERhdGEuZGVzY3JpcHRvcixcbiAgICAgIGVsZW1lbnQ6IGVsZW1lbnREYXRhLmVsZW1lbnQsXG4gICAgICBlbGVtZW50czogZWxlbWVudHNcbiAgICB9KTtcblxuICAgIHJldHVybiBlbGVtZW50RGF0YTtcbiAgfSk7XG5cbiAgLy8gKDMpIHNvcnQgZWxlbWVudHMgYnkgcHJpb3JpdHlcbiAgZWxlbWVudHNEYXRhID0gc29ydEJ5KGVsZW1lbnRzRGF0YSwgZnVuY3Rpb24oZWxlbWVudERhdGEpIHtcbiAgICByZXR1cm4gZWxlbWVudERhdGEuZGVzY3JpcHRvci5wcmlvcml0eTtcbiAgfSk7XG5cbiAgZWxlbWVudHMgPSBtYXAoZWxlbWVudHNEYXRhLCBmdW5jdGlvbihlbGVtZW50RGF0YSkge1xuICAgIHJldHVybiBlbGVtZW50RGF0YS5lbGVtZW50O1xuICB9KTtcblxuICAvLyAoNCkgY3JlYXRlIHRyZWVcbiAgZm9yRWFjaChlbGVtZW50c0RhdGEsIGZ1bmN0aW9uKGVsZW1lbnREYXRhKSB7XG4gICAgdmFyIGRlcHRoID0gZWxlbWVudERhdGEuZGVwdGg7XG5cbiAgICBpZiAoIXNlbGYuaGFzUmVsYXRpb25zKGVsZW1lbnREYXRhLmVsZW1lbnQsIGVsZW1lbnRzKSkge1xuICAgICAgcmVtb3ZlRWxlbWVudChlbGVtZW50RGF0YS5lbGVtZW50LCBlbGVtZW50cyk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWNhbkNvcHkoZWxlbWVudERhdGEuZWxlbWVudCwgZWxlbWVudHMpKSB7XG4gICAgICByZW1vdmVFbGVtZW50KGVsZW1lbnREYXRhLmVsZW1lbnQsIGVsZW1lbnRzKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdHJlZVtkZXB0aF0pIHtcbiAgICAgIHRyZWVbZGVwdGhdID0gW107XG4gICAgfVxuXG4gICAgdHJlZVtkZXB0aF0ucHVzaChlbGVtZW50RGF0YS5kZXNjcmlwdG9yKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHRyZWU7XG59O1xuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuZnVuY3Rpb24gaXNBdHRhY2hlcihlbGVtZW50KSB7XG4gIHJldHVybiAhIWVsZW1lbnQuaG9zdDtcbn1cblxuZnVuY3Rpb24gY29weVdheXBvaW50cyhlbGVtZW50KSB7XG4gIHJldHVybiBtYXAoZWxlbWVudC53YXlwb2ludHMsIGZ1bmN0aW9uKHdheXBvaW50KSB7XG5cbiAgICB3YXlwb2ludCA9IGNvcHlXYXlwb2ludCh3YXlwb2ludCk7XG5cbiAgICBpZiAod2F5cG9pbnQub3JpZ2luYWwpIHtcbiAgICAgIHdheXBvaW50Lm9yaWdpbmFsID0gY29weVdheXBvaW50KHdheXBvaW50Lm9yaWdpbmFsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gd2F5cG9pbnQ7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjb3B5V2F5cG9pbnQod2F5cG9pbnQpIHtcbiAgcmV0dXJuIGFzc2lnbih7fSwgd2F5cG9pbnQpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVFbGVtZW50KGVsZW1lbnQsIGVsZW1lbnRzKSB7XG4gIHZhciBpbmRleCA9IGVsZW1lbnRzLmluZGV4T2YoZWxlbWVudCk7XG5cbiAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgIHJldHVybiBlbGVtZW50cztcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50cy5zcGxpY2UoaW5kZXgsIDEpO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/copy-paste/CopyPaste.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/copy-paste/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/copy-paste/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _clipboard__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../clipboard */ \"(ssr)/./node_modules/diagram-js/lib/features/clipboard/index.js\");\n/* harmony import */ var _create__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../create */ \"(ssr)/./node_modules/diagram-js/lib/features/create/index.js\");\n/* harmony import */ var _mouse__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../mouse */ \"(ssr)/./node_modules/diagram-js/lib/features/mouse/index.js\");\n/* harmony import */ var _rules__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../rules */ \"(ssr)/./node_modules/diagram-js/lib/features/rules/index.js\");\n/* harmony import */ var _CopyPaste__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./CopyPaste */ \"(ssr)/./node_modules/diagram-js/lib/features/copy-paste/CopyPaste.js\");\n\n\n\n\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _clipboard__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    _create__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    _mouse__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    _rules__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n  ],\n  __init__: [ 'copyPaste' ],\n  copyPaste: [ 'type', _CopyPaste__WEBPACK_IMPORTED_MODULE_4__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29weS1wYXN0ZS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMkM7QUFDTjtBQUNGO0FBQ0E7O0FBRUM7OztBQUdwQztBQUNBLFdBQVc7QUFDWDtBQUNBLGlFQUFlO0FBQ2Y7QUFDQSxJQUFJLGtEQUFlO0FBQ25CLElBQUksK0NBQVk7QUFDaEIsSUFBSSw4Q0FBVztBQUNmLElBQUksOENBQVc7QUFDZjtBQUNBO0FBQ0EsdUJBQXVCLGtEQUFTO0FBQ2hDLENBQUMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jb3B5LXBhc3RlL2luZGV4LmpzP2U1NDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENsaXBib2FyZE1vZHVsZSBmcm9tICcuLi9jbGlwYm9hcmQnO1xuaW1wb3J0IENyZWF0ZU1vZHVsZSBmcm9tICcuLi9jcmVhdGUnO1xuaW1wb3J0IE1vdXNlTW9kdWxlIGZyb20gJy4uL21vdXNlJztcbmltcG9ydCBSdWxlc01vZHVsZSBmcm9tICcuLi9ydWxlcyc7XG5cbmltcG9ydCBDb3B5UGFzdGUgZnJvbSAnLi9Db3B5UGFzdGUnO1xuXG5cbi8qKlxuICogQHR5cGUgeyBpbXBvcnQoJ2RpZGknKS5Nb2R1bGVEZWNsYXJhdGlvbiB9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBDbGlwYm9hcmRNb2R1bGUsXG4gICAgQ3JlYXRlTW9kdWxlLFxuICAgIE1vdXNlTW9kdWxlLFxuICAgIFJ1bGVzTW9kdWxlXG4gIF0sXG4gIF9faW5pdF9fOiBbICdjb3B5UGFzdGUnIF0sXG4gIGNvcHlQYXN0ZTogWyAndHlwZScsIENvcHlQYXN0ZSBdXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/copy-paste/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/create/Create.js":
/*!***************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/create/Create.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Create)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _util_Elements__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/Elements */ \"(ssr)/./node_modules/diagram-js/lib/util/Elements.js\");\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/ModelUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/ModelUtil.js\");\nvar MARKER_OK = 'drop-ok',\n    MARKER_NOT_OK = 'drop-not-ok',\n    MARKER_ATTACH = 'attach-ok',\n    MARKER_NEW_PARENT = 'new-parent';\n\n\n\n\n\n\n\n/**\n * @typedef {import('../../core/Types').ElementLike} Element\n * @typedef {import('../../core/Types').ShapeLike} Shape\n *\n * @typedef {import('../../util/Types').Point} Point\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../dragging/Dragging').default} Dragging\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../modeling/Modeling').default} Modeling\n * @typedef {import('../rules/Rules').default} Rules\n */\n\nvar PREFIX = 'create';\n\nvar HIGH_PRIORITY = 2000;\n\n\n/**\n * Create new elements through drag and drop.\n *\n * @param {Canvas} canvas\n * @param {Dragging} dragging\n * @param {EventBus} eventBus\n * @param {Modeling} modeling\n * @param {Rules} rules\n */\nfunction Create(\n    canvas,\n    dragging,\n    eventBus,\n    modeling,\n    rules\n) {\n\n  // rules //////////\n\n  /**\n   * Check wether elements can be created.\n   *\n   * @param {Element[]} elements\n   * @param {Shape} target\n   * @param {Point} position\n   * @param {Element} [source]\n   *\n   * @return {boolean|null|Object}\n   */\n  function canCreate(elements, target, position, source, hints) {\n    if (!target) {\n      return false;\n    }\n\n    // ignore child elements and external labels\n    elements = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.filter)(elements, function(element) {\n      var labelTarget = element.labelTarget;\n\n      return !element.parent && !((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.isLabel)(element) && elements.indexOf(labelTarget) !== -1);\n    });\n\n    var shape = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.find)(elements, function(element) {\n      return !(0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.isConnection)(element);\n    });\n\n    var attach = false,\n        connect = false,\n        create = false;\n\n    // (1) attaching single shapes\n    if (isSingleShape(elements)) {\n      attach = rules.allowed('shape.attach', {\n        position: position,\n        shape: shape,\n        target: target\n      });\n    }\n\n    if (!attach) {\n\n      // (2) creating elements\n      if (isSingleShape(elements)) {\n        create = rules.allowed('shape.create', {\n          position: position,\n          shape: shape,\n          source: source,\n          target: target\n        });\n      } else {\n        create = rules.allowed('elements.create', {\n          elements: elements,\n          position: position,\n          target: target\n        });\n      }\n\n    }\n\n    var connectionTarget = hints.connectionTarget;\n\n    // (3) appending single shapes\n    if (create || attach) {\n      if (shape && source) {\n        connect = rules.allowed('connection.create', {\n          source: connectionTarget === source ? shape : source,\n          target: connectionTarget === source ? source : shape,\n          hints: {\n            targetParent: target,\n            targetAttach: attach\n          }\n        });\n      }\n\n      return {\n        attach: attach,\n        connect: connect\n      };\n    }\n\n    // ignore wether or not elements can be created\n    if (create === null || attach === null) {\n      return null;\n    }\n\n    return false;\n  }\n\n  function setMarker(element, marker) {\n    [ MARKER_ATTACH, MARKER_OK, MARKER_NOT_OK, MARKER_NEW_PARENT ].forEach(function(m) {\n\n      if (m === marker) {\n        canvas.addMarker(element, m);\n      } else {\n        canvas.removeMarker(element, m);\n      }\n    });\n  }\n\n  // event handling //////////\n\n  eventBus.on([ 'create.move', 'create.hover' ], function(event) {\n    var context = event.context,\n        elements = context.elements,\n        hover = event.hover,\n        source = context.source,\n        hints = context.hints || {};\n\n    if (!hover) {\n      context.canExecute = false;\n      context.target = null;\n\n      return;\n    }\n\n    ensureConstraints(event);\n\n    var position = {\n      x: event.x,\n      y: event.y\n    };\n\n    var canExecute = context.canExecute = hover && canCreate(elements, hover, position, source, hints);\n\n    if (hover && canExecute !== null) {\n      context.target = hover;\n\n      if (canExecute && canExecute.attach) {\n        setMarker(hover, MARKER_ATTACH);\n      } else {\n        setMarker(hover, canExecute ? MARKER_NEW_PARENT : MARKER_NOT_OK);\n      }\n    }\n  });\n\n  eventBus.on([ 'create.end', 'create.out', 'create.cleanup' ], function(event) {\n    var hover = event.hover;\n\n    if (hover) {\n      setMarker(hover, null);\n    }\n  });\n\n  eventBus.on('create.end', function(event) {\n    var context = event.context,\n        source = context.source,\n        shape = context.shape,\n        elements = context.elements,\n        target = context.target,\n        canExecute = context.canExecute,\n        attach = canExecute && canExecute.attach,\n        connect = canExecute && canExecute.connect,\n        hints = context.hints || {};\n\n    if (canExecute === false || !target) {\n      return false;\n    }\n\n    ensureConstraints(event);\n\n    var position = {\n      x: event.x,\n      y: event.y\n    };\n\n    if (connect) {\n      shape = modeling.appendShape(source, shape, position, target, {\n        attach: attach,\n        connection: connect === true ? {} : connect,\n        connectionTarget: hints.connectionTarget\n      });\n    } else {\n      elements = modeling.createElements(elements, position, target, (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({}, hints, {\n        attach: attach\n      }));\n\n      // update shape\n      shape = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.find)(elements, function(element) {\n        return !(0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.isConnection)(element);\n      });\n    }\n\n    // update elements and shape\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(context, {\n      elements: elements,\n      shape: shape\n    });\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(event, {\n      elements: elements,\n      shape: shape\n    });\n  });\n\n  function cancel() {\n    var context = dragging.context();\n\n    if (context && context.prefix === PREFIX) {\n      dragging.cancel();\n    }\n  }\n\n  // cancel on <elements.changed> that is not result of <drag.end>\n  eventBus.on('create.init', function() {\n    eventBus.on('elements.changed', cancel);\n\n    eventBus.once([ 'create.cancel', 'create.end' ], HIGH_PRIORITY, function() {\n      eventBus.off('elements.changed', cancel);\n    });\n  });\n\n  // API //////////\n\n  /**\n   * @param event\n   * @param elements\n   * @param {any} [context={}]\n   */\n  this.start = function(event, elements, context) {\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(elements)) {\n      elements = [ elements ];\n    }\n\n    var shape = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.find)(elements, function(element) {\n      return !(0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.isConnection)(element);\n    });\n\n    if (!shape) {\n\n      // at least one shape is required\n      return;\n    }\n\n    context = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({\n      elements: elements,\n      hints: {},\n      shape: shape\n    }, context || {});\n\n    // make sure each element has x and y\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(elements, function(element) {\n      if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(element.x)) {\n        element.x = 0;\n      }\n\n      if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(element.y)) {\n        element.y = 0;\n      }\n    });\n\n    var visibleElements = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.filter)(elements, function(element) {\n      return !element.hidden;\n    });\n\n    var bbox = (0,_util_Elements__WEBPACK_IMPORTED_MODULE_2__.getBBox)(visibleElements);\n\n    // center elements around cursor\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(elements, function(element) {\n      if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.isConnection)(element)) {\n        element.waypoints = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.map)(element.waypoints, function(waypoint) {\n          return {\n            x: waypoint.x - bbox.x - bbox.width / 2,\n            y: waypoint.y - bbox.y - bbox.height / 2\n          };\n        });\n      }\n\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(element, {\n        x: element.x - bbox.x - bbox.width / 2,\n        y: element.y - bbox.y - bbox.height / 2\n      });\n    });\n\n    dragging.init(event, PREFIX, {\n      cursor: 'grabbing',\n      autoActivate: true,\n      data: {\n        shape: shape,\n        elements: elements,\n        context: context\n      }\n    });\n  };\n}\n\nCreate.$inject = [\n  'canvas',\n  'dragging',\n  'eventBus',\n  'modeling',\n  'rules'\n];\n\n// helpers //////////\n\nfunction ensureConstraints(event) {\n  var context = event.context,\n      createConstraints = context.createConstraints;\n\n  if (!createConstraints) {\n    return;\n  }\n\n  if (createConstraints.left) {\n    event.x = Math.max(event.x, createConstraints.left);\n  }\n\n  if (createConstraints.right) {\n    event.x = Math.min(event.x, createConstraints.right);\n  }\n\n  if (createConstraints.top) {\n    event.y = Math.max(event.y, createConstraints.top);\n  }\n\n  if (createConstraints.bottom) {\n    event.y = Math.min(event.y, createConstraints.bottom);\n  }\n}\n\nfunction isSingleShape(elements) {\n  return elements && elements.length === 1 && !(0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.isConnection)(elements[ 0 ]);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY3JlYXRlL0NyZWF0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBVWtCOztBQUU0Qjs7QUFLaEI7O0FBRTlCO0FBQ0EsYUFBYSx3Q0FBd0M7QUFDckQsYUFBYSxzQ0FBc0M7QUFDbkQ7QUFDQSxhQUFhLGtDQUFrQztBQUMvQztBQUNBLGFBQWEscUNBQXFDO0FBQ2xELGFBQWEsd0NBQXdDO0FBQ3JELGFBQWEsdUNBQXVDO0FBQ3BELGFBQWEsd0NBQXdDO0FBQ3JELGFBQWEsa0NBQWtDO0FBQy9DOztBQUVBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsVUFBVTtBQUNyQixXQUFXLFVBQVU7QUFDckIsV0FBVyxPQUFPO0FBQ2xCO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxXQUFXO0FBQ3hCLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87QUFDcEIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxlQUFlLGdEQUFNO0FBQ3JCOztBQUVBLGtDQUFrQyx3REFBTztBQUN6QyxLQUFLOztBQUVMLGdCQUFnQiw4Q0FBSTtBQUNwQixjQUFjLDZEQUFZO0FBQzFCLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ04scUVBQXFFLGdEQUFNLEdBQUc7QUFDOUU7QUFDQSxPQUFPOztBQUVQO0FBQ0EsY0FBYyw4Q0FBSTtBQUNsQixnQkFBZ0IsNkRBQVk7QUFDNUIsT0FBTztBQUNQOztBQUVBO0FBQ0EsSUFBSSxnREFBTTtBQUNWO0FBQ0E7QUFDQSxLQUFLOztBQUVMLElBQUksZ0RBQU07QUFDVjtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsS0FBSyxXQUFXO0FBQzdCO0FBQ0E7QUFDQSxTQUFTLGlEQUFPO0FBQ2hCO0FBQ0E7O0FBRUEsZ0JBQWdCLDhDQUFJO0FBQ3BCLGNBQWMsNkRBQVk7QUFDMUIsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsY0FBYyxnREFBTTtBQUNwQjtBQUNBLGVBQWU7QUFDZjtBQUNBLEtBQUssZUFBZTs7QUFFcEI7QUFDQSxJQUFJLGlEQUFPO0FBQ1gsV0FBVyxrREFBUTtBQUNuQjtBQUNBOztBQUVBLFdBQVcsa0RBQVE7QUFDbkI7QUFDQTtBQUNBLEtBQUs7O0FBRUwsMEJBQTBCLGdEQUFNO0FBQ2hDO0FBQ0EsS0FBSzs7QUFFTCxlQUFlLHVEQUFPOztBQUV0QjtBQUNBLElBQUksaURBQU87QUFDWCxVQUFVLDZEQUFZO0FBQ3RCLDRCQUE0Qiw2Q0FBRztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQSxNQUFNLGdEQUFNO0FBQ1o7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLDZEQUFZO0FBQzNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2NyZWF0ZS9DcmVhdGUuanM/YjA3NiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTUFSS0VSX09LID0gJ2Ryb3Atb2snLFxuICAgIE1BUktFUl9OT1RfT0sgPSAnZHJvcC1ub3Qtb2snLFxuICAgIE1BUktFUl9BVFRBQ0ggPSAnYXR0YWNoLW9rJyxcbiAgICBNQVJLRVJfTkVXX1BBUkVOVCA9ICduZXctcGFyZW50JztcblxuaW1wb3J0IHtcbiAgYXNzaWduLFxuICBmaWx0ZXIsXG4gIGZpbmQsXG4gIGZvckVhY2gsXG4gIGlzQXJyYXksXG4gIGlzTnVtYmVyLFxuICBtYXBcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQgeyBnZXRCQm94IH0gZnJvbSAnLi4vLi4vdXRpbC9FbGVtZW50cyc7XG5cbmltcG9ydCB7XG4gIGlzQ29ubmVjdGlvbixcbiAgaXNMYWJlbFxufSBmcm9tICcuLi8uLi91dGlsL01vZGVsVXRpbCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9UeXBlcycpLkVsZW1lbnRMaWtlfSBFbGVtZW50XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL1R5cGVzJykuU2hhcGVMaWtlfSBTaGFwZVxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL3V0aWwvVHlwZXMnKS5Qb2ludH0gUG9pbnRcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0NhbnZhcycpLmRlZmF1bHR9IENhbnZhc1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vZHJhZ2dpbmcvRHJhZ2dpbmcnKS5kZWZhdWx0fSBEcmFnZ2luZ1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9tb2RlbGluZy9Nb2RlbGluZycpLmRlZmF1bHR9IE1vZGVsaW5nXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9ydWxlcy9SdWxlcycpLmRlZmF1bHR9IFJ1bGVzXG4gKi9cblxudmFyIFBSRUZJWCA9ICdjcmVhdGUnO1xuXG52YXIgSElHSF9QUklPUklUWSA9IDIwMDA7XG5cblxuLyoqXG4gKiBDcmVhdGUgbmV3IGVsZW1lbnRzIHRocm91Z2ggZHJhZyBhbmQgZHJvcC5cbiAqXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKiBAcGFyYW0ge0RyYWdnaW5nfSBkcmFnZ2luZ1xuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7TW9kZWxpbmd9IG1vZGVsaW5nXG4gKiBAcGFyYW0ge1J1bGVzfSBydWxlc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDcmVhdGUoXG4gICAgY2FudmFzLFxuICAgIGRyYWdnaW5nLFxuICAgIGV2ZW50QnVzLFxuICAgIG1vZGVsaW5nLFxuICAgIHJ1bGVzXG4pIHtcblxuICAvLyBydWxlcyAvLy8vLy8vLy8vXG5cbiAgLyoqXG4gICAqIENoZWNrIHdldGhlciBlbGVtZW50cyBjYW4gYmUgY3JlYXRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50W119IGVsZW1lbnRzXG4gICAqIEBwYXJhbSB7U2hhcGV9IHRhcmdldFxuICAgKiBAcGFyYW0ge1BvaW50fSBwb3NpdGlvblxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IFtzb3VyY2VdXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW58bnVsbHxPYmplY3R9XG4gICAqL1xuICBmdW5jdGlvbiBjYW5DcmVhdGUoZWxlbWVudHMsIHRhcmdldCwgcG9zaXRpb24sIHNvdXJjZSwgaGludHMpIHtcbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIGlnbm9yZSBjaGlsZCBlbGVtZW50cyBhbmQgZXh0ZXJuYWwgbGFiZWxzXG4gICAgZWxlbWVudHMgPSBmaWx0ZXIoZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHZhciBsYWJlbFRhcmdldCA9IGVsZW1lbnQubGFiZWxUYXJnZXQ7XG5cbiAgICAgIHJldHVybiAhZWxlbWVudC5wYXJlbnQgJiYgIShpc0xhYmVsKGVsZW1lbnQpICYmIGVsZW1lbnRzLmluZGV4T2YobGFiZWxUYXJnZXQpICE9PSAtMSk7XG4gICAgfSk7XG5cbiAgICB2YXIgc2hhcGUgPSBmaW5kKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICByZXR1cm4gIWlzQ29ubmVjdGlvbihlbGVtZW50KTtcbiAgICB9KTtcblxuICAgIHZhciBhdHRhY2ggPSBmYWxzZSxcbiAgICAgICAgY29ubmVjdCA9IGZhbHNlLFxuICAgICAgICBjcmVhdGUgPSBmYWxzZTtcblxuICAgIC8vICgxKSBhdHRhY2hpbmcgc2luZ2xlIHNoYXBlc1xuICAgIGlmIChpc1NpbmdsZVNoYXBlKGVsZW1lbnRzKSkge1xuICAgICAgYXR0YWNoID0gcnVsZXMuYWxsb3dlZCgnc2hhcGUuYXR0YWNoJywge1xuICAgICAgICBwb3NpdGlvbjogcG9zaXRpb24sXG4gICAgICAgIHNoYXBlOiBzaGFwZSxcbiAgICAgICAgdGFyZ2V0OiB0YXJnZXRcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICghYXR0YWNoKSB7XG5cbiAgICAgIC8vICgyKSBjcmVhdGluZyBlbGVtZW50c1xuICAgICAgaWYgKGlzU2luZ2xlU2hhcGUoZWxlbWVudHMpKSB7XG4gICAgICAgIGNyZWF0ZSA9IHJ1bGVzLmFsbG93ZWQoJ3NoYXBlLmNyZWF0ZScsIHtcbiAgICAgICAgICBwb3NpdGlvbjogcG9zaXRpb24sXG4gICAgICAgICAgc2hhcGU6IHNoYXBlLFxuICAgICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICAgIHRhcmdldDogdGFyZ2V0XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3JlYXRlID0gcnVsZXMuYWxsb3dlZCgnZWxlbWVudHMuY3JlYXRlJywge1xuICAgICAgICAgIGVsZW1lbnRzOiBlbGVtZW50cyxcbiAgICAgICAgICBwb3NpdGlvbjogcG9zaXRpb24sXG4gICAgICAgICAgdGFyZ2V0OiB0YXJnZXRcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICB9XG5cbiAgICB2YXIgY29ubmVjdGlvblRhcmdldCA9IGhpbnRzLmNvbm5lY3Rpb25UYXJnZXQ7XG5cbiAgICAvLyAoMykgYXBwZW5kaW5nIHNpbmdsZSBzaGFwZXNcbiAgICBpZiAoY3JlYXRlIHx8IGF0dGFjaCkge1xuICAgICAgaWYgKHNoYXBlICYmIHNvdXJjZSkge1xuICAgICAgICBjb25uZWN0ID0gcnVsZXMuYWxsb3dlZCgnY29ubmVjdGlvbi5jcmVhdGUnLCB7XG4gICAgICAgICAgc291cmNlOiBjb25uZWN0aW9uVGFyZ2V0ID09PSBzb3VyY2UgPyBzaGFwZSA6IHNvdXJjZSxcbiAgICAgICAgICB0YXJnZXQ6IGNvbm5lY3Rpb25UYXJnZXQgPT09IHNvdXJjZSA/IHNvdXJjZSA6IHNoYXBlLFxuICAgICAgICAgIGhpbnRzOiB7XG4gICAgICAgICAgICB0YXJnZXRQYXJlbnQ6IHRhcmdldCxcbiAgICAgICAgICAgIHRhcmdldEF0dGFjaDogYXR0YWNoXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYXR0YWNoOiBhdHRhY2gsXG4gICAgICAgIGNvbm5lY3Q6IGNvbm5lY3RcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gaWdub3JlIHdldGhlciBvciBub3QgZWxlbWVudHMgY2FuIGJlIGNyZWF0ZWRcbiAgICBpZiAoY3JlYXRlID09PSBudWxsIHx8IGF0dGFjaCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0TWFya2VyKGVsZW1lbnQsIG1hcmtlcikge1xuICAgIFsgTUFSS0VSX0FUVEFDSCwgTUFSS0VSX09LLCBNQVJLRVJfTk9UX09LLCBNQVJLRVJfTkVXX1BBUkVOVCBdLmZvckVhY2goZnVuY3Rpb24obSkge1xuXG4gICAgICBpZiAobSA9PT0gbWFya2VyKSB7XG4gICAgICAgIGNhbnZhcy5hZGRNYXJrZXIoZWxlbWVudCwgbSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYW52YXMucmVtb3ZlTWFya2VyKGVsZW1lbnQsIG0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gZXZlbnQgaGFuZGxpbmcgLy8vLy8vLy8vL1xuXG4gIGV2ZW50QnVzLm9uKFsgJ2NyZWF0ZS5tb3ZlJywgJ2NyZWF0ZS5ob3ZlcicgXSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGVsZW1lbnRzID0gY29udGV4dC5lbGVtZW50cyxcbiAgICAgICAgaG92ZXIgPSBldmVudC5ob3ZlcixcbiAgICAgICAgc291cmNlID0gY29udGV4dC5zb3VyY2UsXG4gICAgICAgIGhpbnRzID0gY29udGV4dC5oaW50cyB8fCB7fTtcblxuICAgIGlmICghaG92ZXIpIHtcbiAgICAgIGNvbnRleHQuY2FuRXhlY3V0ZSA9IGZhbHNlO1xuICAgICAgY29udGV4dC50YXJnZXQgPSBudWxsO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZW5zdXJlQ29uc3RyYWludHMoZXZlbnQpO1xuXG4gICAgdmFyIHBvc2l0aW9uID0ge1xuICAgICAgeDogZXZlbnQueCxcbiAgICAgIHk6IGV2ZW50LnlcbiAgICB9O1xuXG4gICAgdmFyIGNhbkV4ZWN1dGUgPSBjb250ZXh0LmNhbkV4ZWN1dGUgPSBob3ZlciAmJiBjYW5DcmVhdGUoZWxlbWVudHMsIGhvdmVyLCBwb3NpdGlvbiwgc291cmNlLCBoaW50cyk7XG5cbiAgICBpZiAoaG92ZXIgJiYgY2FuRXhlY3V0ZSAhPT0gbnVsbCkge1xuICAgICAgY29udGV4dC50YXJnZXQgPSBob3ZlcjtcblxuICAgICAgaWYgKGNhbkV4ZWN1dGUgJiYgY2FuRXhlY3V0ZS5hdHRhY2gpIHtcbiAgICAgICAgc2V0TWFya2VyKGhvdmVyLCBNQVJLRVJfQVRUQUNIKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldE1hcmtlcihob3ZlciwgY2FuRXhlY3V0ZSA/IE1BUktFUl9ORVdfUEFSRU5UIDogTUFSS0VSX05PVF9PSyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBldmVudEJ1cy5vbihbICdjcmVhdGUuZW5kJywgJ2NyZWF0ZS5vdXQnLCAnY3JlYXRlLmNsZWFudXAnIF0sIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGhvdmVyID0gZXZlbnQuaG92ZXI7XG5cbiAgICBpZiAoaG92ZXIpIHtcbiAgICAgIHNldE1hcmtlcihob3ZlciwgbnVsbCk7XG4gICAgfVxuICB9KTtcblxuICBldmVudEJ1cy5vbignY3JlYXRlLmVuZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBzb3VyY2UgPSBjb250ZXh0LnNvdXJjZSxcbiAgICAgICAgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgICBlbGVtZW50cyA9IGNvbnRleHQuZWxlbWVudHMsXG4gICAgICAgIHRhcmdldCA9IGNvbnRleHQudGFyZ2V0LFxuICAgICAgICBjYW5FeGVjdXRlID0gY29udGV4dC5jYW5FeGVjdXRlLFxuICAgICAgICBhdHRhY2ggPSBjYW5FeGVjdXRlICYmIGNhbkV4ZWN1dGUuYXR0YWNoLFxuICAgICAgICBjb25uZWN0ID0gY2FuRXhlY3V0ZSAmJiBjYW5FeGVjdXRlLmNvbm5lY3QsXG4gICAgICAgIGhpbnRzID0gY29udGV4dC5oaW50cyB8fCB7fTtcblxuICAgIGlmIChjYW5FeGVjdXRlID09PSBmYWxzZSB8fCAhdGFyZ2V0KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZW5zdXJlQ29uc3RyYWludHMoZXZlbnQpO1xuXG4gICAgdmFyIHBvc2l0aW9uID0ge1xuICAgICAgeDogZXZlbnQueCxcbiAgICAgIHk6IGV2ZW50LnlcbiAgICB9O1xuXG4gICAgaWYgKGNvbm5lY3QpIHtcbiAgICAgIHNoYXBlID0gbW9kZWxpbmcuYXBwZW5kU2hhcGUoc291cmNlLCBzaGFwZSwgcG9zaXRpb24sIHRhcmdldCwge1xuICAgICAgICBhdHRhY2g6IGF0dGFjaCxcbiAgICAgICAgY29ubmVjdGlvbjogY29ubmVjdCA9PT0gdHJ1ZSA/IHt9IDogY29ubmVjdCxcbiAgICAgICAgY29ubmVjdGlvblRhcmdldDogaGludHMuY29ubmVjdGlvblRhcmdldFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1lbnRzID0gbW9kZWxpbmcuY3JlYXRlRWxlbWVudHMoZWxlbWVudHMsIHBvc2l0aW9uLCB0YXJnZXQsIGFzc2lnbih7fSwgaGludHMsIHtcbiAgICAgICAgYXR0YWNoOiBhdHRhY2hcbiAgICAgIH0pKTtcblxuICAgICAgLy8gdXBkYXRlIHNoYXBlXG4gICAgICBzaGFwZSA9IGZpbmQoZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuICFpc0Nvbm5lY3Rpb24oZWxlbWVudCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgZWxlbWVudHMgYW5kIHNoYXBlXG4gICAgYXNzaWduKGNvbnRleHQsIHtcbiAgICAgIGVsZW1lbnRzOiBlbGVtZW50cyxcbiAgICAgIHNoYXBlOiBzaGFwZVxuICAgIH0pO1xuXG4gICAgYXNzaWduKGV2ZW50LCB7XG4gICAgICBlbGVtZW50czogZWxlbWVudHMsXG4gICAgICBzaGFwZTogc2hhcGVcbiAgICB9KTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgIHZhciBjb250ZXh0ID0gZHJhZ2dpbmcuY29udGV4dCgpO1xuXG4gICAgaWYgKGNvbnRleHQgJiYgY29udGV4dC5wcmVmaXggPT09IFBSRUZJWCkge1xuICAgICAgZHJhZ2dpbmcuY2FuY2VsKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gY2FuY2VsIG9uIDxlbGVtZW50cy5jaGFuZ2VkPiB0aGF0IGlzIG5vdCByZXN1bHQgb2YgPGRyYWcuZW5kPlxuICBldmVudEJ1cy5vbignY3JlYXRlLmluaXQnLCBmdW5jdGlvbigpIHtcbiAgICBldmVudEJ1cy5vbignZWxlbWVudHMuY2hhbmdlZCcsIGNhbmNlbCk7XG5cbiAgICBldmVudEJ1cy5vbmNlKFsgJ2NyZWF0ZS5jYW5jZWwnLCAnY3JlYXRlLmVuZCcgXSwgSElHSF9QUklPUklUWSwgZnVuY3Rpb24oKSB7XG4gICAgICBldmVudEJ1cy5vZmYoJ2VsZW1lbnRzLmNoYW5nZWQnLCBjYW5jZWwpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBBUEkgLy8vLy8vLy8vL1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gZXZlbnRcbiAgICogQHBhcmFtIGVsZW1lbnRzXG4gICAqIEBwYXJhbSB7YW55fSBbY29udGV4dD17fV1cbiAgICovXG4gIHRoaXMuc3RhcnQgPSBmdW5jdGlvbihldmVudCwgZWxlbWVudHMsIGNvbnRleHQpIHtcbiAgICBpZiAoIWlzQXJyYXkoZWxlbWVudHMpKSB7XG4gICAgICBlbGVtZW50cyA9IFsgZWxlbWVudHMgXTtcbiAgICB9XG5cbiAgICB2YXIgc2hhcGUgPSBmaW5kKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICByZXR1cm4gIWlzQ29ubmVjdGlvbihlbGVtZW50KTtcbiAgICB9KTtcblxuICAgIGlmICghc2hhcGUpIHtcblxuICAgICAgLy8gYXQgbGVhc3Qgb25lIHNoYXBlIGlzIHJlcXVpcmVkXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29udGV4dCA9IGFzc2lnbih7XG4gICAgICBlbGVtZW50czogZWxlbWVudHMsXG4gICAgICBoaW50czoge30sXG4gICAgICBzaGFwZTogc2hhcGVcbiAgICB9LCBjb250ZXh0IHx8IHt9KTtcblxuICAgIC8vIG1ha2Ugc3VyZSBlYWNoIGVsZW1lbnQgaGFzIHggYW5kIHlcbiAgICBmb3JFYWNoKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICBpZiAoIWlzTnVtYmVyKGVsZW1lbnQueCkpIHtcbiAgICAgICAgZWxlbWVudC54ID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc051bWJlcihlbGVtZW50LnkpKSB7XG4gICAgICAgIGVsZW1lbnQueSA9IDA7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdmlzaWJsZUVsZW1lbnRzID0gZmlsdGVyKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICByZXR1cm4gIWVsZW1lbnQuaGlkZGVuO1xuICAgIH0pO1xuXG4gICAgdmFyIGJib3ggPSBnZXRCQm94KHZpc2libGVFbGVtZW50cyk7XG5cbiAgICAvLyBjZW50ZXIgZWxlbWVudHMgYXJvdW5kIGN1cnNvclxuICAgIGZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIGlmIChpc0Nvbm5lY3Rpb24oZWxlbWVudCkpIHtcbiAgICAgICAgZWxlbWVudC53YXlwb2ludHMgPSBtYXAoZWxlbWVudC53YXlwb2ludHMsIGZ1bmN0aW9uKHdheXBvaW50KSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHdheXBvaW50LnggLSBiYm94LnggLSBiYm94LndpZHRoIC8gMixcbiAgICAgICAgICAgIHk6IHdheXBvaW50LnkgLSBiYm94LnkgLSBiYm94LmhlaWdodCAvIDJcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgYXNzaWduKGVsZW1lbnQsIHtcbiAgICAgICAgeDogZWxlbWVudC54IC0gYmJveC54IC0gYmJveC53aWR0aCAvIDIsXG4gICAgICAgIHk6IGVsZW1lbnQueSAtIGJib3gueSAtIGJib3guaGVpZ2h0IC8gMlxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkcmFnZ2luZy5pbml0KGV2ZW50LCBQUkVGSVgsIHtcbiAgICAgIGN1cnNvcjogJ2dyYWJiaW5nJyxcbiAgICAgIGF1dG9BY3RpdmF0ZTogdHJ1ZSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc2hhcGU6IHNoYXBlLFxuICAgICAgICBlbGVtZW50czogZWxlbWVudHMsXG4gICAgICAgIGNvbnRleHQ6IGNvbnRleHRcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn1cblxuQ3JlYXRlLiRpbmplY3QgPSBbXG4gICdjYW52YXMnLFxuICAnZHJhZ2dpbmcnLFxuICAnZXZlbnRCdXMnLFxuICAnbW9kZWxpbmcnLFxuICAncnVsZXMnXG5dO1xuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuZnVuY3Rpb24gZW5zdXJlQ29uc3RyYWludHMoZXZlbnQpIHtcbiAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgY3JlYXRlQ29uc3RyYWludHMgPSBjb250ZXh0LmNyZWF0ZUNvbnN0cmFpbnRzO1xuXG4gIGlmICghY3JlYXRlQ29uc3RyYWludHMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoY3JlYXRlQ29uc3RyYWludHMubGVmdCkge1xuICAgIGV2ZW50LnggPSBNYXRoLm1heChldmVudC54LCBjcmVhdGVDb25zdHJhaW50cy5sZWZ0KTtcbiAgfVxuXG4gIGlmIChjcmVhdGVDb25zdHJhaW50cy5yaWdodCkge1xuICAgIGV2ZW50LnggPSBNYXRoLm1pbihldmVudC54LCBjcmVhdGVDb25zdHJhaW50cy5yaWdodCk7XG4gIH1cblxuICBpZiAoY3JlYXRlQ29uc3RyYWludHMudG9wKSB7XG4gICAgZXZlbnQueSA9IE1hdGgubWF4KGV2ZW50LnksIGNyZWF0ZUNvbnN0cmFpbnRzLnRvcCk7XG4gIH1cblxuICBpZiAoY3JlYXRlQ29uc3RyYWludHMuYm90dG9tKSB7XG4gICAgZXZlbnQueSA9IE1hdGgubWluKGV2ZW50LnksIGNyZWF0ZUNvbnN0cmFpbnRzLmJvdHRvbSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNTaW5nbGVTaGFwZShlbGVtZW50cykge1xuICByZXR1cm4gZWxlbWVudHMgJiYgZWxlbWVudHMubGVuZ3RoID09PSAxICYmICFpc0Nvbm5lY3Rpb24oZWxlbWVudHNbIDAgXSk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/create/Create.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/create/CreatePreview.js":
/*!**********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/create/CreatePreview.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CreatePreview)\n/* harmony export */ });\n/* harmony import */ var _util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/SvgTransformUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/SvgTransformUtil.js\");\n/* harmony import */ var _util_GraphicsUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/GraphicsUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/GraphicsUtil.js\");\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/./node_modules/tiny-svg/dist/index.esm.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @typedef {import('../../core/Canvas').default} Canvas\r\n * @typedef {import('../../core/EventBus').default} EventBus\r\n * @typedef {import('../../core/GraphicsFactory').default} GraphicsFactory\r\n * @typedef {import('../preview-support/PreviewSupport').default} PreviewSupport\r\n * @typedef {import('../../draw/Styles').default} Styles\r\n */\r\n\r\nvar LOW_PRIORITY = 750;\r\n\r\n/**\r\n * @param {Canvas} canvas\r\n * @param {EventBus} eventBus\r\n * @param {GraphicsFactory} graphicsFactory\r\n * @param {PreviewSupport} previewSupport\r\n * @param {Styles} styles\r\n */\r\nfunction CreatePreview(\r\n    canvas,\r\n    eventBus,\r\n    graphicsFactory,\r\n    previewSupport,\r\n    styles\r\n) {\r\n  function createDragGroup(elements) {\r\n    var dragGroup = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.create)('g');\r\n\r\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.attr)(dragGroup, styles.cls('djs-drag-group', [ 'no-events' ]));\r\n\r\n    var childrenGfx = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.create)('g');\r\n\r\n    elements.forEach(function(element) {\r\n\r\n      // create graphics\r\n      var gfx;\r\n\r\n      if (element.hidden) {\r\n        return;\r\n      }\r\n\r\n      if (element.waypoints) {\r\n        gfx = graphicsFactory._createContainer('connection', childrenGfx);\r\n\r\n        graphicsFactory.drawConnection((0,_util_GraphicsUtil__WEBPACK_IMPORTED_MODULE_1__.getVisual)(gfx), element);\r\n      } else {\r\n        gfx = graphicsFactory._createContainer('shape', childrenGfx);\r\n\r\n        graphicsFactory.drawShape((0,_util_GraphicsUtil__WEBPACK_IMPORTED_MODULE_1__.getVisual)(gfx), element);\r\n\r\n        (0,_util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_2__.translate)(gfx, element.x, element.y);\r\n      }\r\n\r\n      // add preview\r\n      previewSupport.addDragger(element, dragGroup, gfx);\r\n    });\r\n\r\n    return dragGroup;\r\n  }\r\n\r\n  eventBus.on('create.move', LOW_PRIORITY, function(event) {\r\n\r\n    var hover = event.hover,\r\n        context = event.context,\r\n        elements = context.elements,\r\n        dragGroup = context.dragGroup;\r\n\r\n    // lazily create previews\r\n    if (!dragGroup) {\r\n      dragGroup = context.dragGroup = createDragGroup(elements);\r\n    }\r\n\r\n    var activeLayer;\r\n\r\n    if (hover) {\r\n      if (!dragGroup.parentNode) {\r\n        activeLayer = canvas.getActiveLayer();\r\n\r\n        (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.append)(activeLayer, dragGroup);\r\n      }\r\n\r\n      (0,_util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_2__.translate)(dragGroup, event.x, event.y);\r\n    } else {\r\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.remove)(dragGroup);\r\n    }\r\n  });\r\n\r\n  eventBus.on('create.cleanup', function(event) {\r\n    var context = event.context,\r\n        dragGroup = context.dragGroup;\r\n\r\n    if (dragGroup) {\r\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.remove)(dragGroup);\r\n    }\r\n  });\r\n}\r\n\r\nCreatePreview.$inject = [\r\n  'canvas',\r\n  'eventBus',\r\n  'graphicsFactory',\r\n  'previewSupport',\r\n  'styles'\r\n];\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY3JlYXRlL0NyZWF0ZVByZXZpZXcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUVxQztBQUNyQztBQUNvRDtBQUNwRDtBQU1rQjtBQUNsQjtBQUNBO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQsYUFBYSx1Q0FBdUM7QUFDcEQsYUFBYSw4Q0FBOEM7QUFDM0QsYUFBYSxxREFBcUQ7QUFDbEUsYUFBYSxxQ0FBcUM7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFVBQVU7QUFDckIsV0FBVyxpQkFBaUI7QUFDNUIsV0FBVyxnQkFBZ0I7QUFDM0IsV0FBVyxRQUFRO0FBQ25CO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixnREFBUztBQUM3QjtBQUNBLElBQUksOENBQU87QUFDWDtBQUNBLHNCQUFzQixnREFBUztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyw2REFBUztBQUNoRCxRQUFRO0FBQ1I7QUFDQTtBQUNBLGtDQUFrQyw2REFBUztBQUMzQztBQUNBLFFBQVEsaUVBQVM7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGdEQUFTO0FBQ2pCO0FBQ0E7QUFDQSxNQUFNLGlFQUFTO0FBQ2YsTUFBTTtBQUNOLE1BQU0sZ0RBQVM7QUFDZjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLGdEQUFTO0FBQ2Y7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2NyZWF0ZS9DcmVhdGVQcmV2aWV3LmpzPzliZjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICB0cmFuc2xhdGVcclxufSBmcm9tICcuLi8uLi91dGlsL1N2Z1RyYW5zZm9ybVV0aWwnO1xyXG5cclxuaW1wb3J0IHsgZ2V0VmlzdWFsIH0gZnJvbSAnLi4vLi4vdXRpbC9HcmFwaGljc1V0aWwnO1xyXG5cclxuaW1wb3J0IHtcclxuICBhcHBlbmQgYXMgc3ZnQXBwZW5kLFxyXG4gIGF0dHIgYXMgc3ZnQXR0cixcclxuICBjcmVhdGUgYXMgc3ZnQ3JlYXRlLFxyXG4gIHJlbW92ZSBhcyBzdmdSZW1vdmVcclxufSBmcm9tICd0aW55LXN2Zyc7XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9DYW52YXMnKS5kZWZhdWx0fSBDYW52YXNcclxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXHJcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvR3JhcGhpY3NGYWN0b3J5JykuZGVmYXVsdH0gR3JhcGhpY3NGYWN0b3J5XHJcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3ByZXZpZXctc3VwcG9ydC9QcmV2aWV3U3VwcG9ydCcpLmRlZmF1bHR9IFByZXZpZXdTdXBwb3J0XHJcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2RyYXcvU3R5bGVzJykuZGVmYXVsdH0gU3R5bGVzXHJcbiAqL1xyXG5cclxudmFyIExPV19QUklPUklUWSA9IDc1MDtcclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXHJcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXHJcbiAqIEBwYXJhbSB7R3JhcGhpY3NGYWN0b3J5fSBncmFwaGljc0ZhY3RvcnlcclxuICogQHBhcmFtIHtQcmV2aWV3U3VwcG9ydH0gcHJldmlld1N1cHBvcnRcclxuICogQHBhcmFtIHtTdHlsZXN9IHN0eWxlc1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ3JlYXRlUHJldmlldyhcclxuICAgIGNhbnZhcyxcclxuICAgIGV2ZW50QnVzLFxyXG4gICAgZ3JhcGhpY3NGYWN0b3J5LFxyXG4gICAgcHJldmlld1N1cHBvcnQsXHJcbiAgICBzdHlsZXNcclxuKSB7XHJcbiAgZnVuY3Rpb24gY3JlYXRlRHJhZ0dyb3VwKGVsZW1lbnRzKSB7XHJcbiAgICB2YXIgZHJhZ0dyb3VwID0gc3ZnQ3JlYXRlKCdnJyk7XHJcblxyXG4gICAgc3ZnQXR0cihkcmFnR3JvdXAsIHN0eWxlcy5jbHMoJ2Rqcy1kcmFnLWdyb3VwJywgWyAnbm8tZXZlbnRzJyBdKSk7XHJcblxyXG4gICAgdmFyIGNoaWxkcmVuR2Z4ID0gc3ZnQ3JlYXRlKCdnJyk7XHJcblxyXG4gICAgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7XHJcblxyXG4gICAgICAvLyBjcmVhdGUgZ3JhcGhpY3NcclxuICAgICAgdmFyIGdmeDtcclxuXHJcbiAgICAgIGlmIChlbGVtZW50LmhpZGRlbikge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGVsZW1lbnQud2F5cG9pbnRzKSB7XHJcbiAgICAgICAgZ2Z4ID0gZ3JhcGhpY3NGYWN0b3J5Ll9jcmVhdGVDb250YWluZXIoJ2Nvbm5lY3Rpb24nLCBjaGlsZHJlbkdmeCk7XHJcblxyXG4gICAgICAgIGdyYXBoaWNzRmFjdG9yeS5kcmF3Q29ubmVjdGlvbihnZXRWaXN1YWwoZ2Z4KSwgZWxlbWVudCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZ2Z4ID0gZ3JhcGhpY3NGYWN0b3J5Ll9jcmVhdGVDb250YWluZXIoJ3NoYXBlJywgY2hpbGRyZW5HZngpO1xyXG5cclxuICAgICAgICBncmFwaGljc0ZhY3RvcnkuZHJhd1NoYXBlKGdldFZpc3VhbChnZngpLCBlbGVtZW50KTtcclxuXHJcbiAgICAgICAgdHJhbnNsYXRlKGdmeCwgZWxlbWVudC54LCBlbGVtZW50LnkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBhZGQgcHJldmlld1xyXG4gICAgICBwcmV2aWV3U3VwcG9ydC5hZGREcmFnZ2VyKGVsZW1lbnQsIGRyYWdHcm91cCwgZ2Z4KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBkcmFnR3JvdXA7XHJcbiAgfVxyXG5cclxuICBldmVudEJ1cy5vbignY3JlYXRlLm1vdmUnLCBMT1dfUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XHJcblxyXG4gICAgdmFyIGhvdmVyID0gZXZlbnQuaG92ZXIsXHJcbiAgICAgICAgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXHJcbiAgICAgICAgZWxlbWVudHMgPSBjb250ZXh0LmVsZW1lbnRzLFxyXG4gICAgICAgIGRyYWdHcm91cCA9IGNvbnRleHQuZHJhZ0dyb3VwO1xyXG5cclxuICAgIC8vIGxhemlseSBjcmVhdGUgcHJldmlld3NcclxuICAgIGlmICghZHJhZ0dyb3VwKSB7XHJcbiAgICAgIGRyYWdHcm91cCA9IGNvbnRleHQuZHJhZ0dyb3VwID0gY3JlYXRlRHJhZ0dyb3VwKGVsZW1lbnRzKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgYWN0aXZlTGF5ZXI7XHJcblxyXG4gICAgaWYgKGhvdmVyKSB7XHJcbiAgICAgIGlmICghZHJhZ0dyb3VwLnBhcmVudE5vZGUpIHtcclxuICAgICAgICBhY3RpdmVMYXllciA9IGNhbnZhcy5nZXRBY3RpdmVMYXllcigpO1xyXG5cclxuICAgICAgICBzdmdBcHBlbmQoYWN0aXZlTGF5ZXIsIGRyYWdHcm91cCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRyYW5zbGF0ZShkcmFnR3JvdXAsIGV2ZW50LngsIGV2ZW50LnkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc3ZnUmVtb3ZlKGRyYWdHcm91cCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGV2ZW50QnVzLm9uKCdjcmVhdGUuY2xlYW51cCcsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXHJcbiAgICAgICAgZHJhZ0dyb3VwID0gY29udGV4dC5kcmFnR3JvdXA7XHJcblxyXG4gICAgaWYgKGRyYWdHcm91cCkge1xyXG4gICAgICBzdmdSZW1vdmUoZHJhZ0dyb3VwKTtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuQ3JlYXRlUHJldmlldy4kaW5qZWN0ID0gW1xyXG4gICdjYW52YXMnLFxyXG4gICdldmVudEJ1cycsXHJcbiAgJ2dyYXBoaWNzRmFjdG9yeScsXHJcbiAgJ3ByZXZpZXdTdXBwb3J0JyxcclxuICAnc3R5bGVzJ1xyXG5dO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/create/CreatePreview.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/create/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/create/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _dragging__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dragging */ \"(ssr)/./node_modules/diagram-js/lib/features/dragging/index.js\");\n/* harmony import */ var _preview_support__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../preview-support */ \"(ssr)/./node_modules/diagram-js/lib/features/preview-support/index.js\");\n/* harmony import */ var _rules__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../rules */ \"(ssr)/./node_modules/diagram-js/lib/features/rules/index.js\");\n/* harmony import */ var _selection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../selection */ \"(ssr)/./node_modules/diagram-js/lib/features/selection/index.js\");\n/* harmony import */ var _Create__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Create */ \"(ssr)/./node_modules/diagram-js/lib/features/create/Create.js\");\n/* harmony import */ var _CreatePreview__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./CreatePreview */ \"(ssr)/./node_modules/diagram-js/lib/features/create/CreatePreview.js\");\n\n\n\n\n\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _dragging__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    _preview_support__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    _rules__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    _selection__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n  ],\n  __init__: [\n    'create',\n    'createPreview'\n  ],\n  create: [ 'type', _Create__WEBPACK_IMPORTED_MODULE_4__[\"default\"] ],\n  createPreview: [ 'type', _CreatePreview__WEBPACK_IMPORTED_MODULE_5__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY3JlYXRlL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBeUM7QUFDYTtBQUNuQjtBQUNROztBQUViO0FBQ2M7OztBQUc1QztBQUNBLFdBQVc7QUFDWDtBQUNBLGlFQUFlO0FBQ2Y7QUFDQSxJQUFJLGlEQUFjO0FBQ2xCLElBQUksd0RBQW9CO0FBQ3hCLElBQUksOENBQVc7QUFDZixJQUFJLGtEQUFlO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsK0NBQU07QUFDMUIsMkJBQTJCLHNEQUFhO0FBQ3hDLENBQUMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jcmVhdGUvaW5kZXguanM/MWZkYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRHJhZ2dpbmdNb2R1bGUgZnJvbSAnLi4vZHJhZ2dpbmcnO1xuaW1wb3J0IFByZXZpZXdTdXBwb3J0TW9kdWxlIGZyb20gJy4uL3ByZXZpZXctc3VwcG9ydCc7XG5pbXBvcnQgUnVsZXNNb2R1bGUgZnJvbSAnLi4vcnVsZXMnO1xuaW1wb3J0IFNlbGVjdGlvbk1vZHVsZSBmcm9tICcuLi9zZWxlY3Rpb24nO1xuXG5pbXBvcnQgQ3JlYXRlIGZyb20gJy4vQ3JlYXRlJztcbmltcG9ydCBDcmVhdGVQcmV2aWV3IGZyb20gJy4vQ3JlYXRlUHJldmlldyc7XG5cblxuLyoqXG4gKiBAdHlwZSB7IGltcG9ydCgnZGlkaScpLk1vZHVsZURlY2xhcmF0aW9uIH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIERyYWdnaW5nTW9kdWxlLFxuICAgIFByZXZpZXdTdXBwb3J0TW9kdWxlLFxuICAgIFJ1bGVzTW9kdWxlLFxuICAgIFNlbGVjdGlvbk1vZHVsZVxuICBdLFxuICBfX2luaXRfXzogW1xuICAgICdjcmVhdGUnLFxuICAgICdjcmVhdGVQcmV2aWV3J1xuICBdLFxuICBjcmVhdGU6IFsgJ3R5cGUnLCBDcmVhdGUgXSxcbiAgY3JlYXRlUHJldmlldzogWyAndHlwZScsIENyZWF0ZVByZXZpZXcgXVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/create/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/distribute-elements/DistributeElements.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/distribute-elements/DistributeElements.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DistributeElements)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef {import('../../util/Types').Axis} Axis\n * @typedef {import('../../util/Types').Dimension} Dimension\n * @typedef {import('../../util/Types').Rect} Rect\n *\n * @typedef {import('../modeling/Modeling').default} Modeling\n * @typedef {import('../rules/Rules').default} Rules\n *\n * @typedef { {\n *   min: number;\n *   max: number;\n * } } Range\n *\n * @typedef { {\n *   elements: Element[];\n *   range: Range;\n * } } Group\n */\n\nvar AXIS_DIMENSIONS = {\n  horizontal: [ 'x', 'width' ],\n  vertical: [ 'y', 'height' ]\n};\n\nvar THRESHOLD = 5;\n\n\n/**\n * Groups and filters elements and then trigger even distribution.\n *\n * @param {Modeling} modeling\n * @param {Rules} rules\n */\nfunction DistributeElements(modeling, rules) {\n  this._modeling = modeling;\n\n  this._filters = [];\n\n  this.registerFilter(function(elements) {\n    var allowed = rules.allowed('elements.distribute', { elements: elements });\n\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(allowed)) {\n      return allowed;\n    }\n\n    return allowed ? elements : [];\n  });\n}\n\nDistributeElements.$inject = [ 'modeling', 'rules' ];\n\n\n/**\n * Registers filter functions that allow external parties to filter\n * out certain elements.\n *\n * @param {(distributableElements: Element[], axis: Axis, dimension: Dimension) => Element[]} filterFn\n */\nDistributeElements.prototype.registerFilter = function(filterFn) {\n  if (typeof filterFn !== 'function') {\n    throw new Error('the filter has to be a function');\n  }\n\n  this._filters.push(filterFn);\n};\n\n/**\n * Distributes the elements with a given orientation\n *\n * @param {Element[]} elements\n * @param {string} orientation\n */\nDistributeElements.prototype.trigger = function(elements, orientation) {\n  var modeling = this._modeling;\n\n  var groups,\n      distributableElements;\n\n  if (elements.length < 3) {\n    return;\n  }\n\n  this._setOrientation(orientation);\n\n  distributableElements = this._filterElements(elements);\n\n  groups = this._createGroups(distributableElements);\n\n  // nothing to distribute\n  if (groups.length <= 2) {\n    return;\n  }\n\n  modeling.distributeElements(groups, this._axis, this._dimension);\n\n  return groups;\n};\n\n/**\n * Filters the elements with provided filters by external parties\n *\n * @param {Element[]} elements\n *\n * @return {Element[]}\n */\nDistributeElements.prototype._filterElements = function(elements) {\n  var filters = this._filters,\n      axis = this._axis,\n      dimension = this._dimension,\n      distributableElements = [].concat(elements);\n\n  if (!filters.length) {\n    return elements;\n  }\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(filters, function(filterFn) {\n    distributableElements = filterFn(distributableElements, axis, dimension);\n  });\n\n  return distributableElements;\n};\n\n\n/**\n * Create range (min, max) groups. Also tries to group elements\n * together that share the same range.\n *\n * @example\n *\n * ```javascript\n *   const groups = [\n *     {\n *       range: { min: 100, max: 200 },\n *       elements: [ { id: 'shape1', ... } ]\n *     }\n *   ]\n * ```\n *\n * @param {Element[]} elements\n *\n * @return {Group[]}\n */\nDistributeElements.prototype._createGroups = function(elements) {\n  var rangeGroups = [],\n      self = this,\n      axis = this._axis,\n      dimension = this._dimension;\n\n  if (!axis) {\n    throw new Error('must have a defined \"axis\" and \"dimension\"');\n  }\n\n  // sort by 'left->right' or 'top->bottom'\n  var sortedElements = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.sortBy)(elements, axis);\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(sortedElements, function(element, idx) {\n    var elementRange = self._findRange(element, axis, dimension),\n        range;\n\n    var previous = rangeGroups[rangeGroups.length - 1];\n\n    if (previous && self._hasIntersection(previous.range, elementRange)) {\n      rangeGroups[rangeGroups.length - 1].elements.push(element);\n    } else {\n      range = { range: elementRange, elements: [ element ] };\n\n      rangeGroups.push(range);\n    }\n  });\n\n  return rangeGroups;\n};\n\n\n/**\n * Maps a direction to the according axis and dimension.\n *\n * @param {'horizontal' | 'vertical'} direction 'horizontal' or 'vertical'\n */\nDistributeElements.prototype._setOrientation = function(direction) {\n  var orientation = AXIS_DIMENSIONS[direction];\n\n  this._axis = orientation[0];\n  this._dimension = orientation[1];\n};\n\n\n/**\n * Checks if the two ranges intercept each other.\n *\n * @param {Range} rangeA\n * @param {Range} rangeB\n *\n * @return {boolean}\n */\nDistributeElements.prototype._hasIntersection = function(rangeA, rangeB) {\n  return Math.max(rangeA.min, rangeA.max) >= Math.min(rangeB.min, rangeB.max) &&\n         Math.min(rangeA.min, rangeA.max) <= Math.max(rangeB.min, rangeB.max);\n};\n\n\n/**\n * Returns the min and max values for an element\n *\n * @param {Element} element\n *\n * @return {Range}\n */\nDistributeElements.prototype._findRange = function(element) {\n  var axis = element[this._axis],\n      dimension = element[this._dimension];\n\n  return {\n    min: axis + THRESHOLD,\n    max: axis + dimension - THRESHOLD\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvZGlzdHJpYnV0ZS1lbGVtZW50cy9EaXN0cmlidXRlRWxlbWVudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFJa0I7O0FBRWxCO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQ7QUFDQSxhQUFhLGlDQUFpQztBQUM5QyxhQUFhLHNDQUFzQztBQUNuRCxhQUFhLGlDQUFpQztBQUM5QztBQUNBLGFBQWEsd0NBQXdDO0FBQ3JELGFBQWEsa0NBQWtDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxPQUFPO0FBQ2xCO0FBQ2U7QUFDZjs7QUFFQTs7QUFFQTtBQUNBLHlEQUF5RCxvQkFBb0I7O0FBRTdFLFFBQVEsaURBQU87QUFDZjtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsbUZBQW1GO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEVBQUUsaURBQU87QUFDVDtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG9CQUFvQjtBQUN0Qyx1QkFBdUIsb0JBQW9CO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1QkFBdUIsZ0RBQU07O0FBRTdCLEVBQUUsaURBQU87QUFDVDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sZ0JBQWdCOztBQUVoQjtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDJCQUEyQjtBQUN0QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2Rpc3RyaWJ1dGUtZWxlbWVudHMvRGlzdHJpYnV0ZUVsZW1lbnRzLmpzPzE0M2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgc29ydEJ5LFxuICBmb3JFYWNoLFxuICBpc0FycmF5XG59IGZyb20gJ21pbi1kYXNoJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9tb2RlbC9UeXBlcycpLkVsZW1lbnR9IEVsZW1lbnRcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi91dGlsL1R5cGVzJykuQXhpc30gQXhpc1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vdXRpbC9UeXBlcycpLkRpbWVuc2lvbn0gRGltZW5zaW9uXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi91dGlsL1R5cGVzJykuUmVjdH0gUmVjdFxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL21vZGVsaW5nL01vZGVsaW5nJykuZGVmYXVsdH0gTW9kZWxpbmdcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3J1bGVzL1J1bGVzJykuZGVmYXVsdH0gUnVsZXNcbiAqXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgbWluOiBudW1iZXI7XG4gKiAgIG1heDogbnVtYmVyO1xuICogfSB9IFJhbmdlXG4gKlxuICogQHR5cGVkZWYgeyB7XG4gKiAgIGVsZW1lbnRzOiBFbGVtZW50W107XG4gKiAgIHJhbmdlOiBSYW5nZTtcbiAqIH0gfSBHcm91cFxuICovXG5cbnZhciBBWElTX0RJTUVOU0lPTlMgPSB7XG4gIGhvcml6b250YWw6IFsgJ3gnLCAnd2lkdGgnIF0sXG4gIHZlcnRpY2FsOiBbICd5JywgJ2hlaWdodCcgXVxufTtcblxudmFyIFRIUkVTSE9MRCA9IDU7XG5cblxuLyoqXG4gKiBHcm91cHMgYW5kIGZpbHRlcnMgZWxlbWVudHMgYW5kIHRoZW4gdHJpZ2dlciBldmVuIGRpc3RyaWJ1dGlvbi5cbiAqXG4gKiBAcGFyYW0ge01vZGVsaW5nfSBtb2RlbGluZ1xuICogQHBhcmFtIHtSdWxlc30gcnVsZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRGlzdHJpYnV0ZUVsZW1lbnRzKG1vZGVsaW5nLCBydWxlcykge1xuICB0aGlzLl9tb2RlbGluZyA9IG1vZGVsaW5nO1xuXG4gIHRoaXMuX2ZpbHRlcnMgPSBbXTtcblxuICB0aGlzLnJlZ2lzdGVyRmlsdGVyKGZ1bmN0aW9uKGVsZW1lbnRzKSB7XG4gICAgdmFyIGFsbG93ZWQgPSBydWxlcy5hbGxvd2VkKCdlbGVtZW50cy5kaXN0cmlidXRlJywgeyBlbGVtZW50czogZWxlbWVudHMgfSk7XG5cbiAgICBpZiAoaXNBcnJheShhbGxvd2VkKSkge1xuICAgICAgcmV0dXJuIGFsbG93ZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFsbG93ZWQgPyBlbGVtZW50cyA6IFtdO1xuICB9KTtcbn1cblxuRGlzdHJpYnV0ZUVsZW1lbnRzLiRpbmplY3QgPSBbICdtb2RlbGluZycsICdydWxlcycgXTtcblxuXG4vKipcbiAqIFJlZ2lzdGVycyBmaWx0ZXIgZnVuY3Rpb25zIHRoYXQgYWxsb3cgZXh0ZXJuYWwgcGFydGllcyB0byBmaWx0ZXJcbiAqIG91dCBjZXJ0YWluIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7KGRpc3RyaWJ1dGFibGVFbGVtZW50czogRWxlbWVudFtdLCBheGlzOiBBeGlzLCBkaW1lbnNpb246IERpbWVuc2lvbikgPT4gRWxlbWVudFtdfSBmaWx0ZXJGblxuICovXG5EaXN0cmlidXRlRWxlbWVudHMucHJvdG90eXBlLnJlZ2lzdGVyRmlsdGVyID0gZnVuY3Rpb24oZmlsdGVyRm4pIHtcbiAgaWYgKHR5cGVvZiBmaWx0ZXJGbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcigndGhlIGZpbHRlciBoYXMgdG8gYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgdGhpcy5fZmlsdGVycy5wdXNoKGZpbHRlckZuKTtcbn07XG5cbi8qKlxuICogRGlzdHJpYnV0ZXMgdGhlIGVsZW1lbnRzIHdpdGggYSBnaXZlbiBvcmllbnRhdGlvblxuICpcbiAqIEBwYXJhbSB7RWxlbWVudFtdfSBlbGVtZW50c1xuICogQHBhcmFtIHtzdHJpbmd9IG9yaWVudGF0aW9uXG4gKi9cbkRpc3RyaWJ1dGVFbGVtZW50cy5wcm90b3R5cGUudHJpZ2dlciA9IGZ1bmN0aW9uKGVsZW1lbnRzLCBvcmllbnRhdGlvbikge1xuICB2YXIgbW9kZWxpbmcgPSB0aGlzLl9tb2RlbGluZztcblxuICB2YXIgZ3JvdXBzLFxuICAgICAgZGlzdHJpYnV0YWJsZUVsZW1lbnRzO1xuXG4gIGlmIChlbGVtZW50cy5sZW5ndGggPCAzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5fc2V0T3JpZW50YXRpb24ob3JpZW50YXRpb24pO1xuXG4gIGRpc3RyaWJ1dGFibGVFbGVtZW50cyA9IHRoaXMuX2ZpbHRlckVsZW1lbnRzKGVsZW1lbnRzKTtcblxuICBncm91cHMgPSB0aGlzLl9jcmVhdGVHcm91cHMoZGlzdHJpYnV0YWJsZUVsZW1lbnRzKTtcblxuICAvLyBub3RoaW5nIHRvIGRpc3RyaWJ1dGVcbiAgaWYgKGdyb3Vwcy5sZW5ndGggPD0gMikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIG1vZGVsaW5nLmRpc3RyaWJ1dGVFbGVtZW50cyhncm91cHMsIHRoaXMuX2F4aXMsIHRoaXMuX2RpbWVuc2lvbik7XG5cbiAgcmV0dXJuIGdyb3Vwcztcbn07XG5cbi8qKlxuICogRmlsdGVycyB0aGUgZWxlbWVudHMgd2l0aCBwcm92aWRlZCBmaWx0ZXJzIGJ5IGV4dGVybmFsIHBhcnRpZXNcbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnRbXX0gZWxlbWVudHNcbiAqXG4gKiBAcmV0dXJuIHtFbGVtZW50W119XG4gKi9cbkRpc3RyaWJ1dGVFbGVtZW50cy5wcm90b3R5cGUuX2ZpbHRlckVsZW1lbnRzID0gZnVuY3Rpb24oZWxlbWVudHMpIHtcbiAgdmFyIGZpbHRlcnMgPSB0aGlzLl9maWx0ZXJzLFxuICAgICAgYXhpcyA9IHRoaXMuX2F4aXMsXG4gICAgICBkaW1lbnNpb24gPSB0aGlzLl9kaW1lbnNpb24sXG4gICAgICBkaXN0cmlidXRhYmxlRWxlbWVudHMgPSBbXS5jb25jYXQoZWxlbWVudHMpO1xuXG4gIGlmICghZmlsdGVycy5sZW5ndGgpIHtcbiAgICByZXR1cm4gZWxlbWVudHM7XG4gIH1cblxuICBmb3JFYWNoKGZpbHRlcnMsIGZ1bmN0aW9uKGZpbHRlckZuKSB7XG4gICAgZGlzdHJpYnV0YWJsZUVsZW1lbnRzID0gZmlsdGVyRm4oZGlzdHJpYnV0YWJsZUVsZW1lbnRzLCBheGlzLCBkaW1lbnNpb24pO1xuICB9KTtcblxuICByZXR1cm4gZGlzdHJpYnV0YWJsZUVsZW1lbnRzO1xufTtcblxuXG4vKipcbiAqIENyZWF0ZSByYW5nZSAobWluLCBtYXgpIGdyb3Vwcy4gQWxzbyB0cmllcyB0byBncm91cCBlbGVtZW50c1xuICogdG9nZXRoZXIgdGhhdCBzaGFyZSB0aGUgc2FtZSByYW5nZS5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqICAgY29uc3QgZ3JvdXBzID0gW1xuICogICAgIHtcbiAqICAgICAgIHJhbmdlOiB7IG1pbjogMTAwLCBtYXg6IDIwMCB9LFxuICogICAgICAgZWxlbWVudHM6IFsgeyBpZDogJ3NoYXBlMScsIC4uLiB9IF1cbiAqICAgICB9XG4gKiAgIF1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7RWxlbWVudFtdfSBlbGVtZW50c1xuICpcbiAqIEByZXR1cm4ge0dyb3VwW119XG4gKi9cbkRpc3RyaWJ1dGVFbGVtZW50cy5wcm90b3R5cGUuX2NyZWF0ZUdyb3VwcyA9IGZ1bmN0aW9uKGVsZW1lbnRzKSB7XG4gIHZhciByYW5nZUdyb3VwcyA9IFtdLFxuICAgICAgc2VsZiA9IHRoaXMsXG4gICAgICBheGlzID0gdGhpcy5fYXhpcyxcbiAgICAgIGRpbWVuc2lvbiA9IHRoaXMuX2RpbWVuc2lvbjtcblxuICBpZiAoIWF4aXMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ211c3QgaGF2ZSBhIGRlZmluZWQgXCJheGlzXCIgYW5kIFwiZGltZW5zaW9uXCInKTtcbiAgfVxuXG4gIC8vIHNvcnQgYnkgJ2xlZnQtPnJpZ2h0JyBvciAndG9wLT5ib3R0b20nXG4gIHZhciBzb3J0ZWRFbGVtZW50cyA9IHNvcnRCeShlbGVtZW50cywgYXhpcyk7XG5cbiAgZm9yRWFjaChzb3J0ZWRFbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCwgaWR4KSB7XG4gICAgdmFyIGVsZW1lbnRSYW5nZSA9IHNlbGYuX2ZpbmRSYW5nZShlbGVtZW50LCBheGlzLCBkaW1lbnNpb24pLFxuICAgICAgICByYW5nZTtcblxuICAgIHZhciBwcmV2aW91cyA9IHJhbmdlR3JvdXBzW3JhbmdlR3JvdXBzLmxlbmd0aCAtIDFdO1xuXG4gICAgaWYgKHByZXZpb3VzICYmIHNlbGYuX2hhc0ludGVyc2VjdGlvbihwcmV2aW91cy5yYW5nZSwgZWxlbWVudFJhbmdlKSkge1xuICAgICAgcmFuZ2VHcm91cHNbcmFuZ2VHcm91cHMubGVuZ3RoIC0gMV0uZWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmFuZ2UgPSB7IHJhbmdlOiBlbGVtZW50UmFuZ2UsIGVsZW1lbnRzOiBbIGVsZW1lbnQgXSB9O1xuXG4gICAgICByYW5nZUdyb3Vwcy5wdXNoKHJhbmdlKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiByYW5nZUdyb3Vwcztcbn07XG5cblxuLyoqXG4gKiBNYXBzIGEgZGlyZWN0aW9uIHRvIHRoZSBhY2NvcmRpbmcgYXhpcyBhbmQgZGltZW5zaW9uLlxuICpcbiAqIEBwYXJhbSB7J2hvcml6b250YWwnIHwgJ3ZlcnRpY2FsJ30gZGlyZWN0aW9uICdob3Jpem9udGFsJyBvciAndmVydGljYWwnXG4gKi9cbkRpc3RyaWJ1dGVFbGVtZW50cy5wcm90b3R5cGUuX3NldE9yaWVudGF0aW9uID0gZnVuY3Rpb24oZGlyZWN0aW9uKSB7XG4gIHZhciBvcmllbnRhdGlvbiA9IEFYSVNfRElNRU5TSU9OU1tkaXJlY3Rpb25dO1xuXG4gIHRoaXMuX2F4aXMgPSBvcmllbnRhdGlvblswXTtcbiAgdGhpcy5fZGltZW5zaW9uID0gb3JpZW50YXRpb25bMV07XG59O1xuXG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSB0d28gcmFuZ2VzIGludGVyY2VwdCBlYWNoIG90aGVyLlxuICpcbiAqIEBwYXJhbSB7UmFuZ2V9IHJhbmdlQVxuICogQHBhcmFtIHtSYW5nZX0gcmFuZ2VCXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuRGlzdHJpYnV0ZUVsZW1lbnRzLnByb3RvdHlwZS5faGFzSW50ZXJzZWN0aW9uID0gZnVuY3Rpb24ocmFuZ2VBLCByYW5nZUIpIHtcbiAgcmV0dXJuIE1hdGgubWF4KHJhbmdlQS5taW4sIHJhbmdlQS5tYXgpID49IE1hdGgubWluKHJhbmdlQi5taW4sIHJhbmdlQi5tYXgpICYmXG4gICAgICAgICBNYXRoLm1pbihyYW5nZUEubWluLCByYW5nZUEubWF4KSA8PSBNYXRoLm1heChyYW5nZUIubWluLCByYW5nZUIubWF4KTtcbn07XG5cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBtaW4gYW5kIG1heCB2YWx1ZXMgZm9yIGFuIGVsZW1lbnRcbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJuIHtSYW5nZX1cbiAqL1xuRGlzdHJpYnV0ZUVsZW1lbnRzLnByb3RvdHlwZS5fZmluZFJhbmdlID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB2YXIgYXhpcyA9IGVsZW1lbnRbdGhpcy5fYXhpc10sXG4gICAgICBkaW1lbnNpb24gPSBlbGVtZW50W3RoaXMuX2RpbWVuc2lvbl07XG5cbiAgcmV0dXJuIHtcbiAgICBtaW46IGF4aXMgKyBUSFJFU0hPTEQsXG4gICAgbWF4OiBheGlzICsgZGltZW5zaW9uIC0gVEhSRVNIT0xEXG4gIH07XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/distribute-elements/DistributeElements.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/distribute-elements/index.js":
/*!***************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/distribute-elements/index.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _DistributeElements__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DistributeElements */ \"(ssr)/./node_modules/diagram-js/lib/features/distribute-elements/DistributeElements.js\");\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [ 'distributeElements' ],\n  distributeElements: [ 'type', _DistributeElements__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvZGlzdHJpYnV0ZS1lbGVtZW50cy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFzRDs7O0FBR3REO0FBQ0EsV0FBVztBQUNYO0FBQ0EsaUVBQWU7QUFDZjtBQUNBLGdDQUFnQywyREFBa0I7QUFDbEQsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2Rpc3RyaWJ1dGUtZWxlbWVudHMvaW5kZXguanM/MWYwMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGlzdHJpYnV0ZUVsZW1lbnRzIGZyb20gJy4vRGlzdHJpYnV0ZUVsZW1lbnRzJztcblxuXG4vKipcbiAqIEB0eXBlIHsgaW1wb3J0KCdkaWRpJykuTW9kdWxlRGVjbGFyYXRpb24gfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICdkaXN0cmlidXRlRWxlbWVudHMnIF0sXG4gIGRpc3RyaWJ1dGVFbGVtZW50czogWyAndHlwZScsIERpc3RyaWJ1dGVFbGVtZW50cyBdXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/distribute-elements/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/dragging/Dragging.js":
/*!*******************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/dragging/Dragging.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Dragging)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! min-dom */ \"(ssr)/./node_modules/min-dom/dist/index.esm.js\");\n/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Event */ \"(ssr)/./node_modules/diagram-js/lib/util/Event.js\");\n/* harmony import */ var _util_Cursor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/Cursor */ \"(ssr)/./node_modules/diagram-js/lib/util/Cursor.js\");\n/* harmony import */ var _util_ClickTrap__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/ClickTrap */ \"(ssr)/./node_modules/diagram-js/lib/util/ClickTrap.js\");\n/* harmony import */ var _util_PositionUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/PositionUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/PositionUtil.js\");\n/* harmony import */ var _keyboard_KeyboardUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../keyboard/KeyboardUtil */ \"(ssr)/./node_modules/diagram-js/lib/features/keyboard/KeyboardUtil.js\");\nvar round = Math.round;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('../../util/Types').Point} Point\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../selection/Selection').default} Selection\n */\n\nvar DRAG_ACTIVE_CLS = 'djs-drag-active';\n\n\nfunction preventDefault(event) {\n  event.preventDefault();\n}\n\nfunction isTouchEvent(event) {\n\n  // check for TouchEvent being available first\n  // (i.e. not available on desktop Firefox)\n  return typeof TouchEvent !== 'undefined' && event instanceof TouchEvent;\n}\n\nfunction getLength(point) {\n  return Math.sqrt(Math.pow(point.x, 2) + Math.pow(point.y, 2));\n}\n\n/**\n * A helper that fires canvas localized drag events and realizes\n * the general \"drag-and-drop\" look and feel.\n *\n * Calling {@link Dragging#activate} activates dragging on a canvas.\n *\n * It provides the following:\n *\n *   * emits life cycle events, namespaced with a prefix assigned\n *     during dragging activation\n *   * sets and restores the cursor\n *   * sets and restores the selection if elements still exist\n *   * ensures there can be only one drag operation active at a time\n *\n * Dragging may be canceled manually by calling {@link Dragging#cancel}\n * or by pressing ESC.\n *\n *\n * ## Life-cycle events\n *\n * Dragging can be in three different states, off, initialized\n * and active.\n *\n * (1) off: no dragging operation is in progress\n * (2) initialized: a new drag operation got initialized but not yet\n *                  started (i.e. because of no initial move)\n * (3) started: dragging is in progress\n *\n * Eventually dragging will be off again after a drag operation has\n * been ended or canceled via user click or ESC key press.\n *\n * To indicate transitions between these states dragging emits generic\n * life-cycle events with the `drag.` prefix _and_ events namespaced\n * to a prefix choosen by a user during drag initialization.\n *\n * The following events are emitted (appropriately prefixed) via\n * the {@link EventBus}.\n *\n * * `init`\n * * `start`\n * * `move`\n * * `end`\n * * `ended` (dragging already in off state)\n * * `cancel` (only if previously started)\n * * `canceled` (dragging already in off state, only if previously started)\n * * `cleanup`\n *\n *\n * @example\n *\n * ```javascript\n * function MyDragComponent(eventBus, dragging) {\n *\n *   eventBus.on('mydrag.start', function(event) {\n *     console.log('yes, we start dragging');\n *   });\n *\n *   eventBus.on('mydrag.move', function(event) {\n *     console.log('canvas local coordinates', event.x, event.y, event.dx, event.dy);\n *\n *     // local drag data is passed with the event\n *     event.context.foo; // \"BAR\"\n *\n *     // the original mouse event, too\n *     event.originalEvent; // MouseEvent(...)\n *   });\n *\n *   eventBus.on('element.click', function(event) {\n *     dragging.init(event, 'mydrag', {\n *       cursor: 'grabbing',\n *       data: {\n *         context: {\n *           foo: \"BAR\"\n *         }\n *       }\n *     });\n *   });\n * }\n * ```\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {Selection} selection\n * @param {ElementRegistry} elementRegistry\n */\nfunction Dragging(eventBus, canvas, selection, elementRegistry) {\n\n  var defaultOptions = {\n    threshold: 5,\n    trapClick: true\n  };\n\n  // the currently active drag operation\n  // dragging is active as soon as this context exists.\n  //\n  // it is visually _active_ only when a context.active flag is set to true.\n  var context;\n\n  /* convert a global event into local coordinates */\n  function toLocalPoint(globalPosition) {\n\n    var viewbox = canvas.viewbox();\n\n    var clientRect = canvas._container.getBoundingClientRect();\n\n    return {\n      x: viewbox.x + (globalPosition.x - clientRect.left) / viewbox.scale,\n      y: viewbox.y + (globalPosition.y - clientRect.top) / viewbox.scale\n    };\n  }\n\n  // helpers\n\n  function fire(type, dragContext) {\n    dragContext = dragContext || context;\n\n    var event = eventBus.createEvent(\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(\n        {},\n        dragContext.payload,\n        dragContext.data,\n        { isTouch: dragContext.isTouch }\n      )\n    );\n\n    // default integration\n    if (eventBus.fire('drag.' + type, event) === false) {\n      return false;\n    }\n\n    return eventBus.fire(dragContext.prefix + '.' + type, event);\n  }\n\n  function restoreSelection(previousSelection) {\n    var existingSelection = previousSelection.filter(function(element) {\n      return elementRegistry.get(element.id);\n    });\n\n    existingSelection.length && selection.select(existingSelection);\n  }\n\n  // event listeners\n\n  function move(event, activate) {\n    var payload = context.payload,\n        displacement = context.displacement;\n\n    var globalStart = context.globalStart,\n        globalCurrent = (0,_util_Event__WEBPACK_IMPORTED_MODULE_1__.toPoint)(event),\n        globalDelta = (0,_util_PositionUtil__WEBPACK_IMPORTED_MODULE_2__.delta)(globalCurrent, globalStart);\n\n    var localStart = context.localStart,\n        localCurrent = toLocalPoint(globalCurrent),\n        localDelta = (0,_util_PositionUtil__WEBPACK_IMPORTED_MODULE_2__.delta)(localCurrent, localStart);\n\n\n    // activate context explicitly or once threshold is reached\n    if (!context.active && (activate || getLength(globalDelta) > context.threshold)) {\n\n      // fire start event with original\n      // starting coordinates\n\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(payload, {\n        x: round(localStart.x + displacement.x),\n        y: round(localStart.y + displacement.y),\n        dx: 0,\n        dy: 0\n      }, { originalEvent: event });\n\n      if (false === fire('start')) {\n        return cancel();\n      }\n\n      context.active = true;\n\n      // unset selection and remember old selection\n      // the previous (old) selection will always passed\n      // with the event via the event.previousSelection property\n      if (!context.keepSelection) {\n        payload.previousSelection = selection.get();\n        selection.select(null);\n      }\n\n      // allow custom cursor\n      if (context.cursor) {\n        (0,_util_Cursor__WEBPACK_IMPORTED_MODULE_3__.set)(context.cursor);\n      }\n\n      // indicate dragging via marker on root element\n      canvas.addMarker(canvas.getRootElement(), DRAG_ACTIVE_CLS);\n    }\n\n    (0,_util_Event__WEBPACK_IMPORTED_MODULE_1__.stopPropagation)(event);\n\n    if (context.active) {\n\n      // update payload with actual coordinates\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(payload, {\n        x: round(localCurrent.x + displacement.x),\n        y: round(localCurrent.y + displacement.y),\n        dx: round(localDelta.x),\n        dy: round(localDelta.y)\n      }, { originalEvent: event });\n\n      // emit move event\n      fire('move');\n    }\n  }\n\n  function end(event) {\n    var previousContext,\n        returnValue = true;\n\n    if (context.active) {\n\n      if (event) {\n        context.payload.originalEvent = event;\n\n        // suppress original event (click, ...)\n        // because we just ended a drag operation\n        (0,_util_Event__WEBPACK_IMPORTED_MODULE_1__.stopPropagation)(event);\n      }\n\n      // implementations may stop restoring the\n      // original state (selections, ...) by preventing the\n      // end events default action\n      returnValue = fire('end');\n    }\n\n    if (returnValue === false) {\n      fire('rejected');\n    }\n\n    previousContext = cleanup(returnValue !== true);\n\n    // last event to be fired when all drag operations are done\n    // at this point in time no drag operation is in progress anymore\n    fire('ended', previousContext);\n  }\n\n\n  // cancel active drag operation if the user presses\n  // the ESC key on the keyboard\n\n  function checkCancel(event) {\n\n    if ((0,_keyboard_KeyboardUtil__WEBPACK_IMPORTED_MODULE_4__.isKey)('Escape', event)) {\n      preventDefault(event);\n\n      cancel();\n    }\n  }\n\n\n  // prevent ghost click that might occur after a finished\n  // drag and drop session\n\n  function trapClickAndEnd(event) {\n\n    var untrap;\n\n    // trap the click in case we are part of an active\n    // drag operation. This will effectively prevent\n    // the ghost click that cannot be canceled otherwise.\n    if (context.active) {\n\n      untrap = (0,_util_ClickTrap__WEBPACK_IMPORTED_MODULE_5__.install)(eventBus);\n\n      // remove trap after minimal delay\n      setTimeout(untrap, 400);\n\n      // prevent default action (click)\n      preventDefault(event);\n    }\n\n    end(event);\n  }\n\n  function trapTouch(event) {\n    move(event);\n  }\n\n  // update the drag events model element (`hover`) and graphical element (`hoverGfx`)\n  // properties during hover and out and fire {prefix}.hover and {prefix}.out properties\n  // respectively\n\n  function hover(event) {\n    var payload = context.payload;\n\n    payload.hoverGfx = event.gfx;\n    payload.hover = event.element;\n\n    fire('hover');\n  }\n\n  function out(event) {\n    fire('out');\n\n    var payload = context.payload;\n\n    payload.hoverGfx = null;\n    payload.hover = null;\n  }\n\n\n  // life-cycle methods\n\n  function cancel(restore) {\n    var previousContext;\n\n    if (!context) {\n      return;\n    }\n\n    var wasActive = context.active;\n\n    if (wasActive) {\n      fire('cancel');\n    }\n\n    previousContext = cleanup(restore);\n\n    if (wasActive) {\n\n      // last event to be fired when all drag operations are done\n      // at this point in time no drag operation is in progress anymore\n      fire('canceled', previousContext);\n    }\n  }\n\n  function cleanup(restore) {\n    var previousContext,\n        endDrag;\n\n    fire('cleanup');\n\n    // reset cursor\n    (0,_util_Cursor__WEBPACK_IMPORTED_MODULE_3__.unset)();\n\n    if (context.trapClick) {\n      endDrag = trapClickAndEnd;\n    } else {\n      endDrag = end;\n    }\n\n    // reset dom listeners\n    min_dom__WEBPACK_IMPORTED_MODULE_6__.event.unbind(document, 'mousemove', move);\n\n    min_dom__WEBPACK_IMPORTED_MODULE_6__.event.unbind(document, 'dragstart', preventDefault);\n    min_dom__WEBPACK_IMPORTED_MODULE_6__.event.unbind(document, 'selectstart', preventDefault);\n\n    min_dom__WEBPACK_IMPORTED_MODULE_6__.event.unbind(document, 'mousedown', endDrag, true);\n    min_dom__WEBPACK_IMPORTED_MODULE_6__.event.unbind(document, 'mouseup', endDrag, true);\n\n    min_dom__WEBPACK_IMPORTED_MODULE_6__.event.unbind(document, 'keyup', checkCancel);\n\n    min_dom__WEBPACK_IMPORTED_MODULE_6__.event.unbind(document, 'touchstart', trapTouch, true);\n    min_dom__WEBPACK_IMPORTED_MODULE_6__.event.unbind(document, 'touchcancel', cancel, true);\n    min_dom__WEBPACK_IMPORTED_MODULE_6__.event.unbind(document, 'touchmove', move, true);\n    min_dom__WEBPACK_IMPORTED_MODULE_6__.event.unbind(document, 'touchend', end, true);\n\n    eventBus.off('element.hover', hover);\n    eventBus.off('element.out', out);\n\n    // remove drag marker on root element\n    canvas.removeMarker(canvas.getRootElement(), DRAG_ACTIVE_CLS);\n\n    // restore selection, unless it has changed\n    var previousSelection = context.payload.previousSelection;\n\n    if (restore !== false && previousSelection && !selection.get().length) {\n      restoreSelection(previousSelection);\n    }\n\n    previousContext = context;\n\n    context = null;\n\n    return previousContext;\n  }\n\n  /**\n   * Initialize a drag operation.\n   *\n   * If `localPosition` is given, drag events will be emitted\n   * relative to it.\n   *\n   * @param {MouseEvent|TouchEvent} [event]\n   * @param {Point} [relativeTo] actual diagram local position this drag operation should start at\n   * @param {string} prefix\n   * @param {Object} [options]\n   */\n  function init(event, relativeTo, prefix, options) {\n\n    // only one drag operation may be active, at a time\n    if (context) {\n      cancel(false);\n    }\n\n    if (typeof relativeTo === 'string') {\n      options = prefix;\n      prefix = relativeTo;\n      relativeTo = null;\n    }\n\n    options = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({}, defaultOptions, options || {});\n\n    var data = options.data || {},\n        originalEvent,\n        globalStart,\n        localStart,\n        endDrag,\n        isTouch;\n\n    if (options.trapClick) {\n      endDrag = trapClickAndEnd;\n    } else {\n      endDrag = end;\n    }\n\n    if (event) {\n      originalEvent = (0,_util_Event__WEBPACK_IMPORTED_MODULE_1__.getOriginal)(event) || event;\n      globalStart = (0,_util_Event__WEBPACK_IMPORTED_MODULE_1__.toPoint)(event);\n\n      (0,_util_Event__WEBPACK_IMPORTED_MODULE_1__.stopPropagation)(event);\n\n      // prevent default browser dragging behavior\n      if (originalEvent.type === 'dragstart') {\n        preventDefault(originalEvent);\n      }\n    } else {\n      originalEvent = null;\n      globalStart = { x: 0, y: 0 };\n    }\n\n    localStart = toLocalPoint(globalStart);\n\n    if (!relativeTo) {\n      relativeTo = localStart;\n    }\n\n    isTouch = isTouchEvent(originalEvent);\n\n    context = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({\n      prefix: prefix,\n      data: data,\n      payload: {},\n      globalStart: globalStart,\n      displacement: (0,_util_PositionUtil__WEBPACK_IMPORTED_MODULE_2__.delta)(relativeTo, localStart),\n      localStart: localStart,\n      isTouch: isTouch\n    }, options);\n\n    // skip dom registration if trigger\n    // is set to manual (during testing)\n    if (!options.manual) {\n\n      // add dom listeners\n\n      if (isTouch) {\n        min_dom__WEBPACK_IMPORTED_MODULE_6__.event.bind(document, 'touchstart', trapTouch, true);\n        min_dom__WEBPACK_IMPORTED_MODULE_6__.event.bind(document, 'touchcancel', cancel, true);\n        min_dom__WEBPACK_IMPORTED_MODULE_6__.event.bind(document, 'touchmove', move, true);\n        min_dom__WEBPACK_IMPORTED_MODULE_6__.event.bind(document, 'touchend', end, true);\n      } else {\n\n        // assume we use the mouse to interact per default\n        min_dom__WEBPACK_IMPORTED_MODULE_6__.event.bind(document, 'mousemove', move);\n\n        // prevent default browser drag and text selection behavior\n        min_dom__WEBPACK_IMPORTED_MODULE_6__.event.bind(document, 'dragstart', preventDefault);\n        min_dom__WEBPACK_IMPORTED_MODULE_6__.event.bind(document, 'selectstart', preventDefault);\n\n        min_dom__WEBPACK_IMPORTED_MODULE_6__.event.bind(document, 'mousedown', endDrag, true);\n        min_dom__WEBPACK_IMPORTED_MODULE_6__.event.bind(document, 'mouseup', endDrag, true);\n      }\n\n      min_dom__WEBPACK_IMPORTED_MODULE_6__.event.bind(document, 'keyup', checkCancel);\n\n      eventBus.on('element.hover', hover);\n      eventBus.on('element.out', out);\n    }\n\n    fire('init');\n\n    if (options.autoActivate) {\n      move(event, true);\n    }\n  }\n\n  // cancel on diagram destruction\n  eventBus.on('diagram.destroy', cancel);\n\n\n  // API\n\n  this.init = init;\n  this.move = move;\n  this.hover = hover;\n  this.out = out;\n  this.end = end;\n\n  this.cancel = cancel;\n\n  // for introspection\n\n  this.context = function() {\n    return context;\n  };\n\n  this.setOptions = function(options) {\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(defaultOptions, options);\n  };\n}\n\nDragging.$inject = [\n  'eventBus',\n  'canvas',\n  'selection',\n  'elementRegistry'\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvZHJhZ2dpbmcvRHJhZ2dpbmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7QUFFa0M7O0FBSWpCOztBQU1TOztBQUtDOztBQUlHOztBQUlHOztBQUVnQjs7QUFFakQ7QUFDQSxhQUFhLGtDQUFrQztBQUMvQztBQUNBLGFBQWEscUNBQXFDO0FBQ2xELGFBQWEsOENBQThDO0FBQzNELGFBQWEsdUNBQXVDO0FBQ3BELGFBQWEsMENBQTBDO0FBQ3ZEOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx5QkFBeUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsZUFBZTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsaUJBQWlCO0FBQzVCO0FBQ2U7O0FBRWY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLE1BQU0sZ0RBQU07QUFDWixVQUFVO0FBQ1Y7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdCQUF3QixvREFBTztBQUMvQixzQkFBc0IseURBQVE7O0FBRTlCO0FBQ0E7QUFDQSxxQkFBcUIseURBQVE7OztBQUc3QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsTUFBTSxnREFBTTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxJQUFJLHNCQUFzQjs7QUFFakM7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRLGlEQUFTO0FBQ2pCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJLDREQUFlOztBQUVuQjs7QUFFQTtBQUNBLE1BQU0sZ0RBQU07QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sSUFBSSxzQkFBc0I7O0FBRWpDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRLDREQUFlO0FBQ3ZCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBOztBQUVBLFFBQVEsNkRBQUs7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZUFBZSx3REFBZ0I7O0FBRS9CO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLE9BQU8sWUFBWSxPQUFPO0FBQ3pFOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxJQUFJLG1EQUFXOztBQUVmO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBLElBQUksMENBQVE7O0FBRVosSUFBSSwwQ0FBUTtBQUNaLElBQUksMENBQVE7O0FBRVosSUFBSSwwQ0FBUTtBQUNaLElBQUksMENBQVE7O0FBRVosSUFBSSwwQ0FBUTs7QUFFWixJQUFJLDBDQUFRO0FBQ1osSUFBSSwwQ0FBUTtBQUNaLElBQUksMENBQVE7QUFDWixJQUFJLDBDQUFROztBQUVaO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsdUJBQXVCO0FBQ3BDLGFBQWEsT0FBTztBQUNwQixhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxjQUFjLGdEQUFNLEdBQUcsK0JBQStCOztBQUV0RCxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0Isd0RBQVc7QUFDakMsb0JBQW9CLG9EQUFPOztBQUUzQixNQUFNLDREQUFlOztBQUVyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLHNCQUFzQjtBQUN0Qjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsY0FBYyxnREFBTTtBQUNwQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0Esb0JBQW9CLHlEQUFRO0FBQzVCO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFFBQVEsMENBQVE7QUFDaEIsUUFBUSwwQ0FBUTtBQUNoQixRQUFRLDBDQUFRO0FBQ2hCLFFBQVEsMENBQVE7QUFDaEIsUUFBUTs7QUFFUjtBQUNBLFFBQVEsMENBQVE7O0FBRWhCO0FBQ0EsUUFBUSwwQ0FBUTtBQUNoQixRQUFRLDBDQUFROztBQUVoQixRQUFRLDBDQUFRO0FBQ2hCLFFBQVEsMENBQVE7QUFDaEI7O0FBRUEsTUFBTSwwQ0FBUTs7QUFFZDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLGdEQUFNO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvZHJhZ2dpbmcvRHJhZ2dpbmcuanM/ZjIyYiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcm91bmQgPSBNYXRoLnJvdW5kO1xuXG5pbXBvcnQgeyBhc3NpZ24gfSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGV2ZW50IGFzIGRvbUV2ZW50XG59IGZyb20gJ21pbi1kb20nO1xuXG5pbXBvcnQge1xuICBnZXRPcmlnaW5hbCxcbiAgdG9Qb2ludCxcbiAgc3RvcFByb3BhZ2F0aW9uXG59IGZyb20gJy4uLy4uL3V0aWwvRXZlbnQnO1xuXG5pbXBvcnQge1xuICBzZXQgYXMgY3Vyc29yU2V0LFxuICB1bnNldCBhcyBjdXJzb3JVbnNldFxufSBmcm9tICcuLi8uLi91dGlsL0N1cnNvcic7XG5cbmltcG9ydCB7XG4gIGluc3RhbGwgYXMgaW5zdGFsbENsaWNrVHJhcFxufSBmcm9tICcuLi8uLi91dGlsL0NsaWNrVHJhcCc7XG5cbmltcG9ydCB7XG4gIGRlbHRhIGFzIGRlbHRhUG9zXG59IGZyb20gJy4uLy4uL3V0aWwvUG9zaXRpb25VdGlsJztcblxuaW1wb3J0IHsgaXNLZXkgfSBmcm9tICcuLi9rZXlib2FyZC9LZXlib2FyZFV0aWwnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL3V0aWwvVHlwZXMnKS5Qb2ludH0gUG9pbnRcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0NhbnZhcycpLmRlZmF1bHR9IENhbnZhc1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FbGVtZW50UmVnaXN0cnknKS5kZWZhdWx0fSBFbGVtZW50UmVnaXN0cnlcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vc2VsZWN0aW9uL1NlbGVjdGlvbicpLmRlZmF1bHR9IFNlbGVjdGlvblxuICovXG5cbnZhciBEUkFHX0FDVElWRV9DTFMgPSAnZGpzLWRyYWctYWN0aXZlJztcblxuXG5mdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChldmVudCkge1xuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xufVxuXG5mdW5jdGlvbiBpc1RvdWNoRXZlbnQoZXZlbnQpIHtcblxuICAvLyBjaGVjayBmb3IgVG91Y2hFdmVudCBiZWluZyBhdmFpbGFibGUgZmlyc3RcbiAgLy8gKGkuZS4gbm90IGF2YWlsYWJsZSBvbiBkZXNrdG9wIEZpcmVmb3gpXG4gIHJldHVybiB0eXBlb2YgVG91Y2hFdmVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZXZlbnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50O1xufVxuXG5mdW5jdGlvbiBnZXRMZW5ndGgocG9pbnQpIHtcbiAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhwb2ludC54LCAyKSArIE1hdGgucG93KHBvaW50LnksIDIpKTtcbn1cblxuLyoqXG4gKiBBIGhlbHBlciB0aGF0IGZpcmVzIGNhbnZhcyBsb2NhbGl6ZWQgZHJhZyBldmVudHMgYW5kIHJlYWxpemVzXG4gKiB0aGUgZ2VuZXJhbCBcImRyYWctYW5kLWRyb3BcIiBsb29rIGFuZCBmZWVsLlxuICpcbiAqIENhbGxpbmcge0BsaW5rIERyYWdnaW5nI2FjdGl2YXRlfSBhY3RpdmF0ZXMgZHJhZ2dpbmcgb24gYSBjYW52YXMuXG4gKlxuICogSXQgcHJvdmlkZXMgdGhlIGZvbGxvd2luZzpcbiAqXG4gKiAgICogZW1pdHMgbGlmZSBjeWNsZSBldmVudHMsIG5hbWVzcGFjZWQgd2l0aCBhIHByZWZpeCBhc3NpZ25lZFxuICogICAgIGR1cmluZyBkcmFnZ2luZyBhY3RpdmF0aW9uXG4gKiAgICogc2V0cyBhbmQgcmVzdG9yZXMgdGhlIGN1cnNvclxuICogICAqIHNldHMgYW5kIHJlc3RvcmVzIHRoZSBzZWxlY3Rpb24gaWYgZWxlbWVudHMgc3RpbGwgZXhpc3RcbiAqICAgKiBlbnN1cmVzIHRoZXJlIGNhbiBiZSBvbmx5IG9uZSBkcmFnIG9wZXJhdGlvbiBhY3RpdmUgYXQgYSB0aW1lXG4gKlxuICogRHJhZ2dpbmcgbWF5IGJlIGNhbmNlbGVkIG1hbnVhbGx5IGJ5IGNhbGxpbmcge0BsaW5rIERyYWdnaW5nI2NhbmNlbH1cbiAqIG9yIGJ5IHByZXNzaW5nIEVTQy5cbiAqXG4gKlxuICogIyMgTGlmZS1jeWNsZSBldmVudHNcbiAqXG4gKiBEcmFnZ2luZyBjYW4gYmUgaW4gdGhyZWUgZGlmZmVyZW50IHN0YXRlcywgb2ZmLCBpbml0aWFsaXplZFxuICogYW5kIGFjdGl2ZS5cbiAqXG4gKiAoMSkgb2ZmOiBubyBkcmFnZ2luZyBvcGVyYXRpb24gaXMgaW4gcHJvZ3Jlc3NcbiAqICgyKSBpbml0aWFsaXplZDogYSBuZXcgZHJhZyBvcGVyYXRpb24gZ290IGluaXRpYWxpemVkIGJ1dCBub3QgeWV0XG4gKiAgICAgICAgICAgICAgICAgIHN0YXJ0ZWQgKGkuZS4gYmVjYXVzZSBvZiBubyBpbml0aWFsIG1vdmUpXG4gKiAoMykgc3RhcnRlZDogZHJhZ2dpbmcgaXMgaW4gcHJvZ3Jlc3NcbiAqXG4gKiBFdmVudHVhbGx5IGRyYWdnaW5nIHdpbGwgYmUgb2ZmIGFnYWluIGFmdGVyIGEgZHJhZyBvcGVyYXRpb24gaGFzXG4gKiBiZWVuIGVuZGVkIG9yIGNhbmNlbGVkIHZpYSB1c2VyIGNsaWNrIG9yIEVTQyBrZXkgcHJlc3MuXG4gKlxuICogVG8gaW5kaWNhdGUgdHJhbnNpdGlvbnMgYmV0d2VlbiB0aGVzZSBzdGF0ZXMgZHJhZ2dpbmcgZW1pdHMgZ2VuZXJpY1xuICogbGlmZS1jeWNsZSBldmVudHMgd2l0aCB0aGUgYGRyYWcuYCBwcmVmaXggX2FuZF8gZXZlbnRzIG5hbWVzcGFjZWRcbiAqIHRvIGEgcHJlZml4IGNob29zZW4gYnkgYSB1c2VyIGR1cmluZyBkcmFnIGluaXRpYWxpemF0aW9uLlxuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXZlbnRzIGFyZSBlbWl0dGVkIChhcHByb3ByaWF0ZWx5IHByZWZpeGVkKSB2aWFcbiAqIHRoZSB7QGxpbmsgRXZlbnRCdXN9LlxuICpcbiAqICogYGluaXRgXG4gKiAqIGBzdGFydGBcbiAqICogYG1vdmVgXG4gKiAqIGBlbmRgXG4gKiAqIGBlbmRlZGAgKGRyYWdnaW5nIGFscmVhZHkgaW4gb2ZmIHN0YXRlKVxuICogKiBgY2FuY2VsYCAob25seSBpZiBwcmV2aW91c2x5IHN0YXJ0ZWQpXG4gKiAqIGBjYW5jZWxlZGAgKGRyYWdnaW5nIGFscmVhZHkgaW4gb2ZmIHN0YXRlLCBvbmx5IGlmIHByZXZpb3VzbHkgc3RhcnRlZClcbiAqICogYGNsZWFudXBgXG4gKlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogZnVuY3Rpb24gTXlEcmFnQ29tcG9uZW50KGV2ZW50QnVzLCBkcmFnZ2luZykge1xuICpcbiAqICAgZXZlbnRCdXMub24oJ215ZHJhZy5zdGFydCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gKiAgICAgY29uc29sZS5sb2coJ3llcywgd2Ugc3RhcnQgZHJhZ2dpbmcnKTtcbiAqICAgfSk7XG4gKlxuICogICBldmVudEJ1cy5vbignbXlkcmFnLm1vdmUnLCBmdW5jdGlvbihldmVudCkge1xuICogICAgIGNvbnNvbGUubG9nKCdjYW52YXMgbG9jYWwgY29vcmRpbmF0ZXMnLCBldmVudC54LCBldmVudC55LCBldmVudC5keCwgZXZlbnQuZHkpO1xuICpcbiAqICAgICAvLyBsb2NhbCBkcmFnIGRhdGEgaXMgcGFzc2VkIHdpdGggdGhlIGV2ZW50XG4gKiAgICAgZXZlbnQuY29udGV4dC5mb287IC8vIFwiQkFSXCJcbiAqXG4gKiAgICAgLy8gdGhlIG9yaWdpbmFsIG1vdXNlIGV2ZW50LCB0b29cbiAqICAgICBldmVudC5vcmlnaW5hbEV2ZW50OyAvLyBNb3VzZUV2ZW50KC4uLilcbiAqICAgfSk7XG4gKlxuICogICBldmVudEJ1cy5vbignZWxlbWVudC5jbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gKiAgICAgZHJhZ2dpbmcuaW5pdChldmVudCwgJ215ZHJhZycsIHtcbiAqICAgICAgIGN1cnNvcjogJ2dyYWJiaW5nJyxcbiAqICAgICAgIGRhdGE6IHtcbiAqICAgICAgICAgY29udGV4dDoge1xuICogICAgICAgICAgIGZvbzogXCJCQVJcIlxuICogICAgICAgICB9XG4gKiAgICAgICB9XG4gKiAgICAgfSk7XG4gKiAgIH0pO1xuICogfVxuICogYGBgXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqIEBwYXJhbSB7U2VsZWN0aW9ufSBzZWxlY3Rpb25cbiAqIEBwYXJhbSB7RWxlbWVudFJlZ2lzdHJ5fSBlbGVtZW50UmVnaXN0cnlcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRHJhZ2dpbmcoZXZlbnRCdXMsIGNhbnZhcywgc2VsZWN0aW9uLCBlbGVtZW50UmVnaXN0cnkpIHtcblxuICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgdGhyZXNob2xkOiA1LFxuICAgIHRyYXBDbGljazogdHJ1ZVxuICB9O1xuXG4gIC8vIHRoZSBjdXJyZW50bHkgYWN0aXZlIGRyYWcgb3BlcmF0aW9uXG4gIC8vIGRyYWdnaW5nIGlzIGFjdGl2ZSBhcyBzb29uIGFzIHRoaXMgY29udGV4dCBleGlzdHMuXG4gIC8vXG4gIC8vIGl0IGlzIHZpc3VhbGx5IF9hY3RpdmVfIG9ubHkgd2hlbiBhIGNvbnRleHQuYWN0aXZlIGZsYWcgaXMgc2V0IHRvIHRydWUuXG4gIHZhciBjb250ZXh0O1xuXG4gIC8qIGNvbnZlcnQgYSBnbG9iYWwgZXZlbnQgaW50byBsb2NhbCBjb29yZGluYXRlcyAqL1xuICBmdW5jdGlvbiB0b0xvY2FsUG9pbnQoZ2xvYmFsUG9zaXRpb24pIHtcblxuICAgIHZhciB2aWV3Ym94ID0gY2FudmFzLnZpZXdib3goKTtcblxuICAgIHZhciBjbGllbnRSZWN0ID0gY2FudmFzLl9jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgeDogdmlld2JveC54ICsgKGdsb2JhbFBvc2l0aW9uLnggLSBjbGllbnRSZWN0LmxlZnQpIC8gdmlld2JveC5zY2FsZSxcbiAgICAgIHk6IHZpZXdib3gueSArIChnbG9iYWxQb3NpdGlvbi55IC0gY2xpZW50UmVjdC50b3ApIC8gdmlld2JveC5zY2FsZVxuICAgIH07XG4gIH1cblxuICAvLyBoZWxwZXJzXG5cbiAgZnVuY3Rpb24gZmlyZSh0eXBlLCBkcmFnQ29udGV4dCkge1xuICAgIGRyYWdDb250ZXh0ID0gZHJhZ0NvbnRleHQgfHwgY29udGV4dDtcblxuICAgIHZhciBldmVudCA9IGV2ZW50QnVzLmNyZWF0ZUV2ZW50KFxuICAgICAgYXNzaWduKFxuICAgICAgICB7fSxcbiAgICAgICAgZHJhZ0NvbnRleHQucGF5bG9hZCxcbiAgICAgICAgZHJhZ0NvbnRleHQuZGF0YSxcbiAgICAgICAgeyBpc1RvdWNoOiBkcmFnQ29udGV4dC5pc1RvdWNoIH1cbiAgICAgIClcbiAgICApO1xuXG4gICAgLy8gZGVmYXVsdCBpbnRlZ3JhdGlvblxuICAgIGlmIChldmVudEJ1cy5maXJlKCdkcmFnLicgKyB0eXBlLCBldmVudCkgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV2ZW50QnVzLmZpcmUoZHJhZ0NvbnRleHQucHJlZml4ICsgJy4nICsgdHlwZSwgZXZlbnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzdG9yZVNlbGVjdGlvbihwcmV2aW91c1NlbGVjdGlvbikge1xuICAgIHZhciBleGlzdGluZ1NlbGVjdGlvbiA9IHByZXZpb3VzU2VsZWN0aW9uLmZpbHRlcihmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICByZXR1cm4gZWxlbWVudFJlZ2lzdHJ5LmdldChlbGVtZW50LmlkKTtcbiAgICB9KTtcblxuICAgIGV4aXN0aW5nU2VsZWN0aW9uLmxlbmd0aCAmJiBzZWxlY3Rpb24uc2VsZWN0KGV4aXN0aW5nU2VsZWN0aW9uKTtcbiAgfVxuXG4gIC8vIGV2ZW50IGxpc3RlbmVyc1xuXG4gIGZ1bmN0aW9uIG1vdmUoZXZlbnQsIGFjdGl2YXRlKSB7XG4gICAgdmFyIHBheWxvYWQgPSBjb250ZXh0LnBheWxvYWQsXG4gICAgICAgIGRpc3BsYWNlbWVudCA9IGNvbnRleHQuZGlzcGxhY2VtZW50O1xuXG4gICAgdmFyIGdsb2JhbFN0YXJ0ID0gY29udGV4dC5nbG9iYWxTdGFydCxcbiAgICAgICAgZ2xvYmFsQ3VycmVudCA9IHRvUG9pbnQoZXZlbnQpLFxuICAgICAgICBnbG9iYWxEZWx0YSA9IGRlbHRhUG9zKGdsb2JhbEN1cnJlbnQsIGdsb2JhbFN0YXJ0KTtcblxuICAgIHZhciBsb2NhbFN0YXJ0ID0gY29udGV4dC5sb2NhbFN0YXJ0LFxuICAgICAgICBsb2NhbEN1cnJlbnQgPSB0b0xvY2FsUG9pbnQoZ2xvYmFsQ3VycmVudCksXG4gICAgICAgIGxvY2FsRGVsdGEgPSBkZWx0YVBvcyhsb2NhbEN1cnJlbnQsIGxvY2FsU3RhcnQpO1xuXG5cbiAgICAvLyBhY3RpdmF0ZSBjb250ZXh0IGV4cGxpY2l0bHkgb3Igb25jZSB0aHJlc2hvbGQgaXMgcmVhY2hlZFxuICAgIGlmICghY29udGV4dC5hY3RpdmUgJiYgKGFjdGl2YXRlIHx8IGdldExlbmd0aChnbG9iYWxEZWx0YSkgPiBjb250ZXh0LnRocmVzaG9sZCkpIHtcblxuICAgICAgLy8gZmlyZSBzdGFydCBldmVudCB3aXRoIG9yaWdpbmFsXG4gICAgICAvLyBzdGFydGluZyBjb29yZGluYXRlc1xuXG4gICAgICBhc3NpZ24ocGF5bG9hZCwge1xuICAgICAgICB4OiByb3VuZChsb2NhbFN0YXJ0LnggKyBkaXNwbGFjZW1lbnQueCksXG4gICAgICAgIHk6IHJvdW5kKGxvY2FsU3RhcnQueSArIGRpc3BsYWNlbWVudC55KSxcbiAgICAgICAgZHg6IDAsXG4gICAgICAgIGR5OiAwXG4gICAgICB9LCB7IG9yaWdpbmFsRXZlbnQ6IGV2ZW50IH0pO1xuXG4gICAgICBpZiAoZmFsc2UgPT09IGZpcmUoJ3N0YXJ0JykpIHtcbiAgICAgICAgcmV0dXJuIGNhbmNlbCgpO1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0LmFjdGl2ZSA9IHRydWU7XG5cbiAgICAgIC8vIHVuc2V0IHNlbGVjdGlvbiBhbmQgcmVtZW1iZXIgb2xkIHNlbGVjdGlvblxuICAgICAgLy8gdGhlIHByZXZpb3VzIChvbGQpIHNlbGVjdGlvbiB3aWxsIGFsd2F5cyBwYXNzZWRcbiAgICAgIC8vIHdpdGggdGhlIGV2ZW50IHZpYSB0aGUgZXZlbnQucHJldmlvdXNTZWxlY3Rpb24gcHJvcGVydHlcbiAgICAgIGlmICghY29udGV4dC5rZWVwU2VsZWN0aW9uKSB7XG4gICAgICAgIHBheWxvYWQucHJldmlvdXNTZWxlY3Rpb24gPSBzZWxlY3Rpb24uZ2V0KCk7XG4gICAgICAgIHNlbGVjdGlvbi5zZWxlY3QobnVsbCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGFsbG93IGN1c3RvbSBjdXJzb3JcbiAgICAgIGlmIChjb250ZXh0LmN1cnNvcikge1xuICAgICAgICBjdXJzb3JTZXQoY29udGV4dC5jdXJzb3IpO1xuICAgICAgfVxuXG4gICAgICAvLyBpbmRpY2F0ZSBkcmFnZ2luZyB2aWEgbWFya2VyIG9uIHJvb3QgZWxlbWVudFxuICAgICAgY2FudmFzLmFkZE1hcmtlcihjYW52YXMuZ2V0Um9vdEVsZW1lbnQoKSwgRFJBR19BQ1RJVkVfQ0xTKTtcbiAgICB9XG5cbiAgICBzdG9wUHJvcGFnYXRpb24oZXZlbnQpO1xuXG4gICAgaWYgKGNvbnRleHQuYWN0aXZlKSB7XG5cbiAgICAgIC8vIHVwZGF0ZSBwYXlsb2FkIHdpdGggYWN0dWFsIGNvb3JkaW5hdGVzXG4gICAgICBhc3NpZ24ocGF5bG9hZCwge1xuICAgICAgICB4OiByb3VuZChsb2NhbEN1cnJlbnQueCArIGRpc3BsYWNlbWVudC54KSxcbiAgICAgICAgeTogcm91bmQobG9jYWxDdXJyZW50LnkgKyBkaXNwbGFjZW1lbnQueSksXG4gICAgICAgIGR4OiByb3VuZChsb2NhbERlbHRhLngpLFxuICAgICAgICBkeTogcm91bmQobG9jYWxEZWx0YS55KVxuICAgICAgfSwgeyBvcmlnaW5hbEV2ZW50OiBldmVudCB9KTtcblxuICAgICAgLy8gZW1pdCBtb3ZlIGV2ZW50XG4gICAgICBmaXJlKCdtb3ZlJyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZW5kKGV2ZW50KSB7XG4gICAgdmFyIHByZXZpb3VzQ29udGV4dCxcbiAgICAgICAgcmV0dXJuVmFsdWUgPSB0cnVlO1xuXG4gICAgaWYgKGNvbnRleHQuYWN0aXZlKSB7XG5cbiAgICAgIGlmIChldmVudCkge1xuICAgICAgICBjb250ZXh0LnBheWxvYWQub3JpZ2luYWxFdmVudCA9IGV2ZW50O1xuXG4gICAgICAgIC8vIHN1cHByZXNzIG9yaWdpbmFsIGV2ZW50IChjbGljaywgLi4uKVxuICAgICAgICAvLyBiZWNhdXNlIHdlIGp1c3QgZW5kZWQgYSBkcmFnIG9wZXJhdGlvblxuICAgICAgICBzdG9wUHJvcGFnYXRpb24oZXZlbnQpO1xuICAgICAgfVxuXG4gICAgICAvLyBpbXBsZW1lbnRhdGlvbnMgbWF5IHN0b3AgcmVzdG9yaW5nIHRoZVxuICAgICAgLy8gb3JpZ2luYWwgc3RhdGUgKHNlbGVjdGlvbnMsIC4uLikgYnkgcHJldmVudGluZyB0aGVcbiAgICAgIC8vIGVuZCBldmVudHMgZGVmYXVsdCBhY3Rpb25cbiAgICAgIHJldHVyblZhbHVlID0gZmlyZSgnZW5kJyk7XG4gICAgfVxuXG4gICAgaWYgKHJldHVyblZhbHVlID09PSBmYWxzZSkge1xuICAgICAgZmlyZSgncmVqZWN0ZWQnKTtcbiAgICB9XG5cbiAgICBwcmV2aW91c0NvbnRleHQgPSBjbGVhbnVwKHJldHVyblZhbHVlICE9PSB0cnVlKTtcblxuICAgIC8vIGxhc3QgZXZlbnQgdG8gYmUgZmlyZWQgd2hlbiBhbGwgZHJhZyBvcGVyYXRpb25zIGFyZSBkb25lXG4gICAgLy8gYXQgdGhpcyBwb2ludCBpbiB0aW1lIG5vIGRyYWcgb3BlcmF0aW9uIGlzIGluIHByb2dyZXNzIGFueW1vcmVcbiAgICBmaXJlKCdlbmRlZCcsIHByZXZpb3VzQ29udGV4dCk7XG4gIH1cblxuXG4gIC8vIGNhbmNlbCBhY3RpdmUgZHJhZyBvcGVyYXRpb24gaWYgdGhlIHVzZXIgcHJlc3Nlc1xuICAvLyB0aGUgRVNDIGtleSBvbiB0aGUga2V5Ym9hcmRcblxuICBmdW5jdGlvbiBjaGVja0NhbmNlbChldmVudCkge1xuXG4gICAgaWYgKGlzS2V5KCdFc2NhcGUnLCBldmVudCkpIHtcbiAgICAgIHByZXZlbnREZWZhdWx0KGV2ZW50KTtcblxuICAgICAgY2FuY2VsKCk7XG4gICAgfVxuICB9XG5cblxuICAvLyBwcmV2ZW50IGdob3N0IGNsaWNrIHRoYXQgbWlnaHQgb2NjdXIgYWZ0ZXIgYSBmaW5pc2hlZFxuICAvLyBkcmFnIGFuZCBkcm9wIHNlc3Npb25cblxuICBmdW5jdGlvbiB0cmFwQ2xpY2tBbmRFbmQoZXZlbnQpIHtcblxuICAgIHZhciB1bnRyYXA7XG5cbiAgICAvLyB0cmFwIHRoZSBjbGljayBpbiBjYXNlIHdlIGFyZSBwYXJ0IG9mIGFuIGFjdGl2ZVxuICAgIC8vIGRyYWcgb3BlcmF0aW9uLiBUaGlzIHdpbGwgZWZmZWN0aXZlbHkgcHJldmVudFxuICAgIC8vIHRoZSBnaG9zdCBjbGljayB0aGF0IGNhbm5vdCBiZSBjYW5jZWxlZCBvdGhlcndpc2UuXG4gICAgaWYgKGNvbnRleHQuYWN0aXZlKSB7XG5cbiAgICAgIHVudHJhcCA9IGluc3RhbGxDbGlja1RyYXAoZXZlbnRCdXMpO1xuXG4gICAgICAvLyByZW1vdmUgdHJhcCBhZnRlciBtaW5pbWFsIGRlbGF5XG4gICAgICBzZXRUaW1lb3V0KHVudHJhcCwgNDAwKTtcblxuICAgICAgLy8gcHJldmVudCBkZWZhdWx0IGFjdGlvbiAoY2xpY2spXG4gICAgICBwcmV2ZW50RGVmYXVsdChldmVudCk7XG4gICAgfVxuXG4gICAgZW5kKGV2ZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYXBUb3VjaChldmVudCkge1xuICAgIG1vdmUoZXZlbnQpO1xuICB9XG5cbiAgLy8gdXBkYXRlIHRoZSBkcmFnIGV2ZW50cyBtb2RlbCBlbGVtZW50IChgaG92ZXJgKSBhbmQgZ3JhcGhpY2FsIGVsZW1lbnQgKGBob3ZlckdmeGApXG4gIC8vIHByb3BlcnRpZXMgZHVyaW5nIGhvdmVyIGFuZCBvdXQgYW5kIGZpcmUge3ByZWZpeH0uaG92ZXIgYW5kIHtwcmVmaXh9Lm91dCBwcm9wZXJ0aWVzXG4gIC8vIHJlc3BlY3RpdmVseVxuXG4gIGZ1bmN0aW9uIGhvdmVyKGV2ZW50KSB7XG4gICAgdmFyIHBheWxvYWQgPSBjb250ZXh0LnBheWxvYWQ7XG5cbiAgICBwYXlsb2FkLmhvdmVyR2Z4ID0gZXZlbnQuZ2Z4O1xuICAgIHBheWxvYWQuaG92ZXIgPSBldmVudC5lbGVtZW50O1xuXG4gICAgZmlyZSgnaG92ZXInKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG91dChldmVudCkge1xuICAgIGZpcmUoJ291dCcpO1xuXG4gICAgdmFyIHBheWxvYWQgPSBjb250ZXh0LnBheWxvYWQ7XG5cbiAgICBwYXlsb2FkLmhvdmVyR2Z4ID0gbnVsbDtcbiAgICBwYXlsb2FkLmhvdmVyID0gbnVsbDtcbiAgfVxuXG5cbiAgLy8gbGlmZS1jeWNsZSBtZXRob2RzXG5cbiAgZnVuY3Rpb24gY2FuY2VsKHJlc3RvcmUpIHtcbiAgICB2YXIgcHJldmlvdXNDb250ZXh0O1xuXG4gICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHdhc0FjdGl2ZSA9IGNvbnRleHQuYWN0aXZlO1xuXG4gICAgaWYgKHdhc0FjdGl2ZSkge1xuICAgICAgZmlyZSgnY2FuY2VsJyk7XG4gICAgfVxuXG4gICAgcHJldmlvdXNDb250ZXh0ID0gY2xlYW51cChyZXN0b3JlKTtcblxuICAgIGlmICh3YXNBY3RpdmUpIHtcblxuICAgICAgLy8gbGFzdCBldmVudCB0byBiZSBmaXJlZCB3aGVuIGFsbCBkcmFnIG9wZXJhdGlvbnMgYXJlIGRvbmVcbiAgICAgIC8vIGF0IHRoaXMgcG9pbnQgaW4gdGltZSBubyBkcmFnIG9wZXJhdGlvbiBpcyBpbiBwcm9ncmVzcyBhbnltb3JlXG4gICAgICBmaXJlKCdjYW5jZWxlZCcsIHByZXZpb3VzQ29udGV4dCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2xlYW51cChyZXN0b3JlKSB7XG4gICAgdmFyIHByZXZpb3VzQ29udGV4dCxcbiAgICAgICAgZW5kRHJhZztcblxuICAgIGZpcmUoJ2NsZWFudXAnKTtcblxuICAgIC8vIHJlc2V0IGN1cnNvclxuICAgIGN1cnNvclVuc2V0KCk7XG5cbiAgICBpZiAoY29udGV4dC50cmFwQ2xpY2spIHtcbiAgICAgIGVuZERyYWcgPSB0cmFwQ2xpY2tBbmRFbmQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVuZERyYWcgPSBlbmQ7XG4gICAgfVxuXG4gICAgLy8gcmVzZXQgZG9tIGxpc3RlbmVyc1xuICAgIGRvbUV2ZW50LnVuYmluZChkb2N1bWVudCwgJ21vdXNlbW92ZScsIG1vdmUpO1xuXG4gICAgZG9tRXZlbnQudW5iaW5kKGRvY3VtZW50LCAnZHJhZ3N0YXJ0JywgcHJldmVudERlZmF1bHQpO1xuICAgIGRvbUV2ZW50LnVuYmluZChkb2N1bWVudCwgJ3NlbGVjdHN0YXJ0JywgcHJldmVudERlZmF1bHQpO1xuXG4gICAgZG9tRXZlbnQudW5iaW5kKGRvY3VtZW50LCAnbW91c2Vkb3duJywgZW5kRHJhZywgdHJ1ZSk7XG4gICAgZG9tRXZlbnQudW5iaW5kKGRvY3VtZW50LCAnbW91c2V1cCcsIGVuZERyYWcsIHRydWUpO1xuXG4gICAgZG9tRXZlbnQudW5iaW5kKGRvY3VtZW50LCAna2V5dXAnLCBjaGVja0NhbmNlbCk7XG5cbiAgICBkb21FdmVudC51bmJpbmQoZG9jdW1lbnQsICd0b3VjaHN0YXJ0JywgdHJhcFRvdWNoLCB0cnVlKTtcbiAgICBkb21FdmVudC51bmJpbmQoZG9jdW1lbnQsICd0b3VjaGNhbmNlbCcsIGNhbmNlbCwgdHJ1ZSk7XG4gICAgZG9tRXZlbnQudW5iaW5kKGRvY3VtZW50LCAndG91Y2htb3ZlJywgbW92ZSwgdHJ1ZSk7XG4gICAgZG9tRXZlbnQudW5iaW5kKGRvY3VtZW50LCAndG91Y2hlbmQnLCBlbmQsIHRydWUpO1xuXG4gICAgZXZlbnRCdXMub2ZmKCdlbGVtZW50LmhvdmVyJywgaG92ZXIpO1xuICAgIGV2ZW50QnVzLm9mZignZWxlbWVudC5vdXQnLCBvdXQpO1xuXG4gICAgLy8gcmVtb3ZlIGRyYWcgbWFya2VyIG9uIHJvb3QgZWxlbWVudFxuICAgIGNhbnZhcy5yZW1vdmVNYXJrZXIoY2FudmFzLmdldFJvb3RFbGVtZW50KCksIERSQUdfQUNUSVZFX0NMUyk7XG5cbiAgICAvLyByZXN0b3JlIHNlbGVjdGlvbiwgdW5sZXNzIGl0IGhhcyBjaGFuZ2VkXG4gICAgdmFyIHByZXZpb3VzU2VsZWN0aW9uID0gY29udGV4dC5wYXlsb2FkLnByZXZpb3VzU2VsZWN0aW9uO1xuXG4gICAgaWYgKHJlc3RvcmUgIT09IGZhbHNlICYmIHByZXZpb3VzU2VsZWN0aW9uICYmICFzZWxlY3Rpb24uZ2V0KCkubGVuZ3RoKSB7XG4gICAgICByZXN0b3JlU2VsZWN0aW9uKHByZXZpb3VzU2VsZWN0aW9uKTtcbiAgICB9XG5cbiAgICBwcmV2aW91c0NvbnRleHQgPSBjb250ZXh0O1xuXG4gICAgY29udGV4dCA9IG51bGw7XG5cbiAgICByZXR1cm4gcHJldmlvdXNDb250ZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYSBkcmFnIG9wZXJhdGlvbi5cbiAgICpcbiAgICogSWYgYGxvY2FsUG9zaXRpb25gIGlzIGdpdmVuLCBkcmFnIGV2ZW50cyB3aWxsIGJlIGVtaXR0ZWRcbiAgICogcmVsYXRpdmUgdG8gaXQuXG4gICAqXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudHxUb3VjaEV2ZW50fSBbZXZlbnRdXG4gICAqIEBwYXJhbSB7UG9pbnR9IFtyZWxhdGl2ZVRvXSBhY3R1YWwgZGlhZ3JhbSBsb2NhbCBwb3NpdGlvbiB0aGlzIGRyYWcgb3BlcmF0aW9uIHNob3VsZCBzdGFydCBhdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHJlZml4XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICovXG4gIGZ1bmN0aW9uIGluaXQoZXZlbnQsIHJlbGF0aXZlVG8sIHByZWZpeCwgb3B0aW9ucykge1xuXG4gICAgLy8gb25seSBvbmUgZHJhZyBvcGVyYXRpb24gbWF5IGJlIGFjdGl2ZSwgYXQgYSB0aW1lXG4gICAgaWYgKGNvbnRleHQpIHtcbiAgICAgIGNhbmNlbChmYWxzZSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiByZWxhdGl2ZVRvID09PSAnc3RyaW5nJykge1xuICAgICAgb3B0aW9ucyA9IHByZWZpeDtcbiAgICAgIHByZWZpeCA9IHJlbGF0aXZlVG87XG4gICAgICByZWxhdGl2ZVRvID0gbnVsbDtcbiAgICB9XG5cbiAgICBvcHRpb25zID0gYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyB8fCB7fSk7XG5cbiAgICB2YXIgZGF0YSA9IG9wdGlvbnMuZGF0YSB8fCB7fSxcbiAgICAgICAgb3JpZ2luYWxFdmVudCxcbiAgICAgICAgZ2xvYmFsU3RhcnQsXG4gICAgICAgIGxvY2FsU3RhcnQsXG4gICAgICAgIGVuZERyYWcsXG4gICAgICAgIGlzVG91Y2g7XG5cbiAgICBpZiAob3B0aW9ucy50cmFwQ2xpY2spIHtcbiAgICAgIGVuZERyYWcgPSB0cmFwQ2xpY2tBbmRFbmQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVuZERyYWcgPSBlbmQ7XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50KSB7XG4gICAgICBvcmlnaW5hbEV2ZW50ID0gZ2V0T3JpZ2luYWwoZXZlbnQpIHx8IGV2ZW50O1xuICAgICAgZ2xvYmFsU3RhcnQgPSB0b1BvaW50KGV2ZW50KTtcblxuICAgICAgc3RvcFByb3BhZ2F0aW9uKGV2ZW50KTtcblxuICAgICAgLy8gcHJldmVudCBkZWZhdWx0IGJyb3dzZXIgZHJhZ2dpbmcgYmVoYXZpb3JcbiAgICAgIGlmIChvcmlnaW5hbEV2ZW50LnR5cGUgPT09ICdkcmFnc3RhcnQnKSB7XG4gICAgICAgIHByZXZlbnREZWZhdWx0KG9yaWdpbmFsRXZlbnQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBvcmlnaW5hbEV2ZW50ID0gbnVsbDtcbiAgICAgIGdsb2JhbFN0YXJ0ID0geyB4OiAwLCB5OiAwIH07XG4gICAgfVxuXG4gICAgbG9jYWxTdGFydCA9IHRvTG9jYWxQb2ludChnbG9iYWxTdGFydCk7XG5cbiAgICBpZiAoIXJlbGF0aXZlVG8pIHtcbiAgICAgIHJlbGF0aXZlVG8gPSBsb2NhbFN0YXJ0O1xuICAgIH1cblxuICAgIGlzVG91Y2ggPSBpc1RvdWNoRXZlbnQob3JpZ2luYWxFdmVudCk7XG5cbiAgICBjb250ZXh0ID0gYXNzaWduKHtcbiAgICAgIHByZWZpeDogcHJlZml4LFxuICAgICAgZGF0YTogZGF0YSxcbiAgICAgIHBheWxvYWQ6IHt9LFxuICAgICAgZ2xvYmFsU3RhcnQ6IGdsb2JhbFN0YXJ0LFxuICAgICAgZGlzcGxhY2VtZW50OiBkZWx0YVBvcyhyZWxhdGl2ZVRvLCBsb2NhbFN0YXJ0KSxcbiAgICAgIGxvY2FsU3RhcnQ6IGxvY2FsU3RhcnQsXG4gICAgICBpc1RvdWNoOiBpc1RvdWNoXG4gICAgfSwgb3B0aW9ucyk7XG5cbiAgICAvLyBza2lwIGRvbSByZWdpc3RyYXRpb24gaWYgdHJpZ2dlclxuICAgIC8vIGlzIHNldCB0byBtYW51YWwgKGR1cmluZyB0ZXN0aW5nKVxuICAgIGlmICghb3B0aW9ucy5tYW51YWwpIHtcblxuICAgICAgLy8gYWRkIGRvbSBsaXN0ZW5lcnNcblxuICAgICAgaWYgKGlzVG91Y2gpIHtcbiAgICAgICAgZG9tRXZlbnQuYmluZChkb2N1bWVudCwgJ3RvdWNoc3RhcnQnLCB0cmFwVG91Y2gsIHRydWUpO1xuICAgICAgICBkb21FdmVudC5iaW5kKGRvY3VtZW50LCAndG91Y2hjYW5jZWwnLCBjYW5jZWwsIHRydWUpO1xuICAgICAgICBkb21FdmVudC5iaW5kKGRvY3VtZW50LCAndG91Y2htb3ZlJywgbW92ZSwgdHJ1ZSk7XG4gICAgICAgIGRvbUV2ZW50LmJpbmQoZG9jdW1lbnQsICd0b3VjaGVuZCcsIGVuZCwgdHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIC8vIGFzc3VtZSB3ZSB1c2UgdGhlIG1vdXNlIHRvIGludGVyYWN0IHBlciBkZWZhdWx0XG4gICAgICAgIGRvbUV2ZW50LmJpbmQoZG9jdW1lbnQsICdtb3VzZW1vdmUnLCBtb3ZlKTtcblxuICAgICAgICAvLyBwcmV2ZW50IGRlZmF1bHQgYnJvd3NlciBkcmFnIGFuZCB0ZXh0IHNlbGVjdGlvbiBiZWhhdmlvclxuICAgICAgICBkb21FdmVudC5iaW5kKGRvY3VtZW50LCAnZHJhZ3N0YXJ0JywgcHJldmVudERlZmF1bHQpO1xuICAgICAgICBkb21FdmVudC5iaW5kKGRvY3VtZW50LCAnc2VsZWN0c3RhcnQnLCBwcmV2ZW50RGVmYXVsdCk7XG5cbiAgICAgICAgZG9tRXZlbnQuYmluZChkb2N1bWVudCwgJ21vdXNlZG93bicsIGVuZERyYWcsIHRydWUpO1xuICAgICAgICBkb21FdmVudC5iaW5kKGRvY3VtZW50LCAnbW91c2V1cCcsIGVuZERyYWcsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBkb21FdmVudC5iaW5kKGRvY3VtZW50LCAna2V5dXAnLCBjaGVja0NhbmNlbCk7XG5cbiAgICAgIGV2ZW50QnVzLm9uKCdlbGVtZW50LmhvdmVyJywgaG92ZXIpO1xuICAgICAgZXZlbnRCdXMub24oJ2VsZW1lbnQub3V0Jywgb3V0KTtcbiAgICB9XG5cbiAgICBmaXJlKCdpbml0Jyk7XG5cbiAgICBpZiAob3B0aW9ucy5hdXRvQWN0aXZhdGUpIHtcbiAgICAgIG1vdmUoZXZlbnQsIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGNhbmNlbCBvbiBkaWFncmFtIGRlc3RydWN0aW9uXG4gIGV2ZW50QnVzLm9uKCdkaWFncmFtLmRlc3Ryb3knLCBjYW5jZWwpO1xuXG5cbiAgLy8gQVBJXG5cbiAgdGhpcy5pbml0ID0gaW5pdDtcbiAgdGhpcy5tb3ZlID0gbW92ZTtcbiAgdGhpcy5ob3ZlciA9IGhvdmVyO1xuICB0aGlzLm91dCA9IG91dDtcbiAgdGhpcy5lbmQgPSBlbmQ7XG5cbiAgdGhpcy5jYW5jZWwgPSBjYW5jZWw7XG5cbiAgLy8gZm9yIGludHJvc3BlY3Rpb25cblxuICB0aGlzLmNvbnRleHQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gY29udGV4dDtcbiAgfTtcblxuICB0aGlzLnNldE9wdGlvbnMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgYXNzaWduKGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcbiAgfTtcbn1cblxuRHJhZ2dpbmcuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ2NhbnZhcycsXG4gICdzZWxlY3Rpb24nLFxuICAnZWxlbWVudFJlZ2lzdHJ5J1xuXTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/dragging/Dragging.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/dragging/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/dragging/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _hover_fix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../hover-fix */ \"(ssr)/./node_modules/diagram-js/lib/features/hover-fix/index.js\");\n/* harmony import */ var _selection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../selection */ \"(ssr)/./node_modules/diagram-js/lib/features/selection/index.js\");\n/* harmony import */ var _Dragging__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Dragging */ \"(ssr)/./node_modules/diagram-js/lib/features/dragging/Dragging.js\");\n\n\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _hover_fix__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    _selection__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  ],\n  dragging: [ 'type', _Dragging__WEBPACK_IMPORTED_MODULE_2__[\"default\"] ],\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvZHJhZ2dpbmcvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEwQztBQUNDOztBQUVUOzs7QUFHbEM7QUFDQSxXQUFXO0FBQ1g7QUFDQSxpRUFBZTtBQUNmO0FBQ0EsSUFBSSxrREFBYztBQUNsQixJQUFJLGtEQUFlO0FBQ25CO0FBQ0Esc0JBQXNCLGlEQUFRO0FBQzlCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvZHJhZ2dpbmcvaW5kZXguanM/ZDk1MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSG92ZXJGaXhNb2R1bGUgZnJvbSAnLi4vaG92ZXItZml4JztcbmltcG9ydCBTZWxlY3Rpb25Nb2R1bGUgZnJvbSAnLi4vc2VsZWN0aW9uJztcblxuaW1wb3J0IERyYWdnaW5nIGZyb20gJy4vRHJhZ2dpbmcnO1xuXG5cbi8qKlxuICogQHR5cGUgeyBpbXBvcnQoJ2RpZGknKS5Nb2R1bGVEZWNsYXJhdGlvbiB9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBIb3ZlckZpeE1vZHVsZSxcbiAgICBTZWxlY3Rpb25Nb2R1bGUsXG4gIF0sXG4gIGRyYWdnaW5nOiBbICd0eXBlJywgRHJhZ2dpbmcgXSxcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/dragging/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/editor-actions/EditorActions.js":
/*!******************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/editor-actions/EditorActions.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EditorActions)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../../core/EventBus').default} EventBus\n */\n\nvar NOT_REGISTERED_ERROR = 'is not a registered action',\n    IS_REGISTERED_ERROR = 'is already registered';\n\n\n/**\n * An interface that provides access to modeling actions by decoupling\n * the one who requests the action to be triggered and the trigger itself.\n *\n * It's possible to add new actions by registering them with ´registerAction´\n * and likewise unregister existing ones with ´unregisterAction´.\n *\n *\n * ## Life-Cycle and configuration\n *\n * The editor actions will wait for diagram initialization before\n * registering default actions _and_ firing an `editorActions.init` event.\n *\n * Interested parties may listen to the `editorActions.init` event with\n * low priority to check, which actions got registered. Other components\n * may use the event to register their own actions via `registerAction`.\n *\n * @param {EventBus} eventBus\n * @param {Injector} injector\n */\nfunction EditorActions(eventBus, injector) {\n\n  // initialize actions\n  this._actions = {};\n\n  var self = this;\n\n  eventBus.on('diagram.init', function() {\n\n    // all diagram modules got loaded; check which ones\n    // are available and register the respective default actions\n    self._registerDefaultActions(injector);\n\n    // ask interested parties to register available editor\n    // actions on diagram initialization\n    eventBus.fire('editorActions.init', {\n      editorActions: self\n    });\n  });\n\n}\n\nEditorActions.$inject = [\n  'eventBus',\n  'injector'\n];\n\n/**\n * Register default actions.\n *\n * @param {Injector} injector\n */\nEditorActions.prototype._registerDefaultActions = function(injector) {\n\n  // (1) retrieve optional components to integrate with\n\n  var commandStack = injector.get('commandStack', false);\n  var modeling = injector.get('modeling', false);\n  var selection = injector.get('selection', false);\n  var zoomScroll = injector.get('zoomScroll', false);\n  var copyPaste = injector.get('copyPaste', false);\n  var canvas = injector.get('canvas', false);\n  var rules = injector.get('rules', false);\n  var keyboardMove = injector.get('keyboardMove', false);\n  var keyboardMoveSelection = injector.get('keyboardMoveSelection', false);\n\n  // (2) check components and register actions\n\n  if (commandStack) {\n    this.register('undo', function() {\n      commandStack.undo();\n    });\n\n    this.register('redo', function() {\n      commandStack.redo();\n    });\n  }\n\n  if (copyPaste && selection) {\n    this.register('copy', function() {\n      var selectedElements = selection.get();\n\n      if (selectedElements.length) {\n        return copyPaste.copy(selectedElements);\n      }\n    });\n  }\n\n  if (copyPaste) {\n    this.register('paste', function() {\n      copyPaste.paste();\n    });\n  }\n\n  if (zoomScroll) {\n    this.register('stepZoom', function(opts) {\n      zoomScroll.stepZoom(opts.value);\n    });\n  }\n\n  if (canvas) {\n    this.register('zoom', function(opts) {\n      canvas.zoom(opts.value);\n    });\n  }\n\n  if (modeling && selection && rules) {\n    this.register('removeSelection', function() {\n\n      var selectedElements = selection.get();\n\n      if (!selectedElements.length) {\n        return;\n      }\n\n      var allowed = rules.allowed('elements.delete', { elements: selectedElements }),\n          removableElements;\n\n      if (allowed === false) {\n        return;\n      }\n      else if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(allowed)) {\n        removableElements = allowed;\n      }\n      else {\n        removableElements = selectedElements;\n      }\n\n      if (removableElements.length) {\n        modeling.removeElements(removableElements.slice());\n      }\n    });\n  }\n\n  if (keyboardMove) {\n    this.register('moveCanvas', function(opts) {\n      keyboardMove.moveCanvas(opts);\n    });\n  }\n\n  if (keyboardMoveSelection) {\n    this.register('moveSelection', function(opts) {\n      keyboardMoveSelection.moveSelection(opts.direction, opts.accelerated);\n    });\n  }\n\n};\n\n\n/**\n * Triggers a registered action\n *\n * @param {string} action\n * @param {Object} opts\n *\n * @return {unknown} Returns what the registered listener returns\n */\nEditorActions.prototype.trigger = function(action, opts) {\n  if (!this._actions[action]) {\n    throw error(action, NOT_REGISTERED_ERROR);\n  }\n\n  return this._actions[action](opts);\n};\n\n\n/**\n * Registers a collections of actions.\n * The key of the object will be the name of the action.\n *\n * @example\n *\n * ```javascript\n * var actions = {\n *   spaceTool: function() {\n *     spaceTool.activateSelection();\n *   },\n *   lassoTool: function() {\n *     lassoTool.activateSelection();\n *   }\n * ];\n *\n * editorActions.register(actions);\n *\n * editorActions.isRegistered('spaceTool'); // true\n * ```\n *\n * @param {Object} actions\n */\nEditorActions.prototype.register = function(actions, listener) {\n  var self = this;\n\n  if (typeof actions === 'string') {\n    return this._registerAction(actions, listener);\n  }\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(actions, function(listener, action) {\n    self._registerAction(action, listener);\n  });\n};\n\n/**\n * Registers a listener to an action key\n *\n * @param {string} action\n * @param {Function} listener\n */\nEditorActions.prototype._registerAction = function(action, listener) {\n  if (this.isRegistered(action)) {\n    throw error(action, IS_REGISTERED_ERROR);\n  }\n\n  this._actions[action] = listener;\n};\n\n/**\n * Unregister an existing action\n *\n * @param {string} action\n */\nEditorActions.prototype.unregister = function(action) {\n  if (!this.isRegistered(action)) {\n    throw error(action, NOT_REGISTERED_ERROR);\n  }\n\n  this._actions[action] = undefined;\n};\n\n/**\n * Returns the identifiers of all currently registered editor actions\n *\n * @return {string[]}\n */\nEditorActions.prototype.getActions = function() {\n  return Object.keys(this._actions);\n};\n\n/**\n * Checks wether the given action is registered\n *\n * @param {string} action\n *\n * @return {boolean}\n */\nEditorActions.prototype.isRegistered = function(action) {\n  return !!this._actions[action];\n};\n\n\nfunction error(action, message) {\n  return new Error(action + ' ' + message);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvZWRpdG9yLWFjdGlvbnMvRWRpdG9yQWN0aW9ucy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUdrQjs7QUFFbEI7QUFDQSxhQUFhLHlCQUF5QjtBQUN0QztBQUNBLGFBQWEsdUNBQXVDO0FBQ3BEOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxVQUFVO0FBQ3JCO0FBQ2U7O0FBRWY7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSx1Q0FBdUM7QUFDdkM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSx1REFBdUQsNEJBQTRCO0FBQ25GOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsaURBQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFLGlEQUFPO0FBQ1Q7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvZWRpdG9yLWFjdGlvbnMvRWRpdG9yQWN0aW9ucy5qcz9kYzE1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGZvckVhY2gsXG4gIGlzQXJyYXlcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpZGknKS5JbmplY3Rvcn0gSW5qZWN0b3JcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcbiAqL1xuXG52YXIgTk9UX1JFR0lTVEVSRURfRVJST1IgPSAnaXMgbm90IGEgcmVnaXN0ZXJlZCBhY3Rpb24nLFxuICAgIElTX1JFR0lTVEVSRURfRVJST1IgPSAnaXMgYWxyZWFkeSByZWdpc3RlcmVkJztcblxuXG4vKipcbiAqIEFuIGludGVyZmFjZSB0aGF0IHByb3ZpZGVzIGFjY2VzcyB0byBtb2RlbGluZyBhY3Rpb25zIGJ5IGRlY291cGxpbmdcbiAqIHRoZSBvbmUgd2hvIHJlcXVlc3RzIHRoZSBhY3Rpb24gdG8gYmUgdHJpZ2dlcmVkIGFuZCB0aGUgdHJpZ2dlciBpdHNlbGYuXG4gKlxuICogSXQncyBwb3NzaWJsZSB0byBhZGQgbmV3IGFjdGlvbnMgYnkgcmVnaXN0ZXJpbmcgdGhlbSB3aXRoIMK0cmVnaXN0ZXJBY3Rpb27CtFxuICogYW5kIGxpa2V3aXNlIHVucmVnaXN0ZXIgZXhpc3Rpbmcgb25lcyB3aXRoIMK0dW5yZWdpc3RlckFjdGlvbsK0LlxuICpcbiAqXG4gKiAjIyBMaWZlLUN5Y2xlIGFuZCBjb25maWd1cmF0aW9uXG4gKlxuICogVGhlIGVkaXRvciBhY3Rpb25zIHdpbGwgd2FpdCBmb3IgZGlhZ3JhbSBpbml0aWFsaXphdGlvbiBiZWZvcmVcbiAqIHJlZ2lzdGVyaW5nIGRlZmF1bHQgYWN0aW9ucyBfYW5kXyBmaXJpbmcgYW4gYGVkaXRvckFjdGlvbnMuaW5pdGAgZXZlbnQuXG4gKlxuICogSW50ZXJlc3RlZCBwYXJ0aWVzIG1heSBsaXN0ZW4gdG8gdGhlIGBlZGl0b3JBY3Rpb25zLmluaXRgIGV2ZW50IHdpdGhcbiAqIGxvdyBwcmlvcml0eSB0byBjaGVjaywgd2hpY2ggYWN0aW9ucyBnb3QgcmVnaXN0ZXJlZC4gT3RoZXIgY29tcG9uZW50c1xuICogbWF5IHVzZSB0aGUgZXZlbnQgdG8gcmVnaXN0ZXIgdGhlaXIgb3duIGFjdGlvbnMgdmlhIGByZWdpc3RlckFjdGlvbmAuXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7SW5qZWN0b3J9IGluamVjdG9yXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEVkaXRvckFjdGlvbnMoZXZlbnRCdXMsIGluamVjdG9yKSB7XG5cbiAgLy8gaW5pdGlhbGl6ZSBhY3Rpb25zXG4gIHRoaXMuX2FjdGlvbnMgPSB7fTtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgZXZlbnRCdXMub24oJ2RpYWdyYW0uaW5pdCcsIGZ1bmN0aW9uKCkge1xuXG4gICAgLy8gYWxsIGRpYWdyYW0gbW9kdWxlcyBnb3QgbG9hZGVkOyBjaGVjayB3aGljaCBvbmVzXG4gICAgLy8gYXJlIGF2YWlsYWJsZSBhbmQgcmVnaXN0ZXIgdGhlIHJlc3BlY3RpdmUgZGVmYXVsdCBhY3Rpb25zXG4gICAgc2VsZi5fcmVnaXN0ZXJEZWZhdWx0QWN0aW9ucyhpbmplY3Rvcik7XG5cbiAgICAvLyBhc2sgaW50ZXJlc3RlZCBwYXJ0aWVzIHRvIHJlZ2lzdGVyIGF2YWlsYWJsZSBlZGl0b3JcbiAgICAvLyBhY3Rpb25zIG9uIGRpYWdyYW0gaW5pdGlhbGl6YXRpb25cbiAgICBldmVudEJ1cy5maXJlKCdlZGl0b3JBY3Rpb25zLmluaXQnLCB7XG4gICAgICBlZGl0b3JBY3Rpb25zOiBzZWxmXG4gICAgfSk7XG4gIH0pO1xuXG59XG5cbkVkaXRvckFjdGlvbnMuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ2luamVjdG9yJ1xuXTtcblxuLyoqXG4gKiBSZWdpc3RlciBkZWZhdWx0IGFjdGlvbnMuXG4gKlxuICogQHBhcmFtIHtJbmplY3Rvcn0gaW5qZWN0b3JcbiAqL1xuRWRpdG9yQWN0aW9ucy5wcm90b3R5cGUuX3JlZ2lzdGVyRGVmYXVsdEFjdGlvbnMgPSBmdW5jdGlvbihpbmplY3Rvcikge1xuXG4gIC8vICgxKSByZXRyaWV2ZSBvcHRpb25hbCBjb21wb25lbnRzIHRvIGludGVncmF0ZSB3aXRoXG5cbiAgdmFyIGNvbW1hbmRTdGFjayA9IGluamVjdG9yLmdldCgnY29tbWFuZFN0YWNrJywgZmFsc2UpO1xuICB2YXIgbW9kZWxpbmcgPSBpbmplY3Rvci5nZXQoJ21vZGVsaW5nJywgZmFsc2UpO1xuICB2YXIgc2VsZWN0aW9uID0gaW5qZWN0b3IuZ2V0KCdzZWxlY3Rpb24nLCBmYWxzZSk7XG4gIHZhciB6b29tU2Nyb2xsID0gaW5qZWN0b3IuZ2V0KCd6b29tU2Nyb2xsJywgZmFsc2UpO1xuICB2YXIgY29weVBhc3RlID0gaW5qZWN0b3IuZ2V0KCdjb3B5UGFzdGUnLCBmYWxzZSk7XG4gIHZhciBjYW52YXMgPSBpbmplY3Rvci5nZXQoJ2NhbnZhcycsIGZhbHNlKTtcbiAgdmFyIHJ1bGVzID0gaW5qZWN0b3IuZ2V0KCdydWxlcycsIGZhbHNlKTtcbiAgdmFyIGtleWJvYXJkTW92ZSA9IGluamVjdG9yLmdldCgna2V5Ym9hcmRNb3ZlJywgZmFsc2UpO1xuICB2YXIga2V5Ym9hcmRNb3ZlU2VsZWN0aW9uID0gaW5qZWN0b3IuZ2V0KCdrZXlib2FyZE1vdmVTZWxlY3Rpb24nLCBmYWxzZSk7XG5cbiAgLy8gKDIpIGNoZWNrIGNvbXBvbmVudHMgYW5kIHJlZ2lzdGVyIGFjdGlvbnNcblxuICBpZiAoY29tbWFuZFN0YWNrKSB7XG4gICAgdGhpcy5yZWdpc3RlcigndW5kbycsIGZ1bmN0aW9uKCkge1xuICAgICAgY29tbWFuZFN0YWNrLnVuZG8oKTtcbiAgICB9KTtcblxuICAgIHRoaXMucmVnaXN0ZXIoJ3JlZG8nLCBmdW5jdGlvbigpIHtcbiAgICAgIGNvbW1hbmRTdGFjay5yZWRvKCk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoY29weVBhc3RlICYmIHNlbGVjdGlvbikge1xuICAgIHRoaXMucmVnaXN0ZXIoJ2NvcHknLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxlY3RlZEVsZW1lbnRzID0gc2VsZWN0aW9uLmdldCgpO1xuXG4gICAgICBpZiAoc2VsZWN0ZWRFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGNvcHlQYXN0ZS5jb3B5KHNlbGVjdGVkRWxlbWVudHMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaWYgKGNvcHlQYXN0ZSkge1xuICAgIHRoaXMucmVnaXN0ZXIoJ3Bhc3RlJywgZnVuY3Rpb24oKSB7XG4gICAgICBjb3B5UGFzdGUucGFzdGUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmICh6b29tU2Nyb2xsKSB7XG4gICAgdGhpcy5yZWdpc3Rlcignc3RlcFpvb20nLCBmdW5jdGlvbihvcHRzKSB7XG4gICAgICB6b29tU2Nyb2xsLnN0ZXBab29tKG9wdHMudmFsdWUpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGNhbnZhcykge1xuICAgIHRoaXMucmVnaXN0ZXIoJ3pvb20nLCBmdW5jdGlvbihvcHRzKSB7XG4gICAgICBjYW52YXMuem9vbShvcHRzLnZhbHVlKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChtb2RlbGluZyAmJiBzZWxlY3Rpb24gJiYgcnVsZXMpIHtcbiAgICB0aGlzLnJlZ2lzdGVyKCdyZW1vdmVTZWxlY3Rpb24nLCBmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIHNlbGVjdGVkRWxlbWVudHMgPSBzZWxlY3Rpb24uZ2V0KCk7XG5cbiAgICAgIGlmICghc2VsZWN0ZWRFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgYWxsb3dlZCA9IHJ1bGVzLmFsbG93ZWQoJ2VsZW1lbnRzLmRlbGV0ZScsIHsgZWxlbWVudHM6IHNlbGVjdGVkRWxlbWVudHMgfSksXG4gICAgICAgICAgcmVtb3ZhYmxlRWxlbWVudHM7XG5cbiAgICAgIGlmIChhbGxvd2VkID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChpc0FycmF5KGFsbG93ZWQpKSB7XG4gICAgICAgIHJlbW92YWJsZUVsZW1lbnRzID0gYWxsb3dlZDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZW1vdmFibGVFbGVtZW50cyA9IHNlbGVjdGVkRWxlbWVudHM7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZW1vdmFibGVFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgbW9kZWxpbmcucmVtb3ZlRWxlbWVudHMocmVtb3ZhYmxlRWxlbWVudHMuc2xpY2UoKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBpZiAoa2V5Ym9hcmRNb3ZlKSB7XG4gICAgdGhpcy5yZWdpc3RlcignbW92ZUNhbnZhcycsIGZ1bmN0aW9uKG9wdHMpIHtcbiAgICAgIGtleWJvYXJkTW92ZS5tb3ZlQ2FudmFzKG9wdHMpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGtleWJvYXJkTW92ZVNlbGVjdGlvbikge1xuICAgIHRoaXMucmVnaXN0ZXIoJ21vdmVTZWxlY3Rpb24nLCBmdW5jdGlvbihvcHRzKSB7XG4gICAgICBrZXlib2FyZE1vdmVTZWxlY3Rpb24ubW92ZVNlbGVjdGlvbihvcHRzLmRpcmVjdGlvbiwgb3B0cy5hY2NlbGVyYXRlZCk7XG4gICAgfSk7XG4gIH1cblxufTtcblxuXG4vKipcbiAqIFRyaWdnZXJzIGEgcmVnaXN0ZXJlZCBhY3Rpb25cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYWN0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0c1xuICpcbiAqIEByZXR1cm4ge3Vua25vd259IFJldHVybnMgd2hhdCB0aGUgcmVnaXN0ZXJlZCBsaXN0ZW5lciByZXR1cm5zXG4gKi9cbkVkaXRvckFjdGlvbnMucHJvdG90eXBlLnRyaWdnZXIgPSBmdW5jdGlvbihhY3Rpb24sIG9wdHMpIHtcbiAgaWYgKCF0aGlzLl9hY3Rpb25zW2FjdGlvbl0pIHtcbiAgICB0aHJvdyBlcnJvcihhY3Rpb24sIE5PVF9SRUdJU1RFUkVEX0VSUk9SKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLl9hY3Rpb25zW2FjdGlvbl0ob3B0cyk7XG59O1xuXG5cbi8qKlxuICogUmVnaXN0ZXJzIGEgY29sbGVjdGlvbnMgb2YgYWN0aW9ucy5cbiAqIFRoZSBrZXkgb2YgdGhlIG9iamVjdCB3aWxsIGJlIHRoZSBuYW1lIG9mIHRoZSBhY3Rpb24uXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiB2YXIgYWN0aW9ucyA9IHtcbiAqICAgc3BhY2VUb29sOiBmdW5jdGlvbigpIHtcbiAqICAgICBzcGFjZVRvb2wuYWN0aXZhdGVTZWxlY3Rpb24oKTtcbiAqICAgfSxcbiAqICAgbGFzc29Ub29sOiBmdW5jdGlvbigpIHtcbiAqICAgICBsYXNzb1Rvb2wuYWN0aXZhdGVTZWxlY3Rpb24oKTtcbiAqICAgfVxuICogXTtcbiAqXG4gKiBlZGl0b3JBY3Rpb25zLnJlZ2lzdGVyKGFjdGlvbnMpO1xuICpcbiAqIGVkaXRvckFjdGlvbnMuaXNSZWdpc3RlcmVkKCdzcGFjZVRvb2wnKTsgLy8gdHJ1ZVxuICogYGBgXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGFjdGlvbnNcbiAqL1xuRWRpdG9yQWN0aW9ucy5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbihhY3Rpb25zLCBsaXN0ZW5lcikge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgaWYgKHR5cGVvZiBhY3Rpb25zID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB0aGlzLl9yZWdpc3RlckFjdGlvbihhY3Rpb25zLCBsaXN0ZW5lcik7XG4gIH1cblxuICBmb3JFYWNoKGFjdGlvbnMsIGZ1bmN0aW9uKGxpc3RlbmVyLCBhY3Rpb24pIHtcbiAgICBzZWxmLl9yZWdpc3RlckFjdGlvbihhY3Rpb24sIGxpc3RlbmVyKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIFJlZ2lzdGVycyBhIGxpc3RlbmVyIHRvIGFuIGFjdGlvbiBrZXlcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYWN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lclxuICovXG5FZGl0b3JBY3Rpb25zLnByb3RvdHlwZS5fcmVnaXN0ZXJBY3Rpb24gPSBmdW5jdGlvbihhY3Rpb24sIGxpc3RlbmVyKSB7XG4gIGlmICh0aGlzLmlzUmVnaXN0ZXJlZChhY3Rpb24pKSB7XG4gICAgdGhyb3cgZXJyb3IoYWN0aW9uLCBJU19SRUdJU1RFUkVEX0VSUk9SKTtcbiAgfVxuXG4gIHRoaXMuX2FjdGlvbnNbYWN0aW9uXSA9IGxpc3RlbmVyO1xufTtcblxuLyoqXG4gKiBVbnJlZ2lzdGVyIGFuIGV4aXN0aW5nIGFjdGlvblxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb25cbiAqL1xuRWRpdG9yQWN0aW9ucy5wcm90b3R5cGUudW5yZWdpc3RlciA9IGZ1bmN0aW9uKGFjdGlvbikge1xuICBpZiAoIXRoaXMuaXNSZWdpc3RlcmVkKGFjdGlvbikpIHtcbiAgICB0aHJvdyBlcnJvcihhY3Rpb24sIE5PVF9SRUdJU1RFUkVEX0VSUk9SKTtcbiAgfVxuXG4gIHRoaXMuX2FjdGlvbnNbYWN0aW9uXSA9IHVuZGVmaW5lZDtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgaWRlbnRpZmllcnMgb2YgYWxsIGN1cnJlbnRseSByZWdpc3RlcmVkIGVkaXRvciBhY3Rpb25zXG4gKlxuICogQHJldHVybiB7c3RyaW5nW119XG4gKi9cbkVkaXRvckFjdGlvbnMucHJvdG90eXBlLmdldEFjdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX2FjdGlvbnMpO1xufTtcblxuLyoqXG4gKiBDaGVja3Mgd2V0aGVyIHRoZSBnaXZlbiBhY3Rpb24gaXMgcmVnaXN0ZXJlZFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb25cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5FZGl0b3JBY3Rpb25zLnByb3RvdHlwZS5pc1JlZ2lzdGVyZWQgPSBmdW5jdGlvbihhY3Rpb24pIHtcbiAgcmV0dXJuICEhdGhpcy5fYWN0aW9uc1thY3Rpb25dO1xufTtcblxuXG5mdW5jdGlvbiBlcnJvcihhY3Rpb24sIG1lc3NhZ2UpIHtcbiAgcmV0dXJuIG5ldyBFcnJvcihhY3Rpb24gKyAnICcgKyBtZXNzYWdlKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/editor-actions/EditorActions.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/editor-actions/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/editor-actions/index.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _EditorActions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditorActions */ \"(ssr)/./node_modules/diagram-js/lib/features/editor-actions/EditorActions.js\");\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [ 'editorActions' ],\n  editorActions: [ 'type', _EditorActions__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvZWRpdG9yLWFjdGlvbnMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNEM7OztBQUc1QztBQUNBLFdBQVc7QUFDWDtBQUNBLGlFQUFlO0FBQ2Y7QUFDQSwyQkFBMkIsc0RBQWE7QUFDeEMsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2VkaXRvci1hY3Rpb25zL2luZGV4LmpzPzZmMTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEVkaXRvckFjdGlvbnMgZnJvbSAnLi9FZGl0b3JBY3Rpb25zJztcblxuXG4vKipcbiAqIEB0eXBlIHsgaW1wb3J0KCdkaWRpJykuTW9kdWxlRGVjbGFyYXRpb24gfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICdlZGl0b3JBY3Rpb25zJyBdLFxuICBlZGl0b3JBY3Rpb25zOiBbICd0eXBlJywgRWRpdG9yQWN0aW9ucyBdXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/editor-actions/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js":
/*!******************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ GlobalConnect)\n/* harmony export */ });\nvar MARKER_OK = 'connect-ok',\n    MARKER_NOT_OK = 'connect-not-ok';\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../connect/Connect').default} Connect\n * @typedef {import('../dragging/Dragging').default} Dragging\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../mouse/Mouse').default} Mouse\n * @typedef {import('../rules/Rules').default} Rules\n * @typedef {import('../tool-manager/ToolManager').default} ToolManager\n *\n * @typedef {import('../../model/Types').Element} Element\n */\n\n/**\n * @class\n * @constructor\n *\n * @param {EventBus} eventBus\n * @param {Dragging} dragging\n * @param {Connect} connect\n * @param {Canvas} canvas\n * @param {ToolManager} toolManager\n * @param {Rules} rules\n * @param {Mouse} mouse\n */\nfunction GlobalConnect(\n    eventBus, dragging, connect,\n    canvas, toolManager, rules,\n    mouse) {\n\n  var self = this;\n\n  this._dragging = dragging;\n  this._rules = rules;\n  this._mouse = mouse;\n\n  toolManager.registerTool('global-connect', {\n    tool: 'global-connect',\n    dragging: 'global-connect.drag'\n  });\n\n  eventBus.on('global-connect.hover', function(event) {\n    var context = event.context,\n        startTarget = event.hover;\n\n    var canStartConnect = context.canStartConnect = self.canStartConnect(startTarget);\n\n    // simply ignore hover\n    if (canStartConnect === null) {\n      return;\n    }\n\n    context.startTarget = startTarget;\n\n    canvas.addMarker(startTarget, canStartConnect ? MARKER_OK : MARKER_NOT_OK);\n  });\n\n\n  eventBus.on([ 'global-connect.out', 'global-connect.cleanup' ], function(event) {\n    var startTarget = event.context.startTarget,\n        canStartConnect = event.context.canStartConnect;\n\n    if (startTarget) {\n      canvas.removeMarker(startTarget, canStartConnect ? MARKER_OK : MARKER_NOT_OK);\n    }\n  });\n\n\n  eventBus.on([ 'global-connect.ended' ], function(event) {\n    var context = event.context,\n        startTarget = context.startTarget,\n        startPosition = {\n          x: event.x,\n          y: event.y\n        };\n\n    var canStartConnect = self.canStartConnect(startTarget);\n\n    if (!canStartConnect) {\n      return;\n    }\n\n    eventBus.once('element.out', function() {\n      eventBus.once([ 'connect.ended', 'connect.canceled' ], function() {\n        eventBus.fire('global-connect.drag.ended');\n      });\n\n      connect.start(null, startTarget, startPosition);\n    });\n\n    return false;\n  });\n}\n\nGlobalConnect.$inject = [\n  'eventBus',\n  'dragging',\n  'connect',\n  'canvas',\n  'toolManager',\n  'rules',\n  'mouse'\n];\n\n/**\n * Initiates tool activity.\n */\nGlobalConnect.prototype.start = function(event, autoActivate) {\n  this._dragging.init(event, 'global-connect', {\n    autoActivate: autoActivate,\n    trapClick: false,\n    data: {\n      context: {}\n    }\n  });\n};\n\nGlobalConnect.prototype.toggle = function() {\n\n  if (this.isActive()) {\n    return this._dragging.cancel();\n  }\n\n  var mouseEvent = this._mouse.getLastMoveEvent();\n\n  return this.start(mouseEvent, !!mouseEvent);\n};\n\nGlobalConnect.prototype.isActive = function() {\n  var context = this._dragging.context();\n\n  return context && /^global-connect/.test(context.prefix);\n};\n\n/**\n * Check if source element can initiate connection.\n *\n * @param {Element} startTarget\n * @return {boolean}\n */\nGlobalConnect.prototype.canStartConnect = function(startTarget) {\n  return this._rules.allowed('connection.start', { source: startTarget });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvZ2xvYmFsLWNvbm5lY3QvR2xvYmFsQ29ubmVjdC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTs7QUFFQTtBQUNBLGFBQWEscUNBQXFDO0FBQ2xELGFBQWEsc0NBQXNDO0FBQ25ELGFBQWEsd0NBQXdDO0FBQ3JELGFBQWEsdUNBQXVDO0FBQ3BELGFBQWEsa0NBQWtDO0FBQy9DLGFBQWEsa0NBQWtDO0FBQy9DLGFBQWEsK0NBQStDO0FBQzVEO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsU0FBUztBQUNwQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxhQUFhO0FBQ3hCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEI7QUFDZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQSxLQUFLOztBQUVMO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFlBQVk7QUFDWjtBQUNBO0FBQ0EsbURBQW1ELHFCQUFxQjtBQUN4RSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9nbG9iYWwtY29ubmVjdC9HbG9iYWxDb25uZWN0LmpzP2NiNGMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIE1BUktFUl9PSyA9ICdjb25uZWN0LW9rJyxcbiAgICBNQVJLRVJfTk9UX09LID0gJ2Nvbm5lY3Qtbm90LW9rJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0NhbnZhcycpLmRlZmF1bHR9IENhbnZhc1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vY29ubmVjdC9Db25uZWN0JykuZGVmYXVsdH0gQ29ubmVjdFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vZHJhZ2dpbmcvRHJhZ2dpbmcnKS5kZWZhdWx0fSBEcmFnZ2luZ1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9tb3VzZS9Nb3VzZScpLmRlZmF1bHR9IE1vdXNlXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9ydWxlcy9SdWxlcycpLmRlZmF1bHR9IFJ1bGVzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi90b29sLW1hbmFnZXIvVG9vbE1hbmFnZXInKS5kZWZhdWx0fSBUb29sTWFuYWdlclxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL21vZGVsL1R5cGVzJykuRWxlbWVudH0gRWxlbWVudFxuICovXG5cbi8qKlxuICogQGNsYXNzXG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtEcmFnZ2luZ30gZHJhZ2dpbmdcbiAqIEBwYXJhbSB7Q29ubmVjdH0gY29ubmVjdFxuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICogQHBhcmFtIHtUb29sTWFuYWdlcn0gdG9vbE1hbmFnZXJcbiAqIEBwYXJhbSB7UnVsZXN9IHJ1bGVzXG4gKiBAcGFyYW0ge01vdXNlfSBtb3VzZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBHbG9iYWxDb25uZWN0KFxuICAgIGV2ZW50QnVzLCBkcmFnZ2luZywgY29ubmVjdCxcbiAgICBjYW52YXMsIHRvb2xNYW5hZ2VyLCBydWxlcyxcbiAgICBtb3VzZSkge1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICB0aGlzLl9kcmFnZ2luZyA9IGRyYWdnaW5nO1xuICB0aGlzLl9ydWxlcyA9IHJ1bGVzO1xuICB0aGlzLl9tb3VzZSA9IG1vdXNlO1xuXG4gIHRvb2xNYW5hZ2VyLnJlZ2lzdGVyVG9vbCgnZ2xvYmFsLWNvbm5lY3QnLCB7XG4gICAgdG9vbDogJ2dsb2JhbC1jb25uZWN0JyxcbiAgICBkcmFnZ2luZzogJ2dsb2JhbC1jb25uZWN0LmRyYWcnXG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdnbG9iYWwtY29ubmVjdC5ob3ZlcicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBzdGFydFRhcmdldCA9IGV2ZW50LmhvdmVyO1xuXG4gICAgdmFyIGNhblN0YXJ0Q29ubmVjdCA9IGNvbnRleHQuY2FuU3RhcnRDb25uZWN0ID0gc2VsZi5jYW5TdGFydENvbm5lY3Qoc3RhcnRUYXJnZXQpO1xuXG4gICAgLy8gc2ltcGx5IGlnbm9yZSBob3ZlclxuICAgIGlmIChjYW5TdGFydENvbm5lY3QgPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb250ZXh0LnN0YXJ0VGFyZ2V0ID0gc3RhcnRUYXJnZXQ7XG5cbiAgICBjYW52YXMuYWRkTWFya2VyKHN0YXJ0VGFyZ2V0LCBjYW5TdGFydENvbm5lY3QgPyBNQVJLRVJfT0sgOiBNQVJLRVJfTk9UX09LKTtcbiAgfSk7XG5cblxuICBldmVudEJ1cy5vbihbICdnbG9iYWwtY29ubmVjdC5vdXQnLCAnZ2xvYmFsLWNvbm5lY3QuY2xlYW51cCcgXSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgc3RhcnRUYXJnZXQgPSBldmVudC5jb250ZXh0LnN0YXJ0VGFyZ2V0LFxuICAgICAgICBjYW5TdGFydENvbm5lY3QgPSBldmVudC5jb250ZXh0LmNhblN0YXJ0Q29ubmVjdDtcblxuICAgIGlmIChzdGFydFRhcmdldCkge1xuICAgICAgY2FudmFzLnJlbW92ZU1hcmtlcihzdGFydFRhcmdldCwgY2FuU3RhcnRDb25uZWN0ID8gTUFSS0VSX09LIDogTUFSS0VSX05PVF9PSyk7XG4gICAgfVxuICB9KTtcblxuXG4gIGV2ZW50QnVzLm9uKFsgJ2dsb2JhbC1jb25uZWN0LmVuZGVkJyBdLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgc3RhcnRUYXJnZXQgPSBjb250ZXh0LnN0YXJ0VGFyZ2V0LFxuICAgICAgICBzdGFydFBvc2l0aW9uID0ge1xuICAgICAgICAgIHg6IGV2ZW50LngsXG4gICAgICAgICAgeTogZXZlbnQueVxuICAgICAgICB9O1xuXG4gICAgdmFyIGNhblN0YXJ0Q29ubmVjdCA9IHNlbGYuY2FuU3RhcnRDb25uZWN0KHN0YXJ0VGFyZ2V0KTtcblxuICAgIGlmICghY2FuU3RhcnRDb25uZWN0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZXZlbnRCdXMub25jZSgnZWxlbWVudC5vdXQnLCBmdW5jdGlvbigpIHtcbiAgICAgIGV2ZW50QnVzLm9uY2UoWyAnY29ubmVjdC5lbmRlZCcsICdjb25uZWN0LmNhbmNlbGVkJyBdLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXZlbnRCdXMuZmlyZSgnZ2xvYmFsLWNvbm5lY3QuZHJhZy5lbmRlZCcpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbm5lY3Quc3RhcnQobnVsbCwgc3RhcnRUYXJnZXQsIHN0YXJ0UG9zaXRpb24pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbn1cblxuR2xvYmFsQ29ubmVjdC4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnZHJhZ2dpbmcnLFxuICAnY29ubmVjdCcsXG4gICdjYW52YXMnLFxuICAndG9vbE1hbmFnZXInLFxuICAncnVsZXMnLFxuICAnbW91c2UnXG5dO1xuXG4vKipcbiAqIEluaXRpYXRlcyB0b29sIGFjdGl2aXR5LlxuICovXG5HbG9iYWxDb25uZWN0LnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uKGV2ZW50LCBhdXRvQWN0aXZhdGUpIHtcbiAgdGhpcy5fZHJhZ2dpbmcuaW5pdChldmVudCwgJ2dsb2JhbC1jb25uZWN0Jywge1xuICAgIGF1dG9BY3RpdmF0ZTogYXV0b0FjdGl2YXRlLFxuICAgIHRyYXBDbGljazogZmFsc2UsXG4gICAgZGF0YToge1xuICAgICAgY29udGV4dDoge31cbiAgICB9XG4gIH0pO1xufTtcblxuR2xvYmFsQ29ubmVjdC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24oKSB7XG5cbiAgaWYgKHRoaXMuaXNBY3RpdmUoKSkge1xuICAgIHJldHVybiB0aGlzLl9kcmFnZ2luZy5jYW5jZWwoKTtcbiAgfVxuXG4gIHZhciBtb3VzZUV2ZW50ID0gdGhpcy5fbW91c2UuZ2V0TGFzdE1vdmVFdmVudCgpO1xuXG4gIHJldHVybiB0aGlzLnN0YXJ0KG1vdXNlRXZlbnQsICEhbW91c2VFdmVudCk7XG59O1xuXG5HbG9iYWxDb25uZWN0LnByb3RvdHlwZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY29udGV4dCA9IHRoaXMuX2RyYWdnaW5nLmNvbnRleHQoKTtcblxuICByZXR1cm4gY29udGV4dCAmJiAvXmdsb2JhbC1jb25uZWN0Ly50ZXN0KGNvbnRleHQucHJlZml4KTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgc291cmNlIGVsZW1lbnQgY2FuIGluaXRpYXRlIGNvbm5lY3Rpb24uXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBzdGFydFRhcmdldFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuR2xvYmFsQ29ubmVjdC5wcm90b3R5cGUuY2FuU3RhcnRDb25uZWN0ID0gZnVuY3Rpb24oc3RhcnRUYXJnZXQpIHtcbiAgcmV0dXJuIHRoaXMuX3J1bGVzLmFsbG93ZWQoJ2Nvbm5lY3Rpb24uc3RhcnQnLCB7IHNvdXJjZTogc3RhcnRUYXJnZXQgfSk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/global-connect/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/global-connect/index.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _connect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../connect */ \"(ssr)/./node_modules/diagram-js/lib/features/connect/index.js\");\n/* harmony import */ var _rules__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../rules */ \"(ssr)/./node_modules/diagram-js/lib/features/rules/index.js\");\n/* harmony import */ var _dragging__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../dragging */ \"(ssr)/./node_modules/diagram-js/lib/features/dragging/index.js\");\n/* harmony import */ var _tool_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tool-manager */ \"(ssr)/./node_modules/diagram-js/lib/features/tool-manager/index.js\");\n/* harmony import */ var _mouse__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../mouse */ \"(ssr)/./node_modules/diagram-js/lib/features/mouse/index.js\");\n/* harmony import */ var _GlobalConnect__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./GlobalConnect */ \"(ssr)/./node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js\");\n\n\n\n\n\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _connect__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    _rules__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    _dragging__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    _tool_manager__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n    _mouse__WEBPACK_IMPORTED_MODULE_4__[\"default\"]\n  ],\n  globalConnect: [ 'type', _GlobalConnect__WEBPACK_IMPORTED_MODULE_5__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvZ2xvYmFsLWNvbm5lY3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUF1QztBQUNKO0FBQ007QUFDTztBQUNiOztBQUVTOzs7QUFHNUM7QUFDQSxXQUFXO0FBQ1g7QUFDQSxpRUFBZTtBQUNmO0FBQ0EsSUFBSSxnREFBYTtBQUNqQixJQUFJLDhDQUFXO0FBQ2YsSUFBSSxpREFBYztBQUNsQixJQUFJLHFEQUFpQjtBQUNyQixJQUFJLDhDQUFXO0FBQ2Y7QUFDQSwyQkFBMkIsc0RBQWE7QUFDeEMsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2dsb2JhbC1jb25uZWN0L2luZGV4LmpzPzZmNGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvbm5lY3RNb2R1bGUgZnJvbSAnLi4vY29ubmVjdCc7XG5pbXBvcnQgUnVsZXNNb2R1bGUgZnJvbSAnLi4vcnVsZXMnO1xuaW1wb3J0IERyYWdnaW5nTW9kdWxlIGZyb20gJy4uL2RyYWdnaW5nJztcbmltcG9ydCBUb29sTWFuYWdlck1vZHVsZSBmcm9tICcuLi90b29sLW1hbmFnZXInO1xuaW1wb3J0IE1vdXNlTW9kdWxlIGZyb20gJy4uL21vdXNlJztcblxuaW1wb3J0IEdsb2JhbENvbm5lY3QgZnJvbSAnLi9HbG9iYWxDb25uZWN0JztcblxuXG4vKipcbiAqIEB0eXBlIHsgaW1wb3J0KCdkaWRpJykuTW9kdWxlRGVjbGFyYXRpb24gfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgQ29ubmVjdE1vZHVsZSxcbiAgICBSdWxlc01vZHVsZSxcbiAgICBEcmFnZ2luZ01vZHVsZSxcbiAgICBUb29sTWFuYWdlck1vZHVsZSxcbiAgICBNb3VzZU1vZHVsZVxuICBdLFxuICBnbG9iYWxDb25uZWN0OiBbICd0eXBlJywgR2xvYmFsQ29ubmVjdCBdXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/global-connect/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/grid-snapping/GridSnapping.js":
/*!****************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/grid-snapping/GridSnapping.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ GridSnapping)\n/* harmony export */ });\n/* harmony import */ var _snapping_SnapUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../snapping/SnapUtil */ \"(ssr)/./node_modules/diagram-js/lib/features/snapping/SnapUtil.js\");\n/* harmony import */ var _keyboard_KeyboardUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../keyboard/KeyboardUtil */ \"(ssr)/./node_modules/diagram-js/lib/features/keyboard/KeyboardUtil.js\");\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _GridUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GridUtil */ \"(ssr)/./node_modules/diagram-js/lib/features/grid-snapping/GridUtil.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\r\n * @typedef {import('../../core/EventBus').default} EventBus\r\n */\r\n\r\nvar LOWER_PRIORITY = 1200;\r\nvar LOW_PRIORITY = 800;\r\n\r\n/**\r\n * Basic grid snapping that covers connecting, creating, moving, resizing shapes, moving bendpoints\r\n * and connection segments.\r\n *\r\n * @param {ElementRegistry} elementRegistry\r\n * @param {EventBus} eventBus\r\n * @param {Object} config\r\n */\r\nfunction GridSnapping(elementRegistry, eventBus, config) {\r\n\r\n  var active = !config || config.active !== false;\r\n\r\n  this._eventBus = eventBus;\r\n\r\n  var self = this;\r\n\r\n  eventBus.on('diagram.init', LOW_PRIORITY, function() {\r\n    self.setActive(active);\r\n  });\r\n\r\n  eventBus.on([\r\n    'create.move',\r\n    'create.end',\r\n    'bendpoint.move.move',\r\n    'bendpoint.move.end',\r\n    'connect.move',\r\n    'connect.end',\r\n    'connectionSegment.move.move',\r\n    'connectionSegment.move.end',\r\n    'resize.move',\r\n    'resize.end',\r\n    'shape.move.move',\r\n    'shape.move.end'\r\n  ], LOWER_PRIORITY, function(event) {\r\n    var originalEvent = event.originalEvent;\r\n\r\n    if (!self.active || (originalEvent && (0,_keyboard_KeyboardUtil__WEBPACK_IMPORTED_MODULE_0__.isCmd)(originalEvent))) {\r\n      return;\r\n    }\r\n\r\n    var context = event.context,\r\n        gridSnappingContext = context.gridSnappingContext;\r\n\r\n    if (!gridSnappingContext) {\r\n      gridSnappingContext = context.gridSnappingContext = {};\r\n    }\r\n\r\n    [ 'x', 'y' ].forEach(function(axis) {\r\n      var options = {};\r\n\r\n      // allow snapping with offset\r\n      var snapOffset = getSnapOffset(event, axis, elementRegistry);\r\n\r\n      if (snapOffset) {\r\n        options.offset = snapOffset;\r\n      }\r\n\r\n      // allow snapping with min and max\r\n      var snapConstraints = getSnapConstraints(event, axis);\r\n\r\n      if (snapConstraints) {\r\n        (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(options, snapConstraints);\r\n      }\r\n\r\n      if (!(0,_snapping_SnapUtil__WEBPACK_IMPORTED_MODULE_2__.isSnapped)(event, axis)) {\r\n        self.snapEvent(event, axis, options);\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\n/**\r\n * Snap an events x or y with optional min, max and offset.\r\n *\r\n * @param {Object} event\r\n * @param {string} axis\r\n * @param {number} [options.min]\r\n * @param {number} [options.max]\r\n * @param {number} [options.offset]\r\n */\r\nGridSnapping.prototype.snapEvent = function(event, axis, options) {\r\n  var snappedValue = this.snapValue(event[ axis ], options);\r\n\r\n  (0,_snapping_SnapUtil__WEBPACK_IMPORTED_MODULE_2__.setSnapped)(event, axis, snappedValue);\r\n};\r\n\r\n/**\r\n * Expose grid spacing for third parties (i.e. extensions).\r\n *\r\n * @return {number} spacing of grid dots\r\n */\r\nGridSnapping.prototype.getGridSpacing = function() {\r\n  return _GridUtil__WEBPACK_IMPORTED_MODULE_3__.SPACING;\r\n};\r\n\r\n/**\r\n * Snap value with optional min, max and offset.\r\n *\r\n * @param {number} value\r\n * @param {Object} options\r\n * @param {number} [options.min]\r\n * @param {number} [options.max]\r\n * @param {number} [options.offset]\r\n */\r\nGridSnapping.prototype.snapValue = function(value, options) {\r\n  var offset = 0;\r\n\r\n  if (options && options.offset) {\r\n    offset = options.offset;\r\n  }\r\n\r\n  value += offset;\r\n\r\n  value = (0,_GridUtil__WEBPACK_IMPORTED_MODULE_3__.quantize)(value, _GridUtil__WEBPACK_IMPORTED_MODULE_3__.SPACING);\r\n\r\n  var min, max;\r\n\r\n  if (options && options.min) {\r\n    min = options.min;\r\n\r\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isNumber)(min)) {\r\n      min = (0,_GridUtil__WEBPACK_IMPORTED_MODULE_3__.quantize)(min + offset, _GridUtil__WEBPACK_IMPORTED_MODULE_3__.SPACING, 'ceil');\r\n\r\n      value = Math.max(value, min);\r\n    }\r\n  }\r\n\r\n  if (options && options.max) {\r\n    max = options.max;\r\n\r\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isNumber)(max)) {\r\n      max = (0,_GridUtil__WEBPACK_IMPORTED_MODULE_3__.quantize)(max + offset, _GridUtil__WEBPACK_IMPORTED_MODULE_3__.SPACING, 'floor');\r\n\r\n      value = Math.min(value, max);\r\n    }\r\n  }\r\n\r\n  value -= offset;\r\n\r\n  return value;\r\n};\r\n\r\nGridSnapping.prototype.isActive = function() {\r\n  return this.active;\r\n};\r\n\r\nGridSnapping.prototype.setActive = function(active) {\r\n  this.active = active;\r\n\r\n  this._eventBus.fire('gridSnapping.toggle', { active: active });\r\n};\r\n\r\nGridSnapping.prototype.toggleActive = function() {\r\n  this.setActive(!this.active);\r\n};\r\n\r\nGridSnapping.$inject = [\r\n  'elementRegistry',\r\n  'eventBus',\r\n  'config.gridSnapping'\r\n];\r\n\r\n// helpers //////////\r\n\r\n/**\r\n * Get minimum and maximum snap constraints.\r\n * Constraints are cached.\r\n *\r\n * @param {Object} event\r\n * @param {Object} event.context\r\n * @param {string} axis\r\n *\r\n * @return {boolean|Object}\r\n */\r\nfunction getSnapConstraints(event, axis) {\r\n  var context = event.context,\r\n      createConstraints = context.createConstraints,\r\n      resizeConstraints = context.resizeConstraints || {},\r\n      gridSnappingContext = context.gridSnappingContext,\r\n      snapConstraints = gridSnappingContext.snapConstraints;\r\n\r\n  // cache snap constraints\r\n  if (snapConstraints && snapConstraints[ axis ]) {\r\n    return snapConstraints[ axis ];\r\n  }\r\n\r\n  if (!snapConstraints) {\r\n    snapConstraints = gridSnappingContext.snapConstraints = {};\r\n  }\r\n\r\n  if (!snapConstraints[ axis ]) {\r\n    snapConstraints[ axis ] = {};\r\n  }\r\n\r\n  var direction = context.direction;\r\n\r\n  // create\r\n  if (createConstraints) {\r\n    if (isHorizontal(axis)) {\r\n      snapConstraints.x.min = createConstraints.left;\r\n      snapConstraints.x.max = createConstraints.right;\r\n    } else {\r\n      snapConstraints.y.min = createConstraints.top;\r\n      snapConstraints.y.max = createConstraints.bottom;\r\n    }\r\n  }\r\n\r\n  // resize\r\n  var minResizeConstraints = resizeConstraints.min,\r\n      maxResizeConstraints = resizeConstraints.max;\r\n\r\n  if (minResizeConstraints) {\r\n    if (isHorizontal(axis)) {\r\n\r\n      if (isWest(direction)) {\r\n        snapConstraints.x.max = minResizeConstraints.left;\r\n      } else {\r\n        snapConstraints.x.min = minResizeConstraints.right;\r\n      }\r\n\r\n    } else {\r\n\r\n      if (isNorth(direction)) {\r\n        snapConstraints.y.max = minResizeConstraints.top;\r\n      } else {\r\n        snapConstraints.y.min = minResizeConstraints.bottom;\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  if (maxResizeConstraints) {\r\n    if (isHorizontal(axis)) {\r\n\r\n      if (isWest(direction)) {\r\n        snapConstraints.x.min = maxResizeConstraints.left;\r\n      } else {\r\n        snapConstraints.x.max = maxResizeConstraints.right;\r\n      }\r\n\r\n    } else {\r\n\r\n      if (isNorth(direction)) {\r\n        snapConstraints.y.min = maxResizeConstraints.top;\r\n      } else {\r\n        snapConstraints.y.max = maxResizeConstraints.bottom;\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  return snapConstraints[ axis ];\r\n}\r\n\r\n/**\r\n * Get snap offset.\r\n * Offset is cached.\r\n *\r\n * @param {Object} event\r\n * @param {string} axis\r\n * @param {ElementRegistry} elementRegistry\r\n *\r\n * @return {number}\r\n */\r\nfunction getSnapOffset(event, axis, elementRegistry) {\r\n  var context = event.context,\r\n      shape = event.shape,\r\n      gridSnappingContext = context.gridSnappingContext,\r\n      snapLocation = gridSnappingContext.snapLocation,\r\n      snapOffset = gridSnappingContext.snapOffset;\r\n\r\n  // cache snap offset\r\n  if (snapOffset && (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isNumber)(snapOffset[ axis ])) {\r\n    return snapOffset[ axis ];\r\n  }\r\n\r\n  if (!snapOffset) {\r\n    snapOffset = gridSnappingContext.snapOffset = {};\r\n  }\r\n\r\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isNumber)(snapOffset[ axis ])) {\r\n    snapOffset[ axis ] = 0;\r\n  }\r\n\r\n  if (!shape) {\r\n    return snapOffset[ axis ];\r\n  }\r\n\r\n  if (!elementRegistry.get(shape.id)) {\r\n\r\n    if (isHorizontal(axis)) {\r\n      snapOffset[ axis ] += shape[ axis ] + shape.width / 2;\r\n    } else {\r\n      snapOffset[ axis ] += shape[ axis ] + shape.height / 2;\r\n    }\r\n  }\r\n\r\n  if (!snapLocation) {\r\n    return snapOffset[ axis ];\r\n  }\r\n\r\n  if (axis === 'x') {\r\n    if (/left/.test(snapLocation)) {\r\n      snapOffset[ axis ] -= shape.width / 2;\r\n    } else if (/right/.test(snapLocation)) {\r\n      snapOffset[ axis ] += shape.width / 2;\r\n    }\r\n  } else {\r\n    if (/top/.test(snapLocation)) {\r\n      snapOffset[ axis ] -= shape.height / 2;\r\n    } else if (/bottom/.test(snapLocation)) {\r\n      snapOffset[ axis ] += shape.height / 2;\r\n    }\r\n  }\r\n\r\n  return snapOffset[ axis ];\r\n}\r\n\r\nfunction isHorizontal(axis) {\r\n  return axis === 'x';\r\n}\r\n\r\nfunction isNorth(direction) {\r\n  return direction.indexOf('n') !== -1;\r\n}\r\n\r\nfunction isWest(direction) {\r\n  return direction.indexOf('w') !== -1;\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvZ3JpZC1zbmFwcGluZy9HcmlkU25hcHBpbmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFHOEI7QUFDOUI7QUFDaUQ7QUFDakQ7QUFJa0I7QUFDbEI7QUFJb0I7QUFDcEI7QUFDQTtBQUNBLGFBQWEsOENBQThDO0FBQzNELGFBQWEsdUNBQXVDO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkI7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLDZEQUFLO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsZ0RBQU07QUFDZDtBQUNBO0FBQ0EsV0FBVyw2REFBUztBQUNwQjtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsOERBQVU7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQSxTQUFTLDhDQUFPO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxtREFBUSxRQUFRLDhDQUFPO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsa0RBQVE7QUFDaEIsWUFBWSxtREFBUSxlQUFlLDhDQUFPO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGtEQUFRO0FBQ2hCLFlBQVksbURBQVEsZUFBZSw4Q0FBTztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLGdCQUFnQjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RDtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsaUJBQWlCO0FBQzVCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrREFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sa0RBQVE7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9ncmlkLXNuYXBwaW5nL0dyaWRTbmFwcGluZy5qcz84YWZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgc2V0U25hcHBlZCxcclxuICBpc1NuYXBwZWRcclxufSBmcm9tICcuLi9zbmFwcGluZy9TbmFwVXRpbCc7XHJcblxyXG5pbXBvcnQgeyBpc0NtZCB9IGZyb20gJy4uL2tleWJvYXJkL0tleWJvYXJkVXRpbCc7XHJcblxyXG5pbXBvcnQge1xyXG4gIGFzc2lnbixcclxuICBpc051bWJlclxyXG59IGZyb20gJ21pbi1kYXNoJztcclxuXHJcbmltcG9ydCB7XHJcbiAgU1BBQ0lORyxcclxuICBxdWFudGl6ZVxyXG59IGZyb20gJy4vR3JpZFV0aWwnO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRWxlbWVudFJlZ2lzdHJ5JykuZGVmYXVsdH0gRWxlbWVudFJlZ2lzdHJ5XHJcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xyXG4gKi9cclxuXHJcbnZhciBMT1dFUl9QUklPUklUWSA9IDEyMDA7XHJcbnZhciBMT1dfUFJJT1JJVFkgPSA4MDA7XHJcblxyXG4vKipcclxuICogQmFzaWMgZ3JpZCBzbmFwcGluZyB0aGF0IGNvdmVycyBjb25uZWN0aW5nLCBjcmVhdGluZywgbW92aW5nLCByZXNpemluZyBzaGFwZXMsIG1vdmluZyBiZW5kcG9pbnRzXHJcbiAqIGFuZCBjb25uZWN0aW9uIHNlZ21lbnRzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0VsZW1lbnRSZWdpc3RyeX0gZWxlbWVudFJlZ2lzdHJ5XHJcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEdyaWRTbmFwcGluZyhlbGVtZW50UmVnaXN0cnksIGV2ZW50QnVzLCBjb25maWcpIHtcclxuXHJcbiAgdmFyIGFjdGl2ZSA9ICFjb25maWcgfHwgY29uZmlnLmFjdGl2ZSAhPT0gZmFsc2U7XHJcblxyXG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XHJcblxyXG4gIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgZXZlbnRCdXMub24oJ2RpYWdyYW0uaW5pdCcsIExPV19QUklPUklUWSwgZnVuY3Rpb24oKSB7XHJcbiAgICBzZWxmLnNldEFjdGl2ZShhY3RpdmUpO1xyXG4gIH0pO1xyXG5cclxuICBldmVudEJ1cy5vbihbXHJcbiAgICAnY3JlYXRlLm1vdmUnLFxyXG4gICAgJ2NyZWF0ZS5lbmQnLFxyXG4gICAgJ2JlbmRwb2ludC5tb3ZlLm1vdmUnLFxyXG4gICAgJ2JlbmRwb2ludC5tb3ZlLmVuZCcsXHJcbiAgICAnY29ubmVjdC5tb3ZlJyxcclxuICAgICdjb25uZWN0LmVuZCcsXHJcbiAgICAnY29ubmVjdGlvblNlZ21lbnQubW92ZS5tb3ZlJyxcclxuICAgICdjb25uZWN0aW9uU2VnbWVudC5tb3ZlLmVuZCcsXHJcbiAgICAncmVzaXplLm1vdmUnLFxyXG4gICAgJ3Jlc2l6ZS5lbmQnLFxyXG4gICAgJ3NoYXBlLm1vdmUubW92ZScsXHJcbiAgICAnc2hhcGUubW92ZS5lbmQnXHJcbiAgXSwgTE9XRVJfUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICB2YXIgb3JpZ2luYWxFdmVudCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQ7XHJcblxyXG4gICAgaWYgKCFzZWxmLmFjdGl2ZSB8fCAob3JpZ2luYWxFdmVudCAmJiBpc0NtZChvcmlnaW5hbEV2ZW50KSkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcclxuICAgICAgICBncmlkU25hcHBpbmdDb250ZXh0ID0gY29udGV4dC5ncmlkU25hcHBpbmdDb250ZXh0O1xyXG5cclxuICAgIGlmICghZ3JpZFNuYXBwaW5nQ29udGV4dCkge1xyXG4gICAgICBncmlkU25hcHBpbmdDb250ZXh0ID0gY29udGV4dC5ncmlkU25hcHBpbmdDb250ZXh0ID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgWyAneCcsICd5JyBdLmZvckVhY2goZnVuY3Rpb24oYXhpcykge1xyXG4gICAgICB2YXIgb3B0aW9ucyA9IHt9O1xyXG5cclxuICAgICAgLy8gYWxsb3cgc25hcHBpbmcgd2l0aCBvZmZzZXRcclxuICAgICAgdmFyIHNuYXBPZmZzZXQgPSBnZXRTbmFwT2Zmc2V0KGV2ZW50LCBheGlzLCBlbGVtZW50UmVnaXN0cnkpO1xyXG5cclxuICAgICAgaWYgKHNuYXBPZmZzZXQpIHtcclxuICAgICAgICBvcHRpb25zLm9mZnNldCA9IHNuYXBPZmZzZXQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGFsbG93IHNuYXBwaW5nIHdpdGggbWluIGFuZCBtYXhcclxuICAgICAgdmFyIHNuYXBDb25zdHJhaW50cyA9IGdldFNuYXBDb25zdHJhaW50cyhldmVudCwgYXhpcyk7XHJcblxyXG4gICAgICBpZiAoc25hcENvbnN0cmFpbnRzKSB7XHJcbiAgICAgICAgYXNzaWduKG9wdGlvbnMsIHNuYXBDb25zdHJhaW50cyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghaXNTbmFwcGVkKGV2ZW50LCBheGlzKSkge1xyXG4gICAgICAgIHNlbGYuc25hcEV2ZW50KGV2ZW50LCBheGlzLCBvcHRpb25zKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTbmFwIGFuIGV2ZW50cyB4IG9yIHkgd2l0aCBvcHRpb25hbCBtaW4sIG1heCBhbmQgb2Zmc2V0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gZXZlbnRcclxuICogQHBhcmFtIHtzdHJpbmd9IGF4aXNcclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1pbl1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heF1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm9mZnNldF1cclxuICovXHJcbkdyaWRTbmFwcGluZy5wcm90b3R5cGUuc25hcEV2ZW50ID0gZnVuY3Rpb24oZXZlbnQsIGF4aXMsIG9wdGlvbnMpIHtcclxuICB2YXIgc25hcHBlZFZhbHVlID0gdGhpcy5zbmFwVmFsdWUoZXZlbnRbIGF4aXMgXSwgb3B0aW9ucyk7XHJcblxyXG4gIHNldFNuYXBwZWQoZXZlbnQsIGF4aXMsIHNuYXBwZWRWYWx1ZSk7XHJcbn07XHJcblxyXG4vKipcclxuICogRXhwb3NlIGdyaWQgc3BhY2luZyBmb3IgdGhpcmQgcGFydGllcyAoaS5lLiBleHRlbnNpb25zKS5cclxuICpcclxuICogQHJldHVybiB7bnVtYmVyfSBzcGFjaW5nIG9mIGdyaWQgZG90c1xyXG4gKi9cclxuR3JpZFNuYXBwaW5nLnByb3RvdHlwZS5nZXRHcmlkU3BhY2luZyA9IGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiBTUEFDSU5HO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFNuYXAgdmFsdWUgd2l0aCBvcHRpb25hbCBtaW4sIG1heCBhbmQgb2Zmc2V0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1pbl1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heF1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm9mZnNldF1cclxuICovXHJcbkdyaWRTbmFwcGluZy5wcm90b3R5cGUuc25hcFZhbHVlID0gZnVuY3Rpb24odmFsdWUsIG9wdGlvbnMpIHtcclxuICB2YXIgb2Zmc2V0ID0gMDtcclxuXHJcbiAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5vZmZzZXQpIHtcclxuICAgIG9mZnNldCA9IG9wdGlvbnMub2Zmc2V0O1xyXG4gIH1cclxuXHJcbiAgdmFsdWUgKz0gb2Zmc2V0O1xyXG5cclxuICB2YWx1ZSA9IHF1YW50aXplKHZhbHVlLCBTUEFDSU5HKTtcclxuXHJcbiAgdmFyIG1pbiwgbWF4O1xyXG5cclxuICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLm1pbikge1xyXG4gICAgbWluID0gb3B0aW9ucy5taW47XHJcblxyXG4gICAgaWYgKGlzTnVtYmVyKG1pbikpIHtcclxuICAgICAgbWluID0gcXVhbnRpemUobWluICsgb2Zmc2V0LCBTUEFDSU5HLCAnY2VpbCcpO1xyXG5cclxuICAgICAgdmFsdWUgPSBNYXRoLm1heCh2YWx1ZSwgbWluKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMubWF4KSB7XHJcbiAgICBtYXggPSBvcHRpb25zLm1heDtcclxuXHJcbiAgICBpZiAoaXNOdW1iZXIobWF4KSkge1xyXG4gICAgICBtYXggPSBxdWFudGl6ZShtYXggKyBvZmZzZXQsIFNQQUNJTkcsICdmbG9vcicpO1xyXG5cclxuICAgICAgdmFsdWUgPSBNYXRoLm1pbih2YWx1ZSwgbWF4KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHZhbHVlIC09IG9mZnNldDtcclxuXHJcbiAgcmV0dXJuIHZhbHVlO1xyXG59O1xyXG5cclxuR3JpZFNuYXBwaW5nLnByb3RvdHlwZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiB0aGlzLmFjdGl2ZTtcclxufTtcclxuXHJcbkdyaWRTbmFwcGluZy5wcm90b3R5cGUuc2V0QWN0aXZlID0gZnVuY3Rpb24oYWN0aXZlKSB7XHJcbiAgdGhpcy5hY3RpdmUgPSBhY3RpdmU7XHJcblxyXG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2dyaWRTbmFwcGluZy50b2dnbGUnLCB7IGFjdGl2ZTogYWN0aXZlIH0pO1xyXG59O1xyXG5cclxuR3JpZFNuYXBwaW5nLnByb3RvdHlwZS50b2dnbGVBY3RpdmUgPSBmdW5jdGlvbigpIHtcclxuICB0aGlzLnNldEFjdGl2ZSghdGhpcy5hY3RpdmUpO1xyXG59O1xyXG5cclxuR3JpZFNuYXBwaW5nLiRpbmplY3QgPSBbXHJcbiAgJ2VsZW1lbnRSZWdpc3RyeScsXHJcbiAgJ2V2ZW50QnVzJyxcclxuICAnY29uZmlnLmdyaWRTbmFwcGluZydcclxuXTtcclxuXHJcbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xyXG5cclxuLyoqXHJcbiAqIEdldCBtaW5pbXVtIGFuZCBtYXhpbXVtIHNuYXAgY29uc3RyYWludHMuXHJcbiAqIENvbnN0cmFpbnRzIGFyZSBjYWNoZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxyXG4gKiBAcGFyYW0ge09iamVjdH0gZXZlbnQuY29udGV4dFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYXhpc1xyXG4gKlxyXG4gKiBAcmV0dXJuIHtib29sZWFufE9iamVjdH1cclxuICovXHJcbmZ1bmN0aW9uIGdldFNuYXBDb25zdHJhaW50cyhldmVudCwgYXhpcykge1xyXG4gIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcclxuICAgICAgY3JlYXRlQ29uc3RyYWludHMgPSBjb250ZXh0LmNyZWF0ZUNvbnN0cmFpbnRzLFxyXG4gICAgICByZXNpemVDb25zdHJhaW50cyA9IGNvbnRleHQucmVzaXplQ29uc3RyYWludHMgfHwge30sXHJcbiAgICAgIGdyaWRTbmFwcGluZ0NvbnRleHQgPSBjb250ZXh0LmdyaWRTbmFwcGluZ0NvbnRleHQsXHJcbiAgICAgIHNuYXBDb25zdHJhaW50cyA9IGdyaWRTbmFwcGluZ0NvbnRleHQuc25hcENvbnN0cmFpbnRzO1xyXG5cclxuICAvLyBjYWNoZSBzbmFwIGNvbnN0cmFpbnRzXHJcbiAgaWYgKHNuYXBDb25zdHJhaW50cyAmJiBzbmFwQ29uc3RyYWludHNbIGF4aXMgXSkge1xyXG4gICAgcmV0dXJuIHNuYXBDb25zdHJhaW50c1sgYXhpcyBdO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFzbmFwQ29uc3RyYWludHMpIHtcclxuICAgIHNuYXBDb25zdHJhaW50cyA9IGdyaWRTbmFwcGluZ0NvbnRleHQuc25hcENvbnN0cmFpbnRzID0ge307XHJcbiAgfVxyXG5cclxuICBpZiAoIXNuYXBDb25zdHJhaW50c1sgYXhpcyBdKSB7XHJcbiAgICBzbmFwQ29uc3RyYWludHNbIGF4aXMgXSA9IHt9O1xyXG4gIH1cclxuXHJcbiAgdmFyIGRpcmVjdGlvbiA9IGNvbnRleHQuZGlyZWN0aW9uO1xyXG5cclxuICAvLyBjcmVhdGVcclxuICBpZiAoY3JlYXRlQ29uc3RyYWludHMpIHtcclxuICAgIGlmIChpc0hvcml6b250YWwoYXhpcykpIHtcclxuICAgICAgc25hcENvbnN0cmFpbnRzLngubWluID0gY3JlYXRlQ29uc3RyYWludHMubGVmdDtcclxuICAgICAgc25hcENvbnN0cmFpbnRzLngubWF4ID0gY3JlYXRlQ29uc3RyYWludHMucmlnaHQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzbmFwQ29uc3RyYWludHMueS5taW4gPSBjcmVhdGVDb25zdHJhaW50cy50b3A7XHJcbiAgICAgIHNuYXBDb25zdHJhaW50cy55Lm1heCA9IGNyZWF0ZUNvbnN0cmFpbnRzLmJvdHRvbTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIHJlc2l6ZVxyXG4gIHZhciBtaW5SZXNpemVDb25zdHJhaW50cyA9IHJlc2l6ZUNvbnN0cmFpbnRzLm1pbixcclxuICAgICAgbWF4UmVzaXplQ29uc3RyYWludHMgPSByZXNpemVDb25zdHJhaW50cy5tYXg7XHJcblxyXG4gIGlmIChtaW5SZXNpemVDb25zdHJhaW50cykge1xyXG4gICAgaWYgKGlzSG9yaXpvbnRhbChheGlzKSkge1xyXG5cclxuICAgICAgaWYgKGlzV2VzdChkaXJlY3Rpb24pKSB7XHJcbiAgICAgICAgc25hcENvbnN0cmFpbnRzLngubWF4ID0gbWluUmVzaXplQ29uc3RyYWludHMubGVmdDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzbmFwQ29uc3RyYWludHMueC5taW4gPSBtaW5SZXNpemVDb25zdHJhaW50cy5yaWdodDtcclxuICAgICAgfVxyXG5cclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICBpZiAoaXNOb3J0aChkaXJlY3Rpb24pKSB7XHJcbiAgICAgICAgc25hcENvbnN0cmFpbnRzLnkubWF4ID0gbWluUmVzaXplQ29uc3RyYWludHMudG9wO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNuYXBDb25zdHJhaW50cy55Lm1pbiA9IG1pblJlc2l6ZUNvbnN0cmFpbnRzLmJvdHRvbTtcclxuICAgICAgfVxyXG5cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmIChtYXhSZXNpemVDb25zdHJhaW50cykge1xyXG4gICAgaWYgKGlzSG9yaXpvbnRhbChheGlzKSkge1xyXG5cclxuICAgICAgaWYgKGlzV2VzdChkaXJlY3Rpb24pKSB7XHJcbiAgICAgICAgc25hcENvbnN0cmFpbnRzLngubWluID0gbWF4UmVzaXplQ29uc3RyYWludHMubGVmdDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzbmFwQ29uc3RyYWludHMueC5tYXggPSBtYXhSZXNpemVDb25zdHJhaW50cy5yaWdodDtcclxuICAgICAgfVxyXG5cclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICBpZiAoaXNOb3J0aChkaXJlY3Rpb24pKSB7XHJcbiAgICAgICAgc25hcENvbnN0cmFpbnRzLnkubWluID0gbWF4UmVzaXplQ29uc3RyYWludHMudG9wO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNuYXBDb25zdHJhaW50cy55Lm1heCA9IG1heFJlc2l6ZUNvbnN0cmFpbnRzLmJvdHRvbTtcclxuICAgICAgfVxyXG5cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBzbmFwQ29uc3RyYWludHNbIGF4aXMgXTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCBzbmFwIG9mZnNldC5cclxuICogT2Zmc2V0IGlzIGNhY2hlZC5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBheGlzXHJcbiAqIEBwYXJhbSB7RWxlbWVudFJlZ2lzdHJ5fSBlbGVtZW50UmVnaXN0cnlcclxuICpcclxuICogQHJldHVybiB7bnVtYmVyfVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0U25hcE9mZnNldChldmVudCwgYXhpcywgZWxlbWVudFJlZ2lzdHJ5KSB7XHJcbiAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxyXG4gICAgICBzaGFwZSA9IGV2ZW50LnNoYXBlLFxyXG4gICAgICBncmlkU25hcHBpbmdDb250ZXh0ID0gY29udGV4dC5ncmlkU25hcHBpbmdDb250ZXh0LFxyXG4gICAgICBzbmFwTG9jYXRpb24gPSBncmlkU25hcHBpbmdDb250ZXh0LnNuYXBMb2NhdGlvbixcclxuICAgICAgc25hcE9mZnNldCA9IGdyaWRTbmFwcGluZ0NvbnRleHQuc25hcE9mZnNldDtcclxuXHJcbiAgLy8gY2FjaGUgc25hcCBvZmZzZXRcclxuICBpZiAoc25hcE9mZnNldCAmJiBpc051bWJlcihzbmFwT2Zmc2V0WyBheGlzIF0pKSB7XHJcbiAgICByZXR1cm4gc25hcE9mZnNldFsgYXhpcyBdO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFzbmFwT2Zmc2V0KSB7XHJcbiAgICBzbmFwT2Zmc2V0ID0gZ3JpZFNuYXBwaW5nQ29udGV4dC5zbmFwT2Zmc2V0ID0ge307XHJcbiAgfVxyXG5cclxuICBpZiAoIWlzTnVtYmVyKHNuYXBPZmZzZXRbIGF4aXMgXSkpIHtcclxuICAgIHNuYXBPZmZzZXRbIGF4aXMgXSA9IDA7XHJcbiAgfVxyXG5cclxuICBpZiAoIXNoYXBlKSB7XHJcbiAgICByZXR1cm4gc25hcE9mZnNldFsgYXhpcyBdO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFlbGVtZW50UmVnaXN0cnkuZ2V0KHNoYXBlLmlkKSkge1xyXG5cclxuICAgIGlmIChpc0hvcml6b250YWwoYXhpcykpIHtcclxuICAgICAgc25hcE9mZnNldFsgYXhpcyBdICs9IHNoYXBlWyBheGlzIF0gKyBzaGFwZS53aWR0aCAvIDI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzbmFwT2Zmc2V0WyBheGlzIF0gKz0gc2hhcGVbIGF4aXMgXSArIHNoYXBlLmhlaWdodCAvIDI7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZiAoIXNuYXBMb2NhdGlvbikge1xyXG4gICAgcmV0dXJuIHNuYXBPZmZzZXRbIGF4aXMgXTtcclxuICB9XHJcblxyXG4gIGlmIChheGlzID09PSAneCcpIHtcclxuICAgIGlmICgvbGVmdC8udGVzdChzbmFwTG9jYXRpb24pKSB7XHJcbiAgICAgIHNuYXBPZmZzZXRbIGF4aXMgXSAtPSBzaGFwZS53aWR0aCAvIDI7XHJcbiAgICB9IGVsc2UgaWYgKC9yaWdodC8udGVzdChzbmFwTG9jYXRpb24pKSB7XHJcbiAgICAgIHNuYXBPZmZzZXRbIGF4aXMgXSArPSBzaGFwZS53aWR0aCAvIDI7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGlmICgvdG9wLy50ZXN0KHNuYXBMb2NhdGlvbikpIHtcclxuICAgICAgc25hcE9mZnNldFsgYXhpcyBdIC09IHNoYXBlLmhlaWdodCAvIDI7XHJcbiAgICB9IGVsc2UgaWYgKC9ib3R0b20vLnRlc3Qoc25hcExvY2F0aW9uKSkge1xyXG4gICAgICBzbmFwT2Zmc2V0WyBheGlzIF0gKz0gc2hhcGUuaGVpZ2h0IC8gMjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBzbmFwT2Zmc2V0WyBheGlzIF07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzSG9yaXpvbnRhbChheGlzKSB7XHJcbiAgcmV0dXJuIGF4aXMgPT09ICd4JztcclxufVxyXG5cclxuZnVuY3Rpb24gaXNOb3J0aChkaXJlY3Rpb24pIHtcclxuICByZXR1cm4gZGlyZWN0aW9uLmluZGV4T2YoJ24nKSAhPT0gLTE7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzV2VzdChkaXJlY3Rpb24pIHtcclxuICByZXR1cm4gZGlyZWN0aW9uLmluZGV4T2YoJ3cnKSAhPT0gLTE7XHJcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/grid-snapping/GridSnapping.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/grid-snapping/GridUtil.js":
/*!************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/grid-snapping/GridUtil.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SPACING: () => (/* binding */ SPACING),\n/* harmony export */   quantize: () => (/* binding */ quantize)\n/* harmony export */ });\nvar SPACING = 10;\n\nfunction quantize(value, quantum, fn) {\n  if (!fn) {\n    fn = 'round';\n  }\n\n  return Math[ fn ](value / quantum) * quantum;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvZ3JpZC1zbmFwcGluZy9HcmlkVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPOztBQUVBO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvZ3JpZC1zbmFwcGluZy9HcmlkVXRpbC5qcz8yMTAxIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB2YXIgU1BBQ0lORyA9IDEwO1xuXG5leHBvcnQgZnVuY3Rpb24gcXVhbnRpemUodmFsdWUsIHF1YW50dW0sIGZuKSB7XG4gIGlmICghZm4pIHtcbiAgICBmbiA9ICdyb3VuZCc7XG4gIH1cblxuICByZXR1cm4gTWF0aFsgZm4gXSh2YWx1ZSAvIHF1YW50dW0pICogcXVhbnR1bTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/grid-snapping/GridUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/grid-snapping/behavior/ResizeBehavior.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/grid-snapping/behavior/ResizeBehavior.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ResizeBehavior)\n/* harmony export */ });\n/* harmony import */ var inherits_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! inherits-browser */ \"(ssr)/./node_modules/inherits-browser/dist/index.es.js\");\n/* harmony import */ var _command_CommandInterceptor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../command/CommandInterceptor */ \"(ssr)/./node_modules/diagram-js/lib/command/CommandInterceptor.js\");\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @typedef {import('../../../model/Types').Shape} Shape\r\n *\r\n * @typedef {import('../../../util/Types').Rect} Rect\r\n *\r\n * @typedef {import('../../../core/EventBus').default} EventBus\r\n * @typedef {import('../../grid-snapping/GridSnapping').default} GridSnapping\r\n */\r\n\r\n/**\r\n * Integrates resizing with grid snapping.\r\n *\r\n * @param {EventBus} eventBus\r\n * @param {GridSnapping} gridSnapping\r\n */\r\nfunction ResizeBehavior(eventBus, gridSnapping) {\r\n  _command_CommandInterceptor__WEBPACK_IMPORTED_MODULE_0__[\"default\"].call(this, eventBus);\r\n\r\n  this._gridSnapping = gridSnapping;\r\n\r\n  var self = this;\r\n\r\n  this.preExecute('shape.resize', function(event) {\r\n    var context = event.context,\r\n        hints = context.hints || {},\r\n        autoResize = hints.autoResize;\r\n\r\n    if (!autoResize) {\r\n      return;\r\n    }\r\n\r\n    var shape = context.shape,\r\n        newBounds = context.newBounds;\r\n\r\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isString)(autoResize)) {\r\n      context.newBounds = self.snapComplex(newBounds, autoResize);\r\n    } else {\r\n      context.newBounds = self.snapSimple(shape, newBounds);\r\n    }\r\n  });\r\n}\r\n\r\nResizeBehavior.$inject = [\r\n  'eventBus',\r\n  'gridSnapping',\r\n  'modeling'\r\n];\r\n\r\n(0,inherits_browser__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(ResizeBehavior, _command_CommandInterceptor__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\r\n\r\n/**\r\n * Snap width and height in relation to center.\r\n *\r\n * @param {Shape} shape\r\n * @param {Rect} newBounds\r\n *\r\n * @return {Rect} Snapped bounds.\r\n */\r\nResizeBehavior.prototype.snapSimple = function(shape, newBounds) {\r\n  var gridSnapping = this._gridSnapping;\r\n\r\n  newBounds.width = gridSnapping.snapValue(newBounds.width, {\r\n    min: newBounds.width\r\n  });\r\n\r\n  newBounds.height = gridSnapping.snapValue(newBounds.height, {\r\n    min: newBounds.height\r\n  });\r\n\r\n  newBounds.x = shape.x + (shape.width / 2) - (newBounds.width / 2);\r\n  newBounds.y = shape.y + (shape.height / 2) - (newBounds.height / 2);\r\n\r\n  return newBounds;\r\n};\r\n\r\n/**\r\n * Snap x, y, width and height according to given directions.\r\n *\r\n * @param {Rect} newBounds\r\n * @param {string} directions - Directions as {n|w|s|e}.\r\n *\r\n * @return {Rect} Snapped bounds.\r\n */\r\nResizeBehavior.prototype.snapComplex = function(newBounds, directions) {\r\n  if (/w|e/.test(directions)) {\r\n    newBounds = this.snapHorizontally(newBounds, directions);\r\n  }\r\n\r\n  if (/n|s/.test(directions)) {\r\n    newBounds = this.snapVertically(newBounds, directions);\r\n  }\r\n\r\n  return newBounds;\r\n};\r\n\r\n/**\r\n * Snap in one or both directions horizontally.\r\n *\r\n * @param {Rect} newBounds\r\n * @param {string} directions - Directions as {n|w|s|e}.\r\n *\r\n * @return {Rect} Snapped bounds.\r\n */\r\nResizeBehavior.prototype.snapHorizontally = function(newBounds, directions) {\r\n  var gridSnapping = this._gridSnapping,\r\n      west = /w/.test(directions),\r\n      east = /e/.test(directions);\r\n\r\n  var snappedNewBounds = {};\r\n\r\n  snappedNewBounds.width = gridSnapping.snapValue(newBounds.width, {\r\n    min: newBounds.width\r\n  });\r\n\r\n  if (east) {\r\n\r\n    // handle <we>\r\n    if (west) {\r\n      snappedNewBounds.x = gridSnapping.snapValue(newBounds.x, {\r\n        max: newBounds.x\r\n      });\r\n\r\n      snappedNewBounds.width += gridSnapping.snapValue(newBounds.x - snappedNewBounds.x, {\r\n        min: newBounds.x - snappedNewBounds.x\r\n      });\r\n    }\r\n\r\n    // handle <e>\r\n    else {\r\n      newBounds.x = newBounds.x + newBounds.width - snappedNewBounds.width;\r\n    }\r\n  }\r\n\r\n  // assign snapped x and width\r\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(newBounds, snappedNewBounds);\r\n\r\n  return newBounds;\r\n};\r\n\r\n/**\r\n * Snap in one or both directions vertically.\r\n *\r\n * @param {Rect} newBounds\r\n * @param {string} directions - Directions as {n|w|s|e}.\r\n *\r\n * @return {Rect} Snapped bounds.\r\n */\r\nResizeBehavior.prototype.snapVertically = function(newBounds, directions) {\r\n  var gridSnapping = this._gridSnapping,\r\n      north = /n/.test(directions),\r\n      south = /s/.test(directions);\r\n\r\n  var snappedNewBounds = {};\r\n\r\n  snappedNewBounds.height = gridSnapping.snapValue(newBounds.height, {\r\n    min: newBounds.height\r\n  });\r\n\r\n  if (north) {\r\n\r\n    // handle <ns>\r\n    if (south) {\r\n      snappedNewBounds.y = gridSnapping.snapValue(newBounds.y, {\r\n        max: newBounds.y\r\n      });\r\n\r\n      snappedNewBounds.height += gridSnapping.snapValue(newBounds.y - snappedNewBounds.y, {\r\n        min: newBounds.y - snappedNewBounds.y\r\n      });\r\n    }\r\n\r\n    // handle <n>\r\n    else {\r\n      newBounds.y = newBounds.y + newBounds.height - snappedNewBounds.height;\r\n    }\r\n  }\r\n\r\n  // assign snapped y and height\r\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(newBounds, snappedNewBounds);\r\n\r\n  return newBounds;\r\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvZ3JpZC1zbmFwcGluZy9iZWhhdmlvci9SZXNpemVCZWhhdmlvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXdDO0FBQ3hDO0FBQ3FFO0FBQ3JFO0FBSWtCO0FBQ2xCO0FBQ0E7QUFDQSxhQUFhLHNDQUFzQztBQUNuRDtBQUNBLGFBQWEsb0NBQW9DO0FBQ2pEO0FBQ0EsYUFBYSwwQ0FBMEM7QUFDdkQsYUFBYSxvREFBb0Q7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLGNBQWM7QUFDekI7QUFDZTtBQUNmLEVBQUUsbUVBQWtCO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsa0RBQVE7QUFDaEI7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQVEsaUJBQWlCLG1FQUFrQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE1BQU07QUFDakI7QUFDQSxZQUFZLE1BQU07QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLFFBQVEsNEJBQTRCLFFBQVE7QUFDdkQ7QUFDQSxZQUFZLE1BQU07QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxRQUFRLDRCQUE0QixRQUFRO0FBQ3ZEO0FBQ0EsWUFBWSxNQUFNO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLGdEQUFNO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxRQUFRLDRCQUE0QixRQUFRO0FBQ3ZEO0FBQ0EsWUFBWSxNQUFNO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLGdEQUFNO0FBQ1I7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2dyaWQtc25hcHBpbmcvYmVoYXZpb3IvUmVzaXplQmVoYXZpb3IuanM/NDU2OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMtYnJvd3Nlcic7XHJcblxyXG5pbXBvcnQgQ29tbWFuZEludGVyY2VwdG9yIGZyb20gJy4uLy4uLy4uL2NvbW1hbmQvQ29tbWFuZEludGVyY2VwdG9yJztcclxuXHJcbmltcG9ydCB7XHJcbiAgYXNzaWduLFxyXG4gIGlzU3RyaW5nXHJcbn0gZnJvbSAnbWluLWRhc2gnO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uLy4uL21vZGVsL1R5cGVzJykuU2hhcGV9IFNoYXBlXHJcbiAqXHJcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uLy4uL3V0aWwvVHlwZXMnKS5SZWN0fSBSZWN0XHJcbiAqXHJcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uLy4uL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xyXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9ncmlkLXNuYXBwaW5nL0dyaWRTbmFwcGluZycpLmRlZmF1bHR9IEdyaWRTbmFwcGluZ1xyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBJbnRlZ3JhdGVzIHJlc2l6aW5nIHdpdGggZ3JpZCBzbmFwcGluZy5cclxuICpcclxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcclxuICogQHBhcmFtIHtHcmlkU25hcHBpbmd9IGdyaWRTbmFwcGluZ1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUmVzaXplQmVoYXZpb3IoZXZlbnRCdXMsIGdyaWRTbmFwcGluZykge1xyXG4gIENvbW1hbmRJbnRlcmNlcHRvci5jYWxsKHRoaXMsIGV2ZW50QnVzKTtcclxuXHJcbiAgdGhpcy5fZ3JpZFNuYXBwaW5nID0gZ3JpZFNuYXBwaW5nO1xyXG5cclxuICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gIHRoaXMucHJlRXhlY3V0ZSgnc2hhcGUucmVzaXplJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcclxuICAgICAgICBoaW50cyA9IGNvbnRleHQuaGludHMgfHwge30sXHJcbiAgICAgICAgYXV0b1Jlc2l6ZSA9IGhpbnRzLmF1dG9SZXNpemU7XHJcblxyXG4gICAgaWYgKCFhdXRvUmVzaXplKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxyXG4gICAgICAgIG5ld0JvdW5kcyA9IGNvbnRleHQubmV3Qm91bmRzO1xyXG5cclxuICAgIGlmIChpc1N0cmluZyhhdXRvUmVzaXplKSkge1xyXG4gICAgICBjb250ZXh0Lm5ld0JvdW5kcyA9IHNlbGYuc25hcENvbXBsZXgobmV3Qm91bmRzLCBhdXRvUmVzaXplKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnRleHQubmV3Qm91bmRzID0gc2VsZi5zbmFwU2ltcGxlKHNoYXBlLCBuZXdCb3VuZHMpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5SZXNpemVCZWhhdmlvci4kaW5qZWN0ID0gW1xyXG4gICdldmVudEJ1cycsXHJcbiAgJ2dyaWRTbmFwcGluZycsXHJcbiAgJ21vZGVsaW5nJ1xyXG5dO1xyXG5cclxuaW5oZXJpdHMoUmVzaXplQmVoYXZpb3IsIENvbW1hbmRJbnRlcmNlcHRvcik7XHJcblxyXG4vKipcclxuICogU25hcCB3aWR0aCBhbmQgaGVpZ2h0IGluIHJlbGF0aW9uIHRvIGNlbnRlci5cclxuICpcclxuICogQHBhcmFtIHtTaGFwZX0gc2hhcGVcclxuICogQHBhcmFtIHtSZWN0fSBuZXdCb3VuZHNcclxuICpcclxuICogQHJldHVybiB7UmVjdH0gU25hcHBlZCBib3VuZHMuXHJcbiAqL1xyXG5SZXNpemVCZWhhdmlvci5wcm90b3R5cGUuc25hcFNpbXBsZSA9IGZ1bmN0aW9uKHNoYXBlLCBuZXdCb3VuZHMpIHtcclxuICB2YXIgZ3JpZFNuYXBwaW5nID0gdGhpcy5fZ3JpZFNuYXBwaW5nO1xyXG5cclxuICBuZXdCb3VuZHMud2lkdGggPSBncmlkU25hcHBpbmcuc25hcFZhbHVlKG5ld0JvdW5kcy53aWR0aCwge1xyXG4gICAgbWluOiBuZXdCb3VuZHMud2lkdGhcclxuICB9KTtcclxuXHJcbiAgbmV3Qm91bmRzLmhlaWdodCA9IGdyaWRTbmFwcGluZy5zbmFwVmFsdWUobmV3Qm91bmRzLmhlaWdodCwge1xyXG4gICAgbWluOiBuZXdCb3VuZHMuaGVpZ2h0XHJcbiAgfSk7XHJcblxyXG4gIG5ld0JvdW5kcy54ID0gc2hhcGUueCArIChzaGFwZS53aWR0aCAvIDIpIC0gKG5ld0JvdW5kcy53aWR0aCAvIDIpO1xyXG4gIG5ld0JvdW5kcy55ID0gc2hhcGUueSArIChzaGFwZS5oZWlnaHQgLyAyKSAtIChuZXdCb3VuZHMuaGVpZ2h0IC8gMik7XHJcblxyXG4gIHJldHVybiBuZXdCb3VuZHM7XHJcbn07XHJcblxyXG4vKipcclxuICogU25hcCB4LCB5LCB3aWR0aCBhbmQgaGVpZ2h0IGFjY29yZGluZyB0byBnaXZlbiBkaXJlY3Rpb25zLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlY3R9IG5ld0JvdW5kc1xyXG4gKiBAcGFyYW0ge3N0cmluZ30gZGlyZWN0aW9ucyAtIERpcmVjdGlvbnMgYXMge258d3xzfGV9LlxyXG4gKlxyXG4gKiBAcmV0dXJuIHtSZWN0fSBTbmFwcGVkIGJvdW5kcy5cclxuICovXHJcblJlc2l6ZUJlaGF2aW9yLnByb3RvdHlwZS5zbmFwQ29tcGxleCA9IGZ1bmN0aW9uKG5ld0JvdW5kcywgZGlyZWN0aW9ucykge1xyXG4gIGlmICgvd3xlLy50ZXN0KGRpcmVjdGlvbnMpKSB7XHJcbiAgICBuZXdCb3VuZHMgPSB0aGlzLnNuYXBIb3Jpem9udGFsbHkobmV3Qm91bmRzLCBkaXJlY3Rpb25zKTtcclxuICB9XHJcblxyXG4gIGlmICgvbnxzLy50ZXN0KGRpcmVjdGlvbnMpKSB7XHJcbiAgICBuZXdCb3VuZHMgPSB0aGlzLnNuYXBWZXJ0aWNhbGx5KG5ld0JvdW5kcywgZGlyZWN0aW9ucyk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbmV3Qm91bmRzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFNuYXAgaW4gb25lIG9yIGJvdGggZGlyZWN0aW9ucyBob3Jpem9udGFsbHkuXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVjdH0gbmV3Qm91bmRzXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBkaXJlY3Rpb25zIC0gRGlyZWN0aW9ucyBhcyB7bnx3fHN8ZX0uXHJcbiAqXHJcbiAqIEByZXR1cm4ge1JlY3R9IFNuYXBwZWQgYm91bmRzLlxyXG4gKi9cclxuUmVzaXplQmVoYXZpb3IucHJvdG90eXBlLnNuYXBIb3Jpem9udGFsbHkgPSBmdW5jdGlvbihuZXdCb3VuZHMsIGRpcmVjdGlvbnMpIHtcclxuICB2YXIgZ3JpZFNuYXBwaW5nID0gdGhpcy5fZ3JpZFNuYXBwaW5nLFxyXG4gICAgICB3ZXN0ID0gL3cvLnRlc3QoZGlyZWN0aW9ucyksXHJcbiAgICAgIGVhc3QgPSAvZS8udGVzdChkaXJlY3Rpb25zKTtcclxuXHJcbiAgdmFyIHNuYXBwZWROZXdCb3VuZHMgPSB7fTtcclxuXHJcbiAgc25hcHBlZE5ld0JvdW5kcy53aWR0aCA9IGdyaWRTbmFwcGluZy5zbmFwVmFsdWUobmV3Qm91bmRzLndpZHRoLCB7XHJcbiAgICBtaW46IG5ld0JvdW5kcy53aWR0aFxyXG4gIH0pO1xyXG5cclxuICBpZiAoZWFzdCkge1xyXG5cclxuICAgIC8vIGhhbmRsZSA8d2U+XHJcbiAgICBpZiAod2VzdCkge1xyXG4gICAgICBzbmFwcGVkTmV3Qm91bmRzLnggPSBncmlkU25hcHBpbmcuc25hcFZhbHVlKG5ld0JvdW5kcy54LCB7XHJcbiAgICAgICAgbWF4OiBuZXdCb3VuZHMueFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHNuYXBwZWROZXdCb3VuZHMud2lkdGggKz0gZ3JpZFNuYXBwaW5nLnNuYXBWYWx1ZShuZXdCb3VuZHMueCAtIHNuYXBwZWROZXdCb3VuZHMueCwge1xyXG4gICAgICAgIG1pbjogbmV3Qm91bmRzLnggLSBzbmFwcGVkTmV3Qm91bmRzLnhcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gaGFuZGxlIDxlPlxyXG4gICAgZWxzZSB7XHJcbiAgICAgIG5ld0JvdW5kcy54ID0gbmV3Qm91bmRzLnggKyBuZXdCb3VuZHMud2lkdGggLSBzbmFwcGVkTmV3Qm91bmRzLndpZHRoO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gYXNzaWduIHNuYXBwZWQgeCBhbmQgd2lkdGhcclxuICBhc3NpZ24obmV3Qm91bmRzLCBzbmFwcGVkTmV3Qm91bmRzKTtcclxuXHJcbiAgcmV0dXJuIG5ld0JvdW5kcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBTbmFwIGluIG9uZSBvciBib3RoIGRpcmVjdGlvbnMgdmVydGljYWxseS5cclxuICpcclxuICogQHBhcmFtIHtSZWN0fSBuZXdCb3VuZHNcclxuICogQHBhcmFtIHtzdHJpbmd9IGRpcmVjdGlvbnMgLSBEaXJlY3Rpb25zIGFzIHtufHd8c3xlfS5cclxuICpcclxuICogQHJldHVybiB7UmVjdH0gU25hcHBlZCBib3VuZHMuXHJcbiAqL1xyXG5SZXNpemVCZWhhdmlvci5wcm90b3R5cGUuc25hcFZlcnRpY2FsbHkgPSBmdW5jdGlvbihuZXdCb3VuZHMsIGRpcmVjdGlvbnMpIHtcclxuICB2YXIgZ3JpZFNuYXBwaW5nID0gdGhpcy5fZ3JpZFNuYXBwaW5nLFxyXG4gICAgICBub3J0aCA9IC9uLy50ZXN0KGRpcmVjdGlvbnMpLFxyXG4gICAgICBzb3V0aCA9IC9zLy50ZXN0KGRpcmVjdGlvbnMpO1xyXG5cclxuICB2YXIgc25hcHBlZE5ld0JvdW5kcyA9IHt9O1xyXG5cclxuICBzbmFwcGVkTmV3Qm91bmRzLmhlaWdodCA9IGdyaWRTbmFwcGluZy5zbmFwVmFsdWUobmV3Qm91bmRzLmhlaWdodCwge1xyXG4gICAgbWluOiBuZXdCb3VuZHMuaGVpZ2h0XHJcbiAgfSk7XHJcblxyXG4gIGlmIChub3J0aCkge1xyXG5cclxuICAgIC8vIGhhbmRsZSA8bnM+XHJcbiAgICBpZiAoc291dGgpIHtcclxuICAgICAgc25hcHBlZE5ld0JvdW5kcy55ID0gZ3JpZFNuYXBwaW5nLnNuYXBWYWx1ZShuZXdCb3VuZHMueSwge1xyXG4gICAgICAgIG1heDogbmV3Qm91bmRzLnlcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBzbmFwcGVkTmV3Qm91bmRzLmhlaWdodCArPSBncmlkU25hcHBpbmcuc25hcFZhbHVlKG5ld0JvdW5kcy55IC0gc25hcHBlZE5ld0JvdW5kcy55LCB7XHJcbiAgICAgICAgbWluOiBuZXdCb3VuZHMueSAtIHNuYXBwZWROZXdCb3VuZHMueVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBoYW5kbGUgPG4+XHJcbiAgICBlbHNlIHtcclxuICAgICAgbmV3Qm91bmRzLnkgPSBuZXdCb3VuZHMueSArIG5ld0JvdW5kcy5oZWlnaHQgLSBzbmFwcGVkTmV3Qm91bmRzLmhlaWdodDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIGFzc2lnbiBzbmFwcGVkIHkgYW5kIGhlaWdodFxyXG4gIGFzc2lnbihuZXdCb3VuZHMsIHNuYXBwZWROZXdCb3VuZHMpO1xyXG5cclxuICByZXR1cm4gbmV3Qm91bmRzO1xyXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/grid-snapping/behavior/ResizeBehavior.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/grid-snapping/behavior/SpaceToolBehavior.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/grid-snapping/behavior/SpaceToolBehavior.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SpaceToolBehavior)\n/* harmony export */ });\n/**\r\n * @typedef {import('../../../core/EventBus').default} EventBus\r\n * @typedef {import('../../grid-snapping/GridSnapping').default} GridSnapping\r\n */\r\n\r\nvar HIGH_PRIORITY = 2000;\r\n\r\n/**\r\n * Integrates space tool with grid snapping.\r\n *\r\n * @param {EventBus} eventBus\r\n * @param {GridSnapping} gridSnapping\r\n */\r\nfunction SpaceToolBehavior(eventBus, gridSnapping) {\r\n  eventBus.on([\r\n    'spaceTool.move',\r\n    'spaceTool.end'\r\n  ], HIGH_PRIORITY, function(event) {\r\n    var context = event.context;\r\n\r\n    if (!context.initialized) {\r\n      return;\r\n    }\r\n\r\n    var axis = context.axis;\r\n\r\n    var snapped;\r\n\r\n    if (axis === 'x') {\r\n\r\n      // snap delta x to multiple of 10\r\n      snapped = gridSnapping.snapValue(event.dx);\r\n\r\n      event.x = event.x + snapped - event.dx;\r\n      event.dx = snapped;\r\n    } else {\r\n\r\n      // snap delta y to multiple of 10\r\n      snapped = gridSnapping.snapValue(event.dy);\r\n\r\n      event.y = event.y + snapped - event.dy;\r\n      event.dy = snapped;\r\n    }\r\n  });\r\n}\r\n\r\nSpaceToolBehavior.$inject = [\r\n  'eventBus',\r\n  'gridSnapping'\r\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvZ3JpZC1zbmFwcGluZy9iZWhhdmlvci9TcGFjZVRvb2xCZWhhdmlvci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQSxhQUFhLDBDQUEwQztBQUN2RCxhQUFhLG9EQUFvRDtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLGNBQWM7QUFDekI7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvZ3JpZC1zbmFwcGluZy9iZWhhdmlvci9TcGFjZVRvb2xCZWhhdmlvci5qcz83MzBhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi8uLi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcclxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vZ3JpZC1zbmFwcGluZy9HcmlkU25hcHBpbmcnKS5kZWZhdWx0fSBHcmlkU25hcHBpbmdcclxuICovXHJcblxyXG52YXIgSElHSF9QUklPUklUWSA9IDIwMDA7XHJcblxyXG4vKipcclxuICogSW50ZWdyYXRlcyBzcGFjZSB0b29sIHdpdGggZ3JpZCBzbmFwcGluZy5cclxuICpcclxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcclxuICogQHBhcmFtIHtHcmlkU25hcHBpbmd9IGdyaWRTbmFwcGluZ1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU3BhY2VUb29sQmVoYXZpb3IoZXZlbnRCdXMsIGdyaWRTbmFwcGluZykge1xyXG4gIGV2ZW50QnVzLm9uKFtcclxuICAgICdzcGFjZVRvb2wubW92ZScsXHJcbiAgICAnc3BhY2VUb29sLmVuZCdcclxuICBdLCBISUdIX1BSSU9SSVRZLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0O1xyXG5cclxuICAgIGlmICghY29udGV4dC5pbml0aWFsaXplZCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGF4aXMgPSBjb250ZXh0LmF4aXM7XHJcblxyXG4gICAgdmFyIHNuYXBwZWQ7XHJcblxyXG4gICAgaWYgKGF4aXMgPT09ICd4Jykge1xyXG5cclxuICAgICAgLy8gc25hcCBkZWx0YSB4IHRvIG11bHRpcGxlIG9mIDEwXHJcbiAgICAgIHNuYXBwZWQgPSBncmlkU25hcHBpbmcuc25hcFZhbHVlKGV2ZW50LmR4KTtcclxuXHJcbiAgICAgIGV2ZW50LnggPSBldmVudC54ICsgc25hcHBlZCAtIGV2ZW50LmR4O1xyXG4gICAgICBldmVudC5keCA9IHNuYXBwZWQ7XHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgLy8gc25hcCBkZWx0YSB5IHRvIG11bHRpcGxlIG9mIDEwXHJcbiAgICAgIHNuYXBwZWQgPSBncmlkU25hcHBpbmcuc25hcFZhbHVlKGV2ZW50LmR5KTtcclxuXHJcbiAgICAgIGV2ZW50LnkgPSBldmVudC55ICsgc25hcHBlZCAtIGV2ZW50LmR5O1xyXG4gICAgICBldmVudC5keSA9IHNuYXBwZWQ7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcblNwYWNlVG9vbEJlaGF2aW9yLiRpbmplY3QgPSBbXHJcbiAgJ2V2ZW50QnVzJyxcclxuICAnZ3JpZFNuYXBwaW5nJ1xyXG5dOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/grid-snapping/behavior/SpaceToolBehavior.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/grid-snapping/behavior/index.js":
/*!******************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/grid-snapping/behavior/index.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ResizeBehavior__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ResizeBehavior */ \"(ssr)/./node_modules/diagram-js/lib/features/grid-snapping/behavior/ResizeBehavior.js\");\n/* harmony import */ var _SpaceToolBehavior__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SpaceToolBehavior */ \"(ssr)/./node_modules/diagram-js/lib/features/grid-snapping/behavior/SpaceToolBehavior.js\");\n\r\n\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\r\n  __init__: [\r\n    'gridSnappingResizeBehavior',\r\n    'gridSnappingSpaceToolBehavior'\r\n  ],\r\n  gridSnappingResizeBehavior: [ 'type', _ResizeBehavior__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ],\r\n  gridSnappingSpaceToolBehavior: [ 'type', _SpaceToolBehavior__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ]\r\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvZ3JpZC1zbmFwcGluZy9iZWhhdmlvci9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBOEM7QUFDTTtBQUNwRDtBQUNBLGlFQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsdURBQWM7QUFDdEQsMkNBQTJDLDBEQUFpQjtBQUM1RCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2dyaWQtc25hcHBpbmcvYmVoYXZpb3IvaW5kZXguanM/NjMyMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVzaXplQmVoYXZpb3IgZnJvbSAnLi9SZXNpemVCZWhhdmlvcic7XHJcbmltcG9ydCBTcGFjZVRvb2xCZWhhdmlvciBmcm9tICcuL1NwYWNlVG9vbEJlaGF2aW9yJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBfX2luaXRfXzogW1xyXG4gICAgJ2dyaWRTbmFwcGluZ1Jlc2l6ZUJlaGF2aW9yJyxcclxuICAgICdncmlkU25hcHBpbmdTcGFjZVRvb2xCZWhhdmlvcidcclxuICBdLFxyXG4gIGdyaWRTbmFwcGluZ1Jlc2l6ZUJlaGF2aW9yOiBbICd0eXBlJywgUmVzaXplQmVoYXZpb3IgXSxcclxuICBncmlkU25hcHBpbmdTcGFjZVRvb2xCZWhhdmlvcjogWyAndHlwZScsIFNwYWNlVG9vbEJlaGF2aW9yIF1cclxufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/grid-snapping/behavior/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/grid-snapping/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/grid-snapping/index.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _GridSnapping__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GridSnapping */ \"(ssr)/./node_modules/diagram-js/lib/features/grid-snapping/GridSnapping.js\");\n/* harmony import */ var _behavior__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./behavior */ \"(ssr)/./node_modules/diagram-js/lib/features/grid-snapping/behavior/index.js\");\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @type { import('didi').ModuleDeclaration }\r\n */\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\r\n  __depends__: [ _behavior__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ],\r\n  __init__: [ 'gridSnapping' ],\r\n  gridSnapping: [ 'type', _GridSnapping__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ]\r\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvZ3JpZC1zbmFwcGluZy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMEM7QUFDMUM7QUFDb0Q7QUFDcEQ7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsaUVBQWU7QUFDZixpQkFBaUIsaURBQTBCO0FBQzNDO0FBQ0EsMEJBQTBCLHFEQUFZO0FBQ3RDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvZ3JpZC1zbmFwcGluZy9pbmRleC5qcz9kODViIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBHcmlkU25hcHBpbmcgZnJvbSAnLi9HcmlkU25hcHBpbmcnO1xyXG5cclxuaW1wb3J0IEdyaWRTbmFwcGluZ0JlaGF2aW9yTW9kdWxlIGZyb20gJy4vYmVoYXZpb3InO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7IGltcG9ydCgnZGlkaScpLk1vZHVsZURlY2xhcmF0aW9uIH1cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBfX2RlcGVuZHNfXzogWyBHcmlkU25hcHBpbmdCZWhhdmlvck1vZHVsZSBdLFxyXG4gIF9faW5pdF9fOiBbICdncmlkU25hcHBpbmcnIF0sXHJcbiAgZ3JpZFNuYXBwaW5nOiBbICd0eXBlJywgR3JpZFNuYXBwaW5nIF1cclxufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/grid-snapping/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/hand-tool/HandTool.js":
/*!********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/hand-tool/HandTool.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HandTool)\n/* harmony export */ });\n/* harmony import */ var _util_Mouse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/Mouse */ \"(ssr)/./node_modules/diagram-js/lib/util/Mouse.js\");\n/* harmony import */ var _features_keyboard_KeyboardUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../features/keyboard/KeyboardUtil */ \"(ssr)/./node_modules/diagram-js/lib/features/keyboard/KeyboardUtil.js\");\n\n\n\n\n/**\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../dragging/Dragging').default} Dragging\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../mouse/Mouse').default} Mouse\n * @typedef {import('../tool-manager/ToolManager').default} ToolManager\n */\n\nvar HIGH_PRIORITY = 1500;\nvar HAND_CURSOR = 'grab';\n\n/**\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {Dragging} dragging\n * @param {Injector} injector\n * @param {ToolManager} toolManager\n * @param {Mouse} mouse\n */\nfunction HandTool(\n    eventBus, canvas, dragging,\n    injector, toolManager, mouse) {\n\n  this._dragging = dragging;\n  this._mouse = mouse;\n\n  var self = this,\n      keyboard = injector.get('keyboard', false);\n\n  toolManager.registerTool('hand', {\n    tool: 'hand',\n    dragging: 'hand.move'\n  });\n\n  eventBus.on('element.mousedown', HIGH_PRIORITY, function(event) {\n\n    if (!(0,_util_Mouse__WEBPACK_IMPORTED_MODULE_0__.hasPrimaryModifier)(event)) {\n      return;\n    }\n\n    self.activateMove(event.originalEvent, true);\n\n    return false;\n  });\n\n  keyboard && keyboard.addListener(HIGH_PRIORITY, function(e) {\n    if (!isSpace(e.keyEvent) || self.isActive()) {\n      return;\n    }\n\n    var mouseEvent = self._mouse.getLastMoveEvent();\n\n    self.activateMove(mouseEvent, !!mouseEvent);\n  }, 'keyboard.keydown');\n\n  keyboard && keyboard.addListener(HIGH_PRIORITY, function(e) {\n    if (!isSpace(e.keyEvent) || !self.isActive()) {\n      return;\n    }\n\n    self.toggle();\n  }, 'keyboard.keyup');\n\n  eventBus.on('hand.end', function(event) {\n    var target = event.originalEvent.target;\n\n    // only reactive on diagram click\n    // on some occasions, event.hover is not set and we have to check if the target is an svg\n    if (!event.hover && !(target instanceof SVGElement)) {\n      return false;\n    }\n\n    eventBus.once('hand.ended', function() {\n      self.activateMove(event.originalEvent, { reactivate: true });\n    });\n\n  });\n\n  eventBus.on('hand.move.move', function(event) {\n    var scale = canvas.viewbox().scale;\n\n    canvas.scroll({\n      dx: event.dx * scale,\n      dy: event.dy * scale\n    });\n  });\n\n  eventBus.on('hand.move.end', function(event) {\n    var context = event.context,\n        reactivate = context.reactivate;\n\n    // Don't reactivate if the user is using the keyboard keybinding\n    if (!(0,_util_Mouse__WEBPACK_IMPORTED_MODULE_0__.hasPrimaryModifier)(event) && reactivate) {\n\n      eventBus.once('hand.move.ended', function(event) {\n        self.activateHand(event.originalEvent, true, true);\n      });\n\n    }\n\n    return false;\n  });\n\n}\n\nHandTool.$inject = [\n  'eventBus',\n  'canvas',\n  'dragging',\n  'injector',\n  'toolManager',\n  'mouse'\n];\n\n/**\n *\n * @param event\n * @param {boolean} [autoActivate]\n * @param {object} [context]\n */\nHandTool.prototype.activateMove = function(event, autoActivate, context) {\n  if (typeof autoActivate === 'object') {\n    context = autoActivate;\n    autoActivate = false;\n  }\n\n  this._dragging.init(event, 'hand.move', {\n    autoActivate: autoActivate,\n    cursor: HAND_CURSOR,\n    data: {\n      context: context || {}\n    }\n  });\n};\n\n/**\n *\n * @param event\n * @param {boolean} [autoActivate]\n * @param {boolean} [reactivate]\n */\nHandTool.prototype.activateHand = function(event, autoActivate, reactivate) {\n  this._dragging.init(event, 'hand', {\n    trapClick: false,\n    autoActivate: autoActivate,\n    cursor: HAND_CURSOR,\n    data: {\n      context: {\n        reactivate: reactivate\n      }\n    }\n  });\n};\n\nHandTool.prototype.toggle = function() {\n  if (this.isActive()) {\n    return this._dragging.cancel();\n  }\n\n  var mouseEvent = this._mouse.getLastMoveEvent();\n\n  this.activateHand(mouseEvent, !!mouseEvent);\n};\n\nHandTool.prototype.isActive = function() {\n  var context = this._dragging.context();\n\n  if (context) {\n    return /^(hand|hand\\.move)$/.test(context.prefix);\n  }\n\n  return false;\n};\n\n// helpers //////////\n\nfunction isSpace(keyEvent) {\n  return (0,_features_keyboard_KeyboardUtil__WEBPACK_IMPORTED_MODULE_1__.isKey)('Space', keyEvent);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvaGFuZC10b29sL0hhbmRUb29sLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUUwQjs7QUFFbUM7O0FBRTdEO0FBQ0EsYUFBYSx5QkFBeUI7QUFDdEM7QUFDQSxhQUFhLHFDQUFxQztBQUNsRCxhQUFhLHdDQUF3QztBQUNyRCxhQUFhLHVDQUF1QztBQUNwRCxhQUFhLGtDQUFrQztBQUMvQyxhQUFhLCtDQUErQztBQUM1RDs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFVBQVU7QUFDckIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsYUFBYTtBQUN4QixXQUFXLE9BQU87QUFDbEI7QUFDZTtBQUNmO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUEsU0FBUywrREFBa0I7QUFDM0I7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0Msa0JBQWtCO0FBQ2pFLEtBQUs7O0FBRUwsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVMsK0RBQWtCOztBQUUzQjtBQUNBO0FBQ0EsT0FBTzs7QUFFUDs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFNBQVMsc0VBQUs7QUFDZCIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9oYW5kLXRvb2wvSGFuZFRvb2wuanM/NmQ2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBoYXNQcmltYXJ5TW9kaWZpZXJcbn0gZnJvbSAnLi4vLi4vdXRpbC9Nb3VzZSc7XG5cbmltcG9ydCB7IGlzS2V5IH0gZnJvbSAnLi4vLi4vZmVhdHVyZXMva2V5Ym9hcmQvS2V5Ym9hcmRVdGlsJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCdkaWRpJykuSW5qZWN0b3J9IEluamVjdG9yXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9DYW52YXMnKS5kZWZhdWx0fSBDYW52YXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2RyYWdnaW5nL0RyYWdnaW5nJykuZGVmYXVsdH0gRHJhZ2dpbmdcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vbW91c2UvTW91c2UnKS5kZWZhdWx0fSBNb3VzZVxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vdG9vbC1tYW5hZ2VyL1Rvb2xNYW5hZ2VyJykuZGVmYXVsdH0gVG9vbE1hbmFnZXJcbiAqL1xuXG52YXIgSElHSF9QUklPUklUWSA9IDE1MDA7XG52YXIgSEFORF9DVVJTT1IgPSAnZ3JhYic7XG5cbi8qKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqIEBwYXJhbSB7RHJhZ2dpbmd9IGRyYWdnaW5nXG4gKiBAcGFyYW0ge0luamVjdG9yfSBpbmplY3RvclxuICogQHBhcmFtIHtUb29sTWFuYWdlcn0gdG9vbE1hbmFnZXJcbiAqIEBwYXJhbSB7TW91c2V9IG1vdXNlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEhhbmRUb29sKFxuICAgIGV2ZW50QnVzLCBjYW52YXMsIGRyYWdnaW5nLFxuICAgIGluamVjdG9yLCB0b29sTWFuYWdlciwgbW91c2UpIHtcblxuICB0aGlzLl9kcmFnZ2luZyA9IGRyYWdnaW5nO1xuICB0aGlzLl9tb3VzZSA9IG1vdXNlO1xuXG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIGtleWJvYXJkID0gaW5qZWN0b3IuZ2V0KCdrZXlib2FyZCcsIGZhbHNlKTtcblxuICB0b29sTWFuYWdlci5yZWdpc3RlclRvb2woJ2hhbmQnLCB7XG4gICAgdG9vbDogJ2hhbmQnLFxuICAgIGRyYWdnaW5nOiAnaGFuZC5tb3ZlJ1xuICB9KTtcblxuICBldmVudEJ1cy5vbignZWxlbWVudC5tb3VzZWRvd24nLCBISUdIX1BSSU9SSVRZLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgaWYgKCFoYXNQcmltYXJ5TW9kaWZpZXIoZXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2VsZi5hY3RpdmF0ZU1vdmUoZXZlbnQub3JpZ2luYWxFdmVudCwgdHJ1ZSk7XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xuXG4gIGtleWJvYXJkICYmIGtleWJvYXJkLmFkZExpc3RlbmVyKEhJR0hfUFJJT1JJVFksIGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoIWlzU3BhY2UoZS5rZXlFdmVudCkgfHwgc2VsZi5pc0FjdGl2ZSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG1vdXNlRXZlbnQgPSBzZWxmLl9tb3VzZS5nZXRMYXN0TW92ZUV2ZW50KCk7XG5cbiAgICBzZWxmLmFjdGl2YXRlTW92ZShtb3VzZUV2ZW50LCAhIW1vdXNlRXZlbnQpO1xuICB9LCAna2V5Ym9hcmQua2V5ZG93bicpO1xuXG4gIGtleWJvYXJkICYmIGtleWJvYXJkLmFkZExpc3RlbmVyKEhJR0hfUFJJT1JJVFksIGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoIWlzU3BhY2UoZS5rZXlFdmVudCkgfHwgIXNlbGYuaXNBY3RpdmUoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNlbGYudG9nZ2xlKCk7XG4gIH0sICdrZXlib2FyZC5rZXl1cCcpO1xuXG4gIGV2ZW50QnVzLm9uKCdoYW5kLmVuZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIHRhcmdldCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQudGFyZ2V0O1xuXG4gICAgLy8gb25seSByZWFjdGl2ZSBvbiBkaWFncmFtIGNsaWNrXG4gICAgLy8gb24gc29tZSBvY2Nhc2lvbnMsIGV2ZW50LmhvdmVyIGlzIG5vdCBzZXQgYW5kIHdlIGhhdmUgdG8gY2hlY2sgaWYgdGhlIHRhcmdldCBpcyBhbiBzdmdcbiAgICBpZiAoIWV2ZW50LmhvdmVyICYmICEodGFyZ2V0IGluc3RhbmNlb2YgU1ZHRWxlbWVudCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBldmVudEJ1cy5vbmNlKCdoYW5kLmVuZGVkJywgZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLmFjdGl2YXRlTW92ZShldmVudC5vcmlnaW5hbEV2ZW50LCB7IHJlYWN0aXZhdGU6IHRydWUgfSk7XG4gICAgfSk7XG5cbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2hhbmQubW92ZS5tb3ZlJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgc2NhbGUgPSBjYW52YXMudmlld2JveCgpLnNjYWxlO1xuXG4gICAgY2FudmFzLnNjcm9sbCh7XG4gICAgICBkeDogZXZlbnQuZHggKiBzY2FsZSxcbiAgICAgIGR5OiBldmVudC5keSAqIHNjYWxlXG4gICAgfSk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdoYW5kLm1vdmUuZW5kJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIHJlYWN0aXZhdGUgPSBjb250ZXh0LnJlYWN0aXZhdGU7XG5cbiAgICAvLyBEb24ndCByZWFjdGl2YXRlIGlmIHRoZSB1c2VyIGlzIHVzaW5nIHRoZSBrZXlib2FyZCBrZXliaW5kaW5nXG4gICAgaWYgKCFoYXNQcmltYXJ5TW9kaWZpZXIoZXZlbnQpICYmIHJlYWN0aXZhdGUpIHtcblxuICAgICAgZXZlbnRCdXMub25jZSgnaGFuZC5tb3ZlLmVuZGVkJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgc2VsZi5hY3RpdmF0ZUhhbmQoZXZlbnQub3JpZ2luYWxFdmVudCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICB9KTtcblxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG5cbn1cblxuSGFuZFRvb2wuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ2NhbnZhcycsXG4gICdkcmFnZ2luZycsXG4gICdpbmplY3RvcicsXG4gICd0b29sTWFuYWdlcicsXG4gICdtb3VzZSdcbl07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBldmVudFxuICogQHBhcmFtIHtib29sZWFufSBbYXV0b0FjdGl2YXRlXVxuICogQHBhcmFtIHtvYmplY3R9IFtjb250ZXh0XVxuICovXG5IYW5kVG9vbC5wcm90b3R5cGUuYWN0aXZhdGVNb3ZlID0gZnVuY3Rpb24oZXZlbnQsIGF1dG9BY3RpdmF0ZSwgY29udGV4dCkge1xuICBpZiAodHlwZW9mIGF1dG9BY3RpdmF0ZSA9PT0gJ29iamVjdCcpIHtcbiAgICBjb250ZXh0ID0gYXV0b0FjdGl2YXRlO1xuICAgIGF1dG9BY3RpdmF0ZSA9IGZhbHNlO1xuICB9XG5cbiAgdGhpcy5fZHJhZ2dpbmcuaW5pdChldmVudCwgJ2hhbmQubW92ZScsIHtcbiAgICBhdXRvQWN0aXZhdGU6IGF1dG9BY3RpdmF0ZSxcbiAgICBjdXJzb3I6IEhBTkRfQ1VSU09SLFxuICAgIGRhdGE6IHtcbiAgICAgIGNvbnRleHQ6IGNvbnRleHQgfHwge31cbiAgICB9XG4gIH0pO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIGV2ZW50XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFthdXRvQWN0aXZhdGVdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtyZWFjdGl2YXRlXVxuICovXG5IYW5kVG9vbC5wcm90b3R5cGUuYWN0aXZhdGVIYW5kID0gZnVuY3Rpb24oZXZlbnQsIGF1dG9BY3RpdmF0ZSwgcmVhY3RpdmF0ZSkge1xuICB0aGlzLl9kcmFnZ2luZy5pbml0KGV2ZW50LCAnaGFuZCcsIHtcbiAgICB0cmFwQ2xpY2s6IGZhbHNlLFxuICAgIGF1dG9BY3RpdmF0ZTogYXV0b0FjdGl2YXRlLFxuICAgIGN1cnNvcjogSEFORF9DVVJTT1IsXG4gICAgZGF0YToge1xuICAgICAgY29udGV4dDoge1xuICAgICAgICByZWFjdGl2YXRlOiByZWFjdGl2YXRlXG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG5cbkhhbmRUb29sLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuaXNBY3RpdmUoKSkge1xuICAgIHJldHVybiB0aGlzLl9kcmFnZ2luZy5jYW5jZWwoKTtcbiAgfVxuXG4gIHZhciBtb3VzZUV2ZW50ID0gdGhpcy5fbW91c2UuZ2V0TGFzdE1vdmVFdmVudCgpO1xuXG4gIHRoaXMuYWN0aXZhdGVIYW5kKG1vdXNlRXZlbnQsICEhbW91c2VFdmVudCk7XG59O1xuXG5IYW5kVG9vbC5wcm90b3R5cGUuaXNBY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGNvbnRleHQgPSB0aGlzLl9kcmFnZ2luZy5jb250ZXh0KCk7XG5cbiAgaWYgKGNvbnRleHQpIHtcbiAgICByZXR1cm4gL14oaGFuZHxoYW5kXFwubW92ZSkkLy50ZXN0KGNvbnRleHQucHJlZml4KTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn07XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBpc1NwYWNlKGtleUV2ZW50KSB7XG4gIHJldHVybiBpc0tleSgnU3BhY2UnLCBrZXlFdmVudCk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/hand-tool/HandTool.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/hand-tool/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/hand-tool/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _tool_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tool-manager */ \"(ssr)/./node_modules/diagram-js/lib/features/tool-manager/index.js\");\n/* harmony import */ var _mouse__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../mouse */ \"(ssr)/./node_modules/diagram-js/lib/features/mouse/index.js\");\n/* harmony import */ var _HandTool__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./HandTool */ \"(ssr)/./node_modules/diagram-js/lib/features/hand-tool/HandTool.js\");\n\n\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _tool_manager__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    _mouse__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n  ],\n  __init__: [ 'handTool' ],\n  handTool: [ 'type', _HandTool__WEBPACK_IMPORTED_MODULE_2__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvaGFuZC10b29sL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBZ0Q7QUFDYjs7QUFFRDs7O0FBR2xDO0FBQ0EsV0FBVztBQUNYO0FBQ0EsaUVBQWU7QUFDZjtBQUNBLElBQUkscURBQWlCO0FBQ3JCLElBQUksOENBQVc7QUFDZjtBQUNBO0FBQ0Esc0JBQXNCLGlEQUFRO0FBQzlCLENBQUMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9oYW5kLXRvb2wvaW5kZXguanM/ZTg2NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVG9vbE1hbmFnZXJNb2R1bGUgZnJvbSAnLi4vdG9vbC1tYW5hZ2VyJztcbmltcG9ydCBNb3VzZU1vZHVsZSBmcm9tICcuLi9tb3VzZSc7XG5cbmltcG9ydCBIYW5kVG9vbCBmcm9tICcuL0hhbmRUb29sJztcblxuXG4vKipcbiAqIEB0eXBlIHsgaW1wb3J0KCdkaWRpJykuTW9kdWxlRGVjbGFyYXRpb24gfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgVG9vbE1hbmFnZXJNb2R1bGUsXG4gICAgTW91c2VNb2R1bGVcbiAgXSxcbiAgX19pbml0X186IFsgJ2hhbmRUb29sJyBdLFxuICBoYW5kVG9vbDogWyAndHlwZScsIEhhbmRUb29sIF1cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/hand-tool/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/hover-fix/HoverFix.js":
/*!********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/hover-fix/HoverFix.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HoverFix)\n/* harmony export */ });\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dom */ \"(ssr)/./node_modules/min-dom/dist/index.esm.js\");\n/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/Event */ \"(ssr)/./node_modules/diagram-js/lib/util/Event.js\");\n\n\n\n\n/**\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\n * @typedef {import('../../core/EventBus').default} EventBus\n */\n\nvar HIGH_PRIORITY = 1500;\n\n\n/**\n * Browsers may swallow certain events (hover, out ...) if users are to\n * fast with the mouse.\n *\n * @see http://stackoverflow.com/questions/7448468/why-cant-i-reliably-capture-a-mouseout-event\n *\n * The fix implemented in this component ensure that we\n *\n * 1) have a hover state after a successful drag.move event\n * 2) have an out event when dragging leaves an element\n *\n * @param {ElementRegistry} elementRegistry\n * @param {EventBus} eventBus\n * @param {Injector} injector\n */\nfunction HoverFix(elementRegistry, eventBus, injector) {\n\n  var self = this;\n\n  var dragging = injector.get('dragging', false);\n\n  /**\n   * Make sure we are god damn hovering!\n   *\n   * @param {Event} dragging event\n   */\n  function ensureHover(event) {\n\n    if (event.hover) {\n      return;\n    }\n\n    var originalEvent = event.originalEvent;\n\n    var gfx = self._findTargetGfx(originalEvent);\n\n    var element = gfx && elementRegistry.get(gfx);\n\n    if (gfx && element) {\n\n      // 1) cancel current mousemove\n      event.stopPropagation();\n\n      // 2) emit fake hover for new target\n      dragging.hover({ element: element, gfx: gfx });\n\n      // 3) re-trigger move event\n      dragging.move(originalEvent);\n    }\n  }\n\n\n  if (dragging) {\n\n    /**\n     * We wait for a specific sequence of events before\n     * emitting a fake drag.hover event.\n     *\n     * Event Sequence:\n     *\n     * drag.start\n     * drag.move >> ensure we are hovering\n     */\n    eventBus.on('drag.start', function(event) {\n\n      eventBus.once('drag.move', HIGH_PRIORITY, function(event) {\n\n        ensureHover(event);\n\n      });\n\n    });\n  }\n\n\n  /**\n   * We make sure that element.out is always fired, even if the\n   * browser swallows an element.out event.\n   *\n   * Event sequence:\n   *\n   * element.hover\n   * (element.out >> sometimes swallowed)\n   * element.hover >> ensure we fired element.out\n   */\n  (function() {\n    var hoverGfx;\n    var hover;\n\n    eventBus.on('element.hover', function(event) {\n\n      // (1) remember current hover element\n      hoverGfx = event.gfx;\n      hover = event.element;\n    });\n\n    eventBus.on('element.hover', HIGH_PRIORITY, function(event) {\n\n      // (3) am I on an element still?\n      if (hover) {\n\n        // (4) that is a problem, gotta \"simulate the out\"\n        eventBus.fire('element.out', {\n          element: hover,\n          gfx: hoverGfx\n        });\n      }\n\n    });\n\n    eventBus.on('element.out', function() {\n\n      // (2) unset hover state if we correctly outed us *GG*\n      hoverGfx = null;\n      hover = null;\n    });\n\n  })();\n\n  this._findTargetGfx = function(event) {\n    var position,\n        target;\n\n    if (!(event instanceof MouseEvent)) {\n      return;\n    }\n\n    position = (0,_util_Event__WEBPACK_IMPORTED_MODULE_0__.toPoint)(event);\n\n    // damn expensive operation, ouch!\n    target = document.elementFromPoint(position.x, position.y);\n\n    return getGfx(target);\n  };\n\n}\n\nHoverFix.$inject = [\n  'elementRegistry',\n  'eventBus',\n  'injector'\n];\n\n\n// helpers /////////////////////\n\nfunction getGfx(target) {\n  return (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.closest)(target, 'svg, .djs-element', true);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvaG92ZXItZml4L0hvdmVyRml4LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUVpQjs7QUFJUzs7QUFFMUI7QUFDQSxhQUFhLHlCQUF5QjtBQUN0QztBQUNBLGFBQWEsOENBQThDO0FBQzNELGFBQWEsdUNBQXVDO0FBQ3BEOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsVUFBVTtBQUNyQjtBQUNlOztBQUVmOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCLDRCQUE0Qjs7QUFFbkQ7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLE9BQU87O0FBRVAsS0FBSztBQUNMOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUEsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxlQUFlLG9EQUFPOztBQUV0QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQSxTQUFTLGdEQUFVO0FBQ25CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2hvdmVyLWZpeC9Ib3ZlckZpeC5qcz9iYTljIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGNsb3Nlc3QgYXMgZG9tQ2xvc2VzdFxufSBmcm9tICdtaW4tZG9tJztcblxuaW1wb3J0IHtcbiAgdG9Qb2ludFxufSBmcm9tICcuLi8uLi91dGlsL0V2ZW50JztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCdkaWRpJykuSW5qZWN0b3J9IEluamVjdG9yXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FbGVtZW50UmVnaXN0cnknKS5kZWZhdWx0fSBFbGVtZW50UmVnaXN0cnlcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICovXG5cbnZhciBISUdIX1BSSU9SSVRZID0gMTUwMDtcblxuXG4vKipcbiAqIEJyb3dzZXJzIG1heSBzd2FsbG93IGNlcnRhaW4gZXZlbnRzIChob3Zlciwgb3V0IC4uLikgaWYgdXNlcnMgYXJlIHRvXG4gKiBmYXN0IHdpdGggdGhlIG1vdXNlLlxuICpcbiAqIEBzZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83NDQ4NDY4L3doeS1jYW50LWktcmVsaWFibHktY2FwdHVyZS1hLW1vdXNlb3V0LWV2ZW50XG4gKlxuICogVGhlIGZpeCBpbXBsZW1lbnRlZCBpbiB0aGlzIGNvbXBvbmVudCBlbnN1cmUgdGhhdCB3ZVxuICpcbiAqIDEpIGhhdmUgYSBob3ZlciBzdGF0ZSBhZnRlciBhIHN1Y2Nlc3NmdWwgZHJhZy5tb3ZlIGV2ZW50XG4gKiAyKSBoYXZlIGFuIG91dCBldmVudCB3aGVuIGRyYWdnaW5nIGxlYXZlcyBhbiBlbGVtZW50XG4gKlxuICogQHBhcmFtIHtFbGVtZW50UmVnaXN0cnl9IGVsZW1lbnRSZWdpc3RyeVxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7SW5qZWN0b3J9IGluamVjdG9yXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEhvdmVyRml4KGVsZW1lbnRSZWdpc3RyeSwgZXZlbnRCdXMsIGluamVjdG9yKSB7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHZhciBkcmFnZ2luZyA9IGluamVjdG9yLmdldCgnZHJhZ2dpbmcnLCBmYWxzZSk7XG5cbiAgLyoqXG4gICAqIE1ha2Ugc3VyZSB3ZSBhcmUgZ29kIGRhbW4gaG92ZXJpbmchXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9IGRyYWdnaW5nIGV2ZW50XG4gICAqL1xuICBmdW5jdGlvbiBlbnN1cmVIb3ZlcihldmVudCkge1xuXG4gICAgaWYgKGV2ZW50LmhvdmVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG9yaWdpbmFsRXZlbnQgPSBldmVudC5vcmlnaW5hbEV2ZW50O1xuXG4gICAgdmFyIGdmeCA9IHNlbGYuX2ZpbmRUYXJnZXRHZngob3JpZ2luYWxFdmVudCk7XG5cbiAgICB2YXIgZWxlbWVudCA9IGdmeCAmJiBlbGVtZW50UmVnaXN0cnkuZ2V0KGdmeCk7XG5cbiAgICBpZiAoZ2Z4ICYmIGVsZW1lbnQpIHtcblxuICAgICAgLy8gMSkgY2FuY2VsIGN1cnJlbnQgbW91c2Vtb3ZlXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgLy8gMikgZW1pdCBmYWtlIGhvdmVyIGZvciBuZXcgdGFyZ2V0XG4gICAgICBkcmFnZ2luZy5ob3Zlcih7IGVsZW1lbnQ6IGVsZW1lbnQsIGdmeDogZ2Z4IH0pO1xuXG4gICAgICAvLyAzKSByZS10cmlnZ2VyIG1vdmUgZXZlbnRcbiAgICAgIGRyYWdnaW5nLm1vdmUob3JpZ2luYWxFdmVudCk7XG4gICAgfVxuICB9XG5cblxuICBpZiAoZHJhZ2dpbmcpIHtcblxuICAgIC8qKlxuICAgICAqIFdlIHdhaXQgZm9yIGEgc3BlY2lmaWMgc2VxdWVuY2Ugb2YgZXZlbnRzIGJlZm9yZVxuICAgICAqIGVtaXR0aW5nIGEgZmFrZSBkcmFnLmhvdmVyIGV2ZW50LlxuICAgICAqXG4gICAgICogRXZlbnQgU2VxdWVuY2U6XG4gICAgICpcbiAgICAgKiBkcmFnLnN0YXJ0XG4gICAgICogZHJhZy5tb3ZlID4+IGVuc3VyZSB3ZSBhcmUgaG92ZXJpbmdcbiAgICAgKi9cbiAgICBldmVudEJ1cy5vbignZHJhZy5zdGFydCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgIGV2ZW50QnVzLm9uY2UoJ2RyYWcubW92ZScsIEhJR0hfUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgZW5zdXJlSG92ZXIoZXZlbnQpO1xuXG4gICAgICB9KTtcblxuICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgICogV2UgbWFrZSBzdXJlIHRoYXQgZWxlbWVudC5vdXQgaXMgYWx3YXlzIGZpcmVkLCBldmVuIGlmIHRoZVxuICAgKiBicm93c2VyIHN3YWxsb3dzIGFuIGVsZW1lbnQub3V0IGV2ZW50LlxuICAgKlxuICAgKiBFdmVudCBzZXF1ZW5jZTpcbiAgICpcbiAgICogZWxlbWVudC5ob3ZlclxuICAgKiAoZWxlbWVudC5vdXQgPj4gc29tZXRpbWVzIHN3YWxsb3dlZClcbiAgICogZWxlbWVudC5ob3ZlciA+PiBlbnN1cmUgd2UgZmlyZWQgZWxlbWVudC5vdXRcbiAgICovXG4gIChmdW5jdGlvbigpIHtcbiAgICB2YXIgaG92ZXJHZng7XG4gICAgdmFyIGhvdmVyO1xuXG4gICAgZXZlbnRCdXMub24oJ2VsZW1lbnQuaG92ZXInLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAvLyAoMSkgcmVtZW1iZXIgY3VycmVudCBob3ZlciBlbGVtZW50XG4gICAgICBob3ZlckdmeCA9IGV2ZW50LmdmeDtcbiAgICAgIGhvdmVyID0gZXZlbnQuZWxlbWVudDtcbiAgICB9KTtcblxuICAgIGV2ZW50QnVzLm9uKCdlbGVtZW50LmhvdmVyJywgSElHSF9QUklPUklUWSwgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgLy8gKDMpIGFtIEkgb24gYW4gZWxlbWVudCBzdGlsbD9cbiAgICAgIGlmIChob3Zlcikge1xuXG4gICAgICAgIC8vICg0KSB0aGF0IGlzIGEgcHJvYmxlbSwgZ290dGEgXCJzaW11bGF0ZSB0aGUgb3V0XCJcbiAgICAgICAgZXZlbnRCdXMuZmlyZSgnZWxlbWVudC5vdXQnLCB7XG4gICAgICAgICAgZWxlbWVudDogaG92ZXIsXG4gICAgICAgICAgZ2Z4OiBob3ZlckdmeFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgZXZlbnRCdXMub24oJ2VsZW1lbnQub3V0JywgZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vICgyKSB1bnNldCBob3ZlciBzdGF0ZSBpZiB3ZSBjb3JyZWN0bHkgb3V0ZWQgdXMgKkdHKlxuICAgICAgaG92ZXJHZnggPSBudWxsO1xuICAgICAgaG92ZXIgPSBudWxsO1xuICAgIH0pO1xuXG4gIH0pKCk7XG5cbiAgdGhpcy5fZmluZFRhcmdldEdmeCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIHBvc2l0aW9uLFxuICAgICAgICB0YXJnZXQ7XG5cbiAgICBpZiAoIShldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcG9zaXRpb24gPSB0b1BvaW50KGV2ZW50KTtcblxuICAgIC8vIGRhbW4gZXhwZW5zaXZlIG9wZXJhdGlvbiwgb3VjaCFcbiAgICB0YXJnZXQgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHBvc2l0aW9uLngsIHBvc2l0aW9uLnkpO1xuXG4gICAgcmV0dXJuIGdldEdmeCh0YXJnZXQpO1xuICB9O1xuXG59XG5cbkhvdmVyRml4LiRpbmplY3QgPSBbXG4gICdlbGVtZW50UmVnaXN0cnknLFxuICAnZXZlbnRCdXMnLFxuICAnaW5qZWN0b3InXG5dO1xuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGdldEdmeCh0YXJnZXQpIHtcbiAgcmV0dXJuIGRvbUNsb3Nlc3QodGFyZ2V0LCAnc3ZnLCAuZGpzLWVsZW1lbnQnLCB0cnVlKTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/hover-fix/HoverFix.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/hover-fix/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/hover-fix/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _HoverFix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./HoverFix */ \"(ssr)/./node_modules/diagram-js/lib/features/hover-fix/HoverFix.js\");\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [\n    'hoverFix'\n  ],\n  hoverFix: [ 'type', _HoverFix__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ],\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvaG92ZXItZml4L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWtDOzs7QUFHbEM7QUFDQSxXQUFXO0FBQ1g7QUFDQSxpRUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixpREFBUTtBQUM5QixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2hvdmVyLWZpeC9pbmRleC5qcz83YzE4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBIb3ZlckZpeCBmcm9tICcuL0hvdmVyRml4JztcblxuXG4vKipcbiAqIEB0eXBlIHsgaW1wb3J0KCdkaWRpJykuTW9kdWxlRGVjbGFyYXRpb24gfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbXG4gICAgJ2hvdmVyRml4J1xuICBdLFxuICBob3ZlckZpeDogWyAndHlwZScsIEhvdmVyRml4IF0sXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/hover-fix/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/interaction-events/InteractionEvents.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/interaction-events/InteractionEvents.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ InteractionEvents)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dom */ \"(ssr)/./node_modules/min-dom/dist/index.esm.js\");\n/* harmony import */ var _util_Mouse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/Mouse */ \"(ssr)/./node_modules/diagram-js/lib/util/Mouse.js\");\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/./node_modules/tiny-svg/dist/index.esm.js\");\n/* harmony import */ var _util_RenderUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/RenderUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/RenderUtil.js\");\n\n\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../../draw/Styles').default} Styles\n *\n * @typedef {import('../../util/Types').Point} Point\n */\n\nfunction allowAll(event) { return true; }\n\nfunction allowPrimaryAndAuxiliary(event) {\n  return (0,_util_Mouse__WEBPACK_IMPORTED_MODULE_0__.isPrimaryButton)(event) || (0,_util_Mouse__WEBPACK_IMPORTED_MODULE_0__.isAuxiliaryButton)(event);\n}\n\nvar LOW_PRIORITY = 500;\n\n\n/**\n * A plugin that provides interaction events for diagram elements.\n *\n * It emits the following events:\n *\n *   * element.click\n *   * element.contextmenu\n *   * element.dblclick\n *   * element.hover\n *   * element.mousedown\n *   * element.mousemove\n *   * element.mouseup\n *   * element.out\n *\n * Each event is a tuple { element, gfx, originalEvent }.\n *\n * Canceling the event via Event#preventDefault()\n * prevents the original DOM operation.\n *\n * @param {EventBus} eventBus\n * @param {ElementRegistry} elementRegistry\n * @param {Styles} styles\n */\nfunction InteractionEvents(eventBus, elementRegistry, styles) {\n\n  var self = this;\n\n  /**\n   * Fire an interaction event.\n   *\n   * @param {string} type local event name, e.g. element.click.\n   * @param {MouseEvent|TouchEvent} event native event\n   * @param {Element} [element] the diagram element to emit the event on;\n   *                                   defaults to the event target\n   */\n  function fire(type, event, element) {\n\n    if (isIgnored(type, event)) {\n      return;\n    }\n\n    var target, gfx, returnValue;\n\n    if (!element) {\n      target = event.delegateTarget || event.target;\n\n      if (target) {\n        gfx = target;\n        element = elementRegistry.get(gfx);\n      }\n    } else {\n      gfx = elementRegistry.getGraphics(element);\n    }\n\n    if (!gfx || !element) {\n      return;\n    }\n\n    returnValue = eventBus.fire(type, {\n      element: element,\n      gfx: gfx,\n      originalEvent: event\n    });\n\n    if (returnValue === false) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  }\n\n  // TODO(nikku): document this\n  var handlers = {};\n\n  function mouseHandler(localEventName) {\n    return handlers[localEventName];\n  }\n\n  function isIgnored(localEventName, event) {\n\n    var filter = ignoredFilters[localEventName] || _util_Mouse__WEBPACK_IMPORTED_MODULE_0__.isPrimaryButton;\n\n    // only react on left mouse button interactions\n    // except for interaction events that are enabled\n    // for secundary mouse button\n    return !filter(event);\n  }\n\n  var bindings = {\n    click: 'element.click',\n    contextmenu: 'element.contextmenu',\n    dblclick: 'element.dblclick',\n    mousedown: 'element.mousedown',\n    mousemove: 'element.mousemove',\n    mouseover: 'element.hover',\n    mouseout: 'element.out',\n    mouseup: 'element.mouseup',\n  };\n\n  var ignoredFilters = {\n    'element.contextmenu': allowAll,\n    'element.mousedown': allowPrimaryAndAuxiliary,\n    'element.mouseup': allowPrimaryAndAuxiliary,\n    'element.click': allowPrimaryAndAuxiliary,\n    'element.dblclick': allowPrimaryAndAuxiliary\n  };\n\n\n  // manual event trigger //////////\n\n  /**\n   * Trigger an interaction event (based on a native dom event)\n   * on the target shape or connection.\n   *\n   * @param {string} eventName the name of the triggered DOM event\n   * @param {MouseEvent|TouchEvent} event\n   * @param {Element} targetElement\n   */\n  function triggerMouseEvent(eventName, event, targetElement) {\n\n    // i.e. element.mousedown...\n    var localEventName = bindings[eventName];\n\n    if (!localEventName) {\n      throw new Error('unmapped DOM event name <' + eventName + '>');\n    }\n\n    return fire(localEventName, event, targetElement);\n  }\n\n\n  var ELEMENT_SELECTOR = 'svg, .djs-element';\n\n  // event handling ///////\n\n  function registerEvent(node, event, localEvent, ignoredFilter) {\n\n    var handler = handlers[localEvent] = function(event) {\n      fire(localEvent, event);\n    };\n\n    if (ignoredFilter) {\n      ignoredFilters[localEvent] = ignoredFilter;\n    }\n\n    handler.$delegate = min_dom__WEBPACK_IMPORTED_MODULE_1__.delegate.bind(node, ELEMENT_SELECTOR, event, handler);\n  }\n\n  function unregisterEvent(node, event, localEvent) {\n\n    var handler = mouseHandler(localEvent);\n\n    if (!handler) {\n      return;\n    }\n\n    min_dom__WEBPACK_IMPORTED_MODULE_1__.delegate.unbind(node, event, handler.$delegate);\n  }\n\n  function registerEvents(svg) {\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.forEach)(bindings, function(val, key) {\n      registerEvent(svg, key, val);\n    });\n  }\n\n  function unregisterEvents(svg) {\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.forEach)(bindings, function(val, key) {\n      unregisterEvent(svg, key, val);\n    });\n  }\n\n  eventBus.on('canvas.destroy', function(event) {\n    unregisterEvents(event.svg);\n  });\n\n  eventBus.on('canvas.init', function(event) {\n    registerEvents(event.svg);\n  });\n\n\n  // hit box updating ////////////////\n\n  eventBus.on([ 'shape.added', 'connection.added' ], function(event) {\n    var element = event.element,\n        gfx = event.gfx;\n\n    eventBus.fire('interactionEvents.createHit', { element: element, gfx: gfx });\n  });\n\n  // Update djs-hit on change.\n  // A low priortity is necessary, because djs-hit of labels has to be updated\n  // after the label bounds have been updated in the renderer.\n  eventBus.on([\n    'shape.changed',\n    'connection.changed'\n  ], LOW_PRIORITY, function(event) {\n\n    var element = event.element,\n        gfx = event.gfx;\n\n    eventBus.fire('interactionEvents.updateHit', { element: element, gfx: gfx });\n  });\n\n  eventBus.on('interactionEvents.createHit', LOW_PRIORITY, function(event) {\n    var element = event.element,\n        gfx = event.gfx;\n\n    self.createDefaultHit(element, gfx);\n  });\n\n  eventBus.on('interactionEvents.updateHit', function(event) {\n    var element = event.element,\n        gfx = event.gfx;\n\n    self.updateDefaultHit(element, gfx);\n  });\n\n\n  // hit styles ////////////\n\n  var STROKE_HIT_STYLE = createHitStyle('djs-hit djs-hit-stroke');\n\n  var CLICK_STROKE_HIT_STYLE = createHitStyle('djs-hit djs-hit-click-stroke');\n\n  var ALL_HIT_STYLE = createHitStyle('djs-hit djs-hit-all');\n\n  var NO_MOVE_HIT_STYLE = createHitStyle('djs-hit djs-hit-no-move');\n\n  var HIT_TYPES = {\n    'all': ALL_HIT_STYLE,\n    'click-stroke': CLICK_STROKE_HIT_STYLE,\n    'stroke': STROKE_HIT_STYLE,\n    'no-move': NO_MOVE_HIT_STYLE\n  };\n\n  function createHitStyle(classNames, attrs) {\n\n    attrs = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.assign)({\n      stroke: 'white',\n      strokeWidth: 15\n    }, attrs || {});\n\n    return styles.cls(classNames, [ 'no-fill', 'no-border' ], attrs);\n  }\n\n\n  // style helpers ///////////////\n\n  function applyStyle(hit, type) {\n\n    var attrs = HIT_TYPES[type];\n\n    if (!attrs) {\n      throw new Error('invalid hit type <' + type + '>');\n    }\n\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_3__.attr)(hit, attrs);\n\n    return hit;\n  }\n\n  function appendHit(gfx, hit) {\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_3__.append)(gfx, hit);\n  }\n\n\n  // API\n\n  /**\n   * Remove hints on the given graphics.\n   *\n   * @param {SVGElement} gfx\n   */\n  this.removeHits = function(gfx) {\n    var hits = (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.queryAll)('.djs-hit', gfx);\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.forEach)(hits, tiny_svg__WEBPACK_IMPORTED_MODULE_3__.remove);\n  };\n\n  /**\n   * Create default hit for the given element.\n   *\n   * @param {Element} element\n   * @param {SVGElement} gfx\n   *\n   * @return {SVGElement} created hit\n   */\n  this.createDefaultHit = function(element, gfx) {\n    var waypoints = element.waypoints,\n        isFrame = element.isFrame,\n        boxType;\n\n    if (waypoints) {\n      return this.createWaypointsHit(gfx, waypoints);\n    } else {\n\n      boxType = isFrame ? 'stroke' : 'all';\n\n      return this.createBoxHit(gfx, boxType, {\n        width: element.width,\n        height: element.height\n      });\n    }\n  };\n\n  /**\n   * Create hits for the given waypoints.\n   *\n   * @param {SVGElement} gfx\n   * @param {Point[]} waypoints\n   *\n   * @return {SVGElement}\n   */\n  this.createWaypointsHit = function(gfx, waypoints) {\n\n    var hit = (0,_util_RenderUtil__WEBPACK_IMPORTED_MODULE_4__.createLine)(waypoints);\n\n    applyStyle(hit, 'stroke');\n\n    appendHit(gfx, hit);\n\n    return hit;\n  };\n\n  /**\n   * Create hits for a box.\n   *\n   * @param {SVGElement} gfx\n   * @param {string} type\n   * @param {Object} attrs\n   *\n   * @return {SVGElement}\n   */\n  this.createBoxHit = function(gfx, type, attrs) {\n\n    attrs = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.assign)({\n      x: 0,\n      y: 0\n    }, attrs);\n\n    var hit = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_3__.create)('rect');\n\n    applyStyle(hit, type);\n\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_3__.attr)(hit, attrs);\n\n    appendHit(gfx, hit);\n\n    return hit;\n  };\n\n  /**\n   * Update default hit of the element.\n   *\n   * @param {Element} element\n   * @param {SVGElement} gfx\n   *\n   * @return {SVGElement} updated hit\n   */\n  this.updateDefaultHit = function(element, gfx) {\n\n    var hit = (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.query)('.djs-hit', gfx);\n\n    if (!hit) {\n      return;\n    }\n\n    if (element.waypoints) {\n      (0,_util_RenderUtil__WEBPACK_IMPORTED_MODULE_4__.updateLine)(hit, element.waypoints);\n    } else {\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_3__.attr)(hit, {\n        width: element.width,\n        height: element.height\n      });\n    }\n\n    return hit;\n  };\n\n  this.fire = fire;\n\n  this.triggerMouseEvent = triggerMouseEvent;\n\n  this.mouseHandler = mouseHandler;\n\n  this.registerEvent = registerEvent;\n  this.unregisterEvent = unregisterEvent;\n}\n\n\nInteractionEvents.$inject = [\n  'eventBus',\n  'elementRegistry',\n  'styles'\n];\n\n\n/**\n * An event indicating that the mouse hovered over an element\n *\n * @event element.hover\n *\n * @type {Object}\n * @property {Element} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has left an element\n *\n * @event element.out\n *\n * @type {Object}\n * @property {Element} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has clicked an element\n *\n * @event element.click\n *\n * @type {Object}\n * @property {Element} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has double clicked an element\n *\n * @event element.dblclick\n *\n * @type {Object}\n * @property {Element} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has gone down on an element.\n *\n * @event element.mousedown\n *\n * @type {Object}\n * @property {Element} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has gone up on an element.\n *\n * @event element.mouseup\n *\n * @type {Object}\n * @property {Element} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the context menu action is triggered\n * via mouse or touch controls.\n *\n * @event element.contextmenu\n *\n * @type {Object}\n * @property {Element} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n *///# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvaW50ZXJhY3Rpb24tZXZlbnRzL0ludGVyYWN0aW9uRXZlbnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUdrQjs7QUFNRDs7QUFLUzs7QUFPUjs7QUFLYTs7QUFFL0I7QUFDQSxhQUFhLHFDQUFxQztBQUNsRDtBQUNBLGFBQWEsOENBQThDO0FBQzNELGFBQWEsdUNBQXVDO0FBQ3BELGFBQWEscUNBQXFDO0FBQ2xEO0FBQ0EsYUFBYSxrQ0FBa0M7QUFDL0M7O0FBRUEsMkJBQTJCOztBQUUzQjtBQUNBLFNBQVMsNERBQWUsV0FBVyw4REFBaUI7QUFDcEQ7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsNkJBQTZCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsaUJBQWlCO0FBQzVCLFdBQVcsUUFBUTtBQUNuQjtBQUNlOztBQUVmOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLHVCQUF1QjtBQUNwQyxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLG1EQUFtRCx3REFBZTs7QUFFbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSx1QkFBdUI7QUFDcEMsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSx3QkFBd0IsNkNBQVc7QUFDbkM7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBLElBQUksNkNBQVc7QUFDZjs7QUFFQTtBQUNBLElBQUksaURBQU87QUFDWDtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLElBQUksaURBQU87QUFDWDtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7O0FBR0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBLG1EQUFtRCw0QkFBNEI7QUFDL0UsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLG1EQUFtRCw0QkFBNEI7QUFDL0UsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7OztBQUdIOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxZQUFZLGdEQUFNO0FBQ2xCO0FBQ0E7QUFDQSxLQUFLLGFBQWE7O0FBRWxCO0FBQ0E7OztBQUdBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJLDhDQUFPOztBQUVYO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLGdEQUFTO0FBQ2I7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsWUFBWTtBQUN6QjtBQUNBO0FBQ0EsZUFBZSxpREFBVzs7QUFFMUIsSUFBSSxpREFBTyxPQUFPLDRDQUFTO0FBQzNCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsU0FBUztBQUN0QixhQUFhLFlBQVk7QUFDekI7QUFDQSxjQUFjLFlBQVk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFlBQVk7QUFDekIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUEsY0FBYyw0REFBVTs7QUFFeEI7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFlBQVk7QUFDekIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQjtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBLFlBQVksZ0RBQU07QUFDbEI7QUFDQTtBQUNBLEtBQUs7O0FBRUwsY0FBYyxnREFBUzs7QUFFdkI7O0FBRUEsSUFBSSw4Q0FBTzs7QUFFWDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsU0FBUztBQUN0QixhQUFhLFlBQVk7QUFDekI7QUFDQSxjQUFjLFlBQVk7QUFDMUI7QUFDQTs7QUFFQSxjQUFjLDhDQUFROztBQUV0QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNLDREQUFVO0FBQ2hCLE1BQU07QUFDTixNQUFNLDhDQUFPO0FBQ2I7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixjQUFjLFNBQVM7QUFDdkIsY0FBYyxZQUFZO0FBQzFCLGNBQWMsT0FBTztBQUNyQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLGNBQWMsU0FBUztBQUN2QixjQUFjLFlBQVk7QUFDMUIsY0FBYyxPQUFPO0FBQ3JCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsWUFBWTtBQUMxQixjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixjQUFjLFNBQVM7QUFDdkIsY0FBYyxZQUFZO0FBQzFCLGNBQWMsT0FBTztBQUNyQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLGNBQWMsU0FBUztBQUN2QixjQUFjLFlBQVk7QUFDMUIsY0FBYyxPQUFPO0FBQ3JCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsWUFBWTtBQUMxQixjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLGNBQWMsU0FBUztBQUN2QixjQUFjLFlBQVk7QUFDMUIsY0FBYyxPQUFPO0FBQ3JCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2ludGVyYWN0aW9uLWV2ZW50cy9JbnRlcmFjdGlvbkV2ZW50cy5qcz8yMjI5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGZvckVhY2gsXG4gIGFzc2lnblxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGRlbGVnYXRlIGFzIGRvbURlbGVnYXRlLFxuICBxdWVyeSBhcyBkb21RdWVyeSxcbiAgcXVlcnlBbGwgYXMgZG9tUXVlcnlBbGxcbn0gZnJvbSAnbWluLWRvbSc7XG5cbmltcG9ydCB7XG4gIGlzUHJpbWFyeUJ1dHRvbixcbiAgaXNBdXhpbGlhcnlCdXR0b25cbn0gZnJvbSAnLi4vLi4vdXRpbC9Nb3VzZSc7XG5cbmltcG9ydCB7XG4gIGFwcGVuZCBhcyBzdmdBcHBlbmQsXG4gIGF0dHIgYXMgc3ZnQXR0cixcbiAgY3JlYXRlIGFzIHN2Z0NyZWF0ZSxcbiAgcmVtb3ZlIGFzIHN2Z1JlbW92ZVxufSBmcm9tICd0aW55LXN2Zyc7XG5cbmltcG9ydCB7XG4gIGNyZWF0ZUxpbmUsXG4gIHVwZGF0ZUxpbmVcbn0gZnJvbSAnLi4vLi4vdXRpbC9SZW5kZXJVdGlsJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9tb2RlbC9UeXBlcycpLkVsZW1lbnR9IEVsZW1lbnRcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0VsZW1lbnRSZWdpc3RyeScpLmRlZmF1bHR9IEVsZW1lbnRSZWdpc3RyeVxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9kcmF3L1N0eWxlcycpLmRlZmF1bHR9IFN0eWxlc1xuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL3V0aWwvVHlwZXMnKS5Qb2ludH0gUG9pbnRcbiAqL1xuXG5mdW5jdGlvbiBhbGxvd0FsbChldmVudCkgeyByZXR1cm4gdHJ1ZTsgfVxuXG5mdW5jdGlvbiBhbGxvd1ByaW1hcnlBbmRBdXhpbGlhcnkoZXZlbnQpIHtcbiAgcmV0dXJuIGlzUHJpbWFyeUJ1dHRvbihldmVudCkgfHwgaXNBdXhpbGlhcnlCdXR0b24oZXZlbnQpO1xufVxuXG52YXIgTE9XX1BSSU9SSVRZID0gNTAwO1xuXG5cbi8qKlxuICogQSBwbHVnaW4gdGhhdCBwcm92aWRlcyBpbnRlcmFjdGlvbiBldmVudHMgZm9yIGRpYWdyYW0gZWxlbWVudHMuXG4gKlxuICogSXQgZW1pdHMgdGhlIGZvbGxvd2luZyBldmVudHM6XG4gKlxuICogICAqIGVsZW1lbnQuY2xpY2tcbiAqICAgKiBlbGVtZW50LmNvbnRleHRtZW51XG4gKiAgICogZWxlbWVudC5kYmxjbGlja1xuICogICAqIGVsZW1lbnQuaG92ZXJcbiAqICAgKiBlbGVtZW50Lm1vdXNlZG93blxuICogICAqIGVsZW1lbnQubW91c2Vtb3ZlXG4gKiAgICogZWxlbWVudC5tb3VzZXVwXG4gKiAgICogZWxlbWVudC5vdXRcbiAqXG4gKiBFYWNoIGV2ZW50IGlzIGEgdHVwbGUgeyBlbGVtZW50LCBnZngsIG9yaWdpbmFsRXZlbnQgfS5cbiAqXG4gKiBDYW5jZWxpbmcgdGhlIGV2ZW50IHZpYSBFdmVudCNwcmV2ZW50RGVmYXVsdCgpXG4gKiBwcmV2ZW50cyB0aGUgb3JpZ2luYWwgRE9NIG9wZXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtFbGVtZW50UmVnaXN0cnl9IGVsZW1lbnRSZWdpc3RyeVxuICogQHBhcmFtIHtTdHlsZXN9IHN0eWxlc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJbnRlcmFjdGlvbkV2ZW50cyhldmVudEJ1cywgZWxlbWVudFJlZ2lzdHJ5LCBzdHlsZXMpIHtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgLyoqXG4gICAqIEZpcmUgYW4gaW50ZXJhY3Rpb24gZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIGxvY2FsIGV2ZW50IG5hbWUsIGUuZy4gZWxlbWVudC5jbGljay5cbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fFRvdWNoRXZlbnR9IGV2ZW50IG5hdGl2ZSBldmVudFxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IFtlbGVtZW50XSB0aGUgZGlhZ3JhbSBlbGVtZW50IHRvIGVtaXQgdGhlIGV2ZW50IG9uO1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdHMgdG8gdGhlIGV2ZW50IHRhcmdldFxuICAgKi9cbiAgZnVuY3Rpb24gZmlyZSh0eXBlLCBldmVudCwgZWxlbWVudCkge1xuXG4gICAgaWYgKGlzSWdub3JlZCh0eXBlLCBldmVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdGFyZ2V0LCBnZngsIHJldHVyblZhbHVlO1xuXG4gICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICB0YXJnZXQgPSBldmVudC5kZWxlZ2F0ZVRhcmdldCB8fCBldmVudC50YXJnZXQ7XG5cbiAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgZ2Z4ID0gdGFyZ2V0O1xuICAgICAgICBlbGVtZW50ID0gZWxlbWVudFJlZ2lzdHJ5LmdldChnZngpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBnZnggPSBlbGVtZW50UmVnaXN0cnkuZ2V0R3JhcGhpY3MoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgaWYgKCFnZnggfHwgIWVsZW1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm5WYWx1ZSA9IGV2ZW50QnVzLmZpcmUodHlwZSwge1xuICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgIGdmeDogZ2Z4LFxuICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnRcbiAgICB9KTtcblxuICAgIGlmIChyZXR1cm5WYWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH1cblxuICAvLyBUT0RPKG5pa2t1KTogZG9jdW1lbnQgdGhpc1xuICB2YXIgaGFuZGxlcnMgPSB7fTtcblxuICBmdW5jdGlvbiBtb3VzZUhhbmRsZXIobG9jYWxFdmVudE5hbWUpIHtcbiAgICByZXR1cm4gaGFuZGxlcnNbbG9jYWxFdmVudE5hbWVdO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNJZ25vcmVkKGxvY2FsRXZlbnROYW1lLCBldmVudCkge1xuXG4gICAgdmFyIGZpbHRlciA9IGlnbm9yZWRGaWx0ZXJzW2xvY2FsRXZlbnROYW1lXSB8fCBpc1ByaW1hcnlCdXR0b247XG5cbiAgICAvLyBvbmx5IHJlYWN0IG9uIGxlZnQgbW91c2UgYnV0dG9uIGludGVyYWN0aW9uc1xuICAgIC8vIGV4Y2VwdCBmb3IgaW50ZXJhY3Rpb24gZXZlbnRzIHRoYXQgYXJlIGVuYWJsZWRcbiAgICAvLyBmb3Igc2VjdW5kYXJ5IG1vdXNlIGJ1dHRvblxuICAgIHJldHVybiAhZmlsdGVyKGV2ZW50KTtcbiAgfVxuXG4gIHZhciBiaW5kaW5ncyA9IHtcbiAgICBjbGljazogJ2VsZW1lbnQuY2xpY2snLFxuICAgIGNvbnRleHRtZW51OiAnZWxlbWVudC5jb250ZXh0bWVudScsXG4gICAgZGJsY2xpY2s6ICdlbGVtZW50LmRibGNsaWNrJyxcbiAgICBtb3VzZWRvd246ICdlbGVtZW50Lm1vdXNlZG93bicsXG4gICAgbW91c2Vtb3ZlOiAnZWxlbWVudC5tb3VzZW1vdmUnLFxuICAgIG1vdXNlb3ZlcjogJ2VsZW1lbnQuaG92ZXInLFxuICAgIG1vdXNlb3V0OiAnZWxlbWVudC5vdXQnLFxuICAgIG1vdXNldXA6ICdlbGVtZW50Lm1vdXNldXAnLFxuICB9O1xuXG4gIHZhciBpZ25vcmVkRmlsdGVycyA9IHtcbiAgICAnZWxlbWVudC5jb250ZXh0bWVudSc6IGFsbG93QWxsLFxuICAgICdlbGVtZW50Lm1vdXNlZG93bic6IGFsbG93UHJpbWFyeUFuZEF1eGlsaWFyeSxcbiAgICAnZWxlbWVudC5tb3VzZXVwJzogYWxsb3dQcmltYXJ5QW5kQXV4aWxpYXJ5LFxuICAgICdlbGVtZW50LmNsaWNrJzogYWxsb3dQcmltYXJ5QW5kQXV4aWxpYXJ5LFxuICAgICdlbGVtZW50LmRibGNsaWNrJzogYWxsb3dQcmltYXJ5QW5kQXV4aWxpYXJ5XG4gIH07XG5cblxuICAvLyBtYW51YWwgZXZlbnQgdHJpZ2dlciAvLy8vLy8vLy8vXG5cbiAgLyoqXG4gICAqIFRyaWdnZXIgYW4gaW50ZXJhY3Rpb24gZXZlbnQgKGJhc2VkIG9uIGEgbmF0aXZlIGRvbSBldmVudClcbiAgICogb24gdGhlIHRhcmdldCBzaGFwZSBvciBjb25uZWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIHRoZSBuYW1lIG9mIHRoZSB0cmlnZ2VyZWQgRE9NIGV2ZW50XG4gICAqIEBwYXJhbSB7TW91c2VFdmVudHxUb3VjaEV2ZW50fSBldmVudFxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldEVsZW1lbnRcbiAgICovXG4gIGZ1bmN0aW9uIHRyaWdnZXJNb3VzZUV2ZW50KGV2ZW50TmFtZSwgZXZlbnQsIHRhcmdldEVsZW1lbnQpIHtcblxuICAgIC8vIGkuZS4gZWxlbWVudC5tb3VzZWRvd24uLi5cbiAgICB2YXIgbG9jYWxFdmVudE5hbWUgPSBiaW5kaW5nc1tldmVudE5hbWVdO1xuXG4gICAgaWYgKCFsb2NhbEV2ZW50TmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bm1hcHBlZCBET00gZXZlbnQgbmFtZSA8JyArIGV2ZW50TmFtZSArICc+Jyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZpcmUobG9jYWxFdmVudE5hbWUsIGV2ZW50LCB0YXJnZXRFbGVtZW50KTtcbiAgfVxuXG5cbiAgdmFyIEVMRU1FTlRfU0VMRUNUT1IgPSAnc3ZnLCAuZGpzLWVsZW1lbnQnO1xuXG4gIC8vIGV2ZW50IGhhbmRsaW5nIC8vLy8vLy9cblxuICBmdW5jdGlvbiByZWdpc3RlckV2ZW50KG5vZGUsIGV2ZW50LCBsb2NhbEV2ZW50LCBpZ25vcmVkRmlsdGVyKSB7XG5cbiAgICB2YXIgaGFuZGxlciA9IGhhbmRsZXJzW2xvY2FsRXZlbnRdID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGZpcmUobG9jYWxFdmVudCwgZXZlbnQpO1xuICAgIH07XG5cbiAgICBpZiAoaWdub3JlZEZpbHRlcikge1xuICAgICAgaWdub3JlZEZpbHRlcnNbbG9jYWxFdmVudF0gPSBpZ25vcmVkRmlsdGVyO1xuICAgIH1cblxuICAgIGhhbmRsZXIuJGRlbGVnYXRlID0gZG9tRGVsZWdhdGUuYmluZChub2RlLCBFTEVNRU5UX1NFTEVDVE9SLCBldmVudCwgaGFuZGxlcik7XG4gIH1cblxuICBmdW5jdGlvbiB1bnJlZ2lzdGVyRXZlbnQobm9kZSwgZXZlbnQsIGxvY2FsRXZlbnQpIHtcblxuICAgIHZhciBoYW5kbGVyID0gbW91c2VIYW5kbGVyKGxvY2FsRXZlbnQpO1xuXG4gICAgaWYgKCFoYW5kbGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZG9tRGVsZWdhdGUudW5iaW5kKG5vZGUsIGV2ZW50LCBoYW5kbGVyLiRkZWxlZ2F0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiByZWdpc3RlckV2ZW50cyhzdmcpIHtcbiAgICBmb3JFYWNoKGJpbmRpbmdzLCBmdW5jdGlvbih2YWwsIGtleSkge1xuICAgICAgcmVnaXN0ZXJFdmVudChzdmcsIGtleSwgdmFsKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVucmVnaXN0ZXJFdmVudHMoc3ZnKSB7XG4gICAgZm9yRWFjaChiaW5kaW5ncywgZnVuY3Rpb24odmFsLCBrZXkpIHtcbiAgICAgIHVucmVnaXN0ZXJFdmVudChzdmcsIGtleSwgdmFsKTtcbiAgICB9KTtcbiAgfVxuXG4gIGV2ZW50QnVzLm9uKCdjYW52YXMuZGVzdHJveScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdW5yZWdpc3RlckV2ZW50cyhldmVudC5zdmcpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignY2FudmFzLmluaXQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHJlZ2lzdGVyRXZlbnRzKGV2ZW50LnN2Zyk7XG4gIH0pO1xuXG5cbiAgLy8gaGl0IGJveCB1cGRhdGluZyAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgZXZlbnRCdXMub24oWyAnc2hhcGUuYWRkZWQnLCAnY29ubmVjdGlvbi5hZGRlZCcgXSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgZWxlbWVudCA9IGV2ZW50LmVsZW1lbnQsXG4gICAgICAgIGdmeCA9IGV2ZW50LmdmeDtcblxuICAgIGV2ZW50QnVzLmZpcmUoJ2ludGVyYWN0aW9uRXZlbnRzLmNyZWF0ZUhpdCcsIHsgZWxlbWVudDogZWxlbWVudCwgZ2Z4OiBnZnggfSk7XG4gIH0pO1xuXG4gIC8vIFVwZGF0ZSBkanMtaGl0IG9uIGNoYW5nZS5cbiAgLy8gQSBsb3cgcHJpb3J0aXR5IGlzIG5lY2Vzc2FyeSwgYmVjYXVzZSBkanMtaGl0IG9mIGxhYmVscyBoYXMgdG8gYmUgdXBkYXRlZFxuICAvLyBhZnRlciB0aGUgbGFiZWwgYm91bmRzIGhhdmUgYmVlbiB1cGRhdGVkIGluIHRoZSByZW5kZXJlci5cbiAgZXZlbnRCdXMub24oW1xuICAgICdzaGFwZS5jaGFuZ2VkJyxcbiAgICAnY29ubmVjdGlvbi5jaGFuZ2VkJ1xuICBdLCBMT1dfUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgZWxlbWVudCA9IGV2ZW50LmVsZW1lbnQsXG4gICAgICAgIGdmeCA9IGV2ZW50LmdmeDtcblxuICAgIGV2ZW50QnVzLmZpcmUoJ2ludGVyYWN0aW9uRXZlbnRzLnVwZGF0ZUhpdCcsIHsgZWxlbWVudDogZWxlbWVudCwgZ2Z4OiBnZnggfSk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdpbnRlcmFjdGlvbkV2ZW50cy5jcmVhdGVIaXQnLCBMT1dfUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGVsZW1lbnQgPSBldmVudC5lbGVtZW50LFxuICAgICAgICBnZnggPSBldmVudC5nZng7XG5cbiAgICBzZWxmLmNyZWF0ZURlZmF1bHRIaXQoZWxlbWVudCwgZ2Z4KTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2ludGVyYWN0aW9uRXZlbnRzLnVwZGF0ZUhpdCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGVsZW1lbnQgPSBldmVudC5lbGVtZW50LFxuICAgICAgICBnZnggPSBldmVudC5nZng7XG5cbiAgICBzZWxmLnVwZGF0ZURlZmF1bHRIaXQoZWxlbWVudCwgZ2Z4KTtcbiAgfSk7XG5cblxuICAvLyBoaXQgc3R5bGVzIC8vLy8vLy8vLy8vL1xuXG4gIHZhciBTVFJPS0VfSElUX1NUWUxFID0gY3JlYXRlSGl0U3R5bGUoJ2Rqcy1oaXQgZGpzLWhpdC1zdHJva2UnKTtcblxuICB2YXIgQ0xJQ0tfU1RST0tFX0hJVF9TVFlMRSA9IGNyZWF0ZUhpdFN0eWxlKCdkanMtaGl0IGRqcy1oaXQtY2xpY2stc3Ryb2tlJyk7XG5cbiAgdmFyIEFMTF9ISVRfU1RZTEUgPSBjcmVhdGVIaXRTdHlsZSgnZGpzLWhpdCBkanMtaGl0LWFsbCcpO1xuXG4gIHZhciBOT19NT1ZFX0hJVF9TVFlMRSA9IGNyZWF0ZUhpdFN0eWxlKCdkanMtaGl0IGRqcy1oaXQtbm8tbW92ZScpO1xuXG4gIHZhciBISVRfVFlQRVMgPSB7XG4gICAgJ2FsbCc6IEFMTF9ISVRfU1RZTEUsXG4gICAgJ2NsaWNrLXN0cm9rZSc6IENMSUNLX1NUUk9LRV9ISVRfU1RZTEUsXG4gICAgJ3N0cm9rZSc6IFNUUk9LRV9ISVRfU1RZTEUsXG4gICAgJ25vLW1vdmUnOiBOT19NT1ZFX0hJVF9TVFlMRVxuICB9O1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUhpdFN0eWxlKGNsYXNzTmFtZXMsIGF0dHJzKSB7XG5cbiAgICBhdHRycyA9IGFzc2lnbih7XG4gICAgICBzdHJva2U6ICd3aGl0ZScsXG4gICAgICBzdHJva2VXaWR0aDogMTVcbiAgICB9LCBhdHRycyB8fCB7fSk7XG5cbiAgICByZXR1cm4gc3R5bGVzLmNscyhjbGFzc05hbWVzLCBbICduby1maWxsJywgJ25vLWJvcmRlcicgXSwgYXR0cnMpO1xuICB9XG5cblxuICAvLyBzdHlsZSBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vL1xuXG4gIGZ1bmN0aW9uIGFwcGx5U3R5bGUoaGl0LCB0eXBlKSB7XG5cbiAgICB2YXIgYXR0cnMgPSBISVRfVFlQRVNbdHlwZV07XG5cbiAgICBpZiAoIWF0dHJzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgaGl0IHR5cGUgPCcgKyB0eXBlICsgJz4nKTtcbiAgICB9XG5cbiAgICBzdmdBdHRyKGhpdCwgYXR0cnMpO1xuXG4gICAgcmV0dXJuIGhpdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFwcGVuZEhpdChnZngsIGhpdCkge1xuICAgIHN2Z0FwcGVuZChnZngsIGhpdCk7XG4gIH1cblxuXG4gIC8vIEFQSVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgaGludHMgb24gdGhlIGdpdmVuIGdyYXBoaWNzLlxuICAgKlxuICAgKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGdmeFxuICAgKi9cbiAgdGhpcy5yZW1vdmVIaXRzID0gZnVuY3Rpb24oZ2Z4KSB7XG4gICAgdmFyIGhpdHMgPSBkb21RdWVyeUFsbCgnLmRqcy1oaXQnLCBnZngpO1xuXG4gICAgZm9yRWFjaChoaXRzLCBzdmdSZW1vdmUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgZGVmYXVsdCBoaXQgZm9yIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAgICogQHBhcmFtIHtTVkdFbGVtZW50fSBnZnhcbiAgICpcbiAgICogQHJldHVybiB7U1ZHRWxlbWVudH0gY3JlYXRlZCBoaXRcbiAgICovXG4gIHRoaXMuY3JlYXRlRGVmYXVsdEhpdCA9IGZ1bmN0aW9uKGVsZW1lbnQsIGdmeCkge1xuICAgIHZhciB3YXlwb2ludHMgPSBlbGVtZW50LndheXBvaW50cyxcbiAgICAgICAgaXNGcmFtZSA9IGVsZW1lbnQuaXNGcmFtZSxcbiAgICAgICAgYm94VHlwZTtcblxuICAgIGlmICh3YXlwb2ludHMpIHtcbiAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVdheXBvaW50c0hpdChnZngsIHdheXBvaW50cyk7XG4gICAgfSBlbHNlIHtcblxuICAgICAgYm94VHlwZSA9IGlzRnJhbWUgPyAnc3Ryb2tlJyA6ICdhbGwnO1xuXG4gICAgICByZXR1cm4gdGhpcy5jcmVhdGVCb3hIaXQoZ2Z4LCBib3hUeXBlLCB7XG4gICAgICAgIHdpZHRoOiBlbGVtZW50LndpZHRoLFxuICAgICAgICBoZWlnaHQ6IGVsZW1lbnQuaGVpZ2h0XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBoaXRzIGZvciB0aGUgZ2l2ZW4gd2F5cG9pbnRzLlxuICAgKlxuICAgKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGdmeFxuICAgKiBAcGFyYW0ge1BvaW50W119IHdheXBvaW50c1xuICAgKlxuICAgKiBAcmV0dXJuIHtTVkdFbGVtZW50fVxuICAgKi9cbiAgdGhpcy5jcmVhdGVXYXlwb2ludHNIaXQgPSBmdW5jdGlvbihnZngsIHdheXBvaW50cykge1xuXG4gICAgdmFyIGhpdCA9IGNyZWF0ZUxpbmUod2F5cG9pbnRzKTtcblxuICAgIGFwcGx5U3R5bGUoaGl0LCAnc3Ryb2tlJyk7XG5cbiAgICBhcHBlbmRIaXQoZ2Z4LCBoaXQpO1xuXG4gICAgcmV0dXJuIGhpdDtcbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlIGhpdHMgZm9yIGEgYm94LlxuICAgKlxuICAgKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGdmeFxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICAgKiBAcGFyYW0ge09iamVjdH0gYXR0cnNcbiAgICpcbiAgICogQHJldHVybiB7U1ZHRWxlbWVudH1cbiAgICovXG4gIHRoaXMuY3JlYXRlQm94SGl0ID0gZnVuY3Rpb24oZ2Z4LCB0eXBlLCBhdHRycykge1xuXG4gICAgYXR0cnMgPSBhc3NpZ24oe1xuICAgICAgeDogMCxcbiAgICAgIHk6IDBcbiAgICB9LCBhdHRycyk7XG5cbiAgICB2YXIgaGl0ID0gc3ZnQ3JlYXRlKCdyZWN0Jyk7XG5cbiAgICBhcHBseVN0eWxlKGhpdCwgdHlwZSk7XG5cbiAgICBzdmdBdHRyKGhpdCwgYXR0cnMpO1xuXG4gICAgYXBwZW5kSGl0KGdmeCwgaGl0KTtcblxuICAgIHJldHVybiBoaXQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBkZWZhdWx0IGhpdCBvZiB0aGUgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gICAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZ2Z4XG4gICAqXG4gICAqIEByZXR1cm4ge1NWR0VsZW1lbnR9IHVwZGF0ZWQgaGl0XG4gICAqL1xuICB0aGlzLnVwZGF0ZURlZmF1bHRIaXQgPSBmdW5jdGlvbihlbGVtZW50LCBnZngpIHtcblxuICAgIHZhciBoaXQgPSBkb21RdWVyeSgnLmRqcy1oaXQnLCBnZngpO1xuXG4gICAgaWYgKCFoaXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudC53YXlwb2ludHMpIHtcbiAgICAgIHVwZGF0ZUxpbmUoaGl0LCBlbGVtZW50LndheXBvaW50cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN2Z0F0dHIoaGl0LCB7XG4gICAgICAgIHdpZHRoOiBlbGVtZW50LndpZHRoLFxuICAgICAgICBoZWlnaHQ6IGVsZW1lbnQuaGVpZ2h0XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gaGl0O1xuICB9O1xuXG4gIHRoaXMuZmlyZSA9IGZpcmU7XG5cbiAgdGhpcy50cmlnZ2VyTW91c2VFdmVudCA9IHRyaWdnZXJNb3VzZUV2ZW50O1xuXG4gIHRoaXMubW91c2VIYW5kbGVyID0gbW91c2VIYW5kbGVyO1xuXG4gIHRoaXMucmVnaXN0ZXJFdmVudCA9IHJlZ2lzdGVyRXZlbnQ7XG4gIHRoaXMudW5yZWdpc3RlckV2ZW50ID0gdW5yZWdpc3RlckV2ZW50O1xufVxuXG5cbkludGVyYWN0aW9uRXZlbnRzLiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdlbGVtZW50UmVnaXN0cnknLFxuICAnc3R5bGVzJ1xuXTtcblxuXG4vKipcbiAqIEFuIGV2ZW50IGluZGljYXRpbmcgdGhhdCB0aGUgbW91c2UgaG92ZXJlZCBvdmVyIGFuIGVsZW1lbnRcbiAqXG4gKiBAZXZlbnQgZWxlbWVudC5ob3ZlclxuICpcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJvcGVydHkge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwcm9wZXJ0eSB7U1ZHRWxlbWVudH0gZ2Z4XG4gKiBAcHJvcGVydHkge0V2ZW50fSBvcmlnaW5hbEV2ZW50XG4gKi9cblxuLyoqXG4gKiBBbiBldmVudCBpbmRpY2F0aW5nIHRoYXQgdGhlIG1vdXNlIGhhcyBsZWZ0IGFuIGVsZW1lbnRcbiAqXG4gKiBAZXZlbnQgZWxlbWVudC5vdXRcbiAqXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByb3BlcnR5IHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcHJvcGVydHkge1NWR0VsZW1lbnR9IGdmeFxuICogQHByb3BlcnR5IHtFdmVudH0gb3JpZ2luYWxFdmVudFxuICovXG5cbi8qKlxuICogQW4gZXZlbnQgaW5kaWNhdGluZyB0aGF0IHRoZSBtb3VzZSBoYXMgY2xpY2tlZCBhbiBlbGVtZW50XG4gKlxuICogQGV2ZW50IGVsZW1lbnQuY2xpY2tcbiAqXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByb3BlcnR5IHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcHJvcGVydHkge1NWR0VsZW1lbnR9IGdmeFxuICogQHByb3BlcnR5IHtFdmVudH0gb3JpZ2luYWxFdmVudFxuICovXG5cbi8qKlxuICogQW4gZXZlbnQgaW5kaWNhdGluZyB0aGF0IHRoZSBtb3VzZSBoYXMgZG91YmxlIGNsaWNrZWQgYW4gZWxlbWVudFxuICpcbiAqIEBldmVudCBlbGVtZW50LmRibGNsaWNrXG4gKlxuICogQHR5cGUge09iamVjdH1cbiAqIEBwcm9wZXJ0eSB7RWxlbWVudH0gZWxlbWVudFxuICogQHByb3BlcnR5IHtTVkdFbGVtZW50fSBnZnhcbiAqIEBwcm9wZXJ0eSB7RXZlbnR9IG9yaWdpbmFsRXZlbnRcbiAqL1xuXG4vKipcbiAqIEFuIGV2ZW50IGluZGljYXRpbmcgdGhhdCB0aGUgbW91c2UgaGFzIGdvbmUgZG93biBvbiBhbiBlbGVtZW50LlxuICpcbiAqIEBldmVudCBlbGVtZW50Lm1vdXNlZG93blxuICpcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJvcGVydHkge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwcm9wZXJ0eSB7U1ZHRWxlbWVudH0gZ2Z4XG4gKiBAcHJvcGVydHkge0V2ZW50fSBvcmlnaW5hbEV2ZW50XG4gKi9cblxuLyoqXG4gKiBBbiBldmVudCBpbmRpY2F0aW5nIHRoYXQgdGhlIG1vdXNlIGhhcyBnb25lIHVwIG9uIGFuIGVsZW1lbnQuXG4gKlxuICogQGV2ZW50IGVsZW1lbnQubW91c2V1cFxuICpcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJvcGVydHkge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwcm9wZXJ0eSB7U1ZHRWxlbWVudH0gZ2Z4XG4gKiBAcHJvcGVydHkge0V2ZW50fSBvcmlnaW5hbEV2ZW50XG4gKi9cblxuLyoqXG4gKiBBbiBldmVudCBpbmRpY2F0aW5nIHRoYXQgdGhlIGNvbnRleHQgbWVudSBhY3Rpb24gaXMgdHJpZ2dlcmVkXG4gKiB2aWEgbW91c2Ugb3IgdG91Y2ggY29udHJvbHMuXG4gKlxuICogQGV2ZW50IGVsZW1lbnQuY29udGV4dG1lbnVcbiAqXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByb3BlcnR5IHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcHJvcGVydHkge1NWR0VsZW1lbnR9IGdmeFxuICogQHByb3BlcnR5IHtFdmVudH0gb3JpZ2luYWxFdmVudFxuICovIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/interaction-events/InteractionEvents.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/interaction-events/index.js":
/*!**************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/interaction-events/index.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _InteractionEvents__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./InteractionEvents */ \"(ssr)/./node_modules/diagram-js/lib/features/interaction-events/InteractionEvents.js\");\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [ 'interactionEvents' ],\n  interactionEvents: [ 'type', _InteractionEvents__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvaW50ZXJhY3Rpb24tZXZlbnRzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQW9EOzs7QUFHcEQ7QUFDQSxXQUFXO0FBQ1g7QUFDQSxpRUFBZTtBQUNmO0FBQ0EsK0JBQStCLDBEQUFpQjtBQUNoRCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2ludGVyYWN0aW9uLWV2ZW50cy9pbmRleC5qcz9jZjA0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBJbnRlcmFjdGlvbkV2ZW50cyBmcm9tICcuL0ludGVyYWN0aW9uRXZlbnRzJztcblxuXG4vKipcbiAqIEB0eXBlIHsgaW1wb3J0KCdkaWRpJykuTW9kdWxlRGVjbGFyYXRpb24gfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICdpbnRlcmFjdGlvbkV2ZW50cycgXSxcbiAgaW50ZXJhY3Rpb25FdmVudHM6IFsgJ3R5cGUnLCBJbnRlcmFjdGlvbkV2ZW50cyBdXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/interaction-events/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/keyboard-move-selection/KeyboardMoveSelection.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/keyboard-move-selection/KeyboardMoveSelection.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ KeyboardMoveSelection)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('../keyboard/Keyboard').default} Keyboard\n * @typedef {import('../modeling/Modeling').default} Modeling\n * @typedef {import('../rules/Rules').default} Rules\n * @typedef {import('../selection/Selection').default} Selection\n */\n\nvar DEFAULT_CONFIG = {\n  moveSpeed: 1,\n  moveSpeedAccelerated: 10\n};\n\nvar HIGHER_PRIORITY = 1500;\n\nvar LEFT = 'left';\nvar UP = 'up';\nvar RIGHT = 'right';\nvar DOWN = 'down';\n\nvar KEY_TO_DIRECTION = {\n  ArrowLeft: LEFT,\n  Left: LEFT,\n  ArrowUp: UP,\n  Up: UP,\n  ArrowRight: RIGHT,\n  Right: RIGHT,\n  ArrowDown: DOWN,\n  Down: DOWN\n};\n\nvar DIRECTIONS_DELTA = {\n  left: function(speed) {\n    return {\n      x: -speed,\n      y: 0\n    };\n  },\n  up: function(speed) {\n    return {\n      x: 0,\n      y: -speed\n    };\n  },\n  right: function(speed) {\n    return {\n      x: speed,\n      y: 0\n    };\n  },\n  down: function(speed) {\n    return {\n      x: 0,\n      y: speed\n    };\n  }\n};\n\n\n/**\n * Enables to move selection with keyboard arrows.\n * Use with Shift for modified speed (default=1, with Shift=10).\n * Pressed Cmd/Ctrl turns the feature off.\n *\n * @param {Object} config\n * @param {number} [config.moveSpeed=1]\n * @param {number} [config.moveSpeedAccelerated=10]\n * @param {Keyboard} keyboard\n * @param {Modeling} modeling\n * @param {Rules} rules\n * @param {Selection} selection\n */\nfunction KeyboardMoveSelection(\n    config,\n    keyboard,\n    modeling,\n    rules,\n    selection\n) {\n\n  var self = this;\n\n  this._config = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({}, DEFAULT_CONFIG, config || {});\n\n  keyboard.addListener(HIGHER_PRIORITY, function(event) {\n\n    var keyEvent = event.keyEvent;\n\n    var direction = KEY_TO_DIRECTION[keyEvent.key];\n\n    if (!direction) {\n      return;\n    }\n\n    if (keyboard.isCmd(keyEvent)) {\n      return;\n    }\n\n    var accelerated = keyboard.isShift(keyEvent);\n\n    self.moveSelection(direction, accelerated);\n\n    return true;\n  });\n\n\n  /**\n   * Move selected elements in the given direction,\n   * optionally specifying accelerated movement.\n   *\n   * @param {string} direction\n   * @param {boolean} [accelerated=false]\n   */\n  this.moveSelection = function(direction, accelerated) {\n\n    var selectedElements = selection.get();\n\n    if (!selectedElements.length) {\n      return;\n    }\n\n    var speed = this._config[\n      accelerated ?\n        'moveSpeedAccelerated' :\n        'moveSpeed'\n    ];\n\n    var delta = DIRECTIONS_DELTA[direction](speed);\n\n    var canMove = rules.allowed('elements.move', {\n      shapes: selectedElements\n    });\n\n    if (canMove) {\n      modeling.moveElements(selectedElements, delta);\n    }\n  };\n\n}\n\nKeyboardMoveSelection.$inject = [\n  'config.keyboardMoveSelection',\n  'keyboard',\n  'modeling',\n  'rules',\n  'selection'\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMva2V5Ym9hcmQtbW92ZS1zZWxlY3Rpb24vS2V5Ym9hcmRNb3ZlU2VsZWN0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBRWtCOztBQUVsQjtBQUNBLGFBQWEsd0NBQXdDO0FBQ3JELGFBQWEsd0NBQXdDO0FBQ3JELGFBQWEsa0NBQWtDO0FBQy9DLGFBQWEsMENBQTBDO0FBQ3ZEOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFVBQVU7QUFDckIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsT0FBTztBQUNsQixXQUFXLFdBQVc7QUFDdEI7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxpQkFBaUIsZ0RBQU0sR0FBRyw4QkFBOEI7O0FBRXhEOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFNBQVM7QUFDdEI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9rZXlib2FyZC1tb3ZlLXNlbGVjdGlvbi9LZXlib2FyZE1vdmVTZWxlY3Rpb24uanM/OWQ0OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBhc3NpZ25cbn0gZnJvbSAnbWluLWRhc2gnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2tleWJvYXJkL0tleWJvYXJkJykuZGVmYXVsdH0gS2V5Ym9hcmRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL21vZGVsaW5nL01vZGVsaW5nJykuZGVmYXVsdH0gTW9kZWxpbmdcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3J1bGVzL1J1bGVzJykuZGVmYXVsdH0gUnVsZXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3NlbGVjdGlvbi9TZWxlY3Rpb24nKS5kZWZhdWx0fSBTZWxlY3Rpb25cbiAqL1xuXG52YXIgREVGQVVMVF9DT05GSUcgPSB7XG4gIG1vdmVTcGVlZDogMSxcbiAgbW92ZVNwZWVkQWNjZWxlcmF0ZWQ6IDEwXG59O1xuXG52YXIgSElHSEVSX1BSSU9SSVRZID0gMTUwMDtcblxudmFyIExFRlQgPSAnbGVmdCc7XG52YXIgVVAgPSAndXAnO1xudmFyIFJJR0hUID0gJ3JpZ2h0JztcbnZhciBET1dOID0gJ2Rvd24nO1xuXG52YXIgS0VZX1RPX0RJUkVDVElPTiA9IHtcbiAgQXJyb3dMZWZ0OiBMRUZULFxuICBMZWZ0OiBMRUZULFxuICBBcnJvd1VwOiBVUCxcbiAgVXA6IFVQLFxuICBBcnJvd1JpZ2h0OiBSSUdIVCxcbiAgUmlnaHQ6IFJJR0hULFxuICBBcnJvd0Rvd246IERPV04sXG4gIERvd246IERPV05cbn07XG5cbnZhciBESVJFQ1RJT05TX0RFTFRBID0ge1xuICBsZWZ0OiBmdW5jdGlvbihzcGVlZCkge1xuICAgIHJldHVybiB7XG4gICAgICB4OiAtc3BlZWQsXG4gICAgICB5OiAwXG4gICAgfTtcbiAgfSxcbiAgdXA6IGZ1bmN0aW9uKHNwZWVkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAtc3BlZWRcbiAgICB9O1xuICB9LFxuICByaWdodDogZnVuY3Rpb24oc3BlZWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogc3BlZWQsXG4gICAgICB5OiAwXG4gICAgfTtcbiAgfSxcbiAgZG93bjogZnVuY3Rpb24oc3BlZWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogMCxcbiAgICAgIHk6IHNwZWVkXG4gICAgfTtcbiAgfVxufTtcblxuXG4vKipcbiAqIEVuYWJsZXMgdG8gbW92ZSBzZWxlY3Rpb24gd2l0aCBrZXlib2FyZCBhcnJvd3MuXG4gKiBVc2Ugd2l0aCBTaGlmdCBmb3IgbW9kaWZpZWQgc3BlZWQgKGRlZmF1bHQ9MSwgd2l0aCBTaGlmdD0xMCkuXG4gKiBQcmVzc2VkIENtZC9DdHJsIHR1cm5zIHRoZSBmZWF0dXJlIG9mZi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gKiBAcGFyYW0ge251bWJlcn0gW2NvbmZpZy5tb3ZlU3BlZWQ9MV1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbY29uZmlnLm1vdmVTcGVlZEFjY2VsZXJhdGVkPTEwXVxuICogQHBhcmFtIHtLZXlib2FyZH0ga2V5Ym9hcmRcbiAqIEBwYXJhbSB7TW9kZWxpbmd9IG1vZGVsaW5nXG4gKiBAcGFyYW0ge1J1bGVzfSBydWxlc1xuICogQHBhcmFtIHtTZWxlY3Rpb259IHNlbGVjdGlvblxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBLZXlib2FyZE1vdmVTZWxlY3Rpb24oXG4gICAgY29uZmlnLFxuICAgIGtleWJvYXJkLFxuICAgIG1vZGVsaW5nLFxuICAgIHJ1bGVzLFxuICAgIHNlbGVjdGlvblxuKSB7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHRoaXMuX2NvbmZpZyA9IGFzc2lnbih7fSwgREVGQVVMVF9DT05GSUcsIGNvbmZpZyB8fCB7fSk7XG5cbiAga2V5Ym9hcmQuYWRkTGlzdGVuZXIoSElHSEVSX1BSSU9SSVRZLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGtleUV2ZW50ID0gZXZlbnQua2V5RXZlbnQ7XG5cbiAgICB2YXIgZGlyZWN0aW9uID0gS0VZX1RPX0RJUkVDVElPTltrZXlFdmVudC5rZXldO1xuXG4gICAgaWYgKCFkaXJlY3Rpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoa2V5Ym9hcmQuaXNDbWQoa2V5RXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGFjY2VsZXJhdGVkID0ga2V5Ym9hcmQuaXNTaGlmdChrZXlFdmVudCk7XG5cbiAgICBzZWxmLm1vdmVTZWxlY3Rpb24oZGlyZWN0aW9uLCBhY2NlbGVyYXRlZCk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG5cblxuICAvKipcbiAgICogTW92ZSBzZWxlY3RlZCBlbGVtZW50cyBpbiB0aGUgZ2l2ZW4gZGlyZWN0aW9uLFxuICAgKiBvcHRpb25hbGx5IHNwZWNpZnlpbmcgYWNjZWxlcmF0ZWQgbW92ZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkaXJlY3Rpb25cbiAgICogQHBhcmFtIHtib29sZWFufSBbYWNjZWxlcmF0ZWQ9ZmFsc2VdXG4gICAqL1xuICB0aGlzLm1vdmVTZWxlY3Rpb24gPSBmdW5jdGlvbihkaXJlY3Rpb24sIGFjY2VsZXJhdGVkKSB7XG5cbiAgICB2YXIgc2VsZWN0ZWRFbGVtZW50cyA9IHNlbGVjdGlvbi5nZXQoKTtcblxuICAgIGlmICghc2VsZWN0ZWRFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgc3BlZWQgPSB0aGlzLl9jb25maWdbXG4gICAgICBhY2NlbGVyYXRlZCA/XG4gICAgICAgICdtb3ZlU3BlZWRBY2NlbGVyYXRlZCcgOlxuICAgICAgICAnbW92ZVNwZWVkJ1xuICAgIF07XG5cbiAgICB2YXIgZGVsdGEgPSBESVJFQ1RJT05TX0RFTFRBW2RpcmVjdGlvbl0oc3BlZWQpO1xuXG4gICAgdmFyIGNhbk1vdmUgPSBydWxlcy5hbGxvd2VkKCdlbGVtZW50cy5tb3ZlJywge1xuICAgICAgc2hhcGVzOiBzZWxlY3RlZEVsZW1lbnRzXG4gICAgfSk7XG5cbiAgICBpZiAoY2FuTW92ZSkge1xuICAgICAgbW9kZWxpbmcubW92ZUVsZW1lbnRzKHNlbGVjdGVkRWxlbWVudHMsIGRlbHRhKTtcbiAgICB9XG4gIH07XG5cbn1cblxuS2V5Ym9hcmRNb3ZlU2VsZWN0aW9uLiRpbmplY3QgPSBbXG4gICdjb25maWcua2V5Ym9hcmRNb3ZlU2VsZWN0aW9uJyxcbiAgJ2tleWJvYXJkJyxcbiAgJ21vZGVsaW5nJyxcbiAgJ3J1bGVzJyxcbiAgJ3NlbGVjdGlvbidcbl07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/keyboard-move-selection/KeyboardMoveSelection.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/keyboard-move-selection/index.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/keyboard-move-selection/index.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _keyboard__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../keyboard */ \"(ssr)/./node_modules/diagram-js/lib/features/keyboard/index.js\");\n/* harmony import */ var _selection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../selection */ \"(ssr)/./node_modules/diagram-js/lib/features/selection/index.js\");\n/* harmony import */ var _KeyboardMoveSelection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./KeyboardMoveSelection */ \"(ssr)/./node_modules/diagram-js/lib/features/keyboard-move-selection/KeyboardMoveSelection.js\");\n\n\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _keyboard__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    _selection__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n  ],\n  __init__: [\n    'keyboardMoveSelection'\n  ],\n  keyboardMoveSelection: [ 'type', _KeyboardMoveSelection__WEBPACK_IMPORTED_MODULE_2__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMva2V5Ym9hcmQtbW92ZS1zZWxlY3Rpb24vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF5QztBQUNFOztBQUVpQjs7O0FBRzVEO0FBQ0EsV0FBVztBQUNYO0FBQ0EsaUVBQWU7QUFDZjtBQUNBLElBQUksaURBQWM7QUFDbEIsSUFBSSxrREFBZTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyw4REFBcUI7QUFDeEQsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2tleWJvYXJkLW1vdmUtc2VsZWN0aW9uL2luZGV4LmpzPzRkNWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEtleWJvYXJkTW9kdWxlIGZyb20gJy4uL2tleWJvYXJkJztcbmltcG9ydCBTZWxlY3Rpb25Nb2R1bGUgZnJvbSAnLi4vc2VsZWN0aW9uJztcblxuaW1wb3J0IEtleWJvYXJkTW92ZVNlbGVjdGlvbiBmcm9tICcuL0tleWJvYXJkTW92ZVNlbGVjdGlvbic7XG5cblxuLyoqXG4gKiBAdHlwZSB7IGltcG9ydCgnZGlkaScpLk1vZHVsZURlY2xhcmF0aW9uIH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIEtleWJvYXJkTW9kdWxlLFxuICAgIFNlbGVjdGlvbk1vZHVsZVxuICBdLFxuICBfX2luaXRfXzogW1xuICAgICdrZXlib2FyZE1vdmVTZWxlY3Rpb24nXG4gIF0sXG4gIGtleWJvYXJkTW92ZVNlbGVjdGlvbjogWyAndHlwZScsIEtleWJvYXJkTW92ZVNlbGVjdGlvbiBdXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/keyboard-move-selection/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/keyboard/Keyboard.js":
/*!*******************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/keyboard/Keyboard.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Keyboard)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dom */ \"(ssr)/./node_modules/min-dom/dist/index.esm.js\");\n/* harmony import */ var _KeyboardUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./KeyboardUtil */ \"(ssr)/./node_modules/diagram-js/lib/features/keyboard/KeyboardUtil.js\");\n\n\n\n\n\n\n/**\n * @typedef {import('../../core/EventBus').default} EventBus\n *\n * @typedef {({ keyEvent: KeyboardEvent }) => any} Listener\n */\n\nvar KEYDOWN_EVENT = 'keyboard.keydown',\n    KEYUP_EVENT = 'keyboard.keyup';\n\nvar DEFAULT_PRIORITY = 1000;\n\nvar compatMessage = 'Keyboard binding is now implicit; explicit binding to an element got removed. For more information, see https://github.com/bpmn-io/diagram-js/issues/661';\n\n\n/**\n * A keyboard abstraction that may be activated and\n * deactivated by users at will, consuming global key events\n * and triggering diagram actions.\n *\n * For keys pressed down, keyboard fires `keyboard.keydown` event.\n * The event context contains one field which is `KeyboardEvent` event.\n *\n * The implementation fires the following key events that allow\n * other components to hook into key handling:\n *\n *  - keyboard.bind\n *  - keyboard.unbind\n *  - keyboard.init\n *  - keyboard.destroy\n *\n * All events contain one field which is node.\n *\n * Specify the initial keyboard binding state via the\n * `keyboard.bind=true|false` configuration option.\n *\n * @param {Object} config\n * @param {boolean} [config.bind]\n * @param {EventBus} eventBus\n */\nfunction Keyboard(config, eventBus) {\n  var self = this;\n\n  this._config = config = config || {};\n\n  this._eventBus = eventBus;\n\n  this._keydownHandler = this._keydownHandler.bind(this);\n  this._keyupHandler = this._keyupHandler.bind(this);\n\n  // properly clean dom registrations\n  eventBus.on('diagram.destroy', function() {\n    self._fire('destroy');\n\n    self.unbind();\n  });\n\n  if (config.bindTo) {\n    console.error('unsupported configuration <keyboard.bindTo>', new Error(compatMessage));\n  }\n\n  var bind = config && config.bind !== false;\n\n  eventBus.on('canvas.init', function(event) {\n    self._target = event.svg;\n\n    if (bind) {\n      self.bind();\n    }\n\n    self._fire('init');\n  });\n\n}\n\nKeyboard.$inject = [\n  'config.keyboard',\n  'eventBus'\n];\n\nKeyboard.prototype._keydownHandler = function(event) {\n  this._keyHandler(event, KEYDOWN_EVENT);\n};\n\nKeyboard.prototype._keyupHandler = function(event) {\n  this._keyHandler(event, KEYUP_EVENT);\n};\n\nKeyboard.prototype._keyHandler = function(event, type) {\n  var eventBusResult;\n\n  if (this._isEventIgnored(event)) {\n    return;\n  }\n\n  var context = {\n    keyEvent: event\n  };\n\n  eventBusResult = this._eventBus.fire(type || KEYDOWN_EVENT, context);\n\n  if (eventBusResult) {\n    event.preventDefault();\n  }\n};\n\nKeyboard.prototype._isEventIgnored = function(event) {\n  return false;\n};\n\n/**\n * Bind keyboard events to the given DOM node.\n *\n * @overlord\n * @deprecated No longer in use since version 15.0.0.\n *\n * @param {EventTarget} node\n */\n/**\n * Bind keyboard events to the canvas node.\n */\nKeyboard.prototype.bind = function(node) {\n\n  // legacy <node> argument provided\n  if (node) {\n    console.error('unsupported argument <node>', new Error(compatMessage));\n  }\n\n  // make sure that the keyboard is only bound once to the DOM\n  this.unbind();\n\n  node = this._node = this._target;\n\n  // bind key events\n  min_dom__WEBPACK_IMPORTED_MODULE_0__.event.bind(node, 'keydown', this._keydownHandler);\n  min_dom__WEBPACK_IMPORTED_MODULE_0__.event.bind(node, 'keyup', this._keyupHandler);\n\n  this._fire('bind');\n};\n\n/**\n * @return {EventTarget}\n */\nKeyboard.prototype.getBinding = function() {\n  return this._node;\n};\n\nKeyboard.prototype.unbind = function() {\n  var node = this._node;\n\n  if (node) {\n    this._fire('unbind');\n\n    // unbind key events\n    min_dom__WEBPACK_IMPORTED_MODULE_0__.event.unbind(node, 'keydown', this._keydownHandler);\n    min_dom__WEBPACK_IMPORTED_MODULE_0__.event.unbind(node, 'keyup', this._keyupHandler);\n  }\n\n  this._node = null;\n};\n\n/**\n * @param {string} event\n */\nKeyboard.prototype._fire = function(event) {\n  this._eventBus.fire('keyboard.' + event, { node: this._node });\n};\n\n/**\n * Add a listener function that is notified with `KeyboardEvent` whenever\n * the keyboard is bound and the user presses a key. If no priority is\n * provided, the default value of 1000 is used.\n *\n * @param {number} [priority]\n * @param {Listener} listener\n * @param {string} [type='keyboard.keydown']\n */\nKeyboard.prototype.addListener = function(priority, listener, type) {\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isFunction)(priority)) {\n    type = listener;\n    listener = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  this._eventBus.on(type || KEYDOWN_EVENT, priority, listener);\n};\n\n/**\n * Remove a listener function.\n *\n * @param {Listener} listener\n * @param {string} [type='keyboard.keydown']\n */\nKeyboard.prototype.removeListener = function(listener, type) {\n  this._eventBus.off(type || KEYDOWN_EVENT, listener);\n};\n\nKeyboard.prototype.hasModifier = _KeyboardUtil__WEBPACK_IMPORTED_MODULE_2__.hasModifier;\nKeyboard.prototype.isCmd = _KeyboardUtil__WEBPACK_IMPORTED_MODULE_2__.isCmd;\nKeyboard.prototype.isShift = _KeyboardUtil__WEBPACK_IMPORTED_MODULE_2__.isShift;\nKeyboard.prototype.isKey = _KeyboardUtil__WEBPACK_IMPORTED_MODULE_2__.isKey;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMva2V5Ym9hcmQvS2V5Ym9hcmQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUVrQjs7QUFJRDs7QUFPTzs7QUFFeEI7QUFDQSxhQUFhLHVDQUF1QztBQUNwRDtBQUNBLGFBQWEsR0FBRyx5QkFBeUIsVUFBVTtBQUNuRDs7QUFFQTtBQUNBOztBQUVBOztBQUVBLHVEQUF1RDs7O0FBR3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxVQUFVO0FBQ3JCO0FBQ2U7QUFDZjs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxhQUFhO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEVBQUUsMENBQVE7QUFDVixFQUFFLDBDQUFROztBQUVWO0FBQ0E7O0FBRUE7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsSUFBSSwwQ0FBUTtBQUNaLElBQUksMENBQVE7QUFDWjs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQSw2Q0FBNkMsa0JBQWtCO0FBQy9EOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0EsTUFBTSxvREFBVTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUNBQWlDLHNEQUFXO0FBQzVDLDJCQUEyQixnREFBSztBQUNoQyw2QkFBNkIsa0RBQU87QUFDcEMsMkJBQTJCLGdEQUFLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2tleWJvYXJkL0tleWJvYXJkLmpzPzkwODgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgaXNGdW5jdGlvblxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGV2ZW50IGFzIGRvbUV2ZW50XG59IGZyb20gJ21pbi1kb20nO1xuXG5pbXBvcnQge1xuICBoYXNNb2RpZmllcixcbiAgaXNDbWQsXG4gIGlzS2V5LFxuICBpc1NoaWZ0XG59IGZyb20gJy4vS2V5Ym9hcmRVdGlsJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcbiAqXG4gKiBAdHlwZWRlZiB7KHsga2V5RXZlbnQ6IEtleWJvYXJkRXZlbnQgfSkgPT4gYW55fSBMaXN0ZW5lclxuICovXG5cbnZhciBLRVlET1dOX0VWRU5UID0gJ2tleWJvYXJkLmtleWRvd24nLFxuICAgIEtFWVVQX0VWRU5UID0gJ2tleWJvYXJkLmtleXVwJztcblxudmFyIERFRkFVTFRfUFJJT1JJVFkgPSAxMDAwO1xuXG52YXIgY29tcGF0TWVzc2FnZSA9ICdLZXlib2FyZCBiaW5kaW5nIGlzIG5vdyBpbXBsaWNpdDsgZXhwbGljaXQgYmluZGluZyB0byBhbiBlbGVtZW50IGdvdCByZW1vdmVkLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9icG1uLWlvL2RpYWdyYW0tanMvaXNzdWVzLzY2MSc7XG5cblxuLyoqXG4gKiBBIGtleWJvYXJkIGFic3RyYWN0aW9uIHRoYXQgbWF5IGJlIGFjdGl2YXRlZCBhbmRcbiAqIGRlYWN0aXZhdGVkIGJ5IHVzZXJzIGF0IHdpbGwsIGNvbnN1bWluZyBnbG9iYWwga2V5IGV2ZW50c1xuICogYW5kIHRyaWdnZXJpbmcgZGlhZ3JhbSBhY3Rpb25zLlxuICpcbiAqIEZvciBrZXlzIHByZXNzZWQgZG93biwga2V5Ym9hcmQgZmlyZXMgYGtleWJvYXJkLmtleWRvd25gIGV2ZW50LlxuICogVGhlIGV2ZW50IGNvbnRleHQgY29udGFpbnMgb25lIGZpZWxkIHdoaWNoIGlzIGBLZXlib2FyZEV2ZW50YCBldmVudC5cbiAqXG4gKiBUaGUgaW1wbGVtZW50YXRpb24gZmlyZXMgdGhlIGZvbGxvd2luZyBrZXkgZXZlbnRzIHRoYXQgYWxsb3dcbiAqIG90aGVyIGNvbXBvbmVudHMgdG8gaG9vayBpbnRvIGtleSBoYW5kbGluZzpcbiAqXG4gKiAgLSBrZXlib2FyZC5iaW5kXG4gKiAgLSBrZXlib2FyZC51bmJpbmRcbiAqICAtIGtleWJvYXJkLmluaXRcbiAqICAtIGtleWJvYXJkLmRlc3Ryb3lcbiAqXG4gKiBBbGwgZXZlbnRzIGNvbnRhaW4gb25lIGZpZWxkIHdoaWNoIGlzIG5vZGUuXG4gKlxuICogU3BlY2lmeSB0aGUgaW5pdGlhbCBrZXlib2FyZCBiaW5kaW5nIHN0YXRlIHZpYSB0aGVcbiAqIGBrZXlib2FyZC5iaW5kPXRydWV8ZmFsc2VgIGNvbmZpZ3VyYXRpb24gb3B0aW9uLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbmZpZy5iaW5kXVxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gS2V5Ym9hcmQoY29uZmlnLCBldmVudEJ1cykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdGhpcy5fY29uZmlnID0gY29uZmlnID0gY29uZmlnIHx8IHt9O1xuXG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG5cbiAgdGhpcy5fa2V5ZG93bkhhbmRsZXIgPSB0aGlzLl9rZXlkb3duSGFuZGxlci5iaW5kKHRoaXMpO1xuICB0aGlzLl9rZXl1cEhhbmRsZXIgPSB0aGlzLl9rZXl1cEhhbmRsZXIuYmluZCh0aGlzKTtcblxuICAvLyBwcm9wZXJseSBjbGVhbiBkb20gcmVnaXN0cmF0aW9uc1xuICBldmVudEJ1cy5vbignZGlhZ3JhbS5kZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgc2VsZi5fZmlyZSgnZGVzdHJveScpO1xuXG4gICAgc2VsZi51bmJpbmQoKTtcbiAgfSk7XG5cbiAgaWYgKGNvbmZpZy5iaW5kVG8pIHtcbiAgICBjb25zb2xlLmVycm9yKCd1bnN1cHBvcnRlZCBjb25maWd1cmF0aW9uIDxrZXlib2FyZC5iaW5kVG8+JywgbmV3IEVycm9yKGNvbXBhdE1lc3NhZ2UpKTtcbiAgfVxuXG4gIHZhciBiaW5kID0gY29uZmlnICYmIGNvbmZpZy5iaW5kICE9PSBmYWxzZTtcblxuICBldmVudEJ1cy5vbignY2FudmFzLmluaXQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHNlbGYuX3RhcmdldCA9IGV2ZW50LnN2ZztcblxuICAgIGlmIChiaW5kKSB7XG4gICAgICBzZWxmLmJpbmQoKTtcbiAgICB9XG5cbiAgICBzZWxmLl9maXJlKCdpbml0Jyk7XG4gIH0pO1xuXG59XG5cbktleWJvYXJkLiRpbmplY3QgPSBbXG4gICdjb25maWcua2V5Ym9hcmQnLFxuICAnZXZlbnRCdXMnXG5dO1xuXG5LZXlib2FyZC5wcm90b3R5cGUuX2tleWRvd25IYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgdGhpcy5fa2V5SGFuZGxlcihldmVudCwgS0VZRE9XTl9FVkVOVCk7XG59O1xuXG5LZXlib2FyZC5wcm90b3R5cGUuX2tleXVwSGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gIHRoaXMuX2tleUhhbmRsZXIoZXZlbnQsIEtFWVVQX0VWRU5UKTtcbn07XG5cbktleWJvYXJkLnByb3RvdHlwZS5fa2V5SGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50LCB0eXBlKSB7XG4gIHZhciBldmVudEJ1c1Jlc3VsdDtcblxuICBpZiAodGhpcy5faXNFdmVudElnbm9yZWQoZXZlbnQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGNvbnRleHQgPSB7XG4gICAga2V5RXZlbnQ6IGV2ZW50XG4gIH07XG5cbiAgZXZlbnRCdXNSZXN1bHQgPSB0aGlzLl9ldmVudEJ1cy5maXJlKHR5cGUgfHwgS0VZRE9XTl9FVkVOVCwgY29udGV4dCk7XG5cbiAgaWYgKGV2ZW50QnVzUmVzdWx0KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxufTtcblxuS2V5Ym9hcmQucHJvdG90eXBlLl9pc0V2ZW50SWdub3JlZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogQmluZCBrZXlib2FyZCBldmVudHMgdG8gdGhlIGdpdmVuIERPTSBub2RlLlxuICpcbiAqIEBvdmVybG9yZFxuICogQGRlcHJlY2F0ZWQgTm8gbG9uZ2VyIGluIHVzZSBzaW5jZSB2ZXJzaW9uIDE1LjAuMC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSBub2RlXG4gKi9cbi8qKlxuICogQmluZCBrZXlib2FyZCBldmVudHMgdG8gdGhlIGNhbnZhcyBub2RlLlxuICovXG5LZXlib2FyZC5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uKG5vZGUpIHtcblxuICAvLyBsZWdhY3kgPG5vZGU+IGFyZ3VtZW50IHByb3ZpZGVkXG4gIGlmIChub2RlKSB7XG4gICAgY29uc29sZS5lcnJvcigndW5zdXBwb3J0ZWQgYXJndW1lbnQgPG5vZGU+JywgbmV3IEVycm9yKGNvbXBhdE1lc3NhZ2UpKTtcbiAgfVxuXG4gIC8vIG1ha2Ugc3VyZSB0aGF0IHRoZSBrZXlib2FyZCBpcyBvbmx5IGJvdW5kIG9uY2UgdG8gdGhlIERPTVxuICB0aGlzLnVuYmluZCgpO1xuXG4gIG5vZGUgPSB0aGlzLl9ub2RlID0gdGhpcy5fdGFyZ2V0O1xuXG4gIC8vIGJpbmQga2V5IGV2ZW50c1xuICBkb21FdmVudC5iaW5kKG5vZGUsICdrZXlkb3duJywgdGhpcy5fa2V5ZG93bkhhbmRsZXIpO1xuICBkb21FdmVudC5iaW5kKG5vZGUsICdrZXl1cCcsIHRoaXMuX2tleXVwSGFuZGxlcik7XG5cbiAgdGhpcy5fZmlyZSgnYmluZCcpO1xufTtcblxuLyoqXG4gKiBAcmV0dXJuIHtFdmVudFRhcmdldH1cbiAqL1xuS2V5Ym9hcmQucHJvdG90eXBlLmdldEJpbmRpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX25vZGU7XG59O1xuXG5LZXlib2FyZC5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24oKSB7XG4gIHZhciBub2RlID0gdGhpcy5fbm9kZTtcblxuICBpZiAobm9kZSkge1xuICAgIHRoaXMuX2ZpcmUoJ3VuYmluZCcpO1xuXG4gICAgLy8gdW5iaW5kIGtleSBldmVudHNcbiAgICBkb21FdmVudC51bmJpbmQobm9kZSwgJ2tleWRvd24nLCB0aGlzLl9rZXlkb3duSGFuZGxlcik7XG4gICAgZG9tRXZlbnQudW5iaW5kKG5vZGUsICdrZXl1cCcsIHRoaXMuX2tleXVwSGFuZGxlcik7XG4gIH1cblxuICB0aGlzLl9ub2RlID0gbnVsbDtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50XG4gKi9cbktleWJvYXJkLnByb3RvdHlwZS5fZmlyZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2tleWJvYXJkLicgKyBldmVudCwgeyBub2RlOiB0aGlzLl9ub2RlIH0pO1xufTtcblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmdW5jdGlvbiB0aGF0IGlzIG5vdGlmaWVkIHdpdGggYEtleWJvYXJkRXZlbnRgIHdoZW5ldmVyXG4gKiB0aGUga2V5Ym9hcmQgaXMgYm91bmQgYW5kIHRoZSB1c2VyIHByZXNzZXMgYSBrZXkuIElmIG5vIHByaW9yaXR5IGlzXG4gKiBwcm92aWRlZCwgdGhlIGRlZmF1bHQgdmFsdWUgb2YgMTAwMCBpcyB1c2VkLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHldXG4gKiBAcGFyYW0ge0xpc3RlbmVyfSBsaXN0ZW5lclxuICogQHBhcmFtIHtzdHJpbmd9IFt0eXBlPSdrZXlib2FyZC5rZXlkb3duJ11cbiAqL1xuS2V5Ym9hcmQucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24ocHJpb3JpdHksIGxpc3RlbmVyLCB0eXBlKSB7XG4gIGlmIChpc0Z1bmN0aW9uKHByaW9yaXR5KSkge1xuICAgIHR5cGUgPSBsaXN0ZW5lcjtcbiAgICBsaXN0ZW5lciA9IHByaW9yaXR5O1xuICAgIHByaW9yaXR5ID0gREVGQVVMVF9QUklPUklUWTtcbiAgfVxuXG4gIHRoaXMuX2V2ZW50QnVzLm9uKHR5cGUgfHwgS0VZRE9XTl9FVkVOVCwgcHJpb3JpdHksIGxpc3RlbmVyKTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGEgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtMaXN0ZW5lcn0gbGlzdGVuZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdHlwZT0na2V5Ym9hcmQua2V5ZG93biddXG4gKi9cbktleWJvYXJkLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uKGxpc3RlbmVyLCB0eXBlKSB7XG4gIHRoaXMuX2V2ZW50QnVzLm9mZih0eXBlIHx8IEtFWURPV05fRVZFTlQsIGxpc3RlbmVyKTtcbn07XG5cbktleWJvYXJkLnByb3RvdHlwZS5oYXNNb2RpZmllciA9IGhhc01vZGlmaWVyO1xuS2V5Ym9hcmQucHJvdG90eXBlLmlzQ21kID0gaXNDbWQ7XG5LZXlib2FyZC5wcm90b3R5cGUuaXNTaGlmdCA9IGlzU2hpZnQ7XG5LZXlib2FyZC5wcm90b3R5cGUuaXNLZXkgPSBpc0tleTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/keyboard/Keyboard.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/keyboard/KeyboardBindings.js":
/*!***************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/keyboard/KeyboardBindings.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KEYS_COPY: () => (/* reexport safe */ _KeyboardUtil__WEBPACK_IMPORTED_MODULE_0__.KEYS_COPY),\n/* harmony export */   KEYS_PASTE: () => (/* reexport safe */ _KeyboardUtil__WEBPACK_IMPORTED_MODULE_0__.KEYS_PASTE),\n/* harmony export */   KEYS_REDO: () => (/* reexport safe */ _KeyboardUtil__WEBPACK_IMPORTED_MODULE_0__.KEYS_REDO),\n/* harmony export */   KEYS_UNDO: () => (/* reexport safe */ _KeyboardUtil__WEBPACK_IMPORTED_MODULE_0__.KEYS_UNDO),\n/* harmony export */   \"default\": () => (/* binding */ KeyboardBindings)\n/* harmony export */ });\n/* harmony import */ var _KeyboardUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./KeyboardUtil */ \"(ssr)/./node_modules/diagram-js/lib/features/keyboard/KeyboardUtil.js\");\n\n\n/**\n * @typedef {import('../editor-actions/EditorActions').default} EditorActions\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('./Keyboard').default} Keyboard\n */\n\n\n\n\nvar LOW_PRIORITY = 500;\n\n\n/**\n * Adds default keyboard bindings.\n *\n * This does not pull in any features will bind only actions that\n * have previously been registered against the editorActions component.\n *\n * @param {EventBus} eventBus\n * @param {Keyboard} keyboard\n */\nfunction KeyboardBindings(eventBus, keyboard) {\n\n  var self = this;\n\n  eventBus.on('editorActions.init', LOW_PRIORITY, function(event) {\n\n    var editorActions = event.editorActions;\n\n    self.registerBindings(keyboard, editorActions);\n  });\n}\n\nKeyboardBindings.$inject = [\n  'eventBus',\n  'keyboard'\n];\n\n\n/**\n * Register available keyboard bindings.\n *\n * @param {Keyboard} keyboard\n * @param {EditorActions} editorActions\n */\nKeyboardBindings.prototype.registerBindings = function(keyboard, editorActions) {\n\n  /**\n   * Add keyboard binding if respective editor action\n   * is registered.\n   *\n   * @param {string} action name\n   * @param {Function} fn that implements the key binding\n   */\n  function addListener(action, fn) {\n\n    if (editorActions.isRegistered(action)) {\n      keyboard.addListener(fn);\n    }\n  }\n\n\n  // undo\n  // (CTRL|CMD) + Z\n  addListener('undo', function(context) {\n\n    var event = context.keyEvent;\n\n    if ((0,_KeyboardUtil__WEBPACK_IMPORTED_MODULE_0__.isUndo)(event)) {\n      editorActions.trigger('undo');\n\n      return true;\n    }\n  });\n\n  // redo\n  // CTRL + Y\n  // CMD + SHIFT + Z\n  addListener('redo', function(context) {\n\n    var event = context.keyEvent;\n\n    if ((0,_KeyboardUtil__WEBPACK_IMPORTED_MODULE_0__.isRedo)(event)) {\n      editorActions.trigger('redo');\n\n      return true;\n    }\n  });\n\n  // copy\n  // CTRL/CMD + C\n  addListener('copy', function(context) {\n\n    var event = context.keyEvent;\n\n    if ((0,_KeyboardUtil__WEBPACK_IMPORTED_MODULE_0__.isCopy)(event)) {\n      editorActions.trigger('copy');\n\n      return true;\n    }\n  });\n\n  // paste\n  // CTRL/CMD + V\n  addListener('paste', function(context) {\n\n    var event = context.keyEvent;\n\n    if ((0,_KeyboardUtil__WEBPACK_IMPORTED_MODULE_0__.isPaste)(event)) {\n      editorActions.trigger('paste');\n\n      return true;\n    }\n  });\n\n  // zoom in one step\n  // CTRL/CMD + +\n  addListener('stepZoom', function(context) {\n\n    var event = context.keyEvent;\n\n    // quirk: it has to be triggered by `=` as well to work on international keyboard layout\n    // cf: https://github.com/bpmn-io/bpmn-js/issues/1362#issuecomment-722989754\n    if ((0,_KeyboardUtil__WEBPACK_IMPORTED_MODULE_0__.isKey)([ '+', 'Add', '=' ], event) && (0,_KeyboardUtil__WEBPACK_IMPORTED_MODULE_0__.isCmd)(event)) {\n      editorActions.trigger('stepZoom', { value: 1 });\n\n      return true;\n    }\n  });\n\n  // zoom out one step\n  // CTRL + -\n  addListener('stepZoom', function(context) {\n\n    var event = context.keyEvent;\n\n    if ((0,_KeyboardUtil__WEBPACK_IMPORTED_MODULE_0__.isKey)([ '-', 'Subtract' ], event) && (0,_KeyboardUtil__WEBPACK_IMPORTED_MODULE_0__.isCmd)(event)) {\n      editorActions.trigger('stepZoom', { value: -1 });\n\n      return true;\n    }\n  });\n\n  // zoom to the default level\n  // CTRL + 0\n  addListener('zoom', function(context) {\n\n    var event = context.keyEvent;\n\n    if ((0,_KeyboardUtil__WEBPACK_IMPORTED_MODULE_0__.isKey)('0', event) && (0,_KeyboardUtil__WEBPACK_IMPORTED_MODULE_0__.isCmd)(event)) {\n      editorActions.trigger('zoom', { value: 1 });\n\n      return true;\n    }\n  });\n\n  // delete selected element\n  // DEL\n  addListener('removeSelection', function(context) {\n\n    var event = context.keyEvent;\n\n    if ((0,_KeyboardUtil__WEBPACK_IMPORTED_MODULE_0__.isKey)([ 'Backspace', 'Delete', 'Del' ], event)) {\n      editorActions.trigger('removeSelection');\n\n      return true;\n    }\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMva2V5Ym9hcmQvS2V5Ym9hcmRCaW5kaW5ncy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFXd0I7O0FBRXhCO0FBQ0EsYUFBYSxtREFBbUQ7QUFDaEUsYUFBYSx1Q0FBdUM7QUFDcEQsYUFBYSw4QkFBOEI7QUFDM0M7O0FBT0U7OztBQUdGOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxVQUFVO0FBQ3JCO0FBQ2U7O0FBRWY7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLGVBQWU7QUFDMUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFVBQVU7QUFDdkI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLFFBQVEscURBQU07QUFDZDs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxRQUFRLHFEQUFNO0FBQ2Q7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBOztBQUVBLFFBQVEscURBQU07QUFDZDs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsUUFBUSxzREFBTztBQUNmOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUSxvREFBSyxnQ0FBZ0Msb0RBQUs7QUFDbEQsMENBQTBDLFVBQVU7O0FBRXBEO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxRQUFRLG9EQUFLLGdDQUFnQyxvREFBSztBQUNsRCwwQ0FBMEMsV0FBVzs7QUFFckQ7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBOztBQUVBLFFBQVEsb0RBQUssZ0JBQWdCLG9EQUFLO0FBQ2xDLHNDQUFzQyxVQUFVOztBQUVoRDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsUUFBUSxvREFBSztBQUNiOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMva2V5Ym9hcmQvS2V5Ym9hcmRCaW5kaW5ncy5qcz9kYjMxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGlzQ21kLFxuICBpc0tleSxcbiAgaXNDb3B5LFxuICBpc1Bhc3RlLFxuICBpc1VuZG8sXG4gIGlzUmVkbyxcbiAgS0VZU19DT1BZLFxuICBLRVlTX1BBU1RFLFxuICBLRVlTX1VORE8sXG4gIEtFWVNfUkVET1xufSBmcm9tICcuL0tleWJvYXJkVXRpbCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vZWRpdG9yLWFjdGlvbnMvRWRpdG9yQWN0aW9ucycpLmRlZmF1bHR9IEVkaXRvckFjdGlvbnNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi9LZXlib2FyZCcpLmRlZmF1bHR9IEtleWJvYXJkXG4gKi9cblxuZXhwb3J0IHtcbiAgS0VZU19DT1BZLFxuICBLRVlTX1BBU1RFLFxuICBLRVlTX1VORE8sXG4gIEtFWVNfUkVET1xufTtcblxuXG52YXIgTE9XX1BSSU9SSVRZID0gNTAwO1xuXG5cbi8qKlxuICogQWRkcyBkZWZhdWx0IGtleWJvYXJkIGJpbmRpbmdzLlxuICpcbiAqIFRoaXMgZG9lcyBub3QgcHVsbCBpbiBhbnkgZmVhdHVyZXMgd2lsbCBiaW5kIG9ubHkgYWN0aW9ucyB0aGF0XG4gKiBoYXZlIHByZXZpb3VzbHkgYmVlbiByZWdpc3RlcmVkIGFnYWluc3QgdGhlIGVkaXRvckFjdGlvbnMgY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0tleWJvYXJkfSBrZXlib2FyZFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBLZXlib2FyZEJpbmRpbmdzKGV2ZW50QnVzLCBrZXlib2FyZCkge1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICBldmVudEJ1cy5vbignZWRpdG9yQWN0aW9ucy5pbml0JywgTE9XX1BSSU9SSVRZLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGVkaXRvckFjdGlvbnMgPSBldmVudC5lZGl0b3JBY3Rpb25zO1xuXG4gICAgc2VsZi5yZWdpc3RlckJpbmRpbmdzKGtleWJvYXJkLCBlZGl0b3JBY3Rpb25zKTtcbiAgfSk7XG59XG5cbktleWJvYXJkQmluZGluZ3MuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ2tleWJvYXJkJ1xuXTtcblxuXG4vKipcbiAqIFJlZ2lzdGVyIGF2YWlsYWJsZSBrZXlib2FyZCBiaW5kaW5ncy5cbiAqXG4gKiBAcGFyYW0ge0tleWJvYXJkfSBrZXlib2FyZFxuICogQHBhcmFtIHtFZGl0b3JBY3Rpb25zfSBlZGl0b3JBY3Rpb25zXG4gKi9cbktleWJvYXJkQmluZGluZ3MucHJvdG90eXBlLnJlZ2lzdGVyQmluZGluZ3MgPSBmdW5jdGlvbihrZXlib2FyZCwgZWRpdG9yQWN0aW9ucykge1xuXG4gIC8qKlxuICAgKiBBZGQga2V5Ym9hcmQgYmluZGluZyBpZiByZXNwZWN0aXZlIGVkaXRvciBhY3Rpb25cbiAgICogaXMgcmVnaXN0ZXJlZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvbiBuYW1lXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIHRoYXQgaW1wbGVtZW50cyB0aGUga2V5IGJpbmRpbmdcbiAgICovXG4gIGZ1bmN0aW9uIGFkZExpc3RlbmVyKGFjdGlvbiwgZm4pIHtcblxuICAgIGlmIChlZGl0b3JBY3Rpb25zLmlzUmVnaXN0ZXJlZChhY3Rpb24pKSB7XG4gICAgICBrZXlib2FyZC5hZGRMaXN0ZW5lcihmbik7XG4gICAgfVxuICB9XG5cblxuICAvLyB1bmRvXG4gIC8vIChDVFJMfENNRCkgKyBaXG4gIGFkZExpc3RlbmVyKCd1bmRvJywgZnVuY3Rpb24oY29udGV4dCkge1xuXG4gICAgdmFyIGV2ZW50ID0gY29udGV4dC5rZXlFdmVudDtcblxuICAgIGlmIChpc1VuZG8oZXZlbnQpKSB7XG4gICAgICBlZGl0b3JBY3Rpb25zLnRyaWdnZXIoJ3VuZG8nKTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcblxuICAvLyByZWRvXG4gIC8vIENUUkwgKyBZXG4gIC8vIENNRCArIFNISUZUICsgWlxuICBhZGRMaXN0ZW5lcigncmVkbycsIGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICAgIHZhciBldmVudCA9IGNvbnRleHQua2V5RXZlbnQ7XG5cbiAgICBpZiAoaXNSZWRvKGV2ZW50KSkge1xuICAgICAgZWRpdG9yQWN0aW9ucy50cmlnZ2VyKCdyZWRvJyk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gY29weVxuICAvLyBDVFJML0NNRCArIENcbiAgYWRkTGlzdGVuZXIoJ2NvcHknLCBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgICB2YXIgZXZlbnQgPSBjb250ZXh0LmtleUV2ZW50O1xuXG4gICAgaWYgKGlzQ29weShldmVudCkpIHtcbiAgICAgIGVkaXRvckFjdGlvbnMudHJpZ2dlcignY29weScpO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHBhc3RlXG4gIC8vIENUUkwvQ01EICsgVlxuICBhZGRMaXN0ZW5lcigncGFzdGUnLCBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgICB2YXIgZXZlbnQgPSBjb250ZXh0LmtleUV2ZW50O1xuXG4gICAgaWYgKGlzUGFzdGUoZXZlbnQpKSB7XG4gICAgICBlZGl0b3JBY3Rpb25zLnRyaWdnZXIoJ3Bhc3RlJyk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gem9vbSBpbiBvbmUgc3RlcFxuICAvLyBDVFJML0NNRCArICtcbiAgYWRkTGlzdGVuZXIoJ3N0ZXBab29tJywgZnVuY3Rpb24oY29udGV4dCkge1xuXG4gICAgdmFyIGV2ZW50ID0gY29udGV4dC5rZXlFdmVudDtcblxuICAgIC8vIHF1aXJrOiBpdCBoYXMgdG8gYmUgdHJpZ2dlcmVkIGJ5IGA9YCBhcyB3ZWxsIHRvIHdvcmsgb24gaW50ZXJuYXRpb25hbCBrZXlib2FyZCBsYXlvdXRcbiAgICAvLyBjZjogaHR0cHM6Ly9naXRodWIuY29tL2JwbW4taW8vYnBtbi1qcy9pc3N1ZXMvMTM2MiNpc3N1ZWNvbW1lbnQtNzIyOTg5NzU0XG4gICAgaWYgKGlzS2V5KFsgJysnLCAnQWRkJywgJz0nIF0sIGV2ZW50KSAmJiBpc0NtZChldmVudCkpIHtcbiAgICAgIGVkaXRvckFjdGlvbnMudHJpZ2dlcignc3RlcFpvb20nLCB7IHZhbHVlOiAxIH0pO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHpvb20gb3V0IG9uZSBzdGVwXG4gIC8vIENUUkwgKyAtXG4gIGFkZExpc3RlbmVyKCdzdGVwWm9vbScsIGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICAgIHZhciBldmVudCA9IGNvbnRleHQua2V5RXZlbnQ7XG5cbiAgICBpZiAoaXNLZXkoWyAnLScsICdTdWJ0cmFjdCcgXSwgZXZlbnQpICYmIGlzQ21kKGV2ZW50KSkge1xuICAgICAgZWRpdG9yQWN0aW9ucy50cmlnZ2VyKCdzdGVwWm9vbScsIHsgdmFsdWU6IC0xIH0pO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHpvb20gdG8gdGhlIGRlZmF1bHQgbGV2ZWxcbiAgLy8gQ1RSTCArIDBcbiAgYWRkTGlzdGVuZXIoJ3pvb20nLCBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgICB2YXIgZXZlbnQgPSBjb250ZXh0LmtleUV2ZW50O1xuXG4gICAgaWYgKGlzS2V5KCcwJywgZXZlbnQpICYmIGlzQ21kKGV2ZW50KSkge1xuICAgICAgZWRpdG9yQWN0aW9ucy50cmlnZ2VyKCd6b29tJywgeyB2YWx1ZTogMSB9KTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcblxuICAvLyBkZWxldGUgc2VsZWN0ZWQgZWxlbWVudFxuICAvLyBERUxcbiAgYWRkTGlzdGVuZXIoJ3JlbW92ZVNlbGVjdGlvbicsIGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICAgIHZhciBldmVudCA9IGNvbnRleHQua2V5RXZlbnQ7XG5cbiAgICBpZiAoaXNLZXkoWyAnQmFja3NwYWNlJywgJ0RlbGV0ZScsICdEZWwnIF0sIGV2ZW50KSkge1xuICAgICAgZWRpdG9yQWN0aW9ucy50cmlnZ2VyKCdyZW1vdmVTZWxlY3Rpb24nKTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/keyboard/KeyboardBindings.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/keyboard/KeyboardUtil.js":
/*!***********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/keyboard/KeyboardUtil.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KEYS_COPY: () => (/* binding */ KEYS_COPY),\n/* harmony export */   KEYS_PASTE: () => (/* binding */ KEYS_PASTE),\n/* harmony export */   KEYS_REDO: () => (/* binding */ KEYS_REDO),\n/* harmony export */   KEYS_UNDO: () => (/* binding */ KEYS_UNDO),\n/* harmony export */   hasModifier: () => (/* binding */ hasModifier),\n/* harmony export */   isCmd: () => (/* binding */ isCmd),\n/* harmony export */   isCopy: () => (/* binding */ isCopy),\n/* harmony export */   isKey: () => (/* binding */ isKey),\n/* harmony export */   isPaste: () => (/* binding */ isPaste),\n/* harmony export */   isRedo: () => (/* binding */ isRedo),\n/* harmony export */   isShift: () => (/* binding */ isShift),\n/* harmony export */   isUndo: () => (/* binding */ isUndo)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\r\n\r\nvar KEYS_COPY = [ 'c', 'C' ];\r\nvar KEYS_PASTE = [ 'v', 'V' ];\r\nvar KEYS_REDO = [ 'y', 'Y' ];\r\nvar KEYS_UNDO = [ 'z', 'Z' ];\r\n\r\n/**\r\n * Returns true if event was triggered with any modifier\r\n * @param {KeyboardEvent} event\r\n */\r\nfunction hasModifier(event) {\r\n  return (event.ctrlKey || event.metaKey || event.shiftKey || event.altKey);\r\n}\r\n\r\n/**\r\n * @param {KeyboardEvent} event\r\n * @return {boolean}\r\n */\r\nfunction isCmd(event) {\r\n\r\n  // ensure we don't react to AltGr\r\n  // (mapped to CTRL + ALT)\r\n  if (event.altKey) {\r\n    return false;\r\n  }\r\n\r\n  return event.ctrlKey || event.metaKey;\r\n}\r\n\r\n/**\r\n * Checks if key pressed is one of provided keys.\r\n *\r\n * @param {string|string[]} keys\r\n * @param {KeyboardEvent} event\r\n * @return {boolean}\r\n */\r\nfunction isKey(keys, event) {\r\n  keys = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(keys) ? keys : [ keys ];\r\n\r\n  return keys.indexOf(event.key) !== -1 || keys.indexOf(event.code) !== -1;\r\n}\r\n\r\n/**\r\n * @param {KeyboardEvent} event\r\n */\r\nfunction isShift(event) {\r\n  return event.shiftKey;\r\n}\r\n\r\n/**\r\n * @param {KeyboardEvent} event\r\n */\r\nfunction isCopy(event) {\r\n  return isCmd(event) && isKey(KEYS_COPY, event);\r\n}\r\n\r\n/**\r\n * @param {KeyboardEvent} event\r\n */\r\nfunction isPaste(event) {\r\n  return isCmd(event) && isKey(KEYS_PASTE, event);\r\n}\r\n\r\n/**\r\n * @param {KeyboardEvent} event\r\n */\r\nfunction isUndo(event) {\r\n  return isCmd(event) && !isShift(event) && isKey(KEYS_UNDO, event);\r\n}\r\n\r\n/**\r\n * @param {KeyboardEvent} event\r\n */\r\nfunction isRedo(event) {\r\n  return isCmd(event) && (\r\n    isKey(KEYS_REDO, event) || (\r\n      isKey(KEYS_UNDO, event) && isShift(event)\r\n    )\r\n  );\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMva2V5Ym9hcmQvS2V5Ym9hcmRVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBbUM7QUFDbkM7QUFDTztBQUNBO0FBQ0E7QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUIsWUFBWTtBQUNaO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCLFdBQVcsZUFBZTtBQUMxQixZQUFZO0FBQ1o7QUFDTztBQUNQLFNBQVMsaURBQU87QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUI7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUI7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9rZXlib2FyZC9LZXlib2FyZFV0aWwuanM/MmJlMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnbWluLWRhc2gnO1xyXG5cclxuZXhwb3J0IHZhciBLRVlTX0NPUFkgPSBbICdjJywgJ0MnIF07XHJcbmV4cG9ydCB2YXIgS0VZU19QQVNURSA9IFsgJ3YnLCAnVicgXTtcclxuZXhwb3J0IHZhciBLRVlTX1JFRE8gPSBbICd5JywgJ1knIF07XHJcbmV4cG9ydCB2YXIgS0VZU19VTkRPID0gWyAneicsICdaJyBdO1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdHJ1ZSBpZiBldmVudCB3YXMgdHJpZ2dlcmVkIHdpdGggYW55IG1vZGlmaWVyXHJcbiAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBoYXNNb2RpZmllcihldmVudCkge1xyXG4gIHJldHVybiAoZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5IHx8IGV2ZW50LnNoaWZ0S2V5IHx8IGV2ZW50LmFsdEtleSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50XHJcbiAqIEByZXR1cm4ge2Jvb2xlYW59XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNDbWQoZXZlbnQpIHtcclxuXHJcbiAgLy8gZW5zdXJlIHdlIGRvbid0IHJlYWN0IHRvIEFsdEdyXHJcbiAgLy8gKG1hcHBlZCB0byBDVFJMICsgQUxUKVxyXG4gIGlmIChldmVudC5hbHRLZXkpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHJldHVybiBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGVja3MgaWYga2V5IHByZXNzZWQgaXMgb25lIG9mIHByb3ZpZGVkIGtleXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBrZXlzXHJcbiAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcclxuICogQHJldHVybiB7Ym9vbGVhbn1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0tleShrZXlzLCBldmVudCkge1xyXG4gIGtleXMgPSBpc0FycmF5KGtleXMpID8ga2V5cyA6IFsga2V5cyBdO1xyXG5cclxuICByZXR1cm4ga2V5cy5pbmRleE9mKGV2ZW50LmtleSkgIT09IC0xIHx8IGtleXMuaW5kZXhPZihldmVudC5jb2RlKSAhPT0gLTE7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNTaGlmdChldmVudCkge1xyXG4gIHJldHVybiBldmVudC5zaGlmdEtleTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0NvcHkoZXZlbnQpIHtcclxuICByZXR1cm4gaXNDbWQoZXZlbnQpICYmIGlzS2V5KEtFWVNfQ09QWSwgZXZlbnQpO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGFzdGUoZXZlbnQpIHtcclxuICByZXR1cm4gaXNDbWQoZXZlbnQpICYmIGlzS2V5KEtFWVNfUEFTVEUsIGV2ZW50KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1VuZG8oZXZlbnQpIHtcclxuICByZXR1cm4gaXNDbWQoZXZlbnQpICYmICFpc1NoaWZ0KGV2ZW50KSAmJiBpc0tleShLRVlTX1VORE8sIGV2ZW50KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1JlZG8oZXZlbnQpIHtcclxuICByZXR1cm4gaXNDbWQoZXZlbnQpICYmIChcclxuICAgIGlzS2V5KEtFWVNfUkVETywgZXZlbnQpIHx8IChcclxuICAgICAgaXNLZXkoS0VZU19VTkRPLCBldmVudCkgJiYgaXNTaGlmdChldmVudClcclxuICAgIClcclxuICApO1xyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/keyboard/KeyboardUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/keyboard/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/keyboard/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Keyboard */ \"(ssr)/./node_modules/diagram-js/lib/features/keyboard/Keyboard.js\");\n/* harmony import */ var _KeyboardBindings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./KeyboardBindings */ \"(ssr)/./node_modules/diagram-js/lib/features/keyboard/KeyboardBindings.js\");\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [ 'keyboard', 'keyboardBindings' ],\n  keyboard: [ 'type', _Keyboard__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ],\n  keyboardBindings: [ 'type', _KeyboardBindings__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMva2V5Ym9hcmQvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWtDO0FBQ2dCOzs7QUFHbEQ7QUFDQSxXQUFXO0FBQ1g7QUFDQSxpRUFBZTtBQUNmO0FBQ0Esc0JBQXNCLGlEQUFRO0FBQzlCLDhCQUE4Qix5REFBZ0I7QUFDOUMsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2tleWJvYXJkL2luZGV4LmpzPzg4Y2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEtleWJvYXJkIGZyb20gJy4vS2V5Ym9hcmQnO1xuaW1wb3J0IEtleWJvYXJkQmluZGluZ3MgZnJvbSAnLi9LZXlib2FyZEJpbmRpbmdzJztcblxuXG4vKipcbiAqIEB0eXBlIHsgaW1wb3J0KCdkaWRpJykuTW9kdWxlRGVjbGFyYXRpb24gfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICdrZXlib2FyZCcsICdrZXlib2FyZEJpbmRpbmdzJyBdLFxuICBrZXlib2FyZDogWyAndHlwZScsIEtleWJvYXJkIF0sXG4gIGtleWJvYXJkQmluZGluZ3M6IFsgJ3R5cGUnLCBLZXlib2FyZEJpbmRpbmdzIF1cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/keyboard/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/label-support/LabelSupport.js":
/*!****************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/label-support/LabelSupport.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LabelSupport)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var inherits_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! inherits-browser */ \"(ssr)/./node_modules/inherits-browser/dist/index.es.js\");\n/* harmony import */ var _util_Collections__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/Collections */ \"(ssr)/./node_modules/diagram-js/lib/util/Collections.js\");\n/* harmony import */ var _util_Removal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/Removal */ \"(ssr)/./node_modules/diagram-js/lib/util/Removal.js\");\n/* harmony import */ var _command_CommandInterceptor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../command/CommandInterceptor */ \"(ssr)/./node_modules/diagram-js/lib/command/CommandInterceptor.js\");\n\n\n\n\nvar LOW_PRIORITY = 250,\n    HIGH_PRIORITY = 1400;\n\n\n\n\n\n\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../modeling/Modeling').default} Modeling\n */\n\n/**\n * A handler that makes sure labels are properly moved with\n * their label targets.\n *\n * @param {Injector} injector\n * @param {EventBus} eventBus\n * @param {Modeling} modeling\n */\nfunction LabelSupport(injector, eventBus, modeling) {\n\n  _command_CommandInterceptor__WEBPACK_IMPORTED_MODULE_0__[\"default\"].call(this, eventBus);\n\n  var movePreview = injector.get('movePreview', false);\n\n  // remove labels from the collection that are being\n  // moved with other elements anyway\n  eventBus.on('shape.move.start', HIGH_PRIORITY, function(e) {\n\n    var context = e.context,\n        shapes = context.shapes,\n        validatedShapes = context.validatedShapes;\n\n    context.shapes = removeLabels(shapes);\n    context.validatedShapes = removeLabels(validatedShapes);\n  });\n\n  // add labels to visual's group\n  movePreview && eventBus.on('shape.move.start', LOW_PRIORITY, function(e) {\n\n    var context = e.context,\n        shapes = context.shapes;\n\n    var labels = [];\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(shapes, function(element) {\n\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(element.labels, function(label) {\n\n        if (!label.hidden && context.shapes.indexOf(label) === -1) {\n          labels.push(label);\n        }\n\n        if (element.labelTarget) {\n          labels.push(element);\n        }\n      });\n    });\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(labels, function(label) {\n      movePreview.makeDraggable(context, label, true);\n    });\n\n  });\n\n  // add all labels to move closure\n  this.preExecuted('elements.move', HIGH_PRIORITY, function(e) {\n    var context = e.context,\n        closure = context.closure,\n        enclosedElements = closure.enclosedElements;\n\n    var enclosedLabels = [];\n\n    // find labels that are not part of\n    // move closure yet and add them\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(enclosedElements, function(element) {\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(element.labels, function(label) {\n\n        if (!enclosedElements[label.id]) {\n          enclosedLabels.push(label);\n        }\n      });\n    });\n\n    closure.addAll(enclosedLabels);\n  });\n\n\n  this.preExecute([\n    'connection.delete',\n    'shape.delete'\n  ], function(e) {\n\n    var context = e.context,\n        element = context.connection || context.shape;\n\n    (0,_util_Removal__WEBPACK_IMPORTED_MODULE_2__.saveClear)(element.labels, function(label) {\n      modeling.removeShape(label, { nested: true });\n    });\n  });\n\n\n  this.execute('shape.delete', function(e) {\n\n    var context = e.context,\n        shape = context.shape,\n        labelTarget = shape.labelTarget;\n\n    // unset labelTarget\n    if (labelTarget) {\n      context.labelTargetIndex = (0,_util_Collections__WEBPACK_IMPORTED_MODULE_3__.indexOf)(labelTarget.labels, shape);\n      context.labelTarget = labelTarget;\n\n      shape.labelTarget = null;\n    }\n  });\n\n  this.revert('shape.delete', function(e) {\n\n    var context = e.context,\n        shape = context.shape,\n        labelTarget = context.labelTarget,\n        labelTargetIndex = context.labelTargetIndex;\n\n    // restore labelTarget\n    if (labelTarget) {\n      (0,_util_Collections__WEBPACK_IMPORTED_MODULE_3__.add)(labelTarget.labels, shape, labelTargetIndex);\n\n      shape.labelTarget = labelTarget;\n    }\n  });\n\n}\n\n(0,inherits_browser__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(LabelSupport, _command_CommandInterceptor__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\nLabelSupport.$inject = [\n  'injector',\n  'eventBus',\n  'modeling'\n];\n\n\n/**\n * Return a filtered list of elements that do not\n * contain attached elements with hosts being part\n * of the selection.\n *\n * @param {Element[]} elements\n *\n * @return {Element[]} filtered\n */\nfunction removeLabels(elements) {\n\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.filter)(elements, function(element) {\n\n    // filter out labels that are move together\n    // with their label targets\n    return elements.indexOf(element.labelTarget) === -1;\n  });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbGFiZWwtc3VwcG9ydC9MYWJlbFN1cHBvcnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBR2tCOztBQUVzQjs7QUFFeEM7QUFDQTs7QUFLZ0M7O0FBRWU7O0FBRW1COztBQUVsRTtBQUNBLGFBQWEscUNBQXFDO0FBQ2xEO0FBQ0EsYUFBYSx5QkFBeUI7QUFDdEM7QUFDQSxhQUFhLHVDQUF1QztBQUNwRCxhQUFhLHdDQUF3QztBQUNyRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFVBQVU7QUFDckIsV0FBVyxVQUFVO0FBQ3JCO0FBQ2U7O0FBRWYsRUFBRSxtRUFBa0I7O0FBRXBCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBLElBQUksaURBQU87O0FBRVgsTUFBTSxpREFBTzs7QUFFYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7O0FBRUwsSUFBSSxpREFBTztBQUNYO0FBQ0EsS0FBSzs7QUFFTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLElBQUksaURBQU87QUFDWCxNQUFNLGlEQUFPOztBQUViO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxJQUFJLHdEQUFTO0FBQ2Isb0NBQW9DLGNBQWM7QUFDbEQsS0FBSztBQUNMLEdBQUc7OztBQUdIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUNBQWlDLDBEQUFhO0FBQzlDOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNLHNEQUFhOztBQUVuQjtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQSw0REFBUSxlQUFlLG1FQUFrQjs7QUFFekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QjtBQUNBLFlBQVksV0FBVztBQUN2QjtBQUNBOztBQUVBLFNBQVMsZ0RBQU07O0FBRWY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2xhYmVsLXN1cHBvcnQvTGFiZWxTdXBwb3J0LmpzPzVkMTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgZm9yRWFjaCxcbiAgZmlsdGVyXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzLWJyb3dzZXInO1xuXG52YXIgTE9XX1BSSU9SSVRZID0gMjUwLFxuICAgIEhJR0hfUFJJT1JJVFkgPSAxNDAwO1xuXG5pbXBvcnQge1xuICBhZGQgYXMgY29sbGVjdGlvbkFkZCxcbiAgaW5kZXhPZiBhcyBjb2xsZWN0aW9uSWR4XG59IGZyb20gJy4uLy4uL3V0aWwvQ29sbGVjdGlvbnMnO1xuXG5pbXBvcnQgeyBzYXZlQ2xlYXIgfSBmcm9tICcuLi8uLi91dGlsL1JlbW92YWwnO1xuXG5pbXBvcnQgQ29tbWFuZEludGVyY2VwdG9yIGZyb20gJy4uLy4uL2NvbW1hbmQvQ29tbWFuZEludGVyY2VwdG9yJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9tb2RlbC9UeXBlcycpLkVsZW1lbnR9IEVsZW1lbnRcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCdkaWRpJykuSW5qZWN0b3J9IEluamVjdG9yXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9tb2RlbGluZy9Nb2RlbGluZycpLmRlZmF1bHR9IE1vZGVsaW5nXG4gKi9cblxuLyoqXG4gKiBBIGhhbmRsZXIgdGhhdCBtYWtlcyBzdXJlIGxhYmVscyBhcmUgcHJvcGVybHkgbW92ZWQgd2l0aFxuICogdGhlaXIgbGFiZWwgdGFyZ2V0cy5cbiAqXG4gKiBAcGFyYW0ge0luamVjdG9yfSBpbmplY3RvclxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7TW9kZWxpbmd9IG1vZGVsaW5nXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIExhYmVsU3VwcG9ydChpbmplY3RvciwgZXZlbnRCdXMsIG1vZGVsaW5nKSB7XG5cbiAgQ29tbWFuZEludGVyY2VwdG9yLmNhbGwodGhpcywgZXZlbnRCdXMpO1xuXG4gIHZhciBtb3ZlUHJldmlldyA9IGluamVjdG9yLmdldCgnbW92ZVByZXZpZXcnLCBmYWxzZSk7XG5cbiAgLy8gcmVtb3ZlIGxhYmVscyBmcm9tIHRoZSBjb2xsZWN0aW9uIHRoYXQgYXJlIGJlaW5nXG4gIC8vIG1vdmVkIHdpdGggb3RoZXIgZWxlbWVudHMgYW55d2F5XG4gIGV2ZW50QnVzLm9uKCdzaGFwZS5tb3ZlLnN0YXJ0JywgSElHSF9QUklPUklUWSwgZnVuY3Rpb24oZSkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBlLmNvbnRleHQsXG4gICAgICAgIHNoYXBlcyA9IGNvbnRleHQuc2hhcGVzLFxuICAgICAgICB2YWxpZGF0ZWRTaGFwZXMgPSBjb250ZXh0LnZhbGlkYXRlZFNoYXBlcztcblxuICAgIGNvbnRleHQuc2hhcGVzID0gcmVtb3ZlTGFiZWxzKHNoYXBlcyk7XG4gICAgY29udGV4dC52YWxpZGF0ZWRTaGFwZXMgPSByZW1vdmVMYWJlbHModmFsaWRhdGVkU2hhcGVzKTtcbiAgfSk7XG5cbiAgLy8gYWRkIGxhYmVscyB0byB2aXN1YWwncyBncm91cFxuICBtb3ZlUHJldmlldyAmJiBldmVudEJ1cy5vbignc2hhcGUubW92ZS5zdGFydCcsIExPV19QUklPUklUWSwgZnVuY3Rpb24oZSkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBlLmNvbnRleHQsXG4gICAgICAgIHNoYXBlcyA9IGNvbnRleHQuc2hhcGVzO1xuXG4gICAgdmFyIGxhYmVscyA9IFtdO1xuXG4gICAgZm9yRWFjaChzaGFwZXMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcblxuICAgICAgZm9yRWFjaChlbGVtZW50LmxhYmVscywgZnVuY3Rpb24obGFiZWwpIHtcblxuICAgICAgICBpZiAoIWxhYmVsLmhpZGRlbiAmJiBjb250ZXh0LnNoYXBlcy5pbmRleE9mKGxhYmVsKSA9PT0gLTEpIHtcbiAgICAgICAgICBsYWJlbHMucHVzaChsYWJlbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZWxlbWVudC5sYWJlbFRhcmdldCkge1xuICAgICAgICAgIGxhYmVscy5wdXNoKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGZvckVhY2gobGFiZWxzLCBmdW5jdGlvbihsYWJlbCkge1xuICAgICAgbW92ZVByZXZpZXcubWFrZURyYWdnYWJsZShjb250ZXh0LCBsYWJlbCwgdHJ1ZSk7XG4gICAgfSk7XG5cbiAgfSk7XG5cbiAgLy8gYWRkIGFsbCBsYWJlbHMgdG8gbW92ZSBjbG9zdXJlXG4gIHRoaXMucHJlRXhlY3V0ZWQoJ2VsZW1lbnRzLm1vdmUnLCBISUdIX1BSSU9SSVRZLCBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGNvbnRleHQgPSBlLmNvbnRleHQsXG4gICAgICAgIGNsb3N1cmUgPSBjb250ZXh0LmNsb3N1cmUsXG4gICAgICAgIGVuY2xvc2VkRWxlbWVudHMgPSBjbG9zdXJlLmVuY2xvc2VkRWxlbWVudHM7XG5cbiAgICB2YXIgZW5jbG9zZWRMYWJlbHMgPSBbXTtcblxuICAgIC8vIGZpbmQgbGFiZWxzIHRoYXQgYXJlIG5vdCBwYXJ0IG9mXG4gICAgLy8gbW92ZSBjbG9zdXJlIHlldCBhbmQgYWRkIHRoZW1cbiAgICBmb3JFYWNoKGVuY2xvc2VkRWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIGZvckVhY2goZWxlbWVudC5sYWJlbHMsIGZ1bmN0aW9uKGxhYmVsKSB7XG5cbiAgICAgICAgaWYgKCFlbmNsb3NlZEVsZW1lbnRzW2xhYmVsLmlkXSkge1xuICAgICAgICAgIGVuY2xvc2VkTGFiZWxzLnB1c2gobGFiZWwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGNsb3N1cmUuYWRkQWxsKGVuY2xvc2VkTGFiZWxzKTtcbiAgfSk7XG5cblxuICB0aGlzLnByZUV4ZWN1dGUoW1xuICAgICdjb25uZWN0aW9uLmRlbGV0ZScsXG4gICAgJ3NoYXBlLmRlbGV0ZSdcbiAgXSwgZnVuY3Rpb24oZSkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBlLmNvbnRleHQsXG4gICAgICAgIGVsZW1lbnQgPSBjb250ZXh0LmNvbm5lY3Rpb24gfHwgY29udGV4dC5zaGFwZTtcblxuICAgIHNhdmVDbGVhcihlbGVtZW50LmxhYmVscywgZnVuY3Rpb24obGFiZWwpIHtcbiAgICAgIG1vZGVsaW5nLnJlbW92ZVNoYXBlKGxhYmVsLCB7IG5lc3RlZDogdHJ1ZSB9KTtcbiAgICB9KTtcbiAgfSk7XG5cblxuICB0aGlzLmV4ZWN1dGUoJ3NoYXBlLmRlbGV0ZScsIGZ1bmN0aW9uKGUpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZS5jb250ZXh0LFxuICAgICAgICBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXG4gICAgICAgIGxhYmVsVGFyZ2V0ID0gc2hhcGUubGFiZWxUYXJnZXQ7XG5cbiAgICAvLyB1bnNldCBsYWJlbFRhcmdldFxuICAgIGlmIChsYWJlbFRhcmdldCkge1xuICAgICAgY29udGV4dC5sYWJlbFRhcmdldEluZGV4ID0gY29sbGVjdGlvbklkeChsYWJlbFRhcmdldC5sYWJlbHMsIHNoYXBlKTtcbiAgICAgIGNvbnRleHQubGFiZWxUYXJnZXQgPSBsYWJlbFRhcmdldDtcblxuICAgICAgc2hhcGUubGFiZWxUYXJnZXQgPSBudWxsO1xuICAgIH1cbiAgfSk7XG5cbiAgdGhpcy5yZXZlcnQoJ3NoYXBlLmRlbGV0ZScsIGZ1bmN0aW9uKGUpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZS5jb250ZXh0LFxuICAgICAgICBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXG4gICAgICAgIGxhYmVsVGFyZ2V0ID0gY29udGV4dC5sYWJlbFRhcmdldCxcbiAgICAgICAgbGFiZWxUYXJnZXRJbmRleCA9IGNvbnRleHQubGFiZWxUYXJnZXRJbmRleDtcblxuICAgIC8vIHJlc3RvcmUgbGFiZWxUYXJnZXRcbiAgICBpZiAobGFiZWxUYXJnZXQpIHtcbiAgICAgIGNvbGxlY3Rpb25BZGQobGFiZWxUYXJnZXQubGFiZWxzLCBzaGFwZSwgbGFiZWxUYXJnZXRJbmRleCk7XG5cbiAgICAgIHNoYXBlLmxhYmVsVGFyZ2V0ID0gbGFiZWxUYXJnZXQ7XG4gICAgfVxuICB9KTtcblxufVxuXG5pbmhlcml0cyhMYWJlbFN1cHBvcnQsIENvbW1hbmRJbnRlcmNlcHRvcik7XG5cbkxhYmVsU3VwcG9ydC4kaW5qZWN0ID0gW1xuICAnaW5qZWN0b3InLFxuICAnZXZlbnRCdXMnLFxuICAnbW9kZWxpbmcnXG5dO1xuXG5cbi8qKlxuICogUmV0dXJuIGEgZmlsdGVyZWQgbGlzdCBvZiBlbGVtZW50cyB0aGF0IGRvIG5vdFxuICogY29udGFpbiBhdHRhY2hlZCBlbGVtZW50cyB3aXRoIGhvc3RzIGJlaW5nIHBhcnRcbiAqIG9mIHRoZSBzZWxlY3Rpb24uXG4gKlxuICogQHBhcmFtIHtFbGVtZW50W119IGVsZW1lbnRzXG4gKlxuICogQHJldHVybiB7RWxlbWVudFtdfSBmaWx0ZXJlZFxuICovXG5mdW5jdGlvbiByZW1vdmVMYWJlbHMoZWxlbWVudHMpIHtcblxuICByZXR1cm4gZmlsdGVyKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG5cbiAgICAvLyBmaWx0ZXIgb3V0IGxhYmVscyB0aGF0IGFyZSBtb3ZlIHRvZ2V0aGVyXG4gICAgLy8gd2l0aCB0aGVpciBsYWJlbCB0YXJnZXRzXG4gICAgcmV0dXJuIGVsZW1lbnRzLmluZGV4T2YoZWxlbWVudC5sYWJlbFRhcmdldCkgPT09IC0xO1xuICB9KTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/label-support/LabelSupport.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/label-support/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/label-support/index.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _LabelSupport__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LabelSupport */ \"(ssr)/./node_modules/diagram-js/lib/features/label-support/LabelSupport.js\");\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [ 'labelSupport' ],\n  labelSupport: [ 'type', _LabelSupport__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbGFiZWwtc3VwcG9ydC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEwQzs7O0FBRzFDO0FBQ0EsV0FBVztBQUNYO0FBQ0EsaUVBQWU7QUFDZjtBQUNBLDBCQUEwQixxREFBWTtBQUN0QyxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbGFiZWwtc3VwcG9ydC9pbmRleC5qcz8wZmE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMYWJlbFN1cHBvcnQgZnJvbSAnLi9MYWJlbFN1cHBvcnQnO1xuXG5cbi8qKlxuICogQHR5cGUgeyBpbXBvcnQoJ2RpZGknKS5Nb2R1bGVEZWNsYXJhdGlvbiB9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19pbml0X186IFsgJ2xhYmVsU3VwcG9ydCcgXSxcbiAgbGFiZWxTdXBwb3J0OiBbICd0eXBlJywgTGFiZWxTdXBwb3J0IF1cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/label-support/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/lasso-tool/LassoTool.js":
/*!**********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/lasso-tool/LassoTool.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LassoTool)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _util_Elements__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/Elements */ \"(ssr)/./node_modules/diagram-js/lib/util/Elements.js\");\n/* harmony import */ var _util_Mouse__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Mouse */ \"(ssr)/./node_modules/diagram-js/lib/util/Mouse.js\");\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/./node_modules/tiny-svg/dist/index.esm.js\");\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../dragging/Dragging').default} Dragging\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../mouse/Mouse').default} Mouse\n * @typedef {import('../selection/Selection').default} Selection\n * @typedef {import('../tool-manager/ToolManager').default} ToolManager\n *\n * @typedef {import('../../util/Types').Rect} Rect\n */\n\nvar LASSO_TOOL_CURSOR = 'crosshair';\n\n/**\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {Dragging} dragging\n * @param {ElementRegistry} elementRegistry\n * @param {Selection} selection\n * @param {ToolManager} toolManager\n * @param {Mouse} mouse\n */\nfunction LassoTool(\n    eventBus, canvas, dragging,\n    elementRegistry, selection, toolManager,\n    mouse) {\n\n  this._selection = selection;\n  this._dragging = dragging;\n  this._mouse = mouse;\n\n  var self = this;\n\n  // lasso visuals implementation\n\n  /**\n  * A helper that realizes the selection box visual\n  */\n  var visuals = {\n\n    create: function(context) {\n      var container = canvas.getActiveLayer(),\n          frame;\n\n      frame = context.frame = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.create)('rect');\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.attr)(frame, {\n        class: 'djs-lasso-overlay',\n        width:  1,\n        height: 1,\n        x: 0,\n        y: 0\n      });\n\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.append)(container, frame);\n    },\n\n    update: function(context) {\n      var frame = context.frame,\n          bbox = context.bbox;\n\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.attr)(frame, {\n        x: bbox.x,\n        y: bbox.y,\n        width: bbox.width,\n        height: bbox.height\n      });\n    },\n\n    remove: function(context) {\n\n      if (context.frame) {\n        (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.remove)(context.frame);\n      }\n    }\n  };\n\n  toolManager.registerTool('lasso', {\n    tool: 'lasso.selection',\n    dragging: 'lasso'\n  });\n\n  eventBus.on('lasso.selection.end', function(event) {\n    var target = event.originalEvent.target;\n\n    // only reactive on diagram click\n    // on some occasions, event.hover is not set and we have to check if the target is an svg\n    if (!event.hover && !(target instanceof SVGElement)) {\n      return;\n    }\n\n    eventBus.once('lasso.selection.ended', function() {\n      self.activateLasso(event.originalEvent, true);\n    });\n  });\n\n  // lasso interaction implementation\n\n  eventBus.on('lasso.end', 0, function(event) {\n\n    var context = event.context;\n\n    var bbox = toBBox(event);\n\n    var elements = elementRegistry.filter(function(element) {\n      return element;\n    });\n\n    var add = (0,_util_Mouse__WEBPACK_IMPORTED_MODULE_1__.hasSecondaryModifier)(event);\n\n    self.select(elements, bbox, add ? context.selection : []);\n  });\n\n  eventBus.on('lasso.start', function(event) {\n\n    var context = event.context;\n\n    context.bbox = toBBox(event);\n    visuals.create(context);\n\n    context.selection = selection.get();\n  });\n\n  eventBus.on('lasso.move', function(event) {\n\n    var context = event.context;\n\n    context.bbox = toBBox(event);\n    visuals.update(context);\n  });\n\n  eventBus.on('lasso.cleanup', function(event) {\n\n    var context = event.context;\n\n    visuals.remove(context);\n  });\n\n\n  // event integration\n\n  eventBus.on('element.mousedown', 1500, function(event) {\n\n    if (!(0,_util_Mouse__WEBPACK_IMPORTED_MODULE_1__.hasSecondaryModifier)(event)) {\n      return;\n    }\n\n    self.activateLasso(event.originalEvent);\n\n    // we've handled the event\n    return true;\n  });\n}\n\nLassoTool.$inject = [\n  'eventBus',\n  'canvas',\n  'dragging',\n  'elementRegistry',\n  'selection',\n  'toolManager',\n  'mouse'\n];\n\n/**\n * Activate lasso.\n *\n * @param {MouseEvent} event\n * @param {boolean} [autoActivate=false]\n */\nLassoTool.prototype.activateLasso = function(event, autoActivate) {\n\n  this._dragging.init(event, 'lasso', {\n    autoActivate: autoActivate,\n    cursor: LASSO_TOOL_CURSOR,\n    data: {\n      context: {}\n    }\n  });\n};\n\n/**\n * Activate selection.\n *\n * @param {MouseEvent} event\n * @param {boolean} [autoActivate=false]\n */\nLassoTool.prototype.activateSelection = function(event, autoActivate) {\n\n  this._dragging.init(event, 'lasso.selection', {\n    trapClick: false,\n    autoActivate: autoActivate,\n    cursor: LASSO_TOOL_CURSOR,\n    data: {\n      context: {}\n    },\n    keepSelection: true\n  });\n};\n\n/**\n * Select elements within the given bounds.\n *\n * @param {Element[]} elements\n * @param {Rect} bbox\n * @param {Element[]} [previousSelection]\n */\nLassoTool.prototype.select = function(elements, bbox, previousSelection = []) {\n  var selectedElements = (0,_util_Elements__WEBPACK_IMPORTED_MODULE_2__.getEnclosedElements)(elements, bbox);\n\n  this._selection.select([\n    ...previousSelection,\n    ...(0,min_dash__WEBPACK_IMPORTED_MODULE_3__.values)(selectedElements)\n  ]);\n};\n\n/**\n * Toggle the lasso tool.\n */\nLassoTool.prototype.toggle = function() {\n  if (this.isActive()) {\n    return this._dragging.cancel();\n  }\n\n  var mouseEvent = this._mouse.getLastMoveEvent();\n\n  this.activateSelection(mouseEvent, !!mouseEvent);\n};\n\n/**\n * Check if the lasso tool is active.\n *\n * @returns {boolean}\n */\nLassoTool.prototype.isActive = function() {\n  var context = this._dragging.context();\n\n  return context && /^lasso/.test(context.prefix);\n};\n\n\nfunction toBBox(event) {\n\n  var start = {\n\n    x: event.x - event.dx,\n    y: event.y - event.dy\n  };\n\n  var end = {\n    x: event.x,\n    y: event.y\n  };\n\n  var bbox;\n\n  if ((start.x <= end.x && start.y < end.y) ||\n      (start.x < end.x && start.y <= end.y)) {\n\n    bbox = {\n      x: start.x,\n      y: start.y,\n      width:  end.x - start.x,\n      height: end.y - start.y\n    };\n  } else if ((start.x >= end.x && start.y < end.y) ||\n             (start.x > end.x && start.y <= end.y)) {\n\n    bbox = {\n      x: end.x,\n      y: start.y,\n      width:  start.x - end.x,\n      height: end.y - start.y\n    };\n  } else if ((start.x <= end.x && start.y > end.y) ||\n             (start.x < end.x && start.y >= end.y)) {\n\n    bbox = {\n      x: start.x,\n      y: end.y,\n      width:  end.x - start.x,\n      height: start.y - end.y\n    };\n  } else if ((start.x >= end.x && start.y > end.y) ||\n             (start.x > end.x && start.y >= end.y)) {\n\n    bbox = {\n      x: end.x,\n      y: end.y,\n      width:  start.x - end.x,\n      height: start.y - end.y\n    };\n  } else {\n\n    bbox = {\n      x: end.x,\n      y: end.y,\n      width:  0,\n      height: 0\n    };\n  }\n  return bbox;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbGFzc28tdG9vbC9MYXNzb1Rvb2wuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBa0M7O0FBRXdCOztBQUloQzs7QUFPUjs7QUFFbEI7QUFDQSxhQUFhLHFDQUFxQztBQUNsRCxhQUFhLHdDQUF3QztBQUNyRCxhQUFhLDhDQUE4QztBQUMzRCxhQUFhLHVDQUF1QztBQUNwRCxhQUFhLGtDQUFrQztBQUMvQyxhQUFhLDBDQUEwQztBQUN2RCxhQUFhLCtDQUErQztBQUM1RDtBQUNBLGFBQWEsaUNBQWlDO0FBQzlDOztBQUVBOztBQUVBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFVBQVU7QUFDckIsV0FBVyxpQkFBaUI7QUFDNUIsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsYUFBYTtBQUN4QixXQUFXLE9BQU87QUFDbEI7QUFDZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLDhCQUE4QixnREFBUztBQUN2QyxNQUFNLDhDQUFPO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVAsTUFBTSxnREFBUztBQUNmLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBLE1BQU0sOENBQU87QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMOztBQUVBO0FBQ0EsUUFBUSxnREFBUztBQUNqQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMLGNBQWMsaUVBQW9COztBQUVsQztBQUNBLEdBQUc7O0FBRUg7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7O0FBRUE7QUFDQSxHQUFHOzs7QUFHSDs7QUFFQTs7QUFFQSxTQUFTLGlFQUFvQjtBQUM3QjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QixXQUFXLFNBQVM7QUFDcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsU0FBUztBQUNwQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEIsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsV0FBVztBQUN0QjtBQUNBO0FBQ0EseUJBQXlCLG1FQUFtQjs7QUFFNUM7QUFDQTtBQUNBLE9BQU8sZ0RBQU07QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9sYXNzby10b29sL0xhc3NvVG9vbC5qcz8wNTdlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHZhbHVlcyB9IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHsgZ2V0RW5jbG9zZWRFbGVtZW50cyB9IGZyb20gJy4uLy4uL3V0aWwvRWxlbWVudHMnO1xuXG5pbXBvcnQge1xuICBoYXNTZWNvbmRhcnlNb2RpZmllclxufSBmcm9tICcuLi8uLi91dGlsL01vdXNlJztcblxuaW1wb3J0IHtcbiAgYXBwZW5kIGFzIHN2Z0FwcGVuZCxcbiAgYXR0ciBhcyBzdmdBdHRyLFxuICBjcmVhdGUgYXMgc3ZnQ3JlYXRlLFxuICByZW1vdmUgYXMgc3ZnUmVtb3ZlXG59IGZyb20gJ3Rpbnktc3ZnJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0NhbnZhcycpLmRlZmF1bHR9IENhbnZhc1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vZHJhZ2dpbmcvRHJhZ2dpbmcnKS5kZWZhdWx0fSBEcmFnZ2luZ1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FbGVtZW50UmVnaXN0cnknKS5kZWZhdWx0fSBFbGVtZW50UmVnaXN0cnlcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vbW91c2UvTW91c2UnKS5kZWZhdWx0fSBNb3VzZVxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vc2VsZWN0aW9uL1NlbGVjdGlvbicpLmRlZmF1bHR9IFNlbGVjdGlvblxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vdG9vbC1tYW5hZ2VyL1Rvb2xNYW5hZ2VyJykuZGVmYXVsdH0gVG9vbE1hbmFnZXJcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi91dGlsL1R5cGVzJykuUmVjdH0gUmVjdFxuICovXG5cbnZhciBMQVNTT19UT09MX0NVUlNPUiA9ICdjcm9zc2hhaXInO1xuXG4vKipcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKiBAcGFyYW0ge0RyYWdnaW5nfSBkcmFnZ2luZ1xuICogQHBhcmFtIHtFbGVtZW50UmVnaXN0cnl9IGVsZW1lbnRSZWdpc3RyeVxuICogQHBhcmFtIHtTZWxlY3Rpb259IHNlbGVjdGlvblxuICogQHBhcmFtIHtUb29sTWFuYWdlcn0gdG9vbE1hbmFnZXJcbiAqIEBwYXJhbSB7TW91c2V9IG1vdXNlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIExhc3NvVG9vbChcbiAgICBldmVudEJ1cywgY2FudmFzLCBkcmFnZ2luZyxcbiAgICBlbGVtZW50UmVnaXN0cnksIHNlbGVjdGlvbiwgdG9vbE1hbmFnZXIsXG4gICAgbW91c2UpIHtcblxuICB0aGlzLl9zZWxlY3Rpb24gPSBzZWxlY3Rpb247XG4gIHRoaXMuX2RyYWdnaW5nID0gZHJhZ2dpbmc7XG4gIHRoaXMuX21vdXNlID0gbW91c2U7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIC8vIGxhc3NvIHZpc3VhbHMgaW1wbGVtZW50YXRpb25cblxuICAvKipcbiAgKiBBIGhlbHBlciB0aGF0IHJlYWxpemVzIHRoZSBzZWxlY3Rpb24gYm94IHZpc3VhbFxuICAqL1xuICB2YXIgdmlzdWFscyA9IHtcblxuICAgIGNyZWF0ZTogZnVuY3Rpb24oY29udGV4dCkge1xuICAgICAgdmFyIGNvbnRhaW5lciA9IGNhbnZhcy5nZXRBY3RpdmVMYXllcigpLFxuICAgICAgICAgIGZyYW1lO1xuXG4gICAgICBmcmFtZSA9IGNvbnRleHQuZnJhbWUgPSBzdmdDcmVhdGUoJ3JlY3QnKTtcbiAgICAgIHN2Z0F0dHIoZnJhbWUsIHtcbiAgICAgICAgY2xhc3M6ICdkanMtbGFzc28tb3ZlcmxheScsXG4gICAgICAgIHdpZHRoOiAgMSxcbiAgICAgICAgaGVpZ2h0OiAxLFxuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwXG4gICAgICB9KTtcblxuICAgICAgc3ZnQXBwZW5kKGNvbnRhaW5lciwgZnJhbWUpO1xuICAgIH0sXG5cbiAgICB1cGRhdGU6IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICAgIHZhciBmcmFtZSA9IGNvbnRleHQuZnJhbWUsXG4gICAgICAgICAgYmJveCA9IGNvbnRleHQuYmJveDtcblxuICAgICAgc3ZnQXR0cihmcmFtZSwge1xuICAgICAgICB4OiBiYm94LngsXG4gICAgICAgIHk6IGJib3gueSxcbiAgICAgICAgd2lkdGg6IGJib3gud2lkdGgsXG4gICAgICAgIGhlaWdodDogYmJveC5oZWlnaHRcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICByZW1vdmU6IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICAgICAgaWYgKGNvbnRleHQuZnJhbWUpIHtcbiAgICAgICAgc3ZnUmVtb3ZlKGNvbnRleHQuZnJhbWUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB0b29sTWFuYWdlci5yZWdpc3RlclRvb2woJ2xhc3NvJywge1xuICAgIHRvb2w6ICdsYXNzby5zZWxlY3Rpb24nLFxuICAgIGRyYWdnaW5nOiAnbGFzc28nXG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdsYXNzby5zZWxlY3Rpb24uZW5kJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgdGFyZ2V0ID0gZXZlbnQub3JpZ2luYWxFdmVudC50YXJnZXQ7XG5cbiAgICAvLyBvbmx5IHJlYWN0aXZlIG9uIGRpYWdyYW0gY2xpY2tcbiAgICAvLyBvbiBzb21lIG9jY2FzaW9ucywgZXZlbnQuaG92ZXIgaXMgbm90IHNldCBhbmQgd2UgaGF2ZSB0byBjaGVjayBpZiB0aGUgdGFyZ2V0IGlzIGFuIHN2Z1xuICAgIGlmICghZXZlbnQuaG92ZXIgJiYgISh0YXJnZXQgaW5zdGFuY2VvZiBTVkdFbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGV2ZW50QnVzLm9uY2UoJ2xhc3NvLnNlbGVjdGlvbi5lbmRlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5hY3RpdmF0ZUxhc3NvKGV2ZW50Lm9yaWdpbmFsRXZlbnQsIHRydWUpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBsYXNzbyBpbnRlcmFjdGlvbiBpbXBsZW1lbnRhdGlvblxuXG4gIGV2ZW50QnVzLm9uKCdsYXNzby5lbmQnLCAwLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0O1xuXG4gICAgdmFyIGJib3ggPSB0b0JCb3goZXZlbnQpO1xuXG4gICAgdmFyIGVsZW1lbnRzID0gZWxlbWVudFJlZ2lzdHJ5LmZpbHRlcihmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9KTtcblxuICAgIHZhciBhZGQgPSBoYXNTZWNvbmRhcnlNb2RpZmllcihldmVudCk7XG5cbiAgICBzZWxmLnNlbGVjdChlbGVtZW50cywgYmJveCwgYWRkID8gY29udGV4dC5zZWxlY3Rpb24gOiBbXSk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdsYXNzby5zdGFydCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQ7XG5cbiAgICBjb250ZXh0LmJib3ggPSB0b0JCb3goZXZlbnQpO1xuICAgIHZpc3VhbHMuY3JlYXRlKGNvbnRleHQpO1xuXG4gICAgY29udGV4dC5zZWxlY3Rpb24gPSBzZWxlY3Rpb24uZ2V0KCk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdsYXNzby5tb3ZlJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dDtcblxuICAgIGNvbnRleHQuYmJveCA9IHRvQkJveChldmVudCk7XG4gICAgdmlzdWFscy51cGRhdGUoY29udGV4dCk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdsYXNzby5jbGVhbnVwJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dDtcblxuICAgIHZpc3VhbHMucmVtb3ZlKGNvbnRleHQpO1xuICB9KTtcblxuXG4gIC8vIGV2ZW50IGludGVncmF0aW9uXG5cbiAgZXZlbnRCdXMub24oJ2VsZW1lbnQubW91c2Vkb3duJywgMTUwMCwgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIGlmICghaGFzU2Vjb25kYXJ5TW9kaWZpZXIoZXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2VsZi5hY3RpdmF0ZUxhc3NvKGV2ZW50Lm9yaWdpbmFsRXZlbnQpO1xuXG4gICAgLy8gd2UndmUgaGFuZGxlZCB0aGUgZXZlbnRcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG59XG5cbkxhc3NvVG9vbC4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnY2FudmFzJyxcbiAgJ2RyYWdnaW5nJyxcbiAgJ2VsZW1lbnRSZWdpc3RyeScsXG4gICdzZWxlY3Rpb24nLFxuICAndG9vbE1hbmFnZXInLFxuICAnbW91c2UnXG5dO1xuXG4vKipcbiAqIEFjdGl2YXRlIGxhc3NvLlxuICpcbiAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2F1dG9BY3RpdmF0ZT1mYWxzZV1cbiAqL1xuTGFzc29Ub29sLnByb3RvdHlwZS5hY3RpdmF0ZUxhc3NvID0gZnVuY3Rpb24oZXZlbnQsIGF1dG9BY3RpdmF0ZSkge1xuXG4gIHRoaXMuX2RyYWdnaW5nLmluaXQoZXZlbnQsICdsYXNzbycsIHtcbiAgICBhdXRvQWN0aXZhdGU6IGF1dG9BY3RpdmF0ZSxcbiAgICBjdXJzb3I6IExBU1NPX1RPT0xfQ1VSU09SLFxuICAgIGRhdGE6IHtcbiAgICAgIGNvbnRleHQ6IHt9XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICogQWN0aXZhdGUgc2VsZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2F1dG9BY3RpdmF0ZT1mYWxzZV1cbiAqL1xuTGFzc29Ub29sLnByb3RvdHlwZS5hY3RpdmF0ZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKGV2ZW50LCBhdXRvQWN0aXZhdGUpIHtcblxuICB0aGlzLl9kcmFnZ2luZy5pbml0KGV2ZW50LCAnbGFzc28uc2VsZWN0aW9uJywge1xuICAgIHRyYXBDbGljazogZmFsc2UsXG4gICAgYXV0b0FjdGl2YXRlOiBhdXRvQWN0aXZhdGUsXG4gICAgY3Vyc29yOiBMQVNTT19UT09MX0NVUlNPUixcbiAgICBkYXRhOiB7XG4gICAgICBjb250ZXh0OiB7fVxuICAgIH0sXG4gICAga2VlcFNlbGVjdGlvbjogdHJ1ZVxuICB9KTtcbn07XG5cbi8qKlxuICogU2VsZWN0IGVsZW1lbnRzIHdpdGhpbiB0aGUgZ2l2ZW4gYm91bmRzLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudFtdfSBlbGVtZW50c1xuICogQHBhcmFtIHtSZWN0fSBiYm94XG4gKiBAcGFyYW0ge0VsZW1lbnRbXX0gW3ByZXZpb3VzU2VsZWN0aW9uXVxuICovXG5MYXNzb1Rvb2wucHJvdG90eXBlLnNlbGVjdCA9IGZ1bmN0aW9uKGVsZW1lbnRzLCBiYm94LCBwcmV2aW91c1NlbGVjdGlvbiA9IFtdKSB7XG4gIHZhciBzZWxlY3RlZEVsZW1lbnRzID0gZ2V0RW5jbG9zZWRFbGVtZW50cyhlbGVtZW50cywgYmJveCk7XG5cbiAgdGhpcy5fc2VsZWN0aW9uLnNlbGVjdChbXG4gICAgLi4ucHJldmlvdXNTZWxlY3Rpb24sXG4gICAgLi4udmFsdWVzKHNlbGVjdGVkRWxlbWVudHMpXG4gIF0pO1xufTtcblxuLyoqXG4gKiBUb2dnbGUgdGhlIGxhc3NvIHRvb2wuXG4gKi9cbkxhc3NvVG9vbC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLmlzQWN0aXZlKCkpIHtcbiAgICByZXR1cm4gdGhpcy5fZHJhZ2dpbmcuY2FuY2VsKCk7XG4gIH1cblxuICB2YXIgbW91c2VFdmVudCA9IHRoaXMuX21vdXNlLmdldExhc3RNb3ZlRXZlbnQoKTtcblxuICB0aGlzLmFjdGl2YXRlU2VsZWN0aW9uKG1vdXNlRXZlbnQsICEhbW91c2VFdmVudCk7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBsYXNzbyB0b29sIGlzIGFjdGl2ZS5cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuTGFzc29Ub29sLnByb3RvdHlwZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY29udGV4dCA9IHRoaXMuX2RyYWdnaW5nLmNvbnRleHQoKTtcblxuICByZXR1cm4gY29udGV4dCAmJiAvXmxhc3NvLy50ZXN0KGNvbnRleHQucHJlZml4KTtcbn07XG5cblxuZnVuY3Rpb24gdG9CQm94KGV2ZW50KSB7XG5cbiAgdmFyIHN0YXJ0ID0ge1xuXG4gICAgeDogZXZlbnQueCAtIGV2ZW50LmR4LFxuICAgIHk6IGV2ZW50LnkgLSBldmVudC5keVxuICB9O1xuXG4gIHZhciBlbmQgPSB7XG4gICAgeDogZXZlbnQueCxcbiAgICB5OiBldmVudC55XG4gIH07XG5cbiAgdmFyIGJib3g7XG5cbiAgaWYgKChzdGFydC54IDw9IGVuZC54ICYmIHN0YXJ0LnkgPCBlbmQueSkgfHxcbiAgICAgIChzdGFydC54IDwgZW5kLnggJiYgc3RhcnQueSA8PSBlbmQueSkpIHtcblxuICAgIGJib3ggPSB7XG4gICAgICB4OiBzdGFydC54LFxuICAgICAgeTogc3RhcnQueSxcbiAgICAgIHdpZHRoOiAgZW5kLnggLSBzdGFydC54LFxuICAgICAgaGVpZ2h0OiBlbmQueSAtIHN0YXJ0LnlcbiAgICB9O1xuICB9IGVsc2UgaWYgKChzdGFydC54ID49IGVuZC54ICYmIHN0YXJ0LnkgPCBlbmQueSkgfHxcbiAgICAgICAgICAgICAoc3RhcnQueCA+IGVuZC54ICYmIHN0YXJ0LnkgPD0gZW5kLnkpKSB7XG5cbiAgICBiYm94ID0ge1xuICAgICAgeDogZW5kLngsXG4gICAgICB5OiBzdGFydC55LFxuICAgICAgd2lkdGg6ICBzdGFydC54IC0gZW5kLngsXG4gICAgICBoZWlnaHQ6IGVuZC55IC0gc3RhcnQueVxuICAgIH07XG4gIH0gZWxzZSBpZiAoKHN0YXJ0LnggPD0gZW5kLnggJiYgc3RhcnQueSA+IGVuZC55KSB8fFxuICAgICAgICAgICAgIChzdGFydC54IDwgZW5kLnggJiYgc3RhcnQueSA+PSBlbmQueSkpIHtcblxuICAgIGJib3ggPSB7XG4gICAgICB4OiBzdGFydC54LFxuICAgICAgeTogZW5kLnksXG4gICAgICB3aWR0aDogIGVuZC54IC0gc3RhcnQueCxcbiAgICAgIGhlaWdodDogc3RhcnQueSAtIGVuZC55XG4gICAgfTtcbiAgfSBlbHNlIGlmICgoc3RhcnQueCA+PSBlbmQueCAmJiBzdGFydC55ID4gZW5kLnkpIHx8XG4gICAgICAgICAgICAgKHN0YXJ0LnggPiBlbmQueCAmJiBzdGFydC55ID49IGVuZC55KSkge1xuXG4gICAgYmJveCA9IHtcbiAgICAgIHg6IGVuZC54LFxuICAgICAgeTogZW5kLnksXG4gICAgICB3aWR0aDogIHN0YXJ0LnggLSBlbmQueCxcbiAgICAgIGhlaWdodDogc3RhcnQueSAtIGVuZC55XG4gICAgfTtcbiAgfSBlbHNlIHtcblxuICAgIGJib3ggPSB7XG4gICAgICB4OiBlbmQueCxcbiAgICAgIHk6IGVuZC55LFxuICAgICAgd2lkdGg6ICAwLFxuICAgICAgaGVpZ2h0OiAwXG4gICAgfTtcbiAgfVxuICByZXR1cm4gYmJveDtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/lasso-tool/LassoTool.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/lasso-tool/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/lasso-tool/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _tool_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tool-manager */ \"(ssr)/./node_modules/diagram-js/lib/features/tool-manager/index.js\");\n/* harmony import */ var _mouse__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../mouse */ \"(ssr)/./node_modules/diagram-js/lib/features/mouse/index.js\");\n/* harmony import */ var _LassoTool__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LassoTool */ \"(ssr)/./node_modules/diagram-js/lib/features/lasso-tool/LassoTool.js\");\n\n\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _tool_manager__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    _mouse__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n  ],\n  __init__: [ 'lassoTool' ],\n  lassoTool: [ 'type', _LassoTool__WEBPACK_IMPORTED_MODULE_2__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbGFzc28tdG9vbC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWdEO0FBQ2I7O0FBRUM7OztBQUdwQztBQUNBLFdBQVc7QUFDWDtBQUNBLGlFQUFlO0FBQ2Y7QUFDQSxJQUFJLHFEQUFpQjtBQUNyQixJQUFJLDhDQUFXO0FBQ2Y7QUFDQTtBQUNBLHVCQUF1QixrREFBUztBQUNoQyxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbGFzc28tdG9vbC9pbmRleC5qcz80MmFjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBUb29sTWFuYWdlck1vZHVsZSBmcm9tICcuLi90b29sLW1hbmFnZXInO1xuaW1wb3J0IE1vdXNlTW9kdWxlIGZyb20gJy4uL21vdXNlJztcblxuaW1wb3J0IExhc3NvVG9vbCBmcm9tICcuL0xhc3NvVG9vbCc7XG5cblxuLyoqXG4gKiBAdHlwZSB7IGltcG9ydCgnZGlkaScpLk1vZHVsZURlY2xhcmF0aW9uIH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIFRvb2xNYW5hZ2VyTW9kdWxlLFxuICAgIE1vdXNlTW9kdWxlXG4gIF0sXG4gIF9faW5pdF9fOiBbICdsYXNzb1Rvb2wnIF0sXG4gIGxhc3NvVG9vbDogWyAndHlwZScsIExhc3NvVG9vbCBdXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/lasso-tool/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/modeling/Modeling.js":
/*!*******************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/modeling/Modeling.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Modeling)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _cmd_AlignElementsHandler__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./cmd/AlignElementsHandler */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/AlignElementsHandler.js\");\n/* harmony import */ var _cmd_AppendShapeHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cmd/AppendShapeHandler */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/AppendShapeHandler.js\");\n/* harmony import */ var _cmd_CreateConnectionHandler__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./cmd/CreateConnectionHandler */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/CreateConnectionHandler.js\");\n/* harmony import */ var _cmd_CreateElementsHandler__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./cmd/CreateElementsHandler */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/CreateElementsHandler.js\");\n/* harmony import */ var _cmd_CreateLabelHandler__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./cmd/CreateLabelHandler */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/CreateLabelHandler.js\");\n/* harmony import */ var _cmd_CreateShapeHandler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./cmd/CreateShapeHandler */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/CreateShapeHandler.js\");\n/* harmony import */ var _cmd_DeleteConnectionHandler__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./cmd/DeleteConnectionHandler */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/DeleteConnectionHandler.js\");\n/* harmony import */ var _cmd_DeleteElementsHandler__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./cmd/DeleteElementsHandler */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/DeleteElementsHandler.js\");\n/* harmony import */ var _cmd_DeleteShapeHandler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cmd/DeleteShapeHandler */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/DeleteShapeHandler.js\");\n/* harmony import */ var _cmd_DistributeElementsHandler__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./cmd/DistributeElementsHandler */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/DistributeElementsHandler.js\");\n/* harmony import */ var _cmd_LayoutConnectionHandler__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./cmd/LayoutConnectionHandler */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/LayoutConnectionHandler.js\");\n/* harmony import */ var _cmd_MoveConnectionHandler__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./cmd/MoveConnectionHandler */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/MoveConnectionHandler.js\");\n/* harmony import */ var _cmd_MoveElementsHandler__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./cmd/MoveElementsHandler */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/MoveElementsHandler.js\");\n/* harmony import */ var _cmd_MoveShapeHandler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cmd/MoveShapeHandler */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/MoveShapeHandler.js\");\n/* harmony import */ var _cmd_ReconnectConnectionHandler__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./cmd/ReconnectConnectionHandler */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/ReconnectConnectionHandler.js\");\n/* harmony import */ var _cmd_ReplaceShapeHandler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./cmd/ReplaceShapeHandler */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/ReplaceShapeHandler.js\");\n/* harmony import */ var _cmd_ResizeShapeHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./cmd/ResizeShapeHandler */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/ResizeShapeHandler.js\");\n/* harmony import */ var _cmd_SpaceToolHandler__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./cmd/SpaceToolHandler */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/SpaceToolHandler.js\");\n/* harmony import */ var _cmd_ToggleShapeCollapseHandler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./cmd/ToggleShapeCollapseHandler */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js\");\n/* harmony import */ var _cmd_UpdateAttachmentHandler__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./cmd/UpdateAttachmentHandler */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js\");\n/* harmony import */ var _cmd_UpdateWaypointsHandler__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./cmd/UpdateWaypointsHandler */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/UpdateWaypointsHandler.js\");\n/* harmony import */ var _model__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../model */ \"(ssr)/./node_modules/diagram-js/lib/model/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n * @typedef {import('../../model/Types').Connection} Connection\n * @typedef {import('../../model/Types').Parent} Parent\n * @typedef {import('../../model/Types').Shape} Shape\n * @typedef {import('../../model/Types').Label} Label\n *\n * @typedef {import('../../command/CommandStack').default} CommandStack\n * @typedef {import('../../core/ElementFactory').default} ElementFactory\n * @typedef {import('../../core/EventBus').default} EventBus\n *\n * @typedef {import('../../command/CommandStack').CommandHandlerConstructor} CommandHandlerConstructor\n *\n * @typedef {import('../../util/Types').Dimensions} Dimensions\n * @typedef {import('../../util/Types').Direction} Direction\n * @typedef {import('../../util/Types').Point} Point\n * @typedef {import('../../util/Types').Rect} Rect\n *\n * @typedef { 'x' | 'y' } ModelingDistributeAxis\n *\n * @typedef { 'width' | 'height' } ModelingDistributeDimension\n *\n * @typedef { {\n *   bottom?: number;\n *   center?: number;\n *   left?: number;\n *   middle?: number;\n *   right?: number;\n *   top?: number;\n * } } ModelingAlignAlignment\n *\n * @typedef { {\n *   [key: string]: any;\n * } } ModelingHints\n *\n * @typedef { {\n *   attach?: boolean;\n * } & ModelingHints } ModelingMoveElementsHints\n *\n * @typedef { {\n *   attach?: boolean;\n * } & ModelingHints } ModelingCreateShapeHints\n */\n\n/**\n * @template {Element} U\n *\n * @typedef { {\n *   elements: U[],\n *   range: {\n *     min: number;\n *     max: number;\n *   } }\n * } ModelingDistributeGroup\n */\n\n/**\n * The basic modeling entry point.\n *\n * @template {Connection} [T=Connection]\n * @template {Element} [U=Element]\n * @template {Label} [V=Label]\n * @template {Parent} [W=Parent]\n * @template {Shape} [X=Shape]\n *\n * @param {EventBus} eventBus\n * @param {ElementFactory} elementFactory\n * @param {CommandStack} commandStack\n */\nfunction Modeling(eventBus, elementFactory, commandStack) {\n  this._eventBus = eventBus;\n  this._elementFactory = elementFactory;\n  this._commandStack = commandStack;\n\n  var self = this;\n\n  eventBus.on('diagram.init', function() {\n\n    // register modeling handlers\n    self.registerHandlers(commandStack);\n  });\n}\n\nModeling.$inject = [ 'eventBus', 'elementFactory', 'commandStack' ];\n\n/**\n * Get a map of all command handlers.\n *\n * @return {Map<string, CommandHandlerConstructor>}\n */\nModeling.prototype.getHandlers = function() {\n  return {\n    'shape.append': _cmd_AppendShapeHandler__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    'shape.create': _cmd_CreateShapeHandler__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    'shape.delete': _cmd_DeleteShapeHandler__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    'shape.move': _cmd_MoveShapeHandler__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n    'shape.resize': _cmd_ResizeShapeHandler__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n    'shape.replace': _cmd_ReplaceShapeHandler__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n    'shape.toggleCollapse': _cmd_ToggleShapeCollapseHandler__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n\n    'spaceTool': _cmd_SpaceToolHandler__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n\n    'label.create': _cmd_CreateLabelHandler__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n\n    'connection.create': _cmd_CreateConnectionHandler__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n    'connection.delete': _cmd_DeleteConnectionHandler__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n    'connection.move': _cmd_MoveConnectionHandler__WEBPACK_IMPORTED_MODULE_11__[\"default\"],\n    'connection.layout': _cmd_LayoutConnectionHandler__WEBPACK_IMPORTED_MODULE_12__[\"default\"],\n\n    'connection.updateWaypoints': _cmd_UpdateWaypointsHandler__WEBPACK_IMPORTED_MODULE_13__[\"default\"],\n\n    'connection.reconnect': _cmd_ReconnectConnectionHandler__WEBPACK_IMPORTED_MODULE_14__[\"default\"],\n\n    'elements.create': _cmd_CreateElementsHandler__WEBPACK_IMPORTED_MODULE_15__[\"default\"],\n    'elements.move': _cmd_MoveElementsHandler__WEBPACK_IMPORTED_MODULE_16__[\"default\"],\n    'elements.delete': _cmd_DeleteElementsHandler__WEBPACK_IMPORTED_MODULE_17__[\"default\"],\n\n    'elements.distribute': _cmd_DistributeElementsHandler__WEBPACK_IMPORTED_MODULE_18__[\"default\"],\n    'elements.align': _cmd_AlignElementsHandler__WEBPACK_IMPORTED_MODULE_19__[\"default\"],\n\n    'element.updateAttachment': _cmd_UpdateAttachmentHandler__WEBPACK_IMPORTED_MODULE_20__[\"default\"]\n  };\n};\n\n/**\n * Register handlers with the command stack\n *\n * @param {CommandStack} commandStack\n */\nModeling.prototype.registerHandlers = function(commandStack) {\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_21__.forEach)(this.getHandlers(), function(handler, id) {\n    commandStack.registerHandler(id, handler);\n  });\n};\n\n\n/**\n * Move a shape by the given delta and optionally to a new parent.\n *\n * @param {X} shape\n * @param {Point} delta\n * @param {W} [newParent]\n * @param {number} [newParentIndex]\n * @param {ModelingHints} [hints]\n */\nModeling.prototype.moveShape = function(shape, delta, newParent, newParentIndex, hints) {\n\n  if (typeof newParentIndex === 'object') {\n    hints = newParentIndex;\n    newParentIndex = null;\n  }\n\n  var context = {\n    shape: shape,\n    delta:  delta,\n    newParent: newParent,\n    newParentIndex: newParentIndex,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('shape.move', context);\n};\n\n\n/**\n * Update the attachment of a shape.\n *\n * @param {X} shape\n * @param {X} [newHost=undefined]\n */\nModeling.prototype.updateAttachment = function(shape, newHost) {\n  var context = {\n    shape: shape,\n    newHost: newHost\n  };\n\n  this._commandStack.execute('element.updateAttachment', context);\n};\n\n\n/**\n * Move elements by a given delta and optionally to a new parent.\n *\n * @param {U[]} shapes\n * @param {Point} delta\n * @param {W} [target]\n * @param {ModelingMoveElementsHints} [hints]\n */\nModeling.prototype.moveElements = function(shapes, delta, target, hints) {\n\n  hints = hints || {};\n\n  var attach = hints.attach;\n\n  var newParent = target,\n      newHost;\n\n  if (attach === true) {\n    newHost = target;\n    newParent = target.parent;\n  } else if (attach === false) {\n    newHost = null;\n  }\n\n  var context = {\n    shapes: shapes,\n    delta: delta,\n    newParent: newParent,\n    newHost: newHost,\n    hints: hints\n  };\n\n  this._commandStack.execute('elements.move', context);\n};\n\n/**\n * Move a shape by the given delta and optionally to a new parent.\n *\n * @param {T} connection\n * @param {Point} delta\n * @param {W} [newParent]\n * @param {number} [newParentIndex]\n * @param {ModelingHints} [hints]\n */\nModeling.prototype.moveConnection = function(connection, delta, newParent, newParentIndex, hints) {\n\n  if (typeof newParentIndex === 'object') {\n    hints = newParentIndex;\n    newParentIndex = undefined;\n  }\n\n  var context = {\n    connection: connection,\n    delta: delta,\n    newParent: newParent,\n    newParentIndex: newParentIndex,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('connection.move', context);\n};\n\n/**\n * Layout a connection.\n *\n * @param {T} connection\n * @param {ModelingHints} [hints]\n */\nModeling.prototype.layoutConnection = function(connection, hints) {\n  var context = {\n    connection: connection,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('connection.layout', context);\n};\n\n/**\n * Create a connection.\n *\n * @overlord\n *\n * @param {U} source\n * @param {U} target\n * @param {Partial<T>} connection\n * @param {W} parent\n * @param {ModelingHints} [hints]\n *\n * @return {T}\n */\n\n/**\n * Create a connection.\n *\n * @param {U} source\n * @param {U} target\n * @param {number} parentIndex\n * @param {Partial<T>} connection\n * @param {W} parent\n * @param {ModelingHints} [hints]\n *\n * @return {T}\n */\nModeling.prototype.createConnection = function(source, target, parentIndex, connection, parent, hints) {\n\n  if (typeof parentIndex === 'object') {\n    hints = parent;\n    parent = connection;\n    connection = parentIndex;\n    parentIndex = undefined;\n  }\n\n  connection = this._create('connection', connection);\n\n  var context = {\n    source: source,\n    target: target,\n    parent: parent,\n    parentIndex: parentIndex,\n    connection: connection,\n    hints: hints\n  };\n\n  this._commandStack.execute('connection.create', context);\n\n  return context.connection;\n};\n\n\n/**\n * Create a shape.\n *\n * @overlord\n *\n * @param {Partial<X>} shape\n * @param {Point} position\n * @param {W} target\n * @param {ModelingCreateShapeHints} [hints]\n *\n * @return {X}\n */\n\n/**\n * Create a shape.\n *\n * @param {Partial<X>} shape\n * @param {Point} position\n * @param {W} target\n * @param {number} parentIndex\n * @param {ModelingCreateShapeHints} [hints]\n *\n * @return {X}\n */\nModeling.prototype.createShape = function(shape, position, target, parentIndex, hints) {\n\n  if (typeof parentIndex !== 'number') {\n    hints = parentIndex;\n    parentIndex = undefined;\n  }\n\n  hints = hints || {};\n\n  var attach = hints.attach,\n      parent,\n      host;\n\n  shape = this._create('shape', shape);\n\n  if (attach) {\n    parent = target.parent;\n    host = target;\n  } else {\n    parent = target;\n  }\n\n  var context = {\n    position: position,\n    shape: shape,\n    parent: parent,\n    parentIndex: parentIndex,\n    host: host,\n    hints: hints\n  };\n\n  this._commandStack.execute('shape.create', context);\n\n  return context.shape;\n};\n\n/**\n * Create elements.\n *\n * @param {Partial<U>[]} elements\n * @param {Point} position\n * @param {W} parent\n * @param {number} [parentIndex]\n * @param {ModelingHints} [hints]\n *\n * @return {U[]}\n */\nModeling.prototype.createElements = function(elements, position, parent, parentIndex, hints) {\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_21__.isArray)(elements)) {\n    elements = [ elements ];\n  }\n\n  if (typeof parentIndex !== 'number') {\n    hints = parentIndex;\n    parentIndex = undefined;\n  }\n\n  hints = hints || {};\n\n  var context = {\n    position: position,\n    elements: elements,\n    parent: parent,\n    parentIndex: parentIndex,\n    hints: hints\n  };\n\n  this._commandStack.execute('elements.create', context);\n\n  return context.elements;\n};\n\n/**\n * Create a label.\n *\n * @param {U} labelTarget\n * @param {Point} position\n * @param {Partial<V>} label\n * @param {W} [parent]\n *\n * @return {V}\n */\nModeling.prototype.createLabel = function(labelTarget, position, label, parent) {\n\n  label = this._create('label', label);\n\n  var context = {\n    labelTarget: labelTarget,\n    position: position,\n    parent: parent || labelTarget.parent,\n    shape: label\n  };\n\n  this._commandStack.execute('label.create', context);\n\n  return context.shape;\n};\n\n\n/**\n * Create and connect a shape to a source.\n *\n * @param {U} source\n * @param {Partial<X>} shape\n * @param {Point} position\n * @param {W} target\n * @param {ModelingHints} [hints]\n *\n * @return {X}\n */\nModeling.prototype.appendShape = function(source, shape, position, target, hints) {\n\n  hints = hints || {};\n\n  shape = this._create('shape', shape);\n\n  var context = {\n    source: source,\n    position: position,\n    target: target,\n    shape: shape,\n    connection: hints.connection,\n    connectionParent: hints.connectionParent,\n    hints: hints\n  };\n\n  this._commandStack.execute('shape.append', context);\n\n  return context.shape;\n};\n\n/**\n * Remove elements.\n *\n * @param {U[]} elements\n */\nModeling.prototype.removeElements = function(elements) {\n  var context = {\n    elements: elements\n  };\n\n  this._commandStack.execute('elements.delete', context);\n};\n\n/**\n * Distribute elements along a given axis.\n *\n * @param {ModelingDistributeGroup<U>[]} groups\n * @param {ModelingDistributeAxis} axis\n * @param {ModelingDistributeDimension} dimension\n */\nModeling.prototype.distributeElements = function(groups, axis, dimension) {\n  var context = {\n    groups: groups,\n    axis: axis,\n    dimension: dimension\n  };\n\n  this._commandStack.execute('elements.distribute', context);\n};\n\n/**\n * Remove a shape.\n *\n * @param {X} shape\n * @param {ModelingHints} [hints]\n */\nModeling.prototype.removeShape = function(shape, hints) {\n  var context = {\n    shape: shape,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('shape.delete', context);\n};\n\n/**\n * Remove a connection.\n *\n * @param {T} connection\n * @param {ModelingHints} [hints]\n */\nModeling.prototype.removeConnection = function(connection, hints) {\n  var context = {\n    connection: connection,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('connection.delete', context);\n};\n\n/**\n * Replace a shape.\n *\n * @param {X} oldShape\n * @param {Partial<X>} newShape\n * @param {ModelingHints} [hints]\n *\n * @return {X}\n */\nModeling.prototype.replaceShape = function(oldShape, newShape, hints) {\n  var context = {\n    oldShape: oldShape,\n    newData: newShape,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('shape.replace', context);\n\n  return context.newShape;\n};\n\n/**\n * Align elements.\n *\n * @param {U[]} elements\n * @param {ModelingAlignAlignment} alignment\n */\nModeling.prototype.alignElements = function(elements, alignment) {\n  var context = {\n    elements: elements,\n    alignment: alignment\n  };\n\n  this._commandStack.execute('elements.align', context);\n};\n\n/**\n * Resize a shape.\n *\n * @param {X} shape\n * @param {Rect} newBounds\n * @param {Dimensions} [minBounds]\n * @param {ModelingHints} [hints]\n */\nModeling.prototype.resizeShape = function(shape, newBounds, minBounds, hints) {\n  var context = {\n    shape: shape,\n    newBounds: newBounds,\n    minBounds: minBounds,\n    hints: hints\n  };\n\n  this._commandStack.execute('shape.resize', context);\n};\n\n/**\n * Create space along an horizontally or vertically.\n *\n * @param {X[]} movingShapes\n * @param {X[]} resizingShapes\n * @param {Point} delta\n * @param {Direction} direction\n * @param {number} start\n */\nModeling.prototype.createSpace = function(movingShapes, resizingShapes, delta, direction, start) {\n  var context = {\n    delta: delta,\n    direction: direction,\n    movingShapes: movingShapes,\n    resizingShapes: resizingShapes,\n    start: start\n  };\n\n  this._commandStack.execute('spaceTool', context);\n};\n\n/**\n * Update a connetions waypoints.\n *\n * @param {T} connection\n * @param {Point[]} newWaypoints\n * @param {ModelingHints} [hints]\n */\nModeling.prototype.updateWaypoints = function(connection, newWaypoints, hints) {\n  var context = {\n    connection: connection,\n    newWaypoints: newWaypoints,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('connection.updateWaypoints', context);\n};\n\n/**\n * Reconnect a connections source and/or target.\n *\n * @param {T} connection\n * @param {U} source\n * @param {U} target\n * @param {Point|Point[]} dockingOrPoints\n * @param {ModelingHints} [hints]\n */\nModeling.prototype.reconnect = function(connection, source, target, dockingOrPoints, hints) {\n  var context = {\n    connection: connection,\n    newSource: source,\n    newTarget: target,\n    dockingOrPoints: dockingOrPoints,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('connection.reconnect', context);\n};\n\n/**\n * Reconnect a connections source.\n *\n * @param {T} connection\n * @param {U} newSource\n * @param {Point|Point[]} dockingOrPoints\n * @param {ModelingHints} [hints]\n */\nModeling.prototype.reconnectStart = function(connection, newSource, dockingOrPoints, hints) {\n  if (!hints) {\n    hints = {};\n  }\n\n  this.reconnect(connection, newSource, connection.target, dockingOrPoints, (0,min_dash__WEBPACK_IMPORTED_MODULE_21__.assign)(hints, {\n    docking: 'source'\n  }));\n};\n\n/**\n * Reconnect a connections target.\n *\n * @param {T} connection\n * @param {U} newTarget\n * @param {Point|Point[]} dockingOrPoints\n * @param {ModelingHints} [hints]\n */\nModeling.prototype.reconnectEnd = function(connection, newTarget, dockingOrPoints, hints) {\n  if (!hints) {\n    hints = {};\n  }\n\n  this.reconnect(connection, connection.source, newTarget, dockingOrPoints, (0,min_dash__WEBPACK_IMPORTED_MODULE_21__.assign)(hints, {\n    docking: 'target'\n  }));\n};\n\n/**\n * Connect two elements.\n *\n * @param {U} source\n * @param {U} target\n * @param {Partial<T>} [attrs]\n * @param {ModelingHints} [hints]\n *\n * @return {T}\n */\nModeling.prototype.connect = function(source, target, attrs, hints) {\n  return this.createConnection(source, target, attrs || {}, source.parent, hints);\n};\n\nModeling.prototype._create = function(type, attrs) {\n  if ((0,_model__WEBPACK_IMPORTED_MODULE_22__.isModelElement)(attrs)) {\n    return attrs;\n  } else {\n    return this._elementFactory.create(type, attrs);\n  }\n};\n\n/**\n * Collapse or expand a shape.\n *\n * @param {X} shape\n * @param {ModelingHints} [hints]\n */\nModeling.prototype.toggleCollapse = function(shape, hints) {\n  var context = {\n    shape: shape,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('shape.toggleCollapse', context);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvTW9kZWxpbmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSWtCOztBQUU0QztBQUNKO0FBQ1U7QUFDSjtBQUNOO0FBQ0E7QUFDVTtBQUNKO0FBQ047QUFDYztBQUNKO0FBQ0o7QUFDSjtBQUNOO0FBQ29CO0FBQ2Q7QUFDRjtBQUNKO0FBQ29CO0FBQ047QUFDRjs7QUFFckI7O0FBRTdDO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQsYUFBYSx3Q0FBd0M7QUFDckQsYUFBYSxvQ0FBb0M7QUFDakQsYUFBYSxtQ0FBbUM7QUFDaEQsYUFBYSxtQ0FBbUM7QUFDaEQ7QUFDQSxhQUFhLDhDQUE4QztBQUMzRCxhQUFhLDZDQUE2QztBQUMxRCxhQUFhLHVDQUF1QztBQUNwRDtBQUNBLGFBQWEsZ0VBQWdFO0FBQzdFO0FBQ0EsYUFBYSx1Q0FBdUM7QUFDcEQsYUFBYSxzQ0FBc0M7QUFDbkQsYUFBYSxrQ0FBa0M7QUFDL0MsYUFBYSxpQ0FBaUM7QUFDOUM7QUFDQSxjQUFjLFlBQVk7QUFDMUI7QUFDQSxjQUFjLHFCQUFxQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLLGtCQUFrQjtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxLQUFLLGtCQUFrQjtBQUN2Qjs7QUFFQTtBQUNBLGNBQWMsU0FBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFlBQVk7QUFDMUIsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsT0FBTztBQUNyQixjQUFjLFFBQVE7QUFDdEIsY0FBYyxPQUFPO0FBQ3JCO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsZ0JBQWdCO0FBQzNCLFdBQVcsY0FBYztBQUN6QjtBQUNlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwrREFBa0I7QUFDdEMsb0JBQW9CLCtEQUFrQjtBQUN0QyxvQkFBb0IsK0RBQWtCO0FBQ3RDLGtCQUFrQiw2REFBZ0I7QUFDbEMsb0JBQW9CLCtEQUFrQjtBQUN0QyxxQkFBcUIsZ0VBQW1CO0FBQ3hDLDRCQUE0Qix1RUFBMEI7O0FBRXRELGlCQUFpQiw2REFBZ0I7O0FBRWpDLG9CQUFvQiwrREFBa0I7O0FBRXRDLHlCQUF5QixvRUFBdUI7QUFDaEQseUJBQXlCLHFFQUF1QjtBQUNoRCx1QkFBdUIsbUVBQXFCO0FBQzVDLHlCQUF5QixxRUFBdUI7O0FBRWhELGtDQUFrQyxvRUFBc0I7O0FBRXhELDRCQUE0Qix3RUFBMEI7O0FBRXRELHVCQUF1QixtRUFBcUI7QUFDNUMscUJBQXFCLGlFQUFtQjtBQUN4Qyx1QkFBdUIsbUVBQXFCOztBQUU1QywyQkFBMkIsdUVBQXlCO0FBQ3BELHNCQUFzQixrRUFBb0I7O0FBRTFDLGdDQUFnQyxxRUFBdUI7QUFDdkQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekI7QUFDQTtBQUNBLEVBQUUsa0RBQU87QUFDVDtBQUNBLEdBQUc7QUFDSDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsR0FBRztBQUNkLFdBQVcsUUFBUTtBQUNuQixXQUFXLGVBQWU7QUFDMUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCLFdBQVcsT0FBTztBQUNsQixXQUFXLEdBQUc7QUFDZCxXQUFXLDJCQUEyQjtBQUN0QztBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxXQUFXLE9BQU87QUFDbEIsV0FBVyxHQUFHO0FBQ2QsV0FBVyxRQUFRO0FBQ25CLFdBQVcsZUFBZTtBQUMxQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsV0FBVyxlQUFlO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZCxXQUFXLFlBQVk7QUFDdkIsV0FBVyxHQUFHO0FBQ2QsV0FBVyxlQUFlO0FBQzFCO0FBQ0EsWUFBWTtBQUNaOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLFdBQVcsR0FBRztBQUNkLFdBQVcsUUFBUTtBQUNuQixXQUFXLFlBQVk7QUFDdkIsV0FBVyxHQUFHO0FBQ2QsV0FBVyxlQUFlO0FBQzFCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QixXQUFXLE9BQU87QUFDbEIsV0FBVyxHQUFHO0FBQ2QsV0FBVywwQkFBMEI7QUFDckM7QUFDQSxZQUFZO0FBQ1o7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsT0FBTztBQUNsQixXQUFXLEdBQUc7QUFDZCxXQUFXLFFBQVE7QUFDbkIsV0FBVywwQkFBMEI7QUFDckM7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QixXQUFXLE9BQU87QUFDbEIsV0FBVyxHQUFHO0FBQ2QsV0FBVyxRQUFRO0FBQ25CLFdBQVcsZUFBZTtBQUMxQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsT0FBTyxrREFBTztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxXQUFXLE9BQU87QUFDbEIsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsR0FBRztBQUNkO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLFdBQVcsWUFBWTtBQUN2QixXQUFXLE9BQU87QUFDbEIsV0FBVyxHQUFHO0FBQ2QsV0FBVyxlQUFlO0FBQzFCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDhCQUE4QjtBQUN6QyxXQUFXLHdCQUF3QjtBQUNuQyxXQUFXLDZCQUE2QjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLFdBQVcsZUFBZTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxXQUFXLGVBQWU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsZUFBZTtBQUMxQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsS0FBSztBQUNoQixXQUFXLHdCQUF3QjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxXQUFXLE1BQU07QUFDakIsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsZUFBZTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCLFdBQVcsS0FBSztBQUNoQixXQUFXLE9BQU87QUFDbEIsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxXQUFXLFNBQVM7QUFDcEIsV0FBVyxlQUFlO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsV0FBVyxHQUFHO0FBQ2QsV0FBVyxHQUFHO0FBQ2QsV0FBVyxlQUFlO0FBQzFCLFdBQVcsZUFBZTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZCxXQUFXLGVBQWU7QUFDMUIsV0FBVyxlQUFlO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNEVBQTRFLGlEQUFNO0FBQ2xGO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLFdBQVcsR0FBRztBQUNkLFdBQVcsZUFBZTtBQUMxQixXQUFXLGVBQWU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0RUFBNEUsaURBQU07QUFDbEY7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsV0FBVyxHQUFHO0FBQ2QsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsZUFBZTtBQUMxQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsMERBQTBEO0FBQzFEOztBQUVBO0FBQ0EsTUFBTSx1REFBYztBQUNwQjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsV0FBVyxlQUFlO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL21vZGVsaW5nL01vZGVsaW5nLmpzPzdmNTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgYXNzaWduLFxuICBmb3JFYWNoLFxuICBpc0FycmF5XG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IEFsaWduRWxlbWVudHNIYW5kbGVyIGZyb20gJy4vY21kL0FsaWduRWxlbWVudHNIYW5kbGVyJztcbmltcG9ydCBBcHBlbmRTaGFwZUhhbmRsZXIgZnJvbSAnLi9jbWQvQXBwZW5kU2hhcGVIYW5kbGVyJztcbmltcG9ydCBDcmVhdGVDb25uZWN0aW9uSGFuZGxlciBmcm9tICcuL2NtZC9DcmVhdGVDb25uZWN0aW9uSGFuZGxlcic7XG5pbXBvcnQgQ3JlYXRlRWxlbWVudHNIYW5kbGVyIGZyb20gJy4vY21kL0NyZWF0ZUVsZW1lbnRzSGFuZGxlcic7XG5pbXBvcnQgQ3JlYXRlTGFiZWxIYW5kbGVyIGZyb20gJy4vY21kL0NyZWF0ZUxhYmVsSGFuZGxlcic7XG5pbXBvcnQgQ3JlYXRlU2hhcGVIYW5kbGVyIGZyb20gJy4vY21kL0NyZWF0ZVNoYXBlSGFuZGxlcic7XG5pbXBvcnQgRGVsZXRlQ29ubmVjdGlvbkhhbmRsZXIgZnJvbSAnLi9jbWQvRGVsZXRlQ29ubmVjdGlvbkhhbmRsZXInO1xuaW1wb3J0IERlbGV0ZUVsZW1lbnRzSGFuZGxlciBmcm9tICcuL2NtZC9EZWxldGVFbGVtZW50c0hhbmRsZXInO1xuaW1wb3J0IERlbGV0ZVNoYXBlSGFuZGxlciBmcm9tICcuL2NtZC9EZWxldGVTaGFwZUhhbmRsZXInO1xuaW1wb3J0IERpc3RyaWJ1dGVFbGVtZW50c0hhbmRsZXIgZnJvbSAnLi9jbWQvRGlzdHJpYnV0ZUVsZW1lbnRzSGFuZGxlcic7XG5pbXBvcnQgTGF5b3V0Q29ubmVjdGlvbkhhbmRsZXIgZnJvbSAnLi9jbWQvTGF5b3V0Q29ubmVjdGlvbkhhbmRsZXInO1xuaW1wb3J0IE1vdmVDb25uZWN0aW9uSGFuZGxlciBmcm9tICcuL2NtZC9Nb3ZlQ29ubmVjdGlvbkhhbmRsZXInO1xuaW1wb3J0IE1vdmVFbGVtZW50c0hhbmRsZXIgZnJvbSAnLi9jbWQvTW92ZUVsZW1lbnRzSGFuZGxlcic7XG5pbXBvcnQgTW92ZVNoYXBlSGFuZGxlciBmcm9tICcuL2NtZC9Nb3ZlU2hhcGVIYW5kbGVyJztcbmltcG9ydCBSZWNvbm5lY3RDb25uZWN0aW9uSGFuZGxlciBmcm9tICcuL2NtZC9SZWNvbm5lY3RDb25uZWN0aW9uSGFuZGxlcic7XG5pbXBvcnQgUmVwbGFjZVNoYXBlSGFuZGxlciBmcm9tICcuL2NtZC9SZXBsYWNlU2hhcGVIYW5kbGVyJztcbmltcG9ydCBSZXNpemVTaGFwZUhhbmRsZXIgZnJvbSAnLi9jbWQvUmVzaXplU2hhcGVIYW5kbGVyJztcbmltcG9ydCBTcGFjZVRvb2xIYW5kbGVyIGZyb20gJy4vY21kL1NwYWNlVG9vbEhhbmRsZXInO1xuaW1wb3J0IFRvZ2dsZVNoYXBlQ29sbGFwc2VIYW5kbGVyIGZyb20gJy4vY21kL1RvZ2dsZVNoYXBlQ29sbGFwc2VIYW5kbGVyJztcbmltcG9ydCBVcGRhdGVBdHRhY2htZW50SGFuZGxlciBmcm9tICcuL2NtZC9VcGRhdGVBdHRhY2htZW50SGFuZGxlcic7XG5pbXBvcnQgVXBkYXRlV2F5cG9pbnRzSGFuZGxlciBmcm9tICcuL2NtZC9VcGRhdGVXYXlwb2ludHNIYW5kbGVyJztcblxuaW1wb3J0IHsgaXNNb2RlbEVsZW1lbnQgfSBmcm9tICcuLi8uLi9tb2RlbCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vbW9kZWwvVHlwZXMnKS5FbGVtZW50fSBFbGVtZW50XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9tb2RlbC9UeXBlcycpLkNvbm5lY3Rpb259IENvbm5lY3Rpb25cbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL21vZGVsL1R5cGVzJykuUGFyZW50fSBQYXJlbnRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL21vZGVsL1R5cGVzJykuU2hhcGV9IFNoYXBlXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9tb2RlbC9UeXBlcycpLkxhYmVsfSBMYWJlbFxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvbW1hbmQvQ29tbWFuZFN0YWNrJykuZGVmYXVsdH0gQ29tbWFuZFN0YWNrXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0VsZW1lbnRGYWN0b3J5JykuZGVmYXVsdH0gRWxlbWVudEZhY3RvcnlcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvbW1hbmQvQ29tbWFuZFN0YWNrJykuQ29tbWFuZEhhbmRsZXJDb25zdHJ1Y3Rvcn0gQ29tbWFuZEhhbmRsZXJDb25zdHJ1Y3RvclxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL3V0aWwvVHlwZXMnKS5EaW1lbnNpb25zfSBEaW1lbnNpb25zXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi91dGlsL1R5cGVzJykuRGlyZWN0aW9ufSBEaXJlY3Rpb25cbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL3V0aWwvVHlwZXMnKS5Qb2ludH0gUG9pbnRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL3V0aWwvVHlwZXMnKS5SZWN0fSBSZWN0XG4gKlxuICogQHR5cGVkZWYgeyAneCcgfCAneScgfSBNb2RlbGluZ0Rpc3RyaWJ1dGVBeGlzXG4gKlxuICogQHR5cGVkZWYgeyAnd2lkdGgnIHwgJ2hlaWdodCcgfSBNb2RlbGluZ0Rpc3RyaWJ1dGVEaW1lbnNpb25cbiAqXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgYm90dG9tPzogbnVtYmVyO1xuICogICBjZW50ZXI/OiBudW1iZXI7XG4gKiAgIGxlZnQ/OiBudW1iZXI7XG4gKiAgIG1pZGRsZT86IG51bWJlcjtcbiAqICAgcmlnaHQ/OiBudW1iZXI7XG4gKiAgIHRvcD86IG51bWJlcjtcbiAqIH0gfSBNb2RlbGluZ0FsaWduQWxpZ25tZW50XG4gKlxuICogQHR5cGVkZWYgeyB7XG4gKiAgIFtrZXk6IHN0cmluZ106IGFueTtcbiAqIH0gfSBNb2RlbGluZ0hpbnRzXG4gKlxuICogQHR5cGVkZWYgeyB7XG4gKiAgIGF0dGFjaD86IGJvb2xlYW47XG4gKiB9ICYgTW9kZWxpbmdIaW50cyB9IE1vZGVsaW5nTW92ZUVsZW1lbnRzSGludHNcbiAqXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgYXR0YWNoPzogYm9vbGVhbjtcbiAqIH0gJiBNb2RlbGluZ0hpbnRzIH0gTW9kZWxpbmdDcmVhdGVTaGFwZUhpbnRzXG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUge0VsZW1lbnR9IFVcbiAqXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgZWxlbWVudHM6IFVbXSxcbiAqICAgcmFuZ2U6IHtcbiAqICAgICBtaW46IG51bWJlcjtcbiAqICAgICBtYXg6IG51bWJlcjtcbiAqICAgfSB9XG4gKiB9IE1vZGVsaW5nRGlzdHJpYnV0ZUdyb3VwXG4gKi9cblxuLyoqXG4gKiBUaGUgYmFzaWMgbW9kZWxpbmcgZW50cnkgcG9pbnQuXG4gKlxuICogQHRlbXBsYXRlIHtDb25uZWN0aW9ufSBbVD1Db25uZWN0aW9uXVxuICogQHRlbXBsYXRlIHtFbGVtZW50fSBbVT1FbGVtZW50XVxuICogQHRlbXBsYXRlIHtMYWJlbH0gW1Y9TGFiZWxdXG4gKiBAdGVtcGxhdGUge1BhcmVudH0gW1c9UGFyZW50XVxuICogQHRlbXBsYXRlIHtTaGFwZX0gW1g9U2hhcGVdXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7RWxlbWVudEZhY3Rvcnl9IGVsZW1lbnRGYWN0b3J5XG4gKiBAcGFyYW0ge0NvbW1hbmRTdGFja30gY29tbWFuZFN0YWNrXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1vZGVsaW5nKGV2ZW50QnVzLCBlbGVtZW50RmFjdG9yeSwgY29tbWFuZFN0YWNrKSB7XG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG4gIHRoaXMuX2VsZW1lbnRGYWN0b3J5ID0gZWxlbWVudEZhY3Rvcnk7XG4gIHRoaXMuX2NvbW1hbmRTdGFjayA9IGNvbW1hbmRTdGFjaztcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgZXZlbnRCdXMub24oJ2RpYWdyYW0uaW5pdCcsIGZ1bmN0aW9uKCkge1xuXG4gICAgLy8gcmVnaXN0ZXIgbW9kZWxpbmcgaGFuZGxlcnNcbiAgICBzZWxmLnJlZ2lzdGVySGFuZGxlcnMoY29tbWFuZFN0YWNrKTtcbiAgfSk7XG59XG5cbk1vZGVsaW5nLiRpbmplY3QgPSBbICdldmVudEJ1cycsICdlbGVtZW50RmFjdG9yeScsICdjb21tYW5kU3RhY2snIF07XG5cbi8qKlxuICogR2V0IGEgbWFwIG9mIGFsbCBjb21tYW5kIGhhbmRsZXJzLlxuICpcbiAqIEByZXR1cm4ge01hcDxzdHJpbmcsIENvbW1hbmRIYW5kbGVyQ29uc3RydWN0b3I+fVxuICovXG5Nb2RlbGluZy5wcm90b3R5cGUuZ2V0SGFuZGxlcnMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICAnc2hhcGUuYXBwZW5kJzogQXBwZW5kU2hhcGVIYW5kbGVyLFxuICAgICdzaGFwZS5jcmVhdGUnOiBDcmVhdGVTaGFwZUhhbmRsZXIsXG4gICAgJ3NoYXBlLmRlbGV0ZSc6IERlbGV0ZVNoYXBlSGFuZGxlcixcbiAgICAnc2hhcGUubW92ZSc6IE1vdmVTaGFwZUhhbmRsZXIsXG4gICAgJ3NoYXBlLnJlc2l6ZSc6IFJlc2l6ZVNoYXBlSGFuZGxlcixcbiAgICAnc2hhcGUucmVwbGFjZSc6IFJlcGxhY2VTaGFwZUhhbmRsZXIsXG4gICAgJ3NoYXBlLnRvZ2dsZUNvbGxhcHNlJzogVG9nZ2xlU2hhcGVDb2xsYXBzZUhhbmRsZXIsXG5cbiAgICAnc3BhY2VUb29sJzogU3BhY2VUb29sSGFuZGxlcixcblxuICAgICdsYWJlbC5jcmVhdGUnOiBDcmVhdGVMYWJlbEhhbmRsZXIsXG5cbiAgICAnY29ubmVjdGlvbi5jcmVhdGUnOiBDcmVhdGVDb25uZWN0aW9uSGFuZGxlcixcbiAgICAnY29ubmVjdGlvbi5kZWxldGUnOiBEZWxldGVDb25uZWN0aW9uSGFuZGxlcixcbiAgICAnY29ubmVjdGlvbi5tb3ZlJzogTW92ZUNvbm5lY3Rpb25IYW5kbGVyLFxuICAgICdjb25uZWN0aW9uLmxheW91dCc6IExheW91dENvbm5lY3Rpb25IYW5kbGVyLFxuXG4gICAgJ2Nvbm5lY3Rpb24udXBkYXRlV2F5cG9pbnRzJzogVXBkYXRlV2F5cG9pbnRzSGFuZGxlcixcblxuICAgICdjb25uZWN0aW9uLnJlY29ubmVjdCc6IFJlY29ubmVjdENvbm5lY3Rpb25IYW5kbGVyLFxuXG4gICAgJ2VsZW1lbnRzLmNyZWF0ZSc6IENyZWF0ZUVsZW1lbnRzSGFuZGxlcixcbiAgICAnZWxlbWVudHMubW92ZSc6IE1vdmVFbGVtZW50c0hhbmRsZXIsXG4gICAgJ2VsZW1lbnRzLmRlbGV0ZSc6IERlbGV0ZUVsZW1lbnRzSGFuZGxlcixcblxuICAgICdlbGVtZW50cy5kaXN0cmlidXRlJzogRGlzdHJpYnV0ZUVsZW1lbnRzSGFuZGxlcixcbiAgICAnZWxlbWVudHMuYWxpZ24nOiBBbGlnbkVsZW1lbnRzSGFuZGxlcixcblxuICAgICdlbGVtZW50LnVwZGF0ZUF0dGFjaG1lbnQnOiBVcGRhdGVBdHRhY2htZW50SGFuZGxlclxuICB9O1xufTtcblxuLyoqXG4gKiBSZWdpc3RlciBoYW5kbGVycyB3aXRoIHRoZSBjb21tYW5kIHN0YWNrXG4gKlxuICogQHBhcmFtIHtDb21tYW5kU3RhY2t9IGNvbW1hbmRTdGFja1xuICovXG5Nb2RlbGluZy5wcm90b3R5cGUucmVnaXN0ZXJIYW5kbGVycyA9IGZ1bmN0aW9uKGNvbW1hbmRTdGFjaykge1xuICBmb3JFYWNoKHRoaXMuZ2V0SGFuZGxlcnMoKSwgZnVuY3Rpb24oaGFuZGxlciwgaWQpIHtcbiAgICBjb21tYW5kU3RhY2sucmVnaXN0ZXJIYW5kbGVyKGlkLCBoYW5kbGVyKTtcbiAgfSk7XG59O1xuXG5cbi8qKlxuICogTW92ZSBhIHNoYXBlIGJ5IHRoZSBnaXZlbiBkZWx0YSBhbmQgb3B0aW9uYWxseSB0byBhIG5ldyBwYXJlbnQuXG4gKlxuICogQHBhcmFtIHtYfSBzaGFwZVxuICogQHBhcmFtIHtQb2ludH0gZGVsdGFcbiAqIEBwYXJhbSB7V30gW25ld1BhcmVudF1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbmV3UGFyZW50SW5kZXhdXG4gKiBAcGFyYW0ge01vZGVsaW5nSGludHN9IFtoaW50c11cbiAqL1xuTW9kZWxpbmcucHJvdG90eXBlLm1vdmVTaGFwZSA9IGZ1bmN0aW9uKHNoYXBlLCBkZWx0YSwgbmV3UGFyZW50LCBuZXdQYXJlbnRJbmRleCwgaGludHMpIHtcblxuICBpZiAodHlwZW9mIG5ld1BhcmVudEluZGV4ID09PSAnb2JqZWN0Jykge1xuICAgIGhpbnRzID0gbmV3UGFyZW50SW5kZXg7XG4gICAgbmV3UGFyZW50SW5kZXggPSBudWxsO1xuICB9XG5cbiAgdmFyIGNvbnRleHQgPSB7XG4gICAgc2hhcGU6IHNoYXBlLFxuICAgIGRlbHRhOiAgZGVsdGEsXG4gICAgbmV3UGFyZW50OiBuZXdQYXJlbnQsXG4gICAgbmV3UGFyZW50SW5kZXg6IG5ld1BhcmVudEluZGV4LFxuICAgIGhpbnRzOiBoaW50cyB8fCB7fVxuICB9O1xuXG4gIHRoaXMuX2NvbW1hbmRTdGFjay5leGVjdXRlKCdzaGFwZS5tb3ZlJywgY29udGV4dCk7XG59O1xuXG5cbi8qKlxuICogVXBkYXRlIHRoZSBhdHRhY2htZW50IG9mIGEgc2hhcGUuXG4gKlxuICogQHBhcmFtIHtYfSBzaGFwZVxuICogQHBhcmFtIHtYfSBbbmV3SG9zdD11bmRlZmluZWRdXG4gKi9cbk1vZGVsaW5nLnByb3RvdHlwZS51cGRhdGVBdHRhY2htZW50ID0gZnVuY3Rpb24oc2hhcGUsIG5ld0hvc3QpIHtcbiAgdmFyIGNvbnRleHQgPSB7XG4gICAgc2hhcGU6IHNoYXBlLFxuICAgIG5ld0hvc3Q6IG5ld0hvc3RcbiAgfTtcblxuICB0aGlzLl9jb21tYW5kU3RhY2suZXhlY3V0ZSgnZWxlbWVudC51cGRhdGVBdHRhY2htZW50JywgY29udGV4dCk7XG59O1xuXG5cbi8qKlxuICogTW92ZSBlbGVtZW50cyBieSBhIGdpdmVuIGRlbHRhIGFuZCBvcHRpb25hbGx5IHRvIGEgbmV3IHBhcmVudC5cbiAqXG4gKiBAcGFyYW0ge1VbXX0gc2hhcGVzXG4gKiBAcGFyYW0ge1BvaW50fSBkZWx0YVxuICogQHBhcmFtIHtXfSBbdGFyZ2V0XVxuICogQHBhcmFtIHtNb2RlbGluZ01vdmVFbGVtZW50c0hpbnRzfSBbaGludHNdXG4gKi9cbk1vZGVsaW5nLnByb3RvdHlwZS5tb3ZlRWxlbWVudHMgPSBmdW5jdGlvbihzaGFwZXMsIGRlbHRhLCB0YXJnZXQsIGhpbnRzKSB7XG5cbiAgaGludHMgPSBoaW50cyB8fCB7fTtcblxuICB2YXIgYXR0YWNoID0gaGludHMuYXR0YWNoO1xuXG4gIHZhciBuZXdQYXJlbnQgPSB0YXJnZXQsXG4gICAgICBuZXdIb3N0O1xuXG4gIGlmIChhdHRhY2ggPT09IHRydWUpIHtcbiAgICBuZXdIb3N0ID0gdGFyZ2V0O1xuICAgIG5ld1BhcmVudCA9IHRhcmdldC5wYXJlbnQ7XG4gIH0gZWxzZSBpZiAoYXR0YWNoID09PSBmYWxzZSkge1xuICAgIG5ld0hvc3QgPSBudWxsO1xuICB9XG5cbiAgdmFyIGNvbnRleHQgPSB7XG4gICAgc2hhcGVzOiBzaGFwZXMsXG4gICAgZGVsdGE6IGRlbHRhLFxuICAgIG5ld1BhcmVudDogbmV3UGFyZW50LFxuICAgIG5ld0hvc3Q6IG5ld0hvc3QsXG4gICAgaGludHM6IGhpbnRzXG4gIH07XG5cbiAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ2VsZW1lbnRzLm1vdmUnLCBjb250ZXh0KTtcbn07XG5cbi8qKlxuICogTW92ZSBhIHNoYXBlIGJ5IHRoZSBnaXZlbiBkZWx0YSBhbmQgb3B0aW9uYWxseSB0byBhIG5ldyBwYXJlbnQuXG4gKlxuICogQHBhcmFtIHtUfSBjb25uZWN0aW9uXG4gKiBAcGFyYW0ge1BvaW50fSBkZWx0YVxuICogQHBhcmFtIHtXfSBbbmV3UGFyZW50XVxuICogQHBhcmFtIHtudW1iZXJ9IFtuZXdQYXJlbnRJbmRleF1cbiAqIEBwYXJhbSB7TW9kZWxpbmdIaW50c30gW2hpbnRzXVxuICovXG5Nb2RlbGluZy5wcm90b3R5cGUubW92ZUNvbm5lY3Rpb24gPSBmdW5jdGlvbihjb25uZWN0aW9uLCBkZWx0YSwgbmV3UGFyZW50LCBuZXdQYXJlbnRJbmRleCwgaGludHMpIHtcblxuICBpZiAodHlwZW9mIG5ld1BhcmVudEluZGV4ID09PSAnb2JqZWN0Jykge1xuICAgIGhpbnRzID0gbmV3UGFyZW50SW5kZXg7XG4gICAgbmV3UGFyZW50SW5kZXggPSB1bmRlZmluZWQ7XG4gIH1cblxuICB2YXIgY29udGV4dCA9IHtcbiAgICBjb25uZWN0aW9uOiBjb25uZWN0aW9uLFxuICAgIGRlbHRhOiBkZWx0YSxcbiAgICBuZXdQYXJlbnQ6IG5ld1BhcmVudCxcbiAgICBuZXdQYXJlbnRJbmRleDogbmV3UGFyZW50SW5kZXgsXG4gICAgaGludHM6IGhpbnRzIHx8IHt9XG4gIH07XG5cbiAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ2Nvbm5lY3Rpb24ubW92ZScsIGNvbnRleHQpO1xufTtcblxuLyoqXG4gKiBMYXlvdXQgYSBjb25uZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7VH0gY29ubmVjdGlvblxuICogQHBhcmFtIHtNb2RlbGluZ0hpbnRzfSBbaGludHNdXG4gKi9cbk1vZGVsaW5nLnByb3RvdHlwZS5sYXlvdXRDb25uZWN0aW9uID0gZnVuY3Rpb24oY29ubmVjdGlvbiwgaGludHMpIHtcbiAgdmFyIGNvbnRleHQgPSB7XG4gICAgY29ubmVjdGlvbjogY29ubmVjdGlvbixcbiAgICBoaW50czogaGludHMgfHwge31cbiAgfTtcblxuICB0aGlzLl9jb21tYW5kU3RhY2suZXhlY3V0ZSgnY29ubmVjdGlvbi5sYXlvdXQnLCBjb250ZXh0KTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgY29ubmVjdGlvbi5cbiAqXG4gKiBAb3ZlcmxvcmRcbiAqXG4gKiBAcGFyYW0ge1V9IHNvdXJjZVxuICogQHBhcmFtIHtVfSB0YXJnZXRcbiAqIEBwYXJhbSB7UGFydGlhbDxUPn0gY29ubmVjdGlvblxuICogQHBhcmFtIHtXfSBwYXJlbnRcbiAqIEBwYXJhbSB7TW9kZWxpbmdIaW50c30gW2hpbnRzXVxuICpcbiAqIEByZXR1cm4ge1R9XG4gKi9cblxuLyoqXG4gKiBDcmVhdGUgYSBjb25uZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7VX0gc291cmNlXG4gKiBAcGFyYW0ge1V9IHRhcmdldFxuICogQHBhcmFtIHtudW1iZXJ9IHBhcmVudEluZGV4XG4gKiBAcGFyYW0ge1BhcnRpYWw8VD59IGNvbm5lY3Rpb25cbiAqIEBwYXJhbSB7V30gcGFyZW50XG4gKiBAcGFyYW0ge01vZGVsaW5nSGludHN9IFtoaW50c11cbiAqXG4gKiBAcmV0dXJuIHtUfVxuICovXG5Nb2RlbGluZy5wcm90b3R5cGUuY3JlYXRlQ29ubmVjdGlvbiA9IGZ1bmN0aW9uKHNvdXJjZSwgdGFyZ2V0LCBwYXJlbnRJbmRleCwgY29ubmVjdGlvbiwgcGFyZW50LCBoaW50cykge1xuXG4gIGlmICh0eXBlb2YgcGFyZW50SW5kZXggPT09ICdvYmplY3QnKSB7XG4gICAgaGludHMgPSBwYXJlbnQ7XG4gICAgcGFyZW50ID0gY29ubmVjdGlvbjtcbiAgICBjb25uZWN0aW9uID0gcGFyZW50SW5kZXg7XG4gICAgcGFyZW50SW5kZXggPSB1bmRlZmluZWQ7XG4gIH1cblxuICBjb25uZWN0aW9uID0gdGhpcy5fY3JlYXRlKCdjb25uZWN0aW9uJywgY29ubmVjdGlvbik7XG5cbiAgdmFyIGNvbnRleHQgPSB7XG4gICAgc291cmNlOiBzb3VyY2UsXG4gICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgcGFyZW50OiBwYXJlbnQsXG4gICAgcGFyZW50SW5kZXg6IHBhcmVudEluZGV4LFxuICAgIGNvbm5lY3Rpb246IGNvbm5lY3Rpb24sXG4gICAgaGludHM6IGhpbnRzXG4gIH07XG5cbiAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ2Nvbm5lY3Rpb24uY3JlYXRlJywgY29udGV4dCk7XG5cbiAgcmV0dXJuIGNvbnRleHQuY29ubmVjdGlvbjtcbn07XG5cblxuLyoqXG4gKiBDcmVhdGUgYSBzaGFwZS5cbiAqXG4gKiBAb3ZlcmxvcmRcbiAqXG4gKiBAcGFyYW0ge1BhcnRpYWw8WD59IHNoYXBlXG4gKiBAcGFyYW0ge1BvaW50fSBwb3NpdGlvblxuICogQHBhcmFtIHtXfSB0YXJnZXRcbiAqIEBwYXJhbSB7TW9kZWxpbmdDcmVhdGVTaGFwZUhpbnRzfSBbaGludHNdXG4gKlxuICogQHJldHVybiB7WH1cbiAqL1xuXG4vKipcbiAqIENyZWF0ZSBhIHNoYXBlLlxuICpcbiAqIEBwYXJhbSB7UGFydGlhbDxYPn0gc2hhcGVcbiAqIEBwYXJhbSB7UG9pbnR9IHBvc2l0aW9uXG4gKiBAcGFyYW0ge1d9IHRhcmdldFxuICogQHBhcmFtIHtudW1iZXJ9IHBhcmVudEluZGV4XG4gKiBAcGFyYW0ge01vZGVsaW5nQ3JlYXRlU2hhcGVIaW50c30gW2hpbnRzXVxuICpcbiAqIEByZXR1cm4ge1h9XG4gKi9cbk1vZGVsaW5nLnByb3RvdHlwZS5jcmVhdGVTaGFwZSA9IGZ1bmN0aW9uKHNoYXBlLCBwb3NpdGlvbiwgdGFyZ2V0LCBwYXJlbnRJbmRleCwgaGludHMpIHtcblxuICBpZiAodHlwZW9mIHBhcmVudEluZGV4ICE9PSAnbnVtYmVyJykge1xuICAgIGhpbnRzID0gcGFyZW50SW5kZXg7XG4gICAgcGFyZW50SW5kZXggPSB1bmRlZmluZWQ7XG4gIH1cblxuICBoaW50cyA9IGhpbnRzIHx8IHt9O1xuXG4gIHZhciBhdHRhY2ggPSBoaW50cy5hdHRhY2gsXG4gICAgICBwYXJlbnQsXG4gICAgICBob3N0O1xuXG4gIHNoYXBlID0gdGhpcy5fY3JlYXRlKCdzaGFwZScsIHNoYXBlKTtcblxuICBpZiAoYXR0YWNoKSB7XG4gICAgcGFyZW50ID0gdGFyZ2V0LnBhcmVudDtcbiAgICBob3N0ID0gdGFyZ2V0O1xuICB9IGVsc2Uge1xuICAgIHBhcmVudCA9IHRhcmdldDtcbiAgfVxuXG4gIHZhciBjb250ZXh0ID0ge1xuICAgIHBvc2l0aW9uOiBwb3NpdGlvbixcbiAgICBzaGFwZTogc2hhcGUsXG4gICAgcGFyZW50OiBwYXJlbnQsXG4gICAgcGFyZW50SW5kZXg6IHBhcmVudEluZGV4LFxuICAgIGhvc3Q6IGhvc3QsXG4gICAgaGludHM6IGhpbnRzXG4gIH07XG5cbiAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ3NoYXBlLmNyZWF0ZScsIGNvbnRleHQpO1xuXG4gIHJldHVybiBjb250ZXh0LnNoYXBlO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgZWxlbWVudHMuXG4gKlxuICogQHBhcmFtIHtQYXJ0aWFsPFU+W119IGVsZW1lbnRzXG4gKiBAcGFyYW0ge1BvaW50fSBwb3NpdGlvblxuICogQHBhcmFtIHtXfSBwYXJlbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyZW50SW5kZXhdXG4gKiBAcGFyYW0ge01vZGVsaW5nSGludHN9IFtoaW50c11cbiAqXG4gKiBAcmV0dXJuIHtVW119XG4gKi9cbk1vZGVsaW5nLnByb3RvdHlwZS5jcmVhdGVFbGVtZW50cyA9IGZ1bmN0aW9uKGVsZW1lbnRzLCBwb3NpdGlvbiwgcGFyZW50LCBwYXJlbnRJbmRleCwgaGludHMpIHtcbiAgaWYgKCFpc0FycmF5KGVsZW1lbnRzKSkge1xuICAgIGVsZW1lbnRzID0gWyBlbGVtZW50cyBdO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBwYXJlbnRJbmRleCAhPT0gJ251bWJlcicpIHtcbiAgICBoaW50cyA9IHBhcmVudEluZGV4O1xuICAgIHBhcmVudEluZGV4ID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaGludHMgPSBoaW50cyB8fCB7fTtcblxuICB2YXIgY29udGV4dCA9IHtcbiAgICBwb3NpdGlvbjogcG9zaXRpb24sXG4gICAgZWxlbWVudHM6IGVsZW1lbnRzLFxuICAgIHBhcmVudDogcGFyZW50LFxuICAgIHBhcmVudEluZGV4OiBwYXJlbnRJbmRleCxcbiAgICBoaW50czogaGludHNcbiAgfTtcblxuICB0aGlzLl9jb21tYW5kU3RhY2suZXhlY3V0ZSgnZWxlbWVudHMuY3JlYXRlJywgY29udGV4dCk7XG5cbiAgcmV0dXJuIGNvbnRleHQuZWxlbWVudHM7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhIGxhYmVsLlxuICpcbiAqIEBwYXJhbSB7VX0gbGFiZWxUYXJnZXRcbiAqIEBwYXJhbSB7UG9pbnR9IHBvc2l0aW9uXG4gKiBAcGFyYW0ge1BhcnRpYWw8Vj59IGxhYmVsXG4gKiBAcGFyYW0ge1d9IFtwYXJlbnRdXG4gKlxuICogQHJldHVybiB7Vn1cbiAqL1xuTW9kZWxpbmcucHJvdG90eXBlLmNyZWF0ZUxhYmVsID0gZnVuY3Rpb24obGFiZWxUYXJnZXQsIHBvc2l0aW9uLCBsYWJlbCwgcGFyZW50KSB7XG5cbiAgbGFiZWwgPSB0aGlzLl9jcmVhdGUoJ2xhYmVsJywgbGFiZWwpO1xuXG4gIHZhciBjb250ZXh0ID0ge1xuICAgIGxhYmVsVGFyZ2V0OiBsYWJlbFRhcmdldCxcbiAgICBwb3NpdGlvbjogcG9zaXRpb24sXG4gICAgcGFyZW50OiBwYXJlbnQgfHwgbGFiZWxUYXJnZXQucGFyZW50LFxuICAgIHNoYXBlOiBsYWJlbFxuICB9O1xuXG4gIHRoaXMuX2NvbW1hbmRTdGFjay5leGVjdXRlKCdsYWJlbC5jcmVhdGUnLCBjb250ZXh0KTtcblxuICByZXR1cm4gY29udGV4dC5zaGFwZTtcbn07XG5cblxuLyoqXG4gKiBDcmVhdGUgYW5kIGNvbm5lY3QgYSBzaGFwZSB0byBhIHNvdXJjZS5cbiAqXG4gKiBAcGFyYW0ge1V9IHNvdXJjZVxuICogQHBhcmFtIHtQYXJ0aWFsPFg+fSBzaGFwZVxuICogQHBhcmFtIHtQb2ludH0gcG9zaXRpb25cbiAqIEBwYXJhbSB7V30gdGFyZ2V0XG4gKiBAcGFyYW0ge01vZGVsaW5nSGludHN9IFtoaW50c11cbiAqXG4gKiBAcmV0dXJuIHtYfVxuICovXG5Nb2RlbGluZy5wcm90b3R5cGUuYXBwZW5kU2hhcGUgPSBmdW5jdGlvbihzb3VyY2UsIHNoYXBlLCBwb3NpdGlvbiwgdGFyZ2V0LCBoaW50cykge1xuXG4gIGhpbnRzID0gaGludHMgfHwge307XG5cbiAgc2hhcGUgPSB0aGlzLl9jcmVhdGUoJ3NoYXBlJywgc2hhcGUpO1xuXG4gIHZhciBjb250ZXh0ID0ge1xuICAgIHNvdXJjZTogc291cmNlLFxuICAgIHBvc2l0aW9uOiBwb3NpdGlvbixcbiAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICBzaGFwZTogc2hhcGUsXG4gICAgY29ubmVjdGlvbjogaGludHMuY29ubmVjdGlvbixcbiAgICBjb25uZWN0aW9uUGFyZW50OiBoaW50cy5jb25uZWN0aW9uUGFyZW50LFxuICAgIGhpbnRzOiBoaW50c1xuICB9O1xuXG4gIHRoaXMuX2NvbW1hbmRTdGFjay5leGVjdXRlKCdzaGFwZS5hcHBlbmQnLCBjb250ZXh0KTtcblxuICByZXR1cm4gY29udGV4dC5zaGFwZTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7VVtdfSBlbGVtZW50c1xuICovXG5Nb2RlbGluZy5wcm90b3R5cGUucmVtb3ZlRWxlbWVudHMgPSBmdW5jdGlvbihlbGVtZW50cykge1xuICB2YXIgY29udGV4dCA9IHtcbiAgICBlbGVtZW50czogZWxlbWVudHNcbiAgfTtcblxuICB0aGlzLl9jb21tYW5kU3RhY2suZXhlY3V0ZSgnZWxlbWVudHMuZGVsZXRlJywgY29udGV4dCk7XG59O1xuXG4vKipcbiAqIERpc3RyaWJ1dGUgZWxlbWVudHMgYWxvbmcgYSBnaXZlbiBheGlzLlxuICpcbiAqIEBwYXJhbSB7TW9kZWxpbmdEaXN0cmlidXRlR3JvdXA8VT5bXX0gZ3JvdXBzXG4gKiBAcGFyYW0ge01vZGVsaW5nRGlzdHJpYnV0ZUF4aXN9IGF4aXNcbiAqIEBwYXJhbSB7TW9kZWxpbmdEaXN0cmlidXRlRGltZW5zaW9ufSBkaW1lbnNpb25cbiAqL1xuTW9kZWxpbmcucHJvdG90eXBlLmRpc3RyaWJ1dGVFbGVtZW50cyA9IGZ1bmN0aW9uKGdyb3VwcywgYXhpcywgZGltZW5zaW9uKSB7XG4gIHZhciBjb250ZXh0ID0ge1xuICAgIGdyb3VwczogZ3JvdXBzLFxuICAgIGF4aXM6IGF4aXMsXG4gICAgZGltZW5zaW9uOiBkaW1lbnNpb25cbiAgfTtcblxuICB0aGlzLl9jb21tYW5kU3RhY2suZXhlY3V0ZSgnZWxlbWVudHMuZGlzdHJpYnV0ZScsIGNvbnRleHQpO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYSBzaGFwZS5cbiAqXG4gKiBAcGFyYW0ge1h9IHNoYXBlXG4gKiBAcGFyYW0ge01vZGVsaW5nSGludHN9IFtoaW50c11cbiAqL1xuTW9kZWxpbmcucHJvdG90eXBlLnJlbW92ZVNoYXBlID0gZnVuY3Rpb24oc2hhcGUsIGhpbnRzKSB7XG4gIHZhciBjb250ZXh0ID0ge1xuICAgIHNoYXBlOiBzaGFwZSxcbiAgICBoaW50czogaGludHMgfHwge31cbiAgfTtcblxuICB0aGlzLl9jb21tYW5kU3RhY2suZXhlY3V0ZSgnc2hhcGUuZGVsZXRlJywgY29udGV4dCk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhIGNvbm5lY3Rpb24uXG4gKlxuICogQHBhcmFtIHtUfSBjb25uZWN0aW9uXG4gKiBAcGFyYW0ge01vZGVsaW5nSGludHN9IFtoaW50c11cbiAqL1xuTW9kZWxpbmcucHJvdG90eXBlLnJlbW92ZUNvbm5lY3Rpb24gPSBmdW5jdGlvbihjb25uZWN0aW9uLCBoaW50cykge1xuICB2YXIgY29udGV4dCA9IHtcbiAgICBjb25uZWN0aW9uOiBjb25uZWN0aW9uLFxuICAgIGhpbnRzOiBoaW50cyB8fCB7fVxuICB9O1xuXG4gIHRoaXMuX2NvbW1hbmRTdGFjay5leGVjdXRlKCdjb25uZWN0aW9uLmRlbGV0ZScsIGNvbnRleHQpO1xufTtcblxuLyoqXG4gKiBSZXBsYWNlIGEgc2hhcGUuXG4gKlxuICogQHBhcmFtIHtYfSBvbGRTaGFwZVxuICogQHBhcmFtIHtQYXJ0aWFsPFg+fSBuZXdTaGFwZVxuICogQHBhcmFtIHtNb2RlbGluZ0hpbnRzfSBbaGludHNdXG4gKlxuICogQHJldHVybiB7WH1cbiAqL1xuTW9kZWxpbmcucHJvdG90eXBlLnJlcGxhY2VTaGFwZSA9IGZ1bmN0aW9uKG9sZFNoYXBlLCBuZXdTaGFwZSwgaGludHMpIHtcbiAgdmFyIGNvbnRleHQgPSB7XG4gICAgb2xkU2hhcGU6IG9sZFNoYXBlLFxuICAgIG5ld0RhdGE6IG5ld1NoYXBlLFxuICAgIGhpbnRzOiBoaW50cyB8fCB7fVxuICB9O1xuXG4gIHRoaXMuX2NvbW1hbmRTdGFjay5leGVjdXRlKCdzaGFwZS5yZXBsYWNlJywgY29udGV4dCk7XG5cbiAgcmV0dXJuIGNvbnRleHQubmV3U2hhcGU7XG59O1xuXG4vKipcbiAqIEFsaWduIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7VVtdfSBlbGVtZW50c1xuICogQHBhcmFtIHtNb2RlbGluZ0FsaWduQWxpZ25tZW50fSBhbGlnbm1lbnRcbiAqL1xuTW9kZWxpbmcucHJvdG90eXBlLmFsaWduRWxlbWVudHMgPSBmdW5jdGlvbihlbGVtZW50cywgYWxpZ25tZW50KSB7XG4gIHZhciBjb250ZXh0ID0ge1xuICAgIGVsZW1lbnRzOiBlbGVtZW50cyxcbiAgICBhbGlnbm1lbnQ6IGFsaWdubWVudFxuICB9O1xuXG4gIHRoaXMuX2NvbW1hbmRTdGFjay5leGVjdXRlKCdlbGVtZW50cy5hbGlnbicsIGNvbnRleHQpO1xufTtcblxuLyoqXG4gKiBSZXNpemUgYSBzaGFwZS5cbiAqXG4gKiBAcGFyYW0ge1h9IHNoYXBlXG4gKiBAcGFyYW0ge1JlY3R9IG5ld0JvdW5kc1xuICogQHBhcmFtIHtEaW1lbnNpb25zfSBbbWluQm91bmRzXVxuICogQHBhcmFtIHtNb2RlbGluZ0hpbnRzfSBbaGludHNdXG4gKi9cbk1vZGVsaW5nLnByb3RvdHlwZS5yZXNpemVTaGFwZSA9IGZ1bmN0aW9uKHNoYXBlLCBuZXdCb3VuZHMsIG1pbkJvdW5kcywgaGludHMpIHtcbiAgdmFyIGNvbnRleHQgPSB7XG4gICAgc2hhcGU6IHNoYXBlLFxuICAgIG5ld0JvdW5kczogbmV3Qm91bmRzLFxuICAgIG1pbkJvdW5kczogbWluQm91bmRzLFxuICAgIGhpbnRzOiBoaW50c1xuICB9O1xuXG4gIHRoaXMuX2NvbW1hbmRTdGFjay5leGVjdXRlKCdzaGFwZS5yZXNpemUnLCBjb250ZXh0KTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIHNwYWNlIGFsb25nIGFuIGhvcml6b250YWxseSBvciB2ZXJ0aWNhbGx5LlxuICpcbiAqIEBwYXJhbSB7WFtdfSBtb3ZpbmdTaGFwZXNcbiAqIEBwYXJhbSB7WFtdfSByZXNpemluZ1NoYXBlc1xuICogQHBhcmFtIHtQb2ludH0gZGVsdGFcbiAqIEBwYXJhbSB7RGlyZWN0aW9ufSBkaXJlY3Rpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFxuICovXG5Nb2RlbGluZy5wcm90b3R5cGUuY3JlYXRlU3BhY2UgPSBmdW5jdGlvbihtb3ZpbmdTaGFwZXMsIHJlc2l6aW5nU2hhcGVzLCBkZWx0YSwgZGlyZWN0aW9uLCBzdGFydCkge1xuICB2YXIgY29udGV4dCA9IHtcbiAgICBkZWx0YTogZGVsdGEsXG4gICAgZGlyZWN0aW9uOiBkaXJlY3Rpb24sXG4gICAgbW92aW5nU2hhcGVzOiBtb3ZpbmdTaGFwZXMsXG4gICAgcmVzaXppbmdTaGFwZXM6IHJlc2l6aW5nU2hhcGVzLFxuICAgIHN0YXJ0OiBzdGFydFxuICB9O1xuXG4gIHRoaXMuX2NvbW1hbmRTdGFjay5leGVjdXRlKCdzcGFjZVRvb2wnLCBjb250ZXh0KTtcbn07XG5cbi8qKlxuICogVXBkYXRlIGEgY29ubmV0aW9ucyB3YXlwb2ludHMuXG4gKlxuICogQHBhcmFtIHtUfSBjb25uZWN0aW9uXG4gKiBAcGFyYW0ge1BvaW50W119IG5ld1dheXBvaW50c1xuICogQHBhcmFtIHtNb2RlbGluZ0hpbnRzfSBbaGludHNdXG4gKi9cbk1vZGVsaW5nLnByb3RvdHlwZS51cGRhdGVXYXlwb2ludHMgPSBmdW5jdGlvbihjb25uZWN0aW9uLCBuZXdXYXlwb2ludHMsIGhpbnRzKSB7XG4gIHZhciBjb250ZXh0ID0ge1xuICAgIGNvbm5lY3Rpb246IGNvbm5lY3Rpb24sXG4gICAgbmV3V2F5cG9pbnRzOiBuZXdXYXlwb2ludHMsXG4gICAgaGludHM6IGhpbnRzIHx8IHt9XG4gIH07XG5cbiAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ2Nvbm5lY3Rpb24udXBkYXRlV2F5cG9pbnRzJywgY29udGV4dCk7XG59O1xuXG4vKipcbiAqIFJlY29ubmVjdCBhIGNvbm5lY3Rpb25zIHNvdXJjZSBhbmQvb3IgdGFyZ2V0LlxuICpcbiAqIEBwYXJhbSB7VH0gY29ubmVjdGlvblxuICogQHBhcmFtIHtVfSBzb3VyY2VcbiAqIEBwYXJhbSB7VX0gdGFyZ2V0XG4gKiBAcGFyYW0ge1BvaW50fFBvaW50W119IGRvY2tpbmdPclBvaW50c1xuICogQHBhcmFtIHtNb2RlbGluZ0hpbnRzfSBbaGludHNdXG4gKi9cbk1vZGVsaW5nLnByb3RvdHlwZS5yZWNvbm5lY3QgPSBmdW5jdGlvbihjb25uZWN0aW9uLCBzb3VyY2UsIHRhcmdldCwgZG9ja2luZ09yUG9pbnRzLCBoaW50cykge1xuICB2YXIgY29udGV4dCA9IHtcbiAgICBjb25uZWN0aW9uOiBjb25uZWN0aW9uLFxuICAgIG5ld1NvdXJjZTogc291cmNlLFxuICAgIG5ld1RhcmdldDogdGFyZ2V0LFxuICAgIGRvY2tpbmdPclBvaW50czogZG9ja2luZ09yUG9pbnRzLFxuICAgIGhpbnRzOiBoaW50cyB8fCB7fVxuICB9O1xuXG4gIHRoaXMuX2NvbW1hbmRTdGFjay5leGVjdXRlKCdjb25uZWN0aW9uLnJlY29ubmVjdCcsIGNvbnRleHQpO1xufTtcblxuLyoqXG4gKiBSZWNvbm5lY3QgYSBjb25uZWN0aW9ucyBzb3VyY2UuXG4gKlxuICogQHBhcmFtIHtUfSBjb25uZWN0aW9uXG4gKiBAcGFyYW0ge1V9IG5ld1NvdXJjZVxuICogQHBhcmFtIHtQb2ludHxQb2ludFtdfSBkb2NraW5nT3JQb2ludHNcbiAqIEBwYXJhbSB7TW9kZWxpbmdIaW50c30gW2hpbnRzXVxuICovXG5Nb2RlbGluZy5wcm90b3R5cGUucmVjb25uZWN0U3RhcnQgPSBmdW5jdGlvbihjb25uZWN0aW9uLCBuZXdTb3VyY2UsIGRvY2tpbmdPclBvaW50cywgaGludHMpIHtcbiAgaWYgKCFoaW50cykge1xuICAgIGhpbnRzID0ge307XG4gIH1cblxuICB0aGlzLnJlY29ubmVjdChjb25uZWN0aW9uLCBuZXdTb3VyY2UsIGNvbm5lY3Rpb24udGFyZ2V0LCBkb2NraW5nT3JQb2ludHMsIGFzc2lnbihoaW50cywge1xuICAgIGRvY2tpbmc6ICdzb3VyY2UnXG4gIH0pKTtcbn07XG5cbi8qKlxuICogUmVjb25uZWN0IGEgY29ubmVjdGlvbnMgdGFyZ2V0LlxuICpcbiAqIEBwYXJhbSB7VH0gY29ubmVjdGlvblxuICogQHBhcmFtIHtVfSBuZXdUYXJnZXRcbiAqIEBwYXJhbSB7UG9pbnR8UG9pbnRbXX0gZG9ja2luZ09yUG9pbnRzXG4gKiBAcGFyYW0ge01vZGVsaW5nSGludHN9IFtoaW50c11cbiAqL1xuTW9kZWxpbmcucHJvdG90eXBlLnJlY29ubmVjdEVuZCA9IGZ1bmN0aW9uKGNvbm5lY3Rpb24sIG5ld1RhcmdldCwgZG9ja2luZ09yUG9pbnRzLCBoaW50cykge1xuICBpZiAoIWhpbnRzKSB7XG4gICAgaGludHMgPSB7fTtcbiAgfVxuXG4gIHRoaXMucmVjb25uZWN0KGNvbm5lY3Rpb24sIGNvbm5lY3Rpb24uc291cmNlLCBuZXdUYXJnZXQsIGRvY2tpbmdPclBvaW50cywgYXNzaWduKGhpbnRzLCB7XG4gICAgZG9ja2luZzogJ3RhcmdldCdcbiAgfSkpO1xufTtcblxuLyoqXG4gKiBDb25uZWN0IHR3byBlbGVtZW50cy5cbiAqXG4gKiBAcGFyYW0ge1V9IHNvdXJjZVxuICogQHBhcmFtIHtVfSB0YXJnZXRcbiAqIEBwYXJhbSB7UGFydGlhbDxUPn0gW2F0dHJzXVxuICogQHBhcmFtIHtNb2RlbGluZ0hpbnRzfSBbaGludHNdXG4gKlxuICogQHJldHVybiB7VH1cbiAqL1xuTW9kZWxpbmcucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbihzb3VyY2UsIHRhcmdldCwgYXR0cnMsIGhpbnRzKSB7XG4gIHJldHVybiB0aGlzLmNyZWF0ZUNvbm5lY3Rpb24oc291cmNlLCB0YXJnZXQsIGF0dHJzIHx8IHt9LCBzb3VyY2UucGFyZW50LCBoaW50cyk7XG59O1xuXG5Nb2RlbGluZy5wcm90b3R5cGUuX2NyZWF0ZSA9IGZ1bmN0aW9uKHR5cGUsIGF0dHJzKSB7XG4gIGlmIChpc01vZGVsRWxlbWVudChhdHRycykpIHtcbiAgICByZXR1cm4gYXR0cnM7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnRGYWN0b3J5LmNyZWF0ZSh0eXBlLCBhdHRycyk7XG4gIH1cbn07XG5cbi8qKlxuICogQ29sbGFwc2Ugb3IgZXhwYW5kIGEgc2hhcGUuXG4gKlxuICogQHBhcmFtIHtYfSBzaGFwZVxuICogQHBhcmFtIHtNb2RlbGluZ0hpbnRzfSBbaGludHNdXG4gKi9cbk1vZGVsaW5nLnByb3RvdHlwZS50b2dnbGVDb2xsYXBzZSA9IGZ1bmN0aW9uKHNoYXBlLCBoaW50cykge1xuICB2YXIgY29udGV4dCA9IHtcbiAgICBzaGFwZTogc2hhcGUsXG4gICAgaGludHM6IGhpbnRzIHx8IHt9XG4gIH07XG5cbiAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ3NoYXBlLnRvZ2dsZUNvbGxhcHNlJywgY29udGV4dCk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/modeling/Modeling.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/AlignElementsHandler.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/modeling/cmd/AlignElementsHandler.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AlignElements)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('../../../core/Canvas').default} Canvas\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * A handler that align elements in a certain way.\n *\n * @param {Modeling} modeling\n * @param {Canvas} canvas\n */\nfunction AlignElements(modeling, canvas) {\n  this._modeling = modeling;\n  this._canvas = canvas;\n}\n\nAlignElements.$inject = [ 'modeling', 'canvas' ];\n\n\nAlignElements.prototype.preExecute = function(context) {\n  var modeling = this._modeling;\n\n  var elements = context.elements,\n      alignment = context.alignment;\n\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(elements, function(element) {\n    var delta = {\n      x: 0,\n      y: 0\n    };\n\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isDefined)(alignment.left)) {\n      delta.x = alignment.left - element.x;\n\n    } else if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isDefined)(alignment.right)) {\n      delta.x = (alignment.right - element.width) - element.x;\n\n    } else if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isDefined)(alignment.center)) {\n      delta.x = (alignment.center - Math.round(element.width / 2)) - element.x;\n\n    } else if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isDefined)(alignment.top)) {\n      delta.y = alignment.top - element.y;\n\n    } else if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isDefined)(alignment.bottom)) {\n      delta.y = (alignment.bottom - element.height) - element.y;\n\n    } else if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isDefined)(alignment.middle)) {\n      delta.y = (alignment.middle - Math.round(element.height / 2)) - element.y;\n    }\n\n    modeling.moveElements([ element ], delta, element.parent);\n  });\n};\n\nAlignElements.prototype.postExecute = function(context) {\n\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL0FsaWduRWxlbWVudHNIYW5kbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQThDOztBQUU5QztBQUNBLGFBQWEsd0NBQXdDO0FBQ3JELGFBQWEsK0JBQStCO0FBQzVDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkI7QUFDZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQSxFQUFFLGlEQUFPO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUSxtREFBUztBQUNqQjs7QUFFQSxNQUFNLFNBQVMsbURBQVM7QUFDeEI7O0FBRUEsTUFBTSxTQUFTLG1EQUFTO0FBQ3hCOztBQUVBLE1BQU0sU0FBUyxtREFBUztBQUN4Qjs7QUFFQSxNQUFNLFNBQVMsbURBQVM7QUFDeEI7O0FBRUEsTUFBTSxTQUFTLG1EQUFTO0FBQ3hCO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL0FsaWduRWxlbWVudHNIYW5kbGVyLmpzP2QwM2QiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZm9yRWFjaCwgaXNEZWZpbmVkIH0gZnJvbSAnbWluLWRhc2gnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uLy4uL2NvcmUvQ2FudmFzJykuZGVmYXVsdH0gQ2FudmFzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9Nb2RlbGluZycpLmRlZmF1bHR9IE1vZGVsaW5nXG4gKi9cblxuLyoqXG4gKiBBIGhhbmRsZXIgdGhhdCBhbGlnbiBlbGVtZW50cyBpbiBhIGNlcnRhaW4gd2F5LlxuICpcbiAqIEBwYXJhbSB7TW9kZWxpbmd9IG1vZGVsaW5nXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFsaWduRWxlbWVudHMobW9kZWxpbmcsIGNhbnZhcykge1xuICB0aGlzLl9tb2RlbGluZyA9IG1vZGVsaW5nO1xuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG59XG5cbkFsaWduRWxlbWVudHMuJGluamVjdCA9IFsgJ21vZGVsaW5nJywgJ2NhbnZhcycgXTtcblxuXG5BbGlnbkVsZW1lbnRzLnByb3RvdHlwZS5wcmVFeGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuICB2YXIgbW9kZWxpbmcgPSB0aGlzLl9tb2RlbGluZztcblxuICB2YXIgZWxlbWVudHMgPSBjb250ZXh0LmVsZW1lbnRzLFxuICAgICAgYWxpZ25tZW50ID0gY29udGV4dC5hbGlnbm1lbnQ7XG5cblxuICBmb3JFYWNoKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgdmFyIGRlbHRhID0ge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDBcbiAgICB9O1xuXG4gICAgaWYgKGlzRGVmaW5lZChhbGlnbm1lbnQubGVmdCkpIHtcbiAgICAgIGRlbHRhLnggPSBhbGlnbm1lbnQubGVmdCAtIGVsZW1lbnQueDtcblxuICAgIH0gZWxzZSBpZiAoaXNEZWZpbmVkKGFsaWdubWVudC5yaWdodCkpIHtcbiAgICAgIGRlbHRhLnggPSAoYWxpZ25tZW50LnJpZ2h0IC0gZWxlbWVudC53aWR0aCkgLSBlbGVtZW50Lng7XG5cbiAgICB9IGVsc2UgaWYgKGlzRGVmaW5lZChhbGlnbm1lbnQuY2VudGVyKSkge1xuICAgICAgZGVsdGEueCA9IChhbGlnbm1lbnQuY2VudGVyIC0gTWF0aC5yb3VuZChlbGVtZW50LndpZHRoIC8gMikpIC0gZWxlbWVudC54O1xuXG4gICAgfSBlbHNlIGlmIChpc0RlZmluZWQoYWxpZ25tZW50LnRvcCkpIHtcbiAgICAgIGRlbHRhLnkgPSBhbGlnbm1lbnQudG9wIC0gZWxlbWVudC55O1xuXG4gICAgfSBlbHNlIGlmIChpc0RlZmluZWQoYWxpZ25tZW50LmJvdHRvbSkpIHtcbiAgICAgIGRlbHRhLnkgPSAoYWxpZ25tZW50LmJvdHRvbSAtIGVsZW1lbnQuaGVpZ2h0KSAtIGVsZW1lbnQueTtcblxuICAgIH0gZWxzZSBpZiAoaXNEZWZpbmVkKGFsaWdubWVudC5taWRkbGUpKSB7XG4gICAgICBkZWx0YS55ID0gKGFsaWdubWVudC5taWRkbGUgLSBNYXRoLnJvdW5kKGVsZW1lbnQuaGVpZ2h0IC8gMikpIC0gZWxlbWVudC55O1xuICAgIH1cblxuICAgIG1vZGVsaW5nLm1vdmVFbGVtZW50cyhbIGVsZW1lbnQgXSwgZGVsdGEsIGVsZW1lbnQucGFyZW50KTtcbiAgfSk7XG59O1xuXG5BbGlnbkVsZW1lbnRzLnByb3RvdHlwZS5wb3N0RXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/AlignElementsHandler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/AppendShapeHandler.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/modeling/cmd/AppendShapeHandler.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AppendShapeHandler)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('../../../model/Types').Element} Element\n * @typedef {import('../../../model/Types').Parent} Parent\n * @typedef {import('../../../model/Types').Shape} Shape\n *\n * @typedef {import('../../../util/Types').Point} Point\n *\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * A handler that implements reversible appending of shapes\n * to a source shape.\n *\n * @param {Modeling} modeling\n */\nfunction AppendShapeHandler(modeling) {\n  this._modeling = modeling;\n}\n\nAppendShapeHandler.$inject = [ 'modeling' ];\n\n\n// api //////////////////////\n\n\n/**\n * Creates a new shape.\n *\n * @param {Object} context\n * @param {Partial<Shape>} context.shape The new shape.\n * @param {Element} context.source The element to which to append the new shape to.\n * @param {Parent} context.parent The parent.\n * @param {Point} context.position The position at which to create the new shape.\n */\nAppendShapeHandler.prototype.preExecute = function(context) {\n\n  var source = context.source;\n\n  if (!source) {\n    throw new Error('source required');\n  }\n\n  var target = context.target || source.parent,\n      shape = context.shape,\n      hints = context.hints || {};\n\n  shape = context.shape =\n    this._modeling.createShape(\n      shape,\n      context.position,\n      target, { attach: hints.attach });\n\n  context.shape = shape;\n};\n\nAppendShapeHandler.prototype.postExecute = function(context) {\n  var hints = context.hints || {};\n\n  if (!existsConnection(context.source, context.shape)) {\n\n    // create connection\n    if (hints.connectionTarget === context.source) {\n      this._modeling.connect(context.shape, context.source, context.connection);\n    } else {\n      this._modeling.connect(context.source, context.shape, context.connection);\n    }\n  }\n};\n\n\nfunction existsConnection(source, target) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.some)(source.outgoing, function(c) {\n    return c.target === target;\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL0FwcGVuZFNoYXBlSGFuZGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFnQzs7QUFFaEM7QUFDQSxhQUFhLHdDQUF3QztBQUNyRCxhQUFhLHVDQUF1QztBQUNwRCxhQUFhLHNDQUFzQztBQUNuRDtBQUNBLGFBQWEscUNBQXFDO0FBQ2xEO0FBQ0EsYUFBYSwrQkFBK0I7QUFDNUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDZTtBQUNmO0FBQ0E7O0FBRUE7OztBQUdBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxnQkFBZ0I7QUFDM0IsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsUUFBUTtBQUNuQixXQUFXLE9BQU87QUFDbEI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHNCQUFzQjs7QUFFdEM7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQSxTQUFTLDhDQUFJO0FBQ2I7QUFDQSxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL0FwcGVuZFNoYXBlSGFuZGxlci5qcz85OGIxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNvbWUgfSBmcm9tICdtaW4tZGFzaCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vLi4vbW9kZWwvVHlwZXMnKS5FbGVtZW50fSBFbGVtZW50XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi8uLi9tb2RlbC9UeXBlcycpLlBhcmVudH0gUGFyZW50XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi8uLi9tb2RlbC9UeXBlcycpLlNoYXBlfSBTaGFwZVxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uLy4uL3V0aWwvVHlwZXMnKS5Qb2ludH0gUG9pbnRcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9Nb2RlbGluZycpLmRlZmF1bHR9IE1vZGVsaW5nXG4gKi9cblxuLyoqXG4gKiBBIGhhbmRsZXIgdGhhdCBpbXBsZW1lbnRzIHJldmVyc2libGUgYXBwZW5kaW5nIG9mIHNoYXBlc1xuICogdG8gYSBzb3VyY2Ugc2hhcGUuXG4gKlxuICogQHBhcmFtIHtNb2RlbGluZ30gbW9kZWxpbmdcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXBwZW5kU2hhcGVIYW5kbGVyKG1vZGVsaW5nKSB7XG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG59XG5cbkFwcGVuZFNoYXBlSGFuZGxlci4kaW5qZWN0ID0gWyAnbW9kZWxpbmcnIF07XG5cblxuLy8gYXBpIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgc2hhcGUuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqIEBwYXJhbSB7UGFydGlhbDxTaGFwZT59IGNvbnRleHQuc2hhcGUgVGhlIG5ldyBzaGFwZS5cbiAqIEBwYXJhbSB7RWxlbWVudH0gY29udGV4dC5zb3VyY2UgVGhlIGVsZW1lbnQgdG8gd2hpY2ggdG8gYXBwZW5kIHRoZSBuZXcgc2hhcGUgdG8uXG4gKiBAcGFyYW0ge1BhcmVudH0gY29udGV4dC5wYXJlbnQgVGhlIHBhcmVudC5cbiAqIEBwYXJhbSB7UG9pbnR9IGNvbnRleHQucG9zaXRpb24gVGhlIHBvc2l0aW9uIGF0IHdoaWNoIHRvIGNyZWF0ZSB0aGUgbmV3IHNoYXBlLlxuICovXG5BcHBlbmRTaGFwZUhhbmRsZXIucHJvdG90eXBlLnByZUV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIHNvdXJjZSA9IGNvbnRleHQuc291cmNlO1xuXG4gIGlmICghc291cmNlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzb3VyY2UgcmVxdWlyZWQnKTtcbiAgfVxuXG4gIHZhciB0YXJnZXQgPSBjb250ZXh0LnRhcmdldCB8fCBzb3VyY2UucGFyZW50LFxuICAgICAgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgaGludHMgPSBjb250ZXh0LmhpbnRzIHx8IHt9O1xuXG4gIHNoYXBlID0gY29udGV4dC5zaGFwZSA9XG4gICAgdGhpcy5fbW9kZWxpbmcuY3JlYXRlU2hhcGUoXG4gICAgICBzaGFwZSxcbiAgICAgIGNvbnRleHQucG9zaXRpb24sXG4gICAgICB0YXJnZXQsIHsgYXR0YWNoOiBoaW50cy5hdHRhY2ggfSk7XG5cbiAgY29udGV4dC5zaGFwZSA9IHNoYXBlO1xufTtcblxuQXBwZW5kU2hhcGVIYW5kbGVyLnByb3RvdHlwZS5wb3N0RXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIGhpbnRzID0gY29udGV4dC5oaW50cyB8fCB7fTtcblxuICBpZiAoIWV4aXN0c0Nvbm5lY3Rpb24oY29udGV4dC5zb3VyY2UsIGNvbnRleHQuc2hhcGUpKSB7XG5cbiAgICAvLyBjcmVhdGUgY29ubmVjdGlvblxuICAgIGlmIChoaW50cy5jb25uZWN0aW9uVGFyZ2V0ID09PSBjb250ZXh0LnNvdXJjZSkge1xuICAgICAgdGhpcy5fbW9kZWxpbmcuY29ubmVjdChjb250ZXh0LnNoYXBlLCBjb250ZXh0LnNvdXJjZSwgY29udGV4dC5jb25uZWN0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbW9kZWxpbmcuY29ubmVjdChjb250ZXh0LnNvdXJjZSwgY29udGV4dC5zaGFwZSwgY29udGV4dC5jb25uZWN0aW9uKTtcbiAgICB9XG4gIH1cbn07XG5cblxuZnVuY3Rpb24gZXhpc3RzQ29ubmVjdGlvbihzb3VyY2UsIHRhcmdldCkge1xuICByZXR1cm4gc29tZShzb3VyY2Uub3V0Z29pbmcsIGZ1bmN0aW9uKGMpIHtcbiAgICByZXR1cm4gYy50YXJnZXQgPT09IHRhcmdldDtcbiAgfSk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/AppendShapeHandler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/CreateConnectionHandler.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/modeling/cmd/CreateConnectionHandler.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CreateConnectionHandler)\n/* harmony export */ });\n/**\n * @typedef {import('../../../model/Types').Element} Element\n * @typedef {import('../../../model/Types').Shape} Shape\n *\n * @typedef {import('../../../util/Types').Point} Point\n *\n * @typedef {import('../Modeling').ModelingHints} ModelingHints\n *\n * @typedef {import('../../../core/Canvas').default} Canvas\n * @typedef {import('../../../layout/BaseLayouter').default} Layouter\n */\n\n/**\n * @param {Canvas} canvas\n * @param {Layouter} layouter\n */\nfunction CreateConnectionHandler(canvas, layouter) {\n  this._canvas = canvas;\n  this._layouter = layouter;\n}\n\nCreateConnectionHandler.$inject = [ 'canvas', 'layouter' ];\n\n\n// api //////////////////////\n\n\n/**\n * Creates a new connection between two elements.\n *\n * @param {Object} context\n * @param {Element} context.source The source.\n * @param {Element} context.target The target.\n * @param {Shape} context.parent The parent.\n * @param {number} [context.parentIndex] The optional index at which to add the\n * connection to the parent's children.\n * @param {ModelingHints} [context.hints] The optional hints.\n */\nCreateConnectionHandler.prototype.execute = function(context) {\n\n  var connection = context.connection,\n      source = context.source,\n      target = context.target,\n      parent = context.parent,\n      parentIndex = context.parentIndex,\n      hints = context.hints;\n\n  if (!source || !target) {\n    throw new Error('source and target required');\n  }\n\n  if (!parent) {\n    throw new Error('parent required');\n  }\n\n  connection.source = source;\n  connection.target = target;\n\n  if (!connection.waypoints) {\n    connection.waypoints = this._layouter.layoutConnection(connection, hints);\n  }\n\n  // add connection\n  this._canvas.addConnection(connection, parent, parentIndex);\n\n  return connection;\n};\n\nCreateConnectionHandler.prototype.revert = function(context) {\n  var connection = context.connection;\n\n  this._canvas.removeConnection(connection);\n\n  connection.source = null;\n  connection.target = null;\n\n  return connection;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL0NyZWF0ZUNvbm5lY3Rpb25IYW5kbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBLGFBQWEsd0NBQXdDO0FBQ3JELGFBQWEsc0NBQXNDO0FBQ25EO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQ7QUFDQSxhQUFhLHFDQUFxQztBQUNsRDtBQUNBLGFBQWEsd0NBQXdDO0FBQ3JELGFBQWEsZ0RBQWdEO0FBQzdEOztBQUVBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQjtBQUNlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBOzs7QUFHQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFdBQVcsZUFBZTtBQUMxQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvQ3JlYXRlQ29ubmVjdGlvbkhhbmRsZXIuanM/ZDI3NyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uLy4uL21vZGVsL1R5cGVzJykuRWxlbWVudH0gRWxlbWVudFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vLi4vbW9kZWwvVHlwZXMnKS5TaGFwZX0gU2hhcGVcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi8uLi91dGlsL1R5cGVzJykuUG9pbnR9IFBvaW50XG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vTW9kZWxpbmcnKS5Nb2RlbGluZ0hpbnRzfSBNb2RlbGluZ0hpbnRzXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vLi4vY29yZS9DYW52YXMnKS5kZWZhdWx0fSBDYW52YXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uLy4uL2xheW91dC9CYXNlTGF5b3V0ZXInKS5kZWZhdWx0fSBMYXlvdXRlclxuICovXG5cbi8qKlxuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICogQHBhcmFtIHtMYXlvdXRlcn0gbGF5b3V0ZXJcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ3JlYXRlQ29ubmVjdGlvbkhhbmRsZXIoY2FudmFzLCBsYXlvdXRlcikge1xuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG4gIHRoaXMuX2xheW91dGVyID0gbGF5b3V0ZXI7XG59XG5cbkNyZWF0ZUNvbm5lY3Rpb25IYW5kbGVyLiRpbmplY3QgPSBbICdjYW52YXMnLCAnbGF5b3V0ZXInIF07XG5cblxuLy8gYXBpIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgY29ubmVjdGlvbiBiZXR3ZWVuIHR3byBlbGVtZW50cy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHBhcmFtIHtFbGVtZW50fSBjb250ZXh0LnNvdXJjZSBUaGUgc291cmNlLlxuICogQHBhcmFtIHtFbGVtZW50fSBjb250ZXh0LnRhcmdldCBUaGUgdGFyZ2V0LlxuICogQHBhcmFtIHtTaGFwZX0gY29udGV4dC5wYXJlbnQgVGhlIHBhcmVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbY29udGV4dC5wYXJlbnRJbmRleF0gVGhlIG9wdGlvbmFsIGluZGV4IGF0IHdoaWNoIHRvIGFkZCB0aGVcbiAqIGNvbm5lY3Rpb24gdG8gdGhlIHBhcmVudCdzIGNoaWxkcmVuLlxuICogQHBhcmFtIHtNb2RlbGluZ0hpbnRzfSBbY29udGV4dC5oaW50c10gVGhlIG9wdGlvbmFsIGhpbnRzLlxuICovXG5DcmVhdGVDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICB2YXIgY29ubmVjdGlvbiA9IGNvbnRleHQuY29ubmVjdGlvbixcbiAgICAgIHNvdXJjZSA9IGNvbnRleHQuc291cmNlLFxuICAgICAgdGFyZ2V0ID0gY29udGV4dC50YXJnZXQsXG4gICAgICBwYXJlbnQgPSBjb250ZXh0LnBhcmVudCxcbiAgICAgIHBhcmVudEluZGV4ID0gY29udGV4dC5wYXJlbnRJbmRleCxcbiAgICAgIGhpbnRzID0gY29udGV4dC5oaW50cztcblxuICBpZiAoIXNvdXJjZSB8fCAhdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzb3VyY2UgYW5kIHRhcmdldCByZXF1aXJlZCcpO1xuICB9XG5cbiAgaWYgKCFwYXJlbnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3BhcmVudCByZXF1aXJlZCcpO1xuICB9XG5cbiAgY29ubmVjdGlvbi5zb3VyY2UgPSBzb3VyY2U7XG4gIGNvbm5lY3Rpb24udGFyZ2V0ID0gdGFyZ2V0O1xuXG4gIGlmICghY29ubmVjdGlvbi53YXlwb2ludHMpIHtcbiAgICBjb25uZWN0aW9uLndheXBvaW50cyA9IHRoaXMuX2xheW91dGVyLmxheW91dENvbm5lY3Rpb24oY29ubmVjdGlvbiwgaGludHMpO1xuICB9XG5cbiAgLy8gYWRkIGNvbm5lY3Rpb25cbiAgdGhpcy5fY2FudmFzLmFkZENvbm5lY3Rpb24oY29ubmVjdGlvbiwgcGFyZW50LCBwYXJlbnRJbmRleCk7XG5cbiAgcmV0dXJuIGNvbm5lY3Rpb247XG59O1xuXG5DcmVhdGVDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUucmV2ZXJ0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuICB2YXIgY29ubmVjdGlvbiA9IGNvbnRleHQuY29ubmVjdGlvbjtcblxuICB0aGlzLl9jYW52YXMucmVtb3ZlQ29ubmVjdGlvbihjb25uZWN0aW9uKTtcblxuICBjb25uZWN0aW9uLnNvdXJjZSA9IG51bGw7XG4gIGNvbm5lY3Rpb24udGFyZ2V0ID0gbnVsbDtcblxuICByZXR1cm4gY29ubmVjdGlvbjtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/CreateConnectionHandler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/CreateElementsHandler.js":
/*!************************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/modeling/cmd/CreateElementsHandler.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CreateElementsHandler)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _util_Elements__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../util/Elements */ \"(ssr)/./node_modules/diagram-js/lib/util/Elements.js\");\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../util/ModelUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/ModelUtil.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @typedef {import('../Modeling').default} Modeling\r\n */\r\n\r\nvar round = Math.round;\r\n\r\n/**\r\n * @param {Modeling} modeling\r\n */\r\nfunction CreateElementsHandler(modeling) {\r\n  this._modeling = modeling;\r\n}\r\n\r\nCreateElementsHandler.$inject = [\r\n  'modeling'\r\n];\r\n\r\nCreateElementsHandler.prototype.preExecute = function(context) {\r\n  var elements = context.elements,\r\n      parent = context.parent,\r\n      parentIndex = context.parentIndex,\r\n      position = context.position,\r\n      hints = context.hints;\r\n\r\n  var modeling = this._modeling;\r\n\r\n  // make sure each element has x and y\r\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(elements, function(element) {\r\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(element.x)) {\r\n      element.x = 0;\r\n    }\r\n\r\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(element.y)) {\r\n      element.y = 0;\r\n    }\r\n  });\r\n\r\n  var visibleElements = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.filter)(elements, function(element) {\r\n    return !element.hidden;\r\n  });\r\n\r\n  var bbox = (0,_util_Elements__WEBPACK_IMPORTED_MODULE_1__.getBBox)(visibleElements);\r\n\r\n  // center elements around position\r\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(elements, function(element) {\r\n    if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_2__.isConnection)(element)) {\r\n      element.waypoints = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.map)(element.waypoints, function(waypoint) {\r\n        return {\r\n          x: round(waypoint.x - bbox.x - bbox.width / 2 + position.x),\r\n          y: round(waypoint.y - bbox.y - bbox.height / 2 + position.y)\r\n        };\r\n      });\r\n    }\r\n\r\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(element, {\r\n      x: round(element.x - bbox.x - bbox.width / 2 + position.x),\r\n      y: round(element.y - bbox.y - bbox.height / 2 + position.y)\r\n    });\r\n  });\r\n\r\n  var parents = (0,_util_Elements__WEBPACK_IMPORTED_MODULE_1__.getParents)(elements);\r\n\r\n  var cache = {};\r\n\r\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(elements, function(element) {\r\n    if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_2__.isConnection)(element)) {\r\n      cache[ element.id ] = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(parentIndex) ?\r\n        modeling.createConnection(\r\n          cache[ element.source.id ],\r\n          cache[ element.target.id ],\r\n          parentIndex,\r\n          element,\r\n          element.parent || parent,\r\n          hints\r\n        ) :\r\n        modeling.createConnection(\r\n          cache[ element.source.id ],\r\n          cache[ element.target.id ],\r\n          element,\r\n          element.parent || parent,\r\n          hints\r\n        );\r\n\r\n      return;\r\n    }\r\n\r\n    var createShapeHints = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({}, hints);\r\n\r\n    if (parents.indexOf(element) === -1) {\r\n      createShapeHints.autoResize = false;\r\n    }\r\n\r\n    if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_2__.isLabel)(element)) {\r\n      createShapeHints = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.omit)(createShapeHints, [ 'attach' ]);\r\n    }\r\n\r\n    cache[ element.id ] = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(parentIndex) ?\r\n      modeling.createShape(\r\n        element,\r\n        (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.pick)(element, [ 'x', 'y', 'width', 'height' ]),\r\n        element.parent || parent,\r\n        parentIndex,\r\n        createShapeHints\r\n      ) :\r\n      modeling.createShape(\r\n        element,\r\n        (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.pick)(element, [ 'x', 'y', 'width', 'height' ]),\r\n        element.parent || parent,\r\n        createShapeHints\r\n      );\r\n  });\r\n\r\n  context.elements = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.values)(cache);\r\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL0NyZWF0ZUVsZW1lbnRzSGFuZGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBU2tCO0FBQ2xCO0FBSWdDO0FBQ2hDO0FBSWlDO0FBQ2pDO0FBQ0E7QUFDQSxhQUFhLCtCQUErQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxpREFBTztBQUNULFNBQVMsa0RBQVE7QUFDakI7QUFDQTtBQUNBO0FBQ0EsU0FBUyxrREFBUTtBQUNqQjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esd0JBQXdCLGdEQUFNO0FBQzlCO0FBQ0EsR0FBRztBQUNIO0FBQ0EsYUFBYSx1REFBTztBQUNwQjtBQUNBO0FBQ0EsRUFBRSxpREFBTztBQUNULFFBQVEsNkRBQVk7QUFDcEIsMEJBQTBCLDZDQUFHO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxJQUFJLGdEQUFNO0FBQ1Y7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQSxnQkFBZ0IsMERBQVU7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsRUFBRSxpREFBTztBQUNULFFBQVEsNkRBQVk7QUFDcEIsNEJBQTRCLGtEQUFRO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGdEQUFNLEdBQUc7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0RBQU87QUFDZix5QkFBeUIsOENBQUk7QUFDN0I7QUFDQTtBQUNBLDBCQUEwQixrREFBUTtBQUNsQztBQUNBO0FBQ0EsUUFBUSw4Q0FBSTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsOENBQUk7QUFDWjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxxQkFBcUIsZ0RBQU07QUFDM0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL0NyZWF0ZUVsZW1lbnRzSGFuZGxlci5qcz81ODIxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgYXNzaWduLFxyXG4gIGZpbHRlcixcclxuICBmb3JFYWNoLFxyXG4gIGlzTnVtYmVyLFxyXG4gIG1hcCxcclxuICBvbWl0LFxyXG4gIHBpY2ssXHJcbiAgdmFsdWVzXHJcbn0gZnJvbSAnbWluLWRhc2gnO1xyXG5cclxuaW1wb3J0IHtcclxuICBnZXRCQm94LFxyXG4gIGdldFBhcmVudHNcclxufSBmcm9tICcuLi8uLi8uLi91dGlsL0VsZW1lbnRzJztcclxuXHJcbmltcG9ydCB7XHJcbiAgaXNDb25uZWN0aW9uLFxyXG4gIGlzTGFiZWxcclxufSBmcm9tICcuLi8uLi8uLi91dGlsL01vZGVsVXRpbCc7XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vTW9kZWxpbmcnKS5kZWZhdWx0fSBNb2RlbGluZ1xyXG4gKi9cclxuXHJcbnZhciByb3VuZCA9IE1hdGgucm91bmQ7XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtNb2RlbGluZ30gbW9kZWxpbmdcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENyZWF0ZUVsZW1lbnRzSGFuZGxlcihtb2RlbGluZykge1xyXG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XHJcbn1cclxuXHJcbkNyZWF0ZUVsZW1lbnRzSGFuZGxlci4kaW5qZWN0ID0gW1xyXG4gICdtb2RlbGluZydcclxuXTtcclxuXHJcbkNyZWF0ZUVsZW1lbnRzSGFuZGxlci5wcm90b3R5cGUucHJlRXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcclxuICB2YXIgZWxlbWVudHMgPSBjb250ZXh0LmVsZW1lbnRzLFxyXG4gICAgICBwYXJlbnQgPSBjb250ZXh0LnBhcmVudCxcclxuICAgICAgcGFyZW50SW5kZXggPSBjb250ZXh0LnBhcmVudEluZGV4LFxyXG4gICAgICBwb3NpdGlvbiA9IGNvbnRleHQucG9zaXRpb24sXHJcbiAgICAgIGhpbnRzID0gY29udGV4dC5oaW50cztcclxuXHJcbiAgdmFyIG1vZGVsaW5nID0gdGhpcy5fbW9kZWxpbmc7XHJcblxyXG4gIC8vIG1ha2Ugc3VyZSBlYWNoIGVsZW1lbnQgaGFzIHggYW5kIHlcclxuICBmb3JFYWNoKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICBpZiAoIWlzTnVtYmVyKGVsZW1lbnQueCkpIHtcclxuICAgICAgZWxlbWVudC54ID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzTnVtYmVyKGVsZW1lbnQueSkpIHtcclxuICAgICAgZWxlbWVudC55ID0gMDtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgdmFyIHZpc2libGVFbGVtZW50cyA9IGZpbHRlcihlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgcmV0dXJuICFlbGVtZW50LmhpZGRlbjtcclxuICB9KTtcclxuXHJcbiAgdmFyIGJib3ggPSBnZXRCQm94KHZpc2libGVFbGVtZW50cyk7XHJcblxyXG4gIC8vIGNlbnRlciBlbGVtZW50cyBhcm91bmQgcG9zaXRpb25cclxuICBmb3JFYWNoKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICBpZiAoaXNDb25uZWN0aW9uKGVsZW1lbnQpKSB7XHJcbiAgICAgIGVsZW1lbnQud2F5cG9pbnRzID0gbWFwKGVsZW1lbnQud2F5cG9pbnRzLCBmdW5jdGlvbih3YXlwb2ludCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICB4OiByb3VuZCh3YXlwb2ludC54IC0gYmJveC54IC0gYmJveC53aWR0aCAvIDIgKyBwb3NpdGlvbi54KSxcclxuICAgICAgICAgIHk6IHJvdW5kKHdheXBvaW50LnkgLSBiYm94LnkgLSBiYm94LmhlaWdodCAvIDIgKyBwb3NpdGlvbi55KVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFzc2lnbihlbGVtZW50LCB7XHJcbiAgICAgIHg6IHJvdW5kKGVsZW1lbnQueCAtIGJib3gueCAtIGJib3gud2lkdGggLyAyICsgcG9zaXRpb24ueCksXHJcbiAgICAgIHk6IHJvdW5kKGVsZW1lbnQueSAtIGJib3gueSAtIGJib3guaGVpZ2h0IC8gMiArIHBvc2l0aW9uLnkpXHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgdmFyIHBhcmVudHMgPSBnZXRQYXJlbnRzKGVsZW1lbnRzKTtcclxuXHJcbiAgdmFyIGNhY2hlID0ge307XHJcblxyXG4gIGZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgIGlmIChpc0Nvbm5lY3Rpb24oZWxlbWVudCkpIHtcclxuICAgICAgY2FjaGVbIGVsZW1lbnQuaWQgXSA9IGlzTnVtYmVyKHBhcmVudEluZGV4KSA/XHJcbiAgICAgICAgbW9kZWxpbmcuY3JlYXRlQ29ubmVjdGlvbihcclxuICAgICAgICAgIGNhY2hlWyBlbGVtZW50LnNvdXJjZS5pZCBdLFxyXG4gICAgICAgICAgY2FjaGVbIGVsZW1lbnQudGFyZ2V0LmlkIF0sXHJcbiAgICAgICAgICBwYXJlbnRJbmRleCxcclxuICAgICAgICAgIGVsZW1lbnQsXHJcbiAgICAgICAgICBlbGVtZW50LnBhcmVudCB8fCBwYXJlbnQsXHJcbiAgICAgICAgICBoaW50c1xyXG4gICAgICAgICkgOlxyXG4gICAgICAgIG1vZGVsaW5nLmNyZWF0ZUNvbm5lY3Rpb24oXHJcbiAgICAgICAgICBjYWNoZVsgZWxlbWVudC5zb3VyY2UuaWQgXSxcclxuICAgICAgICAgIGNhY2hlWyBlbGVtZW50LnRhcmdldC5pZCBdLFxyXG4gICAgICAgICAgZWxlbWVudCxcclxuICAgICAgICAgIGVsZW1lbnQucGFyZW50IHx8IHBhcmVudCxcclxuICAgICAgICAgIGhpbnRzXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgY3JlYXRlU2hhcGVIaW50cyA9IGFzc2lnbih7fSwgaGludHMpO1xyXG5cclxuICAgIGlmIChwYXJlbnRzLmluZGV4T2YoZWxlbWVudCkgPT09IC0xKSB7XHJcbiAgICAgIGNyZWF0ZVNoYXBlSGludHMuYXV0b1Jlc2l6ZSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc0xhYmVsKGVsZW1lbnQpKSB7XHJcbiAgICAgIGNyZWF0ZVNoYXBlSGludHMgPSBvbWl0KGNyZWF0ZVNoYXBlSGludHMsIFsgJ2F0dGFjaCcgXSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2FjaGVbIGVsZW1lbnQuaWQgXSA9IGlzTnVtYmVyKHBhcmVudEluZGV4KSA/XHJcbiAgICAgIG1vZGVsaW5nLmNyZWF0ZVNoYXBlKFxyXG4gICAgICAgIGVsZW1lbnQsXHJcbiAgICAgICAgcGljayhlbGVtZW50LCBbICd4JywgJ3knLCAnd2lkdGgnLCAnaGVpZ2h0JyBdKSxcclxuICAgICAgICBlbGVtZW50LnBhcmVudCB8fCBwYXJlbnQsXHJcbiAgICAgICAgcGFyZW50SW5kZXgsXHJcbiAgICAgICAgY3JlYXRlU2hhcGVIaW50c1xyXG4gICAgICApIDpcclxuICAgICAgbW9kZWxpbmcuY3JlYXRlU2hhcGUoXHJcbiAgICAgICAgZWxlbWVudCxcclxuICAgICAgICBwaWNrKGVsZW1lbnQsIFsgJ3gnLCAneScsICd3aWR0aCcsICdoZWlnaHQnIF0pLFxyXG4gICAgICAgIGVsZW1lbnQucGFyZW50IHx8IHBhcmVudCxcclxuICAgICAgICBjcmVhdGVTaGFwZUhpbnRzXHJcbiAgICAgICk7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnRleHQuZWxlbWVudHMgPSB2YWx1ZXMoY2FjaGUpO1xyXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/CreateElementsHandler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/CreateLabelHandler.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/modeling/cmd/CreateLabelHandler.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CreateLabelHandler)\n/* harmony export */ });\n/* harmony import */ var inherits_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! inherits-browser */ \"(ssr)/./node_modules/inherits-browser/dist/index.es.js\");\n/* harmony import */ var _CreateShapeHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CreateShapeHandler */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/CreateShapeHandler.js\");\n\n\n\n\n/**\n * @typedef {import('../../../core/Canvas').default} Canvas\n *\n * @typedef {import('../../../model/Types').Element} Element\n * @typedef {import('../../../model/Types').Parent} Parent\n * @typedef {import('../../../model/Types').Shape} Shape\n * @typedef {import('../../../util/Types').Point} Point\n */\n\n/**\n * A handler that attaches a label to a given target shape.\n *\n * @param {Canvas} canvas\n */\nfunction CreateLabelHandler(canvas) {\n  _CreateShapeHandler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].call(this, canvas);\n}\n\n(0,inherits_browser__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(CreateLabelHandler, _CreateShapeHandler__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\nCreateLabelHandler.$inject = [ 'canvas' ];\n\n\n// api //////////////////////\n\n\nvar originalExecute = _CreateShapeHandler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype.execute;\n\n/**\n * Append label to element.\n *\n * @param { {\n *   parent: Parent;\n *   position: Point;\n *   shape: Shape;\n *   target: Element;\n * } } context\n */\nCreateLabelHandler.prototype.execute = function(context) {\n\n  var label = context.shape;\n\n  ensureValidDimensions(label);\n\n  label.labelTarget = context.labelTarget;\n\n  return originalExecute.call(this, context);\n};\n\nvar originalRevert = _CreateShapeHandler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype.revert;\n\n/**\n * Revert appending by removing label.\n */\nCreateLabelHandler.prototype.revert = function(context) {\n  context.shape.labelTarget = null;\n\n  return originalRevert.call(this, context);\n};\n\n\n// helpers //////////////////////\n\nfunction ensureValidDimensions(label) {\n\n  // make sure a label has valid { width, height } dimensions\n  [ 'width', 'height' ].forEach(function(prop) {\n    if (typeof label[prop] === 'undefined') {\n      label[prop] = 0;\n    }\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL0NyZWF0ZUxhYmVsSGFuZGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBd0M7O0FBRWM7O0FBRXREO0FBQ0EsYUFBYSx3Q0FBd0M7QUFDckQ7QUFDQSxhQUFhLHdDQUF3QztBQUNyRCxhQUFhLHVDQUF1QztBQUNwRCxhQUFhLHNDQUFzQztBQUNuRCxhQUFhLHFDQUFxQztBQUNsRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDZTtBQUNmLEVBQUUsMkRBQWtCO0FBQ3BCOztBQUVBLDREQUFRLHFCQUFxQiwyREFBa0I7O0FBRS9DOzs7QUFHQTs7O0FBR0Esc0JBQXNCLDJEQUFrQjs7QUFFeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEscUJBQXFCLDJEQUFrQjs7QUFFdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTs7QUFFQTs7QUFFQSxtQ0FBbUMsZ0JBQWdCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL21vZGVsaW5nL2NtZC9DcmVhdGVMYWJlbEhhbmRsZXIuanM/NGFkNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMtYnJvd3Nlcic7XG5cbmltcG9ydCBDcmVhdGVTaGFwZUhhbmRsZXIgZnJvbSAnLi9DcmVhdGVTaGFwZUhhbmRsZXInO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uLy4uL2NvcmUvQ2FudmFzJykuZGVmYXVsdH0gQ2FudmFzXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vLi4vbW9kZWwvVHlwZXMnKS5FbGVtZW50fSBFbGVtZW50XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi8uLi9tb2RlbC9UeXBlcycpLlBhcmVudH0gUGFyZW50XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi8uLi9tb2RlbC9UeXBlcycpLlNoYXBlfSBTaGFwZVxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vLi4vdXRpbC9UeXBlcycpLlBvaW50fSBQb2ludFxuICovXG5cbi8qKlxuICogQSBoYW5kbGVyIHRoYXQgYXR0YWNoZXMgYSBsYWJlbCB0byBhIGdpdmVuIHRhcmdldCBzaGFwZS5cbiAqXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENyZWF0ZUxhYmVsSGFuZGxlcihjYW52YXMpIHtcbiAgQ3JlYXRlU2hhcGVIYW5kbGVyLmNhbGwodGhpcywgY2FudmFzKTtcbn1cblxuaW5oZXJpdHMoQ3JlYXRlTGFiZWxIYW5kbGVyLCBDcmVhdGVTaGFwZUhhbmRsZXIpO1xuXG5DcmVhdGVMYWJlbEhhbmRsZXIuJGluamVjdCA9IFsgJ2NhbnZhcycgXTtcblxuXG4vLyBhcGkgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cbnZhciBvcmlnaW5hbEV4ZWN1dGUgPSBDcmVhdGVTaGFwZUhhbmRsZXIucHJvdG90eXBlLmV4ZWN1dGU7XG5cbi8qKlxuICogQXBwZW5kIGxhYmVsIHRvIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHsge1xuICogICBwYXJlbnQ6IFBhcmVudDtcbiAqICAgcG9zaXRpb246IFBvaW50O1xuICogICBzaGFwZTogU2hhcGU7XG4gKiAgIHRhcmdldDogRWxlbWVudDtcbiAqIH0gfSBjb250ZXh0XG4gKi9cbkNyZWF0ZUxhYmVsSGFuZGxlci5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICB2YXIgbGFiZWwgPSBjb250ZXh0LnNoYXBlO1xuXG4gIGVuc3VyZVZhbGlkRGltZW5zaW9ucyhsYWJlbCk7XG5cbiAgbGFiZWwubGFiZWxUYXJnZXQgPSBjb250ZXh0LmxhYmVsVGFyZ2V0O1xuXG4gIHJldHVybiBvcmlnaW5hbEV4ZWN1dGUuY2FsbCh0aGlzLCBjb250ZXh0KTtcbn07XG5cbnZhciBvcmlnaW5hbFJldmVydCA9IENyZWF0ZVNoYXBlSGFuZGxlci5wcm90b3R5cGUucmV2ZXJ0O1xuXG4vKipcbiAqIFJldmVydCBhcHBlbmRpbmcgYnkgcmVtb3ZpbmcgbGFiZWwuXG4gKi9cbkNyZWF0ZUxhYmVsSGFuZGxlci5wcm90b3R5cGUucmV2ZXJ0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuICBjb250ZXh0LnNoYXBlLmxhYmVsVGFyZ2V0ID0gbnVsbDtcblxuICByZXR1cm4gb3JpZ2luYWxSZXZlcnQuY2FsbCh0aGlzLCBjb250ZXh0KTtcbn07XG5cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGVuc3VyZVZhbGlkRGltZW5zaW9ucyhsYWJlbCkge1xuXG4gIC8vIG1ha2Ugc3VyZSBhIGxhYmVsIGhhcyB2YWxpZCB7IHdpZHRoLCBoZWlnaHQgfSBkaW1lbnNpb25zXG4gIFsgJ3dpZHRoJywgJ2hlaWdodCcgXS5mb3JFYWNoKGZ1bmN0aW9uKHByb3ApIHtcbiAgICBpZiAodHlwZW9mIGxhYmVsW3Byb3BdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgbGFiZWxbcHJvcF0gPSAwO1xuICAgIH1cbiAgfSk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/CreateLabelHandler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/CreateShapeHandler.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/modeling/cmd/CreateShapeHandler.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CreateShapeHandler)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('../../../model/Types').Element} Element\n * @typedef {import('../../../util/Types').Point} Point\n *\n * @typedef {import('../../../core/Canvas').default} Canvas\n */\n\nvar round = Math.round;\n\n\n/**\n * A handler that implements reversible addition of shapes.\n *\n * @param {Canvas} canvas\n */\nfunction CreateShapeHandler(canvas) {\n  this._canvas = canvas;\n}\n\nCreateShapeHandler.$inject = [ 'canvas' ];\n\n\n// api //////////////////////\n\n\n/**\n * Appends a shape to a target shape\n *\n * @param {Object} context\n * @param {Element} context.parent The parent.\n * @param {Point} context.position The position at which to create the new shape.\n * @param {number} [context.parentIndex] The optional index at which to add the\n * shape to the parent's children.\n */\nCreateShapeHandler.prototype.execute = function(context) {\n\n  var shape = context.shape,\n      positionOrBounds = context.position,\n      parent = context.parent,\n      parentIndex = context.parentIndex;\n\n  if (!parent) {\n    throw new Error('parent required');\n  }\n\n  if (!positionOrBounds) {\n    throw new Error('position required');\n  }\n\n  // (1) add at event center position _or_ at given bounds\n  if (positionOrBounds.width !== undefined) {\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(shape, positionOrBounds);\n  } else {\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(shape, {\n      x: positionOrBounds.x - round(shape.width / 2),\n      y: positionOrBounds.y - round(shape.height / 2)\n    });\n  }\n\n  // (2) add to canvas\n  this._canvas.addShape(shape, parent, parentIndex);\n\n  return shape;\n};\n\n\n/**\n * Undo append by removing the shape\n */\nCreateShapeHandler.prototype.revert = function(context) {\n\n  var shape = context.shape;\n\n  // (3) remove form canvas\n  this._canvas.removeShape(shape);\n\n  return shape;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL0NyZWF0ZVNoYXBlSGFuZGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFrQzs7QUFFbEM7QUFDQSxhQUFhLHdDQUF3QztBQUNyRCxhQUFhLHFDQUFxQztBQUNsRDtBQUNBLGFBQWEsd0NBQXdDO0FBQ3JEOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDZTtBQUNmO0FBQ0E7O0FBRUE7OztBQUdBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsT0FBTztBQUNsQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUksZ0RBQU07QUFDVixJQUFJO0FBQ0osSUFBSSxnREFBTTtBQUNWO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL0NyZWF0ZVNoYXBlSGFuZGxlci5qcz8xMzE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFzc2lnbiB9IGZyb20gJ21pbi1kYXNoJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi8uLi9tb2RlbC9UeXBlcycpLkVsZW1lbnR9IEVsZW1lbnRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uLy4uL3V0aWwvVHlwZXMnKS5Qb2ludH0gUG9pbnRcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi8uLi9jb3JlL0NhbnZhcycpLmRlZmF1bHR9IENhbnZhc1xuICovXG5cbnZhciByb3VuZCA9IE1hdGgucm91bmQ7XG5cblxuLyoqXG4gKiBBIGhhbmRsZXIgdGhhdCBpbXBsZW1lbnRzIHJldmVyc2libGUgYWRkaXRpb24gb2Ygc2hhcGVzLlxuICpcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ3JlYXRlU2hhcGVIYW5kbGVyKGNhbnZhcykge1xuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG59XG5cbkNyZWF0ZVNoYXBlSGFuZGxlci4kaW5qZWN0ID0gWyAnY2FudmFzJyBdO1xuXG5cbi8vIGFwaSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblxuLyoqXG4gKiBBcHBlbmRzIGEgc2hhcGUgdG8gYSB0YXJnZXQgc2hhcGVcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHBhcmFtIHtFbGVtZW50fSBjb250ZXh0LnBhcmVudCBUaGUgcGFyZW50LlxuICogQHBhcmFtIHtQb2ludH0gY29udGV4dC5wb3NpdGlvbiBUaGUgcG9zaXRpb24gYXQgd2hpY2ggdG8gY3JlYXRlIHRoZSBuZXcgc2hhcGUuXG4gKiBAcGFyYW0ge251bWJlcn0gW2NvbnRleHQucGFyZW50SW5kZXhdIFRoZSBvcHRpb25hbCBpbmRleCBhdCB3aGljaCB0byBhZGQgdGhlXG4gKiBzaGFwZSB0byB0aGUgcGFyZW50J3MgY2hpbGRyZW4uXG4gKi9cbkNyZWF0ZVNoYXBlSGFuZGxlci5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICB2YXIgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgcG9zaXRpb25PckJvdW5kcyA9IGNvbnRleHQucG9zaXRpb24sXG4gICAgICBwYXJlbnQgPSBjb250ZXh0LnBhcmVudCxcbiAgICAgIHBhcmVudEluZGV4ID0gY29udGV4dC5wYXJlbnRJbmRleDtcblxuICBpZiAoIXBhcmVudCkge1xuICAgIHRocm93IG5ldyBFcnJvcigncGFyZW50IHJlcXVpcmVkJyk7XG4gIH1cblxuICBpZiAoIXBvc2l0aW9uT3JCb3VuZHMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Bvc2l0aW9uIHJlcXVpcmVkJyk7XG4gIH1cblxuICAvLyAoMSkgYWRkIGF0IGV2ZW50IGNlbnRlciBwb3NpdGlvbiBfb3JfIGF0IGdpdmVuIGJvdW5kc1xuICBpZiAocG9zaXRpb25PckJvdW5kcy53aWR0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgYXNzaWduKHNoYXBlLCBwb3NpdGlvbk9yQm91bmRzKTtcbiAgfSBlbHNlIHtcbiAgICBhc3NpZ24oc2hhcGUsIHtcbiAgICAgIHg6IHBvc2l0aW9uT3JCb3VuZHMueCAtIHJvdW5kKHNoYXBlLndpZHRoIC8gMiksXG4gICAgICB5OiBwb3NpdGlvbk9yQm91bmRzLnkgLSByb3VuZChzaGFwZS5oZWlnaHQgLyAyKVxuICAgIH0pO1xuICB9XG5cbiAgLy8gKDIpIGFkZCB0byBjYW52YXNcbiAgdGhpcy5fY2FudmFzLmFkZFNoYXBlKHNoYXBlLCBwYXJlbnQsIHBhcmVudEluZGV4KTtcblxuICByZXR1cm4gc2hhcGU7XG59O1xuXG5cbi8qKlxuICogVW5kbyBhcHBlbmQgYnkgcmVtb3ZpbmcgdGhlIHNoYXBlXG4gKi9cbkNyZWF0ZVNoYXBlSGFuZGxlci5wcm90b3R5cGUucmV2ZXJ0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBzaGFwZSA9IGNvbnRleHQuc2hhcGU7XG5cbiAgLy8gKDMpIHJlbW92ZSBmb3JtIGNhbnZhc1xuICB0aGlzLl9jYW52YXMucmVtb3ZlU2hhcGUoc2hhcGUpO1xuXG4gIHJldHVybiBzaGFwZTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/CreateShapeHandler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/DeleteConnectionHandler.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/modeling/cmd/DeleteConnectionHandler.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DeleteConnectionHandler)\n/* harmony export */ });\n/* harmony import */ var _util_Collections__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../util/Collections */ \"(ssr)/./node_modules/diagram-js/lib/util/Collections.js\");\n/* harmony import */ var _util_Removal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../util/Removal */ \"(ssr)/./node_modules/diagram-js/lib/util/Removal.js\");\n\n\n\n\n/**\n * @typedef {import('../../../core/Canvas').default} Canvas\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * A handler that implements reversible deletion of Connections.\n */\nfunction DeleteConnectionHandler(canvas, modeling) {\n  this._canvas = canvas;\n  this._modeling = modeling;\n}\n\nDeleteConnectionHandler.$inject = [\n  'canvas',\n  'modeling'\n];\n\n\n/**\n * - Remove connections\n */\nDeleteConnectionHandler.prototype.preExecute = function(context) {\n\n  var modeling = this._modeling;\n\n  var connection = context.connection;\n\n  // remove connections\n  (0,_util_Removal__WEBPACK_IMPORTED_MODULE_0__.saveClear)(connection.incoming, function(connection) {\n\n    // To make sure that the connection isn't removed twice\n    // For example if a container is removed\n    modeling.removeConnection(connection, { nested: true });\n  });\n\n  (0,_util_Removal__WEBPACK_IMPORTED_MODULE_0__.saveClear)(connection.outgoing, function(connection) {\n    modeling.removeConnection(connection, { nested: true });\n  });\n\n};\n\n\nDeleteConnectionHandler.prototype.execute = function(context) {\n\n  var connection = context.connection,\n      parent = connection.parent;\n\n  context.parent = parent;\n\n  // remember containment\n  context.parentIndex = (0,_util_Collections__WEBPACK_IMPORTED_MODULE_1__.indexOf)(parent.children, connection);\n\n  context.source = connection.source;\n  context.target = connection.target;\n\n  this._canvas.removeConnection(connection);\n\n  connection.source = null;\n  connection.target = null;\n\n  return connection;\n};\n\n/**\n * Command revert implementation.\n */\nDeleteConnectionHandler.prototype.revert = function(context) {\n\n  var connection = context.connection,\n      parent = context.parent,\n      parentIndex = context.parentIndex;\n\n  connection.source = context.source;\n  connection.target = context.target;\n\n  // restore containment\n  (0,_util_Collections__WEBPACK_IMPORTED_MODULE_1__.add)(parent.children, connection, parentIndex);\n\n  this._canvas.addConnection(connection, parent);\n\n  return connection;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL0RlbGV0ZUNvbm5lY3Rpb25IYW5kbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUdtQzs7QUFFZTs7QUFFbEQ7QUFDQSxhQUFhLHdDQUF3QztBQUNyRCxhQUFhLCtCQUErQjtBQUM1Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSxFQUFFLHdEQUFTOztBQUVYO0FBQ0E7QUFDQSw0Q0FBNEMsY0FBYztBQUMxRCxHQUFHOztBQUVILEVBQUUsd0RBQVM7QUFDWCw0Q0FBNEMsY0FBYztBQUMxRCxHQUFHOztBQUVIOzs7QUFHQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0Esd0JBQXdCLDBEQUFhOztBQUVyQztBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEVBQUUsc0RBQWE7O0FBRWY7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvRGVsZXRlQ29ubmVjdGlvbkhhbmRsZXIuanM/ZjNhOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBhZGQgYXMgY29sbGVjdGlvbkFkZCxcbiAgaW5kZXhPZiBhcyBjb2xsZWN0aW9uSWR4XG59IGZyb20gJy4uLy4uLy4uL3V0aWwvQ29sbGVjdGlvbnMnO1xuXG5pbXBvcnQgeyBzYXZlQ2xlYXIgfSBmcm9tICcuLi8uLi8uLi91dGlsL1JlbW92YWwnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uLy4uL2NvcmUvQ2FudmFzJykuZGVmYXVsdH0gQ2FudmFzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9Nb2RlbGluZycpLmRlZmF1bHR9IE1vZGVsaW5nXG4gKi9cblxuLyoqXG4gKiBBIGhhbmRsZXIgdGhhdCBpbXBsZW1lbnRzIHJldmVyc2libGUgZGVsZXRpb24gb2YgQ29ubmVjdGlvbnMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERlbGV0ZUNvbm5lY3Rpb25IYW5kbGVyKGNhbnZhcywgbW9kZWxpbmcpIHtcbiAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuICB0aGlzLl9tb2RlbGluZyA9IG1vZGVsaW5nO1xufVxuXG5EZWxldGVDb25uZWN0aW9uSGFuZGxlci4kaW5qZWN0ID0gW1xuICAnY2FudmFzJyxcbiAgJ21vZGVsaW5nJ1xuXTtcblxuXG4vKipcbiAqIC0gUmVtb3ZlIGNvbm5lY3Rpb25zXG4gKi9cbkRlbGV0ZUNvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5wcmVFeGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBtb2RlbGluZyA9IHRoaXMuX21vZGVsaW5nO1xuXG4gIHZhciBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uO1xuXG4gIC8vIHJlbW92ZSBjb25uZWN0aW9uc1xuICBzYXZlQ2xlYXIoY29ubmVjdGlvbi5pbmNvbWluZywgZnVuY3Rpb24oY29ubmVjdGlvbikge1xuXG4gICAgLy8gVG8gbWFrZSBzdXJlIHRoYXQgdGhlIGNvbm5lY3Rpb24gaXNuJ3QgcmVtb3ZlZCB0d2ljZVxuICAgIC8vIEZvciBleGFtcGxlIGlmIGEgY29udGFpbmVyIGlzIHJlbW92ZWRcbiAgICBtb2RlbGluZy5yZW1vdmVDb25uZWN0aW9uKGNvbm5lY3Rpb24sIHsgbmVzdGVkOiB0cnVlIH0pO1xuICB9KTtcblxuICBzYXZlQ2xlYXIoY29ubmVjdGlvbi5vdXRnb2luZywgZnVuY3Rpb24oY29ubmVjdGlvbikge1xuICAgIG1vZGVsaW5nLnJlbW92ZUNvbm5lY3Rpb24oY29ubmVjdGlvbiwgeyBuZXN0ZWQ6IHRydWUgfSk7XG4gIH0pO1xuXG59O1xuXG5cbkRlbGV0ZUNvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uLFxuICAgICAgcGFyZW50ID0gY29ubmVjdGlvbi5wYXJlbnQ7XG5cbiAgY29udGV4dC5wYXJlbnQgPSBwYXJlbnQ7XG5cbiAgLy8gcmVtZW1iZXIgY29udGFpbm1lbnRcbiAgY29udGV4dC5wYXJlbnRJbmRleCA9IGNvbGxlY3Rpb25JZHgocGFyZW50LmNoaWxkcmVuLCBjb25uZWN0aW9uKTtcblxuICBjb250ZXh0LnNvdXJjZSA9IGNvbm5lY3Rpb24uc291cmNlO1xuICBjb250ZXh0LnRhcmdldCA9IGNvbm5lY3Rpb24udGFyZ2V0O1xuXG4gIHRoaXMuX2NhbnZhcy5yZW1vdmVDb25uZWN0aW9uKGNvbm5lY3Rpb24pO1xuXG4gIGNvbm5lY3Rpb24uc291cmNlID0gbnVsbDtcbiAgY29ubmVjdGlvbi50YXJnZXQgPSBudWxsO1xuXG4gIHJldHVybiBjb25uZWN0aW9uO1xufTtcblxuLyoqXG4gKiBDb21tYW5kIHJldmVydCBpbXBsZW1lbnRhdGlvbi5cbiAqL1xuRGVsZXRlQ29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnJldmVydCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICB2YXIgY29ubmVjdGlvbiA9IGNvbnRleHQuY29ubmVjdGlvbixcbiAgICAgIHBhcmVudCA9IGNvbnRleHQucGFyZW50LFxuICAgICAgcGFyZW50SW5kZXggPSBjb250ZXh0LnBhcmVudEluZGV4O1xuXG4gIGNvbm5lY3Rpb24uc291cmNlID0gY29udGV4dC5zb3VyY2U7XG4gIGNvbm5lY3Rpb24udGFyZ2V0ID0gY29udGV4dC50YXJnZXQ7XG5cbiAgLy8gcmVzdG9yZSBjb250YWlubWVudFxuICBjb2xsZWN0aW9uQWRkKHBhcmVudC5jaGlsZHJlbiwgY29ubmVjdGlvbiwgcGFyZW50SW5kZXgpO1xuXG4gIHRoaXMuX2NhbnZhcy5hZGRDb25uZWN0aW9uKGNvbm5lY3Rpb24sIHBhcmVudCk7XG5cbiAgcmV0dXJuIGNvbm5lY3Rpb247XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/DeleteConnectionHandler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/DeleteElementsHandler.js":
/*!************************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/modeling/cmd/DeleteElementsHandler.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DeleteElementsHandler)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('../../../core/ElementRegistry').default} ElementRegistry\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * @param {Modeling} modeling\n * @param {ElementRegistry} elementRegistry\n */\nfunction DeleteElementsHandler(modeling, elementRegistry) {\n  this._modeling = modeling;\n  this._elementRegistry = elementRegistry;\n}\n\nDeleteElementsHandler.$inject = [\n  'modeling',\n  'elementRegistry'\n];\n\n\nDeleteElementsHandler.prototype.postExecute = function(context) {\n\n  var modeling = this._modeling,\n      elementRegistry = this._elementRegistry,\n      elements = context.elements;\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(elements, function(element) {\n\n    // element may have been removed with previous\n    // remove operations already (e.g. in case of nesting)\n    if (!elementRegistry.get(element.id)) {\n      return;\n    }\n\n    if (element.waypoints) {\n      modeling.removeConnection(element);\n    } else {\n      modeling.removeShape(element);\n    }\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL0RlbGV0ZUVsZW1lbnRzSGFuZGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFtQzs7QUFFbkM7QUFDQSxhQUFhLGlEQUFpRDtBQUM5RCxhQUFhLCtCQUErQjtBQUM1Qzs7QUFFQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLGlCQUFpQjtBQUM1QjtBQUNlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRSxpREFBTzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSCIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvRGVsZXRlRWxlbWVudHNIYW5kbGVyLmpzPzRiYWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZm9yRWFjaCB9IGZyb20gJ21pbi1kYXNoJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi8uLi9jb3JlL0VsZW1lbnRSZWdpc3RyeScpLmRlZmF1bHR9IEVsZW1lbnRSZWdpc3RyeVxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vTW9kZWxpbmcnKS5kZWZhdWx0fSBNb2RlbGluZ1xuICovXG5cbi8qKlxuICogQHBhcmFtIHtNb2RlbGluZ30gbW9kZWxpbmdcbiAqIEBwYXJhbSB7RWxlbWVudFJlZ2lzdHJ5fSBlbGVtZW50UmVnaXN0cnlcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRGVsZXRlRWxlbWVudHNIYW5kbGVyKG1vZGVsaW5nLCBlbGVtZW50UmVnaXN0cnkpIHtcbiAgdGhpcy5fbW9kZWxpbmcgPSBtb2RlbGluZztcbiAgdGhpcy5fZWxlbWVudFJlZ2lzdHJ5ID0gZWxlbWVudFJlZ2lzdHJ5O1xufVxuXG5EZWxldGVFbGVtZW50c0hhbmRsZXIuJGluamVjdCA9IFtcbiAgJ21vZGVsaW5nJyxcbiAgJ2VsZW1lbnRSZWdpc3RyeSdcbl07XG5cblxuRGVsZXRlRWxlbWVudHNIYW5kbGVyLnByb3RvdHlwZS5wb3N0RXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICB2YXIgbW9kZWxpbmcgPSB0aGlzLl9tb2RlbGluZyxcbiAgICAgIGVsZW1lbnRSZWdpc3RyeSA9IHRoaXMuX2VsZW1lbnRSZWdpc3RyeSxcbiAgICAgIGVsZW1lbnRzID0gY29udGV4dC5lbGVtZW50cztcblxuICBmb3JFYWNoKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG5cbiAgICAvLyBlbGVtZW50IG1heSBoYXZlIGJlZW4gcmVtb3ZlZCB3aXRoIHByZXZpb3VzXG4gICAgLy8gcmVtb3ZlIG9wZXJhdGlvbnMgYWxyZWFkeSAoZS5nLiBpbiBjYXNlIG9mIG5lc3RpbmcpXG4gICAgaWYgKCFlbGVtZW50UmVnaXN0cnkuZ2V0KGVsZW1lbnQuaWQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnQud2F5cG9pbnRzKSB7XG4gICAgICBtb2RlbGluZy5yZW1vdmVDb25uZWN0aW9uKGVsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtb2RlbGluZy5yZW1vdmVTaGFwZShlbGVtZW50KTtcbiAgICB9XG4gIH0pO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/DeleteElementsHandler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/DeleteShapeHandler.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/modeling/cmd/DeleteShapeHandler.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DeleteShapeHandler)\n/* harmony export */ });\n/* harmony import */ var _util_Collections__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../util/Collections */ \"(ssr)/./node_modules/diagram-js/lib/util/Collections.js\");\n/* harmony import */ var _util_Removal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../util/Removal */ \"(ssr)/./node_modules/diagram-js/lib/util/Removal.js\");\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../util/ModelUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/ModelUtil.js\");\n\n\n\n\n\n\n/**\n * @typedef {import('../../../core/Canvas').default} Canvas\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * A handler that implements reversible deletion of shapes.\n *\n * @param {Canvas} canvas\n * @param {Modeling} modeling\n */\nfunction DeleteShapeHandler(canvas, modeling) {\n  this._canvas = canvas;\n  this._modeling = modeling;\n}\n\nDeleteShapeHandler.$inject = [ 'canvas', 'modeling' ];\n\n\n/**\n * - Remove connections\n * - Remove all direct children\n */\nDeleteShapeHandler.prototype.preExecute = function(context) {\n\n  var modeling = this._modeling;\n\n  var shape = context.shape;\n\n  // remove connections\n  (0,_util_Removal__WEBPACK_IMPORTED_MODULE_0__.saveClear)(shape.incoming, function(connection) {\n\n    // To make sure that the connection isn't removed twice\n    // For example if a container is removed\n    modeling.removeConnection(connection, { nested: true });\n  });\n\n  (0,_util_Removal__WEBPACK_IMPORTED_MODULE_0__.saveClear)(shape.outgoing, function(connection) {\n    modeling.removeConnection(connection, { nested: true });\n  });\n\n  // remove child shapes and connections\n  (0,_util_Removal__WEBPACK_IMPORTED_MODULE_0__.saveClear)(shape.children, function(child) {\n    if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.isConnection)(child)) {\n      modeling.removeConnection(child, { nested: true });\n    } else {\n      modeling.removeShape(child, { nested: true });\n    }\n  });\n};\n\n/**\n * Remove shape and remember the parent\n */\nDeleteShapeHandler.prototype.execute = function(context) {\n  var canvas = this._canvas;\n\n  var shape = context.shape,\n      oldParent = shape.parent;\n\n  context.oldParent = oldParent;\n\n  // remove containment\n  context.oldParentIndex = (0,_util_Collections__WEBPACK_IMPORTED_MODULE_2__.indexOf)(oldParent.children, shape);\n\n  // remove shape\n  canvas.removeShape(shape);\n\n  return shape;\n};\n\n\n/**\n * Command revert implementation\n */\nDeleteShapeHandler.prototype.revert = function(context) {\n\n  var canvas = this._canvas;\n\n  var shape = context.shape,\n      oldParent = context.oldParent,\n      oldParentIndex = context.oldParentIndex;\n\n  // restore containment\n  (0,_util_Collections__WEBPACK_IMPORTED_MODULE_2__.add)(oldParent.children, shape, oldParentIndex);\n\n  canvas.addShape(shape, oldParent);\n\n  return shape;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL0RlbGV0ZVNoYXBlSGFuZGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBR21DOztBQUVlOztBQUVLOztBQUV2RDtBQUNBLGFBQWEsd0NBQXdDO0FBQ3JELGFBQWEsK0JBQStCO0FBQzVDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFVBQVU7QUFDckI7QUFDZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBLEVBQUUsd0RBQVM7O0FBRVg7QUFDQTtBQUNBLDRDQUE0QyxjQUFjO0FBQzFELEdBQUc7O0FBRUgsRUFBRSx3REFBUztBQUNYLDRDQUE0QyxjQUFjO0FBQzFELEdBQUc7O0FBRUg7QUFDQSxFQUFFLHdEQUFTO0FBQ1gsUUFBUSw2REFBWTtBQUNwQix5Q0FBeUMsY0FBYztBQUN2RCxNQUFNO0FBQ04sb0NBQW9DLGNBQWM7QUFDbEQ7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsMkJBQTJCLDBEQUFhOztBQUV4QztBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUUsc0RBQWE7O0FBRWY7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvRGVsZXRlU2hhcGVIYW5kbGVyLmpzPzgxNjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgYWRkIGFzIGNvbGxlY3Rpb25BZGQsXG4gIGluZGV4T2YgYXMgY29sbGVjdGlvbklkeFxufSBmcm9tICcuLi8uLi8uLi91dGlsL0NvbGxlY3Rpb25zJztcblxuaW1wb3J0IHsgc2F2ZUNsZWFyIH0gZnJvbSAnLi4vLi4vLi4vdXRpbC9SZW1vdmFsJztcblxuaW1wb3J0IHsgaXNDb25uZWN0aW9uIH0gZnJvbSAnLi4vLi4vLi4vdXRpbC9Nb2RlbFV0aWwnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uLy4uL2NvcmUvQ2FudmFzJykuZGVmYXVsdH0gQ2FudmFzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9Nb2RlbGluZycpLmRlZmF1bHR9IE1vZGVsaW5nXG4gKi9cblxuLyoqXG4gKiBBIGhhbmRsZXIgdGhhdCBpbXBsZW1lbnRzIHJldmVyc2libGUgZGVsZXRpb24gb2Ygc2hhcGVzLlxuICpcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqIEBwYXJhbSB7TW9kZWxpbmd9IG1vZGVsaW5nXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERlbGV0ZVNoYXBlSGFuZGxlcihjYW52YXMsIG1vZGVsaW5nKSB7XG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcbiAgdGhpcy5fbW9kZWxpbmcgPSBtb2RlbGluZztcbn1cblxuRGVsZXRlU2hhcGVIYW5kbGVyLiRpbmplY3QgPSBbICdjYW52YXMnLCAnbW9kZWxpbmcnIF07XG5cblxuLyoqXG4gKiAtIFJlbW92ZSBjb25uZWN0aW9uc1xuICogLSBSZW1vdmUgYWxsIGRpcmVjdCBjaGlsZHJlblxuICovXG5EZWxldGVTaGFwZUhhbmRsZXIucHJvdG90eXBlLnByZUV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIG1vZGVsaW5nID0gdGhpcy5fbW9kZWxpbmc7XG5cbiAgdmFyIHNoYXBlID0gY29udGV4dC5zaGFwZTtcblxuICAvLyByZW1vdmUgY29ubmVjdGlvbnNcbiAgc2F2ZUNsZWFyKHNoYXBlLmluY29taW5nLCBmdW5jdGlvbihjb25uZWN0aW9uKSB7XG5cbiAgICAvLyBUbyBtYWtlIHN1cmUgdGhhdCB0aGUgY29ubmVjdGlvbiBpc24ndCByZW1vdmVkIHR3aWNlXG4gICAgLy8gRm9yIGV4YW1wbGUgaWYgYSBjb250YWluZXIgaXMgcmVtb3ZlZFxuICAgIG1vZGVsaW5nLnJlbW92ZUNvbm5lY3Rpb24oY29ubmVjdGlvbiwgeyBuZXN0ZWQ6IHRydWUgfSk7XG4gIH0pO1xuXG4gIHNhdmVDbGVhcihzaGFwZS5vdXRnb2luZywgZnVuY3Rpb24oY29ubmVjdGlvbikge1xuICAgIG1vZGVsaW5nLnJlbW92ZUNvbm5lY3Rpb24oY29ubmVjdGlvbiwgeyBuZXN0ZWQ6IHRydWUgfSk7XG4gIH0pO1xuXG4gIC8vIHJlbW92ZSBjaGlsZCBzaGFwZXMgYW5kIGNvbm5lY3Rpb25zXG4gIHNhdmVDbGVhcihzaGFwZS5jaGlsZHJlbiwgZnVuY3Rpb24oY2hpbGQpIHtcbiAgICBpZiAoaXNDb25uZWN0aW9uKGNoaWxkKSkge1xuICAgICAgbW9kZWxpbmcucmVtb3ZlQ29ubmVjdGlvbihjaGlsZCwgeyBuZXN0ZWQ6IHRydWUgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1vZGVsaW5nLnJlbW92ZVNoYXBlKGNoaWxkLCB7IG5lc3RlZDogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgc2hhcGUgYW5kIHJlbWVtYmVyIHRoZSBwYXJlbnRcbiAqL1xuRGVsZXRlU2hhcGVIYW5kbGVyLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuICB2YXIgY2FudmFzID0gdGhpcy5fY2FudmFzO1xuXG4gIHZhciBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXG4gICAgICBvbGRQYXJlbnQgPSBzaGFwZS5wYXJlbnQ7XG5cbiAgY29udGV4dC5vbGRQYXJlbnQgPSBvbGRQYXJlbnQ7XG5cbiAgLy8gcmVtb3ZlIGNvbnRhaW5tZW50XG4gIGNvbnRleHQub2xkUGFyZW50SW5kZXggPSBjb2xsZWN0aW9uSWR4KG9sZFBhcmVudC5jaGlsZHJlbiwgc2hhcGUpO1xuXG4gIC8vIHJlbW92ZSBzaGFwZVxuICBjYW52YXMucmVtb3ZlU2hhcGUoc2hhcGUpO1xuXG4gIHJldHVybiBzaGFwZTtcbn07XG5cblxuLyoqXG4gKiBDb21tYW5kIHJldmVydCBpbXBsZW1lbnRhdGlvblxuICovXG5EZWxldGVTaGFwZUhhbmRsZXIucHJvdG90eXBlLnJldmVydCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICB2YXIgY2FudmFzID0gdGhpcy5fY2FudmFzO1xuXG4gIHZhciBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXG4gICAgICBvbGRQYXJlbnQgPSBjb250ZXh0Lm9sZFBhcmVudCxcbiAgICAgIG9sZFBhcmVudEluZGV4ID0gY29udGV4dC5vbGRQYXJlbnRJbmRleDtcblxuICAvLyByZXN0b3JlIGNvbnRhaW5tZW50XG4gIGNvbGxlY3Rpb25BZGQob2xkUGFyZW50LmNoaWxkcmVuLCBzaGFwZSwgb2xkUGFyZW50SW5kZXgpO1xuXG4gIGNhbnZhcy5hZGRTaGFwZShzaGFwZSwgb2xkUGFyZW50KTtcblxuICByZXR1cm4gc2hhcGU7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/DeleteShapeHandler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/DistributeElementsHandler.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/modeling/cmd/DistributeElementsHandler.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DistributeElements)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * A handler that distributes elements evenly.\n *\n * @param {Modeling} modeling\n */\nfunction DistributeElements(modeling) {\n  this._modeling = modeling;\n}\n\nDistributeElements.$inject = [ 'modeling' ];\n\nvar OFF_AXIS = {\n  x: 'y',\n  y: 'x'\n};\n\nDistributeElements.prototype.preExecute = function(context) {\n  var modeling = this._modeling;\n\n  var groups = context.groups,\n      axis = context.axis,\n      dimension = context.dimension;\n\n  function updateRange(group, element) {\n    group.range.min = Math.min(element[axis], group.range.min);\n    group.range.max = Math.max(element[axis] + element[dimension], group.range.max);\n  }\n\n  function center(element) {\n    return element[axis] + element[dimension] / 2;\n  }\n\n  function lastIdx(arr) {\n    return arr.length - 1;\n  }\n\n  function rangeDiff(range) {\n    return range.max - range.min;\n  }\n\n  function centerElement(refCenter, element) {\n    var delta = { y: 0 };\n\n    delta[axis] = refCenter - center(element);\n\n    if (delta[axis]) {\n\n      delta[OFF_AXIS[axis]] = 0;\n\n      modeling.moveElements([ element ], delta, element.parent);\n    }\n  }\n\n  var firstGroup = groups[0],\n      lastGroupIdx = lastIdx(groups),\n      lastGroup = groups[ lastGroupIdx ];\n\n  var margin,\n      spaceInBetween,\n      groupsSize = 0; // the size of each range\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(groups, function(group, idx) {\n    var sortedElements,\n        refElem,\n        refCenter;\n\n    if (group.elements.length < 2) {\n      if (idx && idx !== groups.length - 1) {\n        updateRange(group, group.elements[0]);\n\n        groupsSize += rangeDiff(group.range);\n      }\n      return;\n    }\n\n    sortedElements = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.sortBy)(group.elements, axis);\n\n    refElem = sortedElements[0];\n\n    if (idx === lastGroupIdx) {\n      refElem = sortedElements[lastIdx(sortedElements)];\n    }\n\n    refCenter = center(refElem);\n\n    // wanna update the ranges after the shapes have been centered\n    group.range = null;\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(sortedElements, function(element) {\n\n      centerElement(refCenter, element);\n\n      if (group.range === null) {\n        group.range = {\n          min: element[axis],\n          max: element[axis] + element[dimension]\n        };\n\n        return;\n      }\n\n      // update group's range after centering the range elements\n      updateRange(group, element);\n    });\n\n    if (idx && idx !== groups.length - 1) {\n      groupsSize += rangeDiff(group.range);\n    }\n  });\n\n  spaceInBetween = Math.abs(lastGroup.range.min - firstGroup.range.max);\n\n  margin = Math.round((spaceInBetween - groupsSize) / (groups.length - 1));\n\n  if (margin < groups.length - 1) {\n    return;\n  }\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(groups, function(group, groupIdx) {\n    var delta = {},\n        prevGroup;\n\n    if (group === firstGroup || group === lastGroup) {\n      return;\n    }\n\n    prevGroup = groups[groupIdx - 1];\n\n    group.range.max = 0;\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(group.elements, function(element, idx) {\n      delta[OFF_AXIS[axis]] = 0;\n      delta[axis] = (prevGroup.range.max - element[axis]) + margin;\n\n      if (group.range.min !== element[axis]) {\n        delta[axis] += element[axis] - group.range.min;\n      }\n\n      if (delta[axis]) {\n        modeling.moveElements([ element ], delta, element.parent);\n      }\n\n      group.range.max = Math.max(element[axis] + element[dimension], idx ? group.range.max : 0);\n    });\n  });\n};\n\nDistributeElements.prototype.postExecute = function(context) {\n\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL0Rpc3RyaWJ1dGVFbGVtZW50c0hhbmRsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFHa0I7O0FBRWxCO0FBQ0EsYUFBYSwrQkFBK0I7QUFDNUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ2U7QUFDZjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCOztBQUVsQjs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxzQkFBc0I7O0FBRXRCLEVBQUUsaURBQU87QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFCQUFxQixnREFBTTs7QUFFM0I7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsSUFBSSxpREFBTzs7QUFFWDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRSxpREFBTztBQUNULGtCQUFrQjtBQUNsQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsSUFBSSxpREFBTztBQUNYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL0Rpc3RyaWJ1dGVFbGVtZW50c0hhbmRsZXIuanM/NjIzYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBmb3JFYWNoLFxuICBzb3J0Qnlcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL01vZGVsaW5nJykuZGVmYXVsdH0gTW9kZWxpbmdcbiAqL1xuXG4vKipcbiAqIEEgaGFuZGxlciB0aGF0IGRpc3RyaWJ1dGVzIGVsZW1lbnRzIGV2ZW5seS5cbiAqXG4gKiBAcGFyYW0ge01vZGVsaW5nfSBtb2RlbGluZ1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEaXN0cmlidXRlRWxlbWVudHMobW9kZWxpbmcpIHtcbiAgdGhpcy5fbW9kZWxpbmcgPSBtb2RlbGluZztcbn1cblxuRGlzdHJpYnV0ZUVsZW1lbnRzLiRpbmplY3QgPSBbICdtb2RlbGluZycgXTtcblxudmFyIE9GRl9BWElTID0ge1xuICB4OiAneScsXG4gIHk6ICd4J1xufTtcblxuRGlzdHJpYnV0ZUVsZW1lbnRzLnByb3RvdHlwZS5wcmVFeGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuICB2YXIgbW9kZWxpbmcgPSB0aGlzLl9tb2RlbGluZztcblxuICB2YXIgZ3JvdXBzID0gY29udGV4dC5ncm91cHMsXG4gICAgICBheGlzID0gY29udGV4dC5heGlzLFxuICAgICAgZGltZW5zaW9uID0gY29udGV4dC5kaW1lbnNpb247XG5cbiAgZnVuY3Rpb24gdXBkYXRlUmFuZ2UoZ3JvdXAsIGVsZW1lbnQpIHtcbiAgICBncm91cC5yYW5nZS5taW4gPSBNYXRoLm1pbihlbGVtZW50W2F4aXNdLCBncm91cC5yYW5nZS5taW4pO1xuICAgIGdyb3VwLnJhbmdlLm1heCA9IE1hdGgubWF4KGVsZW1lbnRbYXhpc10gKyBlbGVtZW50W2RpbWVuc2lvbl0sIGdyb3VwLnJhbmdlLm1heCk7XG4gIH1cblxuICBmdW5jdGlvbiBjZW50ZXIoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50W2F4aXNdICsgZWxlbWVudFtkaW1lbnNpb25dIC8gMjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxhc3RJZHgoYXJyKSB7XG4gICAgcmV0dXJuIGFyci5sZW5ndGggLSAxO1xuICB9XG5cbiAgZnVuY3Rpb24gcmFuZ2VEaWZmKHJhbmdlKSB7XG4gICAgcmV0dXJuIHJhbmdlLm1heCAtIHJhbmdlLm1pbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNlbnRlckVsZW1lbnQocmVmQ2VudGVyLCBlbGVtZW50KSB7XG4gICAgdmFyIGRlbHRhID0geyB5OiAwIH07XG5cbiAgICBkZWx0YVtheGlzXSA9IHJlZkNlbnRlciAtIGNlbnRlcihlbGVtZW50KTtcblxuICAgIGlmIChkZWx0YVtheGlzXSkge1xuXG4gICAgICBkZWx0YVtPRkZfQVhJU1theGlzXV0gPSAwO1xuXG4gICAgICBtb2RlbGluZy5tb3ZlRWxlbWVudHMoWyBlbGVtZW50IF0sIGRlbHRhLCBlbGVtZW50LnBhcmVudCk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGZpcnN0R3JvdXAgPSBncm91cHNbMF0sXG4gICAgICBsYXN0R3JvdXBJZHggPSBsYXN0SWR4KGdyb3VwcyksXG4gICAgICBsYXN0R3JvdXAgPSBncm91cHNbIGxhc3RHcm91cElkeCBdO1xuXG4gIHZhciBtYXJnaW4sXG4gICAgICBzcGFjZUluQmV0d2VlbixcbiAgICAgIGdyb3Vwc1NpemUgPSAwOyAvLyB0aGUgc2l6ZSBvZiBlYWNoIHJhbmdlXG5cbiAgZm9yRWFjaChncm91cHMsIGZ1bmN0aW9uKGdyb3VwLCBpZHgpIHtcbiAgICB2YXIgc29ydGVkRWxlbWVudHMsXG4gICAgICAgIHJlZkVsZW0sXG4gICAgICAgIHJlZkNlbnRlcjtcblxuICAgIGlmIChncm91cC5lbGVtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgICBpZiAoaWR4ICYmIGlkeCAhPT0gZ3JvdXBzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgdXBkYXRlUmFuZ2UoZ3JvdXAsIGdyb3VwLmVsZW1lbnRzWzBdKTtcblxuICAgICAgICBncm91cHNTaXplICs9IHJhbmdlRGlmZihncm91cC5yYW5nZSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc29ydGVkRWxlbWVudHMgPSBzb3J0QnkoZ3JvdXAuZWxlbWVudHMsIGF4aXMpO1xuXG4gICAgcmVmRWxlbSA9IHNvcnRlZEVsZW1lbnRzWzBdO1xuXG4gICAgaWYgKGlkeCA9PT0gbGFzdEdyb3VwSWR4KSB7XG4gICAgICByZWZFbGVtID0gc29ydGVkRWxlbWVudHNbbGFzdElkeChzb3J0ZWRFbGVtZW50cyldO1xuICAgIH1cblxuICAgIHJlZkNlbnRlciA9IGNlbnRlcihyZWZFbGVtKTtcblxuICAgIC8vIHdhbm5hIHVwZGF0ZSB0aGUgcmFuZ2VzIGFmdGVyIHRoZSBzaGFwZXMgaGF2ZSBiZWVuIGNlbnRlcmVkXG4gICAgZ3JvdXAucmFuZ2UgPSBudWxsO1xuXG4gICAgZm9yRWFjaChzb3J0ZWRFbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuXG4gICAgICBjZW50ZXJFbGVtZW50KHJlZkNlbnRlciwgZWxlbWVudCk7XG5cbiAgICAgIGlmIChncm91cC5yYW5nZSA9PT0gbnVsbCkge1xuICAgICAgICBncm91cC5yYW5nZSA9IHtcbiAgICAgICAgICBtaW46IGVsZW1lbnRbYXhpc10sXG4gICAgICAgICAgbWF4OiBlbGVtZW50W2F4aXNdICsgZWxlbWVudFtkaW1lbnNpb25dXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyB1cGRhdGUgZ3JvdXAncyByYW5nZSBhZnRlciBjZW50ZXJpbmcgdGhlIHJhbmdlIGVsZW1lbnRzXG4gICAgICB1cGRhdGVSYW5nZShncm91cCwgZWxlbWVudCk7XG4gICAgfSk7XG5cbiAgICBpZiAoaWR4ICYmIGlkeCAhPT0gZ3JvdXBzLmxlbmd0aCAtIDEpIHtcbiAgICAgIGdyb3Vwc1NpemUgKz0gcmFuZ2VEaWZmKGdyb3VwLnJhbmdlKTtcbiAgICB9XG4gIH0pO1xuXG4gIHNwYWNlSW5CZXR3ZWVuID0gTWF0aC5hYnMobGFzdEdyb3VwLnJhbmdlLm1pbiAtIGZpcnN0R3JvdXAucmFuZ2UubWF4KTtcblxuICBtYXJnaW4gPSBNYXRoLnJvdW5kKChzcGFjZUluQmV0d2VlbiAtIGdyb3Vwc1NpemUpIC8gKGdyb3Vwcy5sZW5ndGggLSAxKSk7XG5cbiAgaWYgKG1hcmdpbiA8IGdyb3Vwcy5sZW5ndGggLSAxKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZm9yRWFjaChncm91cHMsIGZ1bmN0aW9uKGdyb3VwLCBncm91cElkeCkge1xuICAgIHZhciBkZWx0YSA9IHt9LFxuICAgICAgICBwcmV2R3JvdXA7XG5cbiAgICBpZiAoZ3JvdXAgPT09IGZpcnN0R3JvdXAgfHwgZ3JvdXAgPT09IGxhc3RHcm91cCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHByZXZHcm91cCA9IGdyb3Vwc1tncm91cElkeCAtIDFdO1xuXG4gICAgZ3JvdXAucmFuZ2UubWF4ID0gMDtcblxuICAgIGZvckVhY2goZ3JvdXAuZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQsIGlkeCkge1xuICAgICAgZGVsdGFbT0ZGX0FYSVNbYXhpc11dID0gMDtcbiAgICAgIGRlbHRhW2F4aXNdID0gKHByZXZHcm91cC5yYW5nZS5tYXggLSBlbGVtZW50W2F4aXNdKSArIG1hcmdpbjtcblxuICAgICAgaWYgKGdyb3VwLnJhbmdlLm1pbiAhPT0gZWxlbWVudFtheGlzXSkge1xuICAgICAgICBkZWx0YVtheGlzXSArPSBlbGVtZW50W2F4aXNdIC0gZ3JvdXAucmFuZ2UubWluO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGVsdGFbYXhpc10pIHtcbiAgICAgICAgbW9kZWxpbmcubW92ZUVsZW1lbnRzKFsgZWxlbWVudCBdLCBkZWx0YSwgZWxlbWVudC5wYXJlbnQpO1xuICAgICAgfVxuXG4gICAgICBncm91cC5yYW5nZS5tYXggPSBNYXRoLm1heChlbGVtZW50W2F4aXNdICsgZWxlbWVudFtkaW1lbnNpb25dLCBpZHggPyBncm91cC5yYW5nZS5tYXggOiAwKTtcbiAgICB9KTtcbiAgfSk7XG59O1xuXG5EaXN0cmlidXRlRWxlbWVudHMucHJvdG90eXBlLnBvc3RFeGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/DistributeElementsHandler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/LayoutConnectionHandler.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/modeling/cmd/LayoutConnectionHandler.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LayoutConnectionHandler)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('../../../core/Canvas').default} Canvas\n * @typedef {import('../../../layout/BaseLayouter').default} Layouter\n */\n\n/**\n * A handler that implements reversible moving of shapes.\n *\n * @param {Layouter} layouter\n * @param {Canvas} canvas\n */\nfunction LayoutConnectionHandler(layouter, canvas) {\n  this._layouter = layouter;\n  this._canvas = canvas;\n}\n\nLayoutConnectionHandler.$inject = [ 'layouter', 'canvas' ];\n\nLayoutConnectionHandler.prototype.execute = function(context) {\n\n  var connection = context.connection;\n\n  var oldWaypoints = connection.waypoints;\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(context, {\n    oldWaypoints: oldWaypoints\n  });\n\n  connection.waypoints = this._layouter.layoutConnection(connection, context.hints);\n\n  return connection;\n};\n\nLayoutConnectionHandler.prototype.revert = function(context) {\n\n  var connection = context.connection;\n\n  connection.waypoints = context.oldWaypoints;\n\n  return connection;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL0xheW91dENvbm5lY3Rpb25IYW5kbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWtDOztBQUVsQztBQUNBLGFBQWEsd0NBQXdDO0FBQ3JELGFBQWEsZ0RBQWdEO0FBQzdEOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkI7QUFDZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQSxFQUFFLGdEQUFNO0FBQ1I7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvTGF5b3V0Q29ubmVjdGlvbkhhbmRsZXIuanM/ZWI2YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NpZ24gfSBmcm9tICdtaW4tZGFzaCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vLi4vY29yZS9DYW52YXMnKS5kZWZhdWx0fSBDYW52YXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uLy4uL2xheW91dC9CYXNlTGF5b3V0ZXInKS5kZWZhdWx0fSBMYXlvdXRlclxuICovXG5cbi8qKlxuICogQSBoYW5kbGVyIHRoYXQgaW1wbGVtZW50cyByZXZlcnNpYmxlIG1vdmluZyBvZiBzaGFwZXMuXG4gKlxuICogQHBhcmFtIHtMYXlvdXRlcn0gbGF5b3V0ZXJcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTGF5b3V0Q29ubmVjdGlvbkhhbmRsZXIobGF5b3V0ZXIsIGNhbnZhcykge1xuICB0aGlzLl9sYXlvdXRlciA9IGxheW91dGVyO1xuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG59XG5cbkxheW91dENvbm5lY3Rpb25IYW5kbGVyLiRpbmplY3QgPSBbICdsYXlvdXRlcicsICdjYW52YXMnIF07XG5cbkxheW91dENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uO1xuXG4gIHZhciBvbGRXYXlwb2ludHMgPSBjb25uZWN0aW9uLndheXBvaW50cztcblxuICBhc3NpZ24oY29udGV4dCwge1xuICAgIG9sZFdheXBvaW50czogb2xkV2F5cG9pbnRzXG4gIH0pO1xuXG4gIGNvbm5lY3Rpb24ud2F5cG9pbnRzID0gdGhpcy5fbGF5b3V0ZXIubGF5b3V0Q29ubmVjdGlvbihjb25uZWN0aW9uLCBjb250ZXh0LmhpbnRzKTtcblxuICByZXR1cm4gY29ubmVjdGlvbjtcbn07XG5cbkxheW91dENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5yZXZlcnQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIGNvbm5lY3Rpb24gPSBjb250ZXh0LmNvbm5lY3Rpb247XG5cbiAgY29ubmVjdGlvbi53YXlwb2ludHMgPSBjb250ZXh0Lm9sZFdheXBvaW50cztcblxuICByZXR1cm4gY29ubmVjdGlvbjtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/LayoutConnectionHandler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/MoveConnectionHandler.js":
/*!************************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/modeling/cmd/MoveConnectionHandler.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MoveConnectionHandler)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _util_Collections__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../util/Collections */ \"(ssr)/./node_modules/diagram-js/lib/util/Collections.js\");\n\n\n\n\n\n\n/**\n * A handler that implements reversible moving of connections.\n *\n * The handler differs from the layout connection handler in a sense\n * that it preserves the connection layout.\n */\nfunction MoveConnectionHandler() { }\n\n\nMoveConnectionHandler.prototype.execute = function(context) {\n\n  var connection = context.connection,\n      delta = context.delta;\n\n  var newParent = context.newParent || connection.parent,\n      newParentIndex = context.newParentIndex,\n      oldParent = connection.parent;\n\n  // save old parent in context\n  context.oldParent = oldParent;\n  context.oldParentIndex = (0,_util_Collections__WEBPACK_IMPORTED_MODULE_0__.remove)(oldParent.children, connection);\n\n  // add to new parent at position\n  (0,_util_Collections__WEBPACK_IMPORTED_MODULE_0__.add)(newParent.children, connection, newParentIndex);\n\n  // update parent\n  connection.parent = newParent;\n\n  // update waypoint positions\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(connection.waypoints, function(p) {\n    p.x += delta.x;\n    p.y += delta.y;\n\n    if (p.original) {\n      p.original.x += delta.x;\n      p.original.y += delta.y;\n    }\n  });\n\n  return connection;\n};\n\nMoveConnectionHandler.prototype.revert = function(context) {\n\n  var connection = context.connection,\n      newParent = connection.parent,\n      oldParent = context.oldParent,\n      oldParentIndex = context.oldParentIndex,\n      delta = context.delta;\n\n  // remove from newParent\n  (0,_util_Collections__WEBPACK_IMPORTED_MODULE_0__.remove)(newParent.children, connection);\n\n  // restore previous location in old parent\n  (0,_util_Collections__WEBPACK_IMPORTED_MODULE_0__.add)(oldParent.children, connection, oldParentIndex);\n\n  // restore parent\n  connection.parent = oldParent;\n\n  // revert to old waypoint positions\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(connection.waypoints, function(p) {\n    p.x -= delta.x;\n    p.y -= delta.y;\n\n    if (p.original) {\n      p.original.x -= delta.x;\n      p.original.y -= delta.y;\n    }\n  });\n\n  return connection;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL01vdmVDb25uZWN0aW9uSGFuZGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBbUM7OztBQU1BOzs7QUFHbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2U7OztBQUdmOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwyQkFBMkIseURBQWdCOztBQUUzQztBQUNBLEVBQUUsc0RBQWE7O0FBRWY7QUFDQTs7QUFFQTtBQUNBLEVBQUUsaURBQU87QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFLHlEQUFnQjs7QUFFbEI7QUFDQSxFQUFFLHNEQUFhOztBQUVmO0FBQ0E7O0FBRUE7QUFDQSxFQUFFLGlEQUFPO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvTW92ZUNvbm5lY3Rpb25IYW5kbGVyLmpzP2M0MWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZm9yRWFjaCB9IGZyb20gJ21pbi1kYXNoJztcblxuXG5pbXBvcnQge1xuICBhZGQgYXMgY29sbGVjdGlvbkFkZCxcbiAgcmVtb3ZlIGFzIGNvbGxlY3Rpb25SZW1vdmVcbn0gZnJvbSAnLi4vLi4vLi4vdXRpbC9Db2xsZWN0aW9ucyc7XG5cblxuLyoqXG4gKiBBIGhhbmRsZXIgdGhhdCBpbXBsZW1lbnRzIHJldmVyc2libGUgbW92aW5nIG9mIGNvbm5lY3Rpb25zLlxuICpcbiAqIFRoZSBoYW5kbGVyIGRpZmZlcnMgZnJvbSB0aGUgbGF5b3V0IGNvbm5lY3Rpb24gaGFuZGxlciBpbiBhIHNlbnNlXG4gKiB0aGF0IGl0IHByZXNlcnZlcyB0aGUgY29ubmVjdGlvbiBsYXlvdXQuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1vdmVDb25uZWN0aW9uSGFuZGxlcigpIHsgfVxuXG5cbk1vdmVDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICB2YXIgY29ubmVjdGlvbiA9IGNvbnRleHQuY29ubmVjdGlvbixcbiAgICAgIGRlbHRhID0gY29udGV4dC5kZWx0YTtcblxuICB2YXIgbmV3UGFyZW50ID0gY29udGV4dC5uZXdQYXJlbnQgfHwgY29ubmVjdGlvbi5wYXJlbnQsXG4gICAgICBuZXdQYXJlbnRJbmRleCA9IGNvbnRleHQubmV3UGFyZW50SW5kZXgsXG4gICAgICBvbGRQYXJlbnQgPSBjb25uZWN0aW9uLnBhcmVudDtcblxuICAvLyBzYXZlIG9sZCBwYXJlbnQgaW4gY29udGV4dFxuICBjb250ZXh0Lm9sZFBhcmVudCA9IG9sZFBhcmVudDtcbiAgY29udGV4dC5vbGRQYXJlbnRJbmRleCA9IGNvbGxlY3Rpb25SZW1vdmUob2xkUGFyZW50LmNoaWxkcmVuLCBjb25uZWN0aW9uKTtcblxuICAvLyBhZGQgdG8gbmV3IHBhcmVudCBhdCBwb3NpdGlvblxuICBjb2xsZWN0aW9uQWRkKG5ld1BhcmVudC5jaGlsZHJlbiwgY29ubmVjdGlvbiwgbmV3UGFyZW50SW5kZXgpO1xuXG4gIC8vIHVwZGF0ZSBwYXJlbnRcbiAgY29ubmVjdGlvbi5wYXJlbnQgPSBuZXdQYXJlbnQ7XG5cbiAgLy8gdXBkYXRlIHdheXBvaW50IHBvc2l0aW9uc1xuICBmb3JFYWNoKGNvbm5lY3Rpb24ud2F5cG9pbnRzLCBmdW5jdGlvbihwKSB7XG4gICAgcC54ICs9IGRlbHRhLng7XG4gICAgcC55ICs9IGRlbHRhLnk7XG5cbiAgICBpZiAocC5vcmlnaW5hbCkge1xuICAgICAgcC5vcmlnaW5hbC54ICs9IGRlbHRhLng7XG4gICAgICBwLm9yaWdpbmFsLnkgKz0gZGVsdGEueTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBjb25uZWN0aW9uO1xufTtcblxuTW92ZUNvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5yZXZlcnQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIGNvbm5lY3Rpb24gPSBjb250ZXh0LmNvbm5lY3Rpb24sXG4gICAgICBuZXdQYXJlbnQgPSBjb25uZWN0aW9uLnBhcmVudCxcbiAgICAgIG9sZFBhcmVudCA9IGNvbnRleHQub2xkUGFyZW50LFxuICAgICAgb2xkUGFyZW50SW5kZXggPSBjb250ZXh0Lm9sZFBhcmVudEluZGV4LFxuICAgICAgZGVsdGEgPSBjb250ZXh0LmRlbHRhO1xuXG4gIC8vIHJlbW92ZSBmcm9tIG5ld1BhcmVudFxuICBjb2xsZWN0aW9uUmVtb3ZlKG5ld1BhcmVudC5jaGlsZHJlbiwgY29ubmVjdGlvbik7XG5cbiAgLy8gcmVzdG9yZSBwcmV2aW91cyBsb2NhdGlvbiBpbiBvbGQgcGFyZW50XG4gIGNvbGxlY3Rpb25BZGQob2xkUGFyZW50LmNoaWxkcmVuLCBjb25uZWN0aW9uLCBvbGRQYXJlbnRJbmRleCk7XG5cbiAgLy8gcmVzdG9yZSBwYXJlbnRcbiAgY29ubmVjdGlvbi5wYXJlbnQgPSBvbGRQYXJlbnQ7XG5cbiAgLy8gcmV2ZXJ0IHRvIG9sZCB3YXlwb2ludCBwb3NpdGlvbnNcbiAgZm9yRWFjaChjb25uZWN0aW9uLndheXBvaW50cywgZnVuY3Rpb24ocCkge1xuICAgIHAueCAtPSBkZWx0YS54O1xuICAgIHAueSAtPSBkZWx0YS55O1xuXG4gICAgaWYgKHAub3JpZ2luYWwpIHtcbiAgICAgIHAub3JpZ2luYWwueCAtPSBkZWx0YS54O1xuICAgICAgcC5vcmlnaW5hbC55IC09IGRlbHRhLnk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gY29ubmVjdGlvbjtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/MoveConnectionHandler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/MoveElementsHandler.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/modeling/cmd/MoveElementsHandler.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MoveElementsHandler)\n/* harmony export */ });\n/* harmony import */ var _helper_MoveHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helper/MoveHelper */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/helper/MoveHelper.js\");\n\n\n/**\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * A handler that implements reversible moving of shapes.\n *\n * @param {Modeling} modeling\n */\nfunction MoveElementsHandler(modeling) {\n  this._helper = new _helper_MoveHelper__WEBPACK_IMPORTED_MODULE_0__[\"default\"](modeling);\n}\n\nMoveElementsHandler.$inject = [ 'modeling' ];\n\nMoveElementsHandler.prototype.preExecute = function(context) {\n  context.closure = this._helper.getClosure(context.shapes);\n};\n\nMoveElementsHandler.prototype.postExecute = function(context) {\n\n  var hints = context.hints,\n      primaryShape;\n\n  if (hints && hints.primaryShape) {\n    primaryShape = hints.primaryShape;\n    hints.oldParent = primaryShape.parent;\n  }\n\n  this._helper.moveClosure(\n    context.closure,\n    context.delta,\n    context.newParent,\n    context.newHost,\n    primaryShape\n  );\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL01vdmVFbGVtZW50c0hhbmRsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNkM7O0FBRTdDO0FBQ0EsYUFBYSwrQkFBK0I7QUFDNUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ2U7QUFDZixxQkFBcUIsMERBQVU7QUFDL0I7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvTW92ZUVsZW1lbnRzSGFuZGxlci5qcz9kZDY4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBNb3ZlSGVscGVyIGZyb20gJy4vaGVscGVyL01vdmVIZWxwZXInO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL01vZGVsaW5nJykuZGVmYXVsdH0gTW9kZWxpbmdcbiAqL1xuXG4vKipcbiAqIEEgaGFuZGxlciB0aGF0IGltcGxlbWVudHMgcmV2ZXJzaWJsZSBtb3Zpbmcgb2Ygc2hhcGVzLlxuICpcbiAqIEBwYXJhbSB7TW9kZWxpbmd9IG1vZGVsaW5nXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1vdmVFbGVtZW50c0hhbmRsZXIobW9kZWxpbmcpIHtcbiAgdGhpcy5faGVscGVyID0gbmV3IE1vdmVIZWxwZXIobW9kZWxpbmcpO1xufVxuXG5Nb3ZlRWxlbWVudHNIYW5kbGVyLiRpbmplY3QgPSBbICdtb2RlbGluZycgXTtcblxuTW92ZUVsZW1lbnRzSGFuZGxlci5wcm90b3R5cGUucHJlRXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgY29udGV4dC5jbG9zdXJlID0gdGhpcy5faGVscGVyLmdldENsb3N1cmUoY29udGV4dC5zaGFwZXMpO1xufTtcblxuTW92ZUVsZW1lbnRzSGFuZGxlci5wcm90b3R5cGUucG9zdEV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIGhpbnRzID0gY29udGV4dC5oaW50cyxcbiAgICAgIHByaW1hcnlTaGFwZTtcblxuICBpZiAoaGludHMgJiYgaGludHMucHJpbWFyeVNoYXBlKSB7XG4gICAgcHJpbWFyeVNoYXBlID0gaGludHMucHJpbWFyeVNoYXBlO1xuICAgIGhpbnRzLm9sZFBhcmVudCA9IHByaW1hcnlTaGFwZS5wYXJlbnQ7XG4gIH1cblxuICB0aGlzLl9oZWxwZXIubW92ZUNsb3N1cmUoXG4gICAgY29udGV4dC5jbG9zdXJlLFxuICAgIGNvbnRleHQuZGVsdGEsXG4gICAgY29udGV4dC5uZXdQYXJlbnQsXG4gICAgY29udGV4dC5uZXdIb3N0LFxuICAgIHByaW1hcnlTaGFwZVxuICApO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/MoveElementsHandler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/MoveShapeHandler.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/modeling/cmd/MoveShapeHandler.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MoveShapeHandler)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _helper_MoveHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helper/MoveHelper */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/helper/MoveHelper.js\");\n/* harmony import */ var _util_Collections__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../util/Collections */ \"(ssr)/./node_modules/diagram-js/lib/util/Collections.js\");\n/* harmony import */ var _helper_AnchorsHelper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./helper/AnchorsHelper */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/helper/AnchorsHelper.js\");\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * A handler that implements reversible moving of shapes.\n *\n * @param {Modeling} modeling\n */\nfunction MoveShapeHandler(modeling) {\n  this._modeling = modeling;\n\n  this._helper = new _helper_MoveHelper__WEBPACK_IMPORTED_MODULE_0__[\"default\"](modeling);\n}\n\nMoveShapeHandler.$inject = [ 'modeling' ];\n\n\nMoveShapeHandler.prototype.execute = function(context) {\n\n  var shape = context.shape,\n      delta = context.delta,\n      newParent = context.newParent || shape.parent,\n      newParentIndex = context.newParentIndex,\n      oldParent = shape.parent;\n\n  context.oldBounds = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.pick)(shape, [ 'x', 'y', 'width', 'height' ]);\n\n  // save old parent in context\n  context.oldParent = oldParent;\n  context.oldParentIndex = (0,_util_Collections__WEBPACK_IMPORTED_MODULE_2__.remove)(oldParent.children, shape);\n\n  // add to new parent at position\n  (0,_util_Collections__WEBPACK_IMPORTED_MODULE_2__.add)(newParent.children, shape, newParentIndex);\n\n  // update shape parent + position\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(shape, {\n    parent: newParent,\n    x: shape.x + delta.x,\n    y: shape.y + delta.y\n  });\n\n  return shape;\n};\n\nMoveShapeHandler.prototype.postExecute = function(context) {\n\n  var shape = context.shape,\n      delta = context.delta,\n      hints = context.hints;\n\n  var modeling = this._modeling;\n\n  if (hints.layout !== false) {\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(shape.incoming, function(c) {\n      modeling.layoutConnection(c, {\n        connectionEnd: (0,_helper_AnchorsHelper__WEBPACK_IMPORTED_MODULE_3__.getMovedTargetAnchor)(c, shape, delta)\n      });\n    });\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(shape.outgoing, function(c) {\n      modeling.layoutConnection(c, {\n        connectionStart: (0,_helper_AnchorsHelper__WEBPACK_IMPORTED_MODULE_3__.getMovedSourceAnchor)(c, shape, delta)\n      });\n    });\n  }\n\n  if (hints.recurse !== false) {\n    this.moveChildren(context);\n  }\n};\n\nMoveShapeHandler.prototype.revert = function(context) {\n\n  var shape = context.shape,\n      oldParent = context.oldParent,\n      oldParentIndex = context.oldParentIndex,\n      delta = context.delta;\n\n  // restore previous location in old parent\n  (0,_util_Collections__WEBPACK_IMPORTED_MODULE_2__.add)(oldParent.children, shape, oldParentIndex);\n\n  // revert to old position and parent\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(shape, {\n    parent: oldParent,\n    x: shape.x - delta.x,\n    y: shape.y - delta.y\n  });\n\n  return shape;\n};\n\nMoveShapeHandler.prototype.moveChildren = function(context) {\n\n  var delta = context.delta,\n      shape = context.shape;\n\n  this._helper.moveRecursive(shape.children, delta, null);\n};\n\nMoveShapeHandler.prototype.getNewParent = function(context) {\n  return context.newParent || context.shape.parent;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL01vdmVTaGFwZUhhbmRsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFJa0I7O0FBRTJCOztBQUtWOztBQUtIOztBQUVoQztBQUNBLGFBQWEsK0JBQStCO0FBQzVDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNlO0FBQ2Y7O0FBRUEscUJBQXFCLDBEQUFVO0FBQy9COztBQUVBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNCQUFzQiw4Q0FBSTs7QUFFMUI7QUFDQTtBQUNBLDJCQUEyQix5REFBZ0I7O0FBRTNDO0FBQ0EsRUFBRSxzREFBYTs7QUFFZjtBQUNBLEVBQUUsZ0RBQU07QUFDUjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLElBQUksaURBQU87QUFDWDtBQUNBLHVCQUF1QiwyRUFBb0I7QUFDM0MsT0FBTztBQUNQLEtBQUs7O0FBRUwsSUFBSSxpREFBTztBQUNYO0FBQ0EseUJBQXlCLDJFQUFvQjtBQUM3QyxPQUFPO0FBQ1AsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRSxzREFBYTs7QUFFZjtBQUNBLEVBQUUsZ0RBQU07QUFDUjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvTW92ZVNoYXBlSGFuZGxlci5qcz8xMzUyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGFzc2lnbixcbiAgZm9yRWFjaCxcbiAgcGlja1xufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCBNb3ZlSGVscGVyIGZyb20gJy4vaGVscGVyL01vdmVIZWxwZXInO1xuXG5pbXBvcnQge1xuICBhZGQgYXMgY29sbGVjdGlvbkFkZCxcbiAgcmVtb3ZlIGFzIGNvbGxlY3Rpb25SZW1vdmVcbn0gZnJvbSAnLi4vLi4vLi4vdXRpbC9Db2xsZWN0aW9ucyc7XG5cbmltcG9ydCB7XG4gIGdldE1vdmVkU291cmNlQW5jaG9yLFxuICBnZXRNb3ZlZFRhcmdldEFuY2hvclxufSBmcm9tICcuL2hlbHBlci9BbmNob3JzSGVscGVyJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9Nb2RlbGluZycpLmRlZmF1bHR9IE1vZGVsaW5nXG4gKi9cblxuLyoqXG4gKiBBIGhhbmRsZXIgdGhhdCBpbXBsZW1lbnRzIHJldmVyc2libGUgbW92aW5nIG9mIHNoYXBlcy5cbiAqXG4gKiBAcGFyYW0ge01vZGVsaW5nfSBtb2RlbGluZ1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNb3ZlU2hhcGVIYW5kbGVyKG1vZGVsaW5nKSB7XG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG5cbiAgdGhpcy5faGVscGVyID0gbmV3IE1vdmVIZWxwZXIobW9kZWxpbmcpO1xufVxuXG5Nb3ZlU2hhcGVIYW5kbGVyLiRpbmplY3QgPSBbICdtb2RlbGluZycgXTtcblxuXG5Nb3ZlU2hhcGVIYW5kbGVyLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXG4gICAgICBkZWx0YSA9IGNvbnRleHQuZGVsdGEsXG4gICAgICBuZXdQYXJlbnQgPSBjb250ZXh0Lm5ld1BhcmVudCB8fCBzaGFwZS5wYXJlbnQsXG4gICAgICBuZXdQYXJlbnRJbmRleCA9IGNvbnRleHQubmV3UGFyZW50SW5kZXgsXG4gICAgICBvbGRQYXJlbnQgPSBzaGFwZS5wYXJlbnQ7XG5cbiAgY29udGV4dC5vbGRCb3VuZHMgPSBwaWNrKHNoYXBlLCBbICd4JywgJ3knLCAnd2lkdGgnLCAnaGVpZ2h0JyBdKTtcblxuICAvLyBzYXZlIG9sZCBwYXJlbnQgaW4gY29udGV4dFxuICBjb250ZXh0Lm9sZFBhcmVudCA9IG9sZFBhcmVudDtcbiAgY29udGV4dC5vbGRQYXJlbnRJbmRleCA9IGNvbGxlY3Rpb25SZW1vdmUob2xkUGFyZW50LmNoaWxkcmVuLCBzaGFwZSk7XG5cbiAgLy8gYWRkIHRvIG5ldyBwYXJlbnQgYXQgcG9zaXRpb25cbiAgY29sbGVjdGlvbkFkZChuZXdQYXJlbnQuY2hpbGRyZW4sIHNoYXBlLCBuZXdQYXJlbnRJbmRleCk7XG5cbiAgLy8gdXBkYXRlIHNoYXBlIHBhcmVudCArIHBvc2l0aW9uXG4gIGFzc2lnbihzaGFwZSwge1xuICAgIHBhcmVudDogbmV3UGFyZW50LFxuICAgIHg6IHNoYXBlLnggKyBkZWx0YS54LFxuICAgIHk6IHNoYXBlLnkgKyBkZWx0YS55XG4gIH0pO1xuXG4gIHJldHVybiBzaGFwZTtcbn07XG5cbk1vdmVTaGFwZUhhbmRsZXIucHJvdG90eXBlLnBvc3RFeGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXG4gICAgICBkZWx0YSA9IGNvbnRleHQuZGVsdGEsXG4gICAgICBoaW50cyA9IGNvbnRleHQuaGludHM7XG5cbiAgdmFyIG1vZGVsaW5nID0gdGhpcy5fbW9kZWxpbmc7XG5cbiAgaWYgKGhpbnRzLmxheW91dCAhPT0gZmFsc2UpIHtcblxuICAgIGZvckVhY2goc2hhcGUuaW5jb21pbmcsIGZ1bmN0aW9uKGMpIHtcbiAgICAgIG1vZGVsaW5nLmxheW91dENvbm5lY3Rpb24oYywge1xuICAgICAgICBjb25uZWN0aW9uRW5kOiBnZXRNb3ZlZFRhcmdldEFuY2hvcihjLCBzaGFwZSwgZGVsdGEpXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGZvckVhY2goc2hhcGUub3V0Z29pbmcsIGZ1bmN0aW9uKGMpIHtcbiAgICAgIG1vZGVsaW5nLmxheW91dENvbm5lY3Rpb24oYywge1xuICAgICAgICBjb25uZWN0aW9uU3RhcnQ6IGdldE1vdmVkU291cmNlQW5jaG9yKGMsIHNoYXBlLCBkZWx0YSlcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGhpbnRzLnJlY3Vyc2UgIT09IGZhbHNlKSB7XG4gICAgdGhpcy5tb3ZlQ2hpbGRyZW4oY29udGV4dCk7XG4gIH1cbn07XG5cbk1vdmVTaGFwZUhhbmRsZXIucHJvdG90eXBlLnJldmVydCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICB2YXIgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgb2xkUGFyZW50ID0gY29udGV4dC5vbGRQYXJlbnQsXG4gICAgICBvbGRQYXJlbnRJbmRleCA9IGNvbnRleHQub2xkUGFyZW50SW5kZXgsXG4gICAgICBkZWx0YSA9IGNvbnRleHQuZGVsdGE7XG5cbiAgLy8gcmVzdG9yZSBwcmV2aW91cyBsb2NhdGlvbiBpbiBvbGQgcGFyZW50XG4gIGNvbGxlY3Rpb25BZGQob2xkUGFyZW50LmNoaWxkcmVuLCBzaGFwZSwgb2xkUGFyZW50SW5kZXgpO1xuXG4gIC8vIHJldmVydCB0byBvbGQgcG9zaXRpb24gYW5kIHBhcmVudFxuICBhc3NpZ24oc2hhcGUsIHtcbiAgICBwYXJlbnQ6IG9sZFBhcmVudCxcbiAgICB4OiBzaGFwZS54IC0gZGVsdGEueCxcbiAgICB5OiBzaGFwZS55IC0gZGVsdGEueVxuICB9KTtcblxuICByZXR1cm4gc2hhcGU7XG59O1xuXG5Nb3ZlU2hhcGVIYW5kbGVyLnByb3RvdHlwZS5tb3ZlQ2hpbGRyZW4gPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIGRlbHRhID0gY29udGV4dC5kZWx0YSxcbiAgICAgIHNoYXBlID0gY29udGV4dC5zaGFwZTtcblxuICB0aGlzLl9oZWxwZXIubW92ZVJlY3Vyc2l2ZShzaGFwZS5jaGlsZHJlbiwgZGVsdGEsIG51bGwpO1xufTtcblxuTW92ZVNoYXBlSGFuZGxlci5wcm90b3R5cGUuZ2V0TmV3UGFyZW50ID0gZnVuY3Rpb24oY29udGV4dCkge1xuICByZXR1cm4gY29udGV4dC5uZXdQYXJlbnQgfHwgY29udGV4dC5zaGFwZS5wYXJlbnQ7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/MoveShapeHandler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/ReconnectConnectionHandler.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/modeling/cmd/ReconnectConnectionHandler.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ReconnectConnectionHandler)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * Reconnect connection handler.\n *\n * @param {Modeling} modeling\n */\nfunction ReconnectConnectionHandler(modeling) {\n  this._modeling = modeling;\n}\n\nReconnectConnectionHandler.$inject = [ 'modeling' ];\n\nReconnectConnectionHandler.prototype.execute = function(context) {\n  var newSource = context.newSource,\n      newTarget = context.newTarget,\n      connection = context.connection,\n      dockingOrPoints = context.dockingOrPoints;\n\n  if (!newSource && !newTarget) {\n    throw new Error('newSource or newTarget required');\n  }\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(dockingOrPoints)) {\n    context.oldWaypoints = connection.waypoints;\n    connection.waypoints = dockingOrPoints;\n  }\n\n  if (newSource) {\n    context.oldSource = connection.source;\n    connection.source = newSource;\n  }\n\n  if (newTarget) {\n    context.oldTarget = connection.target;\n    connection.target = newTarget;\n  }\n\n  return connection;\n};\n\nReconnectConnectionHandler.prototype.postExecute = function(context) {\n  var connection = context.connection,\n      newSource = context.newSource,\n      newTarget = context.newTarget,\n      dockingOrPoints = context.dockingOrPoints,\n      hints = context.hints || {};\n\n  var layoutConnectionHints = {};\n\n  if (hints.connectionStart) {\n    layoutConnectionHints.connectionStart = hints.connectionStart;\n  }\n\n  if (hints.connectionEnd) {\n    layoutConnectionHints.connectionEnd = hints.connectionEnd;\n  }\n\n  if (hints.layoutConnection === false) {\n    return;\n  }\n\n  if (newSource && (!newTarget || hints.docking === 'source')) {\n    layoutConnectionHints.connectionStart = layoutConnectionHints.connectionStart\n      || getDocking((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(dockingOrPoints) ? dockingOrPoints[ 0 ] : dockingOrPoints);\n  }\n\n  if (newTarget && (!newSource || hints.docking === 'target')) {\n    layoutConnectionHints.connectionEnd = layoutConnectionHints.connectionEnd\n      || getDocking((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(dockingOrPoints) ? dockingOrPoints[ dockingOrPoints.length - 1 ] : dockingOrPoints);\n  }\n\n  if (hints.newWaypoints) {\n    layoutConnectionHints.waypoints = hints.newWaypoints;\n  }\n\n  this._modeling.layoutConnection(connection, layoutConnectionHints);\n};\n\nReconnectConnectionHandler.prototype.revert = function(context) {\n  var oldSource = context.oldSource,\n      oldTarget = context.oldTarget,\n      oldWaypoints = context.oldWaypoints,\n      connection = context.connection;\n\n  if (oldSource) {\n    connection.source = oldSource;\n  }\n\n  if (oldTarget) {\n    connection.target = oldTarget;\n  }\n\n  if (oldWaypoints) {\n    connection.waypoints = oldWaypoints;\n  }\n\n  return connection;\n};\n\n\n\n// helpers //////////\n\nfunction getDocking(point) {\n  return point.original || point;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL1JlY29ubmVjdENvbm5lY3Rpb25IYW5kbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQW1DOztBQUVuQztBQUNBLGFBQWEsK0JBQStCO0FBQzVDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNlO0FBQ2Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNLGlEQUFPO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0IsaURBQU87QUFDM0I7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQixpREFBTztBQUMzQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7Ozs7QUFJQTs7QUFFQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL1JlY29ubmVjdENvbm5lY3Rpb25IYW5kbGVyLmpzPzEzNTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJ21pbi1kYXNoJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9Nb2RlbGluZycpLmRlZmF1bHR9IE1vZGVsaW5nXG4gKi9cblxuLyoqXG4gKiBSZWNvbm5lY3QgY29ubmVjdGlvbiBoYW5kbGVyLlxuICpcbiAqIEBwYXJhbSB7TW9kZWxpbmd9IG1vZGVsaW5nXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJlY29ubmVjdENvbm5lY3Rpb25IYW5kbGVyKG1vZGVsaW5nKSB7XG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG59XG5cblJlY29ubmVjdENvbm5lY3Rpb25IYW5kbGVyLiRpbmplY3QgPSBbICdtb2RlbGluZycgXTtcblxuUmVjb25uZWN0Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHZhciBuZXdTb3VyY2UgPSBjb250ZXh0Lm5ld1NvdXJjZSxcbiAgICAgIG5ld1RhcmdldCA9IGNvbnRleHQubmV3VGFyZ2V0LFxuICAgICAgY29ubmVjdGlvbiA9IGNvbnRleHQuY29ubmVjdGlvbixcbiAgICAgIGRvY2tpbmdPclBvaW50cyA9IGNvbnRleHQuZG9ja2luZ09yUG9pbnRzO1xuXG4gIGlmICghbmV3U291cmNlICYmICFuZXdUYXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ25ld1NvdXJjZSBvciBuZXdUYXJnZXQgcmVxdWlyZWQnKTtcbiAgfVxuXG4gIGlmIChpc0FycmF5KGRvY2tpbmdPclBvaW50cykpIHtcbiAgICBjb250ZXh0Lm9sZFdheXBvaW50cyA9IGNvbm5lY3Rpb24ud2F5cG9pbnRzO1xuICAgIGNvbm5lY3Rpb24ud2F5cG9pbnRzID0gZG9ja2luZ09yUG9pbnRzO1xuICB9XG5cbiAgaWYgKG5ld1NvdXJjZSkge1xuICAgIGNvbnRleHQub2xkU291cmNlID0gY29ubmVjdGlvbi5zb3VyY2U7XG4gICAgY29ubmVjdGlvbi5zb3VyY2UgPSBuZXdTb3VyY2U7XG4gIH1cblxuICBpZiAobmV3VGFyZ2V0KSB7XG4gICAgY29udGV4dC5vbGRUYXJnZXQgPSBjb25uZWN0aW9uLnRhcmdldDtcbiAgICBjb25uZWN0aW9uLnRhcmdldCA9IG5ld1RhcmdldDtcbiAgfVxuXG4gIHJldHVybiBjb25uZWN0aW9uO1xufTtcblxuUmVjb25uZWN0Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnBvc3RFeGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuICB2YXIgY29ubmVjdGlvbiA9IGNvbnRleHQuY29ubmVjdGlvbixcbiAgICAgIG5ld1NvdXJjZSA9IGNvbnRleHQubmV3U291cmNlLFxuICAgICAgbmV3VGFyZ2V0ID0gY29udGV4dC5uZXdUYXJnZXQsXG4gICAgICBkb2NraW5nT3JQb2ludHMgPSBjb250ZXh0LmRvY2tpbmdPclBvaW50cyxcbiAgICAgIGhpbnRzID0gY29udGV4dC5oaW50cyB8fCB7fTtcblxuICB2YXIgbGF5b3V0Q29ubmVjdGlvbkhpbnRzID0ge307XG5cbiAgaWYgKGhpbnRzLmNvbm5lY3Rpb25TdGFydCkge1xuICAgIGxheW91dENvbm5lY3Rpb25IaW50cy5jb25uZWN0aW9uU3RhcnQgPSBoaW50cy5jb25uZWN0aW9uU3RhcnQ7XG4gIH1cblxuICBpZiAoaGludHMuY29ubmVjdGlvbkVuZCkge1xuICAgIGxheW91dENvbm5lY3Rpb25IaW50cy5jb25uZWN0aW9uRW5kID0gaGludHMuY29ubmVjdGlvbkVuZDtcbiAgfVxuXG4gIGlmIChoaW50cy5sYXlvdXRDb25uZWN0aW9uID09PSBmYWxzZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChuZXdTb3VyY2UgJiYgKCFuZXdUYXJnZXQgfHwgaGludHMuZG9ja2luZyA9PT0gJ3NvdXJjZScpKSB7XG4gICAgbGF5b3V0Q29ubmVjdGlvbkhpbnRzLmNvbm5lY3Rpb25TdGFydCA9IGxheW91dENvbm5lY3Rpb25IaW50cy5jb25uZWN0aW9uU3RhcnRcbiAgICAgIHx8IGdldERvY2tpbmcoaXNBcnJheShkb2NraW5nT3JQb2ludHMpID8gZG9ja2luZ09yUG9pbnRzWyAwIF0gOiBkb2NraW5nT3JQb2ludHMpO1xuICB9XG5cbiAgaWYgKG5ld1RhcmdldCAmJiAoIW5ld1NvdXJjZSB8fCBoaW50cy5kb2NraW5nID09PSAndGFyZ2V0JykpIHtcbiAgICBsYXlvdXRDb25uZWN0aW9uSGludHMuY29ubmVjdGlvbkVuZCA9IGxheW91dENvbm5lY3Rpb25IaW50cy5jb25uZWN0aW9uRW5kXG4gICAgICB8fCBnZXREb2NraW5nKGlzQXJyYXkoZG9ja2luZ09yUG9pbnRzKSA/IGRvY2tpbmdPclBvaW50c1sgZG9ja2luZ09yUG9pbnRzLmxlbmd0aCAtIDEgXSA6IGRvY2tpbmdPclBvaW50cyk7XG4gIH1cblxuICBpZiAoaGludHMubmV3V2F5cG9pbnRzKSB7XG4gICAgbGF5b3V0Q29ubmVjdGlvbkhpbnRzLndheXBvaW50cyA9IGhpbnRzLm5ld1dheXBvaW50cztcbiAgfVxuXG4gIHRoaXMuX21vZGVsaW5nLmxheW91dENvbm5lY3Rpb24oY29ubmVjdGlvbiwgbGF5b3V0Q29ubmVjdGlvbkhpbnRzKTtcbn07XG5cblJlY29ubmVjdENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5yZXZlcnQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHZhciBvbGRTb3VyY2UgPSBjb250ZXh0Lm9sZFNvdXJjZSxcbiAgICAgIG9sZFRhcmdldCA9IGNvbnRleHQub2xkVGFyZ2V0LFxuICAgICAgb2xkV2F5cG9pbnRzID0gY29udGV4dC5vbGRXYXlwb2ludHMsXG4gICAgICBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uO1xuXG4gIGlmIChvbGRTb3VyY2UpIHtcbiAgICBjb25uZWN0aW9uLnNvdXJjZSA9IG9sZFNvdXJjZTtcbiAgfVxuXG4gIGlmIChvbGRUYXJnZXQpIHtcbiAgICBjb25uZWN0aW9uLnRhcmdldCA9IG9sZFRhcmdldDtcbiAgfVxuXG4gIGlmIChvbGRXYXlwb2ludHMpIHtcbiAgICBjb25uZWN0aW9uLndheXBvaW50cyA9IG9sZFdheXBvaW50cztcbiAgfVxuXG4gIHJldHVybiBjb25uZWN0aW9uO1xufTtcblxuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBnZXREb2NraW5nKHBvaW50KSB7XG4gIHJldHVybiBwb2ludC5vcmlnaW5hbCB8fCBwb2ludDtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/ReconnectConnectionHandler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/ReplaceShapeHandler.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/modeling/cmd/ReplaceShapeHandler.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ReplaceShapeHandler)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _helper_AnchorsHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helper/AnchorsHelper */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/helper/AnchorsHelper.js\");\n\n\n\n\n/**\n * @typedef {import('../../model/Types').Shape} Shape\n *\n * @typedef {import('../Modeling').default} Modeling\n * @typedef {import('../../rules/Rules').default} Rules\n */\n\n/**\n * Replace shape by adding new shape and removing old shape. Incoming and outgoing connections will\n * be kept if possible.\n *\n * @class\n * @constructor\n *\n * @param {Modeling} modeling\n * @param {Rules} rules\n */\nfunction ReplaceShapeHandler(modeling, rules) {\n  this._modeling = modeling;\n  this._rules = rules;\n}\n\nReplaceShapeHandler.$inject = [ 'modeling', 'rules' ];\n\n\n/**\n * Add new shape.\n *\n * @param {Object} context\n * @param {Shape} context.oldShape\n * @param {Object} context.newData\n * @param {string} context.newData.type\n * @param {number} context.newData.x\n * @param {number} context.newData.y\n * @param {Object} [context.hints]\n */\nReplaceShapeHandler.prototype.preExecute = function(context) {\n  var self = this,\n      modeling = this._modeling,\n      rules = this._rules;\n\n  var oldShape = context.oldShape,\n      newData = context.newData,\n      hints = context.hints || {},\n      newShape;\n\n  function canReconnect(source, target, connection) {\n    return rules.allowed('connection.reconnect', {\n      connection: connection,\n      source: source,\n      target: target\n    });\n  }\n\n  // (1) add new shape at given position\n  var position = {\n    x: newData.x,\n    y: newData.y\n  };\n\n  var oldBounds = {\n    x: oldShape.x,\n    y: oldShape.y,\n    width: oldShape.width,\n    height: oldShape.height\n  };\n\n  newShape = context.newShape =\n    context.newShape ||\n    self.createShape(newData, position, oldShape.parent, hints);\n\n  // (2) update host\n  if (oldShape.host) {\n    modeling.updateAttachment(newShape, oldShape.host);\n  }\n\n  // (3) adopt all children from old shape\n  var children;\n\n  if (hints.moveChildren !== false) {\n    children = oldShape.children.slice();\n\n    modeling.moveElements(children, { x: 0, y: 0 }, newShape, hints);\n  }\n\n  // (4) reconnect connections to new shape if possible\n  var incoming = oldShape.incoming.slice(),\n      outgoing = oldShape.outgoing.slice();\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(incoming, function(connection) {\n    var source = connection.source,\n        allowed = canReconnect(source, newShape, connection);\n\n    if (allowed) {\n      self.reconnectEnd(\n        connection, newShape,\n        (0,_helper_AnchorsHelper__WEBPACK_IMPORTED_MODULE_1__.getResizedTargetAnchor)(connection, newShape, oldBounds),\n        hints\n      );\n    }\n  });\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(outgoing, function(connection) {\n    var target = connection.target,\n        allowed = canReconnect(newShape, target, connection);\n\n    if (allowed) {\n      self.reconnectStart(\n        connection, newShape,\n        (0,_helper_AnchorsHelper__WEBPACK_IMPORTED_MODULE_1__.getResizedSourceAnchor)(connection, newShape, oldBounds),\n        hints\n      );\n    }\n  });\n};\n\n\n/**\n * Remove old shape.\n */\nReplaceShapeHandler.prototype.postExecute = function(context) {\n  var oldShape = context.oldShape;\n\n  this._modeling.removeShape(oldShape);\n};\n\n\nReplaceShapeHandler.prototype.execute = function(context) {};\n\n\nReplaceShapeHandler.prototype.revert = function(context) {};\n\n\nReplaceShapeHandler.prototype.createShape = function(shape, position, target, hints) {\n  return this._modeling.createShape(shape, position, target, hints);\n};\n\n\nReplaceShapeHandler.prototype.reconnectStart = function(connection, newSource, dockingPoint, hints) {\n  this._modeling.reconnectStart(connection, newSource, dockingPoint, hints);\n};\n\n\nReplaceShapeHandler.prototype.reconnectEnd = function(connection, newTarget, dockingPoint, hints) {\n  this._modeling.reconnectEnd(connection, newTarget, dockingPoint, hints);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL1JlcGxhY2VTaGFwZUhhbmRsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW1DOztBQUtIOztBQUVoQztBQUNBLGFBQWEsbUNBQW1DO0FBQ2hEO0FBQ0EsYUFBYSwrQkFBK0I7QUFDNUMsYUFBYSxxQ0FBcUM7QUFDbEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxPQUFPO0FBQ2xCO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLE9BQU87QUFDbEIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHNDQUFzQyxZQUFZO0FBQ2xEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFLGlEQUFPO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDZFQUFzQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVILEVBQUUsaURBQU87QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNkVBQXNCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTs7O0FBR0E7OztBQUdBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL1JlcGxhY2VTaGFwZUhhbmRsZXIuanM/YzA4NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmb3JFYWNoIH0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBnZXRSZXNpemVkU291cmNlQW5jaG9yLFxuICBnZXRSZXNpemVkVGFyZ2V0QW5jaG9yXG59IGZyb20gJy4vaGVscGVyL0FuY2hvcnNIZWxwZXInO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL21vZGVsL1R5cGVzJykuU2hhcGV9IFNoYXBlXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vTW9kZWxpbmcnKS5kZWZhdWx0fSBNb2RlbGluZ1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vcnVsZXMvUnVsZXMnKS5kZWZhdWx0fSBSdWxlc1xuICovXG5cbi8qKlxuICogUmVwbGFjZSBzaGFwZSBieSBhZGRpbmcgbmV3IHNoYXBlIGFuZCByZW1vdmluZyBvbGQgc2hhcGUuIEluY29taW5nIGFuZCBvdXRnb2luZyBjb25uZWN0aW9ucyB3aWxsXG4gKiBiZSBrZXB0IGlmIHBvc3NpYmxlLlxuICpcbiAqIEBjbGFzc1xuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQHBhcmFtIHtNb2RlbGluZ30gbW9kZWxpbmdcbiAqIEBwYXJhbSB7UnVsZXN9IHJ1bGVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJlcGxhY2VTaGFwZUhhbmRsZXIobW9kZWxpbmcsIHJ1bGVzKSB7XG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG4gIHRoaXMuX3J1bGVzID0gcnVsZXM7XG59XG5cblJlcGxhY2VTaGFwZUhhbmRsZXIuJGluamVjdCA9IFsgJ21vZGVsaW5nJywgJ3J1bGVzJyBdO1xuXG5cbi8qKlxuICogQWRkIG5ldyBzaGFwZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHBhcmFtIHtTaGFwZX0gY29udGV4dC5vbGRTaGFwZVxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQubmV3RGF0YVxuICogQHBhcmFtIHtzdHJpbmd9IGNvbnRleHQubmV3RGF0YS50eXBlXG4gKiBAcGFyYW0ge251bWJlcn0gY29udGV4dC5uZXdEYXRhLnhcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb250ZXh0Lm5ld0RhdGEueVxuICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0LmhpbnRzXVxuICovXG5SZXBsYWNlU2hhcGVIYW5kbGVyLnByb3RvdHlwZS5wcmVFeGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICBtb2RlbGluZyA9IHRoaXMuX21vZGVsaW5nLFxuICAgICAgcnVsZXMgPSB0aGlzLl9ydWxlcztcblxuICB2YXIgb2xkU2hhcGUgPSBjb250ZXh0Lm9sZFNoYXBlLFxuICAgICAgbmV3RGF0YSA9IGNvbnRleHQubmV3RGF0YSxcbiAgICAgIGhpbnRzID0gY29udGV4dC5oaW50cyB8fCB7fSxcbiAgICAgIG5ld1NoYXBlO1xuXG4gIGZ1bmN0aW9uIGNhblJlY29ubmVjdChzb3VyY2UsIHRhcmdldCwgY29ubmVjdGlvbikge1xuICAgIHJldHVybiBydWxlcy5hbGxvd2VkKCdjb25uZWN0aW9uLnJlY29ubmVjdCcsIHtcbiAgICAgIGNvbm5lY3Rpb246IGNvbm5lY3Rpb24sXG4gICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgIHRhcmdldDogdGFyZ2V0XG4gICAgfSk7XG4gIH1cblxuICAvLyAoMSkgYWRkIG5ldyBzaGFwZSBhdCBnaXZlbiBwb3NpdGlvblxuICB2YXIgcG9zaXRpb24gPSB7XG4gICAgeDogbmV3RGF0YS54LFxuICAgIHk6IG5ld0RhdGEueVxuICB9O1xuXG4gIHZhciBvbGRCb3VuZHMgPSB7XG4gICAgeDogb2xkU2hhcGUueCxcbiAgICB5OiBvbGRTaGFwZS55LFxuICAgIHdpZHRoOiBvbGRTaGFwZS53aWR0aCxcbiAgICBoZWlnaHQ6IG9sZFNoYXBlLmhlaWdodFxuICB9O1xuXG4gIG5ld1NoYXBlID0gY29udGV4dC5uZXdTaGFwZSA9XG4gICAgY29udGV4dC5uZXdTaGFwZSB8fFxuICAgIHNlbGYuY3JlYXRlU2hhcGUobmV3RGF0YSwgcG9zaXRpb24sIG9sZFNoYXBlLnBhcmVudCwgaGludHMpO1xuXG4gIC8vICgyKSB1cGRhdGUgaG9zdFxuICBpZiAob2xkU2hhcGUuaG9zdCkge1xuICAgIG1vZGVsaW5nLnVwZGF0ZUF0dGFjaG1lbnQobmV3U2hhcGUsIG9sZFNoYXBlLmhvc3QpO1xuICB9XG5cbiAgLy8gKDMpIGFkb3B0IGFsbCBjaGlsZHJlbiBmcm9tIG9sZCBzaGFwZVxuICB2YXIgY2hpbGRyZW47XG5cbiAgaWYgKGhpbnRzLm1vdmVDaGlsZHJlbiAhPT0gZmFsc2UpIHtcbiAgICBjaGlsZHJlbiA9IG9sZFNoYXBlLmNoaWxkcmVuLnNsaWNlKCk7XG5cbiAgICBtb2RlbGluZy5tb3ZlRWxlbWVudHMoY2hpbGRyZW4sIHsgeDogMCwgeTogMCB9LCBuZXdTaGFwZSwgaGludHMpO1xuICB9XG5cbiAgLy8gKDQpIHJlY29ubmVjdCBjb25uZWN0aW9ucyB0byBuZXcgc2hhcGUgaWYgcG9zc2libGVcbiAgdmFyIGluY29taW5nID0gb2xkU2hhcGUuaW5jb21pbmcuc2xpY2UoKSxcbiAgICAgIG91dGdvaW5nID0gb2xkU2hhcGUub3V0Z29pbmcuc2xpY2UoKTtcblxuICBmb3JFYWNoKGluY29taW5nLCBmdW5jdGlvbihjb25uZWN0aW9uKSB7XG4gICAgdmFyIHNvdXJjZSA9IGNvbm5lY3Rpb24uc291cmNlLFxuICAgICAgICBhbGxvd2VkID0gY2FuUmVjb25uZWN0KHNvdXJjZSwgbmV3U2hhcGUsIGNvbm5lY3Rpb24pO1xuXG4gICAgaWYgKGFsbG93ZWQpIHtcbiAgICAgIHNlbGYucmVjb25uZWN0RW5kKFxuICAgICAgICBjb25uZWN0aW9uLCBuZXdTaGFwZSxcbiAgICAgICAgZ2V0UmVzaXplZFRhcmdldEFuY2hvcihjb25uZWN0aW9uLCBuZXdTaGFwZSwgb2xkQm91bmRzKSxcbiAgICAgICAgaGludHNcbiAgICAgICk7XG4gICAgfVxuICB9KTtcblxuICBmb3JFYWNoKG91dGdvaW5nLCBmdW5jdGlvbihjb25uZWN0aW9uKSB7XG4gICAgdmFyIHRhcmdldCA9IGNvbm5lY3Rpb24udGFyZ2V0LFxuICAgICAgICBhbGxvd2VkID0gY2FuUmVjb25uZWN0KG5ld1NoYXBlLCB0YXJnZXQsIGNvbm5lY3Rpb24pO1xuXG4gICAgaWYgKGFsbG93ZWQpIHtcbiAgICAgIHNlbGYucmVjb25uZWN0U3RhcnQoXG4gICAgICAgIGNvbm5lY3Rpb24sIG5ld1NoYXBlLFxuICAgICAgICBnZXRSZXNpemVkU291cmNlQW5jaG9yKGNvbm5lY3Rpb24sIG5ld1NoYXBlLCBvbGRCb3VuZHMpLFxuICAgICAgICBoaW50c1xuICAgICAgKTtcbiAgICB9XG4gIH0pO1xufTtcblxuXG4vKipcbiAqIFJlbW92ZSBvbGQgc2hhcGUuXG4gKi9cblJlcGxhY2VTaGFwZUhhbmRsZXIucHJvdG90eXBlLnBvc3RFeGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuICB2YXIgb2xkU2hhcGUgPSBjb250ZXh0Lm9sZFNoYXBlO1xuXG4gIHRoaXMuX21vZGVsaW5nLnJlbW92ZVNoYXBlKG9sZFNoYXBlKTtcbn07XG5cblxuUmVwbGFjZVNoYXBlSGFuZGxlci5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHt9O1xuXG5cblJlcGxhY2VTaGFwZUhhbmRsZXIucHJvdG90eXBlLnJldmVydCA9IGZ1bmN0aW9uKGNvbnRleHQpIHt9O1xuXG5cblJlcGxhY2VTaGFwZUhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZVNoYXBlID0gZnVuY3Rpb24oc2hhcGUsIHBvc2l0aW9uLCB0YXJnZXQsIGhpbnRzKSB7XG4gIHJldHVybiB0aGlzLl9tb2RlbGluZy5jcmVhdGVTaGFwZShzaGFwZSwgcG9zaXRpb24sIHRhcmdldCwgaGludHMpO1xufTtcblxuXG5SZXBsYWNlU2hhcGVIYW5kbGVyLnByb3RvdHlwZS5yZWNvbm5lY3RTdGFydCA9IGZ1bmN0aW9uKGNvbm5lY3Rpb24sIG5ld1NvdXJjZSwgZG9ja2luZ1BvaW50LCBoaW50cykge1xuICB0aGlzLl9tb2RlbGluZy5yZWNvbm5lY3RTdGFydChjb25uZWN0aW9uLCBuZXdTb3VyY2UsIGRvY2tpbmdQb2ludCwgaGludHMpO1xufTtcblxuXG5SZXBsYWNlU2hhcGVIYW5kbGVyLnByb3RvdHlwZS5yZWNvbm5lY3RFbmQgPSBmdW5jdGlvbihjb25uZWN0aW9uLCBuZXdUYXJnZXQsIGRvY2tpbmdQb2ludCwgaGludHMpIHtcbiAgdGhpcy5fbW9kZWxpbmcucmVjb25uZWN0RW5kKGNvbm5lY3Rpb24sIG5ld1RhcmdldCwgZG9ja2luZ1BvaW50LCBoaW50cyk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/ReplaceShapeHandler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/ResizeShapeHandler.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/modeling/cmd/ResizeShapeHandler.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ResizeShapeHandler)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _helper_AnchorsHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helper/AnchorsHelper */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/helper/AnchorsHelper.js\");\n\n\n\n\n/**\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * A handler that implements reversible resizing of shapes.\n *\n * @param {Modeling} modeling\n */\nfunction ResizeShapeHandler(modeling) {\n  this._modeling = modeling;\n}\n\nResizeShapeHandler.$inject = [ 'modeling' ];\n\n/**\n * {\n *   shape: {....}\n *   newBounds: {\n *     width:  20,\n *     height: 40,\n *     x:       5,\n *     y:      10\n *   }\n *\n * }\n */\nResizeShapeHandler.prototype.execute = function(context) {\n  var shape = context.shape,\n      newBounds = context.newBounds,\n      minBounds = context.minBounds;\n\n  if (newBounds.x === undefined || newBounds.y === undefined ||\n      newBounds.width === undefined || newBounds.height === undefined) {\n    throw new Error('newBounds must have {x, y, width, height} properties');\n  }\n\n  if (minBounds && (newBounds.width < minBounds.width\n    || newBounds.height < minBounds.height)) {\n    throw new Error('width and height cannot be less than minimum height and width');\n  } else if (!minBounds\n    && newBounds.width < 10 || newBounds.height < 10) {\n    throw new Error('width and height cannot be less than 10px');\n  }\n\n  // save old bbox in context\n  context.oldBounds = {\n    width:  shape.width,\n    height: shape.height,\n    x:      shape.x,\n    y:      shape.y\n  };\n\n  // update shape\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(shape, {\n    width:  newBounds.width,\n    height: newBounds.height,\n    x:      newBounds.x,\n    y:      newBounds.y\n  });\n\n  return shape;\n};\n\nResizeShapeHandler.prototype.postExecute = function(context) {\n  var modeling = this._modeling;\n\n  var shape = context.shape,\n      oldBounds = context.oldBounds,\n      hints = context.hints || {};\n\n  if (hints.layout === false) {\n    return;\n  }\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(shape.incoming, function(c) {\n    modeling.layoutConnection(c, {\n      connectionEnd: (0,_helper_AnchorsHelper__WEBPACK_IMPORTED_MODULE_1__.getResizedTargetAnchor)(c, shape, oldBounds)\n    });\n  });\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(shape.outgoing, function(c) {\n    modeling.layoutConnection(c, {\n      connectionStart: (0,_helper_AnchorsHelper__WEBPACK_IMPORTED_MODULE_1__.getResizedSourceAnchor)(c, shape, oldBounds)\n    });\n  });\n\n};\n\nResizeShapeHandler.prototype.revert = function(context) {\n\n  var shape = context.shape,\n      oldBounds = context.oldBounds;\n\n  // restore previous bbox\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(shape, {\n    width:  oldBounds.width,\n    height: oldBounds.height,\n    x:      oldBounds.x,\n    y:      oldBounds.y\n  });\n\n  return shape;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL1Jlc2l6ZVNoYXBlSGFuZGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFHa0I7O0FBS2M7O0FBRWhDO0FBQ0EsYUFBYSwrQkFBK0I7QUFDNUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ2U7QUFDZjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDBDQUEwQyxxQkFBcUI7QUFDL0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUUsZ0RBQU07QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRSxpREFBTztBQUNUO0FBQ0EscUJBQXFCLDZFQUFzQjtBQUMzQyxLQUFLO0FBQ0wsR0FBRzs7QUFFSCxFQUFFLGlEQUFPO0FBQ1Q7QUFDQSx1QkFBdUIsNkVBQXNCO0FBQzdDLEtBQUs7QUFDTCxHQUFHOztBQUVIOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFLGdEQUFNO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL1Jlc2l6ZVNoYXBlSGFuZGxlci5qcz9iZWU2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGFzc2lnbixcbiAgZm9yRWFjaFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGdldFJlc2l6ZWRTb3VyY2VBbmNob3IsXG4gIGdldFJlc2l6ZWRUYXJnZXRBbmNob3Jcbn0gZnJvbSAnLi9oZWxwZXIvQW5jaG9yc0hlbHBlcic7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vTW9kZWxpbmcnKS5kZWZhdWx0fSBNb2RlbGluZ1xuICovXG5cbi8qKlxuICogQSBoYW5kbGVyIHRoYXQgaW1wbGVtZW50cyByZXZlcnNpYmxlIHJlc2l6aW5nIG9mIHNoYXBlcy5cbiAqXG4gKiBAcGFyYW0ge01vZGVsaW5nfSBtb2RlbGluZ1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSZXNpemVTaGFwZUhhbmRsZXIobW9kZWxpbmcpIHtcbiAgdGhpcy5fbW9kZWxpbmcgPSBtb2RlbGluZztcbn1cblxuUmVzaXplU2hhcGVIYW5kbGVyLiRpbmplY3QgPSBbICdtb2RlbGluZycgXTtcblxuLyoqXG4gKiB7XG4gKiAgIHNoYXBlOiB7Li4uLn1cbiAqICAgbmV3Qm91bmRzOiB7XG4gKiAgICAgd2lkdGg6ICAyMCxcbiAqICAgICBoZWlnaHQ6IDQwLFxuICogICAgIHg6ICAgICAgIDUsXG4gKiAgICAgeTogICAgICAxMFxuICogICB9XG4gKlxuICogfVxuICovXG5SZXNpemVTaGFwZUhhbmRsZXIucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHZhciBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXG4gICAgICBuZXdCb3VuZHMgPSBjb250ZXh0Lm5ld0JvdW5kcyxcbiAgICAgIG1pbkJvdW5kcyA9IGNvbnRleHQubWluQm91bmRzO1xuXG4gIGlmIChuZXdCb3VuZHMueCA9PT0gdW5kZWZpbmVkIHx8IG5ld0JvdW5kcy55ID09PSB1bmRlZmluZWQgfHxcbiAgICAgIG5ld0JvdW5kcy53aWR0aCA9PT0gdW5kZWZpbmVkIHx8IG5ld0JvdW5kcy5oZWlnaHQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbmV3Qm91bmRzIG11c3QgaGF2ZSB7eCwgeSwgd2lkdGgsIGhlaWdodH0gcHJvcGVydGllcycpO1xuICB9XG5cbiAgaWYgKG1pbkJvdW5kcyAmJiAobmV3Qm91bmRzLndpZHRoIDwgbWluQm91bmRzLndpZHRoXG4gICAgfHwgbmV3Qm91bmRzLmhlaWdodCA8IG1pbkJvdW5kcy5oZWlnaHQpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd3aWR0aCBhbmQgaGVpZ2h0IGNhbm5vdCBiZSBsZXNzIHRoYW4gbWluaW11bSBoZWlnaHQgYW5kIHdpZHRoJyk7XG4gIH0gZWxzZSBpZiAoIW1pbkJvdW5kc1xuICAgICYmIG5ld0JvdW5kcy53aWR0aCA8IDEwIHx8IG5ld0JvdW5kcy5oZWlnaHQgPCAxMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignd2lkdGggYW5kIGhlaWdodCBjYW5ub3QgYmUgbGVzcyB0aGFuIDEwcHgnKTtcbiAgfVxuXG4gIC8vIHNhdmUgb2xkIGJib3ggaW4gY29udGV4dFxuICBjb250ZXh0Lm9sZEJvdW5kcyA9IHtcbiAgICB3aWR0aDogIHNoYXBlLndpZHRoLFxuICAgIGhlaWdodDogc2hhcGUuaGVpZ2h0LFxuICAgIHg6ICAgICAgc2hhcGUueCxcbiAgICB5OiAgICAgIHNoYXBlLnlcbiAgfTtcblxuICAvLyB1cGRhdGUgc2hhcGVcbiAgYXNzaWduKHNoYXBlLCB7XG4gICAgd2lkdGg6ICBuZXdCb3VuZHMud2lkdGgsXG4gICAgaGVpZ2h0OiBuZXdCb3VuZHMuaGVpZ2h0LFxuICAgIHg6ICAgICAgbmV3Qm91bmRzLngsXG4gICAgeTogICAgICBuZXdCb3VuZHMueVxuICB9KTtcblxuICByZXR1cm4gc2hhcGU7XG59O1xuXG5SZXNpemVTaGFwZUhhbmRsZXIucHJvdG90eXBlLnBvc3RFeGVjdXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuICB2YXIgbW9kZWxpbmcgPSB0aGlzLl9tb2RlbGluZztcblxuICB2YXIgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgb2xkQm91bmRzID0gY29udGV4dC5vbGRCb3VuZHMsXG4gICAgICBoaW50cyA9IGNvbnRleHQuaGludHMgfHwge307XG5cbiAgaWYgKGhpbnRzLmxheW91dCA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBmb3JFYWNoKHNoYXBlLmluY29taW5nLCBmdW5jdGlvbihjKSB7XG4gICAgbW9kZWxpbmcubGF5b3V0Q29ubmVjdGlvbihjLCB7XG4gICAgICBjb25uZWN0aW9uRW5kOiBnZXRSZXNpemVkVGFyZ2V0QW5jaG9yKGMsIHNoYXBlLCBvbGRCb3VuZHMpXG4gICAgfSk7XG4gIH0pO1xuXG4gIGZvckVhY2goc2hhcGUub3V0Z29pbmcsIGZ1bmN0aW9uKGMpIHtcbiAgICBtb2RlbGluZy5sYXlvdXRDb25uZWN0aW9uKGMsIHtcbiAgICAgIGNvbm5lY3Rpb25TdGFydDogZ2V0UmVzaXplZFNvdXJjZUFuY2hvcihjLCBzaGFwZSwgb2xkQm91bmRzKVxuICAgIH0pO1xuICB9KTtcblxufTtcblxuUmVzaXplU2hhcGVIYW5kbGVyLnByb3RvdHlwZS5yZXZlcnQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgIG9sZEJvdW5kcyA9IGNvbnRleHQub2xkQm91bmRzO1xuXG4gIC8vIHJlc3RvcmUgcHJldmlvdXMgYmJveFxuICBhc3NpZ24oc2hhcGUsIHtcbiAgICB3aWR0aDogIG9sZEJvdW5kcy53aWR0aCxcbiAgICBoZWlnaHQ6IG9sZEJvdW5kcy5oZWlnaHQsXG4gICAgeDogICAgICBvbGRCb3VuZHMueCxcbiAgICB5OiAgICAgIG9sZEJvdW5kcy55XG4gIH0pO1xuXG4gIHJldHVybiBzaGFwZTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/ResizeShapeHandler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/SpaceToolHandler.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/modeling/cmd/SpaceToolHandler.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SpaceToolHandler)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _space_tool_SpaceUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../space-tool/SpaceUtil */ \"(ssr)/./node_modules/diagram-js/lib/features/space-tool/SpaceUtil.js\");\n/* harmony import */ var _helper_AnchorsHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./helper/AnchorsHelper */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/helper/AnchorsHelper.js\");\n\n\n\n\n\n\n/**\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * Add or remove space by moving and resizing shapes and updating connection waypoints.\n *\n * @param {Modeling} modeling\n */\nfunction SpaceToolHandler(modeling) {\n  this._modeling = modeling;\n}\n\nSpaceToolHandler.$inject = [ 'modeling' ];\n\nSpaceToolHandler.prototype.preExecute = function(context) {\n  var delta = context.delta,\n      direction = context.direction,\n      movingShapes = context.movingShapes,\n      resizingShapes = context.resizingShapes,\n      start = context.start,\n      oldBounds = {};\n\n  // (1) move shapes\n  this.moveShapes(movingShapes, delta);\n\n  // (2a) save old bounds of resized shapes\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(resizingShapes, function(shape) {\n    oldBounds[shape.id] = getBounds(shape);\n  });\n\n  // (2b) resize shapes\n  this.resizeShapes(resizingShapes, delta, direction);\n\n  // (3) update connection waypoints\n  this.updateConnectionWaypoints(\n    (0,_space_tool_SpaceUtil__WEBPACK_IMPORTED_MODULE_1__.getWaypointsUpdatingConnections)(movingShapes, resizingShapes),\n    delta,\n    direction,\n    start,\n    movingShapes,\n    resizingShapes,\n    oldBounds\n  );\n};\n\nSpaceToolHandler.prototype.execute = function() {};\nSpaceToolHandler.prototype.revert = function() {};\n\nSpaceToolHandler.prototype.moveShapes = function(shapes, delta) {\n  var self = this;\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(shapes, function(element) {\n    self._modeling.moveShape(element, delta, null, {\n      autoResize: false,\n      layout: false,\n      recurse: false\n    });\n  });\n};\n\nSpaceToolHandler.prototype.resizeShapes = function(shapes, delta, direction) {\n  var self = this;\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(shapes, function(shape) {\n    var newBounds = (0,_space_tool_SpaceUtil__WEBPACK_IMPORTED_MODULE_1__.resizeBounds)(shape, direction, delta);\n\n    self._modeling.resizeShape(shape, newBounds, null, {\n      attachSupport: false,\n      autoResize: false,\n      layout: false\n    });\n  });\n};\n\n/**\n * Update connections waypoints according to the rules:\n *   1. Both source and target are moved/resized => move waypoints by the delta\n *   2. Only one of source and target is moved/resized => re-layout connection with moved start/end\n */\nSpaceToolHandler.prototype.updateConnectionWaypoints = function(\n    connections,\n    delta,\n    direction,\n    start,\n    movingShapes,\n    resizingShapes,\n    oldBounds\n) {\n  var self = this,\n      affectedShapes = movingShapes.concat(resizingShapes);\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(connections, function(connection) {\n    var source = connection.source,\n        target = connection.target,\n        waypoints = copyWaypoints(connection),\n        axis = getAxisFromDirection(direction),\n        layoutHints = {};\n\n    if (includes(affectedShapes, source) && includes(affectedShapes, target)) {\n\n      // move waypoints\n      waypoints = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.map)(waypoints, function(waypoint) {\n        if (shouldMoveWaypoint(waypoint, start, direction)) {\n\n          // move waypoint\n          waypoint[ axis ] = waypoint[ axis ] + delta[ axis ];\n        }\n\n        if (waypoint.original && shouldMoveWaypoint(waypoint.original, start, direction)) {\n\n          // move waypoint original\n          waypoint.original[ axis ] = waypoint.original[ axis ] + delta[ axis ];\n        }\n\n        return waypoint;\n      });\n\n      self._modeling.updateWaypoints(connection, waypoints, {\n        labelBehavior: false\n      });\n    } else if (includes(affectedShapes, source) || includes(affectedShapes, target)) {\n\n      // re-layout connection with moved start/end\n      if (includes(movingShapes, source)) {\n        layoutHints.connectionStart = (0,_helper_AnchorsHelper__WEBPACK_IMPORTED_MODULE_2__.getMovedSourceAnchor)(connection, source, delta);\n      } else if (includes(movingShapes, target)) {\n        layoutHints.connectionEnd = (0,_helper_AnchorsHelper__WEBPACK_IMPORTED_MODULE_2__.getMovedTargetAnchor)(connection, target, delta);\n      } else if (includes(resizingShapes, source)) {\n        layoutHints.connectionStart = (0,_helper_AnchorsHelper__WEBPACK_IMPORTED_MODULE_2__.getResizedSourceAnchor)(\n          connection, source, oldBounds[source.id]\n        );\n      } else if (includes(resizingShapes, target)) {\n        layoutHints.connectionEnd = (0,_helper_AnchorsHelper__WEBPACK_IMPORTED_MODULE_2__.getResizedTargetAnchor)(\n          connection, target, oldBounds[target.id]\n        );\n      }\n\n      self._modeling.layoutConnection(connection, layoutHints);\n    }\n  });\n};\n\n\n// helpers //////////\n\nfunction copyWaypoint(waypoint) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({}, waypoint);\n}\n\nfunction copyWaypoints(connection) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.map)(connection.waypoints, function(waypoint) {\n\n    waypoint = copyWaypoint(waypoint);\n\n    if (waypoint.original) {\n      waypoint.original = copyWaypoint(waypoint.original);\n    }\n\n    return waypoint;\n  });\n}\n\nfunction getAxisFromDirection(direction) {\n  switch (direction) {\n  case 'n':\n    return 'y';\n  case 'w':\n    return 'x';\n  case 's':\n    return 'y';\n  case 'e':\n    return 'x';\n  }\n}\n\nfunction shouldMoveWaypoint(waypoint, start, direction) {\n  var relevantAxis = getAxisFromDirection(direction);\n\n  if (/e|s/.test(direction)) {\n    return waypoint[ relevantAxis ] > start;\n  } else if (/n|w/.test(direction)) {\n    return waypoint[ relevantAxis ] < start;\n  }\n}\n\nfunction includes(array, item) {\n  return array.indexOf(item) !== -1;\n}\n\nfunction getBounds(shape) {\n  return {\n    x: shape.x,\n    y: shape.y,\n    height: shape.height,\n    width: shape.width\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL1NwYWNlVG9vbEhhbmRsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUlrQjs7QUFLa0I7O0FBT0o7O0FBRWhDO0FBQ0EsYUFBYSwrQkFBK0I7QUFDNUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ2U7QUFDZjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFLGlEQUFPO0FBQ1Q7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUksc0ZBQStCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBLEVBQUUsaURBQU87QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQSxFQUFFLGlEQUFPO0FBQ1Qsb0JBQW9CLG1FQUFZOztBQUVoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRSxpREFBTztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxrQkFBa0IsNkNBQUc7QUFDckI7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNOztBQUVOO0FBQ0E7QUFDQSxzQ0FBc0MsMkVBQW9CO0FBQzFELFFBQVE7QUFDUixvQ0FBb0MsMkVBQW9CO0FBQ3hELFFBQVE7QUFDUixzQ0FBc0MsNkVBQXNCO0FBQzVEO0FBQ0E7QUFDQSxRQUFRO0FBQ1Isb0NBQW9DLDZFQUFzQjtBQUMxRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7O0FBR0E7O0FBRUE7QUFDQSxTQUFTLGdEQUFNLEdBQUc7QUFDbEI7O0FBRUE7QUFDQSxTQUFTLDZDQUFHOztBQUVaOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvU3BhY2VUb29sSGFuZGxlci5qcz9lNWUwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGFzc2lnbixcbiAgZm9yRWFjaCxcbiAgbWFwXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgZ2V0V2F5cG9pbnRzVXBkYXRpbmdDb25uZWN0aW9ucyxcbiAgcmVzaXplQm91bmRzXG59IGZyb20gJy4uLy4uL3NwYWNlLXRvb2wvU3BhY2VVdGlsJztcblxuaW1wb3J0IHtcbiAgZ2V0TW92ZWRTb3VyY2VBbmNob3IsXG4gIGdldE1vdmVkVGFyZ2V0QW5jaG9yLFxuICBnZXRSZXNpemVkU291cmNlQW5jaG9yLFxuICBnZXRSZXNpemVkVGFyZ2V0QW5jaG9yXG59IGZyb20gJy4vaGVscGVyL0FuY2hvcnNIZWxwZXInO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL01vZGVsaW5nJykuZGVmYXVsdH0gTW9kZWxpbmdcbiAqL1xuXG4vKipcbiAqIEFkZCBvciByZW1vdmUgc3BhY2UgYnkgbW92aW5nIGFuZCByZXNpemluZyBzaGFwZXMgYW5kIHVwZGF0aW5nIGNvbm5lY3Rpb24gd2F5cG9pbnRzLlxuICpcbiAqIEBwYXJhbSB7TW9kZWxpbmd9IG1vZGVsaW5nXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNwYWNlVG9vbEhhbmRsZXIobW9kZWxpbmcpIHtcbiAgdGhpcy5fbW9kZWxpbmcgPSBtb2RlbGluZztcbn1cblxuU3BhY2VUb29sSGFuZGxlci4kaW5qZWN0ID0gWyAnbW9kZWxpbmcnIF07XG5cblNwYWNlVG9vbEhhbmRsZXIucHJvdG90eXBlLnByZUV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHZhciBkZWx0YSA9IGNvbnRleHQuZGVsdGEsXG4gICAgICBkaXJlY3Rpb24gPSBjb250ZXh0LmRpcmVjdGlvbixcbiAgICAgIG1vdmluZ1NoYXBlcyA9IGNvbnRleHQubW92aW5nU2hhcGVzLFxuICAgICAgcmVzaXppbmdTaGFwZXMgPSBjb250ZXh0LnJlc2l6aW5nU2hhcGVzLFxuICAgICAgc3RhcnQgPSBjb250ZXh0LnN0YXJ0LFxuICAgICAgb2xkQm91bmRzID0ge307XG5cbiAgLy8gKDEpIG1vdmUgc2hhcGVzXG4gIHRoaXMubW92ZVNoYXBlcyhtb3ZpbmdTaGFwZXMsIGRlbHRhKTtcblxuICAvLyAoMmEpIHNhdmUgb2xkIGJvdW5kcyBvZiByZXNpemVkIHNoYXBlc1xuICBmb3JFYWNoKHJlc2l6aW5nU2hhcGVzLCBmdW5jdGlvbihzaGFwZSkge1xuICAgIG9sZEJvdW5kc1tzaGFwZS5pZF0gPSBnZXRCb3VuZHMoc2hhcGUpO1xuICB9KTtcblxuICAvLyAoMmIpIHJlc2l6ZSBzaGFwZXNcbiAgdGhpcy5yZXNpemVTaGFwZXMocmVzaXppbmdTaGFwZXMsIGRlbHRhLCBkaXJlY3Rpb24pO1xuXG4gIC8vICgzKSB1cGRhdGUgY29ubmVjdGlvbiB3YXlwb2ludHNcbiAgdGhpcy51cGRhdGVDb25uZWN0aW9uV2F5cG9pbnRzKFxuICAgIGdldFdheXBvaW50c1VwZGF0aW5nQ29ubmVjdGlvbnMobW92aW5nU2hhcGVzLCByZXNpemluZ1NoYXBlcyksXG4gICAgZGVsdGEsXG4gICAgZGlyZWN0aW9uLFxuICAgIHN0YXJ0LFxuICAgIG1vdmluZ1NoYXBlcyxcbiAgICByZXNpemluZ1NoYXBlcyxcbiAgICBvbGRCb3VuZHNcbiAgKTtcbn07XG5cblNwYWNlVG9vbEhhbmRsZXIucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbigpIHt9O1xuU3BhY2VUb29sSGFuZGxlci5wcm90b3R5cGUucmV2ZXJ0ID0gZnVuY3Rpb24oKSB7fTtcblxuU3BhY2VUb29sSGFuZGxlci5wcm90b3R5cGUubW92ZVNoYXBlcyA9IGZ1bmN0aW9uKHNoYXBlcywgZGVsdGEpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGZvckVhY2goc2hhcGVzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgc2VsZi5fbW9kZWxpbmcubW92ZVNoYXBlKGVsZW1lbnQsIGRlbHRhLCBudWxsLCB7XG4gICAgICBhdXRvUmVzaXplOiBmYWxzZSxcbiAgICAgIGxheW91dDogZmFsc2UsXG4gICAgICByZWN1cnNlOiBmYWxzZVxuICAgIH0pO1xuICB9KTtcbn07XG5cblNwYWNlVG9vbEhhbmRsZXIucHJvdG90eXBlLnJlc2l6ZVNoYXBlcyA9IGZ1bmN0aW9uKHNoYXBlcywgZGVsdGEsIGRpcmVjdGlvbikge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgZm9yRWFjaChzaGFwZXMsIGZ1bmN0aW9uKHNoYXBlKSB7XG4gICAgdmFyIG5ld0JvdW5kcyA9IHJlc2l6ZUJvdW5kcyhzaGFwZSwgZGlyZWN0aW9uLCBkZWx0YSk7XG5cbiAgICBzZWxmLl9tb2RlbGluZy5yZXNpemVTaGFwZShzaGFwZSwgbmV3Qm91bmRzLCBudWxsLCB7XG4gICAgICBhdHRhY2hTdXBwb3J0OiBmYWxzZSxcbiAgICAgIGF1dG9SZXNpemU6IGZhbHNlLFxuICAgICAgbGF5b3V0OiBmYWxzZVxuICAgIH0pO1xuICB9KTtcbn07XG5cbi8qKlxuICogVXBkYXRlIGNvbm5lY3Rpb25zIHdheXBvaW50cyBhY2NvcmRpbmcgdG8gdGhlIHJ1bGVzOlxuICogICAxLiBCb3RoIHNvdXJjZSBhbmQgdGFyZ2V0IGFyZSBtb3ZlZC9yZXNpemVkID0+IG1vdmUgd2F5cG9pbnRzIGJ5IHRoZSBkZWx0YVxuICogICAyLiBPbmx5IG9uZSBvZiBzb3VyY2UgYW5kIHRhcmdldCBpcyBtb3ZlZC9yZXNpemVkID0+IHJlLWxheW91dCBjb25uZWN0aW9uIHdpdGggbW92ZWQgc3RhcnQvZW5kXG4gKi9cblNwYWNlVG9vbEhhbmRsZXIucHJvdG90eXBlLnVwZGF0ZUNvbm5lY3Rpb25XYXlwb2ludHMgPSBmdW5jdGlvbihcbiAgICBjb25uZWN0aW9ucyxcbiAgICBkZWx0YSxcbiAgICBkaXJlY3Rpb24sXG4gICAgc3RhcnQsXG4gICAgbW92aW5nU2hhcGVzLFxuICAgIHJlc2l6aW5nU2hhcGVzLFxuICAgIG9sZEJvdW5kc1xuKSB7XG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIGFmZmVjdGVkU2hhcGVzID0gbW92aW5nU2hhcGVzLmNvbmNhdChyZXNpemluZ1NoYXBlcyk7XG5cbiAgZm9yRWFjaChjb25uZWN0aW9ucywgZnVuY3Rpb24oY29ubmVjdGlvbikge1xuICAgIHZhciBzb3VyY2UgPSBjb25uZWN0aW9uLnNvdXJjZSxcbiAgICAgICAgdGFyZ2V0ID0gY29ubmVjdGlvbi50YXJnZXQsXG4gICAgICAgIHdheXBvaW50cyA9IGNvcHlXYXlwb2ludHMoY29ubmVjdGlvbiksXG4gICAgICAgIGF4aXMgPSBnZXRBeGlzRnJvbURpcmVjdGlvbihkaXJlY3Rpb24pLFxuICAgICAgICBsYXlvdXRIaW50cyA9IHt9O1xuXG4gICAgaWYgKGluY2x1ZGVzKGFmZmVjdGVkU2hhcGVzLCBzb3VyY2UpICYmIGluY2x1ZGVzKGFmZmVjdGVkU2hhcGVzLCB0YXJnZXQpKSB7XG5cbiAgICAgIC8vIG1vdmUgd2F5cG9pbnRzXG4gICAgICB3YXlwb2ludHMgPSBtYXAod2F5cG9pbnRzLCBmdW5jdGlvbih3YXlwb2ludCkge1xuICAgICAgICBpZiAoc2hvdWxkTW92ZVdheXBvaW50KHdheXBvaW50LCBzdGFydCwgZGlyZWN0aW9uKSkge1xuXG4gICAgICAgICAgLy8gbW92ZSB3YXlwb2ludFxuICAgICAgICAgIHdheXBvaW50WyBheGlzIF0gPSB3YXlwb2ludFsgYXhpcyBdICsgZGVsdGFbIGF4aXMgXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3YXlwb2ludC5vcmlnaW5hbCAmJiBzaG91bGRNb3ZlV2F5cG9pbnQod2F5cG9pbnQub3JpZ2luYWwsIHN0YXJ0LCBkaXJlY3Rpb24pKSB7XG5cbiAgICAgICAgICAvLyBtb3ZlIHdheXBvaW50IG9yaWdpbmFsXG4gICAgICAgICAgd2F5cG9pbnQub3JpZ2luYWxbIGF4aXMgXSA9IHdheXBvaW50Lm9yaWdpbmFsWyBheGlzIF0gKyBkZWx0YVsgYXhpcyBdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHdheXBvaW50O1xuICAgICAgfSk7XG5cbiAgICAgIHNlbGYuX21vZGVsaW5nLnVwZGF0ZVdheXBvaW50cyhjb25uZWN0aW9uLCB3YXlwb2ludHMsIHtcbiAgICAgICAgbGFiZWxCZWhhdmlvcjogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoaW5jbHVkZXMoYWZmZWN0ZWRTaGFwZXMsIHNvdXJjZSkgfHwgaW5jbHVkZXMoYWZmZWN0ZWRTaGFwZXMsIHRhcmdldCkpIHtcblxuICAgICAgLy8gcmUtbGF5b3V0IGNvbm5lY3Rpb24gd2l0aCBtb3ZlZCBzdGFydC9lbmRcbiAgICAgIGlmIChpbmNsdWRlcyhtb3ZpbmdTaGFwZXMsIHNvdXJjZSkpIHtcbiAgICAgICAgbGF5b3V0SGludHMuY29ubmVjdGlvblN0YXJ0ID0gZ2V0TW92ZWRTb3VyY2VBbmNob3IoY29ubmVjdGlvbiwgc291cmNlLCBkZWx0YSk7XG4gICAgICB9IGVsc2UgaWYgKGluY2x1ZGVzKG1vdmluZ1NoYXBlcywgdGFyZ2V0KSkge1xuICAgICAgICBsYXlvdXRIaW50cy5jb25uZWN0aW9uRW5kID0gZ2V0TW92ZWRUYXJnZXRBbmNob3IoY29ubmVjdGlvbiwgdGFyZ2V0LCBkZWx0YSk7XG4gICAgICB9IGVsc2UgaWYgKGluY2x1ZGVzKHJlc2l6aW5nU2hhcGVzLCBzb3VyY2UpKSB7XG4gICAgICAgIGxheW91dEhpbnRzLmNvbm5lY3Rpb25TdGFydCA9IGdldFJlc2l6ZWRTb3VyY2VBbmNob3IoXG4gICAgICAgICAgY29ubmVjdGlvbiwgc291cmNlLCBvbGRCb3VuZHNbc291cmNlLmlkXVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChpbmNsdWRlcyhyZXNpemluZ1NoYXBlcywgdGFyZ2V0KSkge1xuICAgICAgICBsYXlvdXRIaW50cy5jb25uZWN0aW9uRW5kID0gZ2V0UmVzaXplZFRhcmdldEFuY2hvcihcbiAgICAgICAgICBjb25uZWN0aW9uLCB0YXJnZXQsIG9sZEJvdW5kc1t0YXJnZXQuaWRdXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHNlbGYuX21vZGVsaW5nLmxheW91dENvbm5lY3Rpb24oY29ubmVjdGlvbiwgbGF5b3V0SGludHMpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBjb3B5V2F5cG9pbnQod2F5cG9pbnQpIHtcbiAgcmV0dXJuIGFzc2lnbih7fSwgd2F5cG9pbnQpO1xufVxuXG5mdW5jdGlvbiBjb3B5V2F5cG9pbnRzKGNvbm5lY3Rpb24pIHtcbiAgcmV0dXJuIG1hcChjb25uZWN0aW9uLndheXBvaW50cywgZnVuY3Rpb24od2F5cG9pbnQpIHtcblxuICAgIHdheXBvaW50ID0gY29weVdheXBvaW50KHdheXBvaW50KTtcblxuICAgIGlmICh3YXlwb2ludC5vcmlnaW5hbCkge1xuICAgICAgd2F5cG9pbnQub3JpZ2luYWwgPSBjb3B5V2F5cG9pbnQod2F5cG9pbnQub3JpZ2luYWwpO1xuICAgIH1cblxuICAgIHJldHVybiB3YXlwb2ludDtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldEF4aXNGcm9tRGlyZWN0aW9uKGRpcmVjdGlvbikge1xuICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuICBjYXNlICduJzpcbiAgICByZXR1cm4gJ3knO1xuICBjYXNlICd3JzpcbiAgICByZXR1cm4gJ3gnO1xuICBjYXNlICdzJzpcbiAgICByZXR1cm4gJ3knO1xuICBjYXNlICdlJzpcbiAgICByZXR1cm4gJ3gnO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNob3VsZE1vdmVXYXlwb2ludCh3YXlwb2ludCwgc3RhcnQsIGRpcmVjdGlvbikge1xuICB2YXIgcmVsZXZhbnRBeGlzID0gZ2V0QXhpc0Zyb21EaXJlY3Rpb24oZGlyZWN0aW9uKTtcblxuICBpZiAoL2V8cy8udGVzdChkaXJlY3Rpb24pKSB7XG4gICAgcmV0dXJuIHdheXBvaW50WyByZWxldmFudEF4aXMgXSA+IHN0YXJ0O1xuICB9IGVsc2UgaWYgKC9ufHcvLnRlc3QoZGlyZWN0aW9uKSkge1xuICAgIHJldHVybiB3YXlwb2ludFsgcmVsZXZhbnRBeGlzIF0gPCBzdGFydDtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbmNsdWRlcyhhcnJheSwgaXRlbSkge1xuICByZXR1cm4gYXJyYXkuaW5kZXhPZihpdGVtKSAhPT0gLTE7XG59XG5cbmZ1bmN0aW9uIGdldEJvdW5kcyhzaGFwZSkge1xuICByZXR1cm4ge1xuICAgIHg6IHNoYXBlLngsXG4gICAgeTogc2hhcGUueSxcbiAgICBoZWlnaHQ6IHNoYXBlLmhlaWdodCxcbiAgICB3aWR0aDogc2hhcGUud2lkdGhcbiAgfTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/SpaceToolHandler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ToggleShapeCollapseHandler)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('../../model/Types').Shape} Shape\n *\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * A handler that toggles the collapsed state of an element\n * and the visibility of all its children.\n *\n * @param {Modeling} modeling\n */\nfunction ToggleShapeCollapseHandler(modeling) {\n  this._modeling = modeling;\n}\n\nToggleShapeCollapseHandler.$inject = [ 'modeling' ];\n\n\nToggleShapeCollapseHandler.prototype.execute = function(context) {\n\n  var shape = context.shape,\n      children = shape.children;\n\n  // recursively remember previous visibility of children\n  context.oldChildrenVisibility = getElementsVisibilityRecursive(children);\n\n  // toggle state\n  shape.collapsed = !shape.collapsed;\n\n  // recursively hide/show children\n  var result = setHiddenRecursive(children, shape.collapsed);\n\n  return [ shape ].concat(result);\n};\n\n\nToggleShapeCollapseHandler.prototype.revert = function(context) {\n\n  var shape = context.shape,\n      oldChildrenVisibility = context.oldChildrenVisibility;\n\n  var children = shape.children;\n\n  // recursively set old visability of children\n  var result = restoreVisibilityRecursive(children, oldChildrenVisibility);\n\n  // retoggle state\n  shape.collapsed = !shape.collapsed;\n\n  return [ shape ].concat(result);\n};\n\n\n// helpers //////////////////////\n\n/**\n * Return a map { elementId -> hiddenState}.\n *\n * @param {Shape[]} elements\n *\n * @return {Object}\n */\nfunction getElementsVisibilityRecursive(elements) {\n\n  var result = {};\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(elements, function(element) {\n    result[element.id] = element.hidden;\n\n    if (element.children) {\n      result = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({}, result, getElementsVisibilityRecursive(element.children));\n    }\n  });\n\n  return result;\n}\n\n\nfunction setHiddenRecursive(elements, newHidden) {\n  var result = [];\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(elements, function(element) {\n    element.hidden = newHidden;\n\n    result = result.concat(element);\n\n    if (element.children) {\n      result = result.concat(setHiddenRecursive(element.children, element.collapsed || newHidden));\n    }\n  });\n\n  return result;\n}\n\nfunction restoreVisibilityRecursive(elements, lastState) {\n  var result = [];\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(elements, function(element) {\n    element.hidden = lastState[element.id];\n\n    result = result.concat(element);\n\n    if (element.children) {\n      result = result.concat(restoreVisibilityRecursive(element.children, lastState));\n    }\n  });\n\n  return result;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL1RvZ2dsZVNoYXBlQ29sbGFwc2VIYW5kbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBR2tCOztBQUVsQjtBQUNBLGFBQWEsbUNBQW1DO0FBQ2hEO0FBQ0EsYUFBYSwrQkFBK0I7QUFDNUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDZTtBQUNmO0FBQ0E7O0FBRUE7OztBQUdBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQSxrQkFBa0IseUJBQXlCO0FBQzNDO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7O0FBRUEsRUFBRSxpREFBTztBQUNUOztBQUVBO0FBQ0EsZUFBZSxnREFBTSxHQUFHO0FBQ3hCO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOzs7QUFHQTtBQUNBO0FBQ0EsRUFBRSxpREFBTztBQUNUOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRSxpREFBTztBQUNUOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvVG9nZ2xlU2hhcGVDb2xsYXBzZUhhbmRsZXIuanM/YjI0MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBhc3NpZ24sXG4gIGZvckVhY2hcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL21vZGVsL1R5cGVzJykuU2hhcGV9IFNoYXBlXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vTW9kZWxpbmcnKS5kZWZhdWx0fSBNb2RlbGluZ1xuICovXG5cbi8qKlxuICogQSBoYW5kbGVyIHRoYXQgdG9nZ2xlcyB0aGUgY29sbGFwc2VkIHN0YXRlIG9mIGFuIGVsZW1lbnRcbiAqIGFuZCB0aGUgdmlzaWJpbGl0eSBvZiBhbGwgaXRzIGNoaWxkcmVuLlxuICpcbiAqIEBwYXJhbSB7TW9kZWxpbmd9IG1vZGVsaW5nXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFRvZ2dsZVNoYXBlQ29sbGFwc2VIYW5kbGVyKG1vZGVsaW5nKSB7XG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG59XG5cblRvZ2dsZVNoYXBlQ29sbGFwc2VIYW5kbGVyLiRpbmplY3QgPSBbICdtb2RlbGluZycgXTtcblxuXG5Ub2dnbGVTaGFwZUNvbGxhcHNlSGFuZGxlci5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICB2YXIgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgY2hpbGRyZW4gPSBzaGFwZS5jaGlsZHJlbjtcblxuICAvLyByZWN1cnNpdmVseSByZW1lbWJlciBwcmV2aW91cyB2aXNpYmlsaXR5IG9mIGNoaWxkcmVuXG4gIGNvbnRleHQub2xkQ2hpbGRyZW5WaXNpYmlsaXR5ID0gZ2V0RWxlbWVudHNWaXNpYmlsaXR5UmVjdXJzaXZlKGNoaWxkcmVuKTtcblxuICAvLyB0b2dnbGUgc3RhdGVcbiAgc2hhcGUuY29sbGFwc2VkID0gIXNoYXBlLmNvbGxhcHNlZDtcblxuICAvLyByZWN1cnNpdmVseSBoaWRlL3Nob3cgY2hpbGRyZW5cbiAgdmFyIHJlc3VsdCA9IHNldEhpZGRlblJlY3Vyc2l2ZShjaGlsZHJlbiwgc2hhcGUuY29sbGFwc2VkKTtcblxuICByZXR1cm4gWyBzaGFwZSBdLmNvbmNhdChyZXN1bHQpO1xufTtcblxuXG5Ub2dnbGVTaGFwZUNvbGxhcHNlSGFuZGxlci5wcm90b3R5cGUucmV2ZXJ0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXG4gICAgICBvbGRDaGlsZHJlblZpc2liaWxpdHkgPSBjb250ZXh0Lm9sZENoaWxkcmVuVmlzaWJpbGl0eTtcblxuICB2YXIgY2hpbGRyZW4gPSBzaGFwZS5jaGlsZHJlbjtcblxuICAvLyByZWN1cnNpdmVseSBzZXQgb2xkIHZpc2FiaWxpdHkgb2YgY2hpbGRyZW5cbiAgdmFyIHJlc3VsdCA9IHJlc3RvcmVWaXNpYmlsaXR5UmVjdXJzaXZlKGNoaWxkcmVuLCBvbGRDaGlsZHJlblZpc2liaWxpdHkpO1xuXG4gIC8vIHJldG9nZ2xlIHN0YXRlXG4gIHNoYXBlLmNvbGxhcHNlZCA9ICFzaGFwZS5jb2xsYXBzZWQ7XG5cbiAgcmV0dXJuIFsgc2hhcGUgXS5jb25jYXQocmVzdWx0KTtcbn07XG5cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogUmV0dXJuIGEgbWFwIHsgZWxlbWVudElkIC0+IGhpZGRlblN0YXRlfS5cbiAqXG4gKiBAcGFyYW0ge1NoYXBlW119IGVsZW1lbnRzXG4gKlxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBnZXRFbGVtZW50c1Zpc2liaWxpdHlSZWN1cnNpdmUoZWxlbWVudHMpIHtcblxuICB2YXIgcmVzdWx0ID0ge307XG5cbiAgZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJlc3VsdFtlbGVtZW50LmlkXSA9IGVsZW1lbnQuaGlkZGVuO1xuXG4gICAgaWYgKGVsZW1lbnQuY2hpbGRyZW4pIHtcbiAgICAgIHJlc3VsdCA9IGFzc2lnbih7fSwgcmVzdWx0LCBnZXRFbGVtZW50c1Zpc2liaWxpdHlSZWN1cnNpdmUoZWxlbWVudC5jaGlsZHJlbikpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG5mdW5jdGlvbiBzZXRIaWRkZW5SZWN1cnNpdmUoZWxlbWVudHMsIG5ld0hpZGRlbikge1xuICB2YXIgcmVzdWx0ID0gW107XG4gIGZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICBlbGVtZW50LmhpZGRlbiA9IG5ld0hpZGRlbjtcblxuICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoZWxlbWVudCk7XG5cbiAgICBpZiAoZWxlbWVudC5jaGlsZHJlbikge1xuICAgICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdChzZXRIaWRkZW5SZWN1cnNpdmUoZWxlbWVudC5jaGlsZHJlbiwgZWxlbWVudC5jb2xsYXBzZWQgfHwgbmV3SGlkZGVuKSk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiByZXN0b3JlVmlzaWJpbGl0eVJlY3Vyc2l2ZShlbGVtZW50cywgbGFzdFN0YXRlKSB7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIGVsZW1lbnQuaGlkZGVuID0gbGFzdFN0YXRlW2VsZW1lbnQuaWRdO1xuXG4gICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdChlbGVtZW50KTtcblxuICAgIGlmIChlbGVtZW50LmNoaWxkcmVuKSB7XG4gICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KHJlc3RvcmVWaXNpYmlsaXR5UmVjdXJzaXZlKGVsZW1lbnQuY2hpbGRyZW4sIGxhc3RTdGF0ZSkpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ UpdateAttachmentHandler)\n/* harmony export */ });\n/* harmony import */ var _util_Collections__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../util/Collections */ \"(ssr)/./node_modules/diagram-js/lib/util/Collections.js\");\n\n\n/**\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * A handler that implements reversible attaching/detaching of shapes.\n *\n * @param {Modeling} modeling\n */\nfunction UpdateAttachmentHandler(modeling) {\n  this._modeling = modeling;\n}\n\nUpdateAttachmentHandler.$inject = [ 'modeling' ];\n\n\nUpdateAttachmentHandler.prototype.execute = function(context) {\n  var shape = context.shape,\n      newHost = context.newHost,\n      oldHost = shape.host;\n\n  // (0) detach from old host\n  context.oldHost = oldHost;\n  context.attacherIdx = removeAttacher(oldHost, shape);\n\n  // (1) attach to new host\n  addAttacher(newHost, shape);\n\n  // (2) update host\n  shape.host = newHost;\n\n  return shape;\n};\n\nUpdateAttachmentHandler.prototype.revert = function(context) {\n  var shape = context.shape,\n      newHost = context.newHost,\n      oldHost = context.oldHost,\n      attacherIdx = context.attacherIdx;\n\n  // (2) update host\n  shape.host = oldHost;\n\n  // (1) attach to new host\n  removeAttacher(newHost, shape);\n\n  // (0) detach from old host\n  addAttacher(oldHost, shape, attacherIdx);\n\n  return shape;\n};\n\n\nfunction removeAttacher(host, attacher) {\n\n  // remove attacher from host\n  return (0,_util_Collections__WEBPACK_IMPORTED_MODULE_0__.remove)(host && host.attachers, attacher);\n}\n\nfunction addAttacher(host, attacher, idx) {\n\n  if (!host) {\n    return;\n  }\n\n  var attachers = host.attachers;\n\n  if (!attachers) {\n    host.attachers = attachers = [];\n  }\n\n  (0,_util_Collections__WEBPACK_IMPORTED_MODULE_0__.add)(attachers, attacher, idx);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL1VwZGF0ZUF0dGFjaG1lbnRIYW5kbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBR21DOztBQUVuQztBQUNBLGFBQWEsK0JBQStCO0FBQzVDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNlO0FBQ2Y7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQSxTQUFTLHlEQUFnQjtBQUN6Qjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEVBQUUsc0RBQWE7QUFDZiIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvVXBkYXRlQXR0YWNobWVudEhhbmRsZXIuanM/YTRlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBhZGQgYXMgY29sbGVjdGlvbkFkZCxcbiAgcmVtb3ZlIGFzIGNvbGxlY3Rpb25SZW1vdmVcbn0gZnJvbSAnLi4vLi4vLi4vdXRpbC9Db2xsZWN0aW9ucyc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vTW9kZWxpbmcnKS5kZWZhdWx0fSBNb2RlbGluZ1xuICovXG5cbi8qKlxuICogQSBoYW5kbGVyIHRoYXQgaW1wbGVtZW50cyByZXZlcnNpYmxlIGF0dGFjaGluZy9kZXRhY2hpbmcgb2Ygc2hhcGVzLlxuICpcbiAqIEBwYXJhbSB7TW9kZWxpbmd9IG1vZGVsaW5nXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFVwZGF0ZUF0dGFjaG1lbnRIYW5kbGVyKG1vZGVsaW5nKSB7XG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG59XG5cblVwZGF0ZUF0dGFjaG1lbnRIYW5kbGVyLiRpbmplY3QgPSBbICdtb2RlbGluZycgXTtcblxuXG5VcGRhdGVBdHRhY2htZW50SGFuZGxlci5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgIG5ld0hvc3QgPSBjb250ZXh0Lm5ld0hvc3QsXG4gICAgICBvbGRIb3N0ID0gc2hhcGUuaG9zdDtcblxuICAvLyAoMCkgZGV0YWNoIGZyb20gb2xkIGhvc3RcbiAgY29udGV4dC5vbGRIb3N0ID0gb2xkSG9zdDtcbiAgY29udGV4dC5hdHRhY2hlcklkeCA9IHJlbW92ZUF0dGFjaGVyKG9sZEhvc3QsIHNoYXBlKTtcblxuICAvLyAoMSkgYXR0YWNoIHRvIG5ldyBob3N0XG4gIGFkZEF0dGFjaGVyKG5ld0hvc3QsIHNoYXBlKTtcblxuICAvLyAoMikgdXBkYXRlIGhvc3RcbiAgc2hhcGUuaG9zdCA9IG5ld0hvc3Q7XG5cbiAgcmV0dXJuIHNoYXBlO1xufTtcblxuVXBkYXRlQXR0YWNobWVudEhhbmRsZXIucHJvdG90eXBlLnJldmVydCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgIG5ld0hvc3QgPSBjb250ZXh0Lm5ld0hvc3QsXG4gICAgICBvbGRIb3N0ID0gY29udGV4dC5vbGRIb3N0LFxuICAgICAgYXR0YWNoZXJJZHggPSBjb250ZXh0LmF0dGFjaGVySWR4O1xuXG4gIC8vICgyKSB1cGRhdGUgaG9zdFxuICBzaGFwZS5ob3N0ID0gb2xkSG9zdDtcblxuICAvLyAoMSkgYXR0YWNoIHRvIG5ldyBob3N0XG4gIHJlbW92ZUF0dGFjaGVyKG5ld0hvc3QsIHNoYXBlKTtcblxuICAvLyAoMCkgZGV0YWNoIGZyb20gb2xkIGhvc3RcbiAgYWRkQXR0YWNoZXIob2xkSG9zdCwgc2hhcGUsIGF0dGFjaGVySWR4KTtcblxuICByZXR1cm4gc2hhcGU7XG59O1xuXG5cbmZ1bmN0aW9uIHJlbW92ZUF0dGFjaGVyKGhvc3QsIGF0dGFjaGVyKSB7XG5cbiAgLy8gcmVtb3ZlIGF0dGFjaGVyIGZyb20gaG9zdFxuICByZXR1cm4gY29sbGVjdGlvblJlbW92ZShob3N0ICYmIGhvc3QuYXR0YWNoZXJzLCBhdHRhY2hlcik7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dGFjaGVyKGhvc3QsIGF0dGFjaGVyLCBpZHgpIHtcblxuICBpZiAoIWhvc3QpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgYXR0YWNoZXJzID0gaG9zdC5hdHRhY2hlcnM7XG5cbiAgaWYgKCFhdHRhY2hlcnMpIHtcbiAgICBob3N0LmF0dGFjaGVycyA9IGF0dGFjaGVycyA9IFtdO1xuICB9XG5cbiAgY29sbGVjdGlvbkFkZChhdHRhY2hlcnMsIGF0dGFjaGVyLCBpZHgpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/UpdateWaypointsHandler.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/modeling/cmd/UpdateWaypointsHandler.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ UpdateWaypointsHandler)\n/* harmony export */ });\nfunction UpdateWaypointsHandler() { }\n\nUpdateWaypointsHandler.prototype.execute = function(context) {\n\n  var connection = context.connection,\n      newWaypoints = context.newWaypoints;\n\n  context.oldWaypoints = connection.waypoints;\n\n  connection.waypoints = newWaypoints;\n\n  return connection;\n};\n\nUpdateWaypointsHandler.prototype.revert = function(context) {\n\n  var connection = context.connection,\n      oldWaypoints = context.oldWaypoints;\n\n  connection.waypoints = oldWaypoints;\n\n  return connection;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL1VwZGF0ZVdheXBvaW50c0hhbmRsZXIuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFlOztBQUVmOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL1VwZGF0ZVdheXBvaW50c0hhbmRsZXIuanM/ZDc5YyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBVcGRhdGVXYXlwb2ludHNIYW5kbGVyKCkgeyB9XG5cblVwZGF0ZVdheXBvaW50c0hhbmRsZXIucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgdmFyIGNvbm5lY3Rpb24gPSBjb250ZXh0LmNvbm5lY3Rpb24sXG4gICAgICBuZXdXYXlwb2ludHMgPSBjb250ZXh0Lm5ld1dheXBvaW50cztcblxuICBjb250ZXh0Lm9sZFdheXBvaW50cyA9IGNvbm5lY3Rpb24ud2F5cG9pbnRzO1xuXG4gIGNvbm5lY3Rpb24ud2F5cG9pbnRzID0gbmV3V2F5cG9pbnRzO1xuXG4gIHJldHVybiBjb25uZWN0aW9uO1xufTtcblxuVXBkYXRlV2F5cG9pbnRzSGFuZGxlci5wcm90b3R5cGUucmV2ZXJ0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIHZhciBjb25uZWN0aW9uID0gY29udGV4dC5jb25uZWN0aW9uLFxuICAgICAgb2xkV2F5cG9pbnRzID0gY29udGV4dC5vbGRXYXlwb2ludHM7XG5cbiAgY29ubmVjdGlvbi53YXlwb2ludHMgPSBvbGRXYXlwb2ludHM7XG5cbiAgcmV0dXJuIGNvbm5lY3Rpb247XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/UpdateWaypointsHandler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/helper/AnchorsHelper.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/modeling/cmd/helper/AnchorsHelper.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getMovedSourceAnchor: () => (/* binding */ getMovedSourceAnchor),\n/* harmony export */   getMovedTargetAnchor: () => (/* binding */ getMovedTargetAnchor),\n/* harmony export */   getResizedSourceAnchor: () => (/* binding */ getResizedSourceAnchor),\n/* harmony export */   getResizedTargetAnchor: () => (/* binding */ getResizedTargetAnchor)\n/* harmony export */ });\n/* harmony import */ var _util_AttachUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../util/AttachUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/AttachUtil.js\");\n/* harmony import */ var _layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../layout/LayoutUtil */ \"(ssr)/./node_modules/diagram-js/lib/layout/LayoutUtil.js\");\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n\n\n\n\n/**\n * @typedef {import('../../../../core/Types').ConnectionLike} Connection\n * @typedef {import('../../../../core/Types').ShapeLike} Shape\n *\n * @typedef {import('../../../../util/Types').Point} Point\n * @typedef {import('../../../../util/Types').Rect} Rect\n */\n\n/**\n * @param {Connection} connection\n * @param {Shape} shape\n * @param {Rect} oldBounds\n * @return {Point}\n */\nfunction getResizedSourceAnchor(connection, shape, oldBounds) {\n\n  var waypoints = safeGetWaypoints(connection),\n      waypointsInsideNewBounds = getWaypointsInsideBounds(waypoints, shape),\n      oldAnchor = waypoints[0];\n\n  // new anchor is the last waypoint enclosed be resized source\n  if (waypointsInsideNewBounds.length) {\n    return waypointsInsideNewBounds[ waypointsInsideNewBounds.length - 1 ];\n  }\n\n  return (0,_util_AttachUtil__WEBPACK_IMPORTED_MODULE_0__.getNewAttachPoint)(oldAnchor.original || oldAnchor, oldBounds, shape);\n}\n\n\nfunction getResizedTargetAnchor(connection, shape, oldBounds) {\n\n  var waypoints = safeGetWaypoints(connection),\n      waypointsInsideNewBounds = getWaypointsInsideBounds(waypoints, shape),\n      oldAnchor = waypoints[waypoints.length - 1];\n\n  // new anchor is the first waypoint enclosed be resized target\n  if (waypointsInsideNewBounds.length) {\n    return waypointsInsideNewBounds[ 0 ];\n  }\n\n  return (0,_util_AttachUtil__WEBPACK_IMPORTED_MODULE_0__.getNewAttachPoint)(oldAnchor.original || oldAnchor, oldBounds, shape);\n}\n\n\nfunction getMovedSourceAnchor(connection, source, moveDelta) {\n\n  var waypoints = safeGetWaypoints(connection),\n      oldBounds = subtract(source, moveDelta),\n      oldAnchor = waypoints[ 0 ];\n\n  return (0,_util_AttachUtil__WEBPACK_IMPORTED_MODULE_0__.getNewAttachPoint)(oldAnchor.original || oldAnchor, oldBounds, source);\n}\n\n\nfunction getMovedTargetAnchor(connection, target, moveDelta) {\n\n  var waypoints = safeGetWaypoints(connection),\n      oldBounds = subtract(target, moveDelta),\n      oldAnchor = waypoints[ waypoints.length - 1 ];\n\n  return (0,_util_AttachUtil__WEBPACK_IMPORTED_MODULE_0__.getNewAttachPoint)(oldAnchor.original || oldAnchor, oldBounds, target);\n}\n\n\n// helpers //////////////////////\n\nfunction subtract(bounds, delta) {\n  return {\n    x: bounds.x - delta.x,\n    y: bounds.y - delta.y,\n    width: bounds.width,\n    height: bounds.height\n  };\n}\n\n\n/**\n * Return waypoints of given connection; throw if non exists (should not happen!!).\n *\n * @param {Connection} connection\n *\n * @return {Point[]}\n */\nfunction safeGetWaypoints(connection) {\n\n  var waypoints = connection.waypoints;\n\n  if (!waypoints.length) {\n    throw new Error('connection#' + connection.id + ': no waypoints');\n  }\n\n  return waypoints;\n}\n\nfunction getWaypointsInsideBounds(waypoints, bounds) {\n  var originalWaypoints = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.map)(waypoints, getOriginal);\n\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.filter)(originalWaypoints, function(waypoint) {\n    return isInsideBounds(waypoint, bounds);\n  });\n}\n\n/**\n * Checks if point is inside bounds, incl. edges.\n *\n * @param {Point} point\n * @param {Rect} bounds\n */\nfunction isInsideBounds(point, bounds) {\n  return (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_2__.getOrientation)(bounds, point, 1) === 'intersect';\n}\n\nfunction getOriginal(point) {\n  return point.original || point;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL2hlbHBlci9BbmNob3JzSGVscGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFFcUM7O0FBSUU7O0FBS3JCOztBQUVsQjtBQUNBLGFBQWEsaURBQWlEO0FBQzlELGFBQWEsNENBQTRDO0FBQ3pEO0FBQ0EsYUFBYSx3Q0FBd0M7QUFDckQsYUFBYSx1Q0FBdUM7QUFDcEQ7O0FBRUE7QUFDQSxXQUFXLFlBQVk7QUFDdkIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsTUFBTTtBQUNqQixZQUFZO0FBQ1o7QUFDTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUyxtRUFBaUI7QUFDMUI7OztBQUdPOztBQUVQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTLG1FQUFpQjtBQUMxQjs7O0FBR087O0FBRVA7QUFDQTtBQUNBOztBQUVBLFNBQVMsbUVBQWlCO0FBQzFCOzs7QUFHTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUEsU0FBUyxtRUFBaUI7QUFDMUI7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSwwQkFBMEIsNkNBQUc7O0FBRTdCLFNBQVMsZ0RBQU07QUFDZjtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxNQUFNO0FBQ2pCO0FBQ0E7QUFDQSxTQUFTLGtFQUFjO0FBQ3ZCOztBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvaGVscGVyL0FuY2hvcnNIZWxwZXIuanM/NDM5OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBnZXROZXdBdHRhY2hQb2ludFxufSBmcm9tICcuLi8uLi8uLi8uLi91dGlsL0F0dGFjaFV0aWwnO1xuXG5pbXBvcnQge1xuICBnZXRPcmllbnRhdGlvblxufSBmcm9tICcuLi8uLi8uLi8uLi9sYXlvdXQvTGF5b3V0VXRpbCc7XG5cbmltcG9ydCB7XG4gIGZpbHRlcixcbiAgbWFwXG59IGZyb20gJ21pbi1kYXNoJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi8uLi8uLi9jb3JlL1R5cGVzJykuQ29ubmVjdGlvbkxpa2V9IENvbm5lY3Rpb25cbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uLy4uLy4uL2NvcmUvVHlwZXMnKS5TaGFwZUxpa2V9IFNoYXBlXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vLi4vLi4vdXRpbC9UeXBlcycpLlBvaW50fSBQb2ludFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vLi4vLi4vdXRpbC9UeXBlcycpLlJlY3R9IFJlY3RcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7Q29ubmVjdGlvbn0gY29ubmVjdGlvblxuICogQHBhcmFtIHtTaGFwZX0gc2hhcGVcbiAqIEBwYXJhbSB7UmVjdH0gb2xkQm91bmRzXG4gKiBAcmV0dXJuIHtQb2ludH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJlc2l6ZWRTb3VyY2VBbmNob3IoY29ubmVjdGlvbiwgc2hhcGUsIG9sZEJvdW5kcykge1xuXG4gIHZhciB3YXlwb2ludHMgPSBzYWZlR2V0V2F5cG9pbnRzKGNvbm5lY3Rpb24pLFxuICAgICAgd2F5cG9pbnRzSW5zaWRlTmV3Qm91bmRzID0gZ2V0V2F5cG9pbnRzSW5zaWRlQm91bmRzKHdheXBvaW50cywgc2hhcGUpLFxuICAgICAgb2xkQW5jaG9yID0gd2F5cG9pbnRzWzBdO1xuXG4gIC8vIG5ldyBhbmNob3IgaXMgdGhlIGxhc3Qgd2F5cG9pbnQgZW5jbG9zZWQgYmUgcmVzaXplZCBzb3VyY2VcbiAgaWYgKHdheXBvaW50c0luc2lkZU5ld0JvdW5kcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gd2F5cG9pbnRzSW5zaWRlTmV3Qm91bmRzWyB3YXlwb2ludHNJbnNpZGVOZXdCb3VuZHMubGVuZ3RoIC0gMSBdO1xuICB9XG5cbiAgcmV0dXJuIGdldE5ld0F0dGFjaFBvaW50KG9sZEFuY2hvci5vcmlnaW5hbCB8fCBvbGRBbmNob3IsIG9sZEJvdW5kcywgc2hhcGUpO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZXNpemVkVGFyZ2V0QW5jaG9yKGNvbm5lY3Rpb24sIHNoYXBlLCBvbGRCb3VuZHMpIHtcblxuICB2YXIgd2F5cG9pbnRzID0gc2FmZUdldFdheXBvaW50cyhjb25uZWN0aW9uKSxcbiAgICAgIHdheXBvaW50c0luc2lkZU5ld0JvdW5kcyA9IGdldFdheXBvaW50c0luc2lkZUJvdW5kcyh3YXlwb2ludHMsIHNoYXBlKSxcbiAgICAgIG9sZEFuY2hvciA9IHdheXBvaW50c1t3YXlwb2ludHMubGVuZ3RoIC0gMV07XG5cbiAgLy8gbmV3IGFuY2hvciBpcyB0aGUgZmlyc3Qgd2F5cG9pbnQgZW5jbG9zZWQgYmUgcmVzaXplZCB0YXJnZXRcbiAgaWYgKHdheXBvaW50c0luc2lkZU5ld0JvdW5kcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gd2F5cG9pbnRzSW5zaWRlTmV3Qm91bmRzWyAwIF07XG4gIH1cblxuICByZXR1cm4gZ2V0TmV3QXR0YWNoUG9pbnQob2xkQW5jaG9yLm9yaWdpbmFsIHx8IG9sZEFuY2hvciwgb2xkQm91bmRzLCBzaGFwZSk7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1vdmVkU291cmNlQW5jaG9yKGNvbm5lY3Rpb24sIHNvdXJjZSwgbW92ZURlbHRhKSB7XG5cbiAgdmFyIHdheXBvaW50cyA9IHNhZmVHZXRXYXlwb2ludHMoY29ubmVjdGlvbiksXG4gICAgICBvbGRCb3VuZHMgPSBzdWJ0cmFjdChzb3VyY2UsIG1vdmVEZWx0YSksXG4gICAgICBvbGRBbmNob3IgPSB3YXlwb2ludHNbIDAgXTtcblxuICByZXR1cm4gZ2V0TmV3QXR0YWNoUG9pbnQob2xkQW5jaG9yLm9yaWdpbmFsIHx8IG9sZEFuY2hvciwgb2xkQm91bmRzLCBzb3VyY2UpO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNb3ZlZFRhcmdldEFuY2hvcihjb25uZWN0aW9uLCB0YXJnZXQsIG1vdmVEZWx0YSkge1xuXG4gIHZhciB3YXlwb2ludHMgPSBzYWZlR2V0V2F5cG9pbnRzKGNvbm5lY3Rpb24pLFxuICAgICAgb2xkQm91bmRzID0gc3VidHJhY3QodGFyZ2V0LCBtb3ZlRGVsdGEpLFxuICAgICAgb2xkQW5jaG9yID0gd2F5cG9pbnRzWyB3YXlwb2ludHMubGVuZ3RoIC0gMSBdO1xuXG4gIHJldHVybiBnZXROZXdBdHRhY2hQb2ludChvbGRBbmNob3Iub3JpZ2luYWwgfHwgb2xkQW5jaG9yLCBvbGRCb3VuZHMsIHRhcmdldCk7XG59XG5cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIHN1YnRyYWN0KGJvdW5kcywgZGVsdGEpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBib3VuZHMueCAtIGRlbHRhLngsXG4gICAgeTogYm91bmRzLnkgLSBkZWx0YS55LFxuICAgIHdpZHRoOiBib3VuZHMud2lkdGgsXG4gICAgaGVpZ2h0OiBib3VuZHMuaGVpZ2h0XG4gIH07XG59XG5cblxuLyoqXG4gKiBSZXR1cm4gd2F5cG9pbnRzIG9mIGdpdmVuIGNvbm5lY3Rpb247IHRocm93IGlmIG5vbiBleGlzdHMgKHNob3VsZCBub3QgaGFwcGVuISEpLlxuICpcbiAqIEBwYXJhbSB7Q29ubmVjdGlvbn0gY29ubmVjdGlvblxuICpcbiAqIEByZXR1cm4ge1BvaW50W119XG4gKi9cbmZ1bmN0aW9uIHNhZmVHZXRXYXlwb2ludHMoY29ubmVjdGlvbikge1xuXG4gIHZhciB3YXlwb2ludHMgPSBjb25uZWN0aW9uLndheXBvaW50cztcblxuICBpZiAoIXdheXBvaW50cy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2Nvbm5lY3Rpb24jJyArIGNvbm5lY3Rpb24uaWQgKyAnOiBubyB3YXlwb2ludHMnKTtcbiAgfVxuXG4gIHJldHVybiB3YXlwb2ludHM7XG59XG5cbmZ1bmN0aW9uIGdldFdheXBvaW50c0luc2lkZUJvdW5kcyh3YXlwb2ludHMsIGJvdW5kcykge1xuICB2YXIgb3JpZ2luYWxXYXlwb2ludHMgPSBtYXAod2F5cG9pbnRzLCBnZXRPcmlnaW5hbCk7XG5cbiAgcmV0dXJuIGZpbHRlcihvcmlnaW5hbFdheXBvaW50cywgZnVuY3Rpb24od2F5cG9pbnQpIHtcbiAgICByZXR1cm4gaXNJbnNpZGVCb3VuZHMod2F5cG9pbnQsIGJvdW5kcyk7XG4gIH0pO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBwb2ludCBpcyBpbnNpZGUgYm91bmRzLCBpbmNsLiBlZGdlcy5cbiAqXG4gKiBAcGFyYW0ge1BvaW50fSBwb2ludFxuICogQHBhcmFtIHtSZWN0fSBib3VuZHNcbiAqL1xuZnVuY3Rpb24gaXNJbnNpZGVCb3VuZHMocG9pbnQsIGJvdW5kcykge1xuICByZXR1cm4gZ2V0T3JpZW50YXRpb24oYm91bmRzLCBwb2ludCwgMSkgPT09ICdpbnRlcnNlY3QnO1xufVxuXG5mdW5jdGlvbiBnZXRPcmlnaW5hbChwb2ludCkge1xuICByZXR1cm4gcG9pbnQub3JpZ2luYWwgfHwgcG9pbnQ7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/helper/AnchorsHelper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/helper/MoveClosure.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/modeling/cmd/helper/MoveClosure.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MoveClosure)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _util_Elements__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../util/Elements */ \"(ssr)/./node_modules/diagram-js/lib/util/Elements.js\");\n\n\n\n\n/**\n * @typedef {import('../../../../model/Types').Connection} Connection\n * @typedef {import('../../../../model/Types').Element} Element\n * @typedef {import('../../../../model/Types').Shape} Shape\n */\n\nfunction MoveClosure() {\n\n  /**\n   * @type {Record<string, Shape>}\n   */\n  this.allShapes = {};\n\n  /**\n   * @type {Record<string, Connection>}\n   */\n  this.allConnections = {};\n\n  /**\n   * @type {Record<string, Element>}\n   */\n  this.enclosedElements = {};\n\n  /**\n   * @type {Record<string, Connection>}\n   */\n  this.enclosedConnections = {};\n\n  /**\n   * @type {Record<string, Element>}\n   */\n  this.topLevel = {};\n}\n\n/**\n * @param {Element} element\n * @param {boolean} [isTopLevel]\n *\n * @return {MoveClosure}\n */\nMoveClosure.prototype.add = function(element, isTopLevel) {\n  return this.addAll([ element ], isTopLevel);\n};\n\n/**\n * @param {Element[]} elements\n * @param {boolean} [isTopLevel]\n *\n * @return {MoveClosure}\n */\nMoveClosure.prototype.addAll = function(elements, isTopLevel) {\n\n  var newClosure = (0,_util_Elements__WEBPACK_IMPORTED_MODULE_0__.getClosure)(elements, !!isTopLevel, this);\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(this, newClosure);\n\n  return this;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL2hlbHBlci9Nb3ZlQ2xvc3VyZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFFa0I7O0FBSWlCOztBQUVuQztBQUNBLGFBQWEsOENBQThDO0FBQzNELGFBQWEsMkNBQTJDO0FBQ3hELGFBQWEseUNBQXlDO0FBQ3REOztBQUVlOztBQUVmO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsV0FBVztBQUN0QixXQUFXLFNBQVM7QUFDcEI7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQSxtQkFBbUIsMERBQVU7O0FBRTdCLEVBQUUsZ0RBQU07O0FBRVI7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvaGVscGVyL01vdmVDbG9zdXJlLmpzPzYzNmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgYXNzaWduXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgZ2V0Q2xvc3VyZVxufSBmcm9tICcuLi8uLi8uLi8uLi91dGlsL0VsZW1lbnRzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi8uLi8uLi9tb2RlbC9UeXBlcycpLkNvbm5lY3Rpb259IENvbm5lY3Rpb25cbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uLy4uLy4uL21vZGVsL1R5cGVzJykuRWxlbWVudH0gRWxlbWVudFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vLi4vLi4vbW9kZWwvVHlwZXMnKS5TaGFwZX0gU2hhcGVcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNb3ZlQ2xvc3VyZSgpIHtcblxuICAvKipcbiAgICogQHR5cGUge1JlY29yZDxzdHJpbmcsIFNoYXBlPn1cbiAgICovXG4gIHRoaXMuYWxsU2hhcGVzID0ge307XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nLCBDb25uZWN0aW9uPn1cbiAgICovXG4gIHRoaXMuYWxsQ29ubmVjdGlvbnMgPSB7fTtcblxuICAvKipcbiAgICogQHR5cGUge1JlY29yZDxzdHJpbmcsIEVsZW1lbnQ+fVxuICAgKi9cbiAgdGhpcy5lbmNsb3NlZEVsZW1lbnRzID0ge307XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nLCBDb25uZWN0aW9uPn1cbiAgICovXG4gIHRoaXMuZW5jbG9zZWRDb25uZWN0aW9ucyA9IHt9O1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgRWxlbWVudD59XG4gICAqL1xuICB0aGlzLnRvcExldmVsID0ge307XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1RvcExldmVsXVxuICpcbiAqIEByZXR1cm4ge01vdmVDbG9zdXJlfVxuICovXG5Nb3ZlQ2xvc3VyZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oZWxlbWVudCwgaXNUb3BMZXZlbCkge1xuICByZXR1cm4gdGhpcy5hZGRBbGwoWyBlbGVtZW50IF0sIGlzVG9wTGV2ZWwpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnRbXX0gZWxlbWVudHNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzVG9wTGV2ZWxdXG4gKlxuICogQHJldHVybiB7TW92ZUNsb3N1cmV9XG4gKi9cbk1vdmVDbG9zdXJlLnByb3RvdHlwZS5hZGRBbGwgPSBmdW5jdGlvbihlbGVtZW50cywgaXNUb3BMZXZlbCkge1xuXG4gIHZhciBuZXdDbG9zdXJlID0gZ2V0Q2xvc3VyZShlbGVtZW50cywgISFpc1RvcExldmVsLCB0aGlzKTtcblxuICBhc3NpZ24odGhpcywgbmV3Q2xvc3VyZSk7XG5cbiAgcmV0dXJuIHRoaXM7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/helper/MoveClosure.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/helper/MoveHelper.js":
/*!********************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/modeling/cmd/helper/MoveHelper.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MoveHelper)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _AnchorsHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AnchorsHelper */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/helper/AnchorsHelper.js\");\n/* harmony import */ var _MoveClosure__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MoveClosure */ \"(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/helper/MoveClosure.js\");\n\n\n\n\n\n\n/**\n * @typedef {import('../../../../core/Types').ElementLike} Element\n * @typedef {import('../../../../core/Types').ShapeLike} Shape\n *\n * @typedef {import('../../../../util/Types').Point} Point\n *\n * @typedef {import('../../Modeling').default} Modeling\n */\n\n/**\n * A helper that is able to carry out serialized move\n * operations on multiple elements.\n *\n * @param {Modeling} modeling\n */\nfunction MoveHelper(modeling) {\n  this._modeling = modeling;\n}\n\n/**\n * Move the specified elements and all children by the given delta.\n *\n * This moves all enclosed connections, too and layouts all affected\n * external connections.\n *\n * @template {Element} T\n *\n * @param {T[]} elements\n * @param {Point} delta\n * @param {Shape} newParent The new parent of all elements that are not nested.\n *\n * @return {T[]}\n */\nMoveHelper.prototype.moveRecursive = function(elements, delta, newParent) {\n  if (!elements) {\n    return [];\n  } else {\n    return this.moveClosure(this.getClosure(elements), delta, newParent);\n  }\n};\n\n/**\n * Move the given closure of elmements.\n *\n * @param {Object} closure\n * @param {Point} delta\n * @param {Shape} [newParent]\n * @param {Shape} [newHost]\n */\nMoveHelper.prototype.moveClosure = function(closure, delta, newParent, newHost, primaryShape) {\n  var modeling = this._modeling;\n\n  var allShapes = closure.allShapes,\n      allConnections = closure.allConnections,\n      enclosedConnections = closure.enclosedConnections,\n      topLevel = closure.topLevel,\n      keepParent = false;\n\n  if (primaryShape && primaryShape.parent === newParent) {\n    keepParent = true;\n  }\n\n  // move all shapes\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(allShapes, function(shape) {\n\n    // move the element according to the given delta\n    modeling.moveShape(shape, delta, topLevel[shape.id] && !keepParent && newParent, {\n      recurse: false,\n      layout: false\n    });\n  });\n\n  // move all child connections / layout external connections\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(allConnections, function(c) {\n\n    var sourceMoved = !!allShapes[c.source.id],\n        targetMoved = !!allShapes[c.target.id];\n\n    if (enclosedConnections[c.id] && sourceMoved && targetMoved) {\n      modeling.moveConnection(c, delta, topLevel[c.id] && !keepParent && newParent);\n    } else {\n      modeling.layoutConnection(c, {\n        connectionStart: sourceMoved && (0,_AnchorsHelper__WEBPACK_IMPORTED_MODULE_1__.getMovedSourceAnchor)(c, c.source, delta),\n        connectionEnd: targetMoved && (0,_AnchorsHelper__WEBPACK_IMPORTED_MODULE_1__.getMovedTargetAnchor)(c, c.target, delta)\n      });\n    }\n  });\n};\n\n/**\n * Returns the closure for the selected elements\n *\n * @param {Element[]} elements\n *\n * @return {MoveClosure}\n */\nMoveHelper.prototype.getClosure = function(elements) {\n  return new _MoveClosure__WEBPACK_IMPORTED_MODULE_2__[\"default\"]().addAll(elements, true);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvY21kL2hlbHBlci9Nb3ZlSGVscGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFFa0I7O0FBS087O0FBRWU7O0FBRXhDO0FBQ0EsYUFBYSw4Q0FBOEM7QUFDM0QsYUFBYSw0Q0FBNEM7QUFDekQ7QUFDQSxhQUFhLHdDQUF3QztBQUNyRDtBQUNBLGFBQWEsa0NBQWtDO0FBQy9DOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ2U7QUFDZjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsU0FBUztBQUN2QjtBQUNBLFdBQVcsS0FBSztBQUNoQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRSxpREFBTzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0EsRUFBRSxpREFBTzs7QUFFVDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSx3Q0FBd0Msb0VBQW9CO0FBQzVELHNDQUFzQyxvRUFBb0I7QUFDMUQsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsYUFBYSxvREFBVztBQUN4QiIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy9jbWQvaGVscGVyL01vdmVIZWxwZXIuanM/YzE2ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBmb3JFYWNoXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgZ2V0TW92ZWRTb3VyY2VBbmNob3IsXG4gIGdldE1vdmVkVGFyZ2V0QW5jaG9yXG59IGZyb20gJy4vQW5jaG9yc0hlbHBlcic7XG5cbmltcG9ydCBNb3ZlQ2xvc3VyZSBmcm9tICcuL01vdmVDbG9zdXJlJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi8uLi8uLi9jb3JlL1R5cGVzJykuRWxlbWVudExpa2V9IEVsZW1lbnRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uLy4uLy4uL2NvcmUvVHlwZXMnKS5TaGFwZUxpa2V9IFNoYXBlXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vLi4vLi4vdXRpbC9UeXBlcycpLlBvaW50fSBQb2ludFxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL01vZGVsaW5nJykuZGVmYXVsdH0gTW9kZWxpbmdcbiAqL1xuXG4vKipcbiAqIEEgaGVscGVyIHRoYXQgaXMgYWJsZSB0byBjYXJyeSBvdXQgc2VyaWFsaXplZCBtb3ZlXG4gKiBvcGVyYXRpb25zIG9uIG11bHRpcGxlIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7TW9kZWxpbmd9IG1vZGVsaW5nXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1vdmVIZWxwZXIobW9kZWxpbmcpIHtcbiAgdGhpcy5fbW9kZWxpbmcgPSBtb2RlbGluZztcbn1cblxuLyoqXG4gKiBNb3ZlIHRoZSBzcGVjaWZpZWQgZWxlbWVudHMgYW5kIGFsbCBjaGlsZHJlbiBieSB0aGUgZ2l2ZW4gZGVsdGEuXG4gKlxuICogVGhpcyBtb3ZlcyBhbGwgZW5jbG9zZWQgY29ubmVjdGlvbnMsIHRvbyBhbmQgbGF5b3V0cyBhbGwgYWZmZWN0ZWRcbiAqIGV4dGVybmFsIGNvbm5lY3Rpb25zLlxuICpcbiAqIEB0ZW1wbGF0ZSB7RWxlbWVudH0gVFxuICpcbiAqIEBwYXJhbSB7VFtdfSBlbGVtZW50c1xuICogQHBhcmFtIHtQb2ludH0gZGVsdGFcbiAqIEBwYXJhbSB7U2hhcGV9IG5ld1BhcmVudCBUaGUgbmV3IHBhcmVudCBvZiBhbGwgZWxlbWVudHMgdGhhdCBhcmUgbm90IG5lc3RlZC5cbiAqXG4gKiBAcmV0dXJuIHtUW119XG4gKi9cbk1vdmVIZWxwZXIucHJvdG90eXBlLm1vdmVSZWN1cnNpdmUgPSBmdW5jdGlvbihlbGVtZW50cywgZGVsdGEsIG5ld1BhcmVudCkge1xuICBpZiAoIWVsZW1lbnRzKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0aGlzLm1vdmVDbG9zdXJlKHRoaXMuZ2V0Q2xvc3VyZShlbGVtZW50cyksIGRlbHRhLCBuZXdQYXJlbnQpO1xuICB9XG59O1xuXG4vKipcbiAqIE1vdmUgdGhlIGdpdmVuIGNsb3N1cmUgb2YgZWxtZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjbG9zdXJlXG4gKiBAcGFyYW0ge1BvaW50fSBkZWx0YVxuICogQHBhcmFtIHtTaGFwZX0gW25ld1BhcmVudF1cbiAqIEBwYXJhbSB7U2hhcGV9IFtuZXdIb3N0XVxuICovXG5Nb3ZlSGVscGVyLnByb3RvdHlwZS5tb3ZlQ2xvc3VyZSA9IGZ1bmN0aW9uKGNsb3N1cmUsIGRlbHRhLCBuZXdQYXJlbnQsIG5ld0hvc3QsIHByaW1hcnlTaGFwZSkge1xuICB2YXIgbW9kZWxpbmcgPSB0aGlzLl9tb2RlbGluZztcblxuICB2YXIgYWxsU2hhcGVzID0gY2xvc3VyZS5hbGxTaGFwZXMsXG4gICAgICBhbGxDb25uZWN0aW9ucyA9IGNsb3N1cmUuYWxsQ29ubmVjdGlvbnMsXG4gICAgICBlbmNsb3NlZENvbm5lY3Rpb25zID0gY2xvc3VyZS5lbmNsb3NlZENvbm5lY3Rpb25zLFxuICAgICAgdG9wTGV2ZWwgPSBjbG9zdXJlLnRvcExldmVsLFxuICAgICAga2VlcFBhcmVudCA9IGZhbHNlO1xuXG4gIGlmIChwcmltYXJ5U2hhcGUgJiYgcHJpbWFyeVNoYXBlLnBhcmVudCA9PT0gbmV3UGFyZW50KSB7XG4gICAga2VlcFBhcmVudCA9IHRydWU7XG4gIH1cblxuICAvLyBtb3ZlIGFsbCBzaGFwZXNcbiAgZm9yRWFjaChhbGxTaGFwZXMsIGZ1bmN0aW9uKHNoYXBlKSB7XG5cbiAgICAvLyBtb3ZlIHRoZSBlbGVtZW50IGFjY29yZGluZyB0byB0aGUgZ2l2ZW4gZGVsdGFcbiAgICBtb2RlbGluZy5tb3ZlU2hhcGUoc2hhcGUsIGRlbHRhLCB0b3BMZXZlbFtzaGFwZS5pZF0gJiYgIWtlZXBQYXJlbnQgJiYgbmV3UGFyZW50LCB7XG4gICAgICByZWN1cnNlOiBmYWxzZSxcbiAgICAgIGxheW91dDogZmFsc2VcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gbW92ZSBhbGwgY2hpbGQgY29ubmVjdGlvbnMgLyBsYXlvdXQgZXh0ZXJuYWwgY29ubmVjdGlvbnNcbiAgZm9yRWFjaChhbGxDb25uZWN0aW9ucywgZnVuY3Rpb24oYykge1xuXG4gICAgdmFyIHNvdXJjZU1vdmVkID0gISFhbGxTaGFwZXNbYy5zb3VyY2UuaWRdLFxuICAgICAgICB0YXJnZXRNb3ZlZCA9ICEhYWxsU2hhcGVzW2MudGFyZ2V0LmlkXTtcblxuICAgIGlmIChlbmNsb3NlZENvbm5lY3Rpb25zW2MuaWRdICYmIHNvdXJjZU1vdmVkICYmIHRhcmdldE1vdmVkKSB7XG4gICAgICBtb2RlbGluZy5tb3ZlQ29ubmVjdGlvbihjLCBkZWx0YSwgdG9wTGV2ZWxbYy5pZF0gJiYgIWtlZXBQYXJlbnQgJiYgbmV3UGFyZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbW9kZWxpbmcubGF5b3V0Q29ubmVjdGlvbihjLCB7XG4gICAgICAgIGNvbm5lY3Rpb25TdGFydDogc291cmNlTW92ZWQgJiYgZ2V0TW92ZWRTb3VyY2VBbmNob3IoYywgYy5zb3VyY2UsIGRlbHRhKSxcbiAgICAgICAgY29ubmVjdGlvbkVuZDogdGFyZ2V0TW92ZWQgJiYgZ2V0TW92ZWRUYXJnZXRBbmNob3IoYywgYy50YXJnZXQsIGRlbHRhKVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgY2xvc3VyZSBmb3IgdGhlIHNlbGVjdGVkIGVsZW1lbnRzXG4gKlxuICogQHBhcmFtIHtFbGVtZW50W119IGVsZW1lbnRzXG4gKlxuICogQHJldHVybiB7TW92ZUNsb3N1cmV9XG4gKi9cbk1vdmVIZWxwZXIucHJvdG90eXBlLmdldENsb3N1cmUgPSBmdW5jdGlvbihlbGVtZW50cykge1xuICByZXR1cm4gbmV3IE1vdmVDbG9zdXJlKCkuYWRkQWxsKGVsZW1lbnRzLCB0cnVlKTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/modeling/cmd/helper/MoveHelper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/mouse/Mouse.js":
/*!*************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/mouse/Mouse.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createMoveEvent: () => (/* binding */ createMoveEvent),\n/* harmony export */   \"default\": () => (/* binding */ Mouse)\n/* harmony export */ });\n/**\r\n * @typedef {import('../../core/EventBus').default} EventBus\r\n */\r\n\r\n/**\r\n * @param {EventBus} eventBus\r\n */\r\nfunction Mouse(eventBus) {\r\n  var self = this;\r\n\r\n  this._lastMoveEvent = null;\r\n\r\n  function setLastMoveEvent(mousemoveEvent) {\r\n    self._lastMoveEvent = mousemoveEvent;\r\n  }\r\n\r\n  eventBus.on('canvas.init', function(context) {\r\n    var svg = self._svg = context.svg;\r\n\r\n    svg.addEventListener('mousemove', setLastMoveEvent);\r\n  });\r\n\r\n  eventBus.on('canvas.destroy', function() {\r\n    self._lastMouseEvent = null;\r\n\r\n    self._svg.removeEventListener('mousemove', setLastMoveEvent);\r\n  });\r\n}\r\n\r\nMouse.$inject = [ 'eventBus' ];\r\n\r\nMouse.prototype.getLastMoveEvent = function() {\r\n  return this._lastMoveEvent || createMoveEvent(0, 0);\r\n};\r\n\r\n// helpers //////////\r\n\r\nfunction createMoveEvent(x, y) {\r\n  var event = document.createEvent('MouseEvent');\r\n\r\n  var screenX = x,\r\n      screenY = y,\r\n      clientX = x,\r\n      clientY = y;\r\n\r\n  if (event.initMouseEvent) {\r\n    event.initMouseEvent(\r\n      'mousemove',\r\n      true,\r\n      true,\r\n      window,\r\n      0,\r\n      screenX,\r\n      screenY,\r\n      clientX,\r\n      clientY,\r\n      false,\r\n      false,\r\n      false,\r\n      false,\r\n      0,\r\n      null\r\n    );\r\n  }\r\n\r\n  return event;\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW91c2UvTW91c2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBLGFBQWEsdUNBQXVDO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW91c2UvTW91c2UuanM/ZjVkNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNb3VzZShldmVudEJ1cykge1xyXG4gIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgdGhpcy5fbGFzdE1vdmVFdmVudCA9IG51bGw7XHJcblxyXG4gIGZ1bmN0aW9uIHNldExhc3RNb3ZlRXZlbnQobW91c2Vtb3ZlRXZlbnQpIHtcclxuICAgIHNlbGYuX2xhc3RNb3ZlRXZlbnQgPSBtb3VzZW1vdmVFdmVudDtcclxuICB9XHJcblxyXG4gIGV2ZW50QnVzLm9uKCdjYW52YXMuaW5pdCcsIGZ1bmN0aW9uKGNvbnRleHQpIHtcclxuICAgIHZhciBzdmcgPSBzZWxmLl9zdmcgPSBjb250ZXh0LnN2ZztcclxuXHJcbiAgICBzdmcuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgc2V0TGFzdE1vdmVFdmVudCk7XHJcbiAgfSk7XHJcblxyXG4gIGV2ZW50QnVzLm9uKCdjYW52YXMuZGVzdHJveScsIGZ1bmN0aW9uKCkge1xyXG4gICAgc2VsZi5fbGFzdE1vdXNlRXZlbnQgPSBudWxsO1xyXG5cclxuICAgIHNlbGYuX3N2Zy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBzZXRMYXN0TW92ZUV2ZW50KTtcclxuICB9KTtcclxufVxyXG5cclxuTW91c2UuJGluamVjdCA9IFsgJ2V2ZW50QnVzJyBdO1xyXG5cclxuTW91c2UucHJvdG90eXBlLmdldExhc3RNb3ZlRXZlbnQgPSBmdW5jdGlvbigpIHtcclxuICByZXR1cm4gdGhpcy5fbGFzdE1vdmVFdmVudCB8fCBjcmVhdGVNb3ZlRXZlbnQoMCwgMCk7XHJcbn07XHJcblxyXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNb3ZlRXZlbnQoeCwgeSkge1xyXG4gIHZhciBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50Jyk7XHJcblxyXG4gIHZhciBzY3JlZW5YID0geCxcclxuICAgICAgc2NyZWVuWSA9IHksXHJcbiAgICAgIGNsaWVudFggPSB4LFxyXG4gICAgICBjbGllbnRZID0geTtcclxuXHJcbiAgaWYgKGV2ZW50LmluaXRNb3VzZUV2ZW50KSB7XHJcbiAgICBldmVudC5pbml0TW91c2VFdmVudChcclxuICAgICAgJ21vdXNlbW92ZScsXHJcbiAgICAgIHRydWUsXHJcbiAgICAgIHRydWUsXHJcbiAgICAgIHdpbmRvdyxcclxuICAgICAgMCxcclxuICAgICAgc2NyZWVuWCxcclxuICAgICAgc2NyZWVuWSxcclxuICAgICAgY2xpZW50WCxcclxuICAgICAgY2xpZW50WSxcclxuICAgICAgZmFsc2UsXHJcbiAgICAgIGZhbHNlLFxyXG4gICAgICBmYWxzZSxcclxuICAgICAgZmFsc2UsXHJcbiAgICAgIDAsXHJcbiAgICAgIG51bGxcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZXZlbnQ7XHJcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/mouse/Mouse.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/mouse/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/mouse/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Mouse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Mouse */ \"(ssr)/./node_modules/diagram-js/lib/features/mouse/Mouse.js\");\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [ 'mouse' ],\n  mouse: [ 'type', _Mouse__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW91c2UvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNEI7OztBQUc1QjtBQUNBLFdBQVc7QUFDWDtBQUNBLGlFQUFlO0FBQ2Y7QUFDQSxtQkFBbUIsOENBQUs7QUFDeEIsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL21vdXNlL2luZGV4LmpzP2Y2ZTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE1vdXNlIGZyb20gJy4vTW91c2UnO1xuXG5cbi8qKlxuICogQHR5cGUgeyBpbXBvcnQoJ2RpZGknKS5Nb2R1bGVEZWNsYXJhdGlvbiB9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19pbml0X186IFsgJ21vdXNlJyBdLFxuICBtb3VzZTogWyAndHlwZScsIE1vdXNlIF1cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/mouse/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/move/Move.js":
/*!***********************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/move/Move.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MoveEvents)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/./node_modules/tiny-svg/dist/index.esm.js\");\n/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/Event */ \"(ssr)/./node_modules/diagram-js/lib/util/Event.js\");\n/* harmony import */ var _util_Mouse__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Mouse */ \"(ssr)/./node_modules/diagram-js/lib/util/Mouse.js\");\n\n\n\n\n/**\n * @typedef {import('../../core/Types').ElementLike} Element\n * @typedef {import('../../core/Types').ShapeLike} Shape\n *\n * @typedef {import('../dragging/Dragging').default} Dragging\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../modeling/Modeling').default} Modeling\n * @typedef {import('../rules/Rules').default} Rules\n * @typedef {import('../selection/Selection').default} Selection\n */\n\nvar LOW_PRIORITY = 500,\n    MEDIUM_PRIORITY = 1250,\n    HIGH_PRIORITY = 1500;\n\n\n\n\n\nvar round = Math.round;\n\nfunction mid(element) {\n  return {\n    x: element.x + round(element.width / 2),\n    y: element.y + round(element.height / 2)\n  };\n}\n\n/**\n * A plugin that makes shapes draggable / droppable.\n *\n * @param {EventBus} eventBus\n * @param {Dragging} dragging\n * @param {Modeling} modeling\n * @param {Selection} selection\n * @param {Rules} rules\n */\nfunction MoveEvents(\n    eventBus, dragging, modeling,\n    selection, rules) {\n\n  // rules\n\n  function canMove(shapes, delta, position, target) {\n\n    return rules.allowed('elements.move', {\n      shapes: shapes,\n      delta: delta,\n      position: position,\n      target: target\n    });\n  }\n\n\n  // move events\n\n  // assign a high priority to this handler to setup the environment\n  // others may hook up later, e.g. at default priority and modify\n  // the move environment.\n  //\n  // This sets up the context with\n  //\n  // * shape: the primary shape being moved\n  // * shapes: a list of shapes to be moved\n  // * validatedShapes: a list of shapes that are being checked\n  //                    against the rules before and during move\n  //\n  eventBus.on('shape.move.start', HIGH_PRIORITY, function(event) {\n\n    var context = event.context,\n        shape = event.shape,\n        shapes = selection.get().slice();\n\n    // move only single shape if the dragged element\n    // is not part of the current selection\n    if (shapes.indexOf(shape) === -1) {\n      shapes = [ shape ];\n    }\n\n    // ensure we remove nested elements in the collection\n    // and add attachers for a proper dragger\n    shapes = removeNested(shapes);\n\n    // attach shapes to drag context\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(context, {\n      shapes: shapes,\n      validatedShapes: shapes,\n      shape: shape\n    });\n  });\n\n\n  // assign a high priority to this handler to setup the environment\n  // others may hook up later, e.g. at default priority and modify\n  // the move environment\n  //\n  eventBus.on('shape.move.start', MEDIUM_PRIORITY, function(event) {\n\n    var context = event.context,\n        validatedShapes = context.validatedShapes,\n        canExecute;\n\n    canExecute = context.canExecute = canMove(validatedShapes);\n\n    // check if we can move the elements\n    if (!canExecute) {\n      return false;\n    }\n  });\n\n  // assign a low priority to this handler\n  // to let others modify the move event before we update\n  // the context\n  //\n  eventBus.on('shape.move.move', LOW_PRIORITY, function(event) {\n\n    var context = event.context,\n        validatedShapes = context.validatedShapes,\n        hover = event.hover,\n        delta = { x: event.dx, y: event.dy },\n        position = { x: event.x, y: event.y },\n        canExecute;\n\n    // check if we can move the elements\n    canExecute = canMove(validatedShapes, delta, position, hover);\n\n    context.delta = delta;\n    context.canExecute = canExecute;\n\n    // simply ignore move over\n    if (canExecute === null) {\n      context.target = null;\n\n      return;\n    }\n\n    context.target = hover;\n  });\n\n  eventBus.on('shape.move.end', function(event) {\n\n    var context = event.context;\n\n    var delta = context.delta,\n        canExecute = context.canExecute,\n        isAttach = canExecute === 'attach',\n        shapes = context.shapes;\n\n    if (canExecute === false) {\n      return false;\n    }\n\n    // ensure we have actual pixel values deltas\n    // (important when zoom level was > 1 during move)\n    delta.x = round(delta.x);\n    delta.y = round(delta.y);\n\n    if (delta.x === 0 && delta.y === 0) {\n\n      // didn't move\n      return;\n    }\n\n    modeling.moveElements(shapes, delta, context.target, {\n      primaryShape: context.shape,\n      attach: isAttach\n    });\n  });\n\n\n  // move activation\n\n  eventBus.on('element.mousedown', function(event) {\n\n    if (!(0,_util_Mouse__WEBPACK_IMPORTED_MODULE_1__.isPrimaryButton)(event)) {\n      return;\n    }\n\n    var originalEvent = (0,_util_Event__WEBPACK_IMPORTED_MODULE_2__.getOriginal)(event);\n\n    if (!originalEvent) {\n      throw new Error('must supply DOM mousedown event');\n    }\n\n    return start(originalEvent, event.element);\n  });\n\n  /**\n   * Start move.\n   *\n   * @param {MouseEvent|TouchEvent} event\n   * @param {Shape} element\n   * @param {boolean} [activate]\n   * @param {Object} [context]\n   */\n  function start(event, element, activate, context) {\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isObject)(activate)) {\n      context = activate;\n      activate = false;\n    }\n\n    // do not move connections or the root element\n    if (element.waypoints || !element.parent) {\n      return;\n    }\n\n    // ignore non-draggable hits\n    if ((0,tiny_svg__WEBPACK_IMPORTED_MODULE_3__.classes)(event.target).has('djs-hit-no-move')) {\n      return;\n    }\n\n    var referencePoint = mid(element);\n\n    dragging.init(event, referencePoint, 'shape.move', {\n      cursor: 'grabbing',\n      autoActivate: activate,\n      data: {\n        shape: element,\n        context: context || {}\n      }\n    });\n\n    // we've handled the event\n    return true;\n  }\n\n  // API\n\n  this.start = start;\n}\n\nMoveEvents.$inject = [\n  'eventBus',\n  'dragging',\n  'modeling',\n  'selection',\n  'rules'\n];\n\n\n/**\n * Return a filtered list of elements that do not contain\n * those nested into others.\n *\n * @param {Element[]} elements\n *\n * @return {Element[]} filtered\n */\nfunction removeNested(elements) {\n\n  var ids = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.groupBy)(elements, 'id');\n\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.filter)(elements, function(element) {\n    while ((element = element.parent)) {\n\n      // parent in selection\n      if (ids[element.id]) {\n        return false;\n      }\n    }\n\n    return true;\n  });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW92ZS9Nb3ZlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBS2tCOztBQUlBOztBQUVsQjtBQUNBLGFBQWEsd0NBQXdDO0FBQ3JELGFBQWEsc0NBQXNDO0FBQ25EO0FBQ0EsYUFBYSx3Q0FBd0M7QUFDckQsYUFBYSx1Q0FBdUM7QUFDcEQsYUFBYSx3Q0FBd0M7QUFDckQsYUFBYSxrQ0FBa0M7QUFDL0MsYUFBYSwwQ0FBMEM7QUFDdkQ7O0FBRUE7QUFDQTtBQUNBOztBQUVtRTs7QUFJekM7O0FBRTFCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsVUFBVTtBQUNyQixXQUFXLFdBQVc7QUFDdEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ2U7QUFDZjtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLGdEQUFNO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7OztBQUdIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiwwQkFBMEI7QUFDNUMscUJBQXFCLHdCQUF3QjtBQUM3Qzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7OztBQUdIOztBQUVBOztBQUVBLFNBQVMsNERBQWU7QUFDeEI7QUFDQTs7QUFFQSx3QkFBd0Isd0RBQWdCOztBQUV4QztBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLGFBQWEsdUJBQXVCO0FBQ3BDLGFBQWEsT0FBTztBQUNwQixhQUFhLFNBQVM7QUFDdEIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQSxRQUFRLGtEQUFRO0FBQ2hCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVEsaURBQVU7QUFDbEI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCO0FBQ0EsWUFBWSxXQUFXO0FBQ3ZCO0FBQ0E7O0FBRUEsWUFBWSxpREFBTzs7QUFFbkIsU0FBUyxnREFBTTtBQUNmOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW92ZS9Nb3ZlLmpzP2ZhOTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgYXNzaWduLFxuICBmaWx0ZXIsXG4gIGdyb3VwQnksXG4gIGlzT2JqZWN0XG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgY2xhc3NlcyBhcyBzdmdDbGFzc2VzXG59IGZyb20gJ3Rpbnktc3ZnJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL1R5cGVzJykuRWxlbWVudExpa2V9IEVsZW1lbnRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvVHlwZXMnKS5TaGFwZUxpa2V9IFNoYXBlXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vZHJhZ2dpbmcvRHJhZ2dpbmcnKS5kZWZhdWx0fSBEcmFnZ2luZ1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9tb2RlbGluZy9Nb2RlbGluZycpLmRlZmF1bHR9IE1vZGVsaW5nXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9ydWxlcy9SdWxlcycpLmRlZmF1bHR9IFJ1bGVzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9zZWxlY3Rpb24vU2VsZWN0aW9uJykuZGVmYXVsdH0gU2VsZWN0aW9uXG4gKi9cblxudmFyIExPV19QUklPUklUWSA9IDUwMCxcbiAgICBNRURJVU1fUFJJT1JJVFkgPSAxMjUwLFxuICAgIEhJR0hfUFJJT1JJVFkgPSAxNTAwO1xuXG5pbXBvcnQgeyBnZXRPcmlnaW5hbCBhcyBnZXRPcmlnaW5hbEV2ZW50IH0gZnJvbSAnLi4vLi4vdXRpbC9FdmVudCc7XG5cbmltcG9ydCB7XG4gIGlzUHJpbWFyeUJ1dHRvblxufSBmcm9tICcuLi8uLi91dGlsL01vdXNlJztcblxudmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcblxuZnVuY3Rpb24gbWlkKGVsZW1lbnQpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBlbGVtZW50LnggKyByb3VuZChlbGVtZW50LndpZHRoIC8gMiksXG4gICAgeTogZWxlbWVudC55ICsgcm91bmQoZWxlbWVudC5oZWlnaHQgLyAyKVxuICB9O1xufVxuXG4vKipcbiAqIEEgcGx1Z2luIHRoYXQgbWFrZXMgc2hhcGVzIGRyYWdnYWJsZSAvIGRyb3BwYWJsZS5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtEcmFnZ2luZ30gZHJhZ2dpbmdcbiAqIEBwYXJhbSB7TW9kZWxpbmd9IG1vZGVsaW5nXG4gKiBAcGFyYW0ge1NlbGVjdGlvbn0gc2VsZWN0aW9uXG4gKiBAcGFyYW0ge1J1bGVzfSBydWxlc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNb3ZlRXZlbnRzKFxuICAgIGV2ZW50QnVzLCBkcmFnZ2luZywgbW9kZWxpbmcsXG4gICAgc2VsZWN0aW9uLCBydWxlcykge1xuXG4gIC8vIHJ1bGVzXG5cbiAgZnVuY3Rpb24gY2FuTW92ZShzaGFwZXMsIGRlbHRhLCBwb3NpdGlvbiwgdGFyZ2V0KSB7XG5cbiAgICByZXR1cm4gcnVsZXMuYWxsb3dlZCgnZWxlbWVudHMubW92ZScsIHtcbiAgICAgIHNoYXBlczogc2hhcGVzLFxuICAgICAgZGVsdGE6IGRlbHRhLFxuICAgICAgcG9zaXRpb246IHBvc2l0aW9uLFxuICAgICAgdGFyZ2V0OiB0YXJnZXRcbiAgICB9KTtcbiAgfVxuXG5cbiAgLy8gbW92ZSBldmVudHNcblxuICAvLyBhc3NpZ24gYSBoaWdoIHByaW9yaXR5IHRvIHRoaXMgaGFuZGxlciB0byBzZXR1cCB0aGUgZW52aXJvbm1lbnRcbiAgLy8gb3RoZXJzIG1heSBob29rIHVwIGxhdGVyLCBlLmcuIGF0IGRlZmF1bHQgcHJpb3JpdHkgYW5kIG1vZGlmeVxuICAvLyB0aGUgbW92ZSBlbnZpcm9ubWVudC5cbiAgLy9cbiAgLy8gVGhpcyBzZXRzIHVwIHRoZSBjb250ZXh0IHdpdGhcbiAgLy9cbiAgLy8gKiBzaGFwZTogdGhlIHByaW1hcnkgc2hhcGUgYmVpbmcgbW92ZWRcbiAgLy8gKiBzaGFwZXM6IGEgbGlzdCBvZiBzaGFwZXMgdG8gYmUgbW92ZWRcbiAgLy8gKiB2YWxpZGF0ZWRTaGFwZXM6IGEgbGlzdCBvZiBzaGFwZXMgdGhhdCBhcmUgYmVpbmcgY2hlY2tlZFxuICAvLyAgICAgICAgICAgICAgICAgICAgYWdhaW5zdCB0aGUgcnVsZXMgYmVmb3JlIGFuZCBkdXJpbmcgbW92ZVxuICAvL1xuICBldmVudEJ1cy5vbignc2hhcGUubW92ZS5zdGFydCcsIEhJR0hfUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIHNoYXBlID0gZXZlbnQuc2hhcGUsXG4gICAgICAgIHNoYXBlcyA9IHNlbGVjdGlvbi5nZXQoKS5zbGljZSgpO1xuXG4gICAgLy8gbW92ZSBvbmx5IHNpbmdsZSBzaGFwZSBpZiB0aGUgZHJhZ2dlZCBlbGVtZW50XG4gICAgLy8gaXMgbm90IHBhcnQgb2YgdGhlIGN1cnJlbnQgc2VsZWN0aW9uXG4gICAgaWYgKHNoYXBlcy5pbmRleE9mKHNoYXBlKSA9PT0gLTEpIHtcbiAgICAgIHNoYXBlcyA9IFsgc2hhcGUgXTtcbiAgICB9XG5cbiAgICAvLyBlbnN1cmUgd2UgcmVtb3ZlIG5lc3RlZCBlbGVtZW50cyBpbiB0aGUgY29sbGVjdGlvblxuICAgIC8vIGFuZCBhZGQgYXR0YWNoZXJzIGZvciBhIHByb3BlciBkcmFnZ2VyXG4gICAgc2hhcGVzID0gcmVtb3ZlTmVzdGVkKHNoYXBlcyk7XG5cbiAgICAvLyBhdHRhY2ggc2hhcGVzIHRvIGRyYWcgY29udGV4dFxuICAgIGFzc2lnbihjb250ZXh0LCB7XG4gICAgICBzaGFwZXM6IHNoYXBlcyxcbiAgICAgIHZhbGlkYXRlZFNoYXBlczogc2hhcGVzLFxuICAgICAgc2hhcGU6IHNoYXBlXG4gICAgfSk7XG4gIH0pO1xuXG5cbiAgLy8gYXNzaWduIGEgaGlnaCBwcmlvcml0eSB0byB0aGlzIGhhbmRsZXIgdG8gc2V0dXAgdGhlIGVudmlyb25tZW50XG4gIC8vIG90aGVycyBtYXkgaG9vayB1cCBsYXRlciwgZS5nLiBhdCBkZWZhdWx0IHByaW9yaXR5IGFuZCBtb2RpZnlcbiAgLy8gdGhlIG1vdmUgZW52aXJvbm1lbnRcbiAgLy9cbiAgZXZlbnRCdXMub24oJ3NoYXBlLm1vdmUuc3RhcnQnLCBNRURJVU1fUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIHZhbGlkYXRlZFNoYXBlcyA9IGNvbnRleHQudmFsaWRhdGVkU2hhcGVzLFxuICAgICAgICBjYW5FeGVjdXRlO1xuXG4gICAgY2FuRXhlY3V0ZSA9IGNvbnRleHQuY2FuRXhlY3V0ZSA9IGNhbk1vdmUodmFsaWRhdGVkU2hhcGVzKTtcblxuICAgIC8vIGNoZWNrIGlmIHdlIGNhbiBtb3ZlIHRoZSBlbGVtZW50c1xuICAgIGlmICghY2FuRXhlY3V0ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gYXNzaWduIGEgbG93IHByaW9yaXR5IHRvIHRoaXMgaGFuZGxlclxuICAvLyB0byBsZXQgb3RoZXJzIG1vZGlmeSB0aGUgbW92ZSBldmVudCBiZWZvcmUgd2UgdXBkYXRlXG4gIC8vIHRoZSBjb250ZXh0XG4gIC8vXG4gIGV2ZW50QnVzLm9uKCdzaGFwZS5tb3ZlLm1vdmUnLCBMT1dfUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIHZhbGlkYXRlZFNoYXBlcyA9IGNvbnRleHQudmFsaWRhdGVkU2hhcGVzLFxuICAgICAgICBob3ZlciA9IGV2ZW50LmhvdmVyLFxuICAgICAgICBkZWx0YSA9IHsgeDogZXZlbnQuZHgsIHk6IGV2ZW50LmR5IH0sXG4gICAgICAgIHBvc2l0aW9uID0geyB4OiBldmVudC54LCB5OiBldmVudC55IH0sXG4gICAgICAgIGNhbkV4ZWN1dGU7XG5cbiAgICAvLyBjaGVjayBpZiB3ZSBjYW4gbW92ZSB0aGUgZWxlbWVudHNcbiAgICBjYW5FeGVjdXRlID0gY2FuTW92ZSh2YWxpZGF0ZWRTaGFwZXMsIGRlbHRhLCBwb3NpdGlvbiwgaG92ZXIpO1xuXG4gICAgY29udGV4dC5kZWx0YSA9IGRlbHRhO1xuICAgIGNvbnRleHQuY2FuRXhlY3V0ZSA9IGNhbkV4ZWN1dGU7XG5cbiAgICAvLyBzaW1wbHkgaWdub3JlIG1vdmUgb3ZlclxuICAgIGlmIChjYW5FeGVjdXRlID09PSBudWxsKSB7XG4gICAgICBjb250ZXh0LnRhcmdldCA9IG51bGw7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb250ZXh0LnRhcmdldCA9IGhvdmVyO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignc2hhcGUubW92ZS5lbmQnLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0O1xuXG4gICAgdmFyIGRlbHRhID0gY29udGV4dC5kZWx0YSxcbiAgICAgICAgY2FuRXhlY3V0ZSA9IGNvbnRleHQuY2FuRXhlY3V0ZSxcbiAgICAgICAgaXNBdHRhY2ggPSBjYW5FeGVjdXRlID09PSAnYXR0YWNoJyxcbiAgICAgICAgc2hhcGVzID0gY29udGV4dC5zaGFwZXM7XG5cbiAgICBpZiAoY2FuRXhlY3V0ZSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBlbnN1cmUgd2UgaGF2ZSBhY3R1YWwgcGl4ZWwgdmFsdWVzIGRlbHRhc1xuICAgIC8vIChpbXBvcnRhbnQgd2hlbiB6b29tIGxldmVsIHdhcyA+IDEgZHVyaW5nIG1vdmUpXG4gICAgZGVsdGEueCA9IHJvdW5kKGRlbHRhLngpO1xuICAgIGRlbHRhLnkgPSByb3VuZChkZWx0YS55KTtcblxuICAgIGlmIChkZWx0YS54ID09PSAwICYmIGRlbHRhLnkgPT09IDApIHtcblxuICAgICAgLy8gZGlkbid0IG1vdmVcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBtb2RlbGluZy5tb3ZlRWxlbWVudHMoc2hhcGVzLCBkZWx0YSwgY29udGV4dC50YXJnZXQsIHtcbiAgICAgIHByaW1hcnlTaGFwZTogY29udGV4dC5zaGFwZSxcbiAgICAgIGF0dGFjaDogaXNBdHRhY2hcbiAgICB9KTtcbiAgfSk7XG5cblxuICAvLyBtb3ZlIGFjdGl2YXRpb25cblxuICBldmVudEJ1cy5vbignZWxlbWVudC5tb3VzZWRvd24nLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgaWYgKCFpc1ByaW1hcnlCdXR0b24oZXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG9yaWdpbmFsRXZlbnQgPSBnZXRPcmlnaW5hbEV2ZW50KGV2ZW50KTtcblxuICAgIGlmICghb3JpZ2luYWxFdmVudCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdtdXN0IHN1cHBseSBET00gbW91c2Vkb3duIGV2ZW50Jyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YXJ0KG9yaWdpbmFsRXZlbnQsIGV2ZW50LmVsZW1lbnQpO1xuICB9KTtcblxuICAvKipcbiAgICogU3RhcnQgbW92ZS5cbiAgICpcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fFRvdWNoRXZlbnR9IGV2ZW50XG4gICAqIEBwYXJhbSB7U2hhcGV9IGVsZW1lbnRcbiAgICogQHBhcmFtIHtib29sZWFufSBbYWN0aXZhdGVdXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dF1cbiAgICovXG4gIGZ1bmN0aW9uIHN0YXJ0KGV2ZW50LCBlbGVtZW50LCBhY3RpdmF0ZSwgY29udGV4dCkge1xuICAgIGlmIChpc09iamVjdChhY3RpdmF0ZSkpIHtcbiAgICAgIGNvbnRleHQgPSBhY3RpdmF0ZTtcbiAgICAgIGFjdGl2YXRlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gZG8gbm90IG1vdmUgY29ubmVjdGlvbnMgb3IgdGhlIHJvb3QgZWxlbWVudFxuICAgIGlmIChlbGVtZW50LndheXBvaW50cyB8fCAhZWxlbWVudC5wYXJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBpZ25vcmUgbm9uLWRyYWdnYWJsZSBoaXRzXG4gICAgaWYgKHN2Z0NsYXNzZXMoZXZlbnQudGFyZ2V0KS5oYXMoJ2Rqcy1oaXQtbm8tbW92ZScpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHJlZmVyZW5jZVBvaW50ID0gbWlkKGVsZW1lbnQpO1xuXG4gICAgZHJhZ2dpbmcuaW5pdChldmVudCwgcmVmZXJlbmNlUG9pbnQsICdzaGFwZS5tb3ZlJywge1xuICAgICAgY3Vyc29yOiAnZ3JhYmJpbmcnLFxuICAgICAgYXV0b0FjdGl2YXRlOiBhY3RpdmF0ZSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc2hhcGU6IGVsZW1lbnQsXG4gICAgICAgIGNvbnRleHQ6IGNvbnRleHQgfHwge31cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIHdlJ3ZlIGhhbmRsZWQgdGhlIGV2ZW50XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBBUElcblxuICB0aGlzLnN0YXJ0ID0gc3RhcnQ7XG59XG5cbk1vdmVFdmVudHMuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ2RyYWdnaW5nJyxcbiAgJ21vZGVsaW5nJyxcbiAgJ3NlbGVjdGlvbicsXG4gICdydWxlcydcbl07XG5cblxuLyoqXG4gKiBSZXR1cm4gYSBmaWx0ZXJlZCBsaXN0IG9mIGVsZW1lbnRzIHRoYXQgZG8gbm90IGNvbnRhaW5cbiAqIHRob3NlIG5lc3RlZCBpbnRvIG90aGVycy5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnRbXX0gZWxlbWVudHNcbiAqXG4gKiBAcmV0dXJuIHtFbGVtZW50W119IGZpbHRlcmVkXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZU5lc3RlZChlbGVtZW50cykge1xuXG4gIHZhciBpZHMgPSBncm91cEJ5KGVsZW1lbnRzLCAnaWQnKTtcblxuICByZXR1cm4gZmlsdGVyKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgd2hpbGUgKChlbGVtZW50ID0gZWxlbWVudC5wYXJlbnQpKSB7XG5cbiAgICAgIC8vIHBhcmVudCBpbiBzZWxlY3Rpb25cbiAgICAgIGlmIChpZHNbZWxlbWVudC5pZF0pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9KTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/move/Move.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/move/MovePreview.js":
/*!******************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/move/MovePreview.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MovePreview)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _util_Elements__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/Elements */ \"(ssr)/./node_modules/diagram-js/lib/util/Elements.js\");\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/./node_modules/tiny-svg/dist/index.esm.js\");\n/* harmony import */ var _util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/SvgTransformUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/SvgTransformUtil.js\");\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/ModelUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/ModelUtil.js\");\n\n\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../preview-support/PreviewSupport').default} PreviewSupport\n * @typedef {import('../../draw/Styles').default} Styles\n */\n\nvar LOW_PRIORITY = 499;\n\nvar MARKER_DRAGGING = 'djs-dragging',\n    MARKER_OK = 'drop-ok',\n    MARKER_NOT_OK = 'drop-not-ok',\n    MARKER_NEW_PARENT = 'new-parent',\n    MARKER_ATTACH = 'attach-ok';\n\n\n/**\n * Provides previews for moving shapes when moving.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {Styles} styles\n * @param {PreviewSupport} previewSupport\n */\nfunction MovePreview(\n    eventBus, canvas, styles, previewSupport) {\n\n  function getVisualDragShapes(shapes) {\n    var elements = getAllDraggedElements(shapes);\n\n    var filteredElements = removeEdges(elements);\n\n    return filteredElements;\n  }\n\n  function getAllDraggedElements(shapes) {\n    var allShapes = (0,_util_Elements__WEBPACK_IMPORTED_MODULE_0__.selfAndAllChildren)(shapes, true);\n\n    var allConnections = allShapes.flatMap(shape =>\n      (shape.incoming || []).concat(shape.outgoing || [])\n    );\n\n    var allElements = allShapes.concat(allConnections);\n    var uniqueElements = [ ...new Set(allElements) ];\n\n    return uniqueElements;\n  }\n\n  /**\n   * Sets drop marker on an element.\n   */\n  function setMarker(element, marker) {\n\n    [ MARKER_ATTACH, MARKER_OK, MARKER_NOT_OK, MARKER_NEW_PARENT ].forEach(function(m) {\n\n      if (m === marker) {\n        canvas.addMarker(element, m);\n      } else {\n        canvas.removeMarker(element, m);\n      }\n    });\n  }\n\n  /**\n   * Make an element draggable.\n   *\n   * @param {Object} context\n   * @param {Element} element\n   * @param {boolean} addMarker\n   */\n  function makeDraggable(context, element, addMarker) {\n\n    previewSupport.addDragger(element, context.dragGroup);\n\n    if (addMarker) {\n      canvas.addMarker(element, MARKER_DRAGGING);\n    }\n\n    if (context.allDraggedElements) {\n      context.allDraggedElements.push(element);\n    } else {\n      context.allDraggedElements = [ element ];\n    }\n  }\n\n  // assign a low priority to this handler\n  // to let others modify the move context before\n  // we draw things\n  eventBus.on('shape.move.start', LOW_PRIORITY, function(event) {\n    var context = event.context,\n        dragShapes = context.shapes,\n        allDraggedElements = context.allDraggedElements;\n\n    var visuallyDraggedShapes = getVisualDragShapes(dragShapes);\n\n    if (!context.dragGroup) {\n      var dragGroup = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('g');\n\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(dragGroup, styles.cls('djs-drag-group', [ 'no-events' ]));\n\n      var activeLayer = canvas.getActiveLayer();\n\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.append)(activeLayer, dragGroup);\n\n      context.dragGroup = dragGroup;\n    }\n\n    // add previews\n    visuallyDraggedShapes.forEach(function(shape) {\n      previewSupport.addDragger(shape, context.dragGroup);\n    });\n\n    // cache all dragged elements / gfx\n    // so that we can quickly undo their state changes later\n    if (!allDraggedElements) {\n      allDraggedElements = getAllDraggedElements(dragShapes);\n    } else {\n      allDraggedElements = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.flatten)([\n        allDraggedElements,\n        getAllDraggedElements(dragShapes)\n      ]);\n    }\n\n    // add dragging marker\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.forEach)(allDraggedElements, function(e) {\n      canvas.addMarker(e, MARKER_DRAGGING);\n    });\n\n    context.allDraggedElements = allDraggedElements;\n\n    // determine, if any of the dragged elements have different parents\n    context.differentParents = haveDifferentParents(dragShapes);\n  });\n\n  // update previews\n  eventBus.on('shape.move.move', LOW_PRIORITY, function(event) {\n\n    var context = event.context,\n        dragGroup = context.dragGroup,\n        target = context.target,\n        parent = context.shape.parent,\n        canExecute = context.canExecute;\n\n    if (target) {\n      if (canExecute === 'attach') {\n        setMarker(target, MARKER_ATTACH);\n      } else if (context.canExecute && parent && target.id !== parent.id) {\n        setMarker(target, MARKER_NEW_PARENT);\n      } else {\n        setMarker(target, context.canExecute ? MARKER_OK : MARKER_NOT_OK);\n      }\n    }\n\n    (0,_util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_3__.translate)(dragGroup, event.dx, event.dy);\n  });\n\n  eventBus.on([ 'shape.move.out', 'shape.move.cleanup' ], function(event) {\n    var context = event.context,\n        target = context.target;\n\n    if (target) {\n      setMarker(target, null);\n    }\n  });\n\n  // remove previews\n  eventBus.on('shape.move.cleanup', function(event) {\n\n    var context = event.context,\n        allDraggedElements = context.allDraggedElements,\n        dragGroup = context.dragGroup;\n\n\n    // remove dragging marker\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.forEach)(allDraggedElements, function(e) {\n      canvas.removeMarker(e, MARKER_DRAGGING);\n    });\n\n    if (dragGroup) {\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.remove)(dragGroup);\n    }\n  });\n\n\n  // API //////////////////////\n\n  /**\n   * Make an element draggable.\n   *\n   * @param {Object} context\n   * @param {Element} element\n   * @param {boolean} addMarker\n   */\n  this.makeDraggable = makeDraggable;\n}\n\nMovePreview.$inject = [\n  'eventBus',\n  'canvas',\n  'styles',\n  'previewSupport'\n];\n\n\n// helpers //////////////////////\n\n/**\n * returns elements minus all connections\n * where source or target is not elements\n */\nfunction removeEdges(elements) {\n\n  var filteredElements = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.filter)(elements, function(element) {\n\n    if (!(0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_4__.isConnection)(element)) {\n      return true;\n    } else {\n\n      return (\n        (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.find)(elements, (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.matchPattern)({ id: element.source.id })) &&\n        (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.find)(elements, (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.matchPattern)({ id: element.target.id }))\n      );\n    }\n  });\n\n  return filteredElements;\n}\n\nfunction haveDifferentParents(elements) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.size)((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.groupBy)(elements, function(e) { return e.parent && e.parent.id; })) !== 1;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW92ZS9Nb3ZlUHJldmlldy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFRa0I7O0FBSVc7O0FBT1g7O0FBRXNDOztBQUVKOztBQUVwRDtBQUNBLGFBQWEscUNBQXFDO0FBQ2xEO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQsYUFBYSx1Q0FBdUM7QUFDcEQsYUFBYSxxREFBcUQ7QUFDbEUsYUFBYSxxQ0FBcUM7QUFDbEQ7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxnQkFBZ0I7QUFDM0I7QUFDZTtBQUNmOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQixrRUFBa0I7O0FBRXRDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFNBQVM7QUFDdEIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0Esc0JBQXNCLGdEQUFTOztBQUUvQixNQUFNLDhDQUFPOztBQUViOztBQUVBLE1BQU0sZ0RBQVM7O0FBRWY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLDJCQUEyQixpREFBTztBQUNsQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUksaURBQU87QUFDWDtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUEsSUFBSSxpRUFBUztBQUNiLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0EsSUFBSSxpREFBTztBQUNYO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLE1BQU0sZ0RBQVM7QUFDZjtBQUNBLEdBQUc7OztBQUdIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFNBQVM7QUFDdEIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEseUJBQXlCLGdEQUFNOztBQUUvQixTQUFTLDZEQUFZO0FBQ3JCO0FBQ0EsTUFBTTs7QUFFTjtBQUNBLFFBQVEsOENBQUksV0FBVyxzREFBWSxHQUFHLHVCQUF1QjtBQUM3RCxRQUFRLDhDQUFJLFdBQVcsc0RBQVksR0FBRyx1QkFBdUI7QUFDN0Q7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBLFNBQVMsOENBQUksQ0FBQyxpREFBTyx5QkFBeUIsaUNBQWlDO0FBQy9FIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL21vdmUvTW92ZVByZXZpZXcuanM/MWRiOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBmbGF0dGVuLFxuICBmb3JFYWNoLFxuICBmaWx0ZXIsXG4gIGZpbmQsXG4gIGdyb3VwQnksXG4gIG1hdGNoUGF0dGVybixcbiAgc2l6ZVxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIHNlbGZBbmRBbGxDaGlsZHJlblxufSBmcm9tICcuLi8uLi91dGlsL0VsZW1lbnRzJztcblxuaW1wb3J0IHtcbiAgYXBwZW5kIGFzIHN2Z0FwcGVuZCxcbiAgYXR0ciBhcyBzdmdBdHRyLFxuICBjcmVhdGUgYXMgc3ZnQ3JlYXRlLFxuICByZW1vdmUgYXMgc3ZnUmVtb3ZlXG59IGZyb20gJ3Rpbnktc3ZnJztcblxuaW1wb3J0IHsgdHJhbnNsYXRlIH0gZnJvbSAnLi4vLi4vdXRpbC9TdmdUcmFuc2Zvcm1VdGlsJztcblxuaW1wb3J0IHsgaXNDb25uZWN0aW9uIH0gZnJvbSAnLi4vLi4vdXRpbC9Nb2RlbFV0aWwnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL21vZGVsL1R5cGVzJykuRWxlbWVudH0gRWxlbWVudFxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvQ2FudmFzJykuZGVmYXVsdH0gQ2FudmFzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3ByZXZpZXctc3VwcG9ydC9QcmV2aWV3U3VwcG9ydCcpLmRlZmF1bHR9IFByZXZpZXdTdXBwb3J0XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9kcmF3L1N0eWxlcycpLmRlZmF1bHR9IFN0eWxlc1xuICovXG5cbnZhciBMT1dfUFJJT1JJVFkgPSA0OTk7XG5cbnZhciBNQVJLRVJfRFJBR0dJTkcgPSAnZGpzLWRyYWdnaW5nJyxcbiAgICBNQVJLRVJfT0sgPSAnZHJvcC1vaycsXG4gICAgTUFSS0VSX05PVF9PSyA9ICdkcm9wLW5vdC1vaycsXG4gICAgTUFSS0VSX05FV19QQVJFTlQgPSAnbmV3LXBhcmVudCcsXG4gICAgTUFSS0VSX0FUVEFDSCA9ICdhdHRhY2gtb2snO1xuXG5cbi8qKlxuICogUHJvdmlkZXMgcHJldmlld3MgZm9yIG1vdmluZyBzaGFwZXMgd2hlbiBtb3ZpbmcuXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqIEBwYXJhbSB7U3R5bGVzfSBzdHlsZXNcbiAqIEBwYXJhbSB7UHJldmlld1N1cHBvcnR9IHByZXZpZXdTdXBwb3J0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1vdmVQcmV2aWV3KFxuICAgIGV2ZW50QnVzLCBjYW52YXMsIHN0eWxlcywgcHJldmlld1N1cHBvcnQpIHtcblxuICBmdW5jdGlvbiBnZXRWaXN1YWxEcmFnU2hhcGVzKHNoYXBlcykge1xuICAgIHZhciBlbGVtZW50cyA9IGdldEFsbERyYWdnZWRFbGVtZW50cyhzaGFwZXMpO1xuXG4gICAgdmFyIGZpbHRlcmVkRWxlbWVudHMgPSByZW1vdmVFZGdlcyhlbGVtZW50cyk7XG5cbiAgICByZXR1cm4gZmlsdGVyZWRFbGVtZW50cztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEFsbERyYWdnZWRFbGVtZW50cyhzaGFwZXMpIHtcbiAgICB2YXIgYWxsU2hhcGVzID0gc2VsZkFuZEFsbENoaWxkcmVuKHNoYXBlcywgdHJ1ZSk7XG5cbiAgICB2YXIgYWxsQ29ubmVjdGlvbnMgPSBhbGxTaGFwZXMuZmxhdE1hcChzaGFwZSA9PlxuICAgICAgKHNoYXBlLmluY29taW5nIHx8IFtdKS5jb25jYXQoc2hhcGUub3V0Z29pbmcgfHwgW10pXG4gICAgKTtcblxuICAgIHZhciBhbGxFbGVtZW50cyA9IGFsbFNoYXBlcy5jb25jYXQoYWxsQ29ubmVjdGlvbnMpO1xuICAgIHZhciB1bmlxdWVFbGVtZW50cyA9IFsgLi4ubmV3IFNldChhbGxFbGVtZW50cykgXTtcblxuICAgIHJldHVybiB1bmlxdWVFbGVtZW50cztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIGRyb3AgbWFya2VyIG9uIGFuIGVsZW1lbnQuXG4gICAqL1xuICBmdW5jdGlvbiBzZXRNYXJrZXIoZWxlbWVudCwgbWFya2VyKSB7XG5cbiAgICBbIE1BUktFUl9BVFRBQ0gsIE1BUktFUl9PSywgTUFSS0VSX05PVF9PSywgTUFSS0VSX05FV19QQVJFTlQgXS5mb3JFYWNoKGZ1bmN0aW9uKG0pIHtcblxuICAgICAgaWYgKG0gPT09IG1hcmtlcikge1xuICAgICAgICBjYW52YXMuYWRkTWFya2VyKGVsZW1lbnQsIG0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FudmFzLnJlbW92ZU1hcmtlcihlbGVtZW50LCBtKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYWtlIGFuIGVsZW1lbnQgZHJhZ2dhYmxlLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAgICogQHBhcmFtIHtib29sZWFufSBhZGRNYXJrZXJcbiAgICovXG4gIGZ1bmN0aW9uIG1ha2VEcmFnZ2FibGUoY29udGV4dCwgZWxlbWVudCwgYWRkTWFya2VyKSB7XG5cbiAgICBwcmV2aWV3U3VwcG9ydC5hZGREcmFnZ2VyKGVsZW1lbnQsIGNvbnRleHQuZHJhZ0dyb3VwKTtcblxuICAgIGlmIChhZGRNYXJrZXIpIHtcbiAgICAgIGNhbnZhcy5hZGRNYXJrZXIoZWxlbWVudCwgTUFSS0VSX0RSQUdHSU5HKTtcbiAgICB9XG5cbiAgICBpZiAoY29udGV4dC5hbGxEcmFnZ2VkRWxlbWVudHMpIHtcbiAgICAgIGNvbnRleHQuYWxsRHJhZ2dlZEVsZW1lbnRzLnB1c2goZWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRleHQuYWxsRHJhZ2dlZEVsZW1lbnRzID0gWyBlbGVtZW50IF07XG4gICAgfVxuICB9XG5cbiAgLy8gYXNzaWduIGEgbG93IHByaW9yaXR5IHRvIHRoaXMgaGFuZGxlclxuICAvLyB0byBsZXQgb3RoZXJzIG1vZGlmeSB0aGUgbW92ZSBjb250ZXh0IGJlZm9yZVxuICAvLyB3ZSBkcmF3IHRoaW5nc1xuICBldmVudEJ1cy5vbignc2hhcGUubW92ZS5zdGFydCcsIExPV19QUklPUklUWSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGRyYWdTaGFwZXMgPSBjb250ZXh0LnNoYXBlcyxcbiAgICAgICAgYWxsRHJhZ2dlZEVsZW1lbnRzID0gY29udGV4dC5hbGxEcmFnZ2VkRWxlbWVudHM7XG5cbiAgICB2YXIgdmlzdWFsbHlEcmFnZ2VkU2hhcGVzID0gZ2V0VmlzdWFsRHJhZ1NoYXBlcyhkcmFnU2hhcGVzKTtcblxuICAgIGlmICghY29udGV4dC5kcmFnR3JvdXApIHtcbiAgICAgIHZhciBkcmFnR3JvdXAgPSBzdmdDcmVhdGUoJ2cnKTtcblxuICAgICAgc3ZnQXR0cihkcmFnR3JvdXAsIHN0eWxlcy5jbHMoJ2Rqcy1kcmFnLWdyb3VwJywgWyAnbm8tZXZlbnRzJyBdKSk7XG5cbiAgICAgIHZhciBhY3RpdmVMYXllciA9IGNhbnZhcy5nZXRBY3RpdmVMYXllcigpO1xuXG4gICAgICBzdmdBcHBlbmQoYWN0aXZlTGF5ZXIsIGRyYWdHcm91cCk7XG5cbiAgICAgIGNvbnRleHQuZHJhZ0dyb3VwID0gZHJhZ0dyb3VwO1xuICAgIH1cblxuICAgIC8vIGFkZCBwcmV2aWV3c1xuICAgIHZpc3VhbGx5RHJhZ2dlZFNoYXBlcy5mb3JFYWNoKGZ1bmN0aW9uKHNoYXBlKSB7XG4gICAgICBwcmV2aWV3U3VwcG9ydC5hZGREcmFnZ2VyKHNoYXBlLCBjb250ZXh0LmRyYWdHcm91cCk7XG4gICAgfSk7XG5cbiAgICAvLyBjYWNoZSBhbGwgZHJhZ2dlZCBlbGVtZW50cyAvIGdmeFxuICAgIC8vIHNvIHRoYXQgd2UgY2FuIHF1aWNrbHkgdW5kbyB0aGVpciBzdGF0ZSBjaGFuZ2VzIGxhdGVyXG4gICAgaWYgKCFhbGxEcmFnZ2VkRWxlbWVudHMpIHtcbiAgICAgIGFsbERyYWdnZWRFbGVtZW50cyA9IGdldEFsbERyYWdnZWRFbGVtZW50cyhkcmFnU2hhcGVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWxsRHJhZ2dlZEVsZW1lbnRzID0gZmxhdHRlbihbXG4gICAgICAgIGFsbERyYWdnZWRFbGVtZW50cyxcbiAgICAgICAgZ2V0QWxsRHJhZ2dlZEVsZW1lbnRzKGRyYWdTaGFwZXMpXG4gICAgICBdKTtcbiAgICB9XG5cbiAgICAvLyBhZGQgZHJhZ2dpbmcgbWFya2VyXG4gICAgZm9yRWFjaChhbGxEcmFnZ2VkRWxlbWVudHMsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGNhbnZhcy5hZGRNYXJrZXIoZSwgTUFSS0VSX0RSQUdHSU5HKTtcbiAgICB9KTtcblxuICAgIGNvbnRleHQuYWxsRHJhZ2dlZEVsZW1lbnRzID0gYWxsRHJhZ2dlZEVsZW1lbnRzO1xuXG4gICAgLy8gZGV0ZXJtaW5lLCBpZiBhbnkgb2YgdGhlIGRyYWdnZWQgZWxlbWVudHMgaGF2ZSBkaWZmZXJlbnQgcGFyZW50c1xuICAgIGNvbnRleHQuZGlmZmVyZW50UGFyZW50cyA9IGhhdmVEaWZmZXJlbnRQYXJlbnRzKGRyYWdTaGFwZXMpO1xuICB9KTtcblxuICAvLyB1cGRhdGUgcHJldmlld3NcbiAgZXZlbnRCdXMub24oJ3NoYXBlLm1vdmUubW92ZScsIExPV19QUklPUklUWSwgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgZHJhZ0dyb3VwID0gY29udGV4dC5kcmFnR3JvdXAsXG4gICAgICAgIHRhcmdldCA9IGNvbnRleHQudGFyZ2V0LFxuICAgICAgICBwYXJlbnQgPSBjb250ZXh0LnNoYXBlLnBhcmVudCxcbiAgICAgICAgY2FuRXhlY3V0ZSA9IGNvbnRleHQuY2FuRXhlY3V0ZTtcblxuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgIGlmIChjYW5FeGVjdXRlID09PSAnYXR0YWNoJykge1xuICAgICAgICBzZXRNYXJrZXIodGFyZ2V0LCBNQVJLRVJfQVRUQUNIKTtcbiAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5jYW5FeGVjdXRlICYmIHBhcmVudCAmJiB0YXJnZXQuaWQgIT09IHBhcmVudC5pZCkge1xuICAgICAgICBzZXRNYXJrZXIodGFyZ2V0LCBNQVJLRVJfTkVXX1BBUkVOVCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRNYXJrZXIodGFyZ2V0LCBjb250ZXh0LmNhbkV4ZWN1dGUgPyBNQVJLRVJfT0sgOiBNQVJLRVJfTk9UX09LKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0cmFuc2xhdGUoZHJhZ0dyb3VwLCBldmVudC5keCwgZXZlbnQuZHkpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbihbICdzaGFwZS5tb3ZlLm91dCcsICdzaGFwZS5tb3ZlLmNsZWFudXAnIF0sIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICB0YXJnZXQgPSBjb250ZXh0LnRhcmdldDtcblxuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgIHNldE1hcmtlcih0YXJnZXQsIG51bGwpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gcmVtb3ZlIHByZXZpZXdzXG4gIGV2ZW50QnVzLm9uKCdzaGFwZS5tb3ZlLmNsZWFudXAnLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBhbGxEcmFnZ2VkRWxlbWVudHMgPSBjb250ZXh0LmFsbERyYWdnZWRFbGVtZW50cyxcbiAgICAgICAgZHJhZ0dyb3VwID0gY29udGV4dC5kcmFnR3JvdXA7XG5cblxuICAgIC8vIHJlbW92ZSBkcmFnZ2luZyBtYXJrZXJcbiAgICBmb3JFYWNoKGFsbERyYWdnZWRFbGVtZW50cywgZnVuY3Rpb24oZSkge1xuICAgICAgY2FudmFzLnJlbW92ZU1hcmtlcihlLCBNQVJLRVJfRFJBR0dJTkcpO1xuICAgIH0pO1xuXG4gICAgaWYgKGRyYWdHcm91cCkge1xuICAgICAgc3ZnUmVtb3ZlKGRyYWdHcm91cCk7XG4gICAgfVxuICB9KTtcblxuXG4gIC8vIEFQSSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgLyoqXG4gICAqIE1ha2UgYW4gZWxlbWVudCBkcmFnZ2FibGUuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFkZE1hcmtlclxuICAgKi9cbiAgdGhpcy5tYWtlRHJhZ2dhYmxlID0gbWFrZURyYWdnYWJsZTtcbn1cblxuTW92ZVByZXZpZXcuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ2NhbnZhcycsXG4gICdzdHlsZXMnLFxuICAncHJldmlld1N1cHBvcnQnXG5dO1xuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIHJldHVybnMgZWxlbWVudHMgbWludXMgYWxsIGNvbm5lY3Rpb25zXG4gKiB3aGVyZSBzb3VyY2Ugb3IgdGFyZ2V0IGlzIG5vdCBlbGVtZW50c1xuICovXG5mdW5jdGlvbiByZW1vdmVFZGdlcyhlbGVtZW50cykge1xuXG4gIHZhciBmaWx0ZXJlZEVsZW1lbnRzID0gZmlsdGVyKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG5cbiAgICBpZiAoIWlzQ29ubmVjdGlvbihlbGVtZW50KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgZmluZChlbGVtZW50cywgbWF0Y2hQYXR0ZXJuKHsgaWQ6IGVsZW1lbnQuc291cmNlLmlkIH0pKSAmJlxuICAgICAgICBmaW5kKGVsZW1lbnRzLCBtYXRjaFBhdHRlcm4oeyBpZDogZWxlbWVudC50YXJnZXQuaWQgfSkpXG4gICAgICApO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGZpbHRlcmVkRWxlbWVudHM7XG59XG5cbmZ1bmN0aW9uIGhhdmVEaWZmZXJlbnRQYXJlbnRzKGVsZW1lbnRzKSB7XG4gIHJldHVybiBzaXplKGdyb3VwQnkoZWxlbWVudHMsIGZ1bmN0aW9uKGUpIHsgcmV0dXJuIGUucGFyZW50ICYmIGUucGFyZW50LmlkOyB9KSkgIT09IDE7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/move/MovePreview.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/move/index.js":
/*!************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/move/index.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _interaction_events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../interaction-events */ \"(ssr)/./node_modules/diagram-js/lib/features/interaction-events/index.js\");\n/* harmony import */ var _selection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../selection */ \"(ssr)/./node_modules/diagram-js/lib/features/selection/index.js\");\n/* harmony import */ var _outline__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../outline */ \"(ssr)/./node_modules/diagram-js/lib/features/outline/index.js\");\n/* harmony import */ var _rules__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../rules */ \"(ssr)/./node_modules/diagram-js/lib/features/rules/index.js\");\n/* harmony import */ var _dragging__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../dragging */ \"(ssr)/./node_modules/diagram-js/lib/features/dragging/index.js\");\n/* harmony import */ var _preview_support__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../preview-support */ \"(ssr)/./node_modules/diagram-js/lib/features/preview-support/index.js\");\n/* harmony import */ var _Move__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Move */ \"(ssr)/./node_modules/diagram-js/lib/features/move/Move.js\");\n/* harmony import */ var _MovePreview__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./MovePreview */ \"(ssr)/./node_modules/diagram-js/lib/features/move/MovePreview.js\");\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _interaction_events__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    _selection__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    _outline__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    _rules__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n    _dragging__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n    _preview_support__WEBPACK_IMPORTED_MODULE_5__[\"default\"]\n  ],\n  __init__: [\n    'move',\n    'movePreview'\n  ],\n  move: [ 'type', _Move__WEBPACK_IMPORTED_MODULE_6__[\"default\"] ],\n  movePreview: [ 'type', _MovePreview__WEBPACK_IMPORTED_MODULE_7__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW92ZS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBNEQ7QUFDakI7QUFDSjtBQUNKO0FBQ007QUFDYTs7QUFFNUI7QUFDYzs7O0FBR3hDO0FBQ0EsV0FBVztBQUNYO0FBQ0EsaUVBQWU7QUFDZjtBQUNBLElBQUksMkRBQXVCO0FBQzNCLElBQUksa0RBQWU7QUFDbkIsSUFBSSxnREFBYTtBQUNqQixJQUFJLDhDQUFXO0FBQ2YsSUFBSSxpREFBYztBQUNsQixJQUFJLHdEQUFvQjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDZDQUFJO0FBQ3RCLHlCQUF5QixvREFBVztBQUNwQyxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvbW92ZS9pbmRleC5qcz81ZWE2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBJbnRlcmFjdGlvbkV2ZW50c01vZHVsZSBmcm9tICcuLi9pbnRlcmFjdGlvbi1ldmVudHMnO1xuaW1wb3J0IFNlbGVjdGlvbk1vZHVsZSBmcm9tICcuLi9zZWxlY3Rpb24nO1xuaW1wb3J0IE91dGxpbmVNb2R1bGUgZnJvbSAnLi4vb3V0bGluZSc7XG5pbXBvcnQgUnVsZXNNb2R1bGUgZnJvbSAnLi4vcnVsZXMnO1xuaW1wb3J0IERyYWdnaW5nTW9kdWxlIGZyb20gJy4uL2RyYWdnaW5nJztcbmltcG9ydCBQcmV2aWV3U3VwcG9ydE1vZHVsZSBmcm9tICcuLi9wcmV2aWV3LXN1cHBvcnQnO1xuXG5pbXBvcnQgTW92ZSBmcm9tICcuL01vdmUnO1xuaW1wb3J0IE1vdmVQcmV2aWV3IGZyb20gJy4vTW92ZVByZXZpZXcnO1xuXG5cbi8qKlxuICogQHR5cGUgeyBpbXBvcnQoJ2RpZGknKS5Nb2R1bGVEZWNsYXJhdGlvbiB9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBJbnRlcmFjdGlvbkV2ZW50c01vZHVsZSxcbiAgICBTZWxlY3Rpb25Nb2R1bGUsXG4gICAgT3V0bGluZU1vZHVsZSxcbiAgICBSdWxlc01vZHVsZSxcbiAgICBEcmFnZ2luZ01vZHVsZSxcbiAgICBQcmV2aWV3U3VwcG9ydE1vZHVsZVxuICBdLFxuICBfX2luaXRfXzogW1xuICAgICdtb3ZlJyxcbiAgICAnbW92ZVByZXZpZXcnXG4gIF0sXG4gIG1vdmU6IFsgJ3R5cGUnLCBNb3ZlIF0sXG4gIG1vdmVQcmV2aWV3OiBbICd0eXBlJywgTW92ZVByZXZpZXcgXVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/move/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/ordering/OrderingProvider.js":
/*!***************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/ordering/OrderingProvider.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ OrderingProvider)\n/* harmony export */ });\n/* harmony import */ var inherits_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! inherits-browser */ \"(ssr)/./node_modules/inherits-browser/dist/index.es.js\");\n/* harmony import */ var _command_CommandInterceptor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../command/CommandInterceptor */ \"(ssr)/./node_modules/diagram-js/lib/command/CommandInterceptor.js\");\n\n\n\n\n/**\n * @typedef {import('../../core/Types').ElementLike} Element\n * @typedef {import('../../core/Types').ShapeLike} Shape\n *\n * @typedef {import('../../core/EventBus').default} EventBus\n */\n\n/**\n * An abstract provider that allows modelers to implement a custom\n * ordering of diagram elements on the canvas.\n *\n * It makes sure that the order is always preserved during element\n * creation and move operations.\n *\n * In order to use this behavior, inherit from it and override\n * the method {@link OrderingProvider#getOrdering}.\n *\n * @example\n *\n * ```javascript\n * function CustomOrderingProvider(eventBus) {\n *   OrderingProvider.call(this, eventBus);\n *\n *   this.getOrdering = function(element, newParent) {\n *     // always insert elements at the front\n *     // when moving\n *     return {\n *       index: 0,\n *       parent: newParent\n *     };\n *   };\n * }\n * ```\n *\n * @param {EventBus} eventBus\n */\nfunction OrderingProvider(eventBus) {\n\n  _command_CommandInterceptor__WEBPACK_IMPORTED_MODULE_0__[\"default\"].call(this, eventBus);\n\n\n  var self = this;\n\n  this.preExecute([ 'shape.create', 'connection.create' ], function(event) {\n\n    var context = event.context,\n        element = context.shape || context.connection,\n        parent = context.parent;\n\n    var ordering = self.getOrdering(element, parent);\n\n    if (ordering) {\n\n      if (ordering.parent !== undefined) {\n        context.parent = ordering.parent;\n      }\n\n      context.parentIndex = ordering.index;\n    }\n  });\n\n  this.preExecute([ 'shape.move', 'connection.move' ], function(event) {\n\n    var context = event.context,\n        element = context.shape || context.connection,\n        parent = context.newParent || element.parent;\n\n    var ordering = self.getOrdering(element, parent);\n\n    if (ordering) {\n\n      if (ordering.parent !== undefined) {\n        context.newParent = ordering.parent;\n      }\n\n      context.newParentIndex = ordering.index;\n    }\n  });\n}\n\n/**\n * Return a custom ordering of the element, both in terms\n * of parent element and index in the new parent.\n *\n * Implementors of this method must return an object with\n * `parent` _and_ `index` in it.\n *\n * @param {Element} element\n * @param {Shape} newParent\n *\n * @return {Object} ordering descriptor\n */\nOrderingProvider.prototype.getOrdering = function(element, newParent) {\n  return null;\n};\n\n(0,inherits_browser__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(OrderingProvider, _command_CommandInterceptor__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvb3JkZXJpbmcvT3JkZXJpbmdQcm92aWRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBd0M7O0FBRTBCOztBQUVsRTtBQUNBLGFBQWEsd0NBQXdDO0FBQ3JELGFBQWEsc0NBQXNDO0FBQ25EO0FBQ0EsYUFBYSx1Q0FBdUM7QUFDcEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbUNBQW1DO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNlOztBQUVmLEVBQUUsbUVBQWtCOzs7QUFHcEI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDREQUFRLG1CQUFtQixtRUFBa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvb3JkZXJpbmcvT3JkZXJpbmdQcm92aWRlci5qcz82Y2ViIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBpbmhlcml0cyBmcm9tICdpbmhlcml0cy1icm93c2VyJztcblxuaW1wb3J0IENvbW1hbmRJbnRlcmNlcHRvciBmcm9tICcuLi8uLi9jb21tYW5kL0NvbW1hbmRJbnRlcmNlcHRvcic7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9UeXBlcycpLkVsZW1lbnRMaWtlfSBFbGVtZW50XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL1R5cGVzJykuU2hhcGVMaWtlfSBTaGFwZVxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICovXG5cbi8qKlxuICogQW4gYWJzdHJhY3QgcHJvdmlkZXIgdGhhdCBhbGxvd3MgbW9kZWxlcnMgdG8gaW1wbGVtZW50IGEgY3VzdG9tXG4gKiBvcmRlcmluZyBvZiBkaWFncmFtIGVsZW1lbnRzIG9uIHRoZSBjYW52YXMuXG4gKlxuICogSXQgbWFrZXMgc3VyZSB0aGF0IHRoZSBvcmRlciBpcyBhbHdheXMgcHJlc2VydmVkIGR1cmluZyBlbGVtZW50XG4gKiBjcmVhdGlvbiBhbmQgbW92ZSBvcGVyYXRpb25zLlxuICpcbiAqIEluIG9yZGVyIHRvIHVzZSB0aGlzIGJlaGF2aW9yLCBpbmhlcml0IGZyb20gaXQgYW5kIG92ZXJyaWRlXG4gKiB0aGUgbWV0aG9kIHtAbGluayBPcmRlcmluZ1Byb3ZpZGVyI2dldE9yZGVyaW5nfS5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGZ1bmN0aW9uIEN1c3RvbU9yZGVyaW5nUHJvdmlkZXIoZXZlbnRCdXMpIHtcbiAqICAgT3JkZXJpbmdQcm92aWRlci5jYWxsKHRoaXMsIGV2ZW50QnVzKTtcbiAqXG4gKiAgIHRoaXMuZ2V0T3JkZXJpbmcgPSBmdW5jdGlvbihlbGVtZW50LCBuZXdQYXJlbnQpIHtcbiAqICAgICAvLyBhbHdheXMgaW5zZXJ0IGVsZW1lbnRzIGF0IHRoZSBmcm9udFxuICogICAgIC8vIHdoZW4gbW92aW5nXG4gKiAgICAgcmV0dXJuIHtcbiAqICAgICAgIGluZGV4OiAwLFxuICogICAgICAgcGFyZW50OiBuZXdQYXJlbnRcbiAqICAgICB9O1xuICogICB9O1xuICogfVxuICogYGBgXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gT3JkZXJpbmdQcm92aWRlcihldmVudEJ1cykge1xuXG4gIENvbW1hbmRJbnRlcmNlcHRvci5jYWxsKHRoaXMsIGV2ZW50QnVzKTtcblxuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICB0aGlzLnByZUV4ZWN1dGUoWyAnc2hhcGUuY3JlYXRlJywgJ2Nvbm5lY3Rpb24uY3JlYXRlJyBdLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBlbGVtZW50ID0gY29udGV4dC5zaGFwZSB8fCBjb250ZXh0LmNvbm5lY3Rpb24sXG4gICAgICAgIHBhcmVudCA9IGNvbnRleHQucGFyZW50O1xuXG4gICAgdmFyIG9yZGVyaW5nID0gc2VsZi5nZXRPcmRlcmluZyhlbGVtZW50LCBwYXJlbnQpO1xuXG4gICAgaWYgKG9yZGVyaW5nKSB7XG5cbiAgICAgIGlmIChvcmRlcmluZy5wYXJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZXh0LnBhcmVudCA9IG9yZGVyaW5nLnBhcmVudDtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5wYXJlbnRJbmRleCA9IG9yZGVyaW5nLmluZGV4O1xuICAgIH1cbiAgfSk7XG5cbiAgdGhpcy5wcmVFeGVjdXRlKFsgJ3NoYXBlLm1vdmUnLCAnY29ubmVjdGlvbi5tb3ZlJyBdLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBlbGVtZW50ID0gY29udGV4dC5zaGFwZSB8fCBjb250ZXh0LmNvbm5lY3Rpb24sXG4gICAgICAgIHBhcmVudCA9IGNvbnRleHQubmV3UGFyZW50IHx8IGVsZW1lbnQucGFyZW50O1xuXG4gICAgdmFyIG9yZGVyaW5nID0gc2VsZi5nZXRPcmRlcmluZyhlbGVtZW50LCBwYXJlbnQpO1xuXG4gICAgaWYgKG9yZGVyaW5nKSB7XG5cbiAgICAgIGlmIChvcmRlcmluZy5wYXJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZXh0Lm5ld1BhcmVudCA9IG9yZGVyaW5nLnBhcmVudDtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5uZXdQYXJlbnRJbmRleCA9IG9yZGVyaW5nLmluZGV4O1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogUmV0dXJuIGEgY3VzdG9tIG9yZGVyaW5nIG9mIHRoZSBlbGVtZW50LCBib3RoIGluIHRlcm1zXG4gKiBvZiBwYXJlbnQgZWxlbWVudCBhbmQgaW5kZXggaW4gdGhlIG5ldyBwYXJlbnQuXG4gKlxuICogSW1wbGVtZW50b3JzIG9mIHRoaXMgbWV0aG9kIG11c3QgcmV0dXJuIGFuIG9iamVjdCB3aXRoXG4gKiBgcGFyZW50YCBfYW5kXyBgaW5kZXhgIGluIGl0LlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtTaGFwZX0gbmV3UGFyZW50XG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBvcmRlcmluZyBkZXNjcmlwdG9yXG4gKi9cbk9yZGVyaW5nUHJvdmlkZXIucHJvdG90eXBlLmdldE9yZGVyaW5nID0gZnVuY3Rpb24oZWxlbWVudCwgbmV3UGFyZW50KSB7XG4gIHJldHVybiBudWxsO1xufTtcblxuaW5oZXJpdHMoT3JkZXJpbmdQcm92aWRlciwgQ29tbWFuZEludGVyY2VwdG9yKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/ordering/OrderingProvider.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/outline/MultiSelectionOutline.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/outline/MultiSelectionOutline.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MultiSelectionOutline)\n/* harmony export */ });\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/./node_modules/tiny-svg/dist/index.esm.js\");\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _util_Elements__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Elements */ \"(ssr)/./node_modules/diagram-js/lib/util/Elements.js\");\n\n\n\n\n\n\nvar SELECTION_OUTLINE_PADDING = 6;\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../selection/Selection').default} Selection\n * @typedef {import('../../core/Canvas').default} Canvas\n */\n\n/**\n * @class\n *\n * A plugin that adds an outline to shapes and connections that may be activated and styled\n * via CSS classes.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {Selection} selection\n */\nfunction MultiSelectionOutline(eventBus, canvas, selection) {\n  this._canvas = canvas;\n\n  var self = this;\n\n  eventBus.on('element.changed', function(event) {\n    if (selection.isSelected(event.element)) {\n      self._updateMultiSelectionOutline(selection.get());\n    }\n  });\n\n  eventBus.on('selection.changed', function(event) {\n    var newSelection = event.newSelection;\n\n    self._updateMultiSelectionOutline(newSelection);\n  });\n}\n\n\n\nMultiSelectionOutline.prototype._updateMultiSelectionOutline = function(selection) {\n  var layer = this._canvas.getLayer('selectionOutline');\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.clear)(layer);\n\n  var enabled = selection.length > 1;\n\n  var container = this._canvas.getContainer();\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.classes)(container)[enabled ? 'add' : 'remove']('djs-multi-select');\n\n  if (!enabled) {\n    return;\n  }\n\n  var bBox = addSelectionOutlinePadding((0,_util_Elements__WEBPACK_IMPORTED_MODULE_1__.getBBox)(selection));\n\n  var rect = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.create)('rect');\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.attr)(rect, (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.assign)({\n    rx: 3\n  }, bBox));\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.classes)(rect).add('djs-selection-outline');\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.append)(layer, rect);\n};\n\n\nMultiSelectionOutline.$inject = [ 'eventBus', 'canvas', 'selection' ];\n\n// helpers //////////\n\nfunction addSelectionOutlinePadding(bBox) {\n  return {\n    x: bBox.x - SELECTION_OUTLINE_PADDING,\n    y: bBox.y - SELECTION_OUTLINE_PADDING,\n    width: bBox.width + SELECTION_OUTLINE_PADDING * 2,\n    height: bBox.height + SELECTION_OUTLINE_PADDING * 2\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvb3V0bGluZS9NdWx0aVNlbGVjdGlvbk91dGxpbmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQU1rQjs7QUFFZ0I7O0FBRVk7O0FBRTlDOztBQUVBO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQ7QUFDQSxhQUFhLHVDQUF1QztBQUNwRCxhQUFhLDBDQUEwQztBQUN2RCxhQUFhLHFDQUFxQztBQUNsRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsV0FBVztBQUN0QjtBQUNlO0FBQ2Y7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7Ozs7QUFJQTtBQUNBOztBQUVBLEVBQUUsK0NBQVE7O0FBRVY7O0FBRUE7O0FBRUEsRUFBRSxpREFBVTs7QUFFWjtBQUNBO0FBQ0E7O0FBRUEsd0NBQXdDLHVEQUFPOztBQUUvQyxhQUFhLGdEQUFTOztBQUV0QixFQUFFLDhDQUFPLE9BQU8sZ0RBQU07QUFDdEI7QUFDQSxHQUFHOztBQUVILEVBQUUsaURBQVU7O0FBRVosRUFBRSxnREFBUztBQUNYOzs7QUFHQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL291dGxpbmUvTXVsdGlTZWxlY3Rpb25PdXRsaW5lLmpzPzVmZGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgYXBwZW5kIGFzIHN2Z0FwcGVuZCxcbiAgYXR0ciBhcyBzdmdBdHRyLFxuICBjcmVhdGUgYXMgc3ZnQ3JlYXRlLFxuICBjbGFzc2VzIGFzIHN2Z0NsYXNzZXMsXG4gIGNsZWFyIGFzIHN2Z0NsZWFyXG59IGZyb20gJ3Rpbnktc3ZnJztcblxuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQgeyBnZXRCQm94IH0gZnJvbSAnLi4vLi4vdXRpbC9FbGVtZW50cyc7XG5cbnZhciBTRUxFQ1RJT05fT1VUTElORV9QQURESU5HID0gNjtcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9tb2RlbC9UeXBlcycpLkVsZW1lbnR9IEVsZW1lbnRcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3NlbGVjdGlvbi9TZWxlY3Rpb24nKS5kZWZhdWx0fSBTZWxlY3Rpb25cbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvQ2FudmFzJykuZGVmYXVsdH0gQ2FudmFzXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NcbiAqXG4gKiBBIHBsdWdpbiB0aGF0IGFkZHMgYW4gb3V0bGluZSB0byBzaGFwZXMgYW5kIGNvbm5lY3Rpb25zIHRoYXQgbWF5IGJlIGFjdGl2YXRlZCBhbmQgc3R5bGVkXG4gKiB2aWEgQ1NTIGNsYXNzZXMuXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqIEBwYXJhbSB7U2VsZWN0aW9ufSBzZWxlY3Rpb25cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTXVsdGlTZWxlY3Rpb25PdXRsaW5lKGV2ZW50QnVzLCBjYW52YXMsIHNlbGVjdGlvbikge1xuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGV2ZW50QnVzLm9uKCdlbGVtZW50LmNoYW5nZWQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIGlmIChzZWxlY3Rpb24uaXNTZWxlY3RlZChldmVudC5lbGVtZW50KSkge1xuICAgICAgc2VsZi5fdXBkYXRlTXVsdGlTZWxlY3Rpb25PdXRsaW5lKHNlbGVjdGlvbi5nZXQoKSk7XG4gICAgfVxuICB9KTtcblxuICBldmVudEJ1cy5vbignc2VsZWN0aW9uLmNoYW5nZWQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBuZXdTZWxlY3Rpb24gPSBldmVudC5uZXdTZWxlY3Rpb247XG5cbiAgICBzZWxmLl91cGRhdGVNdWx0aVNlbGVjdGlvbk91dGxpbmUobmV3U2VsZWN0aW9uKTtcbiAgfSk7XG59XG5cblxuXG5NdWx0aVNlbGVjdGlvbk91dGxpbmUucHJvdG90eXBlLl91cGRhdGVNdWx0aVNlbGVjdGlvbk91dGxpbmUgPSBmdW5jdGlvbihzZWxlY3Rpb24pIHtcbiAgdmFyIGxheWVyID0gdGhpcy5fY2FudmFzLmdldExheWVyKCdzZWxlY3Rpb25PdXRsaW5lJyk7XG5cbiAgc3ZnQ2xlYXIobGF5ZXIpO1xuXG4gIHZhciBlbmFibGVkID0gc2VsZWN0aW9uLmxlbmd0aCA+IDE7XG5cbiAgdmFyIGNvbnRhaW5lciA9IHRoaXMuX2NhbnZhcy5nZXRDb250YWluZXIoKTtcblxuICBzdmdDbGFzc2VzKGNvbnRhaW5lcilbZW5hYmxlZCA/ICdhZGQnIDogJ3JlbW92ZSddKCdkanMtbXVsdGktc2VsZWN0Jyk7XG5cbiAgaWYgKCFlbmFibGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGJCb3ggPSBhZGRTZWxlY3Rpb25PdXRsaW5lUGFkZGluZyhnZXRCQm94KHNlbGVjdGlvbikpO1xuXG4gIHZhciByZWN0ID0gc3ZnQ3JlYXRlKCdyZWN0Jyk7XG5cbiAgc3ZnQXR0cihyZWN0LCBhc3NpZ24oe1xuICAgIHJ4OiAzXG4gIH0sIGJCb3gpKTtcblxuICBzdmdDbGFzc2VzKHJlY3QpLmFkZCgnZGpzLXNlbGVjdGlvbi1vdXRsaW5lJyk7XG5cbiAgc3ZnQXBwZW5kKGxheWVyLCByZWN0KTtcbn07XG5cblxuTXVsdGlTZWxlY3Rpb25PdXRsaW5lLiRpbmplY3QgPSBbICdldmVudEJ1cycsICdjYW52YXMnLCAnc2VsZWN0aW9uJyBdO1xuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuZnVuY3Rpb24gYWRkU2VsZWN0aW9uT3V0bGluZVBhZGRpbmcoYkJveCkge1xuICByZXR1cm4ge1xuICAgIHg6IGJCb3gueCAtIFNFTEVDVElPTl9PVVRMSU5FX1BBRERJTkcsXG4gICAgeTogYkJveC55IC0gU0VMRUNUSU9OX09VVExJTkVfUEFERElORyxcbiAgICB3aWR0aDogYkJveC53aWR0aCArIFNFTEVDVElPTl9PVVRMSU5FX1BBRERJTkcgKiAyLFxuICAgIGhlaWdodDogYkJveC5oZWlnaHQgKyBTRUxFQ1RJT05fT1VUTElORV9QQURESU5HICogMlxuICB9O1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/outline/MultiSelectionOutline.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/outline/Outline.js":
/*!*****************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/outline/Outline.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Outline)\n/* harmony export */ });\n/* harmony import */ var _util_Elements__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/Elements */ \"(ssr)/./node_modules/diagram-js/lib/util/Elements.js\");\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/./node_modules/tiny-svg/dist/index.esm.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dom */ \"(ssr)/./node_modules/min-dom/dist/index.esm.js\");\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\nvar LOW_PRIORITY = 500;\n\n\n\n\n\n\n\nvar DEFAULT_PRIORITY = 1000;\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef {import('./OutlineProvider').default} OutlineProvider\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../../draw/Styles').default} Styles\n */\n\n/**\n * @class\n *\n * A plugin that adds an outline to shapes and connections that may be activated and styled\n * via CSS classes.\n *\n * @param {EventBus} eventBus\n * @param {Styles} styles\n */\nfunction Outline(eventBus, styles) {\n\n  this._eventBus = eventBus;\n\n  this.offset = 5;\n\n  var OUTLINE_STYLE = styles.cls('djs-outline', [ 'no-fill' ]);\n\n  var self = this;\n\n  /**\n   * @param {SVGElement} gfx\n   *\n   * @return {SVGElement} outline\n   */\n  function createOutline(gfx) {\n    var outline = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.create)('rect');\n\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.attr)(outline, (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)({\n      x: 0,\n      y: 0,\n      rx: 4,\n      width: 100,\n      height: 100\n    }, OUTLINE_STYLE));\n\n    return outline;\n  }\n\n  // A low priortity is necessary, because outlines of labels have to be updated\n  // after the label bounds have been updated in the renderer.\n  eventBus.on([ 'shape.added', 'shape.changed' ], LOW_PRIORITY, function(event) {\n    var element = event.element,\n        gfx = event.gfx;\n\n    var outline = (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.query)('.djs-outline', gfx);\n\n    if (!outline) {\n      outline = self.getOutline(element) || createOutline(gfx);\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.append)(gfx, outline);\n    }\n\n    self.updateShapeOutline(outline, element);\n  });\n\n  eventBus.on([ 'connection.added', 'connection.changed' ], function(event) {\n    var element = event.element,\n        gfx = event.gfx;\n\n    var outline = (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.query)('.djs-outline', gfx);\n\n    if (!outline) {\n      outline = createOutline(gfx);\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.append)(gfx, outline);\n    }\n\n    self.updateConnectionOutline(outline, element);\n  });\n}\n\n\n/**\n * Updates the outline of a shape respecting the dimension of the\n * element and an outline offset.\n *\n * @param {SVGElement} outline\n * @param {Element} element\n */\nOutline.prototype.updateShapeOutline = function(outline, element) {\n\n  var updated = false;\n  var providers = this._getProviders();\n\n  if (providers.length) {\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(providers, function(provider) {\n      updated = updated || provider.updateOutline(element, outline);\n    });\n  }\n\n  if (!updated) {\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.attr)(outline, {\n      x: -this.offset,\n      y: -this.offset,\n      width: element.width + this.offset * 2,\n      height: element.height + this.offset * 2\n    });\n  }\n};\n\n/**\n * Updates the outline of a connection respecting the bounding box of\n * the connection and an outline offset.\n * Register an outline provider with the given priority.\n *\n * @param {SVGElement} outline\n * @param {Element} connection\n */\nOutline.prototype.updateConnectionOutline = function(outline, connection) {\n  var bbox = (0,_util_Elements__WEBPACK_IMPORTED_MODULE_3__.getBBox)(connection);\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.attr)(outline, {\n    x: bbox.x - this.offset,\n    y: bbox.y - this.offset,\n    width: bbox.width + this.offset * 2,\n    height: bbox.height + this.offset * 2\n  });\n};\n\n/**\n * Register an outline provider with the given priority.\n *\n * @param {number} priority\n * @param {OutlineProvider} provider\n */\nOutline.prototype.registerProvider = function(priority, provider) {\n  if (!provider) {\n    provider = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  this._eventBus.on('outline.getProviders', priority, function(event) {\n    event.providers.push(provider);\n  });\n};\n\n/**\n * Returns the registered outline providers.\n *\n * @returns {OutlineProvider[]}\n */\nOutline.prototype._getProviders = function() {\n  var event = this._eventBus.createEvent({\n    type: 'outline.getProviders',\n    providers: []\n  });\n\n  this._eventBus.fire(event);\n\n  return event.providers;\n};\n\n/**\n * Returns the outline for an element.\n *\n * @param {Element} element\n */\nOutline.prototype.getOutline = function(element) {\n  var outline;\n  var providers = this._getProviders();\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(providers, function(provider) {\n\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isFunction)(provider.getOutline)) {\n      return;\n    }\n\n    outline = outline || provider.getOutline(element);\n  });\n\n  return outline;\n};\n\nOutline.$inject = [ 'eventBus', 'styles', 'elementRegistry' ];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvb3V0bGluZS9PdXRsaW5lLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQThDOztBQUU5Qzs7QUFNa0I7O0FBSUQ7O0FBTUM7O0FBRWxCOztBQUVBO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQ7QUFDQSxhQUFhLHFDQUFxQztBQUNsRCxhQUFhLHVDQUF1QztBQUNwRCxhQUFhLHFDQUFxQztBQUNsRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxRQUFRO0FBQ25CO0FBQ2U7O0FBRWY7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSxhQUFhLFlBQVk7QUFDekI7QUFDQSxjQUFjLFlBQVk7QUFDMUI7QUFDQTtBQUNBLGtCQUFrQixnREFBUzs7QUFFM0IsSUFBSSw4Q0FBTyxVQUFVLGdEQUFNO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0IsOENBQVE7O0FBRTFCO0FBQ0E7QUFDQSxNQUFNLGdEQUFTO0FBQ2Y7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0IsOENBQVE7O0FBRTFCO0FBQ0E7QUFDQSxNQUFNLGdEQUFTO0FBQ2Y7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsU0FBUztBQUNwQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLGlEQUFPO0FBQ1g7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQSxJQUFJLDhDQUFPO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0EsYUFBYSx1REFBTzs7QUFFcEIsRUFBRSw4Q0FBTztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLGlCQUFpQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRSxpREFBTzs7QUFFVCxTQUFTLG9EQUFVO0FBQ25CO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvb3V0bGluZS9PdXRsaW5lLmpzPzdjYzciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0QkJveCB9IGZyb20gJy4uLy4uL3V0aWwvRWxlbWVudHMnO1xuXG52YXIgTE9XX1BSSU9SSVRZID0gNTAwO1xuXG5pbXBvcnQge1xuICBhcHBlbmQgYXMgc3ZnQXBwZW5kLFxuICBhdHRyIGFzIHN2Z0F0dHIsXG4gIGNyZWF0ZSBhcyBzdmdDcmVhdGVcbn0gZnJvbSAndGlueS1zdmcnO1xuXG5pbXBvcnQge1xuICBxdWVyeSBhcyBkb21RdWVyeVxufSBmcm9tICdtaW4tZG9tJztcblxuaW1wb3J0IHtcbiAgYXNzaWduLFxuICBmb3JFYWNoLFxuICBpc0Z1bmN0aW9uXG59IGZyb20gJ21pbi1kYXNoJztcblxudmFyIERFRkFVTFRfUFJJT1JJVFkgPSAxMDAwO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL21vZGVsL1R5cGVzJykuRWxlbWVudH0gRWxlbWVudFxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vT3V0bGluZVByb3ZpZGVyJykuZGVmYXVsdH0gT3V0bGluZVByb3ZpZGVyXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2RyYXcvU3R5bGVzJykuZGVmYXVsdH0gU3R5bGVzXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NcbiAqXG4gKiBBIHBsdWdpbiB0aGF0IGFkZHMgYW4gb3V0bGluZSB0byBzaGFwZXMgYW5kIGNvbm5lY3Rpb25zIHRoYXQgbWF5IGJlIGFjdGl2YXRlZCBhbmQgc3R5bGVkXG4gKiB2aWEgQ1NTIGNsYXNzZXMuXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7U3R5bGVzfSBzdHlsZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gT3V0bGluZShldmVudEJ1cywgc3R5bGVzKSB7XG5cbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcblxuICB0aGlzLm9mZnNldCA9IDU7XG5cbiAgdmFyIE9VVExJTkVfU1RZTEUgPSBzdHlsZXMuY2xzKCdkanMtb3V0bGluZScsIFsgJ25vLWZpbGwnIF0pO1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICAvKipcbiAgICogQHBhcmFtIHtTVkdFbGVtZW50fSBnZnhcbiAgICpcbiAgICogQHJldHVybiB7U1ZHRWxlbWVudH0gb3V0bGluZVxuICAgKi9cbiAgZnVuY3Rpb24gY3JlYXRlT3V0bGluZShnZngpIHtcbiAgICB2YXIgb3V0bGluZSA9IHN2Z0NyZWF0ZSgncmVjdCcpO1xuXG4gICAgc3ZnQXR0cihvdXRsaW5lLCBhc3NpZ24oe1xuICAgICAgeDogMCxcbiAgICAgIHk6IDAsXG4gICAgICByeDogNCxcbiAgICAgIHdpZHRoOiAxMDAsXG4gICAgICBoZWlnaHQ6IDEwMFxuICAgIH0sIE9VVExJTkVfU1RZTEUpKTtcblxuICAgIHJldHVybiBvdXRsaW5lO1xuICB9XG5cbiAgLy8gQSBsb3cgcHJpb3J0aXR5IGlzIG5lY2Vzc2FyeSwgYmVjYXVzZSBvdXRsaW5lcyBvZiBsYWJlbHMgaGF2ZSB0byBiZSB1cGRhdGVkXG4gIC8vIGFmdGVyIHRoZSBsYWJlbCBib3VuZHMgaGF2ZSBiZWVuIHVwZGF0ZWQgaW4gdGhlIHJlbmRlcmVyLlxuICBldmVudEJ1cy5vbihbICdzaGFwZS5hZGRlZCcsICdzaGFwZS5jaGFuZ2VkJyBdLCBMT1dfUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGVsZW1lbnQgPSBldmVudC5lbGVtZW50LFxuICAgICAgICBnZnggPSBldmVudC5nZng7XG5cbiAgICB2YXIgb3V0bGluZSA9IGRvbVF1ZXJ5KCcuZGpzLW91dGxpbmUnLCBnZngpO1xuXG4gICAgaWYgKCFvdXRsaW5lKSB7XG4gICAgICBvdXRsaW5lID0gc2VsZi5nZXRPdXRsaW5lKGVsZW1lbnQpIHx8IGNyZWF0ZU91dGxpbmUoZ2Z4KTtcbiAgICAgIHN2Z0FwcGVuZChnZngsIG91dGxpbmUpO1xuICAgIH1cblxuICAgIHNlbGYudXBkYXRlU2hhcGVPdXRsaW5lKG91dGxpbmUsIGVsZW1lbnQpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbihbICdjb25uZWN0aW9uLmFkZGVkJywgJ2Nvbm5lY3Rpb24uY2hhbmdlZCcgXSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgZWxlbWVudCA9IGV2ZW50LmVsZW1lbnQsXG4gICAgICAgIGdmeCA9IGV2ZW50LmdmeDtcblxuICAgIHZhciBvdXRsaW5lID0gZG9tUXVlcnkoJy5kanMtb3V0bGluZScsIGdmeCk7XG5cbiAgICBpZiAoIW91dGxpbmUpIHtcbiAgICAgIG91dGxpbmUgPSBjcmVhdGVPdXRsaW5lKGdmeCk7XG4gICAgICBzdmdBcHBlbmQoZ2Z4LCBvdXRsaW5lKTtcbiAgICB9XG5cbiAgICBzZWxmLnVwZGF0ZUNvbm5lY3Rpb25PdXRsaW5lKG91dGxpbmUsIGVsZW1lbnQpO1xuICB9KTtcbn1cblxuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIG91dGxpbmUgb2YgYSBzaGFwZSByZXNwZWN0aW5nIHRoZSBkaW1lbnNpb24gb2YgdGhlXG4gKiBlbGVtZW50IGFuZCBhbiBvdXRsaW5lIG9mZnNldC5cbiAqXG4gKiBAcGFyYW0ge1NWR0VsZW1lbnR9IG91dGxpbmVcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICovXG5PdXRsaW5lLnByb3RvdHlwZS51cGRhdGVTaGFwZU91dGxpbmUgPSBmdW5jdGlvbihvdXRsaW5lLCBlbGVtZW50KSB7XG5cbiAgdmFyIHVwZGF0ZWQgPSBmYWxzZTtcbiAgdmFyIHByb3ZpZGVycyA9IHRoaXMuX2dldFByb3ZpZGVycygpO1xuXG4gIGlmIChwcm92aWRlcnMubGVuZ3RoKSB7XG4gICAgZm9yRWFjaChwcm92aWRlcnMsIGZ1bmN0aW9uKHByb3ZpZGVyKSB7XG4gICAgICB1cGRhdGVkID0gdXBkYXRlZCB8fCBwcm92aWRlci51cGRhdGVPdXRsaW5lKGVsZW1lbnQsIG91dGxpbmUpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKCF1cGRhdGVkKSB7XG4gICAgc3ZnQXR0cihvdXRsaW5lLCB7XG4gICAgICB4OiAtdGhpcy5vZmZzZXQsXG4gICAgICB5OiAtdGhpcy5vZmZzZXQsXG4gICAgICB3aWR0aDogZWxlbWVudC53aWR0aCArIHRoaXMub2Zmc2V0ICogMixcbiAgICAgIGhlaWdodDogZWxlbWVudC5oZWlnaHQgKyB0aGlzLm9mZnNldCAqIDJcbiAgICB9KTtcbiAgfVxufTtcblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBvdXRsaW5lIG9mIGEgY29ubmVjdGlvbiByZXNwZWN0aW5nIHRoZSBib3VuZGluZyBib3ggb2ZcbiAqIHRoZSBjb25uZWN0aW9uIGFuZCBhbiBvdXRsaW5lIG9mZnNldC5cbiAqIFJlZ2lzdGVyIGFuIG91dGxpbmUgcHJvdmlkZXIgd2l0aCB0aGUgZ2l2ZW4gcHJpb3JpdHkuXG4gKlxuICogQHBhcmFtIHtTVkdFbGVtZW50fSBvdXRsaW5lXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGNvbm5lY3Rpb25cbiAqL1xuT3V0bGluZS5wcm90b3R5cGUudXBkYXRlQ29ubmVjdGlvbk91dGxpbmUgPSBmdW5jdGlvbihvdXRsaW5lLCBjb25uZWN0aW9uKSB7XG4gIHZhciBiYm94ID0gZ2V0QkJveChjb25uZWN0aW9uKTtcblxuICBzdmdBdHRyKG91dGxpbmUsIHtcbiAgICB4OiBiYm94LnggLSB0aGlzLm9mZnNldCxcbiAgICB5OiBiYm94LnkgLSB0aGlzLm9mZnNldCxcbiAgICB3aWR0aDogYmJveC53aWR0aCArIHRoaXMub2Zmc2V0ICogMixcbiAgICBoZWlnaHQ6IGJib3guaGVpZ2h0ICsgdGhpcy5vZmZzZXQgKiAyXG4gIH0pO1xufTtcblxuLyoqXG4gKiBSZWdpc3RlciBhbiBvdXRsaW5lIHByb3ZpZGVyIHdpdGggdGhlIGdpdmVuIHByaW9yaXR5LlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBwcmlvcml0eVxuICogQHBhcmFtIHtPdXRsaW5lUHJvdmlkZXJ9IHByb3ZpZGVyXG4gKi9cbk91dGxpbmUucHJvdG90eXBlLnJlZ2lzdGVyUHJvdmlkZXIgPSBmdW5jdGlvbihwcmlvcml0eSwgcHJvdmlkZXIpIHtcbiAgaWYgKCFwcm92aWRlcikge1xuICAgIHByb3ZpZGVyID0gcHJpb3JpdHk7XG4gICAgcHJpb3JpdHkgPSBERUZBVUxUX1BSSU9SSVRZO1xuICB9XG5cbiAgdGhpcy5fZXZlbnRCdXMub24oJ291dGxpbmUuZ2V0UHJvdmlkZXJzJywgcHJpb3JpdHksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgZXZlbnQucHJvdmlkZXJzLnB1c2gocHJvdmlkZXIpO1xuICB9KTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgcmVnaXN0ZXJlZCBvdXRsaW5lIHByb3ZpZGVycy5cbiAqXG4gKiBAcmV0dXJucyB7T3V0bGluZVByb3ZpZGVyW119XG4gKi9cbk91dGxpbmUucHJvdG90eXBlLl9nZXRQcm92aWRlcnMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGV2ZW50ID0gdGhpcy5fZXZlbnRCdXMuY3JlYXRlRXZlbnQoe1xuICAgIHR5cGU6ICdvdXRsaW5lLmdldFByb3ZpZGVycycsXG4gICAgcHJvdmlkZXJzOiBbXVxuICB9KTtcblxuICB0aGlzLl9ldmVudEJ1cy5maXJlKGV2ZW50KTtcblxuICByZXR1cm4gZXZlbnQucHJvdmlkZXJzO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBvdXRsaW5lIGZvciBhbiBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICovXG5PdXRsaW5lLnByb3RvdHlwZS5nZXRPdXRsaW5lID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB2YXIgb3V0bGluZTtcbiAgdmFyIHByb3ZpZGVycyA9IHRoaXMuX2dldFByb3ZpZGVycygpO1xuXG4gIGZvckVhY2gocHJvdmlkZXJzLCBmdW5jdGlvbihwcm92aWRlcikge1xuXG4gICAgaWYgKCFpc0Z1bmN0aW9uKHByb3ZpZGVyLmdldE91dGxpbmUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgb3V0bGluZSA9IG91dGxpbmUgfHwgcHJvdmlkZXIuZ2V0T3V0bGluZShlbGVtZW50KTtcbiAgfSk7XG5cbiAgcmV0dXJuIG91dGxpbmU7XG59O1xuXG5PdXRsaW5lLiRpbmplY3QgPSBbICdldmVudEJ1cycsICdzdHlsZXMnLCAnZWxlbWVudFJlZ2lzdHJ5JyBdOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/outline/Outline.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/outline/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/outline/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _selection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../selection */ \"(ssr)/./node_modules/diagram-js/lib/features/selection/index.js\");\n/* harmony import */ var _Outline__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Outline */ \"(ssr)/./node_modules/diagram-js/lib/features/outline/Outline.js\");\n/* harmony import */ var _MultiSelectionOutline__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MultiSelectionOutline */ \"(ssr)/./node_modules/diagram-js/lib/features/outline/MultiSelectionOutline.js\");\n\n\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _selection__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\n  ],\n  __init__: [ 'outline', 'multiSelectionOutline' ],\n  outline: [ 'type', _Outline__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ],\n  multiSelectionOutline: [ 'type', _MultiSelectionOutline__WEBPACK_IMPORTED_MODULE_2__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvb3V0bGluZS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJDOztBQUVYO0FBQzRCOzs7QUFHNUQ7QUFDQSxXQUFXO0FBQ1g7QUFDQSxpRUFBZTtBQUNmO0FBQ0EsSUFBSSxrREFBZTtBQUNuQjtBQUNBO0FBQ0EscUJBQXFCLGdEQUFPO0FBQzVCLG1DQUFtQyw4REFBcUI7QUFDeEQsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9vdXRsaW5lL2luZGV4LmpzPzUzZDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNlbGVjdGlvbk1vZHVsZSBmcm9tICcuLi9zZWxlY3Rpb24nO1xuXG5pbXBvcnQgT3V0bGluZSBmcm9tICcuL091dGxpbmUnO1xuaW1wb3J0IE11bHRpU2VsZWN0aW9uT3V0bGluZSBmcm9tICcuL011bHRpU2VsZWN0aW9uT3V0bGluZSc7XG5cblxuLyoqXG4gKiBAdHlwZSB7IGltcG9ydCgnZGlkaScpLk1vZHVsZURlY2xhcmF0aW9uIH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIFNlbGVjdGlvbk1vZHVsZVxuICBdLFxuICBfX2luaXRfXzogWyAnb3V0bGluZScsICdtdWx0aVNlbGVjdGlvbk91dGxpbmUnIF0sXG4gIG91dGxpbmU6IFsgJ3R5cGUnLCBPdXRsaW5lIF0sXG4gIG11bHRpU2VsZWN0aW9uT3V0bGluZTogWyAndHlwZScsIE11bHRpU2VsZWN0aW9uT3V0bGluZSBdXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/outline/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/overlays/Overlays.js":
/*!*******************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/overlays/Overlays.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Overlays)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dom */ \"(ssr)/./node_modules/min-dom/dist/index.esm.js\");\n/* harmony import */ var _util_Elements__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/Elements */ \"(ssr)/./node_modules/diagram-js/lib/util/Elements.js\");\n/* harmony import */ var _util_IdGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/IdGenerator */ \"(ssr)/./node_modules/diagram-js/lib/util/IdGenerator.js\");\n\n\n\n\n\n\n\n\n// document wide unique overlay ids\nvar ids = new _util_IdGenerator__WEBPACK_IMPORTED_MODULE_0__[\"default\"]('ov');\n\nvar LOW_PRIORITY = 500;\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\n * @typedef {import('../../core/EventBus').default} EventBus\n *\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef { {\n *   minZoom?: number,\n *   maxZoom?: number\n * } } OverlaysConfigShow\n *\n * @typedef { {\n *   min?: number,\n *   max?: number\n * } } OverlaysConfigScale\n *\n * @typedef { {\n*   id: string,\n*   type: string | null,\n*   element: Element | string\n* } & OverlayAttrs } Overlay\n*\n * @typedef { {\n *   html: HTMLElement | string,\n *   position: {\n *     top?: number,\n *     right?: number,\n *     bottom?: number,\n *     left?: number\n *   }\n * } & OverlaysConfigDefault } OverlayAttrs\n *\n * @typedef { {\n *   html: HTMLElement,\n *   element: Element,\n *   overlays: Overlay[]\n * } } OverlayContainer\n *\n * @typedef {{\n *   defaults?: OverlaysConfigDefault\n * }} OverlaysConfig\n *\n * @typedef { {\n *  show?: OverlaysConfigShow,\n *  scale?: OverlaysConfigScale | boolean\n * } } OverlaysConfigDefault\n *\n * @typedef { {\n *   id?: string;\n *   element?: Element | string;\n *   type?: string;\n * } | string } OverlaysFilter\n */\n\n/**\n * A service that allows users to attach overlays to diagram elements.\n *\n * The overlay service will take care of overlay positioning during updates.\n *\n * @example\n *\n * ```javascript\n * // add a pink badge on the top left of the shape\n *\n * overlays.add(someShape, {\n *   position: {\n *     top: -5,\n *     left: -5\n *   },\n *   html: '<div style=\"width: 10px; background: fuchsia; color: white;\">0</div>'\n * });\n *\n * // or add via shape id\n *\n * overlays.add('some-element-id', {\n *   position: {\n *     top: -5,\n *     left: -5\n *   }\n *   html: '<div style=\"width: 10px; background: fuchsia; color: white;\">0</div>'\n * });\n *\n * // or add with optional type\n *\n * overlays.add(someShape, 'badge', {\n *   position: {\n *     top: -5,\n *     left: -5\n *   }\n *   html: '<div style=\"width: 10px; background: fuchsia; color: white;\">0</div>'\n * });\n * ```\n *\n * ```javascript\n * // remove an overlay\n *\n * var id = overlays.add(...);\n * overlays.remove(id);\n *\n *\n * You may configure overlay defaults during tool by providing a `config` module\n * with `overlays.defaults` as an entry:\n *\n * {\n *   overlays: {\n *     defaults: {\n *       show: {\n *         minZoom: 0.7,\n *         maxZoom: 5.0\n *       },\n *       scale: {\n *         min: 1\n *       }\n *     }\n * }\n * ```\n *\n * @param {OverlaysConfig} config\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {ElementRegistry} elementRegistry\n */\nfunction Overlays(config, eventBus, canvas, elementRegistry) {\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n  this._elementRegistry = elementRegistry;\n\n  this._ids = ids;\n\n  /**\n   * @type {OverlaysConfigDefault}\n   */\n  this._overlayDefaults = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)({\n\n    // no show constraints\n    show: null,\n\n    // always scale\n    scale: true\n  }, config && config.defaults);\n\n  /**\n   * @type {Record<string, Overlay>}\n   */\n  this._overlays = {};\n\n  /**\n   * @type {OverlayContainer[]}\n   */\n  this._overlayContainers = [];\n\n  /**\n   * @type {HTMLElement}\n   */\n  this._overlayRoot = createRoot(canvas.getContainer());\n\n  this._init();\n}\n\n\nOverlays.$inject = [\n  'config.overlays',\n  'eventBus',\n  'canvas',\n  'elementRegistry'\n];\n\n\n/**\n * Returns the overlay with the specified ID or a list of overlays\n * for an element with a given type.\n *\n * @example\n *\n * ```javascript\n * // return the single overlay with the given ID\n * overlays.get('some-id');\n *\n * // return all overlays for the shape\n * overlays.get({ element: someShape });\n *\n * // return all overlays on shape with type 'badge'\n * overlays.get({ element: someShape, type: 'badge' });\n *\n * // shape can also be specified as ID\n * overlays.get({ element: 'element-id', type: 'badge' });\n * ```\n *\n * @param {OverlaysFilter} search The filter to be used to find the overlay(s).\n *\n * @return {Overlay|Overlay[]} The overlay(s).\n */\nOverlays.prototype.get = function(search) {\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isString)(search)) {\n    search = { id: search };\n  }\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isString)(search.element)) {\n    search.element = this._elementRegistry.get(search.element);\n  }\n\n  if (search.element) {\n    var container = this._getOverlayContainer(search.element, true);\n\n    // return a list of overlays when searching by element (+type)\n    if (container) {\n      return search.type ? (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.filter)(container.overlays, (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.matchPattern)({ type: search.type })) : container.overlays.slice();\n    } else {\n      return [];\n    }\n  } else if (search.type) {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.filter)(this._overlays, (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.matchPattern)({ type: search.type }));\n  } else {\n\n    // return single element when searching by id\n    return search.id ? this._overlays[search.id] : null;\n  }\n};\n\n/**\n * Adds an HTML overlay to an element.\n *\n * @param {Element|string} element The element to add the overlay to.\n * @param {string} [type] An optional type that can be used to filter.\n * @param {OverlayAttrs} overlay The overlay.\n *\n * @return {string} The overlay's ID that can be used to get or remove it.\n */\nOverlays.prototype.add = function(element, type, overlay) {\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isObject)(type)) {\n    overlay = type;\n    type = null;\n  }\n\n  if (!element.id) {\n    element = this._elementRegistry.get(element);\n  }\n\n  if (!overlay.position) {\n    throw new Error('must specifiy overlay position');\n  }\n\n  if (!overlay.html) {\n    throw new Error('must specifiy overlay html');\n  }\n\n  if (!element) {\n    throw new Error('invalid element specified');\n  }\n\n  var id = this._ids.next();\n\n  overlay = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)({}, this._overlayDefaults, overlay, {\n    id: id,\n    type: type,\n    element: element,\n    html: overlay.html\n  });\n\n  this._addOverlay(overlay);\n\n  return id;\n};\n\n\n/**\n * Remove an overlay with the given ID or all overlays matching the given filter.\n *\n * @see Overlays#get for filter options.\n *\n * @param {OverlaysFilter} filter The filter to be used to find the overlay.\n */\nOverlays.prototype.remove = function(filter) {\n\n  var overlays = this.get(filter) || [];\n\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isArray)(overlays)) {\n    overlays = [ overlays ];\n  }\n\n  var self = this;\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(overlays, function(overlay) {\n\n    var container = self._getOverlayContainer(overlay.element, true);\n\n    if (overlay) {\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.remove)(overlay.html);\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.remove)(overlay.htmlContainer);\n\n      delete overlay.htmlContainer;\n      delete overlay.element;\n\n      delete self._overlays[overlay.id];\n    }\n\n    if (container) {\n      var idx = container.overlays.indexOf(overlay);\n      if (idx !== -1) {\n        container.overlays.splice(idx, 1);\n      }\n    }\n  });\n\n};\n\n/**\n * Checks whether overlays are shown.\n *\n * @return {boolean} Whether overlays are shown.\n */\nOverlays.prototype.isShown = function() {\n  return this._overlayRoot.style.display !== 'none';\n};\n\n/**\n * Show all overlays.\n */\nOverlays.prototype.show = function() {\n  setVisible(this._overlayRoot);\n};\n\n/**\n * Hide all overlays.\n */\nOverlays.prototype.hide = function() {\n  setVisible(this._overlayRoot, false);\n};\n\n/**\n * Remove all overlays and their container.\n */\nOverlays.prototype.clear = function() {\n  this._overlays = {};\n\n  this._overlayContainers = [];\n\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.clear)(this._overlayRoot);\n};\n\nOverlays.prototype._updateOverlayContainer = function(container) {\n  var element = container.element,\n      html = container.html;\n\n  // update container left,top according to the elements x,y coordinates\n  // this ensures we can attach child elements relative to this container\n\n  var x = element.x,\n      y = element.y;\n\n  if (element.waypoints) {\n    var bbox = (0,_util_Elements__WEBPACK_IMPORTED_MODULE_3__.getBBox)(element);\n    x = bbox.x;\n    y = bbox.y;\n  }\n\n  setPosition(html, x, y);\n\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.attr)(container.html, 'data-container-id', element.id);\n};\n\n\nOverlays.prototype._updateOverlay = function(overlay) {\n\n  var position = overlay.position,\n      htmlContainer = overlay.htmlContainer,\n      element = overlay.element;\n\n  // update overlay html relative to shape because\n  // it is already positioned on the element\n\n  // update relative\n  var left = position.left,\n      top = position.top;\n\n  if (position.right !== undefined) {\n\n    var width;\n\n    if (element.waypoints) {\n      width = (0,_util_Elements__WEBPACK_IMPORTED_MODULE_3__.getBBox)(element).width;\n    } else {\n      width = element.width;\n    }\n\n    left = position.right * -1 + width;\n  }\n\n  if (position.bottom !== undefined) {\n\n    var height;\n\n    if (element.waypoints) {\n      height = (0,_util_Elements__WEBPACK_IMPORTED_MODULE_3__.getBBox)(element).height;\n    } else {\n      height = element.height;\n    }\n\n    top = position.bottom * -1 + height;\n  }\n\n  setPosition(htmlContainer, left || 0, top || 0);\n  this._updateOverlayVisibilty(overlay, this._canvas.viewbox());\n};\n\n\nOverlays.prototype._createOverlayContainer = function(element) {\n  var html = (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.domify)('<div class=\"djs-overlays\" />');\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.assignStyle)(html, { position: 'absolute' });\n\n  this._overlayRoot.appendChild(html);\n\n  var container = {\n    html: html,\n    element: element,\n    overlays: []\n  };\n\n  this._updateOverlayContainer(container);\n\n  this._overlayContainers.push(container);\n\n  return container;\n};\n\n\nOverlays.prototype._updateRoot = function(viewbox) {\n  var scale = viewbox.scale || 1;\n\n  var matrix = 'matrix(' +\n  [\n    scale,\n    0,\n    0,\n    scale,\n    -1 * viewbox.x * scale,\n    -1 * viewbox.y * scale\n  ].join(',') +\n  ')';\n\n  setTransform(this._overlayRoot, matrix);\n};\n\n\nOverlays.prototype._getOverlayContainer = function(element, raw) {\n  var container = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.find)(this._overlayContainers, function(c) {\n    return c.element === element;\n  });\n\n\n  if (!container && !raw) {\n    return this._createOverlayContainer(element);\n  }\n\n  return container;\n};\n\n\nOverlays.prototype._addOverlay = function(overlay) {\n\n  var id = overlay.id,\n      element = overlay.element,\n      html = overlay.html,\n      htmlContainer,\n      overlayContainer;\n\n  // unwrap jquery (for those who need it)\n  if (html.get && html.constructor.prototype.jquery) {\n    html = html.get(0);\n  }\n\n  // create proper html elements from\n  // overlay HTML strings\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isString)(html)) {\n    html = (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.domify)(html);\n  }\n\n  overlayContainer = this._getOverlayContainer(element);\n\n  htmlContainer = (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.domify)('<div class=\"djs-overlay\" data-overlay-id=\"' + id + '\">');\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.assignStyle)(htmlContainer, { position: 'absolute' });\n\n  htmlContainer.appendChild(html);\n\n  if (overlay.type) {\n    (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.classes)(htmlContainer).add('djs-overlay-' + overlay.type);\n  }\n\n  var elementRoot = this._canvas.findRoot(element);\n  var activeRoot = this._canvas.getRootElement();\n\n  setVisible(htmlContainer, elementRoot === activeRoot);\n\n  overlay.htmlContainer = htmlContainer;\n\n  overlayContainer.overlays.push(overlay);\n  overlayContainer.html.appendChild(htmlContainer);\n\n  this._overlays[id] = overlay;\n\n  this._updateOverlay(overlay);\n  this._updateOverlayVisibilty(overlay, this._canvas.viewbox());\n};\n\n\nOverlays.prototype._updateOverlayVisibilty = function(overlay, viewbox) {\n  var show = overlay.show,\n      rootElement = this._canvas.findRoot(overlay.element),\n      minZoom = show && show.minZoom,\n      maxZoom = show && show.maxZoom,\n      htmlContainer = overlay.htmlContainer,\n      activeRootElement = this._canvas.getRootElement(),\n      visible = true;\n\n  if (rootElement !== activeRootElement) {\n    visible = false;\n  } else if (show) {\n    if (\n      ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isDefined)(minZoom) && minZoom > viewbox.scale) ||\n      ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isDefined)(maxZoom) && maxZoom < viewbox.scale)\n    ) {\n      visible = false;\n    }\n  }\n\n  setVisible(htmlContainer, visible);\n\n  this._updateOverlayScale(overlay, viewbox);\n};\n\n\nOverlays.prototype._updateOverlayScale = function(overlay, viewbox) {\n  var shouldScale = overlay.scale,\n      minScale,\n      maxScale,\n      htmlContainer = overlay.htmlContainer;\n\n  var scale, transform = '';\n\n  if (shouldScale !== true) {\n\n    if (shouldScale === false) {\n      minScale = 1;\n      maxScale = 1;\n    } else {\n      minScale = shouldScale.min;\n      maxScale = shouldScale.max;\n    }\n\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isDefined)(minScale) && viewbox.scale < minScale) {\n      scale = (1 / viewbox.scale || 1) * minScale;\n    }\n\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isDefined)(maxScale) && viewbox.scale > maxScale) {\n      scale = (1 / viewbox.scale || 1) * maxScale;\n    }\n  }\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isDefined)(scale)) {\n    transform = 'scale(' + scale + ',' + scale + ')';\n  }\n\n  setTransform(htmlContainer, transform);\n};\n\n\nOverlays.prototype._updateOverlaysVisibilty = function(viewbox) {\n\n  var self = this;\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(this._overlays, function(overlay) {\n    self._updateOverlayVisibilty(overlay, viewbox);\n  });\n};\n\n\nOverlays.prototype._init = function() {\n\n  var eventBus = this._eventBus;\n\n  var self = this;\n\n\n  // scroll/zoom integration\n\n  function updateViewbox(viewbox) {\n    self._updateRoot(viewbox);\n    self._updateOverlaysVisibilty(viewbox);\n\n    self.show();\n  }\n\n  eventBus.on('canvas.viewbox.changing', function(event) {\n    self.hide();\n  });\n\n  eventBus.on('canvas.viewbox.changed', function(event) {\n    updateViewbox(event.viewbox);\n  });\n\n\n  // remove integration\n\n  eventBus.on([ 'shape.remove', 'connection.remove' ], function(e) {\n    var element = e.element;\n    var overlays = self.get({ element: element });\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(overlays, function(o) {\n      self.remove(o.id);\n    });\n\n    var container = self._getOverlayContainer(element);\n\n    if (container) {\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.remove)(container.html);\n      var i = self._overlayContainers.indexOf(container);\n      if (i !== -1) {\n        self._overlayContainers.splice(i, 1);\n      }\n    }\n  });\n\n\n  // move integration\n\n  eventBus.on('element.changed', LOW_PRIORITY, function(e) {\n    var element = e.element;\n\n    var container = self._getOverlayContainer(element, true);\n\n    if (container) {\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(container.overlays, function(overlay) {\n        self._updateOverlay(overlay);\n      });\n\n      self._updateOverlayContainer(container);\n    }\n  });\n\n\n  // marker integration, simply add them on the overlays as classes, too.\n\n  eventBus.on('element.marker.update', function(e) {\n    var container = self._getOverlayContainer(e.element, true);\n    if (container) {\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.classes)(container.html)[e.add ? 'add' : 'remove'](e.marker);\n    }\n  });\n\n\n  eventBus.on('root.set', function() {\n    self._updateOverlaysVisibilty(self._canvas.viewbox());\n  });\n\n  // clear overlays with diagram\n\n  eventBus.on('diagram.clear', this.clear, this);\n};\n\n\n\n// helpers /////////////////////////////\n\nfunction createRoot(parentNode) {\n  var root = (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.domify)(\n    '<div class=\"djs-overlay-container\" />'\n  );\n\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.assignStyle)(root, {\n    position: 'absolute',\n    width: 0,\n    height: 0\n  });\n\n  parentNode.insertBefore(root, parentNode.firstChild);\n\n  return root;\n}\n\nfunction setPosition(el, x, y) {\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.assignStyle)(el, { left: x + 'px', top: y + 'px' });\n}\n\n/**\n * Set element visible\n *\n * @param {DOMElement} el\n * @param {boolean} [visible=true]\n */\nfunction setVisible(el, visible) {\n  el.style.display = visible === false ? 'none' : '';\n}\n\nfunction setTransform(el, transform) {\n\n  el.style['transform-origin'] = 'top left';\n\n  [ '', '-ms-', '-webkit-' ].forEach(function(prefix) {\n    el.style[prefix + 'transform'] = transform;\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvb3ZlcmxheXMvT3ZlcmxheXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFVa0I7O0FBU0Q7O0FBSVk7O0FBRVk7O0FBRXpDO0FBQ0EsY0FBYyx5REFBRzs7QUFFakI7O0FBRUE7QUFDQSxhQUFhLHFDQUFxQztBQUNsRCxhQUFhLDhDQUE4QztBQUMzRCxhQUFhLHVDQUF1QztBQUNwRDtBQUNBLGFBQWEscUNBQXFDO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLGlCQUFpQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDBCQUEwQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxXQUFXO0FBQ2hCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04scUNBQXFDLHFCQUFxQixhQUFhO0FBQ3ZFLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHFCQUFxQixhQUFhO0FBQ3ZFLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHFCQUFxQixhQUFhO0FBQ3ZFLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQjtBQUMzQixXQUFXLFVBQVU7QUFDckIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsaUJBQWlCO0FBQzVCO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxZQUFZO0FBQ1o7QUFDQSwwQkFBMEIsZ0RBQU07O0FBRWhDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG9CQUFvQjtBQUN0QztBQUNBO0FBQ0Esa0JBQWtCLG1DQUFtQztBQUNyRDtBQUNBO0FBQ0Esa0JBQWtCLHNDQUFzQztBQUN4RDtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0I7QUFDQSxZQUFZLG1CQUFtQjtBQUMvQjtBQUNBOztBQUVBLE1BQU0sa0RBQVE7QUFDZCxlQUFlO0FBQ2Y7O0FBRUEsTUFBTSxrREFBUTtBQUNkO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMkJBQTJCLGdEQUFNLHFCQUFxQixzREFBWSxHQUFHLG1CQUFtQjtBQUN4RixNQUFNO0FBQ047QUFDQTtBQUNBLElBQUk7QUFDSixXQUFXLGdEQUFNLGlCQUFpQixzREFBWSxHQUFHLG1CQUFtQjtBQUNwRSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCLFdBQVcsUUFBUTtBQUNuQixXQUFXLGNBQWM7QUFDekI7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTs7QUFFQSxNQUFNLGtEQUFRO0FBQ2Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxZQUFZLGdEQUFNLEdBQUc7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQjtBQUMzQjtBQUNBOztBQUVBOztBQUVBLE9BQU8saURBQU87QUFDZDtBQUNBOztBQUVBOztBQUVBLEVBQUUsaURBQU87O0FBRVQ7O0FBRUE7QUFDQSxNQUFNLCtDQUFTO0FBQ2YsTUFBTSwrQ0FBUzs7QUFFZjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFNBQVM7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLEVBQUUsOENBQVE7QUFDVjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsZUFBZSx1REFBTztBQUN0QjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsRUFBRSw2Q0FBTztBQUNUOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSxjQUFjLHVEQUFPO0FBQ3JCLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSxlQUFlLHVEQUFPO0FBQ3RCLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBLGFBQWEsK0NBQU07QUFDbkIsRUFBRSxvREFBVyxTQUFTLHNCQUFzQjs7QUFFNUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0Esa0JBQWtCLDhDQUFJO0FBQ3RCO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU0sa0RBQVE7QUFDZCxXQUFXLCtDQUFNO0FBQ2pCOztBQUVBOztBQUVBLGtCQUFrQiwrQ0FBTTtBQUN4QixFQUFFLG9EQUFXLGtCQUFrQixzQkFBc0I7O0FBRXJEOztBQUVBO0FBQ0EsSUFBSSxnREFBVTtBQUNkOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLE9BQU8sbURBQVM7QUFDaEIsT0FBTyxtREFBUztBQUNoQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUEsUUFBUSxtREFBUztBQUNqQjtBQUNBOztBQUVBLFFBQVEsbURBQVM7QUFDakI7QUFDQTtBQUNBOztBQUVBLE1BQU0sbURBQVM7QUFDZjtBQUNBOztBQUVBO0FBQ0E7OztBQUdBOztBQUVBOztBQUVBLEVBQUUsaURBQU87QUFDVDtBQUNBLEdBQUc7QUFDSDs7O0FBR0E7O0FBRUE7O0FBRUE7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDs7QUFFQTtBQUNBO0FBQ0EsOEJBQThCLGtCQUFrQjs7QUFFaEQsSUFBSSxpREFBTztBQUNYO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBLE1BQU0sK0NBQVM7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7O0FBR0g7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLE1BQU0saURBQU87QUFDYjtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBLEdBQUc7OztBQUdIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sZ0RBQVU7QUFDaEI7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBOzs7O0FBSUE7O0FBRUE7QUFDQSxhQUFhLCtDQUFNO0FBQ25CO0FBQ0E7O0FBRUEsRUFBRSxvREFBVztBQUNiO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEVBQUUsb0RBQVcsT0FBTywrQkFBK0I7QUFDbkQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL292ZXJsYXlzL092ZXJsYXlzLmpzP2Q3ZjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgaXNBcnJheSxcbiAgaXNTdHJpbmcsXG4gIGlzT2JqZWN0LFxuICBhc3NpZ24sXG4gIGZvckVhY2gsXG4gIGZpbmQsXG4gIGZpbHRlcixcbiAgbWF0Y2hQYXR0ZXJuLFxuICBpc0RlZmluZWRcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBhc3NpZ25TdHlsZSxcbiAgZG9taWZ5LFxuICBjbGFzc2VzIGFzIGRvbUNsYXNzZXMsXG4gIGF0dHIgYXMgZG9tQXR0cixcbiAgcmVtb3ZlIGFzIGRvbVJlbW92ZSxcbiAgY2xlYXIgYXMgZG9tQ2xlYXJcbn0gZnJvbSAnbWluLWRvbSc7XG5cbmltcG9ydCB7XG4gIGdldEJCb3hcbn0gZnJvbSAnLi4vLi4vdXRpbC9FbGVtZW50cyc7XG5cbmltcG9ydCBJZHMgZnJvbSAnLi4vLi4vdXRpbC9JZEdlbmVyYXRvcic7XG5cbi8vIGRvY3VtZW50IHdpZGUgdW5pcXVlIG92ZXJsYXkgaWRzXG52YXIgaWRzID0gbmV3IElkcygnb3YnKTtcblxudmFyIExPV19QUklPUklUWSA9IDUwMDtcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0NhbnZhcycpLmRlZmF1bHR9IENhbnZhc1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FbGVtZW50UmVnaXN0cnknKS5kZWZhdWx0fSBFbGVtZW50UmVnaXN0cnlcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL21vZGVsL1R5cGVzJykuRWxlbWVudH0gRWxlbWVudFxuICpcbiAqIEB0eXBlZGVmIHsge1xuICogICBtaW5ab29tPzogbnVtYmVyLFxuICogICBtYXhab29tPzogbnVtYmVyXG4gKiB9IH0gT3ZlcmxheXNDb25maWdTaG93XG4gKlxuICogQHR5cGVkZWYgeyB7XG4gKiAgIG1pbj86IG51bWJlcixcbiAqICAgbWF4PzogbnVtYmVyXG4gKiB9IH0gT3ZlcmxheXNDb25maWdTY2FsZVxuICpcbiAqIEB0eXBlZGVmIHsge1xuKiAgIGlkOiBzdHJpbmcsXG4qICAgdHlwZTogc3RyaW5nIHwgbnVsbCxcbiogICBlbGVtZW50OiBFbGVtZW50IHwgc3RyaW5nXG4qIH0gJiBPdmVybGF5QXR0cnMgfSBPdmVybGF5XG4qXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgaHRtbDogSFRNTEVsZW1lbnQgfCBzdHJpbmcsXG4gKiAgIHBvc2l0aW9uOiB7XG4gKiAgICAgdG9wPzogbnVtYmVyLFxuICogICAgIHJpZ2h0PzogbnVtYmVyLFxuICogICAgIGJvdHRvbT86IG51bWJlcixcbiAqICAgICBsZWZ0PzogbnVtYmVyXG4gKiAgIH1cbiAqIH0gJiBPdmVybGF5c0NvbmZpZ0RlZmF1bHQgfSBPdmVybGF5QXR0cnNcbiAqXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgaHRtbDogSFRNTEVsZW1lbnQsXG4gKiAgIGVsZW1lbnQ6IEVsZW1lbnQsXG4gKiAgIG92ZXJsYXlzOiBPdmVybGF5W11cbiAqIH0gfSBPdmVybGF5Q29udGFpbmVyXG4gKlxuICogQHR5cGVkZWYge3tcbiAqICAgZGVmYXVsdHM/OiBPdmVybGF5c0NvbmZpZ0RlZmF1bHRcbiAqIH19IE92ZXJsYXlzQ29uZmlnXG4gKlxuICogQHR5cGVkZWYgeyB7XG4gKiAgc2hvdz86IE92ZXJsYXlzQ29uZmlnU2hvdyxcbiAqICBzY2FsZT86IE92ZXJsYXlzQ29uZmlnU2NhbGUgfCBib29sZWFuXG4gKiB9IH0gT3ZlcmxheXNDb25maWdEZWZhdWx0XG4gKlxuICogQHR5cGVkZWYgeyB7XG4gKiAgIGlkPzogc3RyaW5nO1xuICogICBlbGVtZW50PzogRWxlbWVudCB8IHN0cmluZztcbiAqICAgdHlwZT86IHN0cmluZztcbiAqIH0gfCBzdHJpbmcgfSBPdmVybGF5c0ZpbHRlclxuICovXG5cbi8qKlxuICogQSBzZXJ2aWNlIHRoYXQgYWxsb3dzIHVzZXJzIHRvIGF0dGFjaCBvdmVybGF5cyB0byBkaWFncmFtIGVsZW1lbnRzLlxuICpcbiAqIFRoZSBvdmVybGF5IHNlcnZpY2Ugd2lsbCB0YWtlIGNhcmUgb2Ygb3ZlcmxheSBwb3NpdGlvbmluZyBkdXJpbmcgdXBkYXRlcy5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIGFkZCBhIHBpbmsgYmFkZ2Ugb24gdGhlIHRvcCBsZWZ0IG9mIHRoZSBzaGFwZVxuICpcbiAqIG92ZXJsYXlzLmFkZChzb21lU2hhcGUsIHtcbiAqICAgcG9zaXRpb246IHtcbiAqICAgICB0b3A6IC01LFxuICogICAgIGxlZnQ6IC01XG4gKiAgIH0sXG4gKiAgIGh0bWw6ICc8ZGl2IHN0eWxlPVwid2lkdGg6IDEwcHg7IGJhY2tncm91bmQ6IGZ1Y2hzaWE7IGNvbG9yOiB3aGl0ZTtcIj4wPC9kaXY+J1xuICogfSk7XG4gKlxuICogLy8gb3IgYWRkIHZpYSBzaGFwZSBpZFxuICpcbiAqIG92ZXJsYXlzLmFkZCgnc29tZS1lbGVtZW50LWlkJywge1xuICogICBwb3NpdGlvbjoge1xuICogICAgIHRvcDogLTUsXG4gKiAgICAgbGVmdDogLTVcbiAqICAgfVxuICogICBodG1sOiAnPGRpdiBzdHlsZT1cIndpZHRoOiAxMHB4OyBiYWNrZ3JvdW5kOiBmdWNoc2lhOyBjb2xvcjogd2hpdGU7XCI+MDwvZGl2PidcbiAqIH0pO1xuICpcbiAqIC8vIG9yIGFkZCB3aXRoIG9wdGlvbmFsIHR5cGVcbiAqXG4gKiBvdmVybGF5cy5hZGQoc29tZVNoYXBlLCAnYmFkZ2UnLCB7XG4gKiAgIHBvc2l0aW9uOiB7XG4gKiAgICAgdG9wOiAtNSxcbiAqICAgICBsZWZ0OiAtNVxuICogICB9XG4gKiAgIGh0bWw6ICc8ZGl2IHN0eWxlPVwid2lkdGg6IDEwcHg7IGJhY2tncm91bmQ6IGZ1Y2hzaWE7IGNvbG9yOiB3aGl0ZTtcIj4wPC9kaXY+J1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyByZW1vdmUgYW4gb3ZlcmxheVxuICpcbiAqIHZhciBpZCA9IG92ZXJsYXlzLmFkZCguLi4pO1xuICogb3ZlcmxheXMucmVtb3ZlKGlkKTtcbiAqXG4gKlxuICogWW91IG1heSBjb25maWd1cmUgb3ZlcmxheSBkZWZhdWx0cyBkdXJpbmcgdG9vbCBieSBwcm92aWRpbmcgYSBgY29uZmlnYCBtb2R1bGVcbiAqIHdpdGggYG92ZXJsYXlzLmRlZmF1bHRzYCBhcyBhbiBlbnRyeTpcbiAqXG4gKiB7XG4gKiAgIG92ZXJsYXlzOiB7XG4gKiAgICAgZGVmYXVsdHM6IHtcbiAqICAgICAgIHNob3c6IHtcbiAqICAgICAgICAgbWluWm9vbTogMC43LFxuICogICAgICAgICBtYXhab29tOiA1LjBcbiAqICAgICAgIH0sXG4gKiAgICAgICBzY2FsZToge1xuICogICAgICAgICBtaW46IDFcbiAqICAgICAgIH1cbiAqICAgICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge092ZXJsYXlzQ29uZmlnfSBjb25maWdcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKiBAcGFyYW0ge0VsZW1lbnRSZWdpc3RyeX0gZWxlbWVudFJlZ2lzdHJ5XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE92ZXJsYXlzKGNvbmZpZywgZXZlbnRCdXMsIGNhbnZhcywgZWxlbWVudFJlZ2lzdHJ5KSB7XG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcbiAgdGhpcy5fZWxlbWVudFJlZ2lzdHJ5ID0gZWxlbWVudFJlZ2lzdHJ5O1xuXG4gIHRoaXMuX2lkcyA9IGlkcztcblxuICAvKipcbiAgICogQHR5cGUge092ZXJsYXlzQ29uZmlnRGVmYXVsdH1cbiAgICovXG4gIHRoaXMuX292ZXJsYXlEZWZhdWx0cyA9IGFzc2lnbih7XG5cbiAgICAvLyBubyBzaG93IGNvbnN0cmFpbnRzXG4gICAgc2hvdzogbnVsbCxcblxuICAgIC8vIGFsd2F5cyBzY2FsZVxuICAgIHNjYWxlOiB0cnVlXG4gIH0sIGNvbmZpZyAmJiBjb25maWcuZGVmYXVsdHMpO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgT3ZlcmxheT59XG4gICAqL1xuICB0aGlzLl9vdmVybGF5cyA9IHt9O1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7T3ZlcmxheUNvbnRhaW5lcltdfVxuICAgKi9cbiAgdGhpcy5fb3ZlcmxheUNvbnRhaW5lcnMgPSBbXTtcblxuICAvKipcbiAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgdGhpcy5fb3ZlcmxheVJvb3QgPSBjcmVhdGVSb290KGNhbnZhcy5nZXRDb250YWluZXIoKSk7XG5cbiAgdGhpcy5faW5pdCgpO1xufVxuXG5cbk92ZXJsYXlzLiRpbmplY3QgPSBbXG4gICdjb25maWcub3ZlcmxheXMnLFxuICAnZXZlbnRCdXMnLFxuICAnY2FudmFzJyxcbiAgJ2VsZW1lbnRSZWdpc3RyeSdcbl07XG5cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBvdmVybGF5IHdpdGggdGhlIHNwZWNpZmllZCBJRCBvciBhIGxpc3Qgb2Ygb3ZlcmxheXNcbiAqIGZvciBhbiBlbGVtZW50IHdpdGggYSBnaXZlbiB0eXBlLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogLy8gcmV0dXJuIHRoZSBzaW5nbGUgb3ZlcmxheSB3aXRoIHRoZSBnaXZlbiBJRFxuICogb3ZlcmxheXMuZ2V0KCdzb21lLWlkJyk7XG4gKlxuICogLy8gcmV0dXJuIGFsbCBvdmVybGF5cyBmb3IgdGhlIHNoYXBlXG4gKiBvdmVybGF5cy5nZXQoeyBlbGVtZW50OiBzb21lU2hhcGUgfSk7XG4gKlxuICogLy8gcmV0dXJuIGFsbCBvdmVybGF5cyBvbiBzaGFwZSB3aXRoIHR5cGUgJ2JhZGdlJ1xuICogb3ZlcmxheXMuZ2V0KHsgZWxlbWVudDogc29tZVNoYXBlLCB0eXBlOiAnYmFkZ2UnIH0pO1xuICpcbiAqIC8vIHNoYXBlIGNhbiBhbHNvIGJlIHNwZWNpZmllZCBhcyBJRFxuICogb3ZlcmxheXMuZ2V0KHsgZWxlbWVudDogJ2VsZW1lbnQtaWQnLCB0eXBlOiAnYmFkZ2UnIH0pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHtPdmVybGF5c0ZpbHRlcn0gc2VhcmNoIFRoZSBmaWx0ZXIgdG8gYmUgdXNlZCB0byBmaW5kIHRoZSBvdmVybGF5KHMpLlxuICpcbiAqIEByZXR1cm4ge092ZXJsYXl8T3ZlcmxheVtdfSBUaGUgb3ZlcmxheShzKS5cbiAqL1xuT3ZlcmxheXMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKHNlYXJjaCkge1xuXG4gIGlmIChpc1N0cmluZyhzZWFyY2gpKSB7XG4gICAgc2VhcmNoID0geyBpZDogc2VhcmNoIH07XG4gIH1cblxuICBpZiAoaXNTdHJpbmcoc2VhcmNoLmVsZW1lbnQpKSB7XG4gICAgc2VhcmNoLmVsZW1lbnQgPSB0aGlzLl9lbGVtZW50UmVnaXN0cnkuZ2V0KHNlYXJjaC5lbGVtZW50KTtcbiAgfVxuXG4gIGlmIChzZWFyY2guZWxlbWVudCkge1xuICAgIHZhciBjb250YWluZXIgPSB0aGlzLl9nZXRPdmVybGF5Q29udGFpbmVyKHNlYXJjaC5lbGVtZW50LCB0cnVlKTtcblxuICAgIC8vIHJldHVybiBhIGxpc3Qgb2Ygb3ZlcmxheXMgd2hlbiBzZWFyY2hpbmcgYnkgZWxlbWVudCAoK3R5cGUpXG4gICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgcmV0dXJuIHNlYXJjaC50eXBlID8gZmlsdGVyKGNvbnRhaW5lci5vdmVybGF5cywgbWF0Y2hQYXR0ZXJuKHsgdHlwZTogc2VhcmNoLnR5cGUgfSkpIDogY29udGFpbmVyLm92ZXJsYXlzLnNsaWNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoc2VhcmNoLnR5cGUpIHtcbiAgICByZXR1cm4gZmlsdGVyKHRoaXMuX292ZXJsYXlzLCBtYXRjaFBhdHRlcm4oeyB0eXBlOiBzZWFyY2gudHlwZSB9KSk7XG4gIH0gZWxzZSB7XG5cbiAgICAvLyByZXR1cm4gc2luZ2xlIGVsZW1lbnQgd2hlbiBzZWFyY2hpbmcgYnkgaWRcbiAgICByZXR1cm4gc2VhcmNoLmlkID8gdGhpcy5fb3ZlcmxheXNbc2VhcmNoLmlkXSA6IG51bGw7XG4gIH1cbn07XG5cbi8qKlxuICogQWRkcyBhbiBIVE1MIG92ZXJsYXkgdG8gYW4gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR8c3RyaW5nfSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIGFkZCB0aGUgb3ZlcmxheSB0by5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbdHlwZV0gQW4gb3B0aW9uYWwgdHlwZSB0aGF0IGNhbiBiZSB1c2VkIHRvIGZpbHRlci5cbiAqIEBwYXJhbSB7T3ZlcmxheUF0dHJzfSBvdmVybGF5IFRoZSBvdmVybGF5LlxuICpcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIG92ZXJsYXkncyBJRCB0aGF0IGNhbiBiZSB1c2VkIHRvIGdldCBvciByZW1vdmUgaXQuXG4gKi9cbk92ZXJsYXlzLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihlbGVtZW50LCB0eXBlLCBvdmVybGF5KSB7XG5cbiAgaWYgKGlzT2JqZWN0KHR5cGUpKSB7XG4gICAgb3ZlcmxheSA9IHR5cGU7XG4gICAgdHlwZSA9IG51bGw7XG4gIH1cblxuICBpZiAoIWVsZW1lbnQuaWQpIHtcbiAgICBlbGVtZW50ID0gdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LmdldChlbGVtZW50KTtcbiAgfVxuXG4gIGlmICghb3ZlcmxheS5wb3NpdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcignbXVzdCBzcGVjaWZpeSBvdmVybGF5IHBvc2l0aW9uJyk7XG4gIH1cblxuICBpZiAoIW92ZXJsYXkuaHRtbCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbXVzdCBzcGVjaWZpeSBvdmVybGF5IGh0bWwnKTtcbiAgfVxuXG4gIGlmICghZWxlbWVudCkge1xuICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBlbGVtZW50IHNwZWNpZmllZCcpO1xuICB9XG5cbiAgdmFyIGlkID0gdGhpcy5faWRzLm5leHQoKTtcblxuICBvdmVybGF5ID0gYXNzaWduKHt9LCB0aGlzLl9vdmVybGF5RGVmYXVsdHMsIG92ZXJsYXksIHtcbiAgICBpZDogaWQsXG4gICAgdHlwZTogdHlwZSxcbiAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgIGh0bWw6IG92ZXJsYXkuaHRtbFxuICB9KTtcblxuICB0aGlzLl9hZGRPdmVybGF5KG92ZXJsYXkpO1xuXG4gIHJldHVybiBpZDtcbn07XG5cblxuLyoqXG4gKiBSZW1vdmUgYW4gb3ZlcmxheSB3aXRoIHRoZSBnaXZlbiBJRCBvciBhbGwgb3ZlcmxheXMgbWF0Y2hpbmcgdGhlIGdpdmVuIGZpbHRlci5cbiAqXG4gKiBAc2VlIE92ZXJsYXlzI2dldCBmb3IgZmlsdGVyIG9wdGlvbnMuXG4gKlxuICogQHBhcmFtIHtPdmVybGF5c0ZpbHRlcn0gZmlsdGVyIFRoZSBmaWx0ZXIgdG8gYmUgdXNlZCB0byBmaW5kIHRoZSBvdmVybGF5LlxuICovXG5PdmVybGF5cy5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oZmlsdGVyKSB7XG5cbiAgdmFyIG92ZXJsYXlzID0gdGhpcy5nZXQoZmlsdGVyKSB8fCBbXTtcblxuICBpZiAoIWlzQXJyYXkob3ZlcmxheXMpKSB7XG4gICAgb3ZlcmxheXMgPSBbIG92ZXJsYXlzIF07XG4gIH1cblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgZm9yRWFjaChvdmVybGF5cywgZnVuY3Rpb24ob3ZlcmxheSkge1xuXG4gICAgdmFyIGNvbnRhaW5lciA9IHNlbGYuX2dldE92ZXJsYXlDb250YWluZXIob3ZlcmxheS5lbGVtZW50LCB0cnVlKTtcblxuICAgIGlmIChvdmVybGF5KSB7XG4gICAgICBkb21SZW1vdmUob3ZlcmxheS5odG1sKTtcbiAgICAgIGRvbVJlbW92ZShvdmVybGF5Lmh0bWxDb250YWluZXIpO1xuXG4gICAgICBkZWxldGUgb3ZlcmxheS5odG1sQ29udGFpbmVyO1xuICAgICAgZGVsZXRlIG92ZXJsYXkuZWxlbWVudDtcblxuICAgICAgZGVsZXRlIHNlbGYuX292ZXJsYXlzW292ZXJsYXkuaWRdO1xuICAgIH1cblxuICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgIHZhciBpZHggPSBjb250YWluZXIub3ZlcmxheXMuaW5kZXhPZihvdmVybGF5KTtcbiAgICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICAgIGNvbnRhaW5lci5vdmVybGF5cy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG59O1xuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIG92ZXJsYXlzIGFyZSBzaG93bi5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIG92ZXJsYXlzIGFyZSBzaG93bi5cbiAqL1xuT3ZlcmxheXMucHJvdG90eXBlLmlzU2hvd24gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX292ZXJsYXlSb290LnN0eWxlLmRpc3BsYXkgIT09ICdub25lJztcbn07XG5cbi8qKlxuICogU2hvdyBhbGwgb3ZlcmxheXMuXG4gKi9cbk92ZXJsYXlzLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24oKSB7XG4gIHNldFZpc2libGUodGhpcy5fb3ZlcmxheVJvb3QpO1xufTtcblxuLyoqXG4gKiBIaWRlIGFsbCBvdmVybGF5cy5cbiAqL1xuT3ZlcmxheXMucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbigpIHtcbiAgc2V0VmlzaWJsZSh0aGlzLl9vdmVybGF5Um9vdCwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYWxsIG92ZXJsYXlzIGFuZCB0aGVpciBjb250YWluZXIuXG4gKi9cbk92ZXJsYXlzLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9vdmVybGF5cyA9IHt9O1xuXG4gIHRoaXMuX292ZXJsYXlDb250YWluZXJzID0gW107XG5cbiAgZG9tQ2xlYXIodGhpcy5fb3ZlcmxheVJvb3QpO1xufTtcblxuT3ZlcmxheXMucHJvdG90eXBlLl91cGRhdGVPdmVybGF5Q29udGFpbmVyID0gZnVuY3Rpb24oY29udGFpbmVyKSB7XG4gIHZhciBlbGVtZW50ID0gY29udGFpbmVyLmVsZW1lbnQsXG4gICAgICBodG1sID0gY29udGFpbmVyLmh0bWw7XG5cbiAgLy8gdXBkYXRlIGNvbnRhaW5lciBsZWZ0LHRvcCBhY2NvcmRpbmcgdG8gdGhlIGVsZW1lbnRzIHgseSBjb29yZGluYXRlc1xuICAvLyB0aGlzIGVuc3VyZXMgd2UgY2FuIGF0dGFjaCBjaGlsZCBlbGVtZW50cyByZWxhdGl2ZSB0byB0aGlzIGNvbnRhaW5lclxuXG4gIHZhciB4ID0gZWxlbWVudC54LFxuICAgICAgeSA9IGVsZW1lbnQueTtcblxuICBpZiAoZWxlbWVudC53YXlwb2ludHMpIHtcbiAgICB2YXIgYmJveCA9IGdldEJCb3goZWxlbWVudCk7XG4gICAgeCA9IGJib3gueDtcbiAgICB5ID0gYmJveC55O1xuICB9XG5cbiAgc2V0UG9zaXRpb24oaHRtbCwgeCwgeSk7XG5cbiAgZG9tQXR0cihjb250YWluZXIuaHRtbCwgJ2RhdGEtY29udGFpbmVyLWlkJywgZWxlbWVudC5pZCk7XG59O1xuXG5cbk92ZXJsYXlzLnByb3RvdHlwZS5fdXBkYXRlT3ZlcmxheSA9IGZ1bmN0aW9uKG92ZXJsYXkpIHtcblxuICB2YXIgcG9zaXRpb24gPSBvdmVybGF5LnBvc2l0aW9uLFxuICAgICAgaHRtbENvbnRhaW5lciA9IG92ZXJsYXkuaHRtbENvbnRhaW5lcixcbiAgICAgIGVsZW1lbnQgPSBvdmVybGF5LmVsZW1lbnQ7XG5cbiAgLy8gdXBkYXRlIG92ZXJsYXkgaHRtbCByZWxhdGl2ZSB0byBzaGFwZSBiZWNhdXNlXG4gIC8vIGl0IGlzIGFscmVhZHkgcG9zaXRpb25lZCBvbiB0aGUgZWxlbWVudFxuXG4gIC8vIHVwZGF0ZSByZWxhdGl2ZVxuICB2YXIgbGVmdCA9IHBvc2l0aW9uLmxlZnQsXG4gICAgICB0b3AgPSBwb3NpdGlvbi50b3A7XG5cbiAgaWYgKHBvc2l0aW9uLnJpZ2h0ICE9PSB1bmRlZmluZWQpIHtcblxuICAgIHZhciB3aWR0aDtcblxuICAgIGlmIChlbGVtZW50LndheXBvaW50cykge1xuICAgICAgd2lkdGggPSBnZXRCQm94KGVsZW1lbnQpLndpZHRoO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aWR0aCA9IGVsZW1lbnQud2lkdGg7XG4gICAgfVxuXG4gICAgbGVmdCA9IHBvc2l0aW9uLnJpZ2h0ICogLTEgKyB3aWR0aDtcbiAgfVxuXG4gIGlmIChwb3NpdGlvbi5ib3R0b20gIT09IHVuZGVmaW5lZCkge1xuXG4gICAgdmFyIGhlaWdodDtcblxuICAgIGlmIChlbGVtZW50LndheXBvaW50cykge1xuICAgICAgaGVpZ2h0ID0gZ2V0QkJveChlbGVtZW50KS5oZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlaWdodCA9IGVsZW1lbnQuaGVpZ2h0O1xuICAgIH1cblxuICAgIHRvcCA9IHBvc2l0aW9uLmJvdHRvbSAqIC0xICsgaGVpZ2h0O1xuICB9XG5cbiAgc2V0UG9zaXRpb24oaHRtbENvbnRhaW5lciwgbGVmdCB8fCAwLCB0b3AgfHwgMCk7XG4gIHRoaXMuX3VwZGF0ZU92ZXJsYXlWaXNpYmlsdHkob3ZlcmxheSwgdGhpcy5fY2FudmFzLnZpZXdib3goKSk7XG59O1xuXG5cbk92ZXJsYXlzLnByb3RvdHlwZS5fY3JlYXRlT3ZlcmxheUNvbnRhaW5lciA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgdmFyIGh0bWwgPSBkb21pZnkoJzxkaXYgY2xhc3M9XCJkanMtb3ZlcmxheXNcIiAvPicpO1xuICBhc3NpZ25TdHlsZShodG1sLCB7IHBvc2l0aW9uOiAnYWJzb2x1dGUnIH0pO1xuXG4gIHRoaXMuX292ZXJsYXlSb290LmFwcGVuZENoaWxkKGh0bWwpO1xuXG4gIHZhciBjb250YWluZXIgPSB7XG4gICAgaHRtbDogaHRtbCxcbiAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgIG92ZXJsYXlzOiBbXVxuICB9O1xuXG4gIHRoaXMuX3VwZGF0ZU92ZXJsYXlDb250YWluZXIoY29udGFpbmVyKTtcblxuICB0aGlzLl9vdmVybGF5Q29udGFpbmVycy5wdXNoKGNvbnRhaW5lcik7XG5cbiAgcmV0dXJuIGNvbnRhaW5lcjtcbn07XG5cblxuT3ZlcmxheXMucHJvdG90eXBlLl91cGRhdGVSb290ID0gZnVuY3Rpb24odmlld2JveCkge1xuICB2YXIgc2NhbGUgPSB2aWV3Ym94LnNjYWxlIHx8IDE7XG5cbiAgdmFyIG1hdHJpeCA9ICdtYXRyaXgoJyArXG4gIFtcbiAgICBzY2FsZSxcbiAgICAwLFxuICAgIDAsXG4gICAgc2NhbGUsXG4gICAgLTEgKiB2aWV3Ym94LnggKiBzY2FsZSxcbiAgICAtMSAqIHZpZXdib3gueSAqIHNjYWxlXG4gIF0uam9pbignLCcpICtcbiAgJyknO1xuXG4gIHNldFRyYW5zZm9ybSh0aGlzLl9vdmVybGF5Um9vdCwgbWF0cml4KTtcbn07XG5cblxuT3ZlcmxheXMucHJvdG90eXBlLl9nZXRPdmVybGF5Q29udGFpbmVyID0gZnVuY3Rpb24oZWxlbWVudCwgcmF3KSB7XG4gIHZhciBjb250YWluZXIgPSBmaW5kKHRoaXMuX292ZXJsYXlDb250YWluZXJzLCBmdW5jdGlvbihjKSB7XG4gICAgcmV0dXJuIGMuZWxlbWVudCA9PT0gZWxlbWVudDtcbiAgfSk7XG5cblxuICBpZiAoIWNvbnRhaW5lciAmJiAhcmF3KSB7XG4gICAgcmV0dXJuIHRoaXMuX2NyZWF0ZU92ZXJsYXlDb250YWluZXIoZWxlbWVudCk7XG4gIH1cblxuICByZXR1cm4gY29udGFpbmVyO1xufTtcblxuXG5PdmVybGF5cy5wcm90b3R5cGUuX2FkZE92ZXJsYXkgPSBmdW5jdGlvbihvdmVybGF5KSB7XG5cbiAgdmFyIGlkID0gb3ZlcmxheS5pZCxcbiAgICAgIGVsZW1lbnQgPSBvdmVybGF5LmVsZW1lbnQsXG4gICAgICBodG1sID0gb3ZlcmxheS5odG1sLFxuICAgICAgaHRtbENvbnRhaW5lcixcbiAgICAgIG92ZXJsYXlDb250YWluZXI7XG5cbiAgLy8gdW53cmFwIGpxdWVyeSAoZm9yIHRob3NlIHdobyBuZWVkIGl0KVxuICBpZiAoaHRtbC5nZXQgJiYgaHRtbC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuanF1ZXJ5KSB7XG4gICAgaHRtbCA9IGh0bWwuZ2V0KDApO1xuICB9XG5cbiAgLy8gY3JlYXRlIHByb3BlciBodG1sIGVsZW1lbnRzIGZyb21cbiAgLy8gb3ZlcmxheSBIVE1MIHN0cmluZ3NcbiAgaWYgKGlzU3RyaW5nKGh0bWwpKSB7XG4gICAgaHRtbCA9IGRvbWlmeShodG1sKTtcbiAgfVxuXG4gIG92ZXJsYXlDb250YWluZXIgPSB0aGlzLl9nZXRPdmVybGF5Q29udGFpbmVyKGVsZW1lbnQpO1xuXG4gIGh0bWxDb250YWluZXIgPSBkb21pZnkoJzxkaXYgY2xhc3M9XCJkanMtb3ZlcmxheVwiIGRhdGEtb3ZlcmxheS1pZD1cIicgKyBpZCArICdcIj4nKTtcbiAgYXNzaWduU3R5bGUoaHRtbENvbnRhaW5lciwgeyBwb3NpdGlvbjogJ2Fic29sdXRlJyB9KTtcblxuICBodG1sQ29udGFpbmVyLmFwcGVuZENoaWxkKGh0bWwpO1xuXG4gIGlmIChvdmVybGF5LnR5cGUpIHtcbiAgICBkb21DbGFzc2VzKGh0bWxDb250YWluZXIpLmFkZCgnZGpzLW92ZXJsYXktJyArIG92ZXJsYXkudHlwZSk7XG4gIH1cblxuICB2YXIgZWxlbWVudFJvb3QgPSB0aGlzLl9jYW52YXMuZmluZFJvb3QoZWxlbWVudCk7XG4gIHZhciBhY3RpdmVSb290ID0gdGhpcy5fY2FudmFzLmdldFJvb3RFbGVtZW50KCk7XG5cbiAgc2V0VmlzaWJsZShodG1sQ29udGFpbmVyLCBlbGVtZW50Um9vdCA9PT0gYWN0aXZlUm9vdCk7XG5cbiAgb3ZlcmxheS5odG1sQ29udGFpbmVyID0gaHRtbENvbnRhaW5lcjtcblxuICBvdmVybGF5Q29udGFpbmVyLm92ZXJsYXlzLnB1c2gob3ZlcmxheSk7XG4gIG92ZXJsYXlDb250YWluZXIuaHRtbC5hcHBlbmRDaGlsZChodG1sQ29udGFpbmVyKTtcblxuICB0aGlzLl9vdmVybGF5c1tpZF0gPSBvdmVybGF5O1xuXG4gIHRoaXMuX3VwZGF0ZU92ZXJsYXkob3ZlcmxheSk7XG4gIHRoaXMuX3VwZGF0ZU92ZXJsYXlWaXNpYmlsdHkob3ZlcmxheSwgdGhpcy5fY2FudmFzLnZpZXdib3goKSk7XG59O1xuXG5cbk92ZXJsYXlzLnByb3RvdHlwZS5fdXBkYXRlT3ZlcmxheVZpc2liaWx0eSA9IGZ1bmN0aW9uKG92ZXJsYXksIHZpZXdib3gpIHtcbiAgdmFyIHNob3cgPSBvdmVybGF5LnNob3csXG4gICAgICByb290RWxlbWVudCA9IHRoaXMuX2NhbnZhcy5maW5kUm9vdChvdmVybGF5LmVsZW1lbnQpLFxuICAgICAgbWluWm9vbSA9IHNob3cgJiYgc2hvdy5taW5ab29tLFxuICAgICAgbWF4Wm9vbSA9IHNob3cgJiYgc2hvdy5tYXhab29tLFxuICAgICAgaHRtbENvbnRhaW5lciA9IG92ZXJsYXkuaHRtbENvbnRhaW5lcixcbiAgICAgIGFjdGl2ZVJvb3RFbGVtZW50ID0gdGhpcy5fY2FudmFzLmdldFJvb3RFbGVtZW50KCksXG4gICAgICB2aXNpYmxlID0gdHJ1ZTtcblxuICBpZiAocm9vdEVsZW1lbnQgIT09IGFjdGl2ZVJvb3RFbGVtZW50KSB7XG4gICAgdmlzaWJsZSA9IGZhbHNlO1xuICB9IGVsc2UgaWYgKHNob3cpIHtcbiAgICBpZiAoXG4gICAgICAoaXNEZWZpbmVkKG1pblpvb20pICYmIG1pblpvb20gPiB2aWV3Ym94LnNjYWxlKSB8fFxuICAgICAgKGlzRGVmaW5lZChtYXhab29tKSAmJiBtYXhab29tIDwgdmlld2JveC5zY2FsZSlcbiAgICApIHtcbiAgICAgIHZpc2libGUgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzZXRWaXNpYmxlKGh0bWxDb250YWluZXIsIHZpc2libGUpO1xuXG4gIHRoaXMuX3VwZGF0ZU92ZXJsYXlTY2FsZShvdmVybGF5LCB2aWV3Ym94KTtcbn07XG5cblxuT3ZlcmxheXMucHJvdG90eXBlLl91cGRhdGVPdmVybGF5U2NhbGUgPSBmdW5jdGlvbihvdmVybGF5LCB2aWV3Ym94KSB7XG4gIHZhciBzaG91bGRTY2FsZSA9IG92ZXJsYXkuc2NhbGUsXG4gICAgICBtaW5TY2FsZSxcbiAgICAgIG1heFNjYWxlLFxuICAgICAgaHRtbENvbnRhaW5lciA9IG92ZXJsYXkuaHRtbENvbnRhaW5lcjtcblxuICB2YXIgc2NhbGUsIHRyYW5zZm9ybSA9ICcnO1xuXG4gIGlmIChzaG91bGRTY2FsZSAhPT0gdHJ1ZSkge1xuXG4gICAgaWYgKHNob3VsZFNjYWxlID09PSBmYWxzZSkge1xuICAgICAgbWluU2NhbGUgPSAxO1xuICAgICAgbWF4U2NhbGUgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBtaW5TY2FsZSA9IHNob3VsZFNjYWxlLm1pbjtcbiAgICAgIG1heFNjYWxlID0gc2hvdWxkU2NhbGUubWF4O1xuICAgIH1cblxuICAgIGlmIChpc0RlZmluZWQobWluU2NhbGUpICYmIHZpZXdib3guc2NhbGUgPCBtaW5TY2FsZSkge1xuICAgICAgc2NhbGUgPSAoMSAvIHZpZXdib3guc2NhbGUgfHwgMSkgKiBtaW5TY2FsZTtcbiAgICB9XG5cbiAgICBpZiAoaXNEZWZpbmVkKG1heFNjYWxlKSAmJiB2aWV3Ym94LnNjYWxlID4gbWF4U2NhbGUpIHtcbiAgICAgIHNjYWxlID0gKDEgLyB2aWV3Ym94LnNjYWxlIHx8IDEpICogbWF4U2NhbGU7XG4gICAgfVxuICB9XG5cbiAgaWYgKGlzRGVmaW5lZChzY2FsZSkpIHtcbiAgICB0cmFuc2Zvcm0gPSAnc2NhbGUoJyArIHNjYWxlICsgJywnICsgc2NhbGUgKyAnKSc7XG4gIH1cblxuICBzZXRUcmFuc2Zvcm0oaHRtbENvbnRhaW5lciwgdHJhbnNmb3JtKTtcbn07XG5cblxuT3ZlcmxheXMucHJvdG90eXBlLl91cGRhdGVPdmVybGF5c1Zpc2liaWx0eSA9IGZ1bmN0aW9uKHZpZXdib3gpIHtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgZm9yRWFjaCh0aGlzLl9vdmVybGF5cywgZnVuY3Rpb24ob3ZlcmxheSkge1xuICAgIHNlbGYuX3VwZGF0ZU92ZXJsYXlWaXNpYmlsdHkob3ZlcmxheSwgdmlld2JveCk7XG4gIH0pO1xufTtcblxuXG5PdmVybGF5cy5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbigpIHtcblxuICB2YXIgZXZlbnRCdXMgPSB0aGlzLl9ldmVudEJ1cztcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cblxuICAvLyBzY3JvbGwvem9vbSBpbnRlZ3JhdGlvblxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVZpZXdib3godmlld2JveCkge1xuICAgIHNlbGYuX3VwZGF0ZVJvb3Qodmlld2JveCk7XG4gICAgc2VsZi5fdXBkYXRlT3ZlcmxheXNWaXNpYmlsdHkodmlld2JveCk7XG5cbiAgICBzZWxmLnNob3coKTtcbiAgfVxuXG4gIGV2ZW50QnVzLm9uKCdjYW52YXMudmlld2JveC5jaGFuZ2luZycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgc2VsZi5oaWRlKCk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdjYW52YXMudmlld2JveC5jaGFuZ2VkJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB1cGRhdGVWaWV3Ym94KGV2ZW50LnZpZXdib3gpO1xuICB9KTtcblxuXG4gIC8vIHJlbW92ZSBpbnRlZ3JhdGlvblxuXG4gIGV2ZW50QnVzLm9uKFsgJ3NoYXBlLnJlbW92ZScsICdjb25uZWN0aW9uLnJlbW92ZScgXSwgZnVuY3Rpb24oZSkge1xuICAgIHZhciBlbGVtZW50ID0gZS5lbGVtZW50O1xuICAgIHZhciBvdmVybGF5cyA9IHNlbGYuZ2V0KHsgZWxlbWVudDogZWxlbWVudCB9KTtcblxuICAgIGZvckVhY2gob3ZlcmxheXMsIGZ1bmN0aW9uKG8pIHtcbiAgICAgIHNlbGYucmVtb3ZlKG8uaWQpO1xuICAgIH0pO1xuXG4gICAgdmFyIGNvbnRhaW5lciA9IHNlbGYuX2dldE92ZXJsYXlDb250YWluZXIoZWxlbWVudCk7XG5cbiAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICBkb21SZW1vdmUoY29udGFpbmVyLmh0bWwpO1xuICAgICAgdmFyIGkgPSBzZWxmLl9vdmVybGF5Q29udGFpbmVycy5pbmRleE9mKGNvbnRhaW5lcik7XG4gICAgICBpZiAoaSAhPT0gLTEpIHtcbiAgICAgICAgc2VsZi5fb3ZlcmxheUNvbnRhaW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cblxuICAvLyBtb3ZlIGludGVncmF0aW9uXG5cbiAgZXZlbnRCdXMub24oJ2VsZW1lbnQuY2hhbmdlZCcsIExPV19QUklPUklUWSwgZnVuY3Rpb24oZSkge1xuICAgIHZhciBlbGVtZW50ID0gZS5lbGVtZW50O1xuXG4gICAgdmFyIGNvbnRhaW5lciA9IHNlbGYuX2dldE92ZXJsYXlDb250YWluZXIoZWxlbWVudCwgdHJ1ZSk7XG5cbiAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICBmb3JFYWNoKGNvbnRhaW5lci5vdmVybGF5cywgZnVuY3Rpb24ob3ZlcmxheSkge1xuICAgICAgICBzZWxmLl91cGRhdGVPdmVybGF5KG92ZXJsYXkpO1xuICAgICAgfSk7XG5cbiAgICAgIHNlbGYuX3VwZGF0ZU92ZXJsYXlDb250YWluZXIoY29udGFpbmVyKTtcbiAgICB9XG4gIH0pO1xuXG5cbiAgLy8gbWFya2VyIGludGVncmF0aW9uLCBzaW1wbHkgYWRkIHRoZW0gb24gdGhlIG92ZXJsYXlzIGFzIGNsYXNzZXMsIHRvby5cblxuICBldmVudEJ1cy5vbignZWxlbWVudC5tYXJrZXIudXBkYXRlJywgZnVuY3Rpb24oZSkge1xuICAgIHZhciBjb250YWluZXIgPSBzZWxmLl9nZXRPdmVybGF5Q29udGFpbmVyKGUuZWxlbWVudCwgdHJ1ZSk7XG4gICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgZG9tQ2xhc3Nlcyhjb250YWluZXIuaHRtbClbZS5hZGQgPyAnYWRkJyA6ICdyZW1vdmUnXShlLm1hcmtlcik7XG4gICAgfVxuICB9KTtcblxuXG4gIGV2ZW50QnVzLm9uKCdyb290LnNldCcsIGZ1bmN0aW9uKCkge1xuICAgIHNlbGYuX3VwZGF0ZU92ZXJsYXlzVmlzaWJpbHR5KHNlbGYuX2NhbnZhcy52aWV3Ym94KCkpO1xuICB9KTtcblxuICAvLyBjbGVhciBvdmVybGF5cyB3aXRoIGRpYWdyYW1cblxuICBldmVudEJ1cy5vbignZGlhZ3JhbS5jbGVhcicsIHRoaXMuY2xlYXIsIHRoaXMpO1xufTtcblxuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZnVuY3Rpb24gY3JlYXRlUm9vdChwYXJlbnROb2RlKSB7XG4gIHZhciByb290ID0gZG9taWZ5KFxuICAgICc8ZGl2IGNsYXNzPVwiZGpzLW92ZXJsYXktY29udGFpbmVyXCIgLz4nXG4gICk7XG5cbiAgYXNzaWduU3R5bGUocm9vdCwge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHdpZHRoOiAwLFxuICAgIGhlaWdodDogMFxuICB9KTtcblxuICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShyb290LCBwYXJlbnROb2RlLmZpcnN0Q2hpbGQpO1xuXG4gIHJldHVybiByb290O1xufVxuXG5mdW5jdGlvbiBzZXRQb3NpdGlvbihlbCwgeCwgeSkge1xuICBhc3NpZ25TdHlsZShlbCwgeyBsZWZ0OiB4ICsgJ3B4JywgdG9wOiB5ICsgJ3B4JyB9KTtcbn1cblxuLyoqXG4gKiBTZXQgZWxlbWVudCB2aXNpYmxlXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fSBlbFxuICogQHBhcmFtIHtib29sZWFufSBbdmlzaWJsZT10cnVlXVxuICovXG5mdW5jdGlvbiBzZXRWaXNpYmxlKGVsLCB2aXNpYmxlKSB7XG4gIGVsLnN0eWxlLmRpc3BsYXkgPSB2aXNpYmxlID09PSBmYWxzZSA/ICdub25lJyA6ICcnO1xufVxuXG5mdW5jdGlvbiBzZXRUcmFuc2Zvcm0oZWwsIHRyYW5zZm9ybSkge1xuXG4gIGVsLnN0eWxlWyd0cmFuc2Zvcm0tb3JpZ2luJ10gPSAndG9wIGxlZnQnO1xuXG4gIFsgJycsICctbXMtJywgJy13ZWJraXQtJyBdLmZvckVhY2goZnVuY3Rpb24ocHJlZml4KSB7XG4gICAgZWwuc3R5bGVbcHJlZml4ICsgJ3RyYW5zZm9ybSddID0gdHJhbnNmb3JtO1xuICB9KTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/overlays/Overlays.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/overlays/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/overlays/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Overlays__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Overlays */ \"(ssr)/./node_modules/diagram-js/lib/features/overlays/Overlays.js\");\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [ 'overlays' ],\n  overlays: [ 'type', _Overlays__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvb3ZlcmxheXMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBa0M7OztBQUdsQztBQUNBLFdBQVc7QUFDWDtBQUNBLGlFQUFlO0FBQ2Y7QUFDQSxzQkFBc0IsaURBQVE7QUFDOUIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9vdmVybGF5cy9pbmRleC5qcz84MDdjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBPdmVybGF5cyBmcm9tICcuL092ZXJsYXlzJztcblxuXG4vKipcbiAqIEB0eXBlIHsgaW1wb3J0KCdkaWRpJykuTW9kdWxlRGVjbGFyYXRpb24gfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICdvdmVybGF5cycgXSxcbiAgb3ZlcmxheXM6IFsgJ3R5cGUnLCBPdmVybGF5cyBdXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/overlays/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/palette/Palette.js":
/*!*****************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/palette/Palette.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Palette)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dom */ \"(ssr)/./node_modules/min-dom/dist/index.esm.js\");\n/* harmony import */ var _util_EscapeUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/EscapeUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/EscapeUtil.js\");\n\n\n\n\n\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n *\n * @typedef {import('./PaletteProvider').PaletteEntries} PaletteEntries\n * @typedef {import('./PaletteProvider').default} PaletteProvider\n */\n\nvar TOGGLE_SELECTOR = '.djs-palette-toggle',\n    ENTRY_SELECTOR = '.entry',\n    ELEMENT_SELECTOR = TOGGLE_SELECTOR + ', ' + ENTRY_SELECTOR;\n\nvar PALETTE_PREFIX = 'djs-palette-',\n    PALETTE_SHOWN_CLS = 'shown',\n    PALETTE_OPEN_CLS = 'open',\n    PALETTE_TWO_COLUMN_CLS = 'two-column';\n\nvar DEFAULT_PRIORITY = 1000;\n\n\n/**\n * A palette containing modeling elements.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nfunction Palette(eventBus, canvas) {\n\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n\n  var self = this;\n\n  eventBus.on('tool-manager.update', function(event) {\n    var tool = event.tool;\n\n    self.updateToolHighlight(tool);\n  });\n\n  eventBus.on('i18n.changed', function() {\n    self._update();\n  });\n\n  eventBus.on('diagram.init', function() {\n\n    self._diagramInitialized = true;\n\n    self._rebuild();\n  });\n}\n\nPalette.$inject = [ 'eventBus', 'canvas' ];\n\n/**\n * @overlord\n *\n * Register a palette provider with default priority. See\n * {@link PaletteProvider} for examples.\n *\n * @param {PaletteProvider} provider\n */\n\n/**\n * Register a palette provider with the given priority. See\n * {@link PaletteProvider} for examples.\n *\n * @param {number} priority\n * @param {PaletteProvider} provider\n */\nPalette.prototype.registerProvider = function(priority, provider) {\n  if (!provider) {\n    provider = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  this._eventBus.on('palette.getProviders', priority, function(event) {\n    event.providers.push(provider);\n  });\n\n  this._rebuild();\n};\n\n\n/**\n * Returns the palette entries.\n *\n * @return {PaletteEntries}\n */\nPalette.prototype.getEntries = function() {\n  var providers = this._getProviders();\n\n  return providers.reduce(addPaletteEntries, {});\n};\n\nPalette.prototype._rebuild = function() {\n\n  if (!this._diagramInitialized) {\n    return;\n  }\n\n  var providers = this._getProviders();\n\n  if (!providers.length) {\n    return;\n  }\n\n  if (!this._container) {\n    this._init();\n  }\n\n  this._update();\n};\n\n/**\n * Initialize palette.\n */\nPalette.prototype._init = function() {\n\n  var self = this;\n\n  var eventBus = this._eventBus;\n\n  var parentContainer = this._getParentContainer();\n\n  var container = this._container = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.domify)(Palette.HTML_MARKUP);\n\n  parentContainer.appendChild(container);\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.classes)(parentContainer).add(PALETTE_PREFIX + PALETTE_SHOWN_CLS);\n\n  min_dom__WEBPACK_IMPORTED_MODULE_0__.delegate.bind(container, ELEMENT_SELECTOR, 'click', function(event) {\n\n    var target = event.delegateTarget;\n\n    if ((0,min_dom__WEBPACK_IMPORTED_MODULE_0__.matches)(target, TOGGLE_SELECTOR)) {\n      return self.toggle();\n    }\n\n    self.trigger('click', event);\n  });\n\n  // prevent drag propagation\n  min_dom__WEBPACK_IMPORTED_MODULE_0__.event.bind(container, 'mousedown', function(event) {\n    event.stopPropagation();\n  });\n\n  // prevent drag propagation\n  min_dom__WEBPACK_IMPORTED_MODULE_0__.delegate.bind(container, ENTRY_SELECTOR, 'dragstart', function(event) {\n    self.trigger('dragstart', event);\n  });\n\n  eventBus.on('canvas.resized', this._layoutChanged, this);\n\n  eventBus.fire('palette.create', {\n    container: container\n  });\n};\n\nPalette.prototype._getProviders = function(id) {\n\n  var event = this._eventBus.createEvent({\n    type: 'palette.getProviders',\n    providers: []\n  });\n\n  this._eventBus.fire(event);\n\n  return event.providers;\n};\n\n/**\n * Update palette state.\n *\n * @param { {\n *   open?: boolean;\n *   twoColumn?: boolean;\n * } } [state]\n */\nPalette.prototype._toggleState = function(state) {\n\n  state = state || {};\n\n  var parent = this._getParentContainer(),\n      container = this._container;\n\n  var eventBus = this._eventBus;\n\n  var twoColumn;\n\n  var cls = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.classes)(container),\n      parentCls = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.classes)(parent);\n\n  if ('twoColumn' in state) {\n    twoColumn = state.twoColumn;\n  } else {\n    twoColumn = this._needsCollapse(parent.clientHeight, this._entries || {});\n  }\n\n  // always update two column\n  cls.toggle(PALETTE_TWO_COLUMN_CLS, twoColumn);\n  parentCls.toggle(PALETTE_PREFIX + PALETTE_TWO_COLUMN_CLS, twoColumn);\n\n  if ('open' in state) {\n    cls.toggle(PALETTE_OPEN_CLS, state.open);\n    parentCls.toggle(PALETTE_PREFIX + PALETTE_OPEN_CLS, state.open);\n  }\n\n  eventBus.fire('palette.changed', {\n    twoColumn: twoColumn,\n    open: this.isOpen()\n  });\n};\n\nPalette.prototype._update = function() {\n\n  var entriesContainer = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.query)('.djs-palette-entries', this._container),\n      entries = this._entries = this.getEntries();\n\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.clear)(entriesContainer);\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(entries, function(entry, id) {\n\n    var grouping = entry.group || 'default';\n\n    var container = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.query)('[data-group=' + (0,_util_EscapeUtil__WEBPACK_IMPORTED_MODULE_2__.escapeCSS)(grouping) + ']', entriesContainer);\n    if (!container) {\n      container = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.domify)('<div class=\"group\"></div>');\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.attr)(container, 'data-group', grouping);\n\n      entriesContainer.appendChild(container);\n    }\n\n    var html = entry.html || (\n      entry.separator ?\n        '<hr class=\"separator\" />' :\n        '<div class=\"entry\" draggable=\"true\"></div>');\n\n\n    var control = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.domify)(html);\n    container.appendChild(control);\n\n    if (!entry.separator) {\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.attr)(control, 'data-action', id);\n\n      if (entry.title) {\n        (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.attr)(control, 'title', entry.title);\n      }\n\n      if (entry.className) {\n        addClasses(control, entry.className);\n      }\n\n      if (entry.imageUrl) {\n        var image = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.domify)('<img>');\n        (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.attr)(image, 'src', entry.imageUrl);\n\n        control.appendChild(image);\n      }\n    }\n  });\n\n  // open after update\n  this.open();\n};\n\n\n/**\n * Trigger an action available on the palette\n *\n * @param {string} action\n * @param {Event} event\n * @param {boolean} [autoActivate=false]\n */\nPalette.prototype.trigger = function(action, event, autoActivate) {\n  var entry,\n      originalEvent,\n      button = event.delegateTarget || event.target;\n\n  if (!button) {\n    return event.preventDefault();\n  }\n\n  entry = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.attr)(button, 'data-action');\n  originalEvent = event.originalEvent || event;\n\n  return this.triggerEntry(entry, action, originalEvent, autoActivate);\n};\n\n/**\n * @param {string} entryId\n * @param {string} action\n * @param {Event} event\n * @param {boolean} [autoActivate=false]\n */\nPalette.prototype.triggerEntry = function(entryId, action, event, autoActivate) {\n  var entries = this._entries,\n      entry,\n      handler;\n\n  entry = entries[entryId];\n\n  // when user clicks on the palette and not on an action\n  if (!entry) {\n    return;\n  }\n\n  handler = entry.action;\n\n  if (this._eventBus.fire('palette.trigger', { entry, event }) === false) {\n    return;\n  }\n\n  // simple action (via callback function)\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isFunction)(handler)) {\n    if (action === 'click') {\n      return handler(event, autoActivate);\n    }\n  } else {\n    if (handler[action]) {\n      return handler[action](event, autoActivate);\n    }\n  }\n\n  // silence other actions\n  event.preventDefault();\n};\n\nPalette.prototype._layoutChanged = function() {\n  this._toggleState({});\n};\n\n/**\n * Do we need to collapse to two columns?\n *\n * @param {number} availableHeight\n * @param {PaletteEntries} entries\n *\n * @return {boolean}\n */\nPalette.prototype._needsCollapse = function(availableHeight, entries) {\n\n  // top margin + bottom toggle + bottom margin\n  // implementors must override this method if they\n  // change the palette styles\n  var margin = 20 + 10 + 20;\n\n  var entriesHeight = Object.keys(entries).length * 46;\n\n  return availableHeight < entriesHeight + margin;\n};\n\n/**\n * Close the palette.\n */\nPalette.prototype.close = function() {\n  this._toggleState({\n    open: false,\n    twoColumn: false\n  });\n};\n\n/**\n * Open the palette.\n */\nPalette.prototype.open = function() {\n  this._toggleState({ open: true });\n};\n\n/**\n * Toggle the palette.\n */\nPalette.prototype.toggle = function() {\n  if (this.isOpen()) {\n    this.close();\n  } else {\n    this.open();\n  }\n};\n\n/**\n * @param {string} tool\n *\n * @return {boolean}\n */\nPalette.prototype.isActiveTool = function(tool) {\n  return tool && this._activeTool === tool;\n};\n\n/**\n * @param {string} name\n */\nPalette.prototype.updateToolHighlight = function(name) {\n  var entriesContainer,\n      toolsContainer;\n\n  if (!this._toolsContainer) {\n    entriesContainer = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.query)('.djs-palette-entries', this._container);\n\n    this._toolsContainer = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.query)('[data-group=tools]', entriesContainer);\n  }\n\n  toolsContainer = this._toolsContainer;\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(toolsContainer.children, function(tool) {\n    var actionName = tool.getAttribute('data-action');\n\n    if (!actionName) {\n      return;\n    }\n\n    var toolClasses = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.classes)(tool);\n\n    actionName = actionName.replace('-tool', '');\n\n    if (toolClasses.contains('entry') && actionName === name) {\n      toolClasses.add('highlighted-entry');\n    } else {\n      toolClasses.remove('highlighted-entry');\n    }\n  });\n};\n\n\n/**\n * Return `true` if the palette is opened.\n *\n * @example\n *\n * ```javascript\n * palette.open();\n *\n * if (palette.isOpen()) {\n *   // yes, we are open\n * }\n * ```\n *\n * @return {boolean}\n */\nPalette.prototype.isOpen = function() {\n  return (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.classes)(this._container).has(PALETTE_OPEN_CLS);\n};\n\n/**\n * Get parent element of palette.\n *\n * @return {HTMLElement}\n */\nPalette.prototype._getParentContainer = function() {\n  return this._canvas.getContainer();\n};\n\n\n/* markup definition */\n\nPalette.HTML_MARKUP =\n  '<div class=\"djs-palette\">' +\n    '<div class=\"djs-palette-entries\"></div>' +\n    '<div class=\"djs-palette-toggle\"></div>' +\n  '</div>';\n\n\n// helpers //////////////////////\n\nfunction addClasses(element, classNames) {\n\n  var classes = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.classes)(element);\n\n  var actualClassNames = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isArray)(classNames) ? classNames : classNames.split(/\\s+/g);\n  actualClassNames.forEach(function(cls) {\n    classes.add(cls);\n  });\n}\n\nfunction addPaletteEntries(entries, provider) {\n\n  var entriesOrUpdater = provider.getPaletteEntries();\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isFunction)(entriesOrUpdater)) {\n    return entriesOrUpdater(entries);\n  }\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(entriesOrUpdater, function(entry, id) {\n    entries[id] = entry;\n  });\n\n  return entries;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcGFsZXR0ZS9QYWxldHRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFJa0I7O0FBV0Q7O0FBSWM7O0FBRS9CO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQsYUFBYSx1Q0FBdUM7QUFDcEQ7QUFDQSxhQUFhLDRDQUE0QztBQUN6RCxhQUFhLHFDQUFxQztBQUNsRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkI7QUFDZTs7QUFFZjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBOztBQUVBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSx1QkFBdUI7QUFDM0I7QUFDQSxXQUFXLGlCQUFpQjtBQUM1Qjs7QUFFQTtBQUNBO0FBQ0EsSUFBSSx1QkFBdUI7QUFDM0I7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxpQkFBaUI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUEsK0NBQStDO0FBQy9DOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsb0NBQW9DLCtDQUFNOztBQUUxQztBQUNBLEVBQUUsZ0RBQVU7O0FBRVosRUFBRSw2Q0FBVzs7QUFFYjs7QUFFQSxRQUFRLGdEQUFVO0FBQ2xCO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0EsRUFBRSwwQ0FBUTtBQUNWO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLEVBQUUsNkNBQVc7QUFDYjtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxZQUFZLGdEQUFVO0FBQ3RCLGtCQUFrQixnREFBVTs7QUFFNUI7QUFDQTtBQUNBLElBQUk7QUFDSiw0RUFBNEU7QUFDNUU7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQSx5QkFBeUIsOENBQVE7QUFDakM7O0FBRUEsRUFBRSw4Q0FBUTs7QUFFVixFQUFFLGlEQUFPOztBQUVUOztBQUVBLG9CQUFvQiw4Q0FBUSxrQkFBa0IsMkRBQVM7QUFDdkQ7QUFDQSxrQkFBa0IsK0NBQU07QUFDeEIsTUFBTSw2Q0FBTzs7QUFFYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQSxrQkFBa0IsK0NBQU07QUFDeEI7O0FBRUE7QUFDQSxNQUFNLDZDQUFPOztBQUViO0FBQ0EsUUFBUSw2Q0FBTztBQUNmOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQiwrQ0FBTTtBQUMxQixRQUFRLDZDQUFPOztBQUVmO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVLDZDQUFPO0FBQ2pCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsT0FBTztBQUNsQixXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSwrQ0FBK0MsY0FBYztBQUM3RDtBQUNBOztBQUVBO0FBQ0EsTUFBTSxvREFBVTtBQUNoQjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCO0FBQ3RCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLGdCQUFnQjtBQUMzQjtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsWUFBWTtBQUNsQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCLDhDQUFROztBQUUvQiwyQkFBMkIsOENBQVE7QUFDbkM7O0FBRUE7O0FBRUEsRUFBRSxpREFBTztBQUNUOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0IsZ0RBQVU7O0FBRWhDOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFNBQVMsZ0RBQVU7QUFDbkI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTs7QUFFQSxnQkFBZ0IsZ0RBQVU7O0FBRTFCLHlCQUF5QixpREFBTztBQUNoQztBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBOztBQUVBLE1BQU0sb0RBQVU7QUFDaEI7QUFDQTs7QUFFQSxFQUFFLGlEQUFPO0FBQ1Q7QUFDQSxHQUFHOztBQUVIO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcGFsZXR0ZS9QYWxldHRlLmpzPzY1MGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgaXNBcnJheSxcbiAgaXNGdW5jdGlvbixcbiAgZm9yRWFjaFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGRvbWlmeSxcbiAgcXVlcnkgYXMgZG9tUXVlcnksXG4gIGF0dHIgYXMgZG9tQXR0cixcbiAgY2xlYXIgYXMgZG9tQ2xlYXIsXG4gIGNsYXNzZXMgYXMgZG9tQ2xhc3NlcyxcbiAgbWF0Y2hlcyBhcyBkb21NYXRjaGVzLFxuICBkZWxlZ2F0ZSBhcyBkb21EZWxlZ2F0ZSxcbiAgZXZlbnQgYXMgZG9tRXZlbnRcbn0gZnJvbSAnbWluLWRvbSc7XG5cbmltcG9ydCB7XG4gIGVzY2FwZUNTU1xufSBmcm9tICcuLi8uLi91dGlsL0VzY2FwZVV0aWwnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvQ2FudmFzJykuZGVmYXVsdH0gQ2FudmFzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuL1BhbGV0dGVQcm92aWRlcicpLlBhbGV0dGVFbnRyaWVzfSBQYWxldHRlRW50cmllc1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi9QYWxldHRlUHJvdmlkZXInKS5kZWZhdWx0fSBQYWxldHRlUHJvdmlkZXJcbiAqL1xuXG52YXIgVE9HR0xFX1NFTEVDVE9SID0gJy5kanMtcGFsZXR0ZS10b2dnbGUnLFxuICAgIEVOVFJZX1NFTEVDVE9SID0gJy5lbnRyeScsXG4gICAgRUxFTUVOVF9TRUxFQ1RPUiA9IFRPR0dMRV9TRUxFQ1RPUiArICcsICcgKyBFTlRSWV9TRUxFQ1RPUjtcblxudmFyIFBBTEVUVEVfUFJFRklYID0gJ2Rqcy1wYWxldHRlLScsXG4gICAgUEFMRVRURV9TSE9XTl9DTFMgPSAnc2hvd24nLFxuICAgIFBBTEVUVEVfT1BFTl9DTFMgPSAnb3BlbicsXG4gICAgUEFMRVRURV9UV09fQ09MVU1OX0NMUyA9ICd0d28tY29sdW1uJztcblxudmFyIERFRkFVTFRfUFJJT1JJVFkgPSAxMDAwO1xuXG5cbi8qKlxuICogQSBwYWxldHRlIGNvbnRhaW5pbmcgbW9kZWxpbmcgZWxlbWVudHMuXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUGFsZXR0ZShldmVudEJ1cywgY2FudmFzKSB7XG5cbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcbiAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICBldmVudEJ1cy5vbigndG9vbC1tYW5hZ2VyLnVwZGF0ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIHRvb2wgPSBldmVudC50b29sO1xuXG4gICAgc2VsZi51cGRhdGVUb29sSGlnaGxpZ2h0KHRvb2wpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignaTE4bi5jaGFuZ2VkJywgZnVuY3Rpb24oKSB7XG4gICAgc2VsZi5fdXBkYXRlKCk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdkaWFncmFtLmluaXQnLCBmdW5jdGlvbigpIHtcblxuICAgIHNlbGYuX2RpYWdyYW1Jbml0aWFsaXplZCA9IHRydWU7XG5cbiAgICBzZWxmLl9yZWJ1aWxkKCk7XG4gIH0pO1xufVxuXG5QYWxldHRlLiRpbmplY3QgPSBbICdldmVudEJ1cycsICdjYW52YXMnIF07XG5cbi8qKlxuICogQG92ZXJsb3JkXG4gKlxuICogUmVnaXN0ZXIgYSBwYWxldHRlIHByb3ZpZGVyIHdpdGggZGVmYXVsdCBwcmlvcml0eS4gU2VlXG4gKiB7QGxpbmsgUGFsZXR0ZVByb3ZpZGVyfSBmb3IgZXhhbXBsZXMuXG4gKlxuICogQHBhcmFtIHtQYWxldHRlUHJvdmlkZXJ9IHByb3ZpZGVyXG4gKi9cblxuLyoqXG4gKiBSZWdpc3RlciBhIHBhbGV0dGUgcHJvdmlkZXIgd2l0aCB0aGUgZ2l2ZW4gcHJpb3JpdHkuIFNlZVxuICoge0BsaW5rIFBhbGV0dGVQcm92aWRlcn0gZm9yIGV4YW1wbGVzLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBwcmlvcml0eVxuICogQHBhcmFtIHtQYWxldHRlUHJvdmlkZXJ9IHByb3ZpZGVyXG4gKi9cblBhbGV0dGUucHJvdG90eXBlLnJlZ2lzdGVyUHJvdmlkZXIgPSBmdW5jdGlvbihwcmlvcml0eSwgcHJvdmlkZXIpIHtcbiAgaWYgKCFwcm92aWRlcikge1xuICAgIHByb3ZpZGVyID0gcHJpb3JpdHk7XG4gICAgcHJpb3JpdHkgPSBERUZBVUxUX1BSSU9SSVRZO1xuICB9XG5cbiAgdGhpcy5fZXZlbnRCdXMub24oJ3BhbGV0dGUuZ2V0UHJvdmlkZXJzJywgcHJpb3JpdHksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgZXZlbnQucHJvdmlkZXJzLnB1c2gocHJvdmlkZXIpO1xuICB9KTtcblxuICB0aGlzLl9yZWJ1aWxkKCk7XG59O1xuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgcGFsZXR0ZSBlbnRyaWVzLlxuICpcbiAqIEByZXR1cm4ge1BhbGV0dGVFbnRyaWVzfVxuICovXG5QYWxldHRlLnByb3RvdHlwZS5nZXRFbnRyaWVzID0gZnVuY3Rpb24oKSB7XG4gIHZhciBwcm92aWRlcnMgPSB0aGlzLl9nZXRQcm92aWRlcnMoKTtcblxuICByZXR1cm4gcHJvdmlkZXJzLnJlZHVjZShhZGRQYWxldHRlRW50cmllcywge30pO1xufTtcblxuUGFsZXR0ZS5wcm90b3R5cGUuX3JlYnVpbGQgPSBmdW5jdGlvbigpIHtcblxuICBpZiAoIXRoaXMuX2RpYWdyYW1Jbml0aWFsaXplZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBwcm92aWRlcnMgPSB0aGlzLl9nZXRQcm92aWRlcnMoKTtcblxuICBpZiAoIXByb3ZpZGVycy5sZW5ndGgpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIXRoaXMuX2NvbnRhaW5lcikge1xuICAgIHRoaXMuX2luaXQoKTtcbiAgfVxuXG4gIHRoaXMuX3VwZGF0ZSgpO1xufTtcblxuLyoqXG4gKiBJbml0aWFsaXplIHBhbGV0dGUuXG4gKi9cblBhbGV0dGUucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHZhciBldmVudEJ1cyA9IHRoaXMuX2V2ZW50QnVzO1xuXG4gIHZhciBwYXJlbnRDb250YWluZXIgPSB0aGlzLl9nZXRQYXJlbnRDb250YWluZXIoKTtcblxuICB2YXIgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyID0gZG9taWZ5KFBhbGV0dGUuSFRNTF9NQVJLVVApO1xuXG4gIHBhcmVudENvbnRhaW5lci5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICBkb21DbGFzc2VzKHBhcmVudENvbnRhaW5lcikuYWRkKFBBTEVUVEVfUFJFRklYICsgUEFMRVRURV9TSE9XTl9DTFMpO1xuXG4gIGRvbURlbGVnYXRlLmJpbmQoY29udGFpbmVyLCBFTEVNRU5UX1NFTEVDVE9SLCAnY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIHRhcmdldCA9IGV2ZW50LmRlbGVnYXRlVGFyZ2V0O1xuXG4gICAgaWYgKGRvbU1hdGNoZXModGFyZ2V0LCBUT0dHTEVfU0VMRUNUT1IpKSB7XG4gICAgICByZXR1cm4gc2VsZi50b2dnbGUoKTtcbiAgICB9XG5cbiAgICBzZWxmLnRyaWdnZXIoJ2NsaWNrJywgZXZlbnQpO1xuICB9KTtcblxuICAvLyBwcmV2ZW50IGRyYWcgcHJvcGFnYXRpb25cbiAgZG9tRXZlbnQuYmluZChjb250YWluZXIsICdtb3VzZWRvd24nLCBmdW5jdGlvbihldmVudCkge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9KTtcblxuICAvLyBwcmV2ZW50IGRyYWcgcHJvcGFnYXRpb25cbiAgZG9tRGVsZWdhdGUuYmluZChjb250YWluZXIsIEVOVFJZX1NFTEVDVE9SLCAnZHJhZ3N0YXJ0JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBzZWxmLnRyaWdnZXIoJ2RyYWdzdGFydCcsIGV2ZW50KTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2NhbnZhcy5yZXNpemVkJywgdGhpcy5fbGF5b3V0Q2hhbmdlZCwgdGhpcyk7XG5cbiAgZXZlbnRCdXMuZmlyZSgncGFsZXR0ZS5jcmVhdGUnLCB7XG4gICAgY29udGFpbmVyOiBjb250YWluZXJcbiAgfSk7XG59O1xuXG5QYWxldHRlLnByb3RvdHlwZS5fZ2V0UHJvdmlkZXJzID0gZnVuY3Rpb24oaWQpIHtcblxuICB2YXIgZXZlbnQgPSB0aGlzLl9ldmVudEJ1cy5jcmVhdGVFdmVudCh7XG4gICAgdHlwZTogJ3BhbGV0dGUuZ2V0UHJvdmlkZXJzJyxcbiAgICBwcm92aWRlcnM6IFtdXG4gIH0pO1xuXG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoZXZlbnQpO1xuXG4gIHJldHVybiBldmVudC5wcm92aWRlcnM7XG59O1xuXG4vKipcbiAqIFVwZGF0ZSBwYWxldHRlIHN0YXRlLlxuICpcbiAqIEBwYXJhbSB7IHtcbiAqICAgb3Blbj86IGJvb2xlYW47XG4gKiAgIHR3b0NvbHVtbj86IGJvb2xlYW47XG4gKiB9IH0gW3N0YXRlXVxuICovXG5QYWxldHRlLnByb3RvdHlwZS5fdG9nZ2xlU3RhdGUgPSBmdW5jdGlvbihzdGF0ZSkge1xuXG4gIHN0YXRlID0gc3RhdGUgfHwge307XG5cbiAgdmFyIHBhcmVudCA9IHRoaXMuX2dldFBhcmVudENvbnRhaW5lcigpLFxuICAgICAgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyO1xuXG4gIHZhciBldmVudEJ1cyA9IHRoaXMuX2V2ZW50QnVzO1xuXG4gIHZhciB0d29Db2x1bW47XG5cbiAgdmFyIGNscyA9IGRvbUNsYXNzZXMoY29udGFpbmVyKSxcbiAgICAgIHBhcmVudENscyA9IGRvbUNsYXNzZXMocGFyZW50KTtcblxuICBpZiAoJ3R3b0NvbHVtbicgaW4gc3RhdGUpIHtcbiAgICB0d29Db2x1bW4gPSBzdGF0ZS50d29Db2x1bW47XG4gIH0gZWxzZSB7XG4gICAgdHdvQ29sdW1uID0gdGhpcy5fbmVlZHNDb2xsYXBzZShwYXJlbnQuY2xpZW50SGVpZ2h0LCB0aGlzLl9lbnRyaWVzIHx8IHt9KTtcbiAgfVxuXG4gIC8vIGFsd2F5cyB1cGRhdGUgdHdvIGNvbHVtblxuICBjbHMudG9nZ2xlKFBBTEVUVEVfVFdPX0NPTFVNTl9DTFMsIHR3b0NvbHVtbik7XG4gIHBhcmVudENscy50b2dnbGUoUEFMRVRURV9QUkVGSVggKyBQQUxFVFRFX1RXT19DT0xVTU5fQ0xTLCB0d29Db2x1bW4pO1xuXG4gIGlmICgnb3BlbicgaW4gc3RhdGUpIHtcbiAgICBjbHMudG9nZ2xlKFBBTEVUVEVfT1BFTl9DTFMsIHN0YXRlLm9wZW4pO1xuICAgIHBhcmVudENscy50b2dnbGUoUEFMRVRURV9QUkVGSVggKyBQQUxFVFRFX09QRU5fQ0xTLCBzdGF0ZS5vcGVuKTtcbiAgfVxuXG4gIGV2ZW50QnVzLmZpcmUoJ3BhbGV0dGUuY2hhbmdlZCcsIHtcbiAgICB0d29Db2x1bW46IHR3b0NvbHVtbixcbiAgICBvcGVuOiB0aGlzLmlzT3BlbigpXG4gIH0pO1xufTtcblxuUGFsZXR0ZS5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uKCkge1xuXG4gIHZhciBlbnRyaWVzQ29udGFpbmVyID0gZG9tUXVlcnkoJy5kanMtcGFsZXR0ZS1lbnRyaWVzJywgdGhpcy5fY29udGFpbmVyKSxcbiAgICAgIGVudHJpZXMgPSB0aGlzLl9lbnRyaWVzID0gdGhpcy5nZXRFbnRyaWVzKCk7XG5cbiAgZG9tQ2xlYXIoZW50cmllc0NvbnRhaW5lcik7XG5cbiAgZm9yRWFjaChlbnRyaWVzLCBmdW5jdGlvbihlbnRyeSwgaWQpIHtcblxuICAgIHZhciBncm91cGluZyA9IGVudHJ5Lmdyb3VwIHx8ICdkZWZhdWx0JztcblxuICAgIHZhciBjb250YWluZXIgPSBkb21RdWVyeSgnW2RhdGEtZ3JvdXA9JyArIGVzY2FwZUNTUyhncm91cGluZykgKyAnXScsIGVudHJpZXNDb250YWluZXIpO1xuICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICBjb250YWluZXIgPSBkb21pZnkoJzxkaXYgY2xhc3M9XCJncm91cFwiPjwvZGl2PicpO1xuICAgICAgZG9tQXR0cihjb250YWluZXIsICdkYXRhLWdyb3VwJywgZ3JvdXBpbmcpO1xuXG4gICAgICBlbnRyaWVzQ29udGFpbmVyLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgdmFyIGh0bWwgPSBlbnRyeS5odG1sIHx8IChcbiAgICAgIGVudHJ5LnNlcGFyYXRvciA/XG4gICAgICAgICc8aHIgY2xhc3M9XCJzZXBhcmF0b3JcIiAvPicgOlxuICAgICAgICAnPGRpdiBjbGFzcz1cImVudHJ5XCIgZHJhZ2dhYmxlPVwidHJ1ZVwiPjwvZGl2PicpO1xuXG5cbiAgICB2YXIgY29udHJvbCA9IGRvbWlmeShodG1sKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY29udHJvbCk7XG5cbiAgICBpZiAoIWVudHJ5LnNlcGFyYXRvcikge1xuICAgICAgZG9tQXR0cihjb250cm9sLCAnZGF0YS1hY3Rpb24nLCBpZCk7XG5cbiAgICAgIGlmIChlbnRyeS50aXRsZSkge1xuICAgICAgICBkb21BdHRyKGNvbnRyb2wsICd0aXRsZScsIGVudHJ5LnRpdGxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGVudHJ5LmNsYXNzTmFtZSkge1xuICAgICAgICBhZGRDbGFzc2VzKGNvbnRyb2wsIGVudHJ5LmNsYXNzTmFtZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChlbnRyeS5pbWFnZVVybCkge1xuICAgICAgICB2YXIgaW1hZ2UgPSBkb21pZnkoJzxpbWc+Jyk7XG4gICAgICAgIGRvbUF0dHIoaW1hZ2UsICdzcmMnLCBlbnRyeS5pbWFnZVVybCk7XG5cbiAgICAgICAgY29udHJvbC5hcHBlbmRDaGlsZChpbWFnZSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvLyBvcGVuIGFmdGVyIHVwZGF0ZVxuICB0aGlzLm9wZW4oKTtcbn07XG5cblxuLyoqXG4gKiBUcmlnZ2VyIGFuIGFjdGlvbiBhdmFpbGFibGUgb24gdGhlIHBhbGV0dGVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYWN0aW9uXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICogQHBhcmFtIHtib29sZWFufSBbYXV0b0FjdGl2YXRlPWZhbHNlXVxuICovXG5QYWxldHRlLnByb3RvdHlwZS50cmlnZ2VyID0gZnVuY3Rpb24oYWN0aW9uLCBldmVudCwgYXV0b0FjdGl2YXRlKSB7XG4gIHZhciBlbnRyeSxcbiAgICAgIG9yaWdpbmFsRXZlbnQsXG4gICAgICBidXR0b24gPSBldmVudC5kZWxlZ2F0ZVRhcmdldCB8fCBldmVudC50YXJnZXQ7XG5cbiAgaWYgKCFidXR0b24pIHtcbiAgICByZXR1cm4gZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxuXG4gIGVudHJ5ID0gZG9tQXR0cihidXR0b24sICdkYXRhLWFjdGlvbicpO1xuICBvcmlnaW5hbEV2ZW50ID0gZXZlbnQub3JpZ2luYWxFdmVudCB8fCBldmVudDtcblxuICByZXR1cm4gdGhpcy50cmlnZ2VyRW50cnkoZW50cnksIGFjdGlvbiwgb3JpZ2luYWxFdmVudCwgYXV0b0FjdGl2YXRlKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGVudHJ5SWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb25cbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFthdXRvQWN0aXZhdGU9ZmFsc2VdXG4gKi9cblBhbGV0dGUucHJvdG90eXBlLnRyaWdnZXJFbnRyeSA9IGZ1bmN0aW9uKGVudHJ5SWQsIGFjdGlvbiwgZXZlbnQsIGF1dG9BY3RpdmF0ZSkge1xuICB2YXIgZW50cmllcyA9IHRoaXMuX2VudHJpZXMsXG4gICAgICBlbnRyeSxcbiAgICAgIGhhbmRsZXI7XG5cbiAgZW50cnkgPSBlbnRyaWVzW2VudHJ5SWRdO1xuXG4gIC8vIHdoZW4gdXNlciBjbGlja3Mgb24gdGhlIHBhbGV0dGUgYW5kIG5vdCBvbiBhbiBhY3Rpb25cbiAgaWYgKCFlbnRyeSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGhhbmRsZXIgPSBlbnRyeS5hY3Rpb247XG5cbiAgaWYgKHRoaXMuX2V2ZW50QnVzLmZpcmUoJ3BhbGV0dGUudHJpZ2dlcicsIHsgZW50cnksIGV2ZW50IH0pID09PSBmYWxzZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIHNpbXBsZSBhY3Rpb24gKHZpYSBjYWxsYmFjayBmdW5jdGlvbilcbiAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcbiAgICBpZiAoYWN0aW9uID09PSAnY2xpY2snKSB7XG4gICAgICByZXR1cm4gaGFuZGxlcihldmVudCwgYXV0b0FjdGl2YXRlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGhhbmRsZXJbYWN0aW9uXSkge1xuICAgICAgcmV0dXJuIGhhbmRsZXJbYWN0aW9uXShldmVudCwgYXV0b0FjdGl2YXRlKTtcbiAgICB9XG4gIH1cblxuICAvLyBzaWxlbmNlIG90aGVyIGFjdGlvbnNcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbn07XG5cblBhbGV0dGUucHJvdG90eXBlLl9sYXlvdXRDaGFuZ2VkID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX3RvZ2dsZVN0YXRlKHt9KTtcbn07XG5cbi8qKlxuICogRG8gd2UgbmVlZCB0byBjb2xsYXBzZSB0byB0d28gY29sdW1ucz9cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gYXZhaWxhYmxlSGVpZ2h0XG4gKiBAcGFyYW0ge1BhbGV0dGVFbnRyaWVzfSBlbnRyaWVzXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuUGFsZXR0ZS5wcm90b3R5cGUuX25lZWRzQ29sbGFwc2UgPSBmdW5jdGlvbihhdmFpbGFibGVIZWlnaHQsIGVudHJpZXMpIHtcblxuICAvLyB0b3AgbWFyZ2luICsgYm90dG9tIHRvZ2dsZSArIGJvdHRvbSBtYXJnaW5cbiAgLy8gaW1wbGVtZW50b3JzIG11c3Qgb3ZlcnJpZGUgdGhpcyBtZXRob2QgaWYgdGhleVxuICAvLyBjaGFuZ2UgdGhlIHBhbGV0dGUgc3R5bGVzXG4gIHZhciBtYXJnaW4gPSAyMCArIDEwICsgMjA7XG5cbiAgdmFyIGVudHJpZXNIZWlnaHQgPSBPYmplY3Qua2V5cyhlbnRyaWVzKS5sZW5ndGggKiA0NjtcblxuICByZXR1cm4gYXZhaWxhYmxlSGVpZ2h0IDwgZW50cmllc0hlaWdodCArIG1hcmdpbjtcbn07XG5cbi8qKlxuICogQ2xvc2UgdGhlIHBhbGV0dGUuXG4gKi9cblBhbGV0dGUucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX3RvZ2dsZVN0YXRlKHtcbiAgICBvcGVuOiBmYWxzZSxcbiAgICB0d29Db2x1bW46IGZhbHNlXG4gIH0pO1xufTtcblxuLyoqXG4gKiBPcGVuIHRoZSBwYWxldHRlLlxuICovXG5QYWxldHRlLnByb3RvdHlwZS5vcGVuID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX3RvZ2dsZVN0YXRlKHsgb3BlbjogdHJ1ZSB9KTtcbn07XG5cbi8qKlxuICogVG9nZ2xlIHRoZSBwYWxldHRlLlxuICovXG5QYWxldHRlLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuaXNPcGVuKCkpIHtcbiAgICB0aGlzLmNsb3NlKCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5vcGVuKCk7XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHRvb2xcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5QYWxldHRlLnByb3RvdHlwZS5pc0FjdGl2ZVRvb2wgPSBmdW5jdGlvbih0b29sKSB7XG4gIHJldHVybiB0b29sICYmIHRoaXMuX2FjdGl2ZVRvb2wgPT09IHRvb2w7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKi9cblBhbGV0dGUucHJvdG90eXBlLnVwZGF0ZVRvb2xIaWdobGlnaHQgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBlbnRyaWVzQ29udGFpbmVyLFxuICAgICAgdG9vbHNDb250YWluZXI7XG5cbiAgaWYgKCF0aGlzLl90b29sc0NvbnRhaW5lcikge1xuICAgIGVudHJpZXNDb250YWluZXIgPSBkb21RdWVyeSgnLmRqcy1wYWxldHRlLWVudHJpZXMnLCB0aGlzLl9jb250YWluZXIpO1xuXG4gICAgdGhpcy5fdG9vbHNDb250YWluZXIgPSBkb21RdWVyeSgnW2RhdGEtZ3JvdXA9dG9vbHNdJywgZW50cmllc0NvbnRhaW5lcik7XG4gIH1cblxuICB0b29sc0NvbnRhaW5lciA9IHRoaXMuX3Rvb2xzQ29udGFpbmVyO1xuXG4gIGZvckVhY2godG9vbHNDb250YWluZXIuY2hpbGRyZW4sIGZ1bmN0aW9uKHRvb2wpIHtcbiAgICB2YXIgYWN0aW9uTmFtZSA9IHRvb2wuZ2V0QXR0cmlidXRlKCdkYXRhLWFjdGlvbicpO1xuXG4gICAgaWYgKCFhY3Rpb25OYW1lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRvb2xDbGFzc2VzID0gZG9tQ2xhc3Nlcyh0b29sKTtcblxuICAgIGFjdGlvbk5hbWUgPSBhY3Rpb25OYW1lLnJlcGxhY2UoJy10b29sJywgJycpO1xuXG4gICAgaWYgKHRvb2xDbGFzc2VzLmNvbnRhaW5zKCdlbnRyeScpICYmIGFjdGlvbk5hbWUgPT09IG5hbWUpIHtcbiAgICAgIHRvb2xDbGFzc2VzLmFkZCgnaGlnaGxpZ2h0ZWQtZW50cnknKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdG9vbENsYXNzZXMucmVtb3ZlKCdoaWdobGlnaHRlZC1lbnRyeScpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgcGFsZXR0ZSBpcyBvcGVuZWQuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBwYWxldHRlLm9wZW4oKTtcbiAqXG4gKiBpZiAocGFsZXR0ZS5pc09wZW4oKSkge1xuICogICAvLyB5ZXMsIHdlIGFyZSBvcGVuXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5QYWxldHRlLnByb3RvdHlwZS5pc09wZW4gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGRvbUNsYXNzZXModGhpcy5fY29udGFpbmVyKS5oYXMoUEFMRVRURV9PUEVOX0NMUyk7XG59O1xuXG4vKipcbiAqIEdldCBwYXJlbnQgZWxlbWVudCBvZiBwYWxldHRlLlxuICpcbiAqIEByZXR1cm4ge0hUTUxFbGVtZW50fVxuICovXG5QYWxldHRlLnByb3RvdHlwZS5fZ2V0UGFyZW50Q29udGFpbmVyID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9jYW52YXMuZ2V0Q29udGFpbmVyKCk7XG59O1xuXG5cbi8qIG1hcmt1cCBkZWZpbml0aW9uICovXG5cblBhbGV0dGUuSFRNTF9NQVJLVVAgPVxuICAnPGRpdiBjbGFzcz1cImRqcy1wYWxldHRlXCI+JyArXG4gICAgJzxkaXYgY2xhc3M9XCJkanMtcGFsZXR0ZS1lbnRyaWVzXCI+PC9kaXY+JyArXG4gICAgJzxkaXYgY2xhc3M9XCJkanMtcGFsZXR0ZS10b2dnbGVcIj48L2Rpdj4nICtcbiAgJzwvZGl2Pic7XG5cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGFkZENsYXNzZXMoZWxlbWVudCwgY2xhc3NOYW1lcykge1xuXG4gIHZhciBjbGFzc2VzID0gZG9tQ2xhc3NlcyhlbGVtZW50KTtcblxuICB2YXIgYWN0dWFsQ2xhc3NOYW1lcyA9IGlzQXJyYXkoY2xhc3NOYW1lcykgPyBjbGFzc05hbWVzIDogY2xhc3NOYW1lcy5zcGxpdCgvXFxzKy9nKTtcbiAgYWN0dWFsQ2xhc3NOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKGNscykge1xuICAgIGNsYXNzZXMuYWRkKGNscyk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRQYWxldHRlRW50cmllcyhlbnRyaWVzLCBwcm92aWRlcikge1xuXG4gIHZhciBlbnRyaWVzT3JVcGRhdGVyID0gcHJvdmlkZXIuZ2V0UGFsZXR0ZUVudHJpZXMoKTtcblxuICBpZiAoaXNGdW5jdGlvbihlbnRyaWVzT3JVcGRhdGVyKSkge1xuICAgIHJldHVybiBlbnRyaWVzT3JVcGRhdGVyKGVudHJpZXMpO1xuICB9XG5cbiAgZm9yRWFjaChlbnRyaWVzT3JVcGRhdGVyLCBmdW5jdGlvbihlbnRyeSwgaWQpIHtcbiAgICBlbnRyaWVzW2lkXSA9IGVudHJ5O1xuICB9KTtcblxuICByZXR1cm4gZW50cmllcztcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/palette/Palette.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/palette/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/palette/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Palette__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Palette */ \"(ssr)/./node_modules/diagram-js/lib/features/palette/Palette.js\");\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [ 'palette' ],\n  palette: [ 'type', _Palette__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcGFsZXR0ZS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFnQzs7O0FBR2hDO0FBQ0EsV0FBVztBQUNYO0FBQ0EsaUVBQWU7QUFDZjtBQUNBLHFCQUFxQixnREFBTztBQUM1QixDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcGFsZXR0ZS9pbmRleC5qcz82YzFmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQYWxldHRlIGZyb20gJy4vUGFsZXR0ZSc7XG5cblxuLyoqXG4gKiBAdHlwZSB7IGltcG9ydCgnZGlkaScpLk1vZHVsZURlY2xhcmF0aW9uIH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogWyAncGFsZXR0ZScgXSxcbiAgcGFsZXR0ZTogWyAndHlwZScsIFBhbGV0dGUgXVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/palette/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/popup-menu/PopupMenu.js":
/*!**********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/popup-menu/PopupMenu.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PopupMenu)\n/* harmony export */ });\n/* harmony import */ var _ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ui */ \"(ssr)/./node_modules/preact/dist/preact.mjs\");\n/* harmony import */ var _ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ui */ \"(ssr)/./node_modules/htm/preact/index.mjs\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! min-dom */ \"(ssr)/./node_modules/min-dom/dist/index.esm.js\");\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _PopupMenuComponent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PopupMenuComponent */ \"(ssr)/./node_modules/diagram-js/lib/features/popup-menu/PopupMenuComponent.js\");\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../search/search').default} search\n *\n * @typedef {import('../../util/Types').Point} Point\n *\n * @typedef {import('./PopupMenuProvider').PopupMenuEntries} PopupMenuEntries\n * @typedef {import('./PopupMenuProvider').PopupMenuEntry} PopupMenuEntry\n * @typedef {import('./PopupMenuProvider').PopupMenuHeaderEntries} PopupMenuHeaderEntries\n * @typedef {import('./PopupMenuProvider').PopupMenuHeaderEntry} PopupMenuHeaderEntry\n * @typedef {import('./PopupMenuProvider').default} PopupMenuProvider\n *\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef { {\n *   scale?: {\n *     min?: number;\n *     max?: number;\n *   } | boolean;\n * } } PopupMenuConfig\n *\n * @typedef {Element|Element[]} PopupMenuTarget;\n */\n\nvar DATA_REF = 'data-id';\n\nvar CLOSE_EVENTS = [\n  'contextPad.close',\n  'canvas.viewbox.changing',\n  'commandStack.changed'\n];\n\nvar DEFAULT_PRIORITY = 1000;\n\n/**\n * A popup menu to show a number of actions on the canvas.\n *\n * @param {PopupMenuConfig} config\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {search} search\n */\nfunction PopupMenu(config, eventBus, canvas, search) {\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n  this._search = search;\n\n  this._current = null;\n\n  var scale = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isDefined)(config && config.scale) ? config.scale : {\n    min: 1,\n    max: 1\n  };\n\n  this._config = {\n    scale: scale\n  };\n\n\n  eventBus.on('diagram.destroy', () => {\n    this.close();\n  });\n\n  eventBus.on('element.changed', event => {\n\n    const element = this.isOpen() && this._current.target;\n\n    if (event.element === element) {\n      this.refresh();\n    }\n  });\n\n}\n\nPopupMenu.$inject = [\n  'config.popupMenu',\n  'eventBus',\n  'canvas',\n  'search'\n];\n\nPopupMenu.prototype._render = function() {\n\n  const {\n    position: _position,\n    providerId: className,\n    entries,\n    headerEntries,\n    emptyPlaceholder,\n    options\n  } = this._current;\n\n  const entriesArray = Object.entries(entries).map(\n    ([ key, value ]) => ({ id: key, ...value })\n  );\n\n  const headerEntriesArray = Object.entries(headerEntries).map(\n    ([ key, value ]) => ({ id: key, ...value })\n  );\n\n  const position = _position && (\n    (container) => this._ensureVisible(container, _position)\n  );\n\n  const scale = this._updateScale(this._current.container);\n\n  const onClose = result => this.close(result);\n  const onSelect = (event, entry, action) => this.trigger(event, entry, action);\n\n  (0,_ui__WEBPACK_IMPORTED_MODULE_1__.render)(\n    (0,_ui__WEBPACK_IMPORTED_MODULE_2__.html)`\n      <${_PopupMenuComponent__WEBPACK_IMPORTED_MODULE_3__[\"default\"]}\n        onClose=${ onClose }\n        onSelect=${ onSelect }\n        position=${ position }\n        className=${ className }\n        entries=${ entriesArray }\n        headerEntries=${ headerEntriesArray }\n        emptyPlaceholder=${ emptyPlaceholder }\n        scale=${ scale }\n        onOpened=${ this._onOpened.bind(this) }\n        onClosed=${ this._onClosed.bind(this) }\n        searchFn=${ this._search }\n        ...${{ ...options }}\n      />\n    `,\n    this._current.container\n  );\n};\n\n\n/**\n * Open the popup menu at the given position.\n *\n * @param {PopupMenuTarget} target\n * @param {string} providerId\n * @param {Point} position\n * @param {Object} [options]\n */\nPopupMenu.prototype.open = function(target, providerId, position, options) {\n  if (!target) {\n    throw new Error('target is missing');\n  }\n\n  if (!providerId) {\n    throw new Error('providers for <' + providerId + '> not found');\n  }\n\n  if (!position) {\n    throw new Error('position is missing');\n  }\n\n  if (this.isOpen()) {\n    this.close();\n  }\n\n  const {\n    entries,\n    headerEntries,\n    emptyPlaceholder\n  } = this._getContext(target, providerId);\n\n  this._current = {\n    position,\n    providerId,\n    target,\n    entries,\n    headerEntries,\n    emptyPlaceholder,\n    container: this._createContainer({ provider: providerId }),\n    options\n  };\n\n  this._emit('open');\n\n  this._bindAutoClose();\n\n  this._render();\n};\n\n/**\n * Refresh the popup menu entries without changing the target or position.\n */\nPopupMenu.prototype.refresh = function() {\n  if (!this.isOpen()) {\n    return;\n  }\n\n  const {\n    target,\n    providerId\n  } = this._current;\n\n  const {\n    entries,\n    headerEntries,\n    emptyPlaceholder\n  } = this._getContext(target, providerId);\n\n  this._current = {\n    ...this._current,\n    entries,\n    headerEntries,\n    emptyPlaceholder\n  };\n\n  this._emit('refresh');\n\n  this._render();\n};\n\n\nPopupMenu.prototype._getContext = function(target, provider) {\n\n  const providers = this._getProviders(provider);\n\n  if (!providers || !providers.length) {\n    throw new Error('provider for <' + provider + '> not found');\n  }\n\n  const entries = this._getEntries(target, providers);\n\n  const headerEntries = this._getHeaderEntries(target, providers);\n\n  const emptyPlaceholder = this._getEmptyPlaceholder(providers);\n\n  return {\n    entries,\n    headerEntries,\n    emptyPlaceholder,\n    empty: !(\n      Object.keys(entries).length ||\n          Object.keys(headerEntries).length\n    )\n  };\n};\n\nPopupMenu.prototype.close = function() {\n\n  if (!this.isOpen()) {\n    return;\n  }\n\n  this._emit('close');\n\n  this.reset();\n\n  this._canvas.restoreFocus();\n\n  this._current = null;\n};\n\nPopupMenu.prototype.reset = function() {\n  const container = this._current.container;\n\n  (0,_ui__WEBPACK_IMPORTED_MODULE_1__.render)(null, container);\n\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_4__.remove)(container);\n};\n\nPopupMenu.prototype._emit = function(event, payload) {\n  this._eventBus.fire(`popupMenu.${ event }`, payload);\n};\n\nPopupMenu.prototype._onOpened = function() {\n  this._emit('opened');\n};\n\nPopupMenu.prototype._onClosed = function() {\n  this._emit('closed');\n};\n\nPopupMenu.prototype._createContainer = function(config) {\n\n  var canvas = this._canvas,\n      parent = canvas.getContainer();\n\n  const container = (0,min_dom__WEBPACK_IMPORTED_MODULE_4__.domify)(`<div class=\"djs-popup-parent djs-scrollable\" data-popup=${config.provider}></div>`);\n\n  parent.appendChild(container);\n\n  return container;\n};\n\n/**\n * Set up listener to close popup automatically on certain events.\n */\nPopupMenu.prototype._bindAutoClose = function() {\n  this._eventBus.once(CLOSE_EVENTS, this.close, this);\n};\n\n\n/**\n * Remove the auto-closing listener.\n*/\nPopupMenu.prototype._unbindAutoClose = function() {\n  this._eventBus.off(CLOSE_EVENTS, this.close, this);\n};\n\n\n/**\n * Updates popup style.transform with respect to the config and zoom level.\n *\n * @return {number}\n */\nPopupMenu.prototype._updateScale = function() {\n  var zoom = this._canvas.zoom();\n\n  var scaleConfig = this._config.scale,\n      minScale,\n      maxScale,\n      scale = zoom;\n\n  if (scaleConfig !== true) {\n\n    if (scaleConfig === false) {\n      minScale = 1;\n      maxScale = 1;\n    } else {\n      minScale = scaleConfig.min;\n      maxScale = scaleConfig.max;\n    }\n\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isDefined)(minScale) && zoom < minScale) {\n      scale = minScale;\n    }\n\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isDefined)(maxScale) && zoom > maxScale) {\n      scale = maxScale;\n    }\n\n  }\n\n  return scale;\n};\n\nPopupMenu.prototype._ensureVisible = function(container, position) {\n  var documentBounds = document.documentElement.getBoundingClientRect();\n  var containerBounds = container.getBoundingClientRect();\n\n  var overAxis = {},\n      left = position.x,\n      top = position.y;\n\n  if (position.x + containerBounds.width > documentBounds.width) {\n    overAxis.x = true;\n  }\n\n  if (position.y + containerBounds.height > documentBounds.height) {\n    overAxis.y = true;\n  }\n\n  if (overAxis.x && overAxis.y) {\n    left = position.x - containerBounds.width;\n    top = position.y - containerBounds.height;\n  } else if (overAxis.x) {\n    left = position.x - containerBounds.width;\n    top = position.y;\n  } else if (overAxis.y && position.y < containerBounds.height) {\n    left = position.x;\n    top = 10;\n  } else if (overAxis.y) {\n    left = position.x;\n    top = position.y - containerBounds.height;\n  }\n\n  // underAxis\n  if (position.y < documentBounds.top) {\n    top = position.y + containerBounds.height;\n  }\n\n  return {\n    x: left,\n    y: top\n  };\n};\n\n/**\n * Check whether there are no popup menu providers or provided entries for the\n * given target.\n *\n * @param {PopupMenuTarget} target\n * @param {string} providerId\n *\n * @return {boolean}\n */\nPopupMenu.prototype.isEmpty = function(target, providerId) {\n  if (!target) {\n    throw new Error('target is missing');\n  }\n\n  if (!providerId) {\n    throw new Error('provider ID is missing');\n  }\n\n  const providers = this._getProviders(providerId);\n\n  if (!providers || !providers.length) {\n    return true;\n  }\n\n  return this._getContext(target, providerId).empty;\n};\n\n/**\n * @overlord\n *\n * Register a popup menu provider with default priority. See\n * {@link PopupMenuProvider} for examples.\n *\n * @param {string} id\n * @param {PopupMenuProvider} provider\n */\n\n/**\n * Register a popup menu provider with the given priority. See\n * {@link PopupMenuProvider} for examples.\n *\n * @param {string} id\n * @param {number} priority\n * @param {PopupMenuProvider} provider\n */\nPopupMenu.prototype.registerProvider = function(id, priority, provider) {\n  if (!provider) {\n    provider = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  this._eventBus.on('popupMenu.getProviders.' + id, priority, function(event) {\n    event.providers.push(provider);\n  });\n};\n\n/**\n * @param {string} id\n *\n * @return {PopupMenuProvider[]}\n */\nPopupMenu.prototype._getProviders = function(id) {\n  var event = this._eventBus.createEvent({\n    type: 'popupMenu.getProviders.' + id,\n    providers: []\n  });\n\n  this._eventBus.fire(event);\n\n  return event.providers;\n};\n\n/**\n * @param {PopupMenuTarget} target\n * @param {PopupMenuProvider[]} providers\n *\n * @return {PopupMenuEntries}\n */\nPopupMenu.prototype._getEntries = function(target, providers) {\n  var entries = {};\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(providers, function(provider) {\n\n    // handle legacy method\n    if (!provider.getPopupMenuEntries) {\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(provider.getEntries(target), function(entry) {\n        var id = entry.id;\n\n        if (!id) {\n          throw new Error('entry ID is missing');\n        }\n\n        entries[id] = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.omit)(entry, [ 'id' ]);\n      });\n\n      return;\n    }\n\n    var entriesOrUpdater = provider.getPopupMenuEntries(target);\n\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(entriesOrUpdater)) {\n      entries = entriesOrUpdater(entries);\n    } else {\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(entriesOrUpdater, function(entry, id) {\n        entries[id] = entry;\n      });\n    }\n  });\n\n  return entries;\n};\n\n/**\n * @param {PopupMenuTarget} target\n * @param {PopupMenuProvider[]} providers\n *\n * @return {PopupMenuHeaderEntries}\n */\nPopupMenu.prototype._getHeaderEntries = function(target, providers) {\n  var entries = {};\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(providers, function(provider) {\n\n    // handle legacy method\n    if (!provider.getPopupMenuHeaderEntries) {\n      if (!provider.getHeaderEntries) {\n        return;\n      }\n\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(provider.getHeaderEntries(target), function(entry) {\n        var id = entry.id;\n\n        if (!id) {\n          throw new Error('entry ID is missing');\n        }\n\n        entries[id] = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.omit)(entry, [ 'id' ]);\n      });\n\n      return;\n    }\n\n    var entriesOrUpdater = provider.getPopupMenuHeaderEntries(target);\n\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(entriesOrUpdater)) {\n      entries = entriesOrUpdater(entries);\n    } else {\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(entriesOrUpdater, function(entry, id) {\n        entries[id] = entry;\n      });\n    }\n  });\n\n  return entries;\n};\n\n\nPopupMenu.prototype._getEmptyPlaceholder = function(providers) {\n  const provider = providers.find(\n    provider => (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(provider.getEmptyPlaceholder)\n  );\n\n  return provider && provider.getEmptyPlaceholder();\n};\n\n\n/**\n * Check if the popup menu is open.\n *\n * @return {boolean}\n */\nPopupMenu.prototype.isOpen = function() {\n  return !!this._current;\n};\n\n\n/**\n * Trigger an action associated with an entry.\n *\n * @param {Event} event\n * @param {PopupMenuEntry} entry\n * @param {string} [action='click']\n *\n * @return {any}\n */\nPopupMenu.prototype.trigger = function(event, entry, action = 'click') {\n\n  // silence other actions\n  event.preventDefault();\n\n  if (!entry) {\n    let element = (0,min_dom__WEBPACK_IMPORTED_MODULE_4__.closest)(event.delegateTarget || event.target, '.entry', true);\n    let entryId = (0,min_dom__WEBPACK_IMPORTED_MODULE_4__.attr)(element, DATA_REF);\n\n    entry = { id: entryId, ...this._getEntry(entryId) };\n  }\n\n  const handler = entry.action;\n\n  if (this._emit('trigger', { entry, event }) === false) {\n    return;\n  }\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(handler)) {\n    if (action === 'click') {\n      return handler(event, entry);\n    }\n  } else {\n    if (handler[action]) {\n      return handler[action](event, entry);\n    }\n  }\n};\n\n/**\n * Get the entry (entry or header entry) with the given ID.\n *\n * @param {string} entryId\n *\n * @return {PopupMenuEntry|PopupMenuHeaderEntry}\n */\nPopupMenu.prototype._getEntry = function(entryId) {\n\n  var entry = this._current.entries[ entryId ] || this._current.headerEntries[ entryId ];\n\n\n  if (!entry) {\n    throw new Error('entry not found');\n  }\n\n  return entry;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcG9wdXAtbWVudS9Qb3B1cE1lbnUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBR2tCOztBQU9EOztBQU9DOztBQUVvQzs7QUFFdEQ7QUFDQSxhQUFhLHFDQUFxQztBQUNsRCxhQUFhLHVDQUF1QztBQUNwRCxhQUFhLG9DQUFvQztBQUNqRDtBQUNBLGFBQWEsa0NBQWtDO0FBQy9DO0FBQ0EsYUFBYSxnREFBZ0Q7QUFDN0QsYUFBYSw4Q0FBOEM7QUFDM0QsYUFBYSxzREFBc0Q7QUFDbkUsYUFBYSxvREFBb0Q7QUFDakUsYUFBYSx1Q0FBdUM7QUFDcEQ7QUFDQSxhQUFhLHFDQUFxQztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE9BQU87QUFDUDtBQUNBLGFBQWEsbUJBQW1CO0FBQ2hDOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxjQUFjLG1EQUFTO0FBQ3ZCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBLDJCQUEyQixtQkFBbUI7QUFDOUM7O0FBRUE7QUFDQSwyQkFBMkIsbUJBQW1CO0FBQzlDOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLEVBQUUsMkNBQU07QUFDUixJQUFJLHlDQUFJO0FBQ1IsU0FBUywyREFBa0I7QUFDM0IsbUJBQW1CO0FBQ25CLG9CQUFvQjtBQUNwQixvQkFBb0I7QUFDcEIscUJBQXFCO0FBQ3JCLG1CQUFtQjtBQUNuQix5QkFBeUI7QUFDekIsNEJBQTRCO0FBQzVCLGlCQUFpQjtBQUNqQixvQkFBb0I7QUFDcEIsb0JBQW9CO0FBQ3BCLG9CQUFvQjtBQUNwQixlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsT0FBTztBQUNsQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsc0JBQXNCO0FBQzdEO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7O0FBR0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsRUFBRSwyQ0FBTTs7QUFFUixFQUFFLCtDQUFTO0FBQ1g7O0FBRUE7QUFDQSxvQ0FBb0MsT0FBTztBQUMzQzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsb0JBQW9CLCtDQUFNLDREQUE0RCxnQkFBZ0I7O0FBRXRHOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLG1EQUFTO0FBQ2pCO0FBQ0E7O0FBRUEsUUFBUSxtREFBUztBQUNqQjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLG1CQUFtQjtBQUNuQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUkseUJBQXlCO0FBQzdCO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsbUJBQW1CO0FBQzlCOztBQUVBO0FBQ0E7QUFDQSxJQUFJLHlCQUF5QjtBQUM3QjtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxtQkFBbUI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCLFdBQVcscUJBQXFCO0FBQ2hDO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQSxFQUFFLGlEQUFPOztBQUVUO0FBQ0E7QUFDQSxNQUFNLGlEQUFPO0FBQ2I7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHNCQUFzQiw4Q0FBSTtBQUMxQixPQUFPOztBQUVQO0FBQ0E7O0FBRUE7O0FBRUEsUUFBUSxvREFBVTtBQUNsQjtBQUNBLE1BQU07QUFDTixNQUFNLGlEQUFPO0FBQ2I7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLGlCQUFpQjtBQUM1QixXQUFXLHFCQUFxQjtBQUNoQztBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUEsRUFBRSxpREFBTzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU0saURBQU87QUFDYjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCLDhDQUFJO0FBQzFCLE9BQU87O0FBRVA7QUFDQTs7QUFFQTs7QUFFQSxRQUFRLG9EQUFVO0FBQ2xCO0FBQ0EsTUFBTTtBQUNOLE1BQU0saURBQU87QUFDYjtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7O0FBR0E7QUFDQTtBQUNBLGdCQUFnQixvREFBVTtBQUMxQjs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLGdCQUFnQjtBQUMzQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLGdEQUFVO0FBQzVCLGtCQUFrQiw2Q0FBTzs7QUFFekIsY0FBYztBQUNkOztBQUVBOztBQUVBLDhCQUE4QixjQUFjO0FBQzVDO0FBQ0E7O0FBRUEsTUFBTSxvREFBVTtBQUNoQjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcG9wdXAtbWVudS9Qb3B1cE1lbnUuanM/MDUyZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICByZW5kZXIsXG4gIGh0bWxcbn0gZnJvbSAnLi4vLi4vdWknO1xuXG5pbXBvcnQge1xuICBkb21pZnksXG4gIHJlbW92ZSBhcyBkb21SZW1vdmUsXG4gIGNsb3Nlc3QgYXMgZG9tQ2xvc2VzdCxcbiAgYXR0ciBhcyBkb21BdHRyXG59IGZyb20gJ21pbi1kb20nO1xuXG5pbXBvcnQge1xuICBmb3JFYWNoLFxuICBpc0Z1bmN0aW9uLFxuICBvbWl0LFxuICBpc0RlZmluZWRcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQgUG9wdXBNZW51Q29tcG9uZW50IGZyb20gJy4vUG9wdXBNZW51Q29tcG9uZW50JztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0NhbnZhcycpLmRlZmF1bHR9IENhbnZhc1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9zZWFyY2gvc2VhcmNoJykuZGVmYXVsdH0gc2VhcmNoXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vdXRpbC9UeXBlcycpLlBvaW50fSBQb2ludFxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vUG9wdXBNZW51UHJvdmlkZXInKS5Qb3B1cE1lbnVFbnRyaWVzfSBQb3B1cE1lbnVFbnRyaWVzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuL1BvcHVwTWVudVByb3ZpZGVyJykuUG9wdXBNZW51RW50cnl9IFBvcHVwTWVudUVudHJ5XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuL1BvcHVwTWVudVByb3ZpZGVyJykuUG9wdXBNZW51SGVhZGVyRW50cmllc30gUG9wdXBNZW51SGVhZGVyRW50cmllc1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi9Qb3B1cE1lbnVQcm92aWRlcicpLlBvcHVwTWVudUhlYWRlckVudHJ5fSBQb3B1cE1lbnVIZWFkZXJFbnRyeVxuICogQHR5cGVkZWYge2ltcG9ydCgnLi9Qb3B1cE1lbnVQcm92aWRlcicpLmRlZmF1bHR9IFBvcHVwTWVudVByb3ZpZGVyXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vbW9kZWwvVHlwZXMnKS5FbGVtZW50fSBFbGVtZW50XG4gKlxuICogQHR5cGVkZWYgeyB7XG4gKiAgIHNjYWxlPzoge1xuICogICAgIG1pbj86IG51bWJlcjtcbiAqICAgICBtYXg/OiBudW1iZXI7XG4gKiAgIH0gfCBib29sZWFuO1xuICogfSB9IFBvcHVwTWVudUNvbmZpZ1xuICpcbiAqIEB0eXBlZGVmIHtFbGVtZW50fEVsZW1lbnRbXX0gUG9wdXBNZW51VGFyZ2V0O1xuICovXG5cbnZhciBEQVRBX1JFRiA9ICdkYXRhLWlkJztcblxudmFyIENMT1NFX0VWRU5UUyA9IFtcbiAgJ2NvbnRleHRQYWQuY2xvc2UnLFxuICAnY2FudmFzLnZpZXdib3guY2hhbmdpbmcnLFxuICAnY29tbWFuZFN0YWNrLmNoYW5nZWQnXG5dO1xuXG52YXIgREVGQVVMVF9QUklPUklUWSA9IDEwMDA7XG5cbi8qKlxuICogQSBwb3B1cCBtZW51IHRvIHNob3cgYSBudW1iZXIgb2YgYWN0aW9ucyBvbiB0aGUgY2FudmFzLlxuICpcbiAqIEBwYXJhbSB7UG9wdXBNZW51Q29uZmlnfSBjb25maWdcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKiBAcGFyYW0ge3NlYXJjaH0gc2VhcmNoXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBvcHVwTWVudShjb25maWcsIGV2ZW50QnVzLCBjYW52YXMsIHNlYXJjaCkge1xuICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG4gIHRoaXMuX3NlYXJjaCA9IHNlYXJjaDtcblxuICB0aGlzLl9jdXJyZW50ID0gbnVsbDtcblxuICB2YXIgc2NhbGUgPSBpc0RlZmluZWQoY29uZmlnICYmIGNvbmZpZy5zY2FsZSkgPyBjb25maWcuc2NhbGUgOiB7XG4gICAgbWluOiAxLFxuICAgIG1heDogMVxuICB9O1xuXG4gIHRoaXMuX2NvbmZpZyA9IHtcbiAgICBzY2FsZTogc2NhbGVcbiAgfTtcblxuXG4gIGV2ZW50QnVzLm9uKCdkaWFncmFtLmRlc3Ryb3knLCAoKSA9PiB7XG4gICAgdGhpcy5jbG9zZSgpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignZWxlbWVudC5jaGFuZ2VkJywgZXZlbnQgPT4ge1xuXG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMuaXNPcGVuKCkgJiYgdGhpcy5fY3VycmVudC50YXJnZXQ7XG5cbiAgICBpZiAoZXZlbnQuZWxlbWVudCA9PT0gZWxlbWVudCkge1xuICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgfVxuICB9KTtcblxufVxuXG5Qb3B1cE1lbnUuJGluamVjdCA9IFtcbiAgJ2NvbmZpZy5wb3B1cE1lbnUnLFxuICAnZXZlbnRCdXMnLFxuICAnY2FudmFzJyxcbiAgJ3NlYXJjaCdcbl07XG5cblBvcHVwTWVudS5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uKCkge1xuXG4gIGNvbnN0IHtcbiAgICBwb3NpdGlvbjogX3Bvc2l0aW9uLFxuICAgIHByb3ZpZGVySWQ6IGNsYXNzTmFtZSxcbiAgICBlbnRyaWVzLFxuICAgIGhlYWRlckVudHJpZXMsXG4gICAgZW1wdHlQbGFjZWhvbGRlcixcbiAgICBvcHRpb25zXG4gIH0gPSB0aGlzLl9jdXJyZW50O1xuXG4gIGNvbnN0IGVudHJpZXNBcnJheSA9IE9iamVjdC5lbnRyaWVzKGVudHJpZXMpLm1hcChcbiAgICAoWyBrZXksIHZhbHVlIF0pID0+ICh7IGlkOiBrZXksIC4uLnZhbHVlIH0pXG4gICk7XG5cbiAgY29uc3QgaGVhZGVyRW50cmllc0FycmF5ID0gT2JqZWN0LmVudHJpZXMoaGVhZGVyRW50cmllcykubWFwKFxuICAgIChbIGtleSwgdmFsdWUgXSkgPT4gKHsgaWQ6IGtleSwgLi4udmFsdWUgfSlcbiAgKTtcblxuICBjb25zdCBwb3NpdGlvbiA9IF9wb3NpdGlvbiAmJiAoXG4gICAgKGNvbnRhaW5lcikgPT4gdGhpcy5fZW5zdXJlVmlzaWJsZShjb250YWluZXIsIF9wb3NpdGlvbilcbiAgKTtcblxuICBjb25zdCBzY2FsZSA9IHRoaXMuX3VwZGF0ZVNjYWxlKHRoaXMuX2N1cnJlbnQuY29udGFpbmVyKTtcblxuICBjb25zdCBvbkNsb3NlID0gcmVzdWx0ID0+IHRoaXMuY2xvc2UocmVzdWx0KTtcbiAgY29uc3Qgb25TZWxlY3QgPSAoZXZlbnQsIGVudHJ5LCBhY3Rpb24pID0+IHRoaXMudHJpZ2dlcihldmVudCwgZW50cnksIGFjdGlvbik7XG5cbiAgcmVuZGVyKFxuICAgIGh0bWxgXG4gICAgICA8JHtQb3B1cE1lbnVDb21wb25lbnR9XG4gICAgICAgIG9uQ2xvc2U9JHsgb25DbG9zZSB9XG4gICAgICAgIG9uU2VsZWN0PSR7IG9uU2VsZWN0IH1cbiAgICAgICAgcG9zaXRpb249JHsgcG9zaXRpb24gfVxuICAgICAgICBjbGFzc05hbWU9JHsgY2xhc3NOYW1lIH1cbiAgICAgICAgZW50cmllcz0keyBlbnRyaWVzQXJyYXkgfVxuICAgICAgICBoZWFkZXJFbnRyaWVzPSR7IGhlYWRlckVudHJpZXNBcnJheSB9XG4gICAgICAgIGVtcHR5UGxhY2Vob2xkZXI9JHsgZW1wdHlQbGFjZWhvbGRlciB9XG4gICAgICAgIHNjYWxlPSR7IHNjYWxlIH1cbiAgICAgICAgb25PcGVuZWQ9JHsgdGhpcy5fb25PcGVuZWQuYmluZCh0aGlzKSB9XG4gICAgICAgIG9uQ2xvc2VkPSR7IHRoaXMuX29uQ2xvc2VkLmJpbmQodGhpcykgfVxuICAgICAgICBzZWFyY2hGbj0keyB0aGlzLl9zZWFyY2ggfVxuICAgICAgICAuLi4ke3sgLi4ub3B0aW9ucyB9fVxuICAgICAgLz5cbiAgICBgLFxuICAgIHRoaXMuX2N1cnJlbnQuY29udGFpbmVyXG4gICk7XG59O1xuXG5cbi8qKlxuICogT3BlbiB0aGUgcG9wdXAgbWVudSBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtQb3B1cE1lbnVUYXJnZXR9IHRhcmdldFxuICogQHBhcmFtIHtzdHJpbmd9IHByb3ZpZGVySWRcbiAqIEBwYXJhbSB7UG9pbnR9IHBvc2l0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKi9cblBvcHVwTWVudS5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uKHRhcmdldCwgcHJvdmlkZXJJZCwgcG9zaXRpb24sIG9wdGlvbnMpIHtcbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3RhcmdldCBpcyBtaXNzaW5nJyk7XG4gIH1cblxuICBpZiAoIXByb3ZpZGVySWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb3ZpZGVycyBmb3IgPCcgKyBwcm92aWRlcklkICsgJz4gbm90IGZvdW5kJyk7XG4gIH1cblxuICBpZiAoIXBvc2l0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwb3NpdGlvbiBpcyBtaXNzaW5nJyk7XG4gIH1cblxuICBpZiAodGhpcy5pc09wZW4oKSkge1xuICAgIHRoaXMuY2xvc2UoKTtcbiAgfVxuXG4gIGNvbnN0IHtcbiAgICBlbnRyaWVzLFxuICAgIGhlYWRlckVudHJpZXMsXG4gICAgZW1wdHlQbGFjZWhvbGRlclxuICB9ID0gdGhpcy5fZ2V0Q29udGV4dCh0YXJnZXQsIHByb3ZpZGVySWQpO1xuXG4gIHRoaXMuX2N1cnJlbnQgPSB7XG4gICAgcG9zaXRpb24sXG4gICAgcHJvdmlkZXJJZCxcbiAgICB0YXJnZXQsXG4gICAgZW50cmllcyxcbiAgICBoZWFkZXJFbnRyaWVzLFxuICAgIGVtcHR5UGxhY2Vob2xkZXIsXG4gICAgY29udGFpbmVyOiB0aGlzLl9jcmVhdGVDb250YWluZXIoeyBwcm92aWRlcjogcHJvdmlkZXJJZCB9KSxcbiAgICBvcHRpb25zXG4gIH07XG5cbiAgdGhpcy5fZW1pdCgnb3BlbicpO1xuXG4gIHRoaXMuX2JpbmRBdXRvQ2xvc2UoKTtcblxuICB0aGlzLl9yZW5kZXIoKTtcbn07XG5cbi8qKlxuICogUmVmcmVzaCB0aGUgcG9wdXAgbWVudSBlbnRyaWVzIHdpdGhvdXQgY2hhbmdpbmcgdGhlIHRhcmdldCBvciBwb3NpdGlvbi5cbiAqL1xuUG9wdXBNZW51LnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy5pc09wZW4oKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHtcbiAgICB0YXJnZXQsXG4gICAgcHJvdmlkZXJJZFxuICB9ID0gdGhpcy5fY3VycmVudDtcblxuICBjb25zdCB7XG4gICAgZW50cmllcyxcbiAgICBoZWFkZXJFbnRyaWVzLFxuICAgIGVtcHR5UGxhY2Vob2xkZXJcbiAgfSA9IHRoaXMuX2dldENvbnRleHQodGFyZ2V0LCBwcm92aWRlcklkKTtcblxuICB0aGlzLl9jdXJyZW50ID0ge1xuICAgIC4uLnRoaXMuX2N1cnJlbnQsXG4gICAgZW50cmllcyxcbiAgICBoZWFkZXJFbnRyaWVzLFxuICAgIGVtcHR5UGxhY2Vob2xkZXJcbiAgfTtcblxuICB0aGlzLl9lbWl0KCdyZWZyZXNoJyk7XG5cbiAgdGhpcy5fcmVuZGVyKCk7XG59O1xuXG5cblBvcHVwTWVudS5wcm90b3R5cGUuX2dldENvbnRleHQgPSBmdW5jdGlvbih0YXJnZXQsIHByb3ZpZGVyKSB7XG5cbiAgY29uc3QgcHJvdmlkZXJzID0gdGhpcy5fZ2V0UHJvdmlkZXJzKHByb3ZpZGVyKTtcblxuICBpZiAoIXByb3ZpZGVycyB8fCAhcHJvdmlkZXJzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvdmlkZXIgZm9yIDwnICsgcHJvdmlkZXIgKyAnPiBub3QgZm91bmQnKTtcbiAgfVxuXG4gIGNvbnN0IGVudHJpZXMgPSB0aGlzLl9nZXRFbnRyaWVzKHRhcmdldCwgcHJvdmlkZXJzKTtcblxuICBjb25zdCBoZWFkZXJFbnRyaWVzID0gdGhpcy5fZ2V0SGVhZGVyRW50cmllcyh0YXJnZXQsIHByb3ZpZGVycyk7XG5cbiAgY29uc3QgZW1wdHlQbGFjZWhvbGRlciA9IHRoaXMuX2dldEVtcHR5UGxhY2Vob2xkZXIocHJvdmlkZXJzKTtcblxuICByZXR1cm4ge1xuICAgIGVudHJpZXMsXG4gICAgaGVhZGVyRW50cmllcyxcbiAgICBlbXB0eVBsYWNlaG9sZGVyLFxuICAgIGVtcHR5OiAhKFxuICAgICAgT2JqZWN0LmtleXMoZW50cmllcykubGVuZ3RoIHx8XG4gICAgICAgICAgT2JqZWN0LmtleXMoaGVhZGVyRW50cmllcykubGVuZ3RoXG4gICAgKVxuICB9O1xufTtcblxuUG9wdXBNZW51LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuXG4gIGlmICghdGhpcy5pc09wZW4oKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuX2VtaXQoJ2Nsb3NlJyk7XG5cbiAgdGhpcy5yZXNldCgpO1xuXG4gIHRoaXMuX2NhbnZhcy5yZXN0b3JlRm9jdXMoKTtcblxuICB0aGlzLl9jdXJyZW50ID0gbnVsbDtcbn07XG5cblBvcHVwTWVudS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgY29uc3QgY29udGFpbmVyID0gdGhpcy5fY3VycmVudC5jb250YWluZXI7XG5cbiAgcmVuZGVyKG51bGwsIGNvbnRhaW5lcik7XG5cbiAgZG9tUmVtb3ZlKGNvbnRhaW5lcik7XG59O1xuXG5Qb3B1cE1lbnUucHJvdG90eXBlLl9lbWl0ID0gZnVuY3Rpb24oZXZlbnQsIHBheWxvYWQpIHtcbiAgdGhpcy5fZXZlbnRCdXMuZmlyZShgcG9wdXBNZW51LiR7IGV2ZW50IH1gLCBwYXlsb2FkKTtcbn07XG5cblBvcHVwTWVudS5wcm90b3R5cGUuX29uT3BlbmVkID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2VtaXQoJ29wZW5lZCcpO1xufTtcblxuUG9wdXBNZW51LnByb3RvdHlwZS5fb25DbG9zZWQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fZW1pdCgnY2xvc2VkJyk7XG59O1xuXG5Qb3B1cE1lbnUucHJvdG90eXBlLl9jcmVhdGVDb250YWluZXIgPSBmdW5jdGlvbihjb25maWcpIHtcblxuICB2YXIgY2FudmFzID0gdGhpcy5fY2FudmFzLFxuICAgICAgcGFyZW50ID0gY2FudmFzLmdldENvbnRhaW5lcigpO1xuXG4gIGNvbnN0IGNvbnRhaW5lciA9IGRvbWlmeShgPGRpdiBjbGFzcz1cImRqcy1wb3B1cC1wYXJlbnQgZGpzLXNjcm9sbGFibGVcIiBkYXRhLXBvcHVwPSR7Y29uZmlnLnByb3ZpZGVyfT48L2Rpdj5gKTtcblxuICBwYXJlbnQuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblxuICByZXR1cm4gY29udGFpbmVyO1xufTtcblxuLyoqXG4gKiBTZXQgdXAgbGlzdGVuZXIgdG8gY2xvc2UgcG9wdXAgYXV0b21hdGljYWxseSBvbiBjZXJ0YWluIGV2ZW50cy5cbiAqL1xuUG9wdXBNZW51LnByb3RvdHlwZS5fYmluZEF1dG9DbG9zZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9ldmVudEJ1cy5vbmNlKENMT1NFX0VWRU5UUywgdGhpcy5jbG9zZSwgdGhpcyk7XG59O1xuXG5cbi8qKlxuICogUmVtb3ZlIHRoZSBhdXRvLWNsb3NpbmcgbGlzdGVuZXIuXG4qL1xuUG9wdXBNZW51LnByb3RvdHlwZS5fdW5iaW5kQXV0b0Nsb3NlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2V2ZW50QnVzLm9mZihDTE9TRV9FVkVOVFMsIHRoaXMuY2xvc2UsIHRoaXMpO1xufTtcblxuXG4vKipcbiAqIFVwZGF0ZXMgcG9wdXAgc3R5bGUudHJhbnNmb3JtIHdpdGggcmVzcGVjdCB0byB0aGUgY29uZmlnIGFuZCB6b29tIGxldmVsLlxuICpcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuUG9wdXBNZW51LnByb3RvdHlwZS5fdXBkYXRlU2NhbGUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHpvb20gPSB0aGlzLl9jYW52YXMuem9vbSgpO1xuXG4gIHZhciBzY2FsZUNvbmZpZyA9IHRoaXMuX2NvbmZpZy5zY2FsZSxcbiAgICAgIG1pblNjYWxlLFxuICAgICAgbWF4U2NhbGUsXG4gICAgICBzY2FsZSA9IHpvb207XG5cbiAgaWYgKHNjYWxlQ29uZmlnICE9PSB0cnVlKSB7XG5cbiAgICBpZiAoc2NhbGVDb25maWcgPT09IGZhbHNlKSB7XG4gICAgICBtaW5TY2FsZSA9IDE7XG4gICAgICBtYXhTY2FsZSA9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1pblNjYWxlID0gc2NhbGVDb25maWcubWluO1xuICAgICAgbWF4U2NhbGUgPSBzY2FsZUNvbmZpZy5tYXg7XG4gICAgfVxuXG4gICAgaWYgKGlzRGVmaW5lZChtaW5TY2FsZSkgJiYgem9vbSA8IG1pblNjYWxlKSB7XG4gICAgICBzY2FsZSA9IG1pblNjYWxlO1xuICAgIH1cblxuICAgIGlmIChpc0RlZmluZWQobWF4U2NhbGUpICYmIHpvb20gPiBtYXhTY2FsZSkge1xuICAgICAgc2NhbGUgPSBtYXhTY2FsZTtcbiAgICB9XG5cbiAgfVxuXG4gIHJldHVybiBzY2FsZTtcbn07XG5cblBvcHVwTWVudS5wcm90b3R5cGUuX2Vuc3VyZVZpc2libGUgPSBmdW5jdGlvbihjb250YWluZXIsIHBvc2l0aW9uKSB7XG4gIHZhciBkb2N1bWVudEJvdW5kcyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgdmFyIGNvbnRhaW5lckJvdW5kcyA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICB2YXIgb3ZlckF4aXMgPSB7fSxcbiAgICAgIGxlZnQgPSBwb3NpdGlvbi54LFxuICAgICAgdG9wID0gcG9zaXRpb24ueTtcblxuICBpZiAocG9zaXRpb24ueCArIGNvbnRhaW5lckJvdW5kcy53aWR0aCA+IGRvY3VtZW50Qm91bmRzLndpZHRoKSB7XG4gICAgb3ZlckF4aXMueCA9IHRydWU7XG4gIH1cblxuICBpZiAocG9zaXRpb24ueSArIGNvbnRhaW5lckJvdW5kcy5oZWlnaHQgPiBkb2N1bWVudEJvdW5kcy5oZWlnaHQpIHtcbiAgICBvdmVyQXhpcy55ID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChvdmVyQXhpcy54ICYmIG92ZXJBeGlzLnkpIHtcbiAgICBsZWZ0ID0gcG9zaXRpb24ueCAtIGNvbnRhaW5lckJvdW5kcy53aWR0aDtcbiAgICB0b3AgPSBwb3NpdGlvbi55IC0gY29udGFpbmVyQm91bmRzLmhlaWdodDtcbiAgfSBlbHNlIGlmIChvdmVyQXhpcy54KSB7XG4gICAgbGVmdCA9IHBvc2l0aW9uLnggLSBjb250YWluZXJCb3VuZHMud2lkdGg7XG4gICAgdG9wID0gcG9zaXRpb24ueTtcbiAgfSBlbHNlIGlmIChvdmVyQXhpcy55ICYmIHBvc2l0aW9uLnkgPCBjb250YWluZXJCb3VuZHMuaGVpZ2h0KSB7XG4gICAgbGVmdCA9IHBvc2l0aW9uLng7XG4gICAgdG9wID0gMTA7XG4gIH0gZWxzZSBpZiAob3ZlckF4aXMueSkge1xuICAgIGxlZnQgPSBwb3NpdGlvbi54O1xuICAgIHRvcCA9IHBvc2l0aW9uLnkgLSBjb250YWluZXJCb3VuZHMuaGVpZ2h0O1xuICB9XG5cbiAgLy8gdW5kZXJBeGlzXG4gIGlmIChwb3NpdGlvbi55IDwgZG9jdW1lbnRCb3VuZHMudG9wKSB7XG4gICAgdG9wID0gcG9zaXRpb24ueSArIGNvbnRhaW5lckJvdW5kcy5oZWlnaHQ7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHg6IGxlZnQsXG4gICAgeTogdG9wXG4gIH07XG59O1xuXG4vKipcbiAqIENoZWNrIHdoZXRoZXIgdGhlcmUgYXJlIG5vIHBvcHVwIG1lbnUgcHJvdmlkZXJzIG9yIHByb3ZpZGVkIGVudHJpZXMgZm9yIHRoZVxuICogZ2l2ZW4gdGFyZ2V0LlxuICpcbiAqIEBwYXJhbSB7UG9wdXBNZW51VGFyZ2V0fSB0YXJnZXRcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm92aWRlcklkXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuUG9wdXBNZW51LnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24odGFyZ2V0LCBwcm92aWRlcklkKSB7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd0YXJnZXQgaXMgbWlzc2luZycpO1xuICB9XG5cbiAgaWYgKCFwcm92aWRlcklkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm92aWRlciBJRCBpcyBtaXNzaW5nJyk7XG4gIH1cblxuICBjb25zdCBwcm92aWRlcnMgPSB0aGlzLl9nZXRQcm92aWRlcnMocHJvdmlkZXJJZCk7XG5cbiAgaWYgKCFwcm92aWRlcnMgfHwgIXByb3ZpZGVycy5sZW5ndGgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLl9nZXRDb250ZXh0KHRhcmdldCwgcHJvdmlkZXJJZCkuZW1wdHk7XG59O1xuXG4vKipcbiAqIEBvdmVybG9yZFxuICpcbiAqIFJlZ2lzdGVyIGEgcG9wdXAgbWVudSBwcm92aWRlciB3aXRoIGRlZmF1bHQgcHJpb3JpdHkuIFNlZVxuICoge0BsaW5rIFBvcHVwTWVudVByb3ZpZGVyfSBmb3IgZXhhbXBsZXMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKiBAcGFyYW0ge1BvcHVwTWVudVByb3ZpZGVyfSBwcm92aWRlclxuICovXG5cbi8qKlxuICogUmVnaXN0ZXIgYSBwb3B1cCBtZW51IHByb3ZpZGVyIHdpdGggdGhlIGdpdmVuIHByaW9yaXR5LiBTZWVcbiAqIHtAbGluayBQb3B1cE1lbnVQcm92aWRlcn0gZm9yIGV4YW1wbGVzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICogQHBhcmFtIHtudW1iZXJ9IHByaW9yaXR5XG4gKiBAcGFyYW0ge1BvcHVwTWVudVByb3ZpZGVyfSBwcm92aWRlclxuICovXG5Qb3B1cE1lbnUucHJvdG90eXBlLnJlZ2lzdGVyUHJvdmlkZXIgPSBmdW5jdGlvbihpZCwgcHJpb3JpdHksIHByb3ZpZGVyKSB7XG4gIGlmICghcHJvdmlkZXIpIHtcbiAgICBwcm92aWRlciA9IHByaW9yaXR5O1xuICAgIHByaW9yaXR5ID0gREVGQVVMVF9QUklPUklUWTtcbiAgfVxuXG4gIHRoaXMuX2V2ZW50QnVzLm9uKCdwb3B1cE1lbnUuZ2V0UHJvdmlkZXJzLicgKyBpZCwgcHJpb3JpdHksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgZXZlbnQucHJvdmlkZXJzLnB1c2gocHJvdmlkZXIpO1xuICB9KTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKlxuICogQHJldHVybiB7UG9wdXBNZW51UHJvdmlkZXJbXX1cbiAqL1xuUG9wdXBNZW51LnByb3RvdHlwZS5fZ2V0UHJvdmlkZXJzID0gZnVuY3Rpb24oaWQpIHtcbiAgdmFyIGV2ZW50ID0gdGhpcy5fZXZlbnRCdXMuY3JlYXRlRXZlbnQoe1xuICAgIHR5cGU6ICdwb3B1cE1lbnUuZ2V0UHJvdmlkZXJzLicgKyBpZCxcbiAgICBwcm92aWRlcnM6IFtdXG4gIH0pO1xuXG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoZXZlbnQpO1xuXG4gIHJldHVybiBldmVudC5wcm92aWRlcnM7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7UG9wdXBNZW51VGFyZ2V0fSB0YXJnZXRcbiAqIEBwYXJhbSB7UG9wdXBNZW51UHJvdmlkZXJbXX0gcHJvdmlkZXJzXG4gKlxuICogQHJldHVybiB7UG9wdXBNZW51RW50cmllc31cbiAqL1xuUG9wdXBNZW51LnByb3RvdHlwZS5fZ2V0RW50cmllcyA9IGZ1bmN0aW9uKHRhcmdldCwgcHJvdmlkZXJzKSB7XG4gIHZhciBlbnRyaWVzID0ge307XG5cbiAgZm9yRWFjaChwcm92aWRlcnMsIGZ1bmN0aW9uKHByb3ZpZGVyKSB7XG5cbiAgICAvLyBoYW5kbGUgbGVnYWN5IG1ldGhvZFxuICAgIGlmICghcHJvdmlkZXIuZ2V0UG9wdXBNZW51RW50cmllcykge1xuICAgICAgZm9yRWFjaChwcm92aWRlci5nZXRFbnRyaWVzKHRhcmdldCksIGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgICAgIHZhciBpZCA9IGVudHJ5LmlkO1xuXG4gICAgICAgIGlmICghaWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2VudHJ5IElEIGlzIG1pc3NpbmcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVudHJpZXNbaWRdID0gb21pdChlbnRyeSwgWyAnaWQnIF0pO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZW50cmllc09yVXBkYXRlciA9IHByb3ZpZGVyLmdldFBvcHVwTWVudUVudHJpZXModGFyZ2V0KTtcblxuICAgIGlmIChpc0Z1bmN0aW9uKGVudHJpZXNPclVwZGF0ZXIpKSB7XG4gICAgICBlbnRyaWVzID0gZW50cmllc09yVXBkYXRlcihlbnRyaWVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yRWFjaChlbnRyaWVzT3JVcGRhdGVyLCBmdW5jdGlvbihlbnRyeSwgaWQpIHtcbiAgICAgICAgZW50cmllc1tpZF0gPSBlbnRyeTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGVudHJpZXM7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7UG9wdXBNZW51VGFyZ2V0fSB0YXJnZXRcbiAqIEBwYXJhbSB7UG9wdXBNZW51UHJvdmlkZXJbXX0gcHJvdmlkZXJzXG4gKlxuICogQHJldHVybiB7UG9wdXBNZW51SGVhZGVyRW50cmllc31cbiAqL1xuUG9wdXBNZW51LnByb3RvdHlwZS5fZ2V0SGVhZGVyRW50cmllcyA9IGZ1bmN0aW9uKHRhcmdldCwgcHJvdmlkZXJzKSB7XG4gIHZhciBlbnRyaWVzID0ge307XG5cbiAgZm9yRWFjaChwcm92aWRlcnMsIGZ1bmN0aW9uKHByb3ZpZGVyKSB7XG5cbiAgICAvLyBoYW5kbGUgbGVnYWN5IG1ldGhvZFxuICAgIGlmICghcHJvdmlkZXIuZ2V0UG9wdXBNZW51SGVhZGVyRW50cmllcykge1xuICAgICAgaWYgKCFwcm92aWRlci5nZXRIZWFkZXJFbnRyaWVzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZm9yRWFjaChwcm92aWRlci5nZXRIZWFkZXJFbnRyaWVzKHRhcmdldCksIGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgICAgIHZhciBpZCA9IGVudHJ5LmlkO1xuXG4gICAgICAgIGlmICghaWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2VudHJ5IElEIGlzIG1pc3NpbmcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVudHJpZXNbaWRdID0gb21pdChlbnRyeSwgWyAnaWQnIF0pO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZW50cmllc09yVXBkYXRlciA9IHByb3ZpZGVyLmdldFBvcHVwTWVudUhlYWRlckVudHJpZXModGFyZ2V0KTtcblxuICAgIGlmIChpc0Z1bmN0aW9uKGVudHJpZXNPclVwZGF0ZXIpKSB7XG4gICAgICBlbnRyaWVzID0gZW50cmllc09yVXBkYXRlcihlbnRyaWVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yRWFjaChlbnRyaWVzT3JVcGRhdGVyLCBmdW5jdGlvbihlbnRyeSwgaWQpIHtcbiAgICAgICAgZW50cmllc1tpZF0gPSBlbnRyeTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGVudHJpZXM7XG59O1xuXG5cblBvcHVwTWVudS5wcm90b3R5cGUuX2dldEVtcHR5UGxhY2Vob2xkZXIgPSBmdW5jdGlvbihwcm92aWRlcnMpIHtcbiAgY29uc3QgcHJvdmlkZXIgPSBwcm92aWRlcnMuZmluZChcbiAgICBwcm92aWRlciA9PiBpc0Z1bmN0aW9uKHByb3ZpZGVyLmdldEVtcHR5UGxhY2Vob2xkZXIpXG4gICk7XG5cbiAgcmV0dXJuIHByb3ZpZGVyICYmIHByb3ZpZGVyLmdldEVtcHR5UGxhY2Vob2xkZXIoKTtcbn07XG5cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgcG9wdXAgbWVudSBpcyBvcGVuLlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cblBvcHVwTWVudS5wcm90b3R5cGUuaXNPcGVuID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAhIXRoaXMuX2N1cnJlbnQ7XG59O1xuXG5cbi8qKlxuICogVHJpZ2dlciBhbiBhY3Rpb24gYXNzb2NpYXRlZCB3aXRoIGFuIGVudHJ5LlxuICpcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gKiBAcGFyYW0ge1BvcHVwTWVudUVudHJ5fSBlbnRyeVxuICogQHBhcmFtIHtzdHJpbmd9IFthY3Rpb249J2NsaWNrJ11cbiAqXG4gKiBAcmV0dXJuIHthbnl9XG4gKi9cblBvcHVwTWVudS5wcm90b3R5cGUudHJpZ2dlciA9IGZ1bmN0aW9uKGV2ZW50LCBlbnRyeSwgYWN0aW9uID0gJ2NsaWNrJykge1xuXG4gIC8vIHNpbGVuY2Ugb3RoZXIgYWN0aW9uc1xuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIGlmICghZW50cnkpIHtcbiAgICBsZXQgZWxlbWVudCA9IGRvbUNsb3Nlc3QoZXZlbnQuZGVsZWdhdGVUYXJnZXQgfHwgZXZlbnQudGFyZ2V0LCAnLmVudHJ5JywgdHJ1ZSk7XG4gICAgbGV0IGVudHJ5SWQgPSBkb21BdHRyKGVsZW1lbnQsIERBVEFfUkVGKTtcblxuICAgIGVudHJ5ID0geyBpZDogZW50cnlJZCwgLi4udGhpcy5fZ2V0RW50cnkoZW50cnlJZCkgfTtcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZXIgPSBlbnRyeS5hY3Rpb247XG5cbiAgaWYgKHRoaXMuX2VtaXQoJ3RyaWdnZXInLCB7IGVudHJ5LCBldmVudCB9KSA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgIGlmIChhY3Rpb24gPT09ICdjbGljaycpIHtcbiAgICAgIHJldHVybiBoYW5kbGVyKGV2ZW50LCBlbnRyeSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChoYW5kbGVyW2FjdGlvbl0pIHtcbiAgICAgIHJldHVybiBoYW5kbGVyW2FjdGlvbl0oZXZlbnQsIGVudHJ5KTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogR2V0IHRoZSBlbnRyeSAoZW50cnkgb3IgaGVhZGVyIGVudHJ5KSB3aXRoIHRoZSBnaXZlbiBJRC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZW50cnlJZFxuICpcbiAqIEByZXR1cm4ge1BvcHVwTWVudUVudHJ5fFBvcHVwTWVudUhlYWRlckVudHJ5fVxuICovXG5Qb3B1cE1lbnUucHJvdG90eXBlLl9nZXRFbnRyeSA9IGZ1bmN0aW9uKGVudHJ5SWQpIHtcblxuICB2YXIgZW50cnkgPSB0aGlzLl9jdXJyZW50LmVudHJpZXNbIGVudHJ5SWQgXSB8fCB0aGlzLl9jdXJyZW50LmhlYWRlckVudHJpZXNbIGVudHJ5SWQgXTtcblxuXG4gIGlmICghZW50cnkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2VudHJ5IG5vdCBmb3VuZCcpO1xuICB9XG5cbiAgcmV0dXJuIGVudHJ5O1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/popup-menu/PopupMenu.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/popup-menu/PopupMenuComponent.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/popup-menu/PopupMenuComponent.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PopupMenuComponent)\n/* harmony export */ });\n/* harmony import */ var _ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ui */ \"(ssr)/./node_modules/preact/hooks/dist/hooks.mjs\");\n/* harmony import */ var _ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ui */ \"(ssr)/./node_modules/htm/preact/index.mjs\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! min-dom */ \"(ssr)/./node_modules/min-dom/dist/index.esm.js\");\n/* harmony import */ var _PopupMenuHeader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./PopupMenuHeader */ \"(ssr)/./node_modules/diagram-js/lib/features/popup-menu/PopupMenuHeader.js\");\n/* harmony import */ var _PopupMenuList__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./PopupMenuList */ \"(ssr)/./node_modules/diagram-js/lib/features/popup-menu/PopupMenuList.js\");\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ \"(ssr)/./node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('./PopupMenuProvider').PopupMenuEntry} PopupMenuEntry\n * @typedef {import('./PopupMenuProvider').PopupMenuHeaderEntry} PopupMenuHeaderEntry\n * @typedef {import('./PopupMenuProvider').PopupMenuEmptyPlaceholderProvider | import('./PopupMenuProvider').PopupMenuEmptyPlaceholder} PopupMenuEmptyPlaceholder\n *\n * @typedef {import('../search/search').default} search\n *\n * @typedef {import('../../util/Types').Point} Point\n */\n\n/**\n * A component that renders the popup menus.\n *\n * @param {Object} props\n * @param {() => void} props.onClose\n * @param {() => void} props.onSelect\n * @param {(element: HTMLElement) => Point} props.position\n * @param {string} props.className\n * @param {PopupMenuEntry[]} props.entries\n * @param {PopupMenuHeaderEntry[]} props.headerEntries\n * @param {number} props.scale\n * @param {string} [props.title]\n * @param {boolean} [props.search]\n * @param {PopupMenuEmptyPlaceholder} [props.emptyPlaceholder]\n * @param {number} [props.width]\n * @param {search} props.searchFn\n */\nfunction PopupMenuComponent(props) {\n  const {\n    onClose,\n    onSelect,\n    className,\n    headerEntries,\n    position,\n    title,\n    width,\n    scale,\n    search,\n    emptyPlaceholder,\n    searchFn,\n    entries: originalEntries,\n    onOpened,\n    onClosed\n  } = props;\n\n  const searchable = (0,_ui__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isDefined)(search)) {\n      return false;\n    }\n\n    return originalEntries.length > 5;\n  }, [ search, originalEntries ]);\n\n  const [ searchValue, setSearchValue ] = (0,_ui__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n\n  const filterEntries = (0,_ui__WEBPACK_IMPORTED_MODULE_1__.useCallback)((originalEntries, searchValue) => {\n\n    if (!searchable) {\n      return originalEntries;\n    }\n\n    if (!searchValue.trim()) {\n      return originalEntries.filter(({ rank = 0 }) => rank >= 0);\n    }\n\n    const searchableEntries = originalEntries.filter(({ searchable }) => searchable !== false);\n\n    return searchFn(searchableEntries, searchValue, {\n      keys: [\n        'label',\n        'search',\n        'description'\n      ]\n    }).map(({ item }) => item);\n  }, [ searchable ]);\n\n  const [ entries, setEntries ] = (0,_ui__WEBPACK_IMPORTED_MODULE_1__.useState)(filterEntries(originalEntries, searchValue));\n  const [ selectedEntry, setSelectedEntry ] = (0,_ui__WEBPACK_IMPORTED_MODULE_1__.useState)(entries[0]);\n\n  const updateEntries = (0,_ui__WEBPACK_IMPORTED_MODULE_1__.useCallback)((newEntries) => {\n\n    // always select first\n    setSelectedEntry(newEntries[0]);\n\n    setEntries(newEntries);\n  }, [ selectedEntry, setEntries, setSelectedEntry ]);\n\n  // filter entries on search value change\n  (0,_ui__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    updateEntries(filterEntries(originalEntries, searchValue));\n  }, [ searchValue, originalEntries ]);\n\n  // handle keyboard seleciton\n  const keyboardSelect = (0,_ui__WEBPACK_IMPORTED_MODULE_1__.useCallback)(direction => {\n    const idx = entries.indexOf(selectedEntry);\n\n    let nextIdx = idx + direction;\n\n    if (nextIdx < 0) {\n      nextIdx = entries.length - 1;\n    }\n\n    if (nextIdx >= entries.length) {\n      nextIdx = 0;\n    }\n\n    setSelectedEntry(entries[nextIdx]);\n  }, [ entries, selectedEntry, setSelectedEntry ]);\n\n  const handleKeyDown = (0,_ui__WEBPACK_IMPORTED_MODULE_1__.useCallback)(event => {\n    if (event.key === 'Enter' && selectedEntry) {\n      return onSelect(event, selectedEntry);\n    }\n\n    // ARROW_UP\n    if (event.key === 'ArrowUp') {\n      keyboardSelect(-1);\n\n      return event.preventDefault();\n    }\n\n    // ARROW_DOWN\n    if (event.key === 'ArrowDown') {\n      keyboardSelect(1);\n\n      return event.preventDefault();\n    }\n  }, [ onSelect, selectedEntry, keyboardSelect ]);\n\n  const handleKey = (0,_ui__WEBPACK_IMPORTED_MODULE_1__.useCallback)(event => {\n    if ((0,min_dom__WEBPACK_IMPORTED_MODULE_3__.matches)(event.target, 'input')) {\n      setSearchValue(() => event.target.value);\n    }\n  }, [ setSearchValue ]);\n\n  (0,_ui__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    onOpened();\n\n    return () => {\n      onClosed();\n    };\n  }, []);\n\n  const displayHeader = (0,_ui__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => title || headerEntries.length > 0, [ title, headerEntries ]);\n\n  return (0,_ui__WEBPACK_IMPORTED_MODULE_4__.html)`\n    <${PopupMenuWrapper}\n      onClose=${ onClose }\n      onKeyup=${ handleKey }\n      onKeydown=${ handleKeyDown }\n      className=${ className }\n      position=${ position }\n      width=${ width }\n      scale=${ scale }\n    >\n      ${ displayHeader && (0,_ui__WEBPACK_IMPORTED_MODULE_4__.html)`\n        <${_PopupMenuHeader__WEBPACK_IMPORTED_MODULE_5__[\"default\"]}\n          headerEntries=${ headerEntries }\n          onSelect=${ onSelect }\n          selectedEntry=${ selectedEntry }\n          setSelectedEntry=${ setSelectedEntry }\n          title=${ title }\n        />\n      ` }\n      ${ originalEntries.length > 0 && (0,_ui__WEBPACK_IMPORTED_MODULE_4__.html)`\n        <div class=\"djs-popup-body\">\n\n          ${ searchable && (0,_ui__WEBPACK_IMPORTED_MODULE_4__.html)`\n          <div class=\"djs-popup-search\">\n            <svg class=\"djs-popup-search-icon\" width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z\" fill=\"#22242A\"/>\n            </svg>\n            <input type=\"text\" spellcheck=${ false } aria-label=\"${ title }\" />\n          </div>\n          ` }\n\n          <${_PopupMenuList__WEBPACK_IMPORTED_MODULE_6__[\"default\"]}\n            entries=${ entries }\n            selectedEntry=${ selectedEntry }\n            setSelectedEntry=${ setSelectedEntry }\n            onAction=${ onSelect }\n          />\n        </div>\n      ` }\n    ${ emptyPlaceholder && entries.length === 0 && (0,_ui__WEBPACK_IMPORTED_MODULE_4__.html)`\n      <div class=\"djs-popup-no-results\">${ (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(emptyPlaceholder) ? emptyPlaceholder(searchValue) : emptyPlaceholder }</div>\n    ` }\n    </${PopupMenuWrapper}>\n  `;\n}\n\n/**\n * A component that wraps the popup menu.\n *\n * @param {*} props\n */\nfunction PopupMenuWrapper(props) {\n  const {\n    onClose,\n    onKeydown,\n    onKeyup,\n    className,\n    children,\n    position: positionGetter\n  } = props;\n\n  const popupRef = (0,_ui__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n\n  // initial position\n  (0,_ui__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(() => {\n    if (typeof positionGetter !== 'function') {\n      return;\n    }\n\n    const popupEl = popupRef.current;\n    const position = positionGetter(popupEl);\n\n    popupEl.style.left = `${position.x}px`;\n    popupEl.style.top = `${position.y}px`;\n  }, [ popupRef.current, positionGetter ]);\n\n  // initial focus\n  (0,_ui__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(() => {\n    const popupEl = popupRef.current;\n\n    if (!popupEl) {\n      return;\n    }\n\n    const inputEl = popupEl.querySelector('input');\n\n    (inputEl || popupEl).focus();\n  }, []);\n\n  // global <Escape> / blur handlers\n  (0,_ui__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const handleKeyDown = event => {\n      if (event.key === 'Escape') {\n        event.preventDefault();\n\n        return onClose();\n      }\n    };\n\n    const handleClick = event => {\n      const popup = (0,min_dom__WEBPACK_IMPORTED_MODULE_3__.closest)(event.target, '.djs-popup', true);\n\n      if (popup) {\n        return;\n      }\n\n      return onClose();\n    };\n\n    document.documentElement.addEventListener('keydown', handleKeyDown);\n    document.body.addEventListener('click', handleClick);\n\n    return () => {\n      document.documentElement.removeEventListener('keydown', handleKeyDown);\n      document.body.removeEventListener('click', handleClick);\n    };\n  }, []);\n\n  return (0,_ui__WEBPACK_IMPORTED_MODULE_4__.html)`\n    <div\n      class=${ (0,clsx__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('djs-popup', className) }\n      style=${ getPopupStyle(props) }\n      onKeydown=${ onKeydown }\n      onKeyup=${ onKeyup }\n      ref=${ popupRef }\n      tabIndex=\"-1\"\n    >\n      ${ children }\n    </div>\n  `;\n}\n\n// helpers //////////////////////\n\nfunction getPopupStyle(props) {\n  return {\n    transform: `scale(${props.scale})`,\n    width: `${props.width}px`,\n    'transform-origin': 'top left'\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcG9wdXAtbWVudS9Qb3B1cE1lbnVDb21wb25lbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFRa0I7O0FBS0Q7O0FBRStCO0FBQ0o7QUFDZDtBQUNtQjs7QUFFakQ7QUFDQSxhQUFhLDhDQUE4QztBQUMzRCxhQUFhLG9EQUFvRDtBQUNqRSxhQUFhLDJIQUEySDtBQUN4STtBQUNBLGFBQWEsb0NBQW9DO0FBQ2pEO0FBQ0EsYUFBYSxrQ0FBa0M7QUFDL0M7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsWUFBWTtBQUN2QixXQUFXLFlBQVk7QUFDdkIsV0FBVyxpQ0FBaUM7QUFDNUMsV0FBVyxRQUFRO0FBQ25CLFdBQVcsa0JBQWtCO0FBQzdCLFdBQVcsd0JBQXdCO0FBQ25DLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsMkJBQTJCO0FBQ3RDLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUoscUJBQXFCLDRDQUFPO0FBQzVCLFNBQVMsbURBQVM7QUFDbEI7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUgsMENBQTBDLDZDQUFROztBQUVsRCx3QkFBd0IsZ0RBQVc7O0FBRW5DO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVDQUF1QyxVQUFVO0FBQ2pEOztBQUVBLHdEQUF3RCxZQUFZOztBQUVwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFNBQVMsTUFBTTtBQUNwQixHQUFHOztBQUVILGtDQUFrQyw2Q0FBUTtBQUMxQyw4Q0FBOEMsNkNBQVE7O0FBRXRELHdCQUF3QixnREFBVzs7QUFFbkM7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxFQUFFLDhDQUFTO0FBQ1g7QUFDQSxHQUFHOztBQUVIO0FBQ0EseUJBQXlCLGdEQUFXO0FBQ3BDOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVILHdCQUF3QixnREFBVztBQUNuQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVILG9CQUFvQixnREFBVztBQUMvQixRQUFRLGdEQUFVO0FBQ2xCO0FBQ0E7QUFDQSxHQUFHOztBQUVILEVBQUUsOENBQVM7QUFDWDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVILHdCQUF3Qiw0Q0FBTzs7QUFFL0IsU0FBUyx5Q0FBSTtBQUNiLE9BQU87QUFDUCxpQkFBaUI7QUFDakIsaUJBQWlCO0FBQ2pCLG1CQUFtQjtBQUNuQixtQkFBbUI7QUFDbkIsa0JBQWtCO0FBQ2xCLGVBQWU7QUFDZixlQUFlO0FBQ2Y7QUFDQSxTQUFTLGlCQUFpQix5Q0FBSTtBQUM5QixXQUFXLHdEQUFlO0FBQzFCLDJCQUEyQjtBQUMzQixzQkFBc0I7QUFDdEIsMkJBQTJCO0FBQzNCLDhCQUE4QjtBQUM5QixtQkFBbUI7QUFDbkI7QUFDQTtBQUNBLFNBQVMsOEJBQThCLHlDQUFJO0FBQzNDOztBQUVBLGFBQWEsY0FBYyx5Q0FBSTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxRQUFRLGVBQWUsT0FBTztBQUMzRTtBQUNBOztBQUVBLGFBQWEsc0RBQWE7QUFDMUIsdUJBQXVCO0FBQ3ZCLDZCQUE2QjtBQUM3QixnQ0FBZ0M7QUFDaEMsd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLE9BQU8sNENBQTRDLHlDQUFJO0FBQ3ZELDJDQUEyQyxvREFBVSx1RUFBdUU7QUFDNUg7QUFDQSxRQUFRLGlCQUFpQjtBQUN6QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUosbUJBQW1CLDJDQUFNOztBQUV6QjtBQUNBLEVBQUUsb0RBQWU7QUFDakI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsNEJBQTRCLFdBQVc7QUFDdkMsMkJBQTJCLFdBQVc7QUFDdEMsR0FBRzs7QUFFSDtBQUNBLEVBQUUsb0RBQWU7QUFDakI7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLEVBQUUsOENBQVM7QUFDWDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0JBQW9CLGdEQUFVOztBQUU5QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxTQUFTLHlDQUFJO0FBQ2I7QUFDQSxlQUFlLGdEQUFVO0FBQ3pCLGVBQWU7QUFDZixtQkFBbUI7QUFDbkIsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0Esd0JBQXdCLFlBQVk7QUFDcEMsY0FBYyxZQUFZO0FBQzFCO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9wb3B1cC1tZW51L1BvcHVwTWVudUNvbXBvbmVudC5qcz85Y2NmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHVzZUVmZmVjdCxcbiAgdXNlUmVmLFxuICB1c2VTdGF0ZSxcbiAgdXNlTGF5b3V0RWZmZWN0LFxuICBodG1sLFxuICB1c2VNZW1vLFxuICB1c2VDYWxsYmFja1xufSBmcm9tICcuLi8uLi91aSc7XG5cbmltcG9ydCB7XG4gIGNsb3Nlc3QgYXMgZG9tQ2xvc2VzdCxcbiAgbWF0Y2hlcyBhcyBkb21NYXRjaGVzXG59IGZyb20gJ21pbi1kb20nO1xuXG5pbXBvcnQgUG9wdXBNZW51SGVhZGVyIGZyb20gJy4vUG9wdXBNZW51SGVhZGVyJztcbmltcG9ydCBQb3B1cE1lbnVMaXN0IGZyb20gJy4vUG9wdXBNZW51TGlzdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbHN4JztcbmltcG9ydCB7IGlzRGVmaW5lZCwgaXNGdW5jdGlvbiB9IGZyb20gJ21pbi1kYXNoJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuL1BvcHVwTWVudVByb3ZpZGVyJykuUG9wdXBNZW51RW50cnl9IFBvcHVwTWVudUVudHJ5XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuL1BvcHVwTWVudVByb3ZpZGVyJykuUG9wdXBNZW51SGVhZGVyRW50cnl9IFBvcHVwTWVudUhlYWRlckVudHJ5XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuL1BvcHVwTWVudVByb3ZpZGVyJykuUG9wdXBNZW51RW1wdHlQbGFjZWhvbGRlclByb3ZpZGVyIHwgaW1wb3J0KCcuL1BvcHVwTWVudVByb3ZpZGVyJykuUG9wdXBNZW51RW1wdHlQbGFjZWhvbGRlcn0gUG9wdXBNZW51RW1wdHlQbGFjZWhvbGRlclxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3NlYXJjaC9zZWFyY2gnKS5kZWZhdWx0fSBzZWFyY2hcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi91dGlsL1R5cGVzJykuUG9pbnR9IFBvaW50XG4gKi9cblxuLyoqXG4gKiBBIGNvbXBvbmVudCB0aGF0IHJlbmRlcnMgdGhlIHBvcHVwIG1lbnVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wc1xuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBwcm9wcy5vbkNsb3NlXG4gKiBAcGFyYW0geygpID0+IHZvaWR9IHByb3BzLm9uU2VsZWN0XG4gKiBAcGFyYW0geyhlbGVtZW50OiBIVE1MRWxlbWVudCkgPT4gUG9pbnR9IHByb3BzLnBvc2l0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcHMuY2xhc3NOYW1lXG4gKiBAcGFyYW0ge1BvcHVwTWVudUVudHJ5W119IHByb3BzLmVudHJpZXNcbiAqIEBwYXJhbSB7UG9wdXBNZW51SGVhZGVyRW50cnlbXX0gcHJvcHMuaGVhZGVyRW50cmllc1xuICogQHBhcmFtIHtudW1iZXJ9IHByb3BzLnNjYWxlXG4gKiBAcGFyYW0ge3N0cmluZ30gW3Byb3BzLnRpdGxlXVxuICogQHBhcmFtIHtib29sZWFufSBbcHJvcHMuc2VhcmNoXVxuICogQHBhcmFtIHtQb3B1cE1lbnVFbXB0eVBsYWNlaG9sZGVyfSBbcHJvcHMuZW1wdHlQbGFjZWhvbGRlcl1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJvcHMud2lkdGhdXG4gKiBAcGFyYW0ge3NlYXJjaH0gcHJvcHMuc2VhcmNoRm5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUG9wdXBNZW51Q29tcG9uZW50KHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBvbkNsb3NlLFxuICAgIG9uU2VsZWN0LFxuICAgIGNsYXNzTmFtZSxcbiAgICBoZWFkZXJFbnRyaWVzLFxuICAgIHBvc2l0aW9uLFxuICAgIHRpdGxlLFxuICAgIHdpZHRoLFxuICAgIHNjYWxlLFxuICAgIHNlYXJjaCxcbiAgICBlbXB0eVBsYWNlaG9sZGVyLFxuICAgIHNlYXJjaEZuLFxuICAgIGVudHJpZXM6IG9yaWdpbmFsRW50cmllcyxcbiAgICBvbk9wZW5lZCxcbiAgICBvbkNsb3NlZFxuICB9ID0gcHJvcHM7XG5cbiAgY29uc3Qgc2VhcmNoYWJsZSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghaXNEZWZpbmVkKHNlYXJjaCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3JpZ2luYWxFbnRyaWVzLmxlbmd0aCA+IDU7XG4gIH0sIFsgc2VhcmNoLCBvcmlnaW5hbEVudHJpZXMgXSk7XG5cbiAgY29uc3QgWyBzZWFyY2hWYWx1ZSwgc2V0U2VhcmNoVmFsdWUgXSA9IHVzZVN0YXRlKCcnKTtcblxuICBjb25zdCBmaWx0ZXJFbnRyaWVzID0gdXNlQ2FsbGJhY2soKG9yaWdpbmFsRW50cmllcywgc2VhcmNoVmFsdWUpID0+IHtcblxuICAgIGlmICghc2VhcmNoYWJsZSkge1xuICAgICAgcmV0dXJuIG9yaWdpbmFsRW50cmllcztcbiAgICB9XG5cbiAgICBpZiAoIXNlYXJjaFZhbHVlLnRyaW0oKSkge1xuICAgICAgcmV0dXJuIG9yaWdpbmFsRW50cmllcy5maWx0ZXIoKHsgcmFuayA9IDAgfSkgPT4gcmFuayA+PSAwKTtcbiAgICB9XG5cbiAgICBjb25zdCBzZWFyY2hhYmxlRW50cmllcyA9IG9yaWdpbmFsRW50cmllcy5maWx0ZXIoKHsgc2VhcmNoYWJsZSB9KSA9PiBzZWFyY2hhYmxlICE9PSBmYWxzZSk7XG5cbiAgICByZXR1cm4gc2VhcmNoRm4oc2VhcmNoYWJsZUVudHJpZXMsIHNlYXJjaFZhbHVlLCB7XG4gICAgICBrZXlzOiBbXG4gICAgICAgICdsYWJlbCcsXG4gICAgICAgICdzZWFyY2gnLFxuICAgICAgICAnZGVzY3JpcHRpb24nXG4gICAgICBdXG4gICAgfSkubWFwKCh7IGl0ZW0gfSkgPT4gaXRlbSk7XG4gIH0sIFsgc2VhcmNoYWJsZSBdKTtcblxuICBjb25zdCBbIGVudHJpZXMsIHNldEVudHJpZXMgXSA9IHVzZVN0YXRlKGZpbHRlckVudHJpZXMob3JpZ2luYWxFbnRyaWVzLCBzZWFyY2hWYWx1ZSkpO1xuICBjb25zdCBbIHNlbGVjdGVkRW50cnksIHNldFNlbGVjdGVkRW50cnkgXSA9IHVzZVN0YXRlKGVudHJpZXNbMF0pO1xuXG4gIGNvbnN0IHVwZGF0ZUVudHJpZXMgPSB1c2VDYWxsYmFjaygobmV3RW50cmllcykgPT4ge1xuXG4gICAgLy8gYWx3YXlzIHNlbGVjdCBmaXJzdFxuICAgIHNldFNlbGVjdGVkRW50cnkobmV3RW50cmllc1swXSk7XG5cbiAgICBzZXRFbnRyaWVzKG5ld0VudHJpZXMpO1xuICB9LCBbIHNlbGVjdGVkRW50cnksIHNldEVudHJpZXMsIHNldFNlbGVjdGVkRW50cnkgXSk7XG5cbiAgLy8gZmlsdGVyIGVudHJpZXMgb24gc2VhcmNoIHZhbHVlIGNoYW5nZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHVwZGF0ZUVudHJpZXMoZmlsdGVyRW50cmllcyhvcmlnaW5hbEVudHJpZXMsIHNlYXJjaFZhbHVlKSk7XG4gIH0sIFsgc2VhcmNoVmFsdWUsIG9yaWdpbmFsRW50cmllcyBdKTtcblxuICAvLyBoYW5kbGUga2V5Ym9hcmQgc2VsZWNpdG9uXG4gIGNvbnN0IGtleWJvYXJkU2VsZWN0ID0gdXNlQ2FsbGJhY2soZGlyZWN0aW9uID0+IHtcbiAgICBjb25zdCBpZHggPSBlbnRyaWVzLmluZGV4T2Yoc2VsZWN0ZWRFbnRyeSk7XG5cbiAgICBsZXQgbmV4dElkeCA9IGlkeCArIGRpcmVjdGlvbjtcblxuICAgIGlmIChuZXh0SWR4IDwgMCkge1xuICAgICAgbmV4dElkeCA9IGVudHJpZXMubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICBpZiAobmV4dElkeCA+PSBlbnRyaWVzLmxlbmd0aCkge1xuICAgICAgbmV4dElkeCA9IDA7XG4gICAgfVxuXG4gICAgc2V0U2VsZWN0ZWRFbnRyeShlbnRyaWVzW25leHRJZHhdKTtcbiAgfSwgWyBlbnRyaWVzLCBzZWxlY3RlZEVudHJ5LCBzZXRTZWxlY3RlZEVudHJ5IF0pO1xuXG4gIGNvbnN0IGhhbmRsZUtleURvd24gPSB1c2VDYWxsYmFjayhldmVudCA9PiB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyAmJiBzZWxlY3RlZEVudHJ5KSB7XG4gICAgICByZXR1cm4gb25TZWxlY3QoZXZlbnQsIHNlbGVjdGVkRW50cnkpO1xuICAgIH1cblxuICAgIC8vIEFSUk9XX1VQXG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0Fycm93VXAnKSB7XG4gICAgICBrZXlib2FyZFNlbGVjdCgtMSk7XG5cbiAgICAgIHJldHVybiBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIC8vIEFSUk9XX0RPV05cbiAgICBpZiAoZXZlbnQua2V5ID09PSAnQXJyb3dEb3duJykge1xuICAgICAga2V5Ym9hcmRTZWxlY3QoMSk7XG5cbiAgICAgIHJldHVybiBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfSwgWyBvblNlbGVjdCwgc2VsZWN0ZWRFbnRyeSwga2V5Ym9hcmRTZWxlY3QgXSk7XG5cbiAgY29uc3QgaGFuZGxlS2V5ID0gdXNlQ2FsbGJhY2soZXZlbnQgPT4ge1xuICAgIGlmIChkb21NYXRjaGVzKGV2ZW50LnRhcmdldCwgJ2lucHV0JykpIHtcbiAgICAgIHNldFNlYXJjaFZhbHVlKCgpID0+IGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgfVxuICB9LCBbIHNldFNlYXJjaFZhbHVlIF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgb25PcGVuZWQoKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBvbkNsb3NlZCgpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICBjb25zdCBkaXNwbGF5SGVhZGVyID0gdXNlTWVtbygoKSA9PiB0aXRsZSB8fCBoZWFkZXJFbnRyaWVzLmxlbmd0aCA+IDAsIFsgdGl0bGUsIGhlYWRlckVudHJpZXMgXSk7XG5cbiAgcmV0dXJuIGh0bWxgXG4gICAgPCR7UG9wdXBNZW51V3JhcHBlcn1cbiAgICAgIG9uQ2xvc2U9JHsgb25DbG9zZSB9XG4gICAgICBvbktleXVwPSR7IGhhbmRsZUtleSB9XG4gICAgICBvbktleWRvd249JHsgaGFuZGxlS2V5RG93biB9XG4gICAgICBjbGFzc05hbWU9JHsgY2xhc3NOYW1lIH1cbiAgICAgIHBvc2l0aW9uPSR7IHBvc2l0aW9uIH1cbiAgICAgIHdpZHRoPSR7IHdpZHRoIH1cbiAgICAgIHNjYWxlPSR7IHNjYWxlIH1cbiAgICA+XG4gICAgICAkeyBkaXNwbGF5SGVhZGVyICYmIGh0bWxgXG4gICAgICAgIDwke1BvcHVwTWVudUhlYWRlcn1cbiAgICAgICAgICBoZWFkZXJFbnRyaWVzPSR7IGhlYWRlckVudHJpZXMgfVxuICAgICAgICAgIG9uU2VsZWN0PSR7IG9uU2VsZWN0IH1cbiAgICAgICAgICBzZWxlY3RlZEVudHJ5PSR7IHNlbGVjdGVkRW50cnkgfVxuICAgICAgICAgIHNldFNlbGVjdGVkRW50cnk9JHsgc2V0U2VsZWN0ZWRFbnRyeSB9XG4gICAgICAgICAgdGl0bGU9JHsgdGl0bGUgfVxuICAgICAgICAvPlxuICAgICAgYCB9XG4gICAgICAkeyBvcmlnaW5hbEVudHJpZXMubGVuZ3RoID4gMCAmJiBodG1sYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZGpzLXBvcHVwLWJvZHlcIj5cblxuICAgICAgICAgICR7IHNlYXJjaGFibGUgJiYgaHRtbGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGpzLXBvcHVwLXNlYXJjaFwiPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImRqcy1wb3B1cC1zZWFyY2gtaWNvblwiIHdpZHRoPVwiMTRcIiBoZWlnaHQ9XCIxNFwiIHZpZXdCb3g9XCIwIDAgMTQgMTRcIiBmaWxsPVwibm9uZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbiAgICAgICAgICAgICAgPHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTkuMDMyNSA4LjVIOS42MjVMMTMuMzY3NSAxMi4yNUwxMi4yNSAxMy4zNjc1TDguNSA5LjYyNVY5LjAzMjVMOC4yOTc1IDguODIyNUM3LjQ0MjUgOS41NTc1IDYuMzMyNSAxMCA1LjEyNSAxMEMyLjQzMjUgMTAgMC4yNSA3LjgxNzUgMC4yNSA1LjEyNUMwLjI1IDIuNDMyNSAyLjQzMjUgMC4yNSA1LjEyNSAwLjI1QzcuODE3NSAwLjI1IDEwIDIuNDMyNSAxMCA1LjEyNUMxMCA2LjMzMjUgOS41NTc1IDcuNDQyNSA4LjgyMjUgOC4yOTc1TDkuMDMyNSA4LjVaTTEuNzUgNS4xMjVDMS43NSA2Ljk5MjUgMy4yNTc1IDguNSA1LjEyNSA4LjVDNi45OTI1IDguNSA4LjUgNi45OTI1IDguNSA1LjEyNUM4LjUgMy4yNTc1IDYuOTkyNSAxLjc1IDUuMTI1IDEuNzVDMy4yNTc1IDEuNzUgMS43NSAzLjI1NzUgMS43NSA1LjEyNVpcIiBmaWxsPVwiIzIyMjQyQVwiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgc3BlbGxjaGVjaz0keyBmYWxzZSB9IGFyaWEtbGFiZWw9XCIkeyB0aXRsZSB9XCIgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgIH1cblxuICAgICAgICAgIDwke1BvcHVwTWVudUxpc3R9XG4gICAgICAgICAgICBlbnRyaWVzPSR7IGVudHJpZXMgfVxuICAgICAgICAgICAgc2VsZWN0ZWRFbnRyeT0keyBzZWxlY3RlZEVudHJ5IH1cbiAgICAgICAgICAgIHNldFNlbGVjdGVkRW50cnk9JHsgc2V0U2VsZWN0ZWRFbnRyeSB9XG4gICAgICAgICAgICBvbkFjdGlvbj0keyBvblNlbGVjdCB9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgIH1cbiAgICAkeyBlbXB0eVBsYWNlaG9sZGVyICYmIGVudHJpZXMubGVuZ3RoID09PSAwICYmIGh0bWxgXG4gICAgICA8ZGl2IGNsYXNzPVwiZGpzLXBvcHVwLW5vLXJlc3VsdHNcIj4keyBpc0Z1bmN0aW9uKGVtcHR5UGxhY2Vob2xkZXIpID8gZW1wdHlQbGFjZWhvbGRlcihzZWFyY2hWYWx1ZSkgOiBlbXB0eVBsYWNlaG9sZGVyIH08L2Rpdj5cbiAgICBgIH1cbiAgICA8LyR7UG9wdXBNZW51V3JhcHBlcn0+XG4gIGA7XG59XG5cbi8qKlxuICogQSBjb21wb25lbnQgdGhhdCB3cmFwcyB0aGUgcG9wdXAgbWVudS5cbiAqXG4gKiBAcGFyYW0geyp9IHByb3BzXG4gKi9cbmZ1bmN0aW9uIFBvcHVwTWVudVdyYXBwZXIocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIG9uQ2xvc2UsXG4gICAgb25LZXlkb3duLFxuICAgIG9uS2V5dXAsXG4gICAgY2xhc3NOYW1lLFxuICAgIGNoaWxkcmVuLFxuICAgIHBvc2l0aW9uOiBwb3NpdGlvbkdldHRlclxuICB9ID0gcHJvcHM7XG5cbiAgY29uc3QgcG9wdXBSZWYgPSB1c2VSZWYoKTtcblxuICAvLyBpbml0aWFsIHBvc2l0aW9uXG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBwb3NpdGlvbkdldHRlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBvcHVwRWwgPSBwb3B1cFJlZi5jdXJyZW50O1xuICAgIGNvbnN0IHBvc2l0aW9uID0gcG9zaXRpb25HZXR0ZXIocG9wdXBFbCk7XG5cbiAgICBwb3B1cEVsLnN0eWxlLmxlZnQgPSBgJHtwb3NpdGlvbi54fXB4YDtcbiAgICBwb3B1cEVsLnN0eWxlLnRvcCA9IGAke3Bvc2l0aW9uLnl9cHhgO1xuICB9LCBbIHBvcHVwUmVmLmN1cnJlbnQsIHBvc2l0aW9uR2V0dGVyIF0pO1xuXG4gIC8vIGluaXRpYWwgZm9jdXNcbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBwb3B1cEVsID0gcG9wdXBSZWYuY3VycmVudDtcblxuICAgIGlmICghcG9wdXBFbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGlucHV0RWwgPSBwb3B1cEVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG5cbiAgICAoaW5wdXRFbCB8fCBwb3B1cEVsKS5mb2N1cygpO1xuICB9LCBbXSk7XG5cbiAgLy8gZ2xvYmFsIDxFc2NhcGU+IC8gYmx1ciBoYW5kbGVyc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUtleURvd24gPSBldmVudCA9PiB7XG4gICAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIHJldHVybiBvbkNsb3NlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gZXZlbnQgPT4ge1xuICAgICAgY29uc3QgcG9wdXAgPSBkb21DbG9zZXN0KGV2ZW50LnRhcmdldCwgJy5kanMtcG9wdXAnLCB0cnVlKTtcblxuICAgICAgaWYgKHBvcHVwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9uQ2xvc2UoKTtcbiAgICB9O1xuXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xpY2spO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xpY2spO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICByZXR1cm4gaHRtbGBcbiAgICA8ZGl2XG4gICAgICBjbGFzcz0keyBjbGFzc05hbWVzKCdkanMtcG9wdXAnLCBjbGFzc05hbWUpIH1cbiAgICAgIHN0eWxlPSR7IGdldFBvcHVwU3R5bGUocHJvcHMpIH1cbiAgICAgIG9uS2V5ZG93bj0keyBvbktleWRvd24gfVxuICAgICAgb25LZXl1cD0keyBvbktleXVwIH1cbiAgICAgIHJlZj0keyBwb3B1cFJlZiB9XG4gICAgICB0YWJJbmRleD1cIi0xXCJcbiAgICA+XG4gICAgICAkeyBjaGlsZHJlbiB9XG4gICAgPC9kaXY+XG4gIGA7XG59XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBnZXRQb3B1cFN0eWxlKHByb3BzKSB7XG4gIHJldHVybiB7XG4gICAgdHJhbnNmb3JtOiBgc2NhbGUoJHtwcm9wcy5zY2FsZX0pYCxcbiAgICB3aWR0aDogYCR7cHJvcHMud2lkdGh9cHhgLFxuICAgICd0cmFuc2Zvcm0tb3JpZ2luJzogJ3RvcCBsZWZ0J1xuICB9O1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/popup-menu/PopupMenuComponent.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/popup-menu/PopupMenuHeader.js":
/*!****************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/popup-menu/PopupMenuHeader.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PopupMenuHeader)\n/* harmony export */ });\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ \"(ssr)/./node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var _ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ui */ \"(ssr)/./node_modules/preact/hooks/dist/hooks.mjs\");\n/* harmony import */ var _ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ui */ \"(ssr)/./node_modules/htm/preact/index.mjs\");\n\n\n\n\n/**\n * @typedef {import('./PopupMenuProvider').PopupMenuHeaderEntry} PopupMenuHeaderEntry\n */\n\n/**\n * Component that renders a popup menu header.\n *\n * @param {Object} props\n * @param {PopupMenuHeaderEntry[]} props.headerEntries\n * @param {PopupMenuHeaderEntry} props.selectedEntry\n * @param {(event: MouseEvent, entry: PopupMenuHeaderEntry) => void} props.onSelect\n * @param {(entry: PopupMenuHeaderEntry | null) => void} props.setSelectedEntry\n * @param {string} props.title\n */\nfunction PopupMenuHeader(props) {\n  const {\n    headerEntries,\n    onSelect,\n    selectedEntry,\n    setSelectedEntry,\n    title\n  } = props;\n\n  const groups = (0,_ui__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => groupEntries(headerEntries), [ headerEntries ]);\n\n  return (0,_ui__WEBPACK_IMPORTED_MODULE_2__.html)`\n    <div class=\"djs-popup-header\">\n      <h3 class=\"djs-popup-title\" title=${ title }>${ title }</h3>\n      ${ groups.map((group) => (0,_ui__WEBPACK_IMPORTED_MODULE_2__.html)`\n        <ul key=${ group.id } class=\"djs-popup-header-group\" data-header-group=${ group.id }>\n\n          ${ group.entries.map(entry => (0,_ui__WEBPACK_IMPORTED_MODULE_2__.html)`\n            <li key=${ entry.id }>\n              <${ entry.action ? 'button' : 'span' }\n                class=${ getHeaderClasses(entry, entry === selectedEntry) }\n                onClick=${ event => entry.action && onSelect(event, entry) }\n                title=${ entry.title || entry.label }\n                data-id=${ entry.id }\n                onMouseEnter=${ () => entry.action && setSelectedEntry(entry) }\n                onMouseLeave=${ () => entry.action && setSelectedEntry(null) }\n                onFocus=${ () => entry.action && setSelectedEntry(entry) }\n                onBlur=${ () => entry.action && setSelectedEntry(null) }\n              >\n                ${(entry.imageUrl && (0,_ui__WEBPACK_IMPORTED_MODULE_2__.html)`<img class=\"djs-popup-entry-icon\" src=${ entry.imageUrl } alt=\"\" />`) ||\n                (entry.imageHtml && (0,_ui__WEBPACK_IMPORTED_MODULE_2__.html)`<div class=\"djs-popup-entry-icon\" dangerouslySetInnerHTML=${ { __html: entry.imageHtml } } />`)}\n                ${ entry.label ? (0,_ui__WEBPACK_IMPORTED_MODULE_2__.html)`\n                  <span class=\"djs-popup-label\">${ entry.label }</span>\n                ` : null }\n              </${ entry.action ? 'button' : 'span' }>\n            </li>\n          `) }\n        </ul>\n      `) }\n    </div>\n  `;\n}\n\n\n// helpers\nfunction groupEntries(entries) {\n  return entries.reduce((groups, entry) => {\n    const groupId = entry.group || 'default';\n\n    const group = groups.find(group => group.id === groupId);\n\n    if (group) {\n      group.entries.push(entry);\n    } else {\n      groups.push({\n        id: groupId,\n        entries: [ entry ]\n      });\n    }\n\n    return groups;\n  }, []);\n}\n\nfunction getHeaderClasses(entry, selected) {\n  return (0,clsx__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\n    'entry',\n    entry.className,\n    entry.active ? 'active' : '',\n    entry.disabled ? 'disabled' : '',\n    selected ? 'selected' : ''\n  );\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcG9wdXAtbWVudS9Qb3B1cE1lbnVIZWFkZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUE4Qjs7QUFLWjs7QUFFbEI7QUFDQSxhQUFhLG9EQUFvRDtBQUNqRTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyx3QkFBd0I7QUFDbkMsV0FBVyxzQkFBc0I7QUFDakMsV0FBVywwREFBMEQ7QUFDckUsV0FBVyw4Q0FBOEM7QUFDekQsV0FBVyxRQUFRO0FBQ25CO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKLGlCQUFpQiw0Q0FBTzs7QUFFeEIsU0FBUyx5Q0FBSTtBQUNiO0FBQ0EsMkNBQTJDLE9BQU8sSUFBSSxPQUFPO0FBQzdELFNBQVMsc0JBQXNCLHlDQUFJO0FBQ25DLG1CQUFtQixXQUFXLG9EQUFvRCxVQUFVOztBQUU1RixhQUFhLDJCQUEyQix5Q0FBSTtBQUM1Qyx1QkFBdUIsVUFBVTtBQUNqQyxrQkFBa0I7QUFDbEIseUJBQXlCO0FBQ3pCLDJCQUEyQjtBQUMzQix5QkFBeUI7QUFDekIsMkJBQTJCO0FBQzNCLGdDQUFnQztBQUNoQyxnQ0FBZ0M7QUFDaEMsMkJBQTJCO0FBQzNCLDBCQUEwQjtBQUMxQjtBQUNBLGtCQUFrQixtQkFBbUIseUNBQUksMENBQTBDLGlCQUFpQjtBQUNwRyxvQ0FBb0MseUNBQUksZ0VBQWdFLDRCQUE0QjtBQUNwSSxtQkFBbUIsY0FBYyx5Q0FBSTtBQUNyQyxtREFBbUQsYUFBYTtBQUNoRTtBQUNBLG1CQUFtQixrQ0FBa0M7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EsU0FBUyxnREFBVTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9wb3B1cC1tZW51L1BvcHVwTWVudUhlYWRlci5qcz80NjRkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2Nsc3gnO1xuXG5pbXBvcnQge1xuICBodG1sLFxuICB1c2VNZW1vXG59IGZyb20gJy4uLy4uL3VpJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuL1BvcHVwTWVudVByb3ZpZGVyJykuUG9wdXBNZW51SGVhZGVyRW50cnl9IFBvcHVwTWVudUhlYWRlckVudHJ5XG4gKi9cblxuLyoqXG4gKiBDb21wb25lbnQgdGhhdCByZW5kZXJzIGEgcG9wdXAgbWVudSBoZWFkZXIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzXG4gKiBAcGFyYW0ge1BvcHVwTWVudUhlYWRlckVudHJ5W119IHByb3BzLmhlYWRlckVudHJpZXNcbiAqIEBwYXJhbSB7UG9wdXBNZW51SGVhZGVyRW50cnl9IHByb3BzLnNlbGVjdGVkRW50cnlcbiAqIEBwYXJhbSB7KGV2ZW50OiBNb3VzZUV2ZW50LCBlbnRyeTogUG9wdXBNZW51SGVhZGVyRW50cnkpID0+IHZvaWR9IHByb3BzLm9uU2VsZWN0XG4gKiBAcGFyYW0geyhlbnRyeTogUG9wdXBNZW51SGVhZGVyRW50cnkgfCBudWxsKSA9PiB2b2lkfSBwcm9wcy5zZXRTZWxlY3RlZEVudHJ5XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcHMudGl0bGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUG9wdXBNZW51SGVhZGVyKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBoZWFkZXJFbnRyaWVzLFxuICAgIG9uU2VsZWN0LFxuICAgIHNlbGVjdGVkRW50cnksXG4gICAgc2V0U2VsZWN0ZWRFbnRyeSxcbiAgICB0aXRsZVxuICB9ID0gcHJvcHM7XG5cbiAgY29uc3QgZ3JvdXBzID0gdXNlTWVtbygoKSA9PiBncm91cEVudHJpZXMoaGVhZGVyRW50cmllcyksIFsgaGVhZGVyRW50cmllcyBdKTtcblxuICByZXR1cm4gaHRtbGBcbiAgICA8ZGl2IGNsYXNzPVwiZGpzLXBvcHVwLWhlYWRlclwiPlxuICAgICAgPGgzIGNsYXNzPVwiZGpzLXBvcHVwLXRpdGxlXCIgdGl0bGU9JHsgdGl0bGUgfT4keyB0aXRsZSB9PC9oMz5cbiAgICAgICR7IGdyb3Vwcy5tYXAoKGdyb3VwKSA9PiBodG1sYFxuICAgICAgICA8dWwga2V5PSR7IGdyb3VwLmlkIH0gY2xhc3M9XCJkanMtcG9wdXAtaGVhZGVyLWdyb3VwXCIgZGF0YS1oZWFkZXItZ3JvdXA9JHsgZ3JvdXAuaWQgfT5cblxuICAgICAgICAgICR7IGdyb3VwLmVudHJpZXMubWFwKGVudHJ5ID0+IGh0bWxgXG4gICAgICAgICAgICA8bGkga2V5PSR7IGVudHJ5LmlkIH0+XG4gICAgICAgICAgICAgIDwkeyBlbnRyeS5hY3Rpb24gPyAnYnV0dG9uJyA6ICdzcGFuJyB9XG4gICAgICAgICAgICAgICAgY2xhc3M9JHsgZ2V0SGVhZGVyQ2xhc3NlcyhlbnRyeSwgZW50cnkgPT09IHNlbGVjdGVkRW50cnkpIH1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPSR7IGV2ZW50ID0+IGVudHJ5LmFjdGlvbiAmJiBvblNlbGVjdChldmVudCwgZW50cnkpIH1cbiAgICAgICAgICAgICAgICB0aXRsZT0keyBlbnRyeS50aXRsZSB8fCBlbnRyeS5sYWJlbCB9XG4gICAgICAgICAgICAgICAgZGF0YS1pZD0keyBlbnRyeS5pZCB9XG4gICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPSR7ICgpID0+IGVudHJ5LmFjdGlvbiAmJiBzZXRTZWxlY3RlZEVudHJ5KGVudHJ5KSB9XG4gICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPSR7ICgpID0+IGVudHJ5LmFjdGlvbiAmJiBzZXRTZWxlY3RlZEVudHJ5KG51bGwpIH1cbiAgICAgICAgICAgICAgICBvbkZvY3VzPSR7ICgpID0+IGVudHJ5LmFjdGlvbiAmJiBzZXRTZWxlY3RlZEVudHJ5KGVudHJ5KSB9XG4gICAgICAgICAgICAgICAgb25CbHVyPSR7ICgpID0+IGVudHJ5LmFjdGlvbiAmJiBzZXRTZWxlY3RlZEVudHJ5KG51bGwpIH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICR7KGVudHJ5LmltYWdlVXJsICYmIGh0bWxgPGltZyBjbGFzcz1cImRqcy1wb3B1cC1lbnRyeS1pY29uXCIgc3JjPSR7IGVudHJ5LmltYWdlVXJsIH0gYWx0PVwiXCIgLz5gKSB8fFxuICAgICAgICAgICAgICAgIChlbnRyeS5pbWFnZUh0bWwgJiYgaHRtbGA8ZGl2IGNsYXNzPVwiZGpzLXBvcHVwLWVudHJ5LWljb25cIiBkYW5nZXJvdXNseVNldElubmVySFRNTD0keyB7IF9faHRtbDogZW50cnkuaW1hZ2VIdG1sIH0gfSAvPmApfVxuICAgICAgICAgICAgICAgICR7IGVudHJ5LmxhYmVsID8gaHRtbGBcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZGpzLXBvcHVwLWxhYmVsXCI+JHsgZW50cnkubGFiZWwgfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICBgIDogbnVsbCB9XG4gICAgICAgICAgICAgIDwvJHsgZW50cnkuYWN0aW9uID8gJ2J1dHRvbicgOiAnc3BhbicgfT5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgYCkgfVxuICAgICAgICA8L3VsPlxuICAgICAgYCkgfVxuICAgIDwvZGl2PlxuICBgO1xufVxuXG5cbi8vIGhlbHBlcnNcbmZ1bmN0aW9uIGdyb3VwRW50cmllcyhlbnRyaWVzKSB7XG4gIHJldHVybiBlbnRyaWVzLnJlZHVjZSgoZ3JvdXBzLCBlbnRyeSkgPT4ge1xuICAgIGNvbnN0IGdyb3VwSWQgPSBlbnRyeS5ncm91cCB8fCAnZGVmYXVsdCc7XG5cbiAgICBjb25zdCBncm91cCA9IGdyb3Vwcy5maW5kKGdyb3VwID0+IGdyb3VwLmlkID09PSBncm91cElkKTtcblxuICAgIGlmIChncm91cCkge1xuICAgICAgZ3JvdXAuZW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ3JvdXBzLnB1c2goe1xuICAgICAgICBpZDogZ3JvdXBJZCxcbiAgICAgICAgZW50cmllczogWyBlbnRyeSBdXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ3JvdXBzO1xuICB9LCBbXSk7XG59XG5cbmZ1bmN0aW9uIGdldEhlYWRlckNsYXNzZXMoZW50cnksIHNlbGVjdGVkKSB7XG4gIHJldHVybiBjbGFzc05hbWVzKFxuICAgICdlbnRyeScsXG4gICAgZW50cnkuY2xhc3NOYW1lLFxuICAgIGVudHJ5LmFjdGl2ZSA/ICdhY3RpdmUnIDogJycsXG4gICAgZW50cnkuZGlzYWJsZWQgPyAnZGlzYWJsZWQnIDogJycsXG4gICAgc2VsZWN0ZWQgPyAnc2VsZWN0ZWQnIDogJydcbiAgKTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/popup-menu/PopupMenuHeader.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/popup-menu/PopupMenuItem.js":
/*!**************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/popup-menu/PopupMenuItem.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PopupMenuItem)\n/* harmony export */ });\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ \"(ssr)/./node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var _ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ui */ \"(ssr)/./node_modules/htm/preact/index.mjs\");\n\n\n\n\n/**\n * @typedef {import('./PopupMenuProvider').PopupMenuEntry} PopupMenuEntry\n */\n\n/**\n * Component that renders a popup menu entry.\n *\n * @param {Object} props\n * @param {string} props.key\n * @param {PopupMenuEntry} props.entry\n * @param {boolean} props.selected\n * @param {(event: MouseEvent) => void} props.onMouseEnter\n * @param {(event: MouseEvent) => void} props.onMouseLeave\n * @param {(event: MouseEvent, entry?: PopupMenuEntry, action?: string) => void} props.onAction\n */\nfunction PopupMenuItem(props) {\n  const {\n    entry,\n    selected,\n    onMouseEnter,\n    onMouseLeave,\n    onAction\n  } = props;\n\n  return (0,_ui__WEBPACK_IMPORTED_MODULE_1__.html)`\n    <li\n      class=${ (0,clsx__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('entry', { selected }) }\n      data-id=${ entry.id }\n      title=${ entry.title || entry.label }\n      tabIndex=\"0\"\n      onClick=${ onAction }\n      onFocus=${ onMouseEnter }\n      onBlur=${ onMouseLeave }\n      onMouseEnter=${ onMouseEnter }\n      onMouseLeave=${ onMouseLeave }\n      onDragStart=${ (event) => onAction(event, entry, 'dragstart') }\n      draggable=${ true }\n    >\n      <div class=\"djs-popup-entry-content\">\n        <span\n          class=${ (0,clsx__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('djs-popup-entry-name', entry.className) }\n        >\n          ${(entry.imageUrl && (0,_ui__WEBPACK_IMPORTED_MODULE_1__.html)`<img class=\"djs-popup-entry-icon\" src=${ entry.imageUrl } alt=\"\" />`) ||\n            (entry.imageHtml && (0,_ui__WEBPACK_IMPORTED_MODULE_1__.html)`<div class=\"djs-popup-entry-icon\" dangerouslySetInnerHTML=${ { __html: entry.imageHtml } } />`)}\n\n          ${ entry.label ? (0,_ui__WEBPACK_IMPORTED_MODULE_1__.html)`\n            <span class=\"djs-popup-label\">\n              ${ entry.label }\n            </span>\n          ` : null }\n        </span>\n        ${ entry.description && (0,_ui__WEBPACK_IMPORTED_MODULE_1__.html)`\n          <span\n            class=\"djs-popup-entry-description\"\n            title=${ entry.description }\n          >\n            ${ entry.description }\n          </span>\n        ` }\n      </div>\n      ${ entry.documentationRef && (0,_ui__WEBPACK_IMPORTED_MODULE_1__.html)`\n        <div class=\"djs-popup-entry-docs\">\n          <a\n            href=\"${ entry.documentationRef }\"\n            onClick=${ (event) => event.stopPropagation() }\n            title=\"Open element documentation\"\n            target=\"_blank\"\n            rel=\"noopener\"\n          >\n            <svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M10.6368 10.6375V5.91761H11.9995V10.6382C11.9995 10.9973 11.8623 11.3141 11.5878 11.5885C11.3134 11.863 10.9966 12.0002 10.6375 12.0002H1.36266C0.982345 12.0002 0.660159 11.8681 0.396102 11.6041C0.132044 11.34 1.52588e-05 11.0178 1.52588e-05 10.6375V1.36267C1.52588e-05 0.98236 0.132044 0.660173 0.396102 0.396116C0.660159 0.132058 0.982345 2.95639e-05 1.36266 2.95639e-05H5.91624V1.36267H1.36266V10.6375H10.6368ZM12 0H7.2794L7.27873 1.36197H9.68701L3.06507 7.98391L4.01541 8.93425L10.6373 2.31231V4.72059H12V0Z\" fill=\"#818798\"/>\n            </svg>\n          </a>\n        </div>\n      ` }\n    </li>\n  `;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcG9wdXAtbWVudS9Qb3B1cE1lbnVJdGVtLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE4Qjs7QUFJWjs7QUFFbEI7QUFDQSxhQUFhLDhDQUE4QztBQUMzRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsZ0JBQWdCO0FBQzNCLFdBQVcsU0FBUztBQUNwQixXQUFXLDZCQUE2QjtBQUN4QyxXQUFXLDZCQUE2QjtBQUN4QyxXQUFXLHNFQUFzRTtBQUNqRjtBQUNlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSixTQUFTLHlDQUFJO0FBQ2I7QUFDQSxlQUFlLGdEQUFVLFlBQVksVUFBVTtBQUMvQyxpQkFBaUI7QUFDakIsZUFBZTtBQUNmO0FBQ0EsaUJBQWlCO0FBQ2pCLGlCQUFpQjtBQUNqQixnQkFBZ0I7QUFDaEIsc0JBQXNCO0FBQ3RCLHNCQUFzQjtBQUN0QixxQkFBcUI7QUFDckIsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixnREFBVTtBQUM3QjtBQUNBLFlBQVksbUJBQW1CLHlDQUFJLDBDQUEwQyxpQkFBaUI7QUFDOUYsZ0NBQWdDLHlDQUFJLGdFQUFnRSw0QkFBNEI7O0FBRWhJLGFBQWEsY0FBYyx5Q0FBSTtBQUMvQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxXQUFXLHFCQUFxQix5Q0FBSTtBQUNwQztBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMEJBQTBCLHlDQUFJO0FBQ3ZDO0FBQ0E7QUFDQSxxQkFBcUIsd0JBQXdCO0FBQzdDLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9wb3B1cC1tZW51L1BvcHVwTWVudUl0ZW0uanM/ZjU2MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbHN4JztcblxuaW1wb3J0IHtcbiAgaHRtbFxufSBmcm9tICcuLi8uLi91aSc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi9Qb3B1cE1lbnVQcm92aWRlcicpLlBvcHVwTWVudUVudHJ5fSBQb3B1cE1lbnVFbnRyeVxuICovXG5cbi8qKlxuICogQ29tcG9uZW50IHRoYXQgcmVuZGVycyBhIHBvcHVwIG1lbnUgZW50cnkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcHMua2V5XG4gKiBAcGFyYW0ge1BvcHVwTWVudUVudHJ5fSBwcm9wcy5lbnRyeVxuICogQHBhcmFtIHtib29sZWFufSBwcm9wcy5zZWxlY3RlZFxuICogQHBhcmFtIHsoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHZvaWR9IHByb3BzLm9uTW91c2VFbnRlclxuICogQHBhcmFtIHsoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHZvaWR9IHByb3BzLm9uTW91c2VMZWF2ZVxuICogQHBhcmFtIHsoZXZlbnQ6IE1vdXNlRXZlbnQsIGVudHJ5PzogUG9wdXBNZW51RW50cnksIGFjdGlvbj86IHN0cmluZykgPT4gdm9pZH0gcHJvcHMub25BY3Rpb25cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUG9wdXBNZW51SXRlbShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZW50cnksXG4gICAgc2VsZWN0ZWQsXG4gICAgb25Nb3VzZUVudGVyLFxuICAgIG9uTW91c2VMZWF2ZSxcbiAgICBvbkFjdGlvblxuICB9ID0gcHJvcHM7XG5cbiAgcmV0dXJuIGh0bWxgXG4gICAgPGxpXG4gICAgICBjbGFzcz0keyBjbGFzc05hbWVzKCdlbnRyeScsIHsgc2VsZWN0ZWQgfSkgfVxuICAgICAgZGF0YS1pZD0keyBlbnRyeS5pZCB9XG4gICAgICB0aXRsZT0keyBlbnRyeS50aXRsZSB8fCBlbnRyeS5sYWJlbCB9XG4gICAgICB0YWJJbmRleD1cIjBcIlxuICAgICAgb25DbGljaz0keyBvbkFjdGlvbiB9XG4gICAgICBvbkZvY3VzPSR7IG9uTW91c2VFbnRlciB9XG4gICAgICBvbkJsdXI9JHsgb25Nb3VzZUxlYXZlIH1cbiAgICAgIG9uTW91c2VFbnRlcj0keyBvbk1vdXNlRW50ZXIgfVxuICAgICAgb25Nb3VzZUxlYXZlPSR7IG9uTW91c2VMZWF2ZSB9XG4gICAgICBvbkRyYWdTdGFydD0keyAoZXZlbnQpID0+IG9uQWN0aW9uKGV2ZW50LCBlbnRyeSwgJ2RyYWdzdGFydCcpIH1cbiAgICAgIGRyYWdnYWJsZT0keyB0cnVlIH1cbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzPVwiZGpzLXBvcHVwLWVudHJ5LWNvbnRlbnRcIj5cbiAgICAgICAgPHNwYW5cbiAgICAgICAgICBjbGFzcz0keyBjbGFzc05hbWVzKCdkanMtcG9wdXAtZW50cnktbmFtZScsIGVudHJ5LmNsYXNzTmFtZSkgfVxuICAgICAgICA+XG4gICAgICAgICAgJHsoZW50cnkuaW1hZ2VVcmwgJiYgaHRtbGA8aW1nIGNsYXNzPVwiZGpzLXBvcHVwLWVudHJ5LWljb25cIiBzcmM9JHsgZW50cnkuaW1hZ2VVcmwgfSBhbHQ9XCJcIiAvPmApIHx8XG4gICAgICAgICAgICAoZW50cnkuaW1hZ2VIdG1sICYmIGh0bWxgPGRpdiBjbGFzcz1cImRqcy1wb3B1cC1lbnRyeS1pY29uXCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9JHsgeyBfX2h0bWw6IGVudHJ5LmltYWdlSHRtbCB9IH0gLz5gKX1cblxuICAgICAgICAgICR7IGVudHJ5LmxhYmVsID8gaHRtbGBcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZGpzLXBvcHVwLWxhYmVsXCI+XG4gICAgICAgICAgICAgICR7IGVudHJ5LmxhYmVsIH1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICBgIDogbnVsbCB9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgJHsgZW50cnkuZGVzY3JpcHRpb24gJiYgaHRtbGBcbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3M9XCJkanMtcG9wdXAtZW50cnktZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgdGl0bGU9JHsgZW50cnkuZGVzY3JpcHRpb24gfVxuICAgICAgICAgID5cbiAgICAgICAgICAgICR7IGVudHJ5LmRlc2NyaXB0aW9uIH1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIGAgfVxuICAgICAgPC9kaXY+XG4gICAgICAkeyBlbnRyeS5kb2N1bWVudGF0aW9uUmVmICYmIGh0bWxgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJkanMtcG9wdXAtZW50cnktZG9jc1wiPlxuICAgICAgICAgIDxhXG4gICAgICAgICAgICBocmVmPVwiJHsgZW50cnkuZG9jdW1lbnRhdGlvblJlZiB9XCJcbiAgICAgICAgICAgIG9uQ2xpY2s9JHsgKGV2ZW50KSA9PiBldmVudC5zdG9wUHJvcGFnYXRpb24oKSB9XG4gICAgICAgICAgICB0aXRsZT1cIk9wZW4gZWxlbWVudCBkb2N1bWVudGF0aW9uXCJcbiAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgICByZWw9XCJub29wZW5lclwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjEyXCIgaGVpZ2h0PVwiMTJcIiB2aWV3Qm94PVwiMCAwIDEyIDEyXCIgZmlsbD1cIm5vbmVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XG4gICAgICAgICAgICAgIDxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIgZD1cIk0xMC42MzY4IDEwLjYzNzVWNS45MTc2MUgxMS45OTk1VjEwLjYzODJDMTEuOTk5NSAxMC45OTczIDExLjg2MjMgMTEuMzE0MSAxMS41ODc4IDExLjU4ODVDMTEuMzEzNCAxMS44NjMgMTAuOTk2NiAxMi4wMDAyIDEwLjYzNzUgMTIuMDAwMkgxLjM2MjY2QzAuOTgyMzQ1IDEyLjAwMDIgMC42NjAxNTkgMTEuODY4MSAwLjM5NjEwMiAxMS42MDQxQzAuMTMyMDQ0IDExLjM0IDEuNTI1ODhlLTA1IDExLjAxNzggMS41MjU4OGUtMDUgMTAuNjM3NVYxLjM2MjY3QzEuNTI1ODhlLTA1IDAuOTgyMzYgMC4xMzIwNDQgMC42NjAxNzMgMC4zOTYxMDIgMC4zOTYxMTZDMC42NjAxNTkgMC4xMzIwNTggMC45ODIzNDUgMi45NTYzOWUtMDUgMS4zNjI2NiAyLjk1NjM5ZS0wNUg1LjkxNjI0VjEuMzYyNjdIMS4zNjI2NlYxMC42Mzc1SDEwLjYzNjhaTTEyIDBINy4yNzk0TDcuMjc4NzMgMS4zNjE5N0g5LjY4NzAxTDMuMDY1MDcgNy45ODM5MUw0LjAxNTQxIDguOTM0MjVMMTAuNjM3MyAyLjMxMjMxVjQuNzIwNTlIMTJWMFpcIiBmaWxsPVwiIzgxODc5OFwiLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgIH1cbiAgICA8L2xpPlxuICBgO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/popup-menu/PopupMenuItem.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/popup-menu/PopupMenuList.js":
/*!**************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/popup-menu/PopupMenuList.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PopupMenuList)\n/* harmony export */ });\n/* harmony import */ var _ui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ui */ \"(ssr)/./node_modules/preact/hooks/dist/hooks.mjs\");\n/* harmony import */ var _ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ui */ \"(ssr)/./node_modules/htm/preact/index.mjs\");\n/* harmony import */ var _PopupMenuItem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PopupMenuItem */ \"(ssr)/./node_modules/diagram-js/lib/features/popup-menu/PopupMenuItem.js\");\n\n\n\n\n/**\n * @typedef {import('./PopupMenuProvider').PopupMenuEntry} PopupMenuEntry\n */\n\n/**\n * Component that renders a popup menu entry list.\n *\n * @param {Object} props\n * @param {PopupMenuEntry[]} props.entries\n * @param {PopupMenuEntry} props.selectedEntry\n * @param {(entry: PopupMenuEntry | null) => void} props.setSelectedEntry\n */\nfunction PopupMenuList(props) {\n  const {\n    selectedEntry,\n    setSelectedEntry,\n    entries,\n    ...restProps\n  } = props;\n\n  const resultsRef = (0,_ui__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n\n  const groups = (0,_ui__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => groupEntries(entries), [ entries ]);\n\n  // scroll to selected result\n  (0,_ui__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {\n    const containerEl = resultsRef.current;\n\n    if (!containerEl)\n      return;\n\n    const selectedEl = containerEl.querySelector('.selected');\n\n    if (selectedEl) {\n      scrollIntoView(selectedEl);\n    }\n  }, [ selectedEntry ]);\n\n  return (0,_ui__WEBPACK_IMPORTED_MODULE_1__.html)`\n    <div class=\"djs-popup-results\" ref=${ resultsRef }>\n      ${ groups.map(group => (0,_ui__WEBPACK_IMPORTED_MODULE_1__.html)`\n        ${ group.name && (0,_ui__WEBPACK_IMPORTED_MODULE_1__.html)`\n          <div key=${ group.id } class=\"entry-header\" title=${ group.name }>\n            ${ group.name }\n          </div>\n        ` }\n        <ul class=\"djs-popup-group\" data-group=${ group.id }>\n          ${ group.entries.map(entry => (0,_ui__WEBPACK_IMPORTED_MODULE_1__.html)`\n            <${_PopupMenuItem__WEBPACK_IMPORTED_MODULE_2__[\"default\"]}\n              key=${ entry.id }\n              entry=${ entry }\n              selected=${ entry === selectedEntry }\n              onMouseEnter=${ () => setSelectedEntry(entry) }\n              onMouseLeave=${ () => setSelectedEntry(null) }\n              ...${ restProps }\n            />\n          `) }\n        </ul>\n      `) }\n    </div>\n  `;\n}\n\n\n// helpers\nfunction groupEntries(entries) {\n  const groups = [];\n\n  const getGroup = group => groups.find(elem => group.id === elem.id);\n\n  const containsGroup = group => !!getGroup(group);\n\n  // legacy support for provider built for the old popUp menu\n  const formatGroup = group =>\n    typeof group === 'string' ? { id: group } : group;\n\n  entries.forEach(entry => {\n\n    // assume a default group when none is provided\n    const group = entry.group ? formatGroup(entry.group) : { id: 'default' };\n\n    if (!containsGroup(group)) {\n      groups.push({ ...group, entries: [ entry ] });\n    } else {\n      getGroup(group).entries.push(entry);\n    }\n  });\n\n  return groups;\n}\n\n// helpers ////////////////\n\nfunction scrollIntoView(el) {\n  if (typeof el.scrollIntoViewIfNeeded === 'function') {\n    el.scrollIntoViewIfNeeded();\n  } else {\n    el.scrollIntoView({\n      scrollMode: 'if-needed',\n      block: 'nearest'\n    });\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcG9wdXAtbWVudS9Qb3B1cE1lbnVMaXN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFLa0I7O0FBRTBCOztBQUU1QztBQUNBLGFBQWEsOENBQThDO0FBQzNEOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLGtCQUFrQjtBQUM3QixXQUFXLGdCQUFnQjtBQUMzQixXQUFXLHdDQUF3QztBQUNuRDtBQUNlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUoscUJBQXFCLDJDQUFNOztBQUUzQixpQkFBaUIsNENBQU87O0FBRXhCO0FBQ0EsRUFBRSxvREFBZTtBQUNqQjs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUgsU0FBUyx5Q0FBSTtBQUNiLDBDQUEwQyxZQUFZO0FBQ3RELFNBQVMsb0JBQW9CLHlDQUFJO0FBQ2pDLFdBQVcsY0FBYyx5Q0FBSTtBQUM3QixzQkFBc0IsV0FBVyw4QkFBOEIsWUFBWTtBQUMzRSxlQUFlO0FBQ2Y7QUFDQTtBQUNBLGtEQUFrRCxVQUFVO0FBQzVELGFBQWEsMkJBQTJCLHlDQUFJO0FBQzVDLGVBQWUsc0RBQWE7QUFDNUIscUJBQXFCO0FBQ3JCLHVCQUF1QjtBQUN2QiwwQkFBMEI7QUFDMUIsOEJBQThCO0FBQzlCLDhCQUE4QjtBQUM5QixvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0Esa0NBQWtDLFlBQVk7O0FBRTlDOztBQUVBO0FBQ0EsNkRBQTZEOztBQUU3RDtBQUNBLG9CQUFvQiw4QkFBOEI7QUFDbEQsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3BvcHVwLW1lbnUvUG9wdXBNZW51TGlzdC5qcz9lMjU2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGh0bWwsXG4gIHVzZU1lbW8sXG4gIHVzZUxheW91dEVmZmVjdCxcbiAgdXNlUmVmXG59IGZyb20gJy4uLy4uL3VpJztcblxuaW1wb3J0IFBvcHVwTWVudUl0ZW0gZnJvbSAnLi9Qb3B1cE1lbnVJdGVtJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuL1BvcHVwTWVudVByb3ZpZGVyJykuUG9wdXBNZW51RW50cnl9IFBvcHVwTWVudUVudHJ5XG4gKi9cblxuLyoqXG4gKiBDb21wb25lbnQgdGhhdCByZW5kZXJzIGEgcG9wdXAgbWVudSBlbnRyeSBsaXN0LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wc1xuICogQHBhcmFtIHtQb3B1cE1lbnVFbnRyeVtdfSBwcm9wcy5lbnRyaWVzXG4gKiBAcGFyYW0ge1BvcHVwTWVudUVudHJ5fSBwcm9wcy5zZWxlY3RlZEVudHJ5XG4gKiBAcGFyYW0geyhlbnRyeTogUG9wdXBNZW51RW50cnkgfCBudWxsKSA9PiB2b2lkfSBwcm9wcy5zZXRTZWxlY3RlZEVudHJ5XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBvcHVwTWVudUxpc3QocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIHNlbGVjdGVkRW50cnksXG4gICAgc2V0U2VsZWN0ZWRFbnRyeSxcbiAgICBlbnRyaWVzLFxuICAgIC4uLnJlc3RQcm9wc1xuICB9ID0gcHJvcHM7XG5cbiAgY29uc3QgcmVzdWx0c1JlZiA9IHVzZVJlZigpO1xuXG4gIGNvbnN0IGdyb3VwcyA9IHVzZU1lbW8oKCkgPT4gZ3JvdXBFbnRyaWVzKGVudHJpZXMpLCBbIGVudHJpZXMgXSk7XG5cbiAgLy8gc2Nyb2xsIHRvIHNlbGVjdGVkIHJlc3VsdFxuICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNvbnRhaW5lckVsID0gcmVzdWx0c1JlZi5jdXJyZW50O1xuXG4gICAgaWYgKCFjb250YWluZXJFbClcbiAgICAgIHJldHVybjtcblxuICAgIGNvbnN0IHNlbGVjdGVkRWwgPSBjb250YWluZXJFbC5xdWVyeVNlbGVjdG9yKCcuc2VsZWN0ZWQnKTtcblxuICAgIGlmIChzZWxlY3RlZEVsKSB7XG4gICAgICBzY3JvbGxJbnRvVmlldyhzZWxlY3RlZEVsKTtcbiAgICB9XG4gIH0sIFsgc2VsZWN0ZWRFbnRyeSBdKTtcblxuICByZXR1cm4gaHRtbGBcbiAgICA8ZGl2IGNsYXNzPVwiZGpzLXBvcHVwLXJlc3VsdHNcIiByZWY9JHsgcmVzdWx0c1JlZiB9PlxuICAgICAgJHsgZ3JvdXBzLm1hcChncm91cCA9PiBodG1sYFxuICAgICAgICAkeyBncm91cC5uYW1lICYmIGh0bWxgXG4gICAgICAgICAgPGRpdiBrZXk9JHsgZ3JvdXAuaWQgfSBjbGFzcz1cImVudHJ5LWhlYWRlclwiIHRpdGxlPSR7IGdyb3VwLm5hbWUgfT5cbiAgICAgICAgICAgICR7IGdyb3VwLm5hbWUgfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgIH1cbiAgICAgICAgPHVsIGNsYXNzPVwiZGpzLXBvcHVwLWdyb3VwXCIgZGF0YS1ncm91cD0keyBncm91cC5pZCB9PlxuICAgICAgICAgICR7IGdyb3VwLmVudHJpZXMubWFwKGVudHJ5ID0+IGh0bWxgXG4gICAgICAgICAgICA8JHtQb3B1cE1lbnVJdGVtfVxuICAgICAgICAgICAgICBrZXk9JHsgZW50cnkuaWQgfVxuICAgICAgICAgICAgICBlbnRyeT0keyBlbnRyeSB9XG4gICAgICAgICAgICAgIHNlbGVjdGVkPSR7IGVudHJ5ID09PSBzZWxlY3RlZEVudHJ5IH1cbiAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPSR7ICgpID0+IHNldFNlbGVjdGVkRW50cnkoZW50cnkpIH1cbiAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPSR7ICgpID0+IHNldFNlbGVjdGVkRW50cnkobnVsbCkgfVxuICAgICAgICAgICAgICAuLi4keyByZXN0UHJvcHMgfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICBgKSB9XG4gICAgICAgIDwvdWw+XG4gICAgICBgKSB9XG4gICAgPC9kaXY+XG4gIGA7XG59XG5cblxuLy8gaGVscGVyc1xuZnVuY3Rpb24gZ3JvdXBFbnRyaWVzKGVudHJpZXMpIHtcbiAgY29uc3QgZ3JvdXBzID0gW107XG5cbiAgY29uc3QgZ2V0R3JvdXAgPSBncm91cCA9PiBncm91cHMuZmluZChlbGVtID0+IGdyb3VwLmlkID09PSBlbGVtLmlkKTtcblxuICBjb25zdCBjb250YWluc0dyb3VwID0gZ3JvdXAgPT4gISFnZXRHcm91cChncm91cCk7XG5cbiAgLy8gbGVnYWN5IHN1cHBvcnQgZm9yIHByb3ZpZGVyIGJ1aWx0IGZvciB0aGUgb2xkIHBvcFVwIG1lbnVcbiAgY29uc3QgZm9ybWF0R3JvdXAgPSBncm91cCA9PlxuICAgIHR5cGVvZiBncm91cCA9PT0gJ3N0cmluZycgPyB7IGlkOiBncm91cCB9IDogZ3JvdXA7XG5cbiAgZW50cmllcy5mb3JFYWNoKGVudHJ5ID0+IHtcblxuICAgIC8vIGFzc3VtZSBhIGRlZmF1bHQgZ3JvdXAgd2hlbiBub25lIGlzIHByb3ZpZGVkXG4gICAgY29uc3QgZ3JvdXAgPSBlbnRyeS5ncm91cCA/IGZvcm1hdEdyb3VwKGVudHJ5Lmdyb3VwKSA6IHsgaWQ6ICdkZWZhdWx0JyB9O1xuXG4gICAgaWYgKCFjb250YWluc0dyb3VwKGdyb3VwKSkge1xuICAgICAgZ3JvdXBzLnB1c2goeyAuLi5ncm91cCwgZW50cmllczogWyBlbnRyeSBdIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZXRHcm91cChncm91cCkuZW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBncm91cHM7XG59XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBzY3JvbGxJbnRvVmlldyhlbCkge1xuICBpZiAodHlwZW9mIGVsLnNjcm9sbEludG9WaWV3SWZOZWVkZWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBlbC5zY3JvbGxJbnRvVmlld0lmTmVlZGVkKCk7XG4gIH0gZWxzZSB7XG4gICAgZWwuc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgc2Nyb2xsTW9kZTogJ2lmLW5lZWRlZCcsXG4gICAgICBibG9jazogJ25lYXJlc3QnXG4gICAgfSk7XG4gIH1cbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/popup-menu/PopupMenuList.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/popup-menu/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/popup-menu/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _PopupMenu__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PopupMenu */ \"(ssr)/./node_modules/diagram-js/lib/features/popup-menu/PopupMenu.js\");\n/* harmony import */ var _search__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../search */ \"(ssr)/./node_modules/diagram-js/lib/features/search/index.js\");\n\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [ _search__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ],\n  __init__: [ 'popupMenu' ],\n  popupMenu: [ 'type', _PopupMenu__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcG9wdXAtbWVudS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBb0M7O0FBRUw7OztBQUcvQjtBQUNBLFdBQVc7QUFDWDtBQUNBLGlFQUFlO0FBQ2YsaUJBQWlCLCtDQUFNO0FBQ3ZCO0FBQ0EsdUJBQXVCLGtEQUFTO0FBQ2hDLENBQUMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9wb3B1cC1tZW51L2luZGV4LmpzPzMxODciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBvcHVwTWVudSBmcm9tICcuL1BvcHVwTWVudSc7XG5cbmltcG9ydCBTZWFyY2ggZnJvbSAnLi4vc2VhcmNoJztcblxuXG4vKipcbiAqIEB0eXBlIHsgaW1wb3J0KCdkaWRpJykuTW9kdWxlRGVjbGFyYXRpb24gfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbIFNlYXJjaCBdLFxuICBfX2luaXRfXzogWyAncG9wdXBNZW51JyBdLFxuICBwb3B1cE1lbnU6IFsgJ3R5cGUnLCBQb3B1cE1lbnUgXVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/popup-menu/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/preview-support/PreviewSupport.js":
/*!********************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/preview-support/PreviewSupport.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PreviewSupport)\n/* harmony export */ });\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/./node_modules/tiny-svg/dist/index.esm.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! min-dom */ \"(ssr)/./node_modules/min-dom/dist/index.esm.js\");\n/* harmony import */ var _util_GraphicsUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/GraphicsUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/GraphicsUtil.js\");\n/* harmony import */ var _util_IdGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/IdGenerator */ \"(ssr)/./node_modules/diagram-js/lib/util/IdGenerator.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @typedef {import('../../core/Types').ElementLike} Element\r\n * @typedef {import('../../core/Types').ShapeLike} Shape\r\n *\r\n * @typedef {import('../../core/Canvas').default} Canvas\r\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\r\n * @typedef {import('../../core/EventBus').default} EventBus\r\n * @typedef {import('../../draw/Styles').default} Styles\r\n */\r\n\r\nconst cloneIds = new _util_IdGenerator__WEBPACK_IMPORTED_MODULE_0__[\"default\"]('ps');\r\n\r\nvar MARKER_TYPES = [\r\n  'marker-start',\r\n  'marker-mid',\r\n  'marker-end'\r\n];\r\n\r\nvar NODES_CAN_HAVE_MARKER = [\r\n  'circle',\r\n  'ellipse',\r\n  'line',\r\n  'path',\r\n  'polygon',\r\n  'polyline',\r\n  'path',\r\n  'rect'\r\n];\r\n\r\n\r\n/**\r\n * Adds support for previews of moving/resizing elements.\r\n *\r\n * @param {ElementRegistry} elementRegistry\r\n * @param {EventBus} eventBus\r\n * @param {Canvas} canvas\r\n * @param {Styles} styles\r\n */\r\nfunction PreviewSupport(elementRegistry, eventBus, canvas, styles) {\r\n  this._elementRegistry = elementRegistry;\r\n  this._canvas = canvas;\r\n  this._styles = styles;\r\n}\r\n\r\nPreviewSupport.$inject = [\r\n  'elementRegistry',\r\n  'eventBus',\r\n  'canvas',\r\n  'styles'\r\n];\r\n\r\n// Markers are cleaned up with visuals, keep stub for compatibility\r\n// cf. https://github.com/camunda/camunda-modeler/issues/4307\r\nPreviewSupport.prototype.cleanUp = function() {\r\n  console.warn('PreviewSupport#cleanUp is deprecated and will be removed in future versions. You do not need to manually clean up previews anymore. cf. https://github.com/bpmn-io/diagram-js/pull/906');\r\n};\r\n\r\n/**\r\n * Returns graphics of an element.\r\n *\r\n * @param {Element} element\r\n *\r\n * @return {SVGElement}\r\n */\r\nPreviewSupport.prototype.getGfx = function(element) {\r\n  return this._elementRegistry.getGraphics(element);\r\n};\r\n\r\n/**\r\n * Adds a move preview of a given shape to a given SVG group.\r\n *\r\n * @param {Element} element The element to be moved.\r\n * @param {SVGElement} group The SVG group to add the preview to.\r\n * @param {SVGElement} [gfx] The optional graphical element of the element.\r\n * @param {string} [className=\"djs-dragger\"] The optional class name to add to the preview.\r\n *\r\n * @return {SVGElement} The preview.\r\n */\r\nPreviewSupport.prototype.addDragger = function(element, group, gfx, className = 'djs-dragger') {\r\n  gfx = gfx || this.getGfx(element);\r\n\r\n  var dragger = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.clone)(gfx);\r\n  var bbox = gfx.getBoundingClientRect();\r\n\r\n  this._cloneMarkers((0,_util_GraphicsUtil__WEBPACK_IMPORTED_MODULE_2__.getVisual)(dragger), className);\r\n\r\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(dragger, this._styles.cls(className, [], {\r\n    x: bbox.top,\r\n    y: bbox.left\r\n  }));\r\n\r\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.append)(group, dragger);\r\n\r\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(dragger, 'data-preview-support-element-id', element.id);\r\n\r\n  return dragger;\r\n};\r\n\r\n/**\r\n * Adds a resize preview of a given shape to a given SVG group.\r\n *\r\n * @param {Shape} shape The element to be resized.\r\n * @param {SVGElement} group The SVG group to add the preview to.\r\n *\r\n * @return {SVGElement} The preview.\r\n */\r\nPreviewSupport.prototype.addFrame = function(shape, group) {\r\n\r\n  var frame = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('rect', {\r\n    class: 'djs-resize-overlay',\r\n    width:  shape.width,\r\n    height: shape.height,\r\n    x: shape.x,\r\n    y: shape.y\r\n  });\r\n\r\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.append)(group, frame);\r\n\r\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(frame, 'data-preview-support-element-id', shape.id);\r\n\r\n  return frame;\r\n};\r\n\r\n/**\r\n * Clone all markers referenced by a node and its child nodes.\r\n *\r\n * @param {SVGElement} gfx\r\n * @param {string} [className=\"djs-dragger\"]\r\n */\r\nPreviewSupport.prototype._cloneMarkers = function(gfx, className = 'djs-dragger', rootGfx = gfx) {\r\n  var self = this;\r\n\r\n  if (gfx.childNodes) {\r\n\r\n    gfx.childNodes.forEach((childNode) => {\r\n      self._cloneMarkers(childNode, className, rootGfx);\r\n    });\r\n\r\n  }\r\n\r\n  if (!canHaveMarker(gfx)) {\r\n    return;\r\n  }\r\n\r\n  MARKER_TYPES.forEach(function(markerType) {\r\n    if ((0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(gfx, markerType)) {\r\n      var marker = getMarker(gfx, markerType, self._canvas.getContainer());\r\n\r\n      // Only clone marker if it is already present on the DOM\r\n      marker && self._cloneMarker(rootGfx, gfx, marker, markerType, className);\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * Clone marker referenced by an element.\r\n *\r\n * @param {SVGElement} gfx\r\n * @param {SVGElement} marker\r\n * @param {string} markerType\r\n * @param {string} [className=\"djs-dragger\"]\r\n */\r\nPreviewSupport.prototype._cloneMarker = function(parentGfx, gfx, marker, markerType, className = 'djs-dragger') {\r\n\r\n  // Add a random suffix to the marker ID in case the same marker is previewed multiple times\r\n  var clonedMarkerId = [ marker.id, className, cloneIds.next() ].join('-');\r\n\r\n  // reuse marker if it was part of original gfx\r\n  var copiedMarker = (0,min_dom__WEBPACK_IMPORTED_MODULE_3__.query)('marker#' + marker.id, parentGfx);\r\n\r\n  parentGfx = parentGfx || this._canvas._svg;\r\n\r\n  var clonedMarker = copiedMarker || (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.clone)(marker);\r\n\r\n  clonedMarker.id = clonedMarkerId;\r\n\r\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.classes)(clonedMarker).add(className);\r\n\r\n  var defs = (0,min_dom__WEBPACK_IMPORTED_MODULE_3__.query)(':scope > defs', parentGfx);\r\n\r\n  if (!defs) {\r\n    defs = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('defs');\r\n\r\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.append)(parentGfx, defs);\r\n  }\r\n\r\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.append)(defs, clonedMarker);\r\n\r\n  var reference = idToReference(clonedMarker.id);\r\n\r\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(gfx, markerType, reference);\r\n};\r\n\r\n// helpers //////////\r\n\r\n/**\r\n * Get marker of given type referenced by node.\r\n *\r\n * @param {HTMLElement} node\r\n * @param {string} markerType\r\n * @param {HTMLElement} [parentNode]\r\n *\r\n * @param {HTMLElement}\r\n */\r\nfunction getMarker(node, markerType, parentNode) {\r\n  var id = referenceToId((0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(node, markerType));\r\n\r\n  return (0,min_dom__WEBPACK_IMPORTED_MODULE_3__.query)('marker#' + id, parentNode || document);\r\n}\r\n\r\n/**\r\n * Get ID of fragment within current document from its functional IRI reference.\r\n * References may use single or double quotes.\r\n *\r\n * @param {string} reference\r\n *\r\n * @return {string}\r\n */\r\nfunction referenceToId(reference) {\r\n  return reference.match(/url\\(['\"]?#([^'\"]*)['\"]?\\)/)[1];\r\n}\r\n\r\n/**\r\n * Get functional IRI reference for given ID of fragment within current document.\r\n *\r\n * @param {string} id\r\n *\r\n * @return {string}\r\n */\r\nfunction idToReference(id) {\r\n  return 'url(#' + id + ')';\r\n}\r\n\r\n/**\r\n * Check wether node type can have marker attributes.\r\n *\r\n * @param {HTMLElement} node\r\n *\r\n * @return {boolean}\r\n */\r\nfunction canHaveMarker(node) {\r\n  return NODES_CAN_HAVE_MARKER.indexOf(node.nodeName) !== -1;\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcHJldmlldy1zdXBwb3J0L1ByZXZpZXdTdXBwb3J0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBTWtCO0FBQ2xCO0FBQzRDO0FBQzVDO0FBQ29EO0FBQ3BEO0FBQ3lDO0FBQ3pDO0FBQ0E7QUFDQSxhQUFhLHdDQUF3QztBQUNyRCxhQUFhLHNDQUFzQztBQUNuRDtBQUNBLGFBQWEscUNBQXFDO0FBQ2xELGFBQWEsOENBQThDO0FBQzNELGFBQWEsdUNBQXVDO0FBQ3BELGFBQWEscUNBQXFDO0FBQ2xEO0FBQ0E7QUFDQSxxQkFBcUIseURBQUc7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlCQUFpQjtBQUM1QixXQUFXLFVBQVU7QUFDckIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsWUFBWTtBQUN2QixXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZLFlBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsK0NBQVE7QUFDeEI7QUFDQTtBQUNBLHFCQUFxQiw2REFBUztBQUM5QjtBQUNBLEVBQUUsOENBQU87QUFDVDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsRUFBRSxnREFBUztBQUNYO0FBQ0EsRUFBRSw4Q0FBTztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsWUFBWTtBQUN2QjtBQUNBLFlBQVksWUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQSxjQUFjLGdEQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxFQUFFLGdEQUFTO0FBQ1g7QUFDQSxFQUFFLDhDQUFPO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsOENBQU87QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkIsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsOENBQVE7QUFDN0I7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLCtDQUFRO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLEVBQUUsaURBQVU7QUFDWjtBQUNBLGFBQWEsOENBQVE7QUFDckI7QUFDQTtBQUNBLFdBQVcsZ0RBQVM7QUFDcEI7QUFDQSxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBLEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQSxFQUFFLDhDQUFPO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGFBQWE7QUFDeEIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsYUFBYTtBQUN4QjtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EseUJBQXlCLDhDQUFPO0FBQ2hDO0FBQ0EsU0FBUyw4Q0FBUTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxhQUFhO0FBQ3hCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3ByZXZpZXctc3VwcG9ydC9QcmV2aWV3U3VwcG9ydC5qcz83MzViIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgYXBwZW5kIGFzIHN2Z0FwcGVuZCxcclxuICBhdHRyIGFzIHN2Z0F0dHIsXHJcbiAgY2xhc3NlcyBhcyBzdmdDbGFzc2VzLFxyXG4gIGNsb25lIGFzIHN2Z0Nsb25lLFxyXG4gIGNyZWF0ZSBhcyBzdmdDcmVhdGUsXHJcbn0gZnJvbSAndGlueS1zdmcnO1xyXG5cclxuaW1wb3J0IHsgcXVlcnkgYXMgZG9tUXVlcnkgfSBmcm9tICdtaW4tZG9tJztcclxuXHJcbmltcG9ydCB7IGdldFZpc3VhbCB9IGZyb20gJy4uLy4uL3V0aWwvR3JhcGhpY3NVdGlsJztcclxuXHJcbmltcG9ydCBJZHMgZnJvbSAnLi4vLi4vdXRpbC9JZEdlbmVyYXRvcic7XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9UeXBlcycpLkVsZW1lbnRMaWtlfSBFbGVtZW50XHJcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvVHlwZXMnKS5TaGFwZUxpa2V9IFNoYXBlXHJcbiAqXHJcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvQ2FudmFzJykuZGVmYXVsdH0gQ2FudmFzXHJcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRWxlbWVudFJlZ2lzdHJ5JykuZGVmYXVsdH0gRWxlbWVudFJlZ2lzdHJ5XHJcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xyXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9kcmF3L1N0eWxlcycpLmRlZmF1bHR9IFN0eWxlc1xyXG4gKi9cclxuXHJcbmNvbnN0IGNsb25lSWRzID0gbmV3IElkcygncHMnKTtcclxuXHJcbnZhciBNQVJLRVJfVFlQRVMgPSBbXHJcbiAgJ21hcmtlci1zdGFydCcsXHJcbiAgJ21hcmtlci1taWQnLFxyXG4gICdtYXJrZXItZW5kJ1xyXG5dO1xyXG5cclxudmFyIE5PREVTX0NBTl9IQVZFX01BUktFUiA9IFtcclxuICAnY2lyY2xlJyxcclxuICAnZWxsaXBzZScsXHJcbiAgJ2xpbmUnLFxyXG4gICdwYXRoJyxcclxuICAncG9seWdvbicsXHJcbiAgJ3BvbHlsaW5lJyxcclxuICAncGF0aCcsXHJcbiAgJ3JlY3QnXHJcbl07XHJcblxyXG5cclxuLyoqXHJcbiAqIEFkZHMgc3VwcG9ydCBmb3IgcHJldmlld3Mgb2YgbW92aW5nL3Jlc2l6aW5nIGVsZW1lbnRzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0VsZW1lbnRSZWdpc3RyeX0gZWxlbWVudFJlZ2lzdHJ5XHJcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXHJcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcclxuICogQHBhcmFtIHtTdHlsZXN9IHN0eWxlc1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUHJldmlld1N1cHBvcnQoZWxlbWVudFJlZ2lzdHJ5LCBldmVudEJ1cywgY2FudmFzLCBzdHlsZXMpIHtcclxuICB0aGlzLl9lbGVtZW50UmVnaXN0cnkgPSBlbGVtZW50UmVnaXN0cnk7XHJcbiAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xyXG4gIHRoaXMuX3N0eWxlcyA9IHN0eWxlcztcclxufVxyXG5cclxuUHJldmlld1N1cHBvcnQuJGluamVjdCA9IFtcclxuICAnZWxlbWVudFJlZ2lzdHJ5JyxcclxuICAnZXZlbnRCdXMnLFxyXG4gICdjYW52YXMnLFxyXG4gICdzdHlsZXMnXHJcbl07XHJcblxyXG4vLyBNYXJrZXJzIGFyZSBjbGVhbmVkIHVwIHdpdGggdmlzdWFscywga2VlcCBzdHViIGZvciBjb21wYXRpYmlsaXR5XHJcbi8vIGNmLiBodHRwczovL2dpdGh1Yi5jb20vY2FtdW5kYS9jYW11bmRhLW1vZGVsZXIvaXNzdWVzLzQzMDdcclxuUHJldmlld1N1cHBvcnQucHJvdG90eXBlLmNsZWFuVXAgPSBmdW5jdGlvbigpIHtcclxuICBjb25zb2xlLndhcm4oJ1ByZXZpZXdTdXBwb3J0I2NsZWFuVXAgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGZ1dHVyZSB2ZXJzaW9ucy4gWW91IGRvIG5vdCBuZWVkIHRvIG1hbnVhbGx5IGNsZWFuIHVwIHByZXZpZXdzIGFueW1vcmUuIGNmLiBodHRwczovL2dpdGh1Yi5jb20vYnBtbi1pby9kaWFncmFtLWpzL3B1bGwvOTA2Jyk7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyBncmFwaGljcyBvZiBhbiBlbGVtZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcclxuICpcclxuICogQHJldHVybiB7U1ZHRWxlbWVudH1cclxuICovXHJcblByZXZpZXdTdXBwb3J0LnByb3RvdHlwZS5nZXRHZnggPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgcmV0dXJuIHRoaXMuX2VsZW1lbnRSZWdpc3RyeS5nZXRHcmFwaGljcyhlbGVtZW50KTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBBZGRzIGEgbW92ZSBwcmV2aWV3IG9mIGEgZ2l2ZW4gc2hhcGUgdG8gYSBnaXZlbiBTVkcgZ3JvdXAuXHJcbiAqXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBiZSBtb3ZlZC5cclxuICogQHBhcmFtIHtTVkdFbGVtZW50fSBncm91cCBUaGUgU1ZHIGdyb3VwIHRvIGFkZCB0aGUgcHJldmlldyB0by5cclxuICogQHBhcmFtIHtTVkdFbGVtZW50fSBbZ2Z4XSBUaGUgb3B0aW9uYWwgZ3JhcGhpY2FsIGVsZW1lbnQgb2YgdGhlIGVsZW1lbnQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBbY2xhc3NOYW1lPVwiZGpzLWRyYWdnZXJcIl0gVGhlIG9wdGlvbmFsIGNsYXNzIG5hbWUgdG8gYWRkIHRvIHRoZSBwcmV2aWV3LlxyXG4gKlxyXG4gKiBAcmV0dXJuIHtTVkdFbGVtZW50fSBUaGUgcHJldmlldy5cclxuICovXHJcblByZXZpZXdTdXBwb3J0LnByb3RvdHlwZS5hZGREcmFnZ2VyID0gZnVuY3Rpb24oZWxlbWVudCwgZ3JvdXAsIGdmeCwgY2xhc3NOYW1lID0gJ2Rqcy1kcmFnZ2VyJykge1xyXG4gIGdmeCA9IGdmeCB8fCB0aGlzLmdldEdmeChlbGVtZW50KTtcclxuXHJcbiAgdmFyIGRyYWdnZXIgPSBzdmdDbG9uZShnZngpO1xyXG4gIHZhciBiYm94ID0gZ2Z4LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICB0aGlzLl9jbG9uZU1hcmtlcnMoZ2V0VmlzdWFsKGRyYWdnZXIpLCBjbGFzc05hbWUpO1xyXG5cclxuICBzdmdBdHRyKGRyYWdnZXIsIHRoaXMuX3N0eWxlcy5jbHMoY2xhc3NOYW1lLCBbXSwge1xyXG4gICAgeDogYmJveC50b3AsXHJcbiAgICB5OiBiYm94LmxlZnRcclxuICB9KSk7XHJcblxyXG4gIHN2Z0FwcGVuZChncm91cCwgZHJhZ2dlcik7XHJcblxyXG4gIHN2Z0F0dHIoZHJhZ2dlciwgJ2RhdGEtcHJldmlldy1zdXBwb3J0LWVsZW1lbnQtaWQnLCBlbGVtZW50LmlkKTtcclxuXHJcbiAgcmV0dXJuIGRyYWdnZXI7XHJcbn07XHJcblxyXG4vKipcclxuICogQWRkcyBhIHJlc2l6ZSBwcmV2aWV3IG9mIGEgZ2l2ZW4gc2hhcGUgdG8gYSBnaXZlbiBTVkcgZ3JvdXAuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U2hhcGV9IHNoYXBlIFRoZSBlbGVtZW50IHRvIGJlIHJlc2l6ZWQuXHJcbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZ3JvdXAgVGhlIFNWRyBncm91cCB0byBhZGQgdGhlIHByZXZpZXcgdG8uXHJcbiAqXHJcbiAqIEByZXR1cm4ge1NWR0VsZW1lbnR9IFRoZSBwcmV2aWV3LlxyXG4gKi9cclxuUHJldmlld1N1cHBvcnQucHJvdG90eXBlLmFkZEZyYW1lID0gZnVuY3Rpb24oc2hhcGUsIGdyb3VwKSB7XHJcblxyXG4gIHZhciBmcmFtZSA9IHN2Z0NyZWF0ZSgncmVjdCcsIHtcclxuICAgIGNsYXNzOiAnZGpzLXJlc2l6ZS1vdmVybGF5JyxcclxuICAgIHdpZHRoOiAgc2hhcGUud2lkdGgsXHJcbiAgICBoZWlnaHQ6IHNoYXBlLmhlaWdodCxcclxuICAgIHg6IHNoYXBlLngsXHJcbiAgICB5OiBzaGFwZS55XHJcbiAgfSk7XHJcblxyXG4gIHN2Z0FwcGVuZChncm91cCwgZnJhbWUpO1xyXG5cclxuICBzdmdBdHRyKGZyYW1lLCAnZGF0YS1wcmV2aWV3LXN1cHBvcnQtZWxlbWVudC1pZCcsIHNoYXBlLmlkKTtcclxuXHJcbiAgcmV0dXJuIGZyYW1lO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENsb25lIGFsbCBtYXJrZXJzIHJlZmVyZW5jZWQgYnkgYSBub2RlIGFuZCBpdHMgY2hpbGQgbm9kZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZ2Z4XHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBbY2xhc3NOYW1lPVwiZGpzLWRyYWdnZXJcIl1cclxuICovXHJcblByZXZpZXdTdXBwb3J0LnByb3RvdHlwZS5fY2xvbmVNYXJrZXJzID0gZnVuY3Rpb24oZ2Z4LCBjbGFzc05hbWUgPSAnZGpzLWRyYWdnZXInLCByb290R2Z4ID0gZ2Z4KSB7XHJcbiAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICBpZiAoZ2Z4LmNoaWxkTm9kZXMpIHtcclxuXHJcbiAgICBnZnguY2hpbGROb2Rlcy5mb3JFYWNoKChjaGlsZE5vZGUpID0+IHtcclxuICAgICAgc2VsZi5fY2xvbmVNYXJrZXJzKGNoaWxkTm9kZSwgY2xhc3NOYW1lLCByb290R2Z4KTtcclxuICAgIH0pO1xyXG5cclxuICB9XHJcblxyXG4gIGlmICghY2FuSGF2ZU1hcmtlcihnZngpKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBNQVJLRVJfVFlQRVMuZm9yRWFjaChmdW5jdGlvbihtYXJrZXJUeXBlKSB7XHJcbiAgICBpZiAoc3ZnQXR0cihnZngsIG1hcmtlclR5cGUpKSB7XHJcbiAgICAgIHZhciBtYXJrZXIgPSBnZXRNYXJrZXIoZ2Z4LCBtYXJrZXJUeXBlLCBzZWxmLl9jYW52YXMuZ2V0Q29udGFpbmVyKCkpO1xyXG5cclxuICAgICAgLy8gT25seSBjbG9uZSBtYXJrZXIgaWYgaXQgaXMgYWxyZWFkeSBwcmVzZW50IG9uIHRoZSBET01cclxuICAgICAgbWFya2VyICYmIHNlbGYuX2Nsb25lTWFya2VyKHJvb3RHZngsIGdmeCwgbWFya2VyLCBtYXJrZXJUeXBlLCBjbGFzc05hbWUpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENsb25lIG1hcmtlciByZWZlcmVuY2VkIGJ5IGFuIGVsZW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZ2Z4XHJcbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gbWFya2VyXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYXJrZXJUeXBlXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBbY2xhc3NOYW1lPVwiZGpzLWRyYWdnZXJcIl1cclxuICovXHJcblByZXZpZXdTdXBwb3J0LnByb3RvdHlwZS5fY2xvbmVNYXJrZXIgPSBmdW5jdGlvbihwYXJlbnRHZngsIGdmeCwgbWFya2VyLCBtYXJrZXJUeXBlLCBjbGFzc05hbWUgPSAnZGpzLWRyYWdnZXInKSB7XHJcblxyXG4gIC8vIEFkZCBhIHJhbmRvbSBzdWZmaXggdG8gdGhlIG1hcmtlciBJRCBpbiBjYXNlIHRoZSBzYW1lIG1hcmtlciBpcyBwcmV2aWV3ZWQgbXVsdGlwbGUgdGltZXNcclxuICB2YXIgY2xvbmVkTWFya2VySWQgPSBbIG1hcmtlci5pZCwgY2xhc3NOYW1lLCBjbG9uZUlkcy5uZXh0KCkgXS5qb2luKCctJyk7XHJcblxyXG4gIC8vIHJldXNlIG1hcmtlciBpZiBpdCB3YXMgcGFydCBvZiBvcmlnaW5hbCBnZnhcclxuICB2YXIgY29waWVkTWFya2VyID0gZG9tUXVlcnkoJ21hcmtlciMnICsgbWFya2VyLmlkLCBwYXJlbnRHZngpO1xyXG5cclxuICBwYXJlbnRHZnggPSBwYXJlbnRHZnggfHwgdGhpcy5fY2FudmFzLl9zdmc7XHJcblxyXG4gIHZhciBjbG9uZWRNYXJrZXIgPSBjb3BpZWRNYXJrZXIgfHwgc3ZnQ2xvbmUobWFya2VyKTtcclxuXHJcbiAgY2xvbmVkTWFya2VyLmlkID0gY2xvbmVkTWFya2VySWQ7XHJcblxyXG4gIHN2Z0NsYXNzZXMoY2xvbmVkTWFya2VyKS5hZGQoY2xhc3NOYW1lKTtcclxuXHJcbiAgdmFyIGRlZnMgPSBkb21RdWVyeSgnOnNjb3BlID4gZGVmcycsIHBhcmVudEdmeCk7XHJcblxyXG4gIGlmICghZGVmcykge1xyXG4gICAgZGVmcyA9IHN2Z0NyZWF0ZSgnZGVmcycpO1xyXG5cclxuICAgIHN2Z0FwcGVuZChwYXJlbnRHZngsIGRlZnMpO1xyXG4gIH1cclxuXHJcbiAgc3ZnQXBwZW5kKGRlZnMsIGNsb25lZE1hcmtlcik7XHJcblxyXG4gIHZhciByZWZlcmVuY2UgPSBpZFRvUmVmZXJlbmNlKGNsb25lZE1hcmtlci5pZCk7XHJcblxyXG4gIHN2Z0F0dHIoZ2Z4LCBtYXJrZXJUeXBlLCByZWZlcmVuY2UpO1xyXG59O1xyXG5cclxuLy8gaGVscGVycyAvLy8vLy8vLy8vXHJcblxyXG4vKipcclxuICogR2V0IG1hcmtlciBvZiBnaXZlbiB0eXBlIHJlZmVyZW5jZWQgYnkgbm9kZS5cclxuICpcclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFya2VyVHlwZVxyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBbcGFyZW50Tm9kZV1cclxuICpcclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH1cclxuICovXHJcbmZ1bmN0aW9uIGdldE1hcmtlcihub2RlLCBtYXJrZXJUeXBlLCBwYXJlbnROb2RlKSB7XHJcbiAgdmFyIGlkID0gcmVmZXJlbmNlVG9JZChzdmdBdHRyKG5vZGUsIG1hcmtlclR5cGUpKTtcclxuXHJcbiAgcmV0dXJuIGRvbVF1ZXJ5KCdtYXJrZXIjJyArIGlkLCBwYXJlbnROb2RlIHx8IGRvY3VtZW50KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCBJRCBvZiBmcmFnbWVudCB3aXRoaW4gY3VycmVudCBkb2N1bWVudCBmcm9tIGl0cyBmdW5jdGlvbmFsIElSSSByZWZlcmVuY2UuXHJcbiAqIFJlZmVyZW5jZXMgbWF5IHVzZSBzaW5nbGUgb3IgZG91YmxlIHF1b3Rlcy5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IHJlZmVyZW5jZVxyXG4gKlxyXG4gKiBAcmV0dXJuIHtzdHJpbmd9XHJcbiAqL1xyXG5mdW5jdGlvbiByZWZlcmVuY2VUb0lkKHJlZmVyZW5jZSkge1xyXG4gIHJldHVybiByZWZlcmVuY2UubWF0Y2goL3VybFxcKFsnXCJdPyMoW14nXCJdKilbJ1wiXT9cXCkvKVsxXTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCBmdW5jdGlvbmFsIElSSSByZWZlcmVuY2UgZm9yIGdpdmVuIElEIG9mIGZyYWdtZW50IHdpdGhpbiBjdXJyZW50IGRvY3VtZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcclxuICpcclxuICogQHJldHVybiB7c3RyaW5nfVxyXG4gKi9cclxuZnVuY3Rpb24gaWRUb1JlZmVyZW5jZShpZCkge1xyXG4gIHJldHVybiAndXJsKCMnICsgaWQgKyAnKSc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGVjayB3ZXRoZXIgbm9kZSB0eXBlIGNhbiBoYXZlIG1hcmtlciBhdHRyaWJ1dGVzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlXHJcbiAqXHJcbiAqIEByZXR1cm4ge2Jvb2xlYW59XHJcbiAqL1xyXG5mdW5jdGlvbiBjYW5IYXZlTWFya2VyKG5vZGUpIHtcclxuICByZXR1cm4gTk9ERVNfQ0FOX0hBVkVfTUFSS0VSLmluZGV4T2Yobm9kZS5ub2RlTmFtZSkgIT09IC0xO1xyXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/preview-support/PreviewSupport.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/preview-support/index.js":
/*!***********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/preview-support/index.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _PreviewSupport__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PreviewSupport */ \"(ssr)/./node_modules/diagram-js/lib/features/preview-support/PreviewSupport.js\");\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [ 'previewSupport' ],\n  previewSupport: [ 'type', _PreviewSupport__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcHJldmlldy1zdXBwb3J0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQThDOzs7QUFHOUM7QUFDQSxXQUFXO0FBQ1g7QUFDQSxpRUFBZTtBQUNmO0FBQ0EsNEJBQTRCLHVEQUFjO0FBQzFDLENBQUMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9wcmV2aWV3LXN1cHBvcnQvaW5kZXguanM/MWVlYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJldmlld1N1cHBvcnQgZnJvbSAnLi9QcmV2aWV3U3VwcG9ydCc7XG5cblxuLyoqXG4gKiBAdHlwZSB7IGltcG9ydCgnZGlkaScpLk1vZHVsZURlY2xhcmF0aW9uIH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogWyAncHJldmlld1N1cHBvcnQnIF0sXG4gIHByZXZpZXdTdXBwb3J0OiBbICd0eXBlJywgUHJldmlld1N1cHBvcnQgXVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/preview-support/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/replace/Replace.js":
/*!*****************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/replace/Replace.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Replace)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('diagram-js/lib/core/EventBus').default} EventBus\n * @typedef {import('../modeling/Modeling').default} Modeling\n *\n * @typedef {import('../../core/Types').ShapeLike} Shape\n */\n\nvar round = Math.round;\n\n/**\n * Service that allows replacing of elements.\n *\n * @param {Modeling} modeling\n * @param {EventBus} eventBus\n */\nfunction Replace(modeling, eventBus) {\n  this._modeling = modeling;\n  this._eventBus = eventBus;\n}\n\nReplace.$inject = [ 'modeling', 'eventBus' ];\n\n/**\n * Replace an element.\n *\n * @param {Shape} oldElement The element to be replaced.\n * @param {Object} attrs Containing information about the new element, for\n * example the new bounds and type.\n * @param {Object} hints Custom hints that will be attached to the context. It\n * can be used to inject data that is needed in the command chain. For example\n * it could be used in eventbus.on('commandStack.shape.replace.postExecute') to\n * change shape attributes after shape creation.\n *\n * @return {Shape}\n */\nReplace.prototype.replaceElement = function(oldElement, attrs, hints) {\n\n  if (oldElement.waypoints) {\n\n    // TODO(nikku): we do not replace connections, yet\n    return null;\n  }\n\n  var modeling = this._modeling;\n  var eventBus = this._eventBus;\n\n  eventBus.fire('replace.start', {\n    element: oldElement,\n    attrs,\n    hints\n  });\n\n  var width = attrs.width || oldElement.width,\n      height = attrs.height || oldElement.height,\n      x = attrs.x || oldElement.x,\n      y = attrs.y || oldElement.y,\n      centerX = round(x + width / 2),\n      centerY = round(y + height / 2);\n\n  // modeling API requires center coordinates,\n  // account for that when handling shape bounds\n\n  var newElement = modeling.replaceShape(\n    oldElement,\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(\n      {},\n      attrs,\n      {\n        x: centerX,\n        y: centerY,\n        width: width,\n        height: height\n      }\n    ),\n    hints\n  );\n\n  eventBus.fire('replace.end', {\n    element: oldElement,\n    newElement,\n    hints\n  });\n\n  return newElement;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcmVwbGFjZS9SZXBsYWNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBRWtCOztBQUVsQjtBQUNBLGFBQWEsZ0RBQWdEO0FBQzdELGFBQWEsd0NBQXdDO0FBQ3JEO0FBQ0EsYUFBYSxzQ0FBc0M7QUFDbkQ7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsVUFBVTtBQUNyQjtBQUNlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUksZ0RBQU07QUFDVixRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcmVwbGFjZS9SZXBsYWNlLmpzP2FlNDIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgYXNzaWduXG59IGZyb20gJ21pbi1kYXNoJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCdkaWFncmFtLWpzL2xpYi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL21vZGVsaW5nL01vZGVsaW5nJykuZGVmYXVsdH0gTW9kZWxpbmdcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL1R5cGVzJykuU2hhcGVMaWtlfSBTaGFwZVxuICovXG5cbnZhciByb3VuZCA9IE1hdGgucm91bmQ7XG5cbi8qKlxuICogU2VydmljZSB0aGF0IGFsbG93cyByZXBsYWNpbmcgb2YgZWxlbWVudHMuXG4gKlxuICogQHBhcmFtIHtNb2RlbGluZ30gbW9kZWxpbmdcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJlcGxhY2UobW9kZWxpbmcsIGV2ZW50QnVzKSB7XG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG59XG5cblJlcGxhY2UuJGluamVjdCA9IFsgJ21vZGVsaW5nJywgJ2V2ZW50QnVzJyBdO1xuXG4vKipcbiAqIFJlcGxhY2UgYW4gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge1NoYXBlfSBvbGRFbGVtZW50IFRoZSBlbGVtZW50IHRvIGJlIHJlcGxhY2VkLlxuICogQHBhcmFtIHtPYmplY3R9IGF0dHJzIENvbnRhaW5pbmcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG5ldyBlbGVtZW50LCBmb3JcbiAqIGV4YW1wbGUgdGhlIG5ldyBib3VuZHMgYW5kIHR5cGUuXG4gKiBAcGFyYW0ge09iamVjdH0gaGludHMgQ3VzdG9tIGhpbnRzIHRoYXQgd2lsbCBiZSBhdHRhY2hlZCB0byB0aGUgY29udGV4dC4gSXRcbiAqIGNhbiBiZSB1c2VkIHRvIGluamVjdCBkYXRhIHRoYXQgaXMgbmVlZGVkIGluIHRoZSBjb21tYW5kIGNoYWluLiBGb3IgZXhhbXBsZVxuICogaXQgY291bGQgYmUgdXNlZCBpbiBldmVudGJ1cy5vbignY29tbWFuZFN0YWNrLnNoYXBlLnJlcGxhY2UucG9zdEV4ZWN1dGUnKSB0b1xuICogY2hhbmdlIHNoYXBlIGF0dHJpYnV0ZXMgYWZ0ZXIgc2hhcGUgY3JlYXRpb24uXG4gKlxuICogQHJldHVybiB7U2hhcGV9XG4gKi9cblJlcGxhY2UucHJvdG90eXBlLnJlcGxhY2VFbGVtZW50ID0gZnVuY3Rpb24ob2xkRWxlbWVudCwgYXR0cnMsIGhpbnRzKSB7XG5cbiAgaWYgKG9sZEVsZW1lbnQud2F5cG9pbnRzKSB7XG5cbiAgICAvLyBUT0RPKG5pa2t1KTogd2UgZG8gbm90IHJlcGxhY2UgY29ubmVjdGlvbnMsIHlldFxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIG1vZGVsaW5nID0gdGhpcy5fbW9kZWxpbmc7XG4gIHZhciBldmVudEJ1cyA9IHRoaXMuX2V2ZW50QnVzO1xuXG4gIGV2ZW50QnVzLmZpcmUoJ3JlcGxhY2Uuc3RhcnQnLCB7XG4gICAgZWxlbWVudDogb2xkRWxlbWVudCxcbiAgICBhdHRycyxcbiAgICBoaW50c1xuICB9KTtcblxuICB2YXIgd2lkdGggPSBhdHRycy53aWR0aCB8fCBvbGRFbGVtZW50LndpZHRoLFxuICAgICAgaGVpZ2h0ID0gYXR0cnMuaGVpZ2h0IHx8IG9sZEVsZW1lbnQuaGVpZ2h0LFxuICAgICAgeCA9IGF0dHJzLnggfHwgb2xkRWxlbWVudC54LFxuICAgICAgeSA9IGF0dHJzLnkgfHwgb2xkRWxlbWVudC55LFxuICAgICAgY2VudGVyWCA9IHJvdW5kKHggKyB3aWR0aCAvIDIpLFxuICAgICAgY2VudGVyWSA9IHJvdW5kKHkgKyBoZWlnaHQgLyAyKTtcblxuICAvLyBtb2RlbGluZyBBUEkgcmVxdWlyZXMgY2VudGVyIGNvb3JkaW5hdGVzLFxuICAvLyBhY2NvdW50IGZvciB0aGF0IHdoZW4gaGFuZGxpbmcgc2hhcGUgYm91bmRzXG5cbiAgdmFyIG5ld0VsZW1lbnQgPSBtb2RlbGluZy5yZXBsYWNlU2hhcGUoXG4gICAgb2xkRWxlbWVudCxcbiAgICBhc3NpZ24oXG4gICAgICB7fSxcbiAgICAgIGF0dHJzLFxuICAgICAge1xuICAgICAgICB4OiBjZW50ZXJYLFxuICAgICAgICB5OiBjZW50ZXJZLFxuICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgICB9XG4gICAgKSxcbiAgICBoaW50c1xuICApO1xuXG4gIGV2ZW50QnVzLmZpcmUoJ3JlcGxhY2UuZW5kJywge1xuICAgIGVsZW1lbnQ6IG9sZEVsZW1lbnQsXG4gICAgbmV3RWxlbWVudCxcbiAgICBoaW50c1xuICB9KTtcblxuICByZXR1cm4gbmV3RWxlbWVudDtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/replace/Replace.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/replace/ReplaceSelectionBehavior.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/replace/ReplaceSelectionBehavior.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ReplaceSelectionBehavior)\n/* harmony export */ });\nfunction ReplaceSelectionBehavior(selection, eventBus) {\n\n  eventBus.on('replace.end', 500, function(event) {\n    const {\n      newElement,\n      hints = {}\n    } = event;\n\n    if (hints.select === false) {\n      return;\n    }\n\n    selection.select(newElement);\n  });\n\n}\n\nReplaceSelectionBehavior.$inject = [ 'selection', 'eventBus' ];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcmVwbGFjZS9SZXBsYWNlU2VsZWN0aW9uQmVoYXZpb3IuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFlOztBQUVmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3JlcGxhY2UvUmVwbGFjZVNlbGVjdGlvbkJlaGF2aW9yLmpzPzI2MDMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUmVwbGFjZVNlbGVjdGlvbkJlaGF2aW9yKHNlbGVjdGlvbiwgZXZlbnRCdXMpIHtcblxuICBldmVudEJ1cy5vbigncmVwbGFjZS5lbmQnLCA1MDAsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgY29uc3Qge1xuICAgICAgbmV3RWxlbWVudCxcbiAgICAgIGhpbnRzID0ge31cbiAgICB9ID0gZXZlbnQ7XG5cbiAgICBpZiAoaGludHMuc2VsZWN0ID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNlbGVjdGlvbi5zZWxlY3QobmV3RWxlbWVudCk7XG4gIH0pO1xuXG59XG5cblJlcGxhY2VTZWxlY3Rpb25CZWhhdmlvci4kaW5qZWN0ID0gWyAnc2VsZWN0aW9uJywgJ2V2ZW50QnVzJyBdOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/replace/ReplaceSelectionBehavior.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/replace/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/replace/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Replace__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Replace */ \"(ssr)/./node_modules/diagram-js/lib/features/replace/Replace.js\");\n/* harmony import */ var _ReplaceSelectionBehavior__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ReplaceSelectionBehavior */ \"(ssr)/./node_modules/diagram-js/lib/features/replace/ReplaceSelectionBehavior.js\");\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [ 'replace', 'replaceSelectionBehavior' ],\n  replaceSelectionBehavior: [ 'type', _ReplaceSelectionBehavior__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ],\n  replace: [ 'type', _Replace__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcmVwbGFjZS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFDa0M7OztBQUdsRTtBQUNBLFdBQVc7QUFDWDtBQUNBLGlFQUFlO0FBQ2Y7QUFDQSxzQ0FBc0MsaUVBQXdCO0FBQzlELHFCQUFxQixnREFBTztBQUM1QixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3JlcGxhY2UvaW5kZXguanM/ODA4ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVwbGFjZSBmcm9tICcuL1JlcGxhY2UnO1xuaW1wb3J0IFJlcGxhY2VTZWxlY3Rpb25CZWhhdmlvciBmcm9tICcuL1JlcGxhY2VTZWxlY3Rpb25CZWhhdmlvcic7XG5cblxuLyoqXG4gKiBAdHlwZSB7IGltcG9ydCgnZGlkaScpLk1vZHVsZURlY2xhcmF0aW9uIH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogWyAncmVwbGFjZScsICdyZXBsYWNlU2VsZWN0aW9uQmVoYXZpb3InIF0sXG4gIHJlcGxhY2VTZWxlY3Rpb25CZWhhdmlvcjogWyAndHlwZScsIFJlcGxhY2VTZWxlY3Rpb25CZWhhdmlvciBdLFxuICByZXBsYWNlOiBbICd0eXBlJywgUmVwbGFjZSBdXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/replace/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/resize/Resize.js":
/*!***************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/resize/Resize.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Resize),\n/* harmony export */   getReferencePoint: () => (/* binding */ getReferencePoint)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _ResizeUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ResizeUtil */ \"(ssr)/./node_modules/diagram-js/lib/features/resize/ResizeUtil.js\");\n/* harmony import */ var _layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../layout/LayoutUtil */ \"(ssr)/./node_modules/diagram-js/lib/layout/LayoutUtil.js\");\n\n\n\n\n\n\n/**\n * @typedef {import('../../core/Types').ShapeLike} Shape\n *\n * @typedef {import('../../util/Types').Direction} Direction\n * @typedef {import('../../util/Types').Point} Point\n *\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../dragging/Dragging').default} Dragging\n * @typedef {import('../modeling/Modeling').default} Modeling\n * @typedef {import('../rules/Rules').default} Rules\n */\n\nvar DEFAULT_MIN_WIDTH = 10;\n\n\n/**\n * A component that provides resizing of shapes on the canvas.\n *\n * The following components are part of shape resize:\n *\n *  * adding resize handles,\n *  * creating a visual during resize\n *  * checking resize rules\n *  * committing a change once finished\n *\n *\n * ## Customizing\n *\n * It's possible to customize the resizing behaviour by intercepting 'resize.start'\n * and providing the following parameters through the 'context':\n *\n *   * minDimensions ({ width, height }): minimum shape dimensions\n *\n *   * childrenBoxPadding ({ left, top, bottom, right } || number):\n *     gap between the minimum bounding box and the container\n *\n * f.ex:\n *\n * ```javascript\n * eventBus.on('resize.start', 1500, function(event) {\n *   var context = event.context,\n *\n *  context.minDimensions = { width: 140, height: 120 };\n *\n *  // Passing general padding\n *  context.childrenBoxPadding = 30;\n *\n *  // Passing padding to a specific side\n *  context.childrenBoxPadding.left = 20;\n * });\n * ```\n *\n * @param {EventBus} eventBus\n * @param {Rules} rules\n * @param {Modeling} modeling\n * @param {Dragging} dragging\n */\nfunction Resize(eventBus, rules, modeling, dragging) {\n\n  this._dragging = dragging;\n  this._rules = rules;\n\n  var self = this;\n\n\n  /**\n   * Handle resize move by specified delta.\n   *\n   * @param {Object} context\n   * @param {Point} delta\n   */\n  function handleMove(context, delta) {\n\n    var shape = context.shape,\n        direction = context.direction,\n        resizeConstraints = context.resizeConstraints,\n        newBounds;\n\n    context.delta = delta;\n\n    newBounds = (0,_ResizeUtil__WEBPACK_IMPORTED_MODULE_0__.resizeBounds)(shape, direction, delta);\n\n    // ensure constraints during resize\n    context.newBounds = (0,_ResizeUtil__WEBPACK_IMPORTED_MODULE_0__.ensureConstraints)(newBounds, resizeConstraints);\n\n    // update + cache executable state\n    context.canExecute = self.canResize(context);\n  }\n\n  /**\n   * Handle resize start.\n   *\n   * @param {Object} context\n   */\n  function handleStart(context) {\n\n    var resizeConstraints = context.resizeConstraints,\n\n        // evaluate minBounds for backwards compatibility\n        minBounds = context.minBounds;\n\n    if (resizeConstraints !== undefined) {\n      return;\n    }\n\n    if (minBounds === undefined) {\n      minBounds = self.computeMinResizeBox(context);\n    }\n\n    context.resizeConstraints = {\n      min: (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(minBounds)\n    };\n  }\n\n  /**\n   * Handle resize end.\n   *\n   * @param {Object} context\n   */\n  function handleEnd(context) {\n    var shape = context.shape,\n        canExecute = context.canExecute,\n        newBounds = context.newBounds;\n\n    if (canExecute) {\n\n      // ensure we have actual pixel values for new bounds\n      // (important when zoom level was > 1 during move)\n      newBounds = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.roundBounds)(newBounds);\n\n      if (!boundsChanged(shape, newBounds)) {\n\n        // no resize necessary\n        return;\n      }\n\n      // perform the actual resize\n      modeling.resizeShape(shape, newBounds);\n    }\n  }\n\n\n  eventBus.on('resize.start', function(event) {\n    handleStart(event.context);\n  });\n\n  eventBus.on('resize.move', function(event) {\n    var delta = {\n      x: event.dx,\n      y: event.dy\n    };\n\n    handleMove(event.context, delta);\n  });\n\n  eventBus.on('resize.end', function(event) {\n    handleEnd(event.context);\n  });\n\n}\n\n\nResize.prototype.canResize = function(context) {\n  var rules = this._rules;\n\n  var ctx = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.pick)(context, [ 'newBounds', 'shape', 'delta', 'direction' ]);\n\n  return rules.allowed('shape.resize', ctx);\n};\n\n/**\n * Activate a resize operation.\n *\n * You may specify additional contextual information and must specify a\n * resize direction during activation of the resize event.\n *\n * @param {MouseEvent|TouchEvent} event\n * @param {Shape} shape\n * @param {Object|Direction} contextOrDirection\n */\nResize.prototype.activate = function(event, shape, contextOrDirection) {\n  var dragging = this._dragging,\n      context,\n      direction;\n\n  if (typeof contextOrDirection === 'string') {\n    contextOrDirection = {\n      direction: contextOrDirection\n    };\n  }\n\n  context = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.assign)({ shape: shape }, contextOrDirection);\n\n  direction = context.direction;\n\n  if (!direction) {\n    throw new Error('must provide a direction (n|w|s|e|nw|se|ne|sw)');\n  }\n\n  dragging.init(event, getReferencePoint(shape, direction), 'resize', {\n    autoActivate: true,\n    cursor: getCursor(direction),\n    data: {\n      shape: shape,\n      context: context\n    }\n  });\n};\n\nResize.prototype.computeMinResizeBox = function(context) {\n  var shape = context.shape,\n      direction = context.direction,\n      minDimensions,\n      childrenBounds;\n\n  minDimensions = context.minDimensions || {\n    width: DEFAULT_MIN_WIDTH,\n    height: DEFAULT_MIN_WIDTH\n  };\n\n  // get children bounds\n  childrenBounds = (0,_ResizeUtil__WEBPACK_IMPORTED_MODULE_0__.computeChildrenBBox)(shape, context.childrenBoxPadding);\n\n  // get correct minimum bounds from given resize direction\n  // basically ensures that the minBounds is max(childrenBounds, minDimensions)\n  return (0,_ResizeUtil__WEBPACK_IMPORTED_MODULE_0__.getMinResizeBounds)(direction, shape, minDimensions, childrenBounds);\n};\n\n\nResize.$inject = [\n  'eventBus',\n  'rules',\n  'modeling',\n  'dragging'\n];\n\n// helpers //////////\n\nfunction boundsChanged(shape, newBounds) {\n  return shape.x !== newBounds.x ||\n    shape.y !== newBounds.y ||\n    shape.width !== newBounds.width ||\n    shape.height !== newBounds.height;\n}\n\nfunction getReferencePoint(shape, direction) {\n  var mid = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.getMid)(shape),\n      trbl = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(shape);\n\n  var referencePoint = {\n    x: mid.x,\n    y: mid.y\n  };\n\n  if (direction.indexOf('n') !== -1) {\n    referencePoint.y = trbl.top;\n  } else if (direction.indexOf('s') !== -1) {\n    referencePoint.y = trbl.bottom;\n  }\n\n  if (direction.indexOf('e') !== -1) {\n    referencePoint.x = trbl.right;\n  } else if (direction.indexOf('w') !== -1) {\n    referencePoint.x = trbl.left;\n  }\n\n  return referencePoint;\n}\n\nfunction getCursor(direction) {\n  var prefix = 'resize-';\n\n  if (direction === 'n' || direction === 's') {\n    return prefix + 'ns';\n  } else if (direction === 'e' || direction === 'w') {\n    return prefix + 'ew';\n  } else if (direction === 'nw' || direction === 'se') {\n    return prefix + 'nwse';\n  } else {\n    return prefix + 'nesw';\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcmVzaXplL1Jlc2l6ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUdrQjs7QUFPSTs7QUFNVzs7QUFFakM7QUFDQSxhQUFhLHNDQUFzQztBQUNuRDtBQUNBLGFBQWEsc0NBQXNDO0FBQ25ELGFBQWEsa0NBQWtDO0FBQy9DO0FBQ0EsYUFBYSx1Q0FBdUM7QUFDcEQsYUFBYSx3Q0FBd0M7QUFDckQsYUFBYSx3Q0FBd0M7QUFDckQsYUFBYSxrQ0FBa0M7QUFDL0M7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGVBQWU7QUFDdkM7QUFDQSw2QkFBNkIsMkJBQTJCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsVUFBVTtBQUNyQixXQUFXLFVBQVU7QUFDckI7QUFDZTs7QUFFZjtBQUNBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsZ0JBQWdCLHlEQUFZOztBQUU1QjtBQUNBLHdCQUF3Qiw4REFBaUI7O0FBRXpDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLDBEQUFNO0FBQ2pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQiwrREFBVzs7QUFFN0I7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7O0FBR0E7QUFDQTs7QUFFQSxZQUFZLDhDQUFJOztBQUVoQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsdUJBQXVCO0FBQ2xDLFdBQVcsT0FBTztBQUNsQixXQUFXLGtCQUFrQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsWUFBWSxnREFBTSxHQUFHLGNBQWM7O0FBRW5DOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CLGdFQUFtQjs7QUFFdEM7QUFDQTtBQUNBLFNBQVMsK0RBQWtCO0FBQzNCOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1AsWUFBWSwwREFBTTtBQUNsQixhQUFhLDBEQUFNOztBQUVuQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9yZXNpemUvUmVzaXplLmpzPzZlNDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgcGljayxcbiAgYXNzaWduXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgcmVzaXplQm91bmRzLFxuICBlbnN1cmVDb25zdHJhaW50cyxcbiAgY29tcHV0ZUNoaWxkcmVuQkJveCxcbiAgZ2V0TWluUmVzaXplQm91bmRzXG59IGZyb20gJy4vUmVzaXplVXRpbCc7XG5cbmltcG9ydCB7XG4gIGFzVFJCTCxcbiAgZ2V0TWlkLFxuICByb3VuZEJvdW5kc1xufSBmcm9tICcuLi8uLi9sYXlvdXQvTGF5b3V0VXRpbCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9UeXBlcycpLlNoYXBlTGlrZX0gU2hhcGVcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi91dGlsL1R5cGVzJykuRGlyZWN0aW9ufSBEaXJlY3Rpb25cbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL3V0aWwvVHlwZXMnKS5Qb2ludH0gUG9pbnRcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2RyYWdnaW5nL0RyYWdnaW5nJykuZGVmYXVsdH0gRHJhZ2dpbmdcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL21vZGVsaW5nL01vZGVsaW5nJykuZGVmYXVsdH0gTW9kZWxpbmdcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3J1bGVzL1J1bGVzJykuZGVmYXVsdH0gUnVsZXNcbiAqL1xuXG52YXIgREVGQVVMVF9NSU5fV0lEVEggPSAxMDtcblxuXG4vKipcbiAqIEEgY29tcG9uZW50IHRoYXQgcHJvdmlkZXMgcmVzaXppbmcgb2Ygc2hhcGVzIG9uIHRoZSBjYW52YXMuXG4gKlxuICogVGhlIGZvbGxvd2luZyBjb21wb25lbnRzIGFyZSBwYXJ0IG9mIHNoYXBlIHJlc2l6ZTpcbiAqXG4gKiAgKiBhZGRpbmcgcmVzaXplIGhhbmRsZXMsXG4gKiAgKiBjcmVhdGluZyBhIHZpc3VhbCBkdXJpbmcgcmVzaXplXG4gKiAgKiBjaGVja2luZyByZXNpemUgcnVsZXNcbiAqICAqIGNvbW1pdHRpbmcgYSBjaGFuZ2Ugb25jZSBmaW5pc2hlZFxuICpcbiAqXG4gKiAjIyBDdXN0b21pemluZ1xuICpcbiAqIEl0J3MgcG9zc2libGUgdG8gY3VzdG9taXplIHRoZSByZXNpemluZyBiZWhhdmlvdXIgYnkgaW50ZXJjZXB0aW5nICdyZXNpemUuc3RhcnQnXG4gKiBhbmQgcHJvdmlkaW5nIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVycyB0aHJvdWdoIHRoZSAnY29udGV4dCc6XG4gKlxuICogICAqIG1pbkRpbWVuc2lvbnMgKHsgd2lkdGgsIGhlaWdodCB9KTogbWluaW11bSBzaGFwZSBkaW1lbnNpb25zXG4gKlxuICogICAqIGNoaWxkcmVuQm94UGFkZGluZyAoeyBsZWZ0LCB0b3AsIGJvdHRvbSwgcmlnaHQgfSB8fCBudW1iZXIpOlxuICogICAgIGdhcCBiZXR3ZWVuIHRoZSBtaW5pbXVtIGJvdW5kaW5nIGJveCBhbmQgdGhlIGNvbnRhaW5lclxuICpcbiAqIGYuZXg6XG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogZXZlbnRCdXMub24oJ3Jlc2l6ZS5zdGFydCcsIDE1MDAsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gKiAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAqXG4gKiAgY29udGV4dC5taW5EaW1lbnNpb25zID0geyB3aWR0aDogMTQwLCBoZWlnaHQ6IDEyMCB9O1xuICpcbiAqICAvLyBQYXNzaW5nIGdlbmVyYWwgcGFkZGluZ1xuICogIGNvbnRleHQuY2hpbGRyZW5Cb3hQYWRkaW5nID0gMzA7XG4gKlxuICogIC8vIFBhc3NpbmcgcGFkZGluZyB0byBhIHNwZWNpZmljIHNpZGVcbiAqICBjb250ZXh0LmNoaWxkcmVuQm94UGFkZGluZy5sZWZ0ID0gMjA7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge1J1bGVzfSBydWxlc1xuICogQHBhcmFtIHtNb2RlbGluZ30gbW9kZWxpbmdcbiAqIEBwYXJhbSB7RHJhZ2dpbmd9IGRyYWdnaW5nXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJlc2l6ZShldmVudEJ1cywgcnVsZXMsIG1vZGVsaW5nLCBkcmFnZ2luZykge1xuXG4gIHRoaXMuX2RyYWdnaW5nID0gZHJhZ2dpbmc7XG4gIHRoaXMuX3J1bGVzID0gcnVsZXM7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cbiAgLyoqXG4gICAqIEhhbmRsZSByZXNpemUgbW92ZSBieSBzcGVjaWZpZWQgZGVsdGEuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gICAqIEBwYXJhbSB7UG9pbnR9IGRlbHRhXG4gICAqL1xuICBmdW5jdGlvbiBoYW5kbGVNb3ZlKGNvbnRleHQsIGRlbHRhKSB7XG5cbiAgICB2YXIgc2hhcGUgPSBjb250ZXh0LnNoYXBlLFxuICAgICAgICBkaXJlY3Rpb24gPSBjb250ZXh0LmRpcmVjdGlvbixcbiAgICAgICAgcmVzaXplQ29uc3RyYWludHMgPSBjb250ZXh0LnJlc2l6ZUNvbnN0cmFpbnRzLFxuICAgICAgICBuZXdCb3VuZHM7XG5cbiAgICBjb250ZXh0LmRlbHRhID0gZGVsdGE7XG5cbiAgICBuZXdCb3VuZHMgPSByZXNpemVCb3VuZHMoc2hhcGUsIGRpcmVjdGlvbiwgZGVsdGEpO1xuXG4gICAgLy8gZW5zdXJlIGNvbnN0cmFpbnRzIGR1cmluZyByZXNpemVcbiAgICBjb250ZXh0Lm5ld0JvdW5kcyA9IGVuc3VyZUNvbnN0cmFpbnRzKG5ld0JvdW5kcywgcmVzaXplQ29uc3RyYWludHMpO1xuXG4gICAgLy8gdXBkYXRlICsgY2FjaGUgZXhlY3V0YWJsZSBzdGF0ZVxuICAgIGNvbnRleHQuY2FuRXhlY3V0ZSA9IHNlbGYuY2FuUmVzaXplKGNvbnRleHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSByZXNpemUgc3RhcnQuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gICAqL1xuICBmdW5jdGlvbiBoYW5kbGVTdGFydChjb250ZXh0KSB7XG5cbiAgICB2YXIgcmVzaXplQ29uc3RyYWludHMgPSBjb250ZXh0LnJlc2l6ZUNvbnN0cmFpbnRzLFxuXG4gICAgICAgIC8vIGV2YWx1YXRlIG1pbkJvdW5kcyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICAgICAgbWluQm91bmRzID0gY29udGV4dC5taW5Cb3VuZHM7XG5cbiAgICBpZiAocmVzaXplQ29uc3RyYWludHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChtaW5Cb3VuZHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgbWluQm91bmRzID0gc2VsZi5jb21wdXRlTWluUmVzaXplQm94KGNvbnRleHQpO1xuICAgIH1cblxuICAgIGNvbnRleHQucmVzaXplQ29uc3RyYWludHMgPSB7XG4gICAgICBtaW46IGFzVFJCTChtaW5Cb3VuZHMpXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcmVzaXplIGVuZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAgICovXG4gIGZ1bmN0aW9uIGhhbmRsZUVuZChjb250ZXh0KSB7XG4gICAgdmFyIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgICAgY2FuRXhlY3V0ZSA9IGNvbnRleHQuY2FuRXhlY3V0ZSxcbiAgICAgICAgbmV3Qm91bmRzID0gY29udGV4dC5uZXdCb3VuZHM7XG5cbiAgICBpZiAoY2FuRXhlY3V0ZSkge1xuXG4gICAgICAvLyBlbnN1cmUgd2UgaGF2ZSBhY3R1YWwgcGl4ZWwgdmFsdWVzIGZvciBuZXcgYm91bmRzXG4gICAgICAvLyAoaW1wb3J0YW50IHdoZW4gem9vbSBsZXZlbCB3YXMgPiAxIGR1cmluZyBtb3ZlKVxuICAgICAgbmV3Qm91bmRzID0gcm91bmRCb3VuZHMobmV3Qm91bmRzKTtcblxuICAgICAgaWYgKCFib3VuZHNDaGFuZ2VkKHNoYXBlLCBuZXdCb3VuZHMpKSB7XG5cbiAgICAgICAgLy8gbm8gcmVzaXplIG5lY2Vzc2FyeVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIHBlcmZvcm0gdGhlIGFjdHVhbCByZXNpemVcbiAgICAgIG1vZGVsaW5nLnJlc2l6ZVNoYXBlKHNoYXBlLCBuZXdCb3VuZHMpO1xuICAgIH1cbiAgfVxuXG5cbiAgZXZlbnRCdXMub24oJ3Jlc2l6ZS5zdGFydCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgaGFuZGxlU3RhcnQoZXZlbnQuY29udGV4dCk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdyZXNpemUubW92ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGRlbHRhID0ge1xuICAgICAgeDogZXZlbnQuZHgsXG4gICAgICB5OiBldmVudC5keVxuICAgIH07XG5cbiAgICBoYW5kbGVNb3ZlKGV2ZW50LmNvbnRleHQsIGRlbHRhKTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ3Jlc2l6ZS5lbmQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIGhhbmRsZUVuZChldmVudC5jb250ZXh0KTtcbiAgfSk7XG5cbn1cblxuXG5SZXNpemUucHJvdG90eXBlLmNhblJlc2l6ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIHJ1bGVzID0gdGhpcy5fcnVsZXM7XG5cbiAgdmFyIGN0eCA9IHBpY2soY29udGV4dCwgWyAnbmV3Qm91bmRzJywgJ3NoYXBlJywgJ2RlbHRhJywgJ2RpcmVjdGlvbicgXSk7XG5cbiAgcmV0dXJuIHJ1bGVzLmFsbG93ZWQoJ3NoYXBlLnJlc2l6ZScsIGN0eCk7XG59O1xuXG4vKipcbiAqIEFjdGl2YXRlIGEgcmVzaXplIG9wZXJhdGlvbi5cbiAqXG4gKiBZb3UgbWF5IHNwZWNpZnkgYWRkaXRpb25hbCBjb250ZXh0dWFsIGluZm9ybWF0aW9uIGFuZCBtdXN0IHNwZWNpZnkgYVxuICogcmVzaXplIGRpcmVjdGlvbiBkdXJpbmcgYWN0aXZhdGlvbiBvZiB0aGUgcmVzaXplIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7TW91c2VFdmVudHxUb3VjaEV2ZW50fSBldmVudFxuICogQHBhcmFtIHtTaGFwZX0gc2hhcGVcbiAqIEBwYXJhbSB7T2JqZWN0fERpcmVjdGlvbn0gY29udGV4dE9yRGlyZWN0aW9uXG4gKi9cblJlc2l6ZS5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbihldmVudCwgc2hhcGUsIGNvbnRleHRPckRpcmVjdGlvbikge1xuICB2YXIgZHJhZ2dpbmcgPSB0aGlzLl9kcmFnZ2luZyxcbiAgICAgIGNvbnRleHQsXG4gICAgICBkaXJlY3Rpb247XG5cbiAgaWYgKHR5cGVvZiBjb250ZXh0T3JEaXJlY3Rpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgY29udGV4dE9yRGlyZWN0aW9uID0ge1xuICAgICAgZGlyZWN0aW9uOiBjb250ZXh0T3JEaXJlY3Rpb25cbiAgICB9O1xuICB9XG5cbiAgY29udGV4dCA9IGFzc2lnbih7IHNoYXBlOiBzaGFwZSB9LCBjb250ZXh0T3JEaXJlY3Rpb24pO1xuXG4gIGRpcmVjdGlvbiA9IGNvbnRleHQuZGlyZWN0aW9uO1xuXG4gIGlmICghZGlyZWN0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtdXN0IHByb3ZpZGUgYSBkaXJlY3Rpb24gKG58d3xzfGV8bnd8c2V8bmV8c3cpJyk7XG4gIH1cblxuICBkcmFnZ2luZy5pbml0KGV2ZW50LCBnZXRSZWZlcmVuY2VQb2ludChzaGFwZSwgZGlyZWN0aW9uKSwgJ3Jlc2l6ZScsIHtcbiAgICBhdXRvQWN0aXZhdGU6IHRydWUsXG4gICAgY3Vyc29yOiBnZXRDdXJzb3IoZGlyZWN0aW9uKSxcbiAgICBkYXRhOiB7XG4gICAgICBzaGFwZTogc2hhcGUsXG4gICAgICBjb250ZXh0OiBjb250ZXh0XG4gICAgfVxuICB9KTtcbn07XG5cblJlc2l6ZS5wcm90b3R5cGUuY29tcHV0ZU1pblJlc2l6ZUJveCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIHNoYXBlID0gY29udGV4dC5zaGFwZSxcbiAgICAgIGRpcmVjdGlvbiA9IGNvbnRleHQuZGlyZWN0aW9uLFxuICAgICAgbWluRGltZW5zaW9ucyxcbiAgICAgIGNoaWxkcmVuQm91bmRzO1xuXG4gIG1pbkRpbWVuc2lvbnMgPSBjb250ZXh0Lm1pbkRpbWVuc2lvbnMgfHwge1xuICAgIHdpZHRoOiBERUZBVUxUX01JTl9XSURUSCxcbiAgICBoZWlnaHQ6IERFRkFVTFRfTUlOX1dJRFRIXG4gIH07XG5cbiAgLy8gZ2V0IGNoaWxkcmVuIGJvdW5kc1xuICBjaGlsZHJlbkJvdW5kcyA9IGNvbXB1dGVDaGlsZHJlbkJCb3goc2hhcGUsIGNvbnRleHQuY2hpbGRyZW5Cb3hQYWRkaW5nKTtcblxuICAvLyBnZXQgY29ycmVjdCBtaW5pbXVtIGJvdW5kcyBmcm9tIGdpdmVuIHJlc2l6ZSBkaXJlY3Rpb25cbiAgLy8gYmFzaWNhbGx5IGVuc3VyZXMgdGhhdCB0aGUgbWluQm91bmRzIGlzIG1heChjaGlsZHJlbkJvdW5kcywgbWluRGltZW5zaW9ucylcbiAgcmV0dXJuIGdldE1pblJlc2l6ZUJvdW5kcyhkaXJlY3Rpb24sIHNoYXBlLCBtaW5EaW1lbnNpb25zLCBjaGlsZHJlbkJvdW5kcyk7XG59O1xuXG5cblJlc2l6ZS4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAncnVsZXMnLFxuICAnbW9kZWxpbmcnLFxuICAnZHJhZ2dpbmcnXG5dO1xuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuZnVuY3Rpb24gYm91bmRzQ2hhbmdlZChzaGFwZSwgbmV3Qm91bmRzKSB7XG4gIHJldHVybiBzaGFwZS54ICE9PSBuZXdCb3VuZHMueCB8fFxuICAgIHNoYXBlLnkgIT09IG5ld0JvdW5kcy55IHx8XG4gICAgc2hhcGUud2lkdGggIT09IG5ld0JvdW5kcy53aWR0aCB8fFxuICAgIHNoYXBlLmhlaWdodCAhPT0gbmV3Qm91bmRzLmhlaWdodDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlZmVyZW5jZVBvaW50KHNoYXBlLCBkaXJlY3Rpb24pIHtcbiAgdmFyIG1pZCA9IGdldE1pZChzaGFwZSksXG4gICAgICB0cmJsID0gYXNUUkJMKHNoYXBlKTtcblxuICB2YXIgcmVmZXJlbmNlUG9pbnQgPSB7XG4gICAgeDogbWlkLngsXG4gICAgeTogbWlkLnlcbiAgfTtcblxuICBpZiAoZGlyZWN0aW9uLmluZGV4T2YoJ24nKSAhPT0gLTEpIHtcbiAgICByZWZlcmVuY2VQb2ludC55ID0gdHJibC50b3A7XG4gIH0gZWxzZSBpZiAoZGlyZWN0aW9uLmluZGV4T2YoJ3MnKSAhPT0gLTEpIHtcbiAgICByZWZlcmVuY2VQb2ludC55ID0gdHJibC5ib3R0b207XG4gIH1cblxuICBpZiAoZGlyZWN0aW9uLmluZGV4T2YoJ2UnKSAhPT0gLTEpIHtcbiAgICByZWZlcmVuY2VQb2ludC54ID0gdHJibC5yaWdodDtcbiAgfSBlbHNlIGlmIChkaXJlY3Rpb24uaW5kZXhPZigndycpICE9PSAtMSkge1xuICAgIHJlZmVyZW5jZVBvaW50LnggPSB0cmJsLmxlZnQ7XG4gIH1cblxuICByZXR1cm4gcmVmZXJlbmNlUG9pbnQ7XG59XG5cbmZ1bmN0aW9uIGdldEN1cnNvcihkaXJlY3Rpb24pIHtcbiAgdmFyIHByZWZpeCA9ICdyZXNpemUtJztcblxuICBpZiAoZGlyZWN0aW9uID09PSAnbicgfHwgZGlyZWN0aW9uID09PSAncycpIHtcbiAgICByZXR1cm4gcHJlZml4ICsgJ25zJztcbiAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICdlJyB8fCBkaXJlY3Rpb24gPT09ICd3Jykge1xuICAgIHJldHVybiBwcmVmaXggKyAnZXcnO1xuICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ253JyB8fCBkaXJlY3Rpb24gPT09ICdzZScpIHtcbiAgICByZXR1cm4gcHJlZml4ICsgJ253c2UnO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBwcmVmaXggKyAnbmVzdyc7XG4gIH1cbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/resize/Resize.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/resize/ResizeHandles.js":
/*!**********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/resize/ResizeHandles.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ResizeHandles)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/./node_modules/tiny-svg/dist/index.esm.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dom */ \"(ssr)/./node_modules/min-dom/dist/index.esm.js\");\n/* harmony import */ var _util_Mouse__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Mouse */ \"(ssr)/./node_modules/diagram-js/lib/util/Mouse.js\");\n/* harmony import */ var _util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/SvgTransformUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/SvgTransformUtil.js\");\n/* harmony import */ var _Resize__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Resize */ \"(ssr)/./node_modules/diagram-js/lib/features/resize/Resize.js\");\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/ModelUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/ModelUtil.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../resize/Resize').default} Resize\n * @typedef {import('../selection/Selection').default} Selection\n */\n\nvar HANDLE_OFFSET = -6,\n    HANDLE_SIZE = 8,\n    HANDLE_HIT_SIZE = 20;\n\nvar CLS_RESIZER = 'djs-resizer';\n\nvar directions = [ 'n', 'w', 's', 'e', 'nw', 'ne', 'se', 'sw' ];\n\n\n/**\n * This component is responsible for adding resize handles.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {Selection} selection\n * @param {Resize} resize\n */\nfunction ResizeHandles(eventBus, canvas, selection, resize) {\n\n  this._resize = resize;\n  this._canvas = canvas;\n\n  var self = this;\n\n  eventBus.on('selection.changed', function(e) {\n    var newSelection = e.newSelection;\n\n    // remove old selection markers\n    self.removeResizers();\n\n    // add new selection markers ONLY if single selection\n    if (newSelection.length === 1) {\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(newSelection, (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.bind)(self.addResizer, self));\n    }\n  });\n\n  eventBus.on('shape.changed', function(e) {\n    var shape = e.element;\n\n    if (selection.isSelected(shape)) {\n      self.removeResizers();\n\n      self.addResizer(shape);\n    }\n  });\n}\n\n\nResizeHandles.prototype.makeDraggable = function(element, gfx, direction) {\n  var resize = this._resize;\n\n  function startResize(event) {\n\n    // only trigger on left mouse button\n    if ((0,_util_Mouse__WEBPACK_IMPORTED_MODULE_1__.isPrimaryButton)(event)) {\n      resize.activate(event, element, direction);\n    }\n  }\n\n  min_dom__WEBPACK_IMPORTED_MODULE_2__.event.bind(gfx, 'mousedown', startResize);\n  min_dom__WEBPACK_IMPORTED_MODULE_2__.event.bind(gfx, 'touchstart', startResize);\n};\n\n\nResizeHandles.prototype._createResizer = function(element, x, y, direction) {\n  var resizersParent = this._getResizersParent();\n\n  var offset = getHandleOffset(direction);\n\n  var group = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_3__.create)('g');\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_3__.classes)(group).add(CLS_RESIZER);\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_3__.classes)(group).add(CLS_RESIZER + '-' + element.id);\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_3__.classes)(group).add(CLS_RESIZER + '-' + direction);\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_3__.append)(resizersParent, group);\n\n  var visual = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_3__.create)('rect');\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_3__.attr)(visual, {\n    x: -HANDLE_SIZE / 2 + offset.x,\n    y: -HANDLE_SIZE / 2 + offset.y,\n    width: HANDLE_SIZE,\n    height: HANDLE_SIZE\n  });\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_3__.classes)(visual).add(CLS_RESIZER + '-visual');\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_3__.append)(group, visual);\n\n  var hit = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_3__.create)('rect');\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_3__.attr)(hit, {\n    x: -HANDLE_HIT_SIZE / 2 + offset.x,\n    y: -HANDLE_HIT_SIZE / 2 + offset.y,\n    width: HANDLE_HIT_SIZE,\n    height: HANDLE_HIT_SIZE\n  });\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_3__.classes)(hit).add(CLS_RESIZER + '-hit');\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_3__.append)(group, hit);\n\n  (0,_util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_4__.transform)(group, x, y);\n\n  return group;\n};\n\nResizeHandles.prototype.createResizer = function(element, direction) {\n  var point = (0,_Resize__WEBPACK_IMPORTED_MODULE_5__.getReferencePoint)(element, direction);\n\n  var resizer = this._createResizer(element, point.x, point.y, direction);\n\n  this.makeDraggable(element, resizer, direction);\n};\n\n// resize handles implementation ///////////////////////////////\n\n/**\n * Add resizers for a given element.\n *\n * @param {Element} element\n */\nResizeHandles.prototype.addResizer = function(element) {\n  var self = this;\n\n  if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_6__.isConnection)(element) || !this._resize.canResize({ shape: element })) {\n    return;\n  }\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(directions, function(direction) {\n    self.createResizer(element, direction);\n  });\n};\n\n/**\n * Remove all resizers\n */\nResizeHandles.prototype.removeResizers = function() {\n  var resizersParent = this._getResizersParent();\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_3__.clear)(resizersParent);\n};\n\nResizeHandles.prototype._getResizersParent = function() {\n  return this._canvas.getLayer('resizers');\n};\n\nResizeHandles.$inject = [\n  'eventBus',\n  'canvas',\n  'selection',\n  'resize'\n];\n\n// helpers //////////\n\nfunction getHandleOffset(direction) {\n  var offset = {\n    x: 0,\n    y: 0\n  };\n\n  if (direction.indexOf('e') !== -1) {\n    offset.x = -HANDLE_OFFSET;\n  } else if (direction.indexOf('w') !== -1) {\n    offset.x = HANDLE_OFFSET;\n  }\n\n  if (direction.indexOf('s') !== -1) {\n    offset.y = -HANDLE_OFFSET;\n  } else if (direction.indexOf('n') !== -1) {\n    offset.y = HANDLE_OFFSET;\n  }\n\n  return offset;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcmVzaXplL1Jlc2l6ZUhhbmRsZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFHa0I7O0FBUUE7O0FBSUQ7O0FBSVM7O0FBSVc7O0FBRVE7O0FBRU87O0FBRXBEO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQ7QUFDQSxhQUFhLHFDQUFxQztBQUNsRCxhQUFhLHVDQUF1QztBQUNwRCxhQUFhLG9DQUFvQztBQUNqRCxhQUFhLDBDQUEwQztBQUN2RDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsUUFBUTtBQUNuQjtBQUNlOztBQUVmO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNLGlEQUFPLGVBQWUsOENBQUk7QUFDaEM7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOzs7QUFHQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsUUFBUSw0REFBZTtBQUN2QjtBQUNBO0FBQ0E7O0FBRUEsRUFBRSwwQ0FBUTtBQUNWLEVBQUUsMENBQVE7QUFDVjs7O0FBR0E7QUFDQTs7QUFFQTs7QUFFQSxjQUFjLGdEQUFTOztBQUV2QixFQUFFLGlEQUFVO0FBQ1osRUFBRSxpREFBVTtBQUNaLEVBQUUsaURBQVU7O0FBRVosRUFBRSxnREFBUzs7QUFFWCxlQUFlLGdEQUFTOztBQUV4QixFQUFFLDhDQUFPO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVILEVBQUUsaURBQVU7O0FBRVosRUFBRSxnREFBUzs7QUFFWCxZQUFZLGdEQUFTOztBQUVyQixFQUFFLDhDQUFPO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVILEVBQUUsaURBQVU7O0FBRVosRUFBRSxnREFBUzs7QUFFWCxFQUFFLGlFQUFTOztBQUVYO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLDBEQUFpQjs7QUFFL0I7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBOztBQUVBLE1BQU0sNkRBQVksdUNBQXVDLGdCQUFnQjtBQUN6RTtBQUNBOztBQUVBLEVBQUUsaURBQU87QUFDVDtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUUsK0NBQVE7QUFDVjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3Jlc2l6ZS9SZXNpemVIYW5kbGVzLmpzP2E4N2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgYmluZCxcbiAgZm9yRWFjaFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGFwcGVuZCBhcyBzdmdBcHBlbmQsXG4gIGF0dHIgYXMgc3ZnQXR0cixcbiAgY2xhc3NlcyBhcyBzdmdDbGFzc2VzLFxuICBjbGVhciBhcyBzdmdDbGVhcixcbiAgY3JlYXRlIGFzIHN2Z0NyZWF0ZVxufSBmcm9tICd0aW55LXN2Zyc7XG5cbmltcG9ydCB7XG4gIGV2ZW50IGFzIGRvbUV2ZW50XG59IGZyb20gJ21pbi1kb20nO1xuXG5pbXBvcnQge1xuICBpc1ByaW1hcnlCdXR0b25cbn0gZnJvbSAnLi4vLi4vdXRpbC9Nb3VzZSc7XG5cbmltcG9ydCB7XG4gIHRyYW5zZm9ybVxufSBmcm9tICcuLi8uLi91dGlsL1N2Z1RyYW5zZm9ybVV0aWwnO1xuXG5pbXBvcnQgeyBnZXRSZWZlcmVuY2VQb2ludCB9IGZyb20gJy4vUmVzaXplJztcblxuaW1wb3J0IHsgaXNDb25uZWN0aW9uIH0gZnJvbSAnLi4vLi4vdXRpbC9Nb2RlbFV0aWwnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL21vZGVsL1R5cGVzJykuRWxlbWVudH0gRWxlbWVudFxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvQ2FudmFzJykuZGVmYXVsdH0gQ2FudmFzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3Jlc2l6ZS9SZXNpemUnKS5kZWZhdWx0fSBSZXNpemVcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3NlbGVjdGlvbi9TZWxlY3Rpb24nKS5kZWZhdWx0fSBTZWxlY3Rpb25cbiAqL1xuXG52YXIgSEFORExFX09GRlNFVCA9IC02LFxuICAgIEhBTkRMRV9TSVpFID0gOCxcbiAgICBIQU5ETEVfSElUX1NJWkUgPSAyMDtcblxudmFyIENMU19SRVNJWkVSID0gJ2Rqcy1yZXNpemVyJztcblxudmFyIGRpcmVjdGlvbnMgPSBbICduJywgJ3cnLCAncycsICdlJywgJ253JywgJ25lJywgJ3NlJywgJ3N3JyBdO1xuXG5cbi8qKlxuICogVGhpcyBjb21wb25lbnQgaXMgcmVzcG9uc2libGUgZm9yIGFkZGluZyByZXNpemUgaGFuZGxlcy5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICogQHBhcmFtIHtTZWxlY3Rpb259IHNlbGVjdGlvblxuICogQHBhcmFtIHtSZXNpemV9IHJlc2l6ZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSZXNpemVIYW5kbGVzKGV2ZW50QnVzLCBjYW52YXMsIHNlbGVjdGlvbiwgcmVzaXplKSB7XG5cbiAgdGhpcy5fcmVzaXplID0gcmVzaXplO1xuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGV2ZW50QnVzLm9uKCdzZWxlY3Rpb24uY2hhbmdlZCcsIGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgbmV3U2VsZWN0aW9uID0gZS5uZXdTZWxlY3Rpb247XG5cbiAgICAvLyByZW1vdmUgb2xkIHNlbGVjdGlvbiBtYXJrZXJzXG4gICAgc2VsZi5yZW1vdmVSZXNpemVycygpO1xuXG4gICAgLy8gYWRkIG5ldyBzZWxlY3Rpb24gbWFya2VycyBPTkxZIGlmIHNpbmdsZSBzZWxlY3Rpb25cbiAgICBpZiAobmV3U2VsZWN0aW9uLmxlbmd0aCA9PT0gMSkge1xuICAgICAgZm9yRWFjaChuZXdTZWxlY3Rpb24sIGJpbmQoc2VsZi5hZGRSZXNpemVyLCBzZWxmKSk7XG4gICAgfVxuICB9KTtcblxuICBldmVudEJ1cy5vbignc2hhcGUuY2hhbmdlZCcsIGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgc2hhcGUgPSBlLmVsZW1lbnQ7XG5cbiAgICBpZiAoc2VsZWN0aW9uLmlzU2VsZWN0ZWQoc2hhcGUpKSB7XG4gICAgICBzZWxmLnJlbW92ZVJlc2l6ZXJzKCk7XG5cbiAgICAgIHNlbGYuYWRkUmVzaXplcihzaGFwZSk7XG4gICAgfVxuICB9KTtcbn1cblxuXG5SZXNpemVIYW5kbGVzLnByb3RvdHlwZS5tYWtlRHJhZ2dhYmxlID0gZnVuY3Rpb24oZWxlbWVudCwgZ2Z4LCBkaXJlY3Rpb24pIHtcbiAgdmFyIHJlc2l6ZSA9IHRoaXMuX3Jlc2l6ZTtcblxuICBmdW5jdGlvbiBzdGFydFJlc2l6ZShldmVudCkge1xuXG4gICAgLy8gb25seSB0cmlnZ2VyIG9uIGxlZnQgbW91c2UgYnV0dG9uXG4gICAgaWYgKGlzUHJpbWFyeUJ1dHRvbihldmVudCkpIHtcbiAgICAgIHJlc2l6ZS5hY3RpdmF0ZShldmVudCwgZWxlbWVudCwgZGlyZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICBkb21FdmVudC5iaW5kKGdmeCwgJ21vdXNlZG93bicsIHN0YXJ0UmVzaXplKTtcbiAgZG9tRXZlbnQuYmluZChnZngsICd0b3VjaHN0YXJ0Jywgc3RhcnRSZXNpemUpO1xufTtcblxuXG5SZXNpemVIYW5kbGVzLnByb3RvdHlwZS5fY3JlYXRlUmVzaXplciA9IGZ1bmN0aW9uKGVsZW1lbnQsIHgsIHksIGRpcmVjdGlvbikge1xuICB2YXIgcmVzaXplcnNQYXJlbnQgPSB0aGlzLl9nZXRSZXNpemVyc1BhcmVudCgpO1xuXG4gIHZhciBvZmZzZXQgPSBnZXRIYW5kbGVPZmZzZXQoZGlyZWN0aW9uKTtcblxuICB2YXIgZ3JvdXAgPSBzdmdDcmVhdGUoJ2cnKTtcblxuICBzdmdDbGFzc2VzKGdyb3VwKS5hZGQoQ0xTX1JFU0laRVIpO1xuICBzdmdDbGFzc2VzKGdyb3VwKS5hZGQoQ0xTX1JFU0laRVIgKyAnLScgKyBlbGVtZW50LmlkKTtcbiAgc3ZnQ2xhc3Nlcyhncm91cCkuYWRkKENMU19SRVNJWkVSICsgJy0nICsgZGlyZWN0aW9uKTtcblxuICBzdmdBcHBlbmQocmVzaXplcnNQYXJlbnQsIGdyb3VwKTtcblxuICB2YXIgdmlzdWFsID0gc3ZnQ3JlYXRlKCdyZWN0Jyk7XG5cbiAgc3ZnQXR0cih2aXN1YWwsIHtcbiAgICB4OiAtSEFORExFX1NJWkUgLyAyICsgb2Zmc2V0LngsXG4gICAgeTogLUhBTkRMRV9TSVpFIC8gMiArIG9mZnNldC55LFxuICAgIHdpZHRoOiBIQU5ETEVfU0laRSxcbiAgICBoZWlnaHQ6IEhBTkRMRV9TSVpFXG4gIH0pO1xuXG4gIHN2Z0NsYXNzZXModmlzdWFsKS5hZGQoQ0xTX1JFU0laRVIgKyAnLXZpc3VhbCcpO1xuXG4gIHN2Z0FwcGVuZChncm91cCwgdmlzdWFsKTtcblxuICB2YXIgaGl0ID0gc3ZnQ3JlYXRlKCdyZWN0Jyk7XG5cbiAgc3ZnQXR0cihoaXQsIHtcbiAgICB4OiAtSEFORExFX0hJVF9TSVpFIC8gMiArIG9mZnNldC54LFxuICAgIHk6IC1IQU5ETEVfSElUX1NJWkUgLyAyICsgb2Zmc2V0LnksXG4gICAgd2lkdGg6IEhBTkRMRV9ISVRfU0laRSxcbiAgICBoZWlnaHQ6IEhBTkRMRV9ISVRfU0laRVxuICB9KTtcblxuICBzdmdDbGFzc2VzKGhpdCkuYWRkKENMU19SRVNJWkVSICsgJy1oaXQnKTtcblxuICBzdmdBcHBlbmQoZ3JvdXAsIGhpdCk7XG5cbiAgdHJhbnNmb3JtKGdyb3VwLCB4LCB5KTtcblxuICByZXR1cm4gZ3JvdXA7XG59O1xuXG5SZXNpemVIYW5kbGVzLnByb3RvdHlwZS5jcmVhdGVSZXNpemVyID0gZnVuY3Rpb24oZWxlbWVudCwgZGlyZWN0aW9uKSB7XG4gIHZhciBwb2ludCA9IGdldFJlZmVyZW5jZVBvaW50KGVsZW1lbnQsIGRpcmVjdGlvbik7XG5cbiAgdmFyIHJlc2l6ZXIgPSB0aGlzLl9jcmVhdGVSZXNpemVyKGVsZW1lbnQsIHBvaW50LngsIHBvaW50LnksIGRpcmVjdGlvbik7XG5cbiAgdGhpcy5tYWtlRHJhZ2dhYmxlKGVsZW1lbnQsIHJlc2l6ZXIsIGRpcmVjdGlvbik7XG59O1xuXG4vLyByZXNpemUgaGFuZGxlcyBpbXBsZW1lbnRhdGlvbiAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQWRkIHJlc2l6ZXJzIGZvciBhIGdpdmVuIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKi9cblJlc2l6ZUhhbmRsZXMucHJvdG90eXBlLmFkZFJlc2l6ZXIgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICBpZiAoaXNDb25uZWN0aW9uKGVsZW1lbnQpIHx8ICF0aGlzLl9yZXNpemUuY2FuUmVzaXplKHsgc2hhcGU6IGVsZW1lbnQgfSkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBmb3JFYWNoKGRpcmVjdGlvbnMsIGZ1bmN0aW9uKGRpcmVjdGlvbikge1xuICAgIHNlbGYuY3JlYXRlUmVzaXplcihlbGVtZW50LCBkaXJlY3Rpb24pO1xuICB9KTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCByZXNpemVyc1xuICovXG5SZXNpemVIYW5kbGVzLnByb3RvdHlwZS5yZW1vdmVSZXNpemVycyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcmVzaXplcnNQYXJlbnQgPSB0aGlzLl9nZXRSZXNpemVyc1BhcmVudCgpO1xuXG4gIHN2Z0NsZWFyKHJlc2l6ZXJzUGFyZW50KTtcbn07XG5cblJlc2l6ZUhhbmRsZXMucHJvdG90eXBlLl9nZXRSZXNpemVyc1BhcmVudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fY2FudmFzLmdldExheWVyKCdyZXNpemVycycpO1xufTtcblxuUmVzaXplSGFuZGxlcy4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnY2FudmFzJyxcbiAgJ3NlbGVjdGlvbicsXG4gICdyZXNpemUnXG5dO1xuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuZnVuY3Rpb24gZ2V0SGFuZGxlT2Zmc2V0KGRpcmVjdGlvbikge1xuICB2YXIgb2Zmc2V0ID0ge1xuICAgIHg6IDAsXG4gICAgeTogMFxuICB9O1xuXG4gIGlmIChkaXJlY3Rpb24uaW5kZXhPZignZScpICE9PSAtMSkge1xuICAgIG9mZnNldC54ID0gLUhBTkRMRV9PRkZTRVQ7XG4gIH0gZWxzZSBpZiAoZGlyZWN0aW9uLmluZGV4T2YoJ3cnKSAhPT0gLTEpIHtcbiAgICBvZmZzZXQueCA9IEhBTkRMRV9PRkZTRVQ7XG4gIH1cblxuICBpZiAoZGlyZWN0aW9uLmluZGV4T2YoJ3MnKSAhPT0gLTEpIHtcbiAgICBvZmZzZXQueSA9IC1IQU5ETEVfT0ZGU0VUO1xuICB9IGVsc2UgaWYgKGRpcmVjdGlvbi5pbmRleE9mKCduJykgIT09IC0xKSB7XG4gICAgb2Zmc2V0LnkgPSBIQU5ETEVfT0ZGU0VUO1xuICB9XG5cbiAgcmV0dXJuIG9mZnNldDtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/resize/ResizeHandles.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/resize/ResizePreview.js":
/*!**********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/resize/ResizePreview.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ResizePreview)\n/* harmony export */ });\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/./node_modules/tiny-svg/dist/index.esm.js\");\nvar MARKER_RESIZING = 'djs-resizing',\n    MARKER_RESIZE_NOT_OK = 'resize-not-ok';\n\nvar LOW_PRIORITY = 500;\n\n\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../preview-support/PreviewSupport').default} PreviewSupport\n */\n\n/**\n * Provides previews for resizing shapes when resizing.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {PreviewSupport} previewSupport\n */\nfunction ResizePreview(eventBus, canvas, previewSupport) {\n\n  /**\n   * Update resizer frame.\n   *\n   * @param {Object} context\n   */\n  function updateFrame(context) {\n\n    var shape = context.shape,\n        bounds = context.newBounds,\n        frame = context.frame;\n\n    if (!frame) {\n      frame = context.frame = previewSupport.addFrame(shape, canvas.getActiveLayer());\n\n      canvas.addMarker(shape, MARKER_RESIZING);\n    }\n\n    if (bounds.width > 5) {\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.attr)(frame, { x: bounds.x, width: bounds.width });\n    }\n\n    if (bounds.height > 5) {\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.attr)(frame, { y: bounds.y, height: bounds.height });\n    }\n\n    if (context.canExecute) {\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.classes)(frame).remove(MARKER_RESIZE_NOT_OK);\n    } else {\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.classes)(frame).add(MARKER_RESIZE_NOT_OK);\n    }\n  }\n\n  /**\n   * Remove resizer frame.\n   *\n   * @param {Object} context\n   */\n  function removeFrame(context) {\n    var shape = context.shape,\n        frame = context.frame;\n\n    if (frame) {\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.remove)(context.frame);\n    }\n\n    canvas.removeMarker(shape, MARKER_RESIZING);\n  }\n\n  // add and update previews\n  eventBus.on('resize.move', LOW_PRIORITY, function(event) {\n    updateFrame(event.context);\n  });\n\n  // remove previews\n  eventBus.on('resize.cleanup', function(event) {\n    removeFrame(event.context);\n  });\n\n}\n\nResizePreview.$inject = [\n  'eventBus',\n  'canvas',\n  'previewSupport'\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcmVzaXplL1Jlc2l6ZVByZXZpZXcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBOztBQUVBOztBQU1rQjs7QUFFbEI7QUFDQSxhQUFhLHFDQUFxQztBQUNsRCxhQUFhLHVDQUF1QztBQUNwRCxhQUFhLHFEQUFxRDtBQUNsRTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsZ0JBQWdCO0FBQzNCO0FBQ2U7O0FBRWY7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLE1BQU0sOENBQU8sVUFBVSxrQ0FBa0M7QUFDekQ7O0FBRUE7QUFDQSxNQUFNLDhDQUFPLFVBQVUsb0NBQW9DO0FBQzNEOztBQUVBO0FBQ0EsTUFBTSxpREFBVTtBQUNoQixNQUFNO0FBQ04sTUFBTSxpREFBVTtBQUNoQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE1BQU0sZ0RBQVM7QUFDZjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3Jlc2l6ZS9SZXNpemVQcmV2aWV3LmpzPzRmZGYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIE1BUktFUl9SRVNJWklORyA9ICdkanMtcmVzaXppbmcnLFxuICAgIE1BUktFUl9SRVNJWkVfTk9UX09LID0gJ3Jlc2l6ZS1ub3Qtb2snO1xuXG52YXIgTE9XX1BSSU9SSVRZID0gNTAwO1xuXG5pbXBvcnQge1xuICBhdHRyIGFzIHN2Z0F0dHIsXG4gIHJlbW92ZSBhcyBzdmdSZW1vdmUsXG4gIGNsYXNzZXMgYXMgc3ZnQ2xhc3Nlc1xufSBmcm9tICd0aW55LXN2Zyc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9DYW52YXMnKS5kZWZhdWx0fSBDYW52YXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vcHJldmlldy1zdXBwb3J0L1ByZXZpZXdTdXBwb3J0JykuZGVmYXVsdH0gUHJldmlld1N1cHBvcnRcbiAqL1xuXG4vKipcbiAqIFByb3ZpZGVzIHByZXZpZXdzIGZvciByZXNpemluZyBzaGFwZXMgd2hlbiByZXNpemluZy5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICogQHBhcmFtIHtQcmV2aWV3U3VwcG9ydH0gcHJldmlld1N1cHBvcnRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUmVzaXplUHJldmlldyhldmVudEJ1cywgY2FudmFzLCBwcmV2aWV3U3VwcG9ydCkge1xuXG4gIC8qKlxuICAgKiBVcGRhdGUgcmVzaXplciBmcmFtZS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAgICovXG4gIGZ1bmN0aW9uIHVwZGF0ZUZyYW1lKGNvbnRleHQpIHtcblxuICAgIHZhciBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXG4gICAgICAgIGJvdW5kcyA9IGNvbnRleHQubmV3Qm91bmRzLFxuICAgICAgICBmcmFtZSA9IGNvbnRleHQuZnJhbWU7XG5cbiAgICBpZiAoIWZyYW1lKSB7XG4gICAgICBmcmFtZSA9IGNvbnRleHQuZnJhbWUgPSBwcmV2aWV3U3VwcG9ydC5hZGRGcmFtZShzaGFwZSwgY2FudmFzLmdldEFjdGl2ZUxheWVyKCkpO1xuXG4gICAgICBjYW52YXMuYWRkTWFya2VyKHNoYXBlLCBNQVJLRVJfUkVTSVpJTkcpO1xuICAgIH1cblxuICAgIGlmIChib3VuZHMud2lkdGggPiA1KSB7XG4gICAgICBzdmdBdHRyKGZyYW1lLCB7IHg6IGJvdW5kcy54LCB3aWR0aDogYm91bmRzLndpZHRoIH0pO1xuICAgIH1cblxuICAgIGlmIChib3VuZHMuaGVpZ2h0ID4gNSkge1xuICAgICAgc3ZnQXR0cihmcmFtZSwgeyB5OiBib3VuZHMueSwgaGVpZ2h0OiBib3VuZHMuaGVpZ2h0IH0pO1xuICAgIH1cblxuICAgIGlmIChjb250ZXh0LmNhbkV4ZWN1dGUpIHtcbiAgICAgIHN2Z0NsYXNzZXMoZnJhbWUpLnJlbW92ZShNQVJLRVJfUkVTSVpFX05PVF9PSyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN2Z0NsYXNzZXMoZnJhbWUpLmFkZChNQVJLRVJfUkVTSVpFX05PVF9PSyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSByZXNpemVyIGZyYW1lLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICAgKi9cbiAgZnVuY3Rpb24gcmVtb3ZlRnJhbWUoY29udGV4dCkge1xuICAgIHZhciBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXG4gICAgICAgIGZyYW1lID0gY29udGV4dC5mcmFtZTtcblxuICAgIGlmIChmcmFtZSkge1xuICAgICAgc3ZnUmVtb3ZlKGNvbnRleHQuZnJhbWUpO1xuICAgIH1cblxuICAgIGNhbnZhcy5yZW1vdmVNYXJrZXIoc2hhcGUsIE1BUktFUl9SRVNJWklORyk7XG4gIH1cblxuICAvLyBhZGQgYW5kIHVwZGF0ZSBwcmV2aWV3c1xuICBldmVudEJ1cy5vbigncmVzaXplLm1vdmUnLCBMT1dfUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdXBkYXRlRnJhbWUoZXZlbnQuY29udGV4dCk7XG4gIH0pO1xuXG4gIC8vIHJlbW92ZSBwcmV2aWV3c1xuICBldmVudEJ1cy5vbigncmVzaXplLmNsZWFudXAnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHJlbW92ZUZyYW1lKGV2ZW50LmNvbnRleHQpO1xuICB9KTtcblxufVxuXG5SZXNpemVQcmV2aWV3LiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdjYW52YXMnLFxuICAncHJldmlld1N1cHBvcnQnXG5dOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/resize/ResizePreview.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/resize/ResizeUtil.js":
/*!*******************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/resize/ResizeUtil.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addPadding: () => (/* binding */ addPadding),\n/* harmony export */   computeChildrenBBox: () => (/* binding */ computeChildrenBBox),\n/* harmony export */   ensureConstraints: () => (/* binding */ ensureConstraints),\n/* harmony export */   getMinResizeBounds: () => (/* binding */ getMinResizeBounds),\n/* harmony export */   reattachPoint: () => (/* binding */ reattachPoint),\n/* harmony export */   resizeBounds: () => (/* binding */ resizeBounds),\n/* harmony export */   resizeTRBL: () => (/* binding */ resizeTRBL),\n/* harmony export */   substractTRBL: () => (/* binding */ substractTRBL)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _util_Elements__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/Elements */ \"(ssr)/./node_modules/diagram-js/lib/util/Elements.js\");\n/* harmony import */ var _layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../layout/LayoutUtil */ \"(ssr)/./node_modules/diagram-js/lib/layout/LayoutUtil.js\");\n\n\nvar max = Math.max,\n    min = Math.min;\n\nvar DEFAULT_CHILD_BOX_PADDING = 20;\n\n\n\n\n\n/**\n * @typedef {import('../../core/Types').ElementLike} Element\n * @typedef {import('../../core/Types').ShapeLike} Shape\n *\n * @typedef {import('../../util/Types').Direction} Direction\n * @typedef {import('../../util/Types').Point} Point\n * @typedef {import('../../util/Types').Rect} Rect\n * @typedef {import('../../util/Types').RectTRBL} RectTRBL\n */\n\n/**\n * Substract a TRBL from another\n *\n * @param {RectTRBL} trblA\n * @param {RectTRBL} trblB\n *\n * @return {RectTRBL}\n */\nfunction substractTRBL(trblA, trblB) {\n  return {\n    top: trblA.top - trblB.top,\n    right: trblA.right - trblB.right,\n    bottom: trblA.bottom - trblB.bottom,\n    left: trblA.left - trblB.left\n  };\n}\n\n/**\n * Resize the given bounds by the specified delta from a given anchor point.\n *\n * @param {Rect} bounds the bounding box that should be resized\n * @param {Direction} direction in which the element is resized (nw, ne, se, sw)\n * @param {Point} delta of the resize operation\n *\n * @return {Rect} resized bounding box\n */\nfunction resizeBounds(bounds, direction, delta) {\n  var dx = delta.x,\n      dy = delta.y;\n\n  var newBounds = {\n    x: bounds.x,\n    y: bounds.y,\n    width: bounds.width,\n    height: bounds.height\n  };\n\n  if (direction.indexOf('n') !== -1) {\n    newBounds.y = bounds.y + dy;\n    newBounds.height = bounds.height - dy;\n  } else if (direction.indexOf('s') !== -1) {\n    newBounds.height = bounds.height + dy;\n  }\n\n  if (direction.indexOf('e') !== -1) {\n    newBounds.width = bounds.width + dx;\n  } else if (direction.indexOf('w') !== -1) {\n    newBounds.x = bounds.x + dx;\n    newBounds.width = bounds.width - dx;\n  }\n\n  return newBounds;\n}\n\n\n/**\n * Resize the given bounds by applying the passed\n * { top, right, bottom, left } delta.\n *\n * @param {Rect} bounds\n * @param {RectTRBL} resize\n *\n * @return {Rect}\n */\nfunction resizeTRBL(bounds, resize) {\n  return {\n    x: bounds.x + (resize.left || 0),\n    y: bounds.y + (resize.top || 0),\n    width: bounds.width - (resize.left || 0) + (resize.right || 0),\n    height: bounds.height - (resize.top || 0) + (resize.bottom || 0)\n  };\n}\n\n\nfunction reattachPoint(bounds, newBounds, point) {\n\n  var sx = bounds.width / newBounds.width,\n      sy = bounds.height / newBounds.height;\n\n  return {\n    x: Math.round((newBounds.x + newBounds.width / 2)) - Math.floor(((bounds.x + bounds.width / 2) - point.x) / sx),\n    y: Math.round((newBounds.y + newBounds.height / 2)) - Math.floor(((bounds.y + bounds.height / 2) - point.y) / sy)\n  };\n}\n\n\nfunction applyConstraints(attr, trbl, resizeConstraints) {\n\n  var value = trbl[attr],\n      minValue = resizeConstraints.min && resizeConstraints.min[attr],\n      maxValue = resizeConstraints.max && resizeConstraints.max[attr];\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(minValue)) {\n    value = (/top|left/.test(attr) ? min : max)(value, minValue);\n  }\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(maxValue)) {\n    value = (/top|left/.test(attr) ? max : min)(value, maxValue);\n  }\n\n  return value;\n}\n\nfunction ensureConstraints(currentBounds, resizeConstraints) {\n\n  if (!resizeConstraints) {\n    return currentBounds;\n  }\n\n  var currentTrbl = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(currentBounds);\n\n  return (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asBounds)({\n    top: applyConstraints('top', currentTrbl, resizeConstraints),\n    right: applyConstraints('right', currentTrbl, resizeConstraints),\n    bottom: applyConstraints('bottom', currentTrbl, resizeConstraints),\n    left: applyConstraints('left', currentTrbl, resizeConstraints)\n  });\n}\n\n\nfunction getMinResizeBounds(direction, currentBounds, minDimensions, childrenBounds) {\n\n  var currentBox = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(currentBounds);\n\n  var minBox = {\n    top: /n/.test(direction) ? currentBox.bottom - minDimensions.height : currentBox.top,\n    left: /w/.test(direction) ? currentBox.right - minDimensions.width : currentBox.left,\n    bottom: /s/.test(direction) ? currentBox.top + minDimensions.height : currentBox.bottom,\n    right: /e/.test(direction) ? currentBox.left + minDimensions.width : currentBox.right\n  };\n\n  var childrenBox = childrenBounds ? (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(childrenBounds) : minBox;\n\n  var combinedBox = {\n    top: min(minBox.top, childrenBox.top),\n    left: min(minBox.left, childrenBox.left),\n    bottom: max(minBox.bottom, childrenBox.bottom),\n    right: max(minBox.right, childrenBox.right)\n  };\n\n  return (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asBounds)(combinedBox);\n}\n\nfunction asPadding(mayBePadding, defaultValue) {\n  if (typeof mayBePadding !== 'undefined') {\n    return mayBePadding;\n  } else {\n    return DEFAULT_CHILD_BOX_PADDING;\n  }\n}\n\nfunction addPadding(bbox, padding) {\n  var left, right, top, bottom;\n\n  if (typeof padding === 'object') {\n    left = asPadding(padding.left);\n    right = asPadding(padding.right);\n    top = asPadding(padding.top);\n    bottom = asPadding(padding.bottom);\n  } else {\n    left = right = top = bottom = asPadding(padding);\n  }\n\n  return {\n    x: bbox.x - left,\n    y: bbox.y - top,\n    width: bbox.width + left + right,\n    height: bbox.height + top + bottom\n  };\n}\n\n\n/**\n * Is the given element part of the resize\n * targets min boundary box?\n *\n * This is the default implementation which excludes\n * connections and labels.\n *\n * @param {Element} element\n */\nfunction isBBoxChild(element) {\n\n  // exclude connections\n  if (element.waypoints) {\n    return false;\n  }\n\n  // exclude labels\n  if (element.type === 'label') {\n    return false;\n  }\n\n  return true;\n}\n\n/**\n * Return children bounding computed from a shapes children\n * or a list of prefiltered children.\n *\n * @param {Shape|Shape[]} shapeOrChildren\n * @param {RectTRBL|number} padding\n *\n * @return {Rect}\n */\nfunction computeChildrenBBox(shapeOrChildren, padding) {\n\n  var elements;\n\n  // compute based on shape\n  if (shapeOrChildren.length === undefined) {\n\n    // grab all the children that are part of the\n    // parents children box\n    elements = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.filter)(shapeOrChildren.children, isBBoxChild);\n\n  } else {\n    elements = shapeOrChildren;\n  }\n\n  if (elements.length) {\n    return addPadding((0,_util_Elements__WEBPACK_IMPORTED_MODULE_2__.getBBox)(elements), padding);\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcmVzaXplL1Jlc2l6ZVV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFHa0I7O0FBRWxCO0FBQ0E7O0FBRUE7O0FBSTZCOztBQUtJOztBQUVqQztBQUNBLGFBQWEsd0NBQXdDO0FBQ3JELGFBQWEsc0NBQXNDO0FBQ25EO0FBQ0EsYUFBYSxzQ0FBc0M7QUFDbkQsYUFBYSxrQ0FBa0M7QUFDL0MsYUFBYSxpQ0FBaUM7QUFDOUMsYUFBYSxxQ0FBcUM7QUFDbEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsVUFBVTtBQUNyQjtBQUNBLFlBQVk7QUFDWjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsV0FBVztBQUN0QixXQUFXLE9BQU87QUFDbEI7QUFDQSxZQUFZLE1BQU07QUFDbEI7QUFDTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQSxLQUFLLDJCQUEyQjtBQUNoQztBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLFVBQVU7QUFDckI7QUFDQSxZQUFZO0FBQ1o7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHTzs7QUFFUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNLGtEQUFRO0FBQ2Q7QUFDQTs7QUFFQSxNQUFNLGtEQUFRO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBOztBQUVPOztBQUVQO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0IsMERBQU07O0FBRTFCLFNBQVMsNERBQVE7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7OztBQUdPOztBQUVQLG1CQUFtQiwwREFBTTs7QUFFekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFDQUFxQywwREFBTTs7QUFFM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVMsNERBQVE7QUFDakI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCLFdBQVcsaUJBQWlCO0FBQzVCO0FBQ0EsWUFBWTtBQUNaO0FBQ087O0FBRVA7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxnREFBTTs7QUFFckIsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0IsdURBQU87QUFDN0I7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9yZXNpemUvUmVzaXplVXRpbC5qcz81ZDI2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGZpbHRlcixcbiAgaXNOdW1iZXJcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG52YXIgbWF4ID0gTWF0aC5tYXgsXG4gICAgbWluID0gTWF0aC5taW47XG5cbnZhciBERUZBVUxUX0NISUxEX0JPWF9QQURESU5HID0gMjA7XG5cbmltcG9ydCB7XG4gIGdldEJCb3hcbn0gZnJvbSAnLi4vLi4vdXRpbC9FbGVtZW50cyc7XG5cbmltcG9ydCB7XG4gIGFzVFJCTCxcbiAgYXNCb3VuZHNcbn0gZnJvbSAnLi4vLi4vbGF5b3V0L0xheW91dFV0aWwnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvVHlwZXMnKS5FbGVtZW50TGlrZX0gRWxlbWVudFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9UeXBlcycpLlNoYXBlTGlrZX0gU2hhcGVcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi91dGlsL1R5cGVzJykuRGlyZWN0aW9ufSBEaXJlY3Rpb25cbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL3V0aWwvVHlwZXMnKS5Qb2ludH0gUG9pbnRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL3V0aWwvVHlwZXMnKS5SZWN0fSBSZWN0XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi91dGlsL1R5cGVzJykuUmVjdFRSQkx9IFJlY3RUUkJMXG4gKi9cblxuLyoqXG4gKiBTdWJzdHJhY3QgYSBUUkJMIGZyb20gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7UmVjdFRSQkx9IHRyYmxBXG4gKiBAcGFyYW0ge1JlY3RUUkJMfSB0cmJsQlxuICpcbiAqIEByZXR1cm4ge1JlY3RUUkJMfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3Vic3RyYWN0VFJCTCh0cmJsQSwgdHJibEIpIHtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IHRyYmxBLnRvcCAtIHRyYmxCLnRvcCxcbiAgICByaWdodDogdHJibEEucmlnaHQgLSB0cmJsQi5yaWdodCxcbiAgICBib3R0b206IHRyYmxBLmJvdHRvbSAtIHRyYmxCLmJvdHRvbSxcbiAgICBsZWZ0OiB0cmJsQS5sZWZ0IC0gdHJibEIubGVmdFxuICB9O1xufVxuXG4vKipcbiAqIFJlc2l6ZSB0aGUgZ2l2ZW4gYm91bmRzIGJ5IHRoZSBzcGVjaWZpZWQgZGVsdGEgZnJvbSBhIGdpdmVuIGFuY2hvciBwb2ludC5cbiAqXG4gKiBAcGFyYW0ge1JlY3R9IGJvdW5kcyB0aGUgYm91bmRpbmcgYm94IHRoYXQgc2hvdWxkIGJlIHJlc2l6ZWRcbiAqIEBwYXJhbSB7RGlyZWN0aW9ufSBkaXJlY3Rpb24gaW4gd2hpY2ggdGhlIGVsZW1lbnQgaXMgcmVzaXplZCAobncsIG5lLCBzZSwgc3cpXG4gKiBAcGFyYW0ge1BvaW50fSBkZWx0YSBvZiB0aGUgcmVzaXplIG9wZXJhdGlvblxuICpcbiAqIEByZXR1cm4ge1JlY3R9IHJlc2l6ZWQgYm91bmRpbmcgYm94XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNpemVCb3VuZHMoYm91bmRzLCBkaXJlY3Rpb24sIGRlbHRhKSB7XG4gIHZhciBkeCA9IGRlbHRhLngsXG4gICAgICBkeSA9IGRlbHRhLnk7XG5cbiAgdmFyIG5ld0JvdW5kcyA9IHtcbiAgICB4OiBib3VuZHMueCxcbiAgICB5OiBib3VuZHMueSxcbiAgICB3aWR0aDogYm91bmRzLndpZHRoLFxuICAgIGhlaWdodDogYm91bmRzLmhlaWdodFxuICB9O1xuXG4gIGlmIChkaXJlY3Rpb24uaW5kZXhPZignbicpICE9PSAtMSkge1xuICAgIG5ld0JvdW5kcy55ID0gYm91bmRzLnkgKyBkeTtcbiAgICBuZXdCb3VuZHMuaGVpZ2h0ID0gYm91bmRzLmhlaWdodCAtIGR5O1xuICB9IGVsc2UgaWYgKGRpcmVjdGlvbi5pbmRleE9mKCdzJykgIT09IC0xKSB7XG4gICAgbmV3Qm91bmRzLmhlaWdodCA9IGJvdW5kcy5oZWlnaHQgKyBkeTtcbiAgfVxuXG4gIGlmIChkaXJlY3Rpb24uaW5kZXhPZignZScpICE9PSAtMSkge1xuICAgIG5ld0JvdW5kcy53aWR0aCA9IGJvdW5kcy53aWR0aCArIGR4O1xuICB9IGVsc2UgaWYgKGRpcmVjdGlvbi5pbmRleE9mKCd3JykgIT09IC0xKSB7XG4gICAgbmV3Qm91bmRzLnggPSBib3VuZHMueCArIGR4O1xuICAgIG5ld0JvdW5kcy53aWR0aCA9IGJvdW5kcy53aWR0aCAtIGR4O1xuICB9XG5cbiAgcmV0dXJuIG5ld0JvdW5kcztcbn1cblxuXG4vKipcbiAqIFJlc2l6ZSB0aGUgZ2l2ZW4gYm91bmRzIGJ5IGFwcGx5aW5nIHRoZSBwYXNzZWRcbiAqIHsgdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0IH0gZGVsdGEuXG4gKlxuICogQHBhcmFtIHtSZWN0fSBib3VuZHNcbiAqIEBwYXJhbSB7UmVjdFRSQkx9IHJlc2l6ZVxuICpcbiAqIEByZXR1cm4ge1JlY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNpemVUUkJMKGJvdW5kcywgcmVzaXplKSB7XG4gIHJldHVybiB7XG4gICAgeDogYm91bmRzLnggKyAocmVzaXplLmxlZnQgfHwgMCksXG4gICAgeTogYm91bmRzLnkgKyAocmVzaXplLnRvcCB8fCAwKSxcbiAgICB3aWR0aDogYm91bmRzLndpZHRoIC0gKHJlc2l6ZS5sZWZ0IHx8IDApICsgKHJlc2l6ZS5yaWdodCB8fCAwKSxcbiAgICBoZWlnaHQ6IGJvdW5kcy5oZWlnaHQgLSAocmVzaXplLnRvcCB8fCAwKSArIChyZXNpemUuYm90dG9tIHx8IDApXG4gIH07XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHJlYXR0YWNoUG9pbnQoYm91bmRzLCBuZXdCb3VuZHMsIHBvaW50KSB7XG5cbiAgdmFyIHN4ID0gYm91bmRzLndpZHRoIC8gbmV3Qm91bmRzLndpZHRoLFxuICAgICAgc3kgPSBib3VuZHMuaGVpZ2h0IC8gbmV3Qm91bmRzLmhlaWdodDtcblxuICByZXR1cm4ge1xuICAgIHg6IE1hdGgucm91bmQoKG5ld0JvdW5kcy54ICsgbmV3Qm91bmRzLndpZHRoIC8gMikpIC0gTWF0aC5mbG9vcigoKGJvdW5kcy54ICsgYm91bmRzLndpZHRoIC8gMikgLSBwb2ludC54KSAvIHN4KSxcbiAgICB5OiBNYXRoLnJvdW5kKChuZXdCb3VuZHMueSArIG5ld0JvdW5kcy5oZWlnaHQgLyAyKSkgLSBNYXRoLmZsb29yKCgoYm91bmRzLnkgKyBib3VuZHMuaGVpZ2h0IC8gMikgLSBwb2ludC55KSAvIHN5KVxuICB9O1xufVxuXG5cbmZ1bmN0aW9uIGFwcGx5Q29uc3RyYWludHMoYXR0ciwgdHJibCwgcmVzaXplQ29uc3RyYWludHMpIHtcblxuICB2YXIgdmFsdWUgPSB0cmJsW2F0dHJdLFxuICAgICAgbWluVmFsdWUgPSByZXNpemVDb25zdHJhaW50cy5taW4gJiYgcmVzaXplQ29uc3RyYWludHMubWluW2F0dHJdLFxuICAgICAgbWF4VmFsdWUgPSByZXNpemVDb25zdHJhaW50cy5tYXggJiYgcmVzaXplQ29uc3RyYWludHMubWF4W2F0dHJdO1xuXG4gIGlmIChpc051bWJlcihtaW5WYWx1ZSkpIHtcbiAgICB2YWx1ZSA9ICgvdG9wfGxlZnQvLnRlc3QoYXR0cikgPyBtaW4gOiBtYXgpKHZhbHVlLCBtaW5WYWx1ZSk7XG4gIH1cblxuICBpZiAoaXNOdW1iZXIobWF4VmFsdWUpKSB7XG4gICAgdmFsdWUgPSAoL3RvcHxsZWZ0Ly50ZXN0KGF0dHIpID8gbWF4IDogbWluKSh2YWx1ZSwgbWF4VmFsdWUpO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlQ29uc3RyYWludHMoY3VycmVudEJvdW5kcywgcmVzaXplQ29uc3RyYWludHMpIHtcblxuICBpZiAoIXJlc2l6ZUNvbnN0cmFpbnRzKSB7XG4gICAgcmV0dXJuIGN1cnJlbnRCb3VuZHM7XG4gIH1cblxuICB2YXIgY3VycmVudFRyYmwgPSBhc1RSQkwoY3VycmVudEJvdW5kcyk7XG5cbiAgcmV0dXJuIGFzQm91bmRzKHtcbiAgICB0b3A6IGFwcGx5Q29uc3RyYWludHMoJ3RvcCcsIGN1cnJlbnRUcmJsLCByZXNpemVDb25zdHJhaW50cyksXG4gICAgcmlnaHQ6IGFwcGx5Q29uc3RyYWludHMoJ3JpZ2h0JywgY3VycmVudFRyYmwsIHJlc2l6ZUNvbnN0cmFpbnRzKSxcbiAgICBib3R0b206IGFwcGx5Q29uc3RyYWludHMoJ2JvdHRvbScsIGN1cnJlbnRUcmJsLCByZXNpemVDb25zdHJhaW50cyksXG4gICAgbGVmdDogYXBwbHlDb25zdHJhaW50cygnbGVmdCcsIGN1cnJlbnRUcmJsLCByZXNpemVDb25zdHJhaW50cylcbiAgfSk7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1pblJlc2l6ZUJvdW5kcyhkaXJlY3Rpb24sIGN1cnJlbnRCb3VuZHMsIG1pbkRpbWVuc2lvbnMsIGNoaWxkcmVuQm91bmRzKSB7XG5cbiAgdmFyIGN1cnJlbnRCb3ggPSBhc1RSQkwoY3VycmVudEJvdW5kcyk7XG5cbiAgdmFyIG1pbkJveCA9IHtcbiAgICB0b3A6IC9uLy50ZXN0KGRpcmVjdGlvbikgPyBjdXJyZW50Qm94LmJvdHRvbSAtIG1pbkRpbWVuc2lvbnMuaGVpZ2h0IDogY3VycmVudEJveC50b3AsXG4gICAgbGVmdDogL3cvLnRlc3QoZGlyZWN0aW9uKSA/IGN1cnJlbnRCb3gucmlnaHQgLSBtaW5EaW1lbnNpb25zLndpZHRoIDogY3VycmVudEJveC5sZWZ0LFxuICAgIGJvdHRvbTogL3MvLnRlc3QoZGlyZWN0aW9uKSA/IGN1cnJlbnRCb3gudG9wICsgbWluRGltZW5zaW9ucy5oZWlnaHQgOiBjdXJyZW50Qm94LmJvdHRvbSxcbiAgICByaWdodDogL2UvLnRlc3QoZGlyZWN0aW9uKSA/IGN1cnJlbnRCb3gubGVmdCArIG1pbkRpbWVuc2lvbnMud2lkdGggOiBjdXJyZW50Qm94LnJpZ2h0XG4gIH07XG5cbiAgdmFyIGNoaWxkcmVuQm94ID0gY2hpbGRyZW5Cb3VuZHMgPyBhc1RSQkwoY2hpbGRyZW5Cb3VuZHMpIDogbWluQm94O1xuXG4gIHZhciBjb21iaW5lZEJveCA9IHtcbiAgICB0b3A6IG1pbihtaW5Cb3gudG9wLCBjaGlsZHJlbkJveC50b3ApLFxuICAgIGxlZnQ6IG1pbihtaW5Cb3gubGVmdCwgY2hpbGRyZW5Cb3gubGVmdCksXG4gICAgYm90dG9tOiBtYXgobWluQm94LmJvdHRvbSwgY2hpbGRyZW5Cb3guYm90dG9tKSxcbiAgICByaWdodDogbWF4KG1pbkJveC5yaWdodCwgY2hpbGRyZW5Cb3gucmlnaHQpXG4gIH07XG5cbiAgcmV0dXJuIGFzQm91bmRzKGNvbWJpbmVkQm94KTtcbn1cblxuZnVuY3Rpb24gYXNQYWRkaW5nKG1heUJlUGFkZGluZywgZGVmYXVsdFZhbHVlKSB7XG4gIGlmICh0eXBlb2YgbWF5QmVQYWRkaW5nICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBtYXlCZVBhZGRpbmc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIERFRkFVTFRfQ0hJTERfQk9YX1BBRERJTkc7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFBhZGRpbmcoYmJveCwgcGFkZGluZykge1xuICB2YXIgbGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tO1xuXG4gIGlmICh0eXBlb2YgcGFkZGluZyA9PT0gJ29iamVjdCcpIHtcbiAgICBsZWZ0ID0gYXNQYWRkaW5nKHBhZGRpbmcubGVmdCk7XG4gICAgcmlnaHQgPSBhc1BhZGRpbmcocGFkZGluZy5yaWdodCk7XG4gICAgdG9wID0gYXNQYWRkaW5nKHBhZGRpbmcudG9wKTtcbiAgICBib3R0b20gPSBhc1BhZGRpbmcocGFkZGluZy5ib3R0b20pO1xuICB9IGVsc2Uge1xuICAgIGxlZnQgPSByaWdodCA9IHRvcCA9IGJvdHRvbSA9IGFzUGFkZGluZyhwYWRkaW5nKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgeDogYmJveC54IC0gbGVmdCxcbiAgICB5OiBiYm94LnkgLSB0b3AsXG4gICAgd2lkdGg6IGJib3gud2lkdGggKyBsZWZ0ICsgcmlnaHQsXG4gICAgaGVpZ2h0OiBiYm94LmhlaWdodCArIHRvcCArIGJvdHRvbVxuICB9O1xufVxuXG5cbi8qKlxuICogSXMgdGhlIGdpdmVuIGVsZW1lbnQgcGFydCBvZiB0aGUgcmVzaXplXG4gKiB0YXJnZXRzIG1pbiBib3VuZGFyeSBib3g/XG4gKlxuICogVGhpcyBpcyB0aGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiB3aGljaCBleGNsdWRlc1xuICogY29ubmVjdGlvbnMgYW5kIGxhYmVscy5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gaXNCQm94Q2hpbGQoZWxlbWVudCkge1xuXG4gIC8vIGV4Y2x1ZGUgY29ubmVjdGlvbnNcbiAgaWYgKGVsZW1lbnQud2F5cG9pbnRzKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gZXhjbHVkZSBsYWJlbHNcbiAgaWYgKGVsZW1lbnQudHlwZSA9PT0gJ2xhYmVsJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFJldHVybiBjaGlsZHJlbiBib3VuZGluZyBjb21wdXRlZCBmcm9tIGEgc2hhcGVzIGNoaWxkcmVuXG4gKiBvciBhIGxpc3Qgb2YgcHJlZmlsdGVyZWQgY2hpbGRyZW4uXG4gKlxuICogQHBhcmFtIHtTaGFwZXxTaGFwZVtdfSBzaGFwZU9yQ2hpbGRyZW5cbiAqIEBwYXJhbSB7UmVjdFRSQkx8bnVtYmVyfSBwYWRkaW5nXG4gKlxuICogQHJldHVybiB7UmVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVDaGlsZHJlbkJCb3goc2hhcGVPckNoaWxkcmVuLCBwYWRkaW5nKSB7XG5cbiAgdmFyIGVsZW1lbnRzO1xuXG4gIC8vIGNvbXB1dGUgYmFzZWQgb24gc2hhcGVcbiAgaWYgKHNoYXBlT3JDaGlsZHJlbi5sZW5ndGggPT09IHVuZGVmaW5lZCkge1xuXG4gICAgLy8gZ3JhYiBhbGwgdGhlIGNoaWxkcmVuIHRoYXQgYXJlIHBhcnQgb2YgdGhlXG4gICAgLy8gcGFyZW50cyBjaGlsZHJlbiBib3hcbiAgICBlbGVtZW50cyA9IGZpbHRlcihzaGFwZU9yQ2hpbGRyZW4uY2hpbGRyZW4sIGlzQkJveENoaWxkKTtcblxuICB9IGVsc2Uge1xuICAgIGVsZW1lbnRzID0gc2hhcGVPckNoaWxkcmVuO1xuICB9XG5cbiAgaWYgKGVsZW1lbnRzLmxlbmd0aCkge1xuICAgIHJldHVybiBhZGRQYWRkaW5nKGdldEJCb3goZWxlbWVudHMpLCBwYWRkaW5nKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/resize/ResizeUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/resize/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/resize/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _rules__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../rules */ \"(ssr)/./node_modules/diagram-js/lib/features/rules/index.js\");\n/* harmony import */ var _dragging__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dragging */ \"(ssr)/./node_modules/diagram-js/lib/features/dragging/index.js\");\n/* harmony import */ var _preview_support__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../preview-support */ \"(ssr)/./node_modules/diagram-js/lib/features/preview-support/index.js\");\n/* harmony import */ var _Resize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Resize */ \"(ssr)/./node_modules/diagram-js/lib/features/resize/Resize.js\");\n/* harmony import */ var _ResizePreview__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ResizePreview */ \"(ssr)/./node_modules/diagram-js/lib/features/resize/ResizePreview.js\");\n/* harmony import */ var _ResizeHandles__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ResizeHandles */ \"(ssr)/./node_modules/diagram-js/lib/features/resize/ResizeHandles.js\");\n\n\n\n\n\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _rules__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    _dragging__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    _preview_support__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\n  ],\n  __init__: [\n    'resize',\n    'resizePreview',\n    'resizeHandles'\n  ],\n  resize: [ 'type', _Resize__WEBPACK_IMPORTED_MODULE_3__[\"default\"] ],\n  resizePreview: [ 'type', _ResizePreview__WEBPACK_IMPORTED_MODULE_4__[\"default\"] ],\n  resizeHandles: [ 'type', _ResizeHandles__WEBPACK_IMPORTED_MODULE_5__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcmVzaXplL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBbUM7QUFDTTtBQUNhOztBQUV4QjtBQUNjO0FBQ0E7OztBQUc1QztBQUNBLFdBQVc7QUFDWDtBQUNBLGlFQUFlO0FBQ2Y7QUFDQSxJQUFJLDhDQUFXO0FBQ2YsSUFBSSxpREFBYztBQUNsQixJQUFJLHdEQUFvQjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsK0NBQU07QUFDMUIsMkJBQTJCLHNEQUFhO0FBQ3hDLDJCQUEyQixzREFBYTtBQUN4QyxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcmVzaXplL2luZGV4LmpzPzdjZTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJ1bGVzTW9kdWxlIGZyb20gJy4uL3J1bGVzJztcbmltcG9ydCBEcmFnZ2luZ01vZHVsZSBmcm9tICcuLi9kcmFnZ2luZyc7XG5pbXBvcnQgUHJldmlld1N1cHBvcnRNb2R1bGUgZnJvbSAnLi4vcHJldmlldy1zdXBwb3J0JztcblxuaW1wb3J0IFJlc2l6ZSBmcm9tICcuL1Jlc2l6ZSc7XG5pbXBvcnQgUmVzaXplUHJldmlldyBmcm9tICcuL1Jlc2l6ZVByZXZpZXcnO1xuaW1wb3J0IFJlc2l6ZUhhbmRsZXMgZnJvbSAnLi9SZXNpemVIYW5kbGVzJztcblxuXG4vKipcbiAqIEB0eXBlIHsgaW1wb3J0KCdkaWRpJykuTW9kdWxlRGVjbGFyYXRpb24gfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgUnVsZXNNb2R1bGUsXG4gICAgRHJhZ2dpbmdNb2R1bGUsXG4gICAgUHJldmlld1N1cHBvcnRNb2R1bGVcbiAgXSxcbiAgX19pbml0X186IFtcbiAgICAncmVzaXplJyxcbiAgICAncmVzaXplUHJldmlldycsXG4gICAgJ3Jlc2l6ZUhhbmRsZXMnXG4gIF0sXG4gIHJlc2l6ZTogWyAndHlwZScsIFJlc2l6ZSBdLFxuICByZXNpemVQcmV2aWV3OiBbICd0eXBlJywgUmVzaXplUHJldmlldyBdLFxuICByZXNpemVIYW5kbGVzOiBbICd0eXBlJywgUmVzaXplSGFuZGxlcyBdXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/resize/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/root-elements/RootElementsBehavior.js":
/*!************************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/root-elements/RootElementsBehavior.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootElementsBehavior)\n/* harmony export */ });\n/* harmony import */ var inherits_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! inherits-browser */ \"(ssr)/./node_modules/inherits-browser/dist/index.es.js\");\n/* harmony import */ var _command_CommandInterceptor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../command/CommandInterceptor */ \"(ssr)/./node_modules/diagram-js/lib/command/CommandInterceptor.js\");\n\n\n\n\n/**\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n */\n\n/**\n * A modeling behavior that ensures we set the correct root element\n * as we undo and redo commands.\n *\n * @param {Canvas} canvas\n * @param {Injector} injector\n */\nfunction RootElementsBehavior(canvas, injector) {\n\n  injector.invoke(_command_CommandInterceptor__WEBPACK_IMPORTED_MODULE_0__[\"default\"], this);\n\n  this.executed(function(event) {\n    var context = event.context;\n\n    if (context.rootElement) {\n      canvas.setRootElement(context.rootElement);\n    } else {\n      context.rootElement = canvas.getRootElement();\n    }\n  });\n\n  this.revert(function(event) {\n    var context = event.context;\n\n    if (context.rootElement) {\n      canvas.setRootElement(context.rootElement);\n    }\n  });\n}\n\n(0,inherits_browser__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(RootElementsBehavior, _command_CommandInterceptor__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\nRootElementsBehavior.$inject = [ 'canvas', 'injector' ];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcm9vdC1lbGVtZW50cy9Sb290RWxlbWVudHNCZWhhdmlvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBd0M7O0FBRTBCOztBQUVsRTtBQUNBLGFBQWEseUJBQXlCO0FBQ3RDO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCO0FBQ2U7O0FBRWYsa0JBQWtCLG1FQUFrQjs7QUFFcEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBLDREQUFRLHVCQUF1QixtRUFBa0I7O0FBRWpEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3Jvb3QtZWxlbWVudHMvUm9vdEVsZW1lbnRzQmVoYXZpb3IuanM/NGY1YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMtYnJvd3Nlcic7XG5cbmltcG9ydCBDb21tYW5kSW50ZXJjZXB0b3IgZnJvbSAnLi4vLi4vY29tbWFuZC9Db21tYW5kSW50ZXJjZXB0b3InO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpZGknKS5JbmplY3Rvcn0gSW5qZWN0b3JcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0NhbnZhcycpLmRlZmF1bHR9IENhbnZhc1xuICovXG5cbi8qKlxuICogQSBtb2RlbGluZyBiZWhhdmlvciB0aGF0IGVuc3VyZXMgd2Ugc2V0IHRoZSBjb3JyZWN0IHJvb3QgZWxlbWVudFxuICogYXMgd2UgdW5kbyBhbmQgcmVkbyBjb21tYW5kcy5cbiAqXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKiBAcGFyYW0ge0luamVjdG9yfSBpbmplY3RvclxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSb290RWxlbWVudHNCZWhhdmlvcihjYW52YXMsIGluamVjdG9yKSB7XG5cbiAgaW5qZWN0b3IuaW52b2tlKENvbW1hbmRJbnRlcmNlcHRvciwgdGhpcyk7XG5cbiAgdGhpcy5leGVjdXRlZChmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dDtcblxuICAgIGlmIChjb250ZXh0LnJvb3RFbGVtZW50KSB7XG4gICAgICBjYW52YXMuc2V0Um9vdEVsZW1lbnQoY29udGV4dC5yb290RWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRleHQucm9vdEVsZW1lbnQgPSBjYW52YXMuZ2V0Um9vdEVsZW1lbnQoKTtcbiAgICB9XG4gIH0pO1xuXG4gIHRoaXMucmV2ZXJ0KGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0O1xuXG4gICAgaWYgKGNvbnRleHQucm9vdEVsZW1lbnQpIHtcbiAgICAgIGNhbnZhcy5zZXRSb290RWxlbWVudChjb250ZXh0LnJvb3RFbGVtZW50KTtcbiAgICB9XG4gIH0pO1xufVxuXG5pbmhlcml0cyhSb290RWxlbWVudHNCZWhhdmlvciwgQ29tbWFuZEludGVyY2VwdG9yKTtcblxuUm9vdEVsZW1lbnRzQmVoYXZpb3IuJGluamVjdCA9IFsgJ2NhbnZhcycsICdpbmplY3RvcicgXTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/root-elements/RootElementsBehavior.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/root-elements/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/root-elements/index.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _RootElementsBehavior__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RootElementsBehavior */ \"(ssr)/./node_modules/diagram-js/lib/features/root-elements/RootElementsBehavior.js\");\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [ 'rootElementsBehavior' ],\n  rootElementsBehavior: [ 'type', _RootElementsBehavior__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcm9vdC1lbGVtZW50cy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEwRDs7O0FBRzFEO0FBQ0EsV0FBVztBQUNYO0FBQ0EsaUVBQWU7QUFDZjtBQUNBLGtDQUFrQyw2REFBb0I7QUFDdEQsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3Jvb3QtZWxlbWVudHMvaW5kZXguanM/YWNlNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUm9vdEVsZW1lbnRzQmVoYXZpb3IgZnJvbSAnLi9Sb290RWxlbWVudHNCZWhhdmlvcic7XG5cblxuLyoqXG4gKiBAdHlwZSB7IGltcG9ydCgnZGlkaScpLk1vZHVsZURlY2xhcmF0aW9uIH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogWyAncm9vdEVsZW1lbnRzQmVoYXZpb3InIF0sXG4gIHJvb3RFbGVtZW50c0JlaGF2aW9yOiBbICd0eXBlJywgUm9vdEVsZW1lbnRzQmVoYXZpb3IgXVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/root-elements/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/rules/RuleProvider.js":
/*!********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/rules/RuleProvider.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RuleProvider)\n/* harmony export */ });\n/* harmony import */ var inherits_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! inherits-browser */ \"(ssr)/./node_modules/inherits-browser/dist/index.es.js\");\n/* harmony import */ var _command_CommandInterceptor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../command/CommandInterceptor */ \"(ssr)/./node_modules/diagram-js/lib/command/CommandInterceptor.js\");\n\n\n\n\n/**\n * @typedef {import('../../core/EventBus').default} EventBus\n */\n\n/**\n * A basic provider that may be extended to implement modeling rules.\n *\n * Extensions should implement the init method to actually add their custom\n * modeling checks. Checks may be added via the #addRule(action, fn) method.\n *\n * @class\n *\n * @param {EventBus} eventBus\n */\nfunction RuleProvider(eventBus) {\n  _command_CommandInterceptor__WEBPACK_IMPORTED_MODULE_0__[\"default\"].call(this, eventBus);\n\n  this.init();\n}\n\nRuleProvider.$inject = [ 'eventBus' ];\n\n(0,inherits_browser__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(RuleProvider, _command_CommandInterceptor__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n\n/**\n * Adds a modeling rule for the given action, implemented through\n * a callback function.\n *\n * The callback receives a modeling specific action context\n * to perform its check. It must return `false` to disallow the\n * action from happening or `true` to allow the action. Usually returing\n * `null` denotes that a particular interaction shall be ignored.\n * By returning nothing or `undefined` you pass evaluation to lower\n * priority rules.\n *\n * @example\n *\n * ```javascript\n * ResizableRules.prototype.init = function() {\n *\n *   \\/**\n *    * Return `true`, `false` or nothing to denote\n *    * _allowed_, _not allowed_ and _continue evaluating_.\n *    *\\/\n *   this.addRule('shape.resize', function(context) {\n *\n *     var shape = context.shape;\n *\n *     if (!context.newBounds) {\n *       // check general resizability\n *       if (!shape.resizable) {\n *         return false;\n *       }\n *\n *       // not returning anything (read: undefined)\n *       // will continue the evaluation of other rules\n *       // (with lower priority)\n *       return;\n *     } else {\n *       // element must have minimum size of 10*10 points\n *       return context.newBounds.width > 10 && context.newBounds.height > 10;\n *     }\n *   });\n * };\n * ```\n *\n * @param {string|string[]} actions the identifier for the modeling action to check\n * @param {number} [priority] the priority at which this rule is being applied\n * @param {(any) => any} fn the callback function that performs the actual check\n */\nRuleProvider.prototype.addRule = function(actions, priority, fn) {\n\n  var self = this;\n\n  if (typeof actions === 'string') {\n    actions = [ actions ];\n  }\n\n  actions.forEach(function(action) {\n\n    self.canExecute(action, priority, function(context, action, event) {\n      return fn(context);\n    }, true);\n  });\n};\n\n/**\n * Implement this method to add new rules during provider initialization.\n */\nRuleProvider.prototype.init = function() {};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcnVsZXMvUnVsZVByb3ZpZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF3Qzs7QUFFMEI7O0FBRWxFO0FBQ0EsYUFBYSx1Q0FBdUM7QUFDcEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNlO0FBQ2YsRUFBRSxtRUFBa0I7O0FBRXBCO0FBQ0E7O0FBRUE7O0FBRUEsNERBQVEsZUFBZSxtRUFBa0I7OztBQUd6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsY0FBYztBQUN6QjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9ydWxlcy9SdWxlUHJvdmlkZXIuanM/YWQzMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMtYnJvd3Nlcic7XG5cbmltcG9ydCBDb21tYW5kSW50ZXJjZXB0b3IgZnJvbSAnLi4vLi4vY29tbWFuZC9Db21tYW5kSW50ZXJjZXB0b3InO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICovXG5cbi8qKlxuICogQSBiYXNpYyBwcm92aWRlciB0aGF0IG1heSBiZSBleHRlbmRlZCB0byBpbXBsZW1lbnQgbW9kZWxpbmcgcnVsZXMuXG4gKlxuICogRXh0ZW5zaW9ucyBzaG91bGQgaW1wbGVtZW50IHRoZSBpbml0IG1ldGhvZCB0byBhY3R1YWxseSBhZGQgdGhlaXIgY3VzdG9tXG4gKiBtb2RlbGluZyBjaGVja3MuIENoZWNrcyBtYXkgYmUgYWRkZWQgdmlhIHRoZSAjYWRkUnVsZShhY3Rpb24sIGZuKSBtZXRob2QuXG4gKlxuICogQGNsYXNzXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUnVsZVByb3ZpZGVyKGV2ZW50QnVzKSB7XG4gIENvbW1hbmRJbnRlcmNlcHRvci5jYWxsKHRoaXMsIGV2ZW50QnVzKTtcblxuICB0aGlzLmluaXQoKTtcbn1cblxuUnVsZVByb3ZpZGVyLiRpbmplY3QgPSBbICdldmVudEJ1cycgXTtcblxuaW5oZXJpdHMoUnVsZVByb3ZpZGVyLCBDb21tYW5kSW50ZXJjZXB0b3IpO1xuXG5cbi8qKlxuICogQWRkcyBhIG1vZGVsaW5nIHJ1bGUgZm9yIHRoZSBnaXZlbiBhY3Rpb24sIGltcGxlbWVudGVkIHRocm91Z2hcbiAqIGEgY2FsbGJhY2sgZnVuY3Rpb24uXG4gKlxuICogVGhlIGNhbGxiYWNrIHJlY2VpdmVzIGEgbW9kZWxpbmcgc3BlY2lmaWMgYWN0aW9uIGNvbnRleHRcbiAqIHRvIHBlcmZvcm0gaXRzIGNoZWNrLiBJdCBtdXN0IHJldHVybiBgZmFsc2VgIHRvIGRpc2FsbG93IHRoZVxuICogYWN0aW9uIGZyb20gaGFwcGVuaW5nIG9yIGB0cnVlYCB0byBhbGxvdyB0aGUgYWN0aW9uLiBVc3VhbGx5IHJldHVyaW5nXG4gKiBgbnVsbGAgZGVub3RlcyB0aGF0IGEgcGFydGljdWxhciBpbnRlcmFjdGlvbiBzaGFsbCBiZSBpZ25vcmVkLlxuICogQnkgcmV0dXJuaW5nIG5vdGhpbmcgb3IgYHVuZGVmaW5lZGAgeW91IHBhc3MgZXZhbHVhdGlvbiB0byBsb3dlclxuICogcHJpb3JpdHkgcnVsZXMuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBSZXNpemFibGVSdWxlcy5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICpcbiAqICAgXFwvKipcbiAqICAgICogUmV0dXJuIGB0cnVlYCwgYGZhbHNlYCBvciBub3RoaW5nIHRvIGRlbm90ZVxuICogICAgKiBfYWxsb3dlZF8sIF9ub3QgYWxsb3dlZF8gYW5kIF9jb250aW51ZSBldmFsdWF0aW5nXy5cbiAqICAgICpcXC9cbiAqICAgdGhpcy5hZGRSdWxlKCdzaGFwZS5yZXNpemUnLCBmdW5jdGlvbihjb250ZXh0KSB7XG4gKlxuICogICAgIHZhciBzaGFwZSA9IGNvbnRleHQuc2hhcGU7XG4gKlxuICogICAgIGlmICghY29udGV4dC5uZXdCb3VuZHMpIHtcbiAqICAgICAgIC8vIGNoZWNrIGdlbmVyYWwgcmVzaXphYmlsaXR5XG4gKiAgICAgICBpZiAoIXNoYXBlLnJlc2l6YWJsZSkge1xuICogICAgICAgICByZXR1cm4gZmFsc2U7XG4gKiAgICAgICB9XG4gKlxuICogICAgICAgLy8gbm90IHJldHVybmluZyBhbnl0aGluZyAocmVhZDogdW5kZWZpbmVkKVxuICogICAgICAgLy8gd2lsbCBjb250aW51ZSB0aGUgZXZhbHVhdGlvbiBvZiBvdGhlciBydWxlc1xuICogICAgICAgLy8gKHdpdGggbG93ZXIgcHJpb3JpdHkpXG4gKiAgICAgICByZXR1cm47XG4gKiAgICAgfSBlbHNlIHtcbiAqICAgICAgIC8vIGVsZW1lbnQgbXVzdCBoYXZlIG1pbmltdW0gc2l6ZSBvZiAxMCoxMCBwb2ludHNcbiAqICAgICAgIHJldHVybiBjb250ZXh0Lm5ld0JvdW5kcy53aWR0aCA+IDEwICYmIGNvbnRleHQubmV3Qm91bmRzLmhlaWdodCA+IDEwO1xuICogICAgIH1cbiAqICAgfSk7XG4gKiB9O1xuICogYGBgXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IGFjdGlvbnMgdGhlIGlkZW50aWZpZXIgZm9yIHRoZSBtb2RlbGluZyBhY3Rpb24gdG8gY2hlY2tcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHldIHRoZSBwcmlvcml0eSBhdCB3aGljaCB0aGlzIHJ1bGUgaXMgYmVpbmcgYXBwbGllZFxuICogQHBhcmFtIHsoYW55KSA9PiBhbnl9IGZuIHRoZSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIHRoZSBhY3R1YWwgY2hlY2tcbiAqL1xuUnVsZVByb3ZpZGVyLnByb3RvdHlwZS5hZGRSdWxlID0gZnVuY3Rpb24oYWN0aW9ucywgcHJpb3JpdHksIGZuKSB7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGlmICh0eXBlb2YgYWN0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICBhY3Rpb25zID0gWyBhY3Rpb25zIF07XG4gIH1cblxuICBhY3Rpb25zLmZvckVhY2goZnVuY3Rpb24oYWN0aW9uKSB7XG5cbiAgICBzZWxmLmNhbkV4ZWN1dGUoYWN0aW9uLCBwcmlvcml0eSwgZnVuY3Rpb24oY29udGV4dCwgYWN0aW9uLCBldmVudCkge1xuICAgICAgcmV0dXJuIGZuKGNvbnRleHQpO1xuICAgIH0sIHRydWUpO1xuICB9KTtcbn07XG5cbi8qKlxuICogSW1wbGVtZW50IHRoaXMgbWV0aG9kIHRvIGFkZCBuZXcgcnVsZXMgZHVyaW5nIHByb3ZpZGVyIGluaXRpYWxpemF0aW9uLlxuICovXG5SdWxlUHJvdmlkZXIucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHt9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/rules/RuleProvider.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/rules/Rules.js":
/*!*************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/rules/Rules.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Rules)\n/* harmony export */ });\n/**\n * @typedef {import('didi').Injector} Injector\n */\n\n/**\n * A service that provides rules for certain diagram actions.\n *\n * The default implementation will hook into the {@link CommandStack}\n * to perform the actual rule evaluation. Make sure to provide the\n * `commandStack` service with this module if you plan to use it.\n *\n * Together with this implementation you may use the {@link import('./RuleProvider').default}\n * to implement your own rule checkers.\n *\n * This module is ment to be easily replaced, thus the tiny foot print.\n *\n * @param {Injector} injector\n */\nfunction Rules(injector) {\n  this._commandStack = injector.get('commandStack', false);\n}\n\nRules.$inject = [ 'injector' ];\n\n\n/**\n * Returns whether or not a given modeling action can be executed\n * in the specified context.\n *\n * This implementation will respond with allow unless anyone\n * objects.\n *\n * @param {string} action The action to be allowed or disallowed.\n * @param {Object} [context] The context for allowing or disallowing the action.\n *\n * @return {boolean|null} Wether the action is allowed. Returns `null` if the action\n * is to be ignored.\n */\nRules.prototype.allowed = function(action, context) {\n  var allowed = true;\n\n  var commandStack = this._commandStack;\n\n  if (commandStack) {\n    allowed = commandStack.canExecute(action, context);\n  }\n\n  // map undefined to true, i.e. no rules\n  return allowed === undefined ? true : allowed;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcnVsZXMvUnVsZXMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0EsYUFBYSx5QkFBeUI7QUFDdEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRDtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNlO0FBQ2Y7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcnVsZXMvUnVsZXMuanM/YjVjNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpZGknKS5JbmplY3Rvcn0gSW5qZWN0b3JcbiAqL1xuXG4vKipcbiAqIEEgc2VydmljZSB0aGF0IHByb3ZpZGVzIHJ1bGVzIGZvciBjZXJ0YWluIGRpYWdyYW0gYWN0aW9ucy5cbiAqXG4gKiBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiB3aWxsIGhvb2sgaW50byB0aGUge0BsaW5rIENvbW1hbmRTdGFja31cbiAqIHRvIHBlcmZvcm0gdGhlIGFjdHVhbCBydWxlIGV2YWx1YXRpb24uIE1ha2Ugc3VyZSB0byBwcm92aWRlIHRoZVxuICogYGNvbW1hbmRTdGFja2Agc2VydmljZSB3aXRoIHRoaXMgbW9kdWxlIGlmIHlvdSBwbGFuIHRvIHVzZSBpdC5cbiAqXG4gKiBUb2dldGhlciB3aXRoIHRoaXMgaW1wbGVtZW50YXRpb24geW91IG1heSB1c2UgdGhlIHtAbGluayBpbXBvcnQoJy4vUnVsZVByb3ZpZGVyJykuZGVmYXVsdH1cbiAqIHRvIGltcGxlbWVudCB5b3VyIG93biBydWxlIGNoZWNrZXJzLlxuICpcbiAqIFRoaXMgbW9kdWxlIGlzIG1lbnQgdG8gYmUgZWFzaWx5IHJlcGxhY2VkLCB0aHVzIHRoZSB0aW55IGZvb3QgcHJpbnQuXG4gKlxuICogQHBhcmFtIHtJbmplY3Rvcn0gaW5qZWN0b3JcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUnVsZXMoaW5qZWN0b3IpIHtcbiAgdGhpcy5fY29tbWFuZFN0YWNrID0gaW5qZWN0b3IuZ2V0KCdjb21tYW5kU3RhY2snLCBmYWxzZSk7XG59XG5cblJ1bGVzLiRpbmplY3QgPSBbICdpbmplY3RvcicgXTtcblxuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgYSBnaXZlbiBtb2RlbGluZyBhY3Rpb24gY2FuIGJlIGV4ZWN1dGVkXG4gKiBpbiB0aGUgc3BlY2lmaWVkIGNvbnRleHQuXG4gKlxuICogVGhpcyBpbXBsZW1lbnRhdGlvbiB3aWxsIHJlc3BvbmQgd2l0aCBhbGxvdyB1bmxlc3MgYW55b25lXG4gKiBvYmplY3RzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb24gVGhlIGFjdGlvbiB0byBiZSBhbGxvd2VkIG9yIGRpc2FsbG93ZWQuXG4gKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHRdIFRoZSBjb250ZXh0IGZvciBhbGxvd2luZyBvciBkaXNhbGxvd2luZyB0aGUgYWN0aW9uLlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW58bnVsbH0gV2V0aGVyIHRoZSBhY3Rpb24gaXMgYWxsb3dlZC4gUmV0dXJucyBgbnVsbGAgaWYgdGhlIGFjdGlvblxuICogaXMgdG8gYmUgaWdub3JlZC5cbiAqL1xuUnVsZXMucHJvdG90eXBlLmFsbG93ZWQgPSBmdW5jdGlvbihhY3Rpb24sIGNvbnRleHQpIHtcbiAgdmFyIGFsbG93ZWQgPSB0cnVlO1xuXG4gIHZhciBjb21tYW5kU3RhY2sgPSB0aGlzLl9jb21tYW5kU3RhY2s7XG5cbiAgaWYgKGNvbW1hbmRTdGFjaykge1xuICAgIGFsbG93ZWQgPSBjb21tYW5kU3RhY2suY2FuRXhlY3V0ZShhY3Rpb24sIGNvbnRleHQpO1xuICB9XG5cbiAgLy8gbWFwIHVuZGVmaW5lZCB0byB0cnVlLCBpLmUuIG5vIHJ1bGVzXG4gIHJldHVybiBhbGxvd2VkID09PSB1bmRlZmluZWQgPyB0cnVlIDogYWxsb3dlZDtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/rules/Rules.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/rules/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/rules/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Rules__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Rules */ \"(ssr)/./node_modules/diagram-js/lib/features/rules/Rules.js\");\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [ 'rules' ],\n  rules: [ 'type', _Rules__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcnVsZXMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNEI7OztBQUc1QjtBQUNBLFdBQVc7QUFDWDtBQUNBLGlFQUFlO0FBQ2Y7QUFDQSxtQkFBbUIsOENBQUs7QUFDeEIsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3J1bGVzL2luZGV4LmpzPzlkMTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJ1bGVzIGZyb20gJy4vUnVsZXMnO1xuXG5cbi8qKlxuICogQHR5cGUgeyBpbXBvcnQoJ2RpZGknKS5Nb2R1bGVEZWNsYXJhdGlvbiB9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19pbml0X186IFsgJ3J1bGVzJyBdLFxuICBydWxlczogWyAndHlwZScsIFJ1bGVzIF1cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/rules/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/scheduler/Scheduler.js":
/*!*********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/scheduler/Scheduler.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Scheduler)\n/* harmony export */ });\n/* harmony import */ var _util_IdGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/IdGenerator */ \"(ssr)/./node_modules/diagram-js/lib/util/IdGenerator.js\");\n\n\nconst Ids = new _util_IdGenerator__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\n\n/**\n * @typedef { {\n *   promise: Promise<unknown>,\n *   executionId: number\n * } } ScheduledTask\n */\n\n/**\n * A utility that allows you to schedule async tasks.\n *\n * @class\n * @constructor\n *\n * @param { import('../core/EventBus').default } eventBus\n */\nfunction Scheduler(eventBus) {\n\n  /**\n   * @type { Record<string, ScheduledTask> }\n   */\n  this._scheduled = {};\n\n  eventBus.on('diagram.destroy', () => {\n    Object.keys(this._scheduled).forEach(id => {\n      this.cancel(id);\n    });\n  });\n}\n\nScheduler.$inject = [ 'eventBus' ];\n\n/**\n * Schedule execution of a task in the next tick.\n *\n * Call with an id to ensure only the latest call will be executed.\n *\n * @template T\n\n * @param {(...args: any[]) => T} taskFn function to be executed\n * @param {string} [id] identifying the task to ensure uniqueness\n *\n * @return Promise<T> result of the executed task\n */\nScheduler.prototype.schedule = function(taskFn, id = Ids.next()) {\n\n  this.cancel(id);\n\n  const newScheduled = this._schedule(taskFn, id);\n\n  this._scheduled[id] = newScheduled;\n\n  return newScheduled.promise;\n};\n\nScheduler.prototype._schedule = function(taskFn, id) {\n\n  const deferred = defer();\n\n  const executionId = setTimeout(() => {\n\n    try {\n      this._scheduled[id] = null;\n\n      try {\n        deferred.resolve(taskFn());\n      } catch (error) {\n        deferred.reject(error);\n      }\n    } catch (error) {\n      console.error('Scheduler#_schedule execution failed', error);\n    }\n  });\n\n  return {\n    executionId,\n    promise: deferred.promise\n  };\n};\n\n/**\n * Cancel a previously scheduled task.\n *\n * @param {string} id\n */\nScheduler.prototype.cancel = function(id) {\n\n  const scheduled = this._scheduled[id];\n\n  if (scheduled) {\n    this._cancel(scheduled);\n\n    this._scheduled[id] = null;\n  }\n};\n\nScheduler.prototype._cancel = function(scheduled) {\n  clearTimeout(scheduled.executionId);\n};\n\n/**\n * @return { {\n *   promise: Promise,\n *   resolve: Function,\n *   reject: Function\n * } }\n */\nfunction defer() {\n\n  const deferred = {};\n\n  deferred.promise = new Promise((resolve, reject) => {\n    deferred.resolve = resolve;\n    deferred.reject = reject;\n  });\n\n  return deferred;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc2NoZWR1bGVyL1NjaGVkdWxlci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFpRDs7QUFFakQsZ0JBQWdCLHlEQUFXOzs7QUFHM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxQ0FBcUM7QUFDakQ7QUFDZTs7QUFFZjtBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFdBQVcsdUJBQXVCO0FBQ2xDLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NjaGVkdWxlci9TY2hlZHVsZXIuanM/Y2Y0MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSWRHZW5lcmF0b3IgZnJvbSAnLi4vLi4vdXRpbC9JZEdlbmVyYXRvcic7XG5cbmNvbnN0IElkcyA9IG5ldyBJZEdlbmVyYXRvcigpO1xuXG5cbi8qKlxuICogQHR5cGVkZWYgeyB7XG4gKiAgIHByb21pc2U6IFByb21pc2U8dW5rbm93bj4sXG4gKiAgIGV4ZWN1dGlvbklkOiBudW1iZXJcbiAqIH0gfSBTY2hlZHVsZWRUYXNrXG4gKi9cblxuLyoqXG4gKiBBIHV0aWxpdHkgdGhhdCBhbGxvd3MgeW91IHRvIHNjaGVkdWxlIGFzeW5jIHRhc2tzLlxuICpcbiAqIEBjbGFzc1xuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQHBhcmFtIHsgaW1wb3J0KCcuLi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdCB9IGV2ZW50QnVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNjaGVkdWxlcihldmVudEJ1cykge1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7IFJlY29yZDxzdHJpbmcsIFNjaGVkdWxlZFRhc2s+IH1cbiAgICovXG4gIHRoaXMuX3NjaGVkdWxlZCA9IHt9O1xuXG4gIGV2ZW50QnVzLm9uKCdkaWFncmFtLmRlc3Ryb3knLCAoKSA9PiB7XG4gICAgT2JqZWN0LmtleXModGhpcy5fc2NoZWR1bGVkKS5mb3JFYWNoKGlkID0+IHtcbiAgICAgIHRoaXMuY2FuY2VsKGlkKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cblNjaGVkdWxlci4kaW5qZWN0ID0gWyAnZXZlbnRCdXMnIF07XG5cbi8qKlxuICogU2NoZWR1bGUgZXhlY3V0aW9uIG9mIGEgdGFzayBpbiB0aGUgbmV4dCB0aWNrLlxuICpcbiAqIENhbGwgd2l0aCBhbiBpZCB0byBlbnN1cmUgb25seSB0aGUgbGF0ZXN0IGNhbGwgd2lsbCBiZSBleGVjdXRlZC5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuXG4gKiBAcGFyYW0geyguLi5hcmdzOiBhbnlbXSkgPT4gVH0gdGFza0ZuIGZ1bmN0aW9uIHRvIGJlIGV4ZWN1dGVkXG4gKiBAcGFyYW0ge3N0cmluZ30gW2lkXSBpZGVudGlmeWluZyB0aGUgdGFzayB0byBlbnN1cmUgdW5pcXVlbmVzc1xuICpcbiAqIEByZXR1cm4gUHJvbWlzZTxUPiByZXN1bHQgb2YgdGhlIGV4ZWN1dGVkIHRhc2tcbiAqL1xuU2NoZWR1bGVyLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uKHRhc2tGbiwgaWQgPSBJZHMubmV4dCgpKSB7XG5cbiAgdGhpcy5jYW5jZWwoaWQpO1xuXG4gIGNvbnN0IG5ld1NjaGVkdWxlZCA9IHRoaXMuX3NjaGVkdWxlKHRhc2tGbiwgaWQpO1xuXG4gIHRoaXMuX3NjaGVkdWxlZFtpZF0gPSBuZXdTY2hlZHVsZWQ7XG5cbiAgcmV0dXJuIG5ld1NjaGVkdWxlZC5wcm9taXNlO1xufTtcblxuU2NoZWR1bGVyLnByb3RvdHlwZS5fc2NoZWR1bGUgPSBmdW5jdGlvbih0YXNrRm4sIGlkKSB7XG5cbiAgY29uc3QgZGVmZXJyZWQgPSBkZWZlcigpO1xuXG4gIGNvbnN0IGV4ZWN1dGlvbklkID0gc2V0VGltZW91dCgoKSA9PiB7XG5cbiAgICB0cnkge1xuICAgICAgdGhpcy5fc2NoZWR1bGVkW2lkXSA9IG51bGw7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUodGFza0ZuKCkpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycm9yKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU2NoZWR1bGVyI19zY2hlZHVsZSBleGVjdXRpb24gZmFpbGVkJywgZXJyb3IpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBleGVjdXRpb25JZCxcbiAgICBwcm9taXNlOiBkZWZlcnJlZC5wcm9taXNlXG4gIH07XG59O1xuXG4vKipcbiAqIENhbmNlbCBhIHByZXZpb3VzbHkgc2NoZWR1bGVkIHRhc2suXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKi9cblNjaGVkdWxlci5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24oaWQpIHtcblxuICBjb25zdCBzY2hlZHVsZWQgPSB0aGlzLl9zY2hlZHVsZWRbaWRdO1xuXG4gIGlmIChzY2hlZHVsZWQpIHtcbiAgICB0aGlzLl9jYW5jZWwoc2NoZWR1bGVkKTtcblxuICAgIHRoaXMuX3NjaGVkdWxlZFtpZF0gPSBudWxsO1xuICB9XG59O1xuXG5TY2hlZHVsZXIucHJvdG90eXBlLl9jYW5jZWwgPSBmdW5jdGlvbihzY2hlZHVsZWQpIHtcbiAgY2xlYXJUaW1lb3V0KHNjaGVkdWxlZC5leGVjdXRpb25JZCk7XG59O1xuXG4vKipcbiAqIEByZXR1cm4geyB7XG4gKiAgIHByb21pc2U6IFByb21pc2UsXG4gKiAgIHJlc29sdmU6IEZ1bmN0aW9uLFxuICogICByZWplY3Q6IEZ1bmN0aW9uXG4gKiB9IH1cbiAqL1xuZnVuY3Rpb24gZGVmZXIoKSB7XG5cbiAgY29uc3QgZGVmZXJyZWQgPSB7fTtcblxuICBkZWZlcnJlZC5wcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGRlZmVycmVkLnJlc29sdmUgPSByZXNvbHZlO1xuICAgIGRlZmVycmVkLnJlamVjdCA9IHJlamVjdDtcbiAgfSk7XG5cbiAgcmV0dXJuIGRlZmVycmVkO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/scheduler/Scheduler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/scheduler/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/scheduler/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Scheduler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Scheduler */ \"(ssr)/./node_modules/diagram-js/lib/features/scheduler/Scheduler.js\");\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  scheduler: [ 'type', _Scheduler__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc2NoZWR1bGVyL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQW9DOztBQUVwQyxpRUFBZTtBQUNmLHVCQUF1QixrREFBUztBQUNoQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NjaGVkdWxlci9pbmRleC5qcz82NmU3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTY2hlZHVsZXIgZnJvbSAnLi9TY2hlZHVsZXInO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHNjaGVkdWxlcjogWyAndHlwZScsIFNjaGVkdWxlciBdXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/scheduler/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/search-pad/SearchPad.js":
/*!**********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/search-pad/SearchPad.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SearchPad)\n/* harmony export */ });\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dom */ \"(ssr)/./node_modules/min-dom/dist/index.esm.js\");\n/* harmony import */ var _util_EscapeUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/EscapeUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/EscapeUtil.js\");\n/* harmony import */ var _keyboard_KeyboardUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../keyboard/KeyboardUtil */ \"(ssr)/./node_modules/diagram-js/lib/features/keyboard/KeyboardUtil.js\");\n\n\n\n\n\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../selection/Selection').default} Selection\n * @typedef {import('../../i18n/translate/translate.js').default} Translate\n *\n * @typedef {import('../../util/Types').Dimensions} Dimensions\n *\n * @typedef {import('./SearchPadProvider').default} SearchPadProvider\n * @typedef {import('./SearchPadProvider').SearchResult} SearchResult\n * @typedef {import('./SearchPadProvider').Token} Token\n */\n\nvar SCROLL_TO_ELEMENT_PADDING = 300;\n\n/**\n * Provides searching infrastructure.\n *\n * @param {Canvas} canvas\n * @param {EventBus} eventBus\n * @param {Selection} selection\n * @param {Translate} translate\n */\nfunction SearchPad(canvas, eventBus, selection, translate) {\n  this._open = false;\n  this._results = {};\n  this._eventMaps = [];\n\n  this._cachedRootElement = null;\n  this._cachedSelection = null;\n  this._cachedViewbox = null;\n\n  this._canvas = canvas;\n  this._eventBus = eventBus;\n  this._selection = selection;\n  this._translate = translate;\n\n  // setup elements\n  this._container = this._getBoxHtml();\n  this._searchInput = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.query)(SearchPad.INPUT_SELECTOR, this._container);\n  this._resultsContainer = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.query)(SearchPad.RESULTS_CONTAINER_SELECTOR, this._container);\n\n  // attach search pad\n  this._canvas.getContainer().appendChild(this._container);\n\n  // cleanup whenever appropriate\n  eventBus.on([\n    'canvas.destroy',\n    'diagram.destroy',\n    'drag.init',\n    'elements.changed'\n  ], this.close, this);\n}\n\n\nSearchPad.$inject = [\n  'canvas',\n  'eventBus',\n  'selection',\n  'translate'\n];\n\n\n/**\n * Binds and keeps track of all event listereners\n */\nSearchPad.prototype._bindEvents = function() {\n  var self = this;\n\n  function listen(el, selector, type, fn) {\n    self._eventMaps.push({\n      el: el,\n      type: type,\n      listener: min_dom__WEBPACK_IMPORTED_MODULE_0__.delegate.bind(el, selector, type, fn)\n    });\n  }\n\n  // close search on clicking anywhere outside\n  listen(document, 'html', 'click', function(e) {\n    self.close(false);\n  });\n\n  // stop event from propagating and closing search\n  // focus on input\n  listen(this._container, SearchPad.INPUT_SELECTOR, 'click', function(e) {\n    e.stopPropagation();\n    e.delegateTarget.focus();\n  });\n\n  // preselect result on hover\n  listen(this._container, SearchPad.RESULT_SELECTOR, 'mouseover', function(e) {\n    e.stopPropagation();\n    self._scrollToNode(e.delegateTarget);\n    self._preselect(e.delegateTarget);\n  });\n\n  // selects desired result on mouse click\n  listen(this._container, SearchPad.RESULT_SELECTOR, 'click', function(e) {\n    e.stopPropagation();\n    self._select(e.delegateTarget);\n  });\n\n  // prevent cursor in input from going left and right when using up/down to\n  // navigate results\n  listen(this._container, SearchPad.INPUT_SELECTOR, 'keydown', function(e) {\n\n    if ((0,_keyboard_KeyboardUtil__WEBPACK_IMPORTED_MODULE_1__.isKey)('ArrowUp', e)) {\n      e.preventDefault();\n    }\n\n    if ((0,_keyboard_KeyboardUtil__WEBPACK_IMPORTED_MODULE_1__.isKey)('ArrowDown', e)) {\n      e.preventDefault();\n    }\n  });\n\n  // handle keyboard input\n  listen(this._container, SearchPad.INPUT_SELECTOR, 'keyup', function(e) {\n\n    if ((0,_keyboard_KeyboardUtil__WEBPACK_IMPORTED_MODULE_1__.isKey)('Escape', e)) {\n      return self.close();\n    }\n\n    if ((0,_keyboard_KeyboardUtil__WEBPACK_IMPORTED_MODULE_1__.isKey)('Enter', e)) {\n      var selected = self._getCurrentResult();\n\n      return selected ? self._select(selected) : self.close(false);\n    }\n\n    if ((0,_keyboard_KeyboardUtil__WEBPACK_IMPORTED_MODULE_1__.isKey)('ArrowUp', e)) {\n      return self._scrollToDirection(true);\n    }\n\n    if ((0,_keyboard_KeyboardUtil__WEBPACK_IMPORTED_MODULE_1__.isKey)('ArrowDown', e)) {\n      return self._scrollToDirection();\n    }\n\n    // do not search while navigating text input\n    if ((0,_keyboard_KeyboardUtil__WEBPACK_IMPORTED_MODULE_1__.isKey)([ 'ArrowLeft', 'ArrowRight' ], e)) {\n      return;\n    }\n\n    // anything else\n    self._search(e.delegateTarget.value);\n  });\n};\n\n\n/**\n * Unbinds all previously established listeners\n */\nSearchPad.prototype._unbindEvents = function() {\n  this._eventMaps.forEach(function(m) {\n    min_dom__WEBPACK_IMPORTED_MODULE_0__.delegate.unbind(m.el, m.type, m.listener);\n  });\n};\n\n\n/**\n * Performs a search for the given pattern.\n *\n * @param {string} pattern\n */\nSearchPad.prototype._search = function(pattern) {\n  var self = this;\n\n  this._clearResults();\n\n  // do not search on empty query\n  if (!pattern.trim()) {\n    return;\n  }\n\n  var searchResults = this._searchProvider.find(pattern);\n\n  searchResults = searchResults.filter(function(searchResult) {\n    return !self._canvas.getRootElements().includes(searchResult.element);\n  });\n\n  if (!searchResults.length) {\n    this._selection.select(null);\n\n    return;\n  }\n\n  // append new results\n  searchResults.forEach(function(result) {\n    var id = result.element.id;\n    var node = self._createResultNode(result, id);\n    self._results[id] = {\n      element: result.element,\n      node: node\n    };\n  });\n\n  // preselect first result\n  var node = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.query)(SearchPad.RESULT_SELECTOR, this._resultsContainer);\n  this._scrollToNode(node);\n  this._preselect(node);\n};\n\n\n/**\n * Navigate to the previous/next result. Defaults to next result.\n *\n * @param {boolean} previous\n */\nSearchPad.prototype._scrollToDirection = function(previous) {\n  var selected = this._getCurrentResult();\n  if (!selected) {\n    return;\n  }\n\n  var node = previous ? selected.previousElementSibling : selected.nextElementSibling;\n  if (node) {\n    this._scrollToNode(node);\n    this._preselect(node);\n  }\n};\n\n\n/**\n * Scroll to the node if it is not visible.\n *\n * @param {HTMLElement} node\n */\nSearchPad.prototype._scrollToNode = function(node) {\n  if (!node || node === this._getCurrentResult()) {\n    return;\n  }\n\n  var nodeOffset = node.offsetTop;\n  var containerScroll = this._resultsContainer.scrollTop;\n\n  var bottomScroll = nodeOffset - this._resultsContainer.clientHeight + node.clientHeight;\n\n  if (nodeOffset < containerScroll) {\n    this._resultsContainer.scrollTop = nodeOffset;\n  } else if (containerScroll < bottomScroll) {\n    this._resultsContainer.scrollTop = bottomScroll;\n  }\n};\n\n\n/**\n * Clears all results data.\n */\nSearchPad.prototype._clearResults = function() {\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.clear)(this._resultsContainer);\n\n  this._results = {};\n\n  this._eventBus.fire('searchPad.cleared');\n};\n\n\n/**\n * Get currently selected result.\n *\n * @return {HTMLElement}\n */\nSearchPad.prototype._getCurrentResult = function() {\n  return (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.query)(SearchPad.RESULT_SELECTED_SELECTOR, this._resultsContainer);\n};\n\n\n/**\n * Create result DOM element within results container\n * that corresponds to a search result.\n *\n * 'result' : one of the elements returned by Pad\n * 'id' : id attribute value to assign to the new DOM node\n * return : created DOM element\n *\n * @param {SearchResult} result\n * @param {string} id\n *\n * @return {HTMLElement}\n */\nSearchPad.prototype._createResultNode = function(result, id) {\n  var node = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.domify)(SearchPad.RESULT_HTML);\n\n  // create only if available\n  if (result.primaryTokens.length > 0) {\n    createInnerTextNode(node, result.primaryTokens, SearchPad.RESULT_PRIMARY_HTML);\n  }\n\n  // secondary tokens (represent element ID) are allways available\n  createInnerTextNode(node, result.secondaryTokens, SearchPad.RESULT_SECONDARY_HTML);\n\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.attr)(node, SearchPad.RESULT_ID_ATTRIBUTE, id);\n\n  this._resultsContainer.appendChild(node);\n\n  return node;\n};\n\n\n/**\n * Register search element provider.\n *\n * @param {SearchPadProvider} provider\n */\nSearchPad.prototype.registerProvider = function(provider) {\n  this._searchProvider = provider;\n};\n\n\n/**\n * Open search pad.\n */\nSearchPad.prototype.open = function() {\n  if (!this._searchProvider) {\n    throw new Error('no search provider registered');\n  }\n\n  if (this.isOpen()) {\n    return;\n  }\n\n  this._cachedRootElement = this._canvas.getRootElement();\n  this._cachedSelection = this._selection.get();\n  this._cachedViewbox = this._canvas.viewbox();\n\n  this._selection.select(null);\n\n  this._bindEvents();\n\n  this._open = true;\n\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.classes)(this._canvas.getContainer()).add('djs-search-open');\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.classes)(this._container).add('open');\n\n  this._searchInput.focus();\n\n  this._eventBus.fire('searchPad.opened');\n};\n\n\n/**\n * Close search pad.\n */\nSearchPad.prototype.close = function(restoreCached = true) {\n  if (!this.isOpen()) {\n    return;\n  }\n\n  if (restoreCached) {\n    if (this._cachedRootElement) {\n      this._canvas.setRootElement(this._cachedRootElement);\n    }\n\n    if (this._cachedSelection) {\n      this._selection.select(this._cachedSelection);\n    }\n\n    if (this._cachedViewbox) {\n      this._canvas.viewbox(this._cachedViewbox);\n    }\n\n    this._eventBus.fire('searchPad.restored');\n  }\n\n  this._cachedRootElement = null;\n  this._cachedSelection = null;\n  this._cachedViewbox = null;\n\n  this._unbindEvents();\n\n  this._open = false;\n\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.classes)(this._canvas.getContainer()).remove('djs-search-open');\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.classes)(this._container).remove('open');\n\n  this._clearResults();\n\n  this._searchInput.value = '';\n  this._searchInput.blur();\n\n  this._eventBus.fire('searchPad.closed');\n\n  this._canvas.restoreFocus();\n};\n\n\n/**\n * Toggles search pad on/off.\n */\nSearchPad.prototype.toggle = function() {\n  this.isOpen() ? this.close() : this.open();\n};\n\n\n/**\n * Report state of search pad.\n */\nSearchPad.prototype.isOpen = function() {\n  return this._open;\n};\n\n\n/**\n * Preselect result entry.\n *\n * @param {HTMLElement} element\n */\nSearchPad.prototype._preselect = function(node) {\n  var selectedNode = this._getCurrentResult();\n\n  // already selected\n  if (node === selectedNode) {\n    return;\n  }\n\n  // removing preselection from current node\n  if (selectedNode) {\n    (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.classes)(selectedNode).remove(SearchPad.RESULT_SELECTED_CLASS);\n  }\n\n  var id = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.attr)(node, SearchPad.RESULT_ID_ATTRIBUTE);\n  var element = this._results[id].element;\n\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.classes)(node).add(SearchPad.RESULT_SELECTED_CLASS);\n\n  this._canvas.scrollToElement(element, {\n    top: SCROLL_TO_ELEMENT_PADDING\n  });\n\n  this._selection.select(element);\n\n  this._eventBus.fire('searchPad.preselected', element);\n};\n\n\n/**\n * Select result node.\n *\n * @param {HTMLElement} element\n */\nSearchPad.prototype._select = function(node) {\n  var id = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.attr)(node, SearchPad.RESULT_ID_ATTRIBUTE);\n  var element = this._results[id].element;\n\n  this._cachedSelection = null;\n  this._cachedViewbox = null;\n\n  this.close(false);\n\n  this._canvas.scrollToElement(element, {\n    top: SCROLL_TO_ELEMENT_PADDING\n  });\n\n  this._selection.select(element);\n\n  this._eventBus.fire('searchPad.selected', element);\n};\n\n\nSearchPad.prototype._getBoxHtml = function() {\n  const box = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.domify)(SearchPad.BOX_HTML);\n  const input = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.query)(SearchPad.INPUT_SELECTOR, box);\n\n  if (input) {\n    input.setAttribute('aria-label', this._translate('Search in diagram'));\n  }\n\n  return box;\n};\n\n\n/**\n * Creates and appends child node from result tokens and HTML template.\n *\n * @param {HTMLElement} node\n * @param {Token[]} tokens\n * @param {string} template\n */\nfunction createInnerTextNode(parentNode, tokens, template) {\n  var text = createHtmlText(tokens);\n  var childNode = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.domify)(template);\n  childNode.innerHTML = text;\n  parentNode.appendChild(childNode);\n}\n\n/**\n * Create internal HTML markup from result tokens.\n * Caters for highlighting pattern matched tokens.\n *\n * @param {Token[]} tokens\n *\n * @return {string|null}\n */\nfunction createHtmlText(tokens) {\n  var htmlText = '';\n\n  tokens.forEach(function(t) {\n    var text = (0,_util_EscapeUtil__WEBPACK_IMPORTED_MODULE_2__.escapeHTML)(t.value || t.matched || t.normal);\n    var match = t.match || t.matched;\n\n    if (match) {\n      htmlText += '<b class=\"' + SearchPad.RESULT_HIGHLIGHT_CLASS + '\">' + text + '</b>';\n    } else {\n      htmlText += text;\n    }\n  });\n\n  return htmlText !== '' ? htmlText : null;\n}\n\n\n/**\n * CONSTANTS\n */\nSearchPad.CONTAINER_SELECTOR = '.djs-search-container';\nSearchPad.INPUT_SELECTOR = '.djs-search-input input';\nSearchPad.RESULTS_CONTAINER_SELECTOR = '.djs-search-results';\nSearchPad.RESULT_SELECTOR = '.djs-search-result';\nSearchPad.RESULT_SELECTED_CLASS = 'djs-search-result-selected';\nSearchPad.RESULT_SELECTED_SELECTOR = '.' + SearchPad.RESULT_SELECTED_CLASS;\nSearchPad.RESULT_ID_ATTRIBUTE = 'data-result-id';\nSearchPad.RESULT_HIGHLIGHT_CLASS = 'djs-search-highlight';\n\nSearchPad.BOX_HTML =\n`<div class=\"djs-search-container djs-scrollable\">\n  <div class=\"djs-search-input\">\n    <svg class=\"djs-search-icon\" width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z\" fill=\"#22242A\"/>\n    </svg>\n    <input type=\"text\" spellcheck=\"false\" />\n  </div>\n  <div class=\"djs-search-results\" />\n</div>`;\n\nSearchPad.RESULT_HTML =\n  '<div class=\"djs-search-result\"></div>';\n\nSearchPad.RESULT_PRIMARY_HTML =\n  '<div class=\"djs-search-result-primary\"></div>';\n\nSearchPad.RESULT_SECONDARY_HTML =\n  '<p class=\"djs-search-result-secondary\"></p>';\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc2VhcmNoLXBhZC9TZWFyY2hQYWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQU9pQjs7QUFJYzs7QUFFa0I7O0FBRWpEO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQsYUFBYSx1Q0FBdUM7QUFDcEQsYUFBYSwwQ0FBMEM7QUFDdkQsYUFBYSxxREFBcUQ7QUFDbEU7QUFDQSxhQUFhLHVDQUF1QztBQUNwRDtBQUNBLGFBQWEsdUNBQXVDO0FBQ3BELGFBQWEsNENBQTRDO0FBQ3pELGFBQWEscUNBQXFDO0FBQ2xEOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFVBQVU7QUFDckIsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsV0FBVztBQUN0QjtBQUNlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0JBQXNCLDhDQUFRO0FBQzlCLDJCQUEyQiw4Q0FBUTs7QUFFbkM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsNkNBQVc7QUFDM0IsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLDZEQUFLO0FBQ2I7QUFDQTs7QUFFQSxRQUFRLDZEQUFLO0FBQ2I7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQSxRQUFRLDZEQUFLO0FBQ2I7QUFDQTs7QUFFQSxRQUFRLDZEQUFLO0FBQ2I7O0FBRUE7QUFDQTs7QUFFQSxRQUFRLDZEQUFLO0FBQ2I7QUFDQTs7QUFFQSxRQUFRLDZEQUFLO0FBQ2I7QUFDQTs7QUFFQTtBQUNBLFFBQVEsNkRBQUs7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLDZDQUFXO0FBQ2YsR0FBRztBQUNIOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLGFBQWEsOENBQVE7QUFDckI7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxhQUFhO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLDhDQUFROztBQUVWOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsU0FBUyw4Q0FBUTtBQUNqQjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QixXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLGFBQWEsK0NBQU07O0FBRW5CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsRUFBRSw2Q0FBTzs7QUFFVDs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1CQUFtQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQSxFQUFFLGdEQUFVO0FBQ1osRUFBRSxnREFBVTs7QUFFWjs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLEVBQUUsZ0RBQVU7QUFDWixFQUFFLGdEQUFVOztBQUVaOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsYUFBYTtBQUN4QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUksZ0RBQVU7QUFDZDs7QUFFQSxXQUFXLDZDQUFPO0FBQ2xCOztBQUVBLEVBQUUsZ0RBQVU7O0FBRVo7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxhQUFhO0FBQ3hCO0FBQ0E7QUFDQSxXQUFXLDZDQUFPO0FBQ2xCOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQSxjQUFjLCtDQUFNO0FBQ3BCLGdCQUFnQiw4Q0FBUTs7QUFFeEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsYUFBYTtBQUN4QixXQUFXLFNBQVM7QUFDcEIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiwrQ0FBTTtBQUN4QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBZSw0REFBVTtBQUN6Qjs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc2VhcmNoLXBhZC9TZWFyY2hQYWQuanM/OTcyYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBjbGVhciBhcyBkb21DbGVhcixcbiAgZGVsZWdhdGUgYXMgZG9tRGVsZWdhdGUsXG4gIHF1ZXJ5IGFzIGRvbVF1ZXJ5LFxuICBjbGFzc2VzIGFzIGRvbUNsYXNzZXMsXG4gIGF0dHIgYXMgZG9tQXR0cixcbiAgZG9taWZ5IGFzIGRvbWlmeVxufSBmcm9tICdtaW4tZG9tJztcblxuaW1wb3J0IHtcbiAgZXNjYXBlSFRNTFxufSBmcm9tICcuLi8uLi91dGlsL0VzY2FwZVV0aWwnO1xuXG5pbXBvcnQgeyBpc0tleSB9IGZyb20gJy4uL2tleWJvYXJkL0tleWJvYXJkVXRpbCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9DYW52YXMnKS5kZWZhdWx0fSBDYW52YXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vc2VsZWN0aW9uL1NlbGVjdGlvbicpLmRlZmF1bHR9IFNlbGVjdGlvblxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vaTE4bi90cmFuc2xhdGUvdHJhbnNsYXRlLmpzJykuZGVmYXVsdH0gVHJhbnNsYXRlXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vdXRpbC9UeXBlcycpLkRpbWVuc2lvbnN9IERpbWVuc2lvbnNcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuL1NlYXJjaFBhZFByb3ZpZGVyJykuZGVmYXVsdH0gU2VhcmNoUGFkUHJvdmlkZXJcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vU2VhcmNoUGFkUHJvdmlkZXInKS5TZWFyY2hSZXN1bHR9IFNlYXJjaFJlc3VsdFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi9TZWFyY2hQYWRQcm92aWRlcicpLlRva2VufSBUb2tlblxuICovXG5cbnZhciBTQ1JPTExfVE9fRUxFTUVOVF9QQURESU5HID0gMzAwO1xuXG4vKipcbiAqIFByb3ZpZGVzIHNlYXJjaGluZyBpbmZyYXN0cnVjdHVyZS5cbiAqXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtTZWxlY3Rpb259IHNlbGVjdGlvblxuICogQHBhcmFtIHtUcmFuc2xhdGV9IHRyYW5zbGF0ZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTZWFyY2hQYWQoY2FudmFzLCBldmVudEJ1cywgc2VsZWN0aW9uLCB0cmFuc2xhdGUpIHtcbiAgdGhpcy5fb3BlbiA9IGZhbHNlO1xuICB0aGlzLl9yZXN1bHRzID0ge307XG4gIHRoaXMuX2V2ZW50TWFwcyA9IFtdO1xuXG4gIHRoaXMuX2NhY2hlZFJvb3RFbGVtZW50ID0gbnVsbDtcbiAgdGhpcy5fY2FjaGVkU2VsZWN0aW9uID0gbnVsbDtcbiAgdGhpcy5fY2FjaGVkVmlld2JveCA9IG51bGw7XG5cbiAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuICB0aGlzLl9zZWxlY3Rpb24gPSBzZWxlY3Rpb247XG4gIHRoaXMuX3RyYW5zbGF0ZSA9IHRyYW5zbGF0ZTtcblxuICAvLyBzZXR1cCBlbGVtZW50c1xuICB0aGlzLl9jb250YWluZXIgPSB0aGlzLl9nZXRCb3hIdG1sKCk7XG4gIHRoaXMuX3NlYXJjaElucHV0ID0gZG9tUXVlcnkoU2VhcmNoUGFkLklOUFVUX1NFTEVDVE9SLCB0aGlzLl9jb250YWluZXIpO1xuICB0aGlzLl9yZXN1bHRzQ29udGFpbmVyID0gZG9tUXVlcnkoU2VhcmNoUGFkLlJFU1VMVFNfQ09OVEFJTkVSX1NFTEVDVE9SLCB0aGlzLl9jb250YWluZXIpO1xuXG4gIC8vIGF0dGFjaCBzZWFyY2ggcGFkXG4gIHRoaXMuX2NhbnZhcy5nZXRDb250YWluZXIoKS5hcHBlbmRDaGlsZCh0aGlzLl9jb250YWluZXIpO1xuXG4gIC8vIGNsZWFudXAgd2hlbmV2ZXIgYXBwcm9wcmlhdGVcbiAgZXZlbnRCdXMub24oW1xuICAgICdjYW52YXMuZGVzdHJveScsXG4gICAgJ2RpYWdyYW0uZGVzdHJveScsXG4gICAgJ2RyYWcuaW5pdCcsXG4gICAgJ2VsZW1lbnRzLmNoYW5nZWQnXG4gIF0sIHRoaXMuY2xvc2UsIHRoaXMpO1xufVxuXG5cblNlYXJjaFBhZC4kaW5qZWN0ID0gW1xuICAnY2FudmFzJyxcbiAgJ2V2ZW50QnVzJyxcbiAgJ3NlbGVjdGlvbicsXG4gICd0cmFuc2xhdGUnXG5dO1xuXG5cbi8qKlxuICogQmluZHMgYW5kIGtlZXBzIHRyYWNrIG9mIGFsbCBldmVudCBsaXN0ZXJlbmVyc1xuICovXG5TZWFyY2hQYWQucHJvdG90eXBlLl9iaW5kRXZlbnRzID0gZnVuY3Rpb24oKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICBmdW5jdGlvbiBsaXN0ZW4oZWwsIHNlbGVjdG9yLCB0eXBlLCBmbikge1xuICAgIHNlbGYuX2V2ZW50TWFwcy5wdXNoKHtcbiAgICAgIGVsOiBlbCxcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBsaXN0ZW5lcjogZG9tRGVsZWdhdGUuYmluZChlbCwgc2VsZWN0b3IsIHR5cGUsIGZuKVxuICAgIH0pO1xuICB9XG5cbiAgLy8gY2xvc2Ugc2VhcmNoIG9uIGNsaWNraW5nIGFueXdoZXJlIG91dHNpZGVcbiAgbGlzdGVuKGRvY3VtZW50LCAnaHRtbCcsICdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICBzZWxmLmNsb3NlKGZhbHNlKTtcbiAgfSk7XG5cbiAgLy8gc3RvcCBldmVudCBmcm9tIHByb3BhZ2F0aW5nIGFuZCBjbG9zaW5nIHNlYXJjaFxuICAvLyBmb2N1cyBvbiBpbnB1dFxuICBsaXN0ZW4odGhpcy5fY29udGFpbmVyLCBTZWFyY2hQYWQuSU5QVVRfU0VMRUNUT1IsICdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGUuZGVsZWdhdGVUYXJnZXQuZm9jdXMoKTtcbiAgfSk7XG5cbiAgLy8gcHJlc2VsZWN0IHJlc3VsdCBvbiBob3ZlclxuICBsaXN0ZW4odGhpcy5fY29udGFpbmVyLCBTZWFyY2hQYWQuUkVTVUxUX1NFTEVDVE9SLCAnbW91c2VvdmVyJywgZnVuY3Rpb24oZSkge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgc2VsZi5fc2Nyb2xsVG9Ob2RlKGUuZGVsZWdhdGVUYXJnZXQpO1xuICAgIHNlbGYuX3ByZXNlbGVjdChlLmRlbGVnYXRlVGFyZ2V0KTtcbiAgfSk7XG5cbiAgLy8gc2VsZWN0cyBkZXNpcmVkIHJlc3VsdCBvbiBtb3VzZSBjbGlja1xuICBsaXN0ZW4odGhpcy5fY29udGFpbmVyLCBTZWFyY2hQYWQuUkVTVUxUX1NFTEVDVE9SLCAnY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBzZWxmLl9zZWxlY3QoZS5kZWxlZ2F0ZVRhcmdldCk7XG4gIH0pO1xuXG4gIC8vIHByZXZlbnQgY3Vyc29yIGluIGlucHV0IGZyb20gZ29pbmcgbGVmdCBhbmQgcmlnaHQgd2hlbiB1c2luZyB1cC9kb3duIHRvXG4gIC8vIG5hdmlnYXRlIHJlc3VsdHNcbiAgbGlzdGVuKHRoaXMuX2NvbnRhaW5lciwgU2VhcmNoUGFkLklOUFVUX1NFTEVDVE9SLCAna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHtcblxuICAgIGlmIChpc0tleSgnQXJyb3dVcCcsIGUpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgaWYgKGlzS2V5KCdBcnJvd0Rvd24nLCBlKSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gaGFuZGxlIGtleWJvYXJkIGlucHV0XG4gIGxpc3Rlbih0aGlzLl9jb250YWluZXIsIFNlYXJjaFBhZC5JTlBVVF9TRUxFQ1RPUiwgJ2tleXVwJywgZnVuY3Rpb24oZSkge1xuXG4gICAgaWYgKGlzS2V5KCdFc2NhcGUnLCBlKSkge1xuICAgICAgcmV0dXJuIHNlbGYuY2xvc2UoKTtcbiAgICB9XG5cbiAgICBpZiAoaXNLZXkoJ0VudGVyJywgZSkpIHtcbiAgICAgIHZhciBzZWxlY3RlZCA9IHNlbGYuX2dldEN1cnJlbnRSZXN1bHQoKTtcblxuICAgICAgcmV0dXJuIHNlbGVjdGVkID8gc2VsZi5fc2VsZWN0KHNlbGVjdGVkKSA6IHNlbGYuY2xvc2UoZmFsc2UpO1xuICAgIH1cblxuICAgIGlmIChpc0tleSgnQXJyb3dVcCcsIGUpKSB7XG4gICAgICByZXR1cm4gc2VsZi5fc2Nyb2xsVG9EaXJlY3Rpb24odHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYgKGlzS2V5KCdBcnJvd0Rvd24nLCBlKSkge1xuICAgICAgcmV0dXJuIHNlbGYuX3Njcm9sbFRvRGlyZWN0aW9uKCk7XG4gICAgfVxuXG4gICAgLy8gZG8gbm90IHNlYXJjaCB3aGlsZSBuYXZpZ2F0aW5nIHRleHQgaW5wdXRcbiAgICBpZiAoaXNLZXkoWyAnQXJyb3dMZWZ0JywgJ0Fycm93UmlnaHQnIF0sIGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gYW55dGhpbmcgZWxzZVxuICAgIHNlbGYuX3NlYXJjaChlLmRlbGVnYXRlVGFyZ2V0LnZhbHVlKTtcbiAgfSk7XG59O1xuXG5cbi8qKlxuICogVW5iaW5kcyBhbGwgcHJldmlvdXNseSBlc3RhYmxpc2hlZCBsaXN0ZW5lcnNcbiAqL1xuU2VhcmNoUGFkLnByb3RvdHlwZS5fdW5iaW5kRXZlbnRzID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2V2ZW50TWFwcy5mb3JFYWNoKGZ1bmN0aW9uKG0pIHtcbiAgICBkb21EZWxlZ2F0ZS51bmJpbmQobS5lbCwgbS50eXBlLCBtLmxpc3RlbmVyKTtcbiAgfSk7XG59O1xuXG5cbi8qKlxuICogUGVyZm9ybXMgYSBzZWFyY2ggZm9yIHRoZSBnaXZlbiBwYXR0ZXJuLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXR0ZXJuXG4gKi9cblNlYXJjaFBhZC5wcm90b3R5cGUuX3NlYXJjaCA9IGZ1bmN0aW9uKHBhdHRlcm4pIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHRoaXMuX2NsZWFyUmVzdWx0cygpO1xuXG4gIC8vIGRvIG5vdCBzZWFyY2ggb24gZW1wdHkgcXVlcnlcbiAgaWYgKCFwYXR0ZXJuLnRyaW0oKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBzZWFyY2hSZXN1bHRzID0gdGhpcy5fc2VhcmNoUHJvdmlkZXIuZmluZChwYXR0ZXJuKTtcblxuICBzZWFyY2hSZXN1bHRzID0gc2VhcmNoUmVzdWx0cy5maWx0ZXIoZnVuY3Rpb24oc2VhcmNoUmVzdWx0KSB7XG4gICAgcmV0dXJuICFzZWxmLl9jYW52YXMuZ2V0Um9vdEVsZW1lbnRzKCkuaW5jbHVkZXMoc2VhcmNoUmVzdWx0LmVsZW1lbnQpO1xuICB9KTtcblxuICBpZiAoIXNlYXJjaFJlc3VsdHMubGVuZ3RoKSB7XG4gICAgdGhpcy5fc2VsZWN0aW9uLnNlbGVjdChudWxsKTtcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIGFwcGVuZCBuZXcgcmVzdWx0c1xuICBzZWFyY2hSZXN1bHRzLmZvckVhY2goZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgdmFyIGlkID0gcmVzdWx0LmVsZW1lbnQuaWQ7XG4gICAgdmFyIG5vZGUgPSBzZWxmLl9jcmVhdGVSZXN1bHROb2RlKHJlc3VsdCwgaWQpO1xuICAgIHNlbGYuX3Jlc3VsdHNbaWRdID0ge1xuICAgICAgZWxlbWVudDogcmVzdWx0LmVsZW1lbnQsXG4gICAgICBub2RlOiBub2RlXG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gcHJlc2VsZWN0IGZpcnN0IHJlc3VsdFxuICB2YXIgbm9kZSA9IGRvbVF1ZXJ5KFNlYXJjaFBhZC5SRVNVTFRfU0VMRUNUT1IsIHRoaXMuX3Jlc3VsdHNDb250YWluZXIpO1xuICB0aGlzLl9zY3JvbGxUb05vZGUobm9kZSk7XG4gIHRoaXMuX3ByZXNlbGVjdChub2RlKTtcbn07XG5cblxuLyoqXG4gKiBOYXZpZ2F0ZSB0byB0aGUgcHJldmlvdXMvbmV4dCByZXN1bHQuIERlZmF1bHRzIHRvIG5leHQgcmVzdWx0LlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcHJldmlvdXNcbiAqL1xuU2VhcmNoUGFkLnByb3RvdHlwZS5fc2Nyb2xsVG9EaXJlY3Rpb24gPSBmdW5jdGlvbihwcmV2aW91cykge1xuICB2YXIgc2VsZWN0ZWQgPSB0aGlzLl9nZXRDdXJyZW50UmVzdWx0KCk7XG4gIGlmICghc2VsZWN0ZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgbm9kZSA9IHByZXZpb3VzID8gc2VsZWN0ZWQucHJldmlvdXNFbGVtZW50U2libGluZyA6IHNlbGVjdGVkLm5leHRFbGVtZW50U2libGluZztcbiAgaWYgKG5vZGUpIHtcbiAgICB0aGlzLl9zY3JvbGxUb05vZGUobm9kZSk7XG4gICAgdGhpcy5fcHJlc2VsZWN0KG5vZGUpO1xuICB9XG59O1xuXG5cbi8qKlxuICogU2Nyb2xsIHRvIHRoZSBub2RlIGlmIGl0IGlzIG5vdCB2aXNpYmxlLlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGVcbiAqL1xuU2VhcmNoUGFkLnByb3RvdHlwZS5fc2Nyb2xsVG9Ob2RlID0gZnVuY3Rpb24obm9kZSkge1xuICBpZiAoIW5vZGUgfHwgbm9kZSA9PT0gdGhpcy5fZ2V0Q3VycmVudFJlc3VsdCgpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIG5vZGVPZmZzZXQgPSBub2RlLm9mZnNldFRvcDtcbiAgdmFyIGNvbnRhaW5lclNjcm9sbCA9IHRoaXMuX3Jlc3VsdHNDb250YWluZXIuc2Nyb2xsVG9wO1xuXG4gIHZhciBib3R0b21TY3JvbGwgPSBub2RlT2Zmc2V0IC0gdGhpcy5fcmVzdWx0c0NvbnRhaW5lci5jbGllbnRIZWlnaHQgKyBub2RlLmNsaWVudEhlaWdodDtcblxuICBpZiAobm9kZU9mZnNldCA8IGNvbnRhaW5lclNjcm9sbCkge1xuICAgIHRoaXMuX3Jlc3VsdHNDb250YWluZXIuc2Nyb2xsVG9wID0gbm9kZU9mZnNldDtcbiAgfSBlbHNlIGlmIChjb250YWluZXJTY3JvbGwgPCBib3R0b21TY3JvbGwpIHtcbiAgICB0aGlzLl9yZXN1bHRzQ29udGFpbmVyLnNjcm9sbFRvcCA9IGJvdHRvbVNjcm9sbDtcbiAgfVxufTtcblxuXG4vKipcbiAqIENsZWFycyBhbGwgcmVzdWx0cyBkYXRhLlxuICovXG5TZWFyY2hQYWQucHJvdG90eXBlLl9jbGVhclJlc3VsdHMgPSBmdW5jdGlvbigpIHtcbiAgZG9tQ2xlYXIodGhpcy5fcmVzdWx0c0NvbnRhaW5lcik7XG5cbiAgdGhpcy5fcmVzdWx0cyA9IHt9O1xuXG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ3NlYXJjaFBhZC5jbGVhcmVkJyk7XG59O1xuXG5cbi8qKlxuICogR2V0IGN1cnJlbnRseSBzZWxlY3RlZCByZXN1bHQuXG4gKlxuICogQHJldHVybiB7SFRNTEVsZW1lbnR9XG4gKi9cblNlYXJjaFBhZC5wcm90b3R5cGUuX2dldEN1cnJlbnRSZXN1bHQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGRvbVF1ZXJ5KFNlYXJjaFBhZC5SRVNVTFRfU0VMRUNURURfU0VMRUNUT1IsIHRoaXMuX3Jlc3VsdHNDb250YWluZXIpO1xufTtcblxuXG4vKipcbiAqIENyZWF0ZSByZXN1bHQgRE9NIGVsZW1lbnQgd2l0aGluIHJlc3VsdHMgY29udGFpbmVyXG4gKiB0aGF0IGNvcnJlc3BvbmRzIHRvIGEgc2VhcmNoIHJlc3VsdC5cbiAqXG4gKiAncmVzdWx0JyA6IG9uZSBvZiB0aGUgZWxlbWVudHMgcmV0dXJuZWQgYnkgUGFkXG4gKiAnaWQnIDogaWQgYXR0cmlidXRlIHZhbHVlIHRvIGFzc2lnbiB0byB0aGUgbmV3IERPTSBub2RlXG4gKiByZXR1cm4gOiBjcmVhdGVkIERPTSBlbGVtZW50XG4gKlxuICogQHBhcmFtIHtTZWFyY2hSZXN1bHR9IHJlc3VsdFxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKlxuICogQHJldHVybiB7SFRNTEVsZW1lbnR9XG4gKi9cblNlYXJjaFBhZC5wcm90b3R5cGUuX2NyZWF0ZVJlc3VsdE5vZGUgPSBmdW5jdGlvbihyZXN1bHQsIGlkKSB7XG4gIHZhciBub2RlID0gZG9taWZ5KFNlYXJjaFBhZC5SRVNVTFRfSFRNTCk7XG5cbiAgLy8gY3JlYXRlIG9ubHkgaWYgYXZhaWxhYmxlXG4gIGlmIChyZXN1bHQucHJpbWFyeVRva2Vucy5sZW5ndGggPiAwKSB7XG4gICAgY3JlYXRlSW5uZXJUZXh0Tm9kZShub2RlLCByZXN1bHQucHJpbWFyeVRva2VucywgU2VhcmNoUGFkLlJFU1VMVF9QUklNQVJZX0hUTUwpO1xuICB9XG5cbiAgLy8gc2Vjb25kYXJ5IHRva2VucyAocmVwcmVzZW50IGVsZW1lbnQgSUQpIGFyZSBhbGx3YXlzIGF2YWlsYWJsZVxuICBjcmVhdGVJbm5lclRleHROb2RlKG5vZGUsIHJlc3VsdC5zZWNvbmRhcnlUb2tlbnMsIFNlYXJjaFBhZC5SRVNVTFRfU0VDT05EQVJZX0hUTUwpO1xuXG4gIGRvbUF0dHIobm9kZSwgU2VhcmNoUGFkLlJFU1VMVF9JRF9BVFRSSUJVVEUsIGlkKTtcblxuICB0aGlzLl9yZXN1bHRzQ29udGFpbmVyLmFwcGVuZENoaWxkKG5vZGUpO1xuXG4gIHJldHVybiBub2RlO1xufTtcblxuXG4vKipcbiAqIFJlZ2lzdGVyIHNlYXJjaCBlbGVtZW50IHByb3ZpZGVyLlxuICpcbiAqIEBwYXJhbSB7U2VhcmNoUGFkUHJvdmlkZXJ9IHByb3ZpZGVyXG4gKi9cblNlYXJjaFBhZC5wcm90b3R5cGUucmVnaXN0ZXJQcm92aWRlciA9IGZ1bmN0aW9uKHByb3ZpZGVyKSB7XG4gIHRoaXMuX3NlYXJjaFByb3ZpZGVyID0gcHJvdmlkZXI7XG59O1xuXG5cbi8qKlxuICogT3BlbiBzZWFyY2ggcGFkLlxuICovXG5TZWFyY2hQYWQucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbigpIHtcbiAgaWYgKCF0aGlzLl9zZWFyY2hQcm92aWRlcikge1xuICAgIHRocm93IG5ldyBFcnJvcignbm8gc2VhcmNoIHByb3ZpZGVyIHJlZ2lzdGVyZWQnKTtcbiAgfVxuXG4gIGlmICh0aGlzLmlzT3BlbigpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5fY2FjaGVkUm9vdEVsZW1lbnQgPSB0aGlzLl9jYW52YXMuZ2V0Um9vdEVsZW1lbnQoKTtcbiAgdGhpcy5fY2FjaGVkU2VsZWN0aW9uID0gdGhpcy5fc2VsZWN0aW9uLmdldCgpO1xuICB0aGlzLl9jYWNoZWRWaWV3Ym94ID0gdGhpcy5fY2FudmFzLnZpZXdib3goKTtcblxuICB0aGlzLl9zZWxlY3Rpb24uc2VsZWN0KG51bGwpO1xuXG4gIHRoaXMuX2JpbmRFdmVudHMoKTtcblxuICB0aGlzLl9vcGVuID0gdHJ1ZTtcblxuICBkb21DbGFzc2VzKHRoaXMuX2NhbnZhcy5nZXRDb250YWluZXIoKSkuYWRkKCdkanMtc2VhcmNoLW9wZW4nKTtcbiAgZG9tQ2xhc3Nlcyh0aGlzLl9jb250YWluZXIpLmFkZCgnb3BlbicpO1xuXG4gIHRoaXMuX3NlYXJjaElucHV0LmZvY3VzKCk7XG5cbiAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnc2VhcmNoUGFkLm9wZW5lZCcpO1xufTtcblxuXG4vKipcbiAqIENsb3NlIHNlYXJjaCBwYWQuXG4gKi9cblNlYXJjaFBhZC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbihyZXN0b3JlQ2FjaGVkID0gdHJ1ZSkge1xuICBpZiAoIXRoaXMuaXNPcGVuKCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAocmVzdG9yZUNhY2hlZCkge1xuICAgIGlmICh0aGlzLl9jYWNoZWRSb290RWxlbWVudCkge1xuICAgICAgdGhpcy5fY2FudmFzLnNldFJvb3RFbGVtZW50KHRoaXMuX2NhY2hlZFJvb3RFbGVtZW50KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fY2FjaGVkU2VsZWN0aW9uKSB7XG4gICAgICB0aGlzLl9zZWxlY3Rpb24uc2VsZWN0KHRoaXMuX2NhY2hlZFNlbGVjdGlvbik7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2NhY2hlZFZpZXdib3gpIHtcbiAgICAgIHRoaXMuX2NhbnZhcy52aWV3Ym94KHRoaXMuX2NhY2hlZFZpZXdib3gpO1xuICAgIH1cblxuICAgIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ3NlYXJjaFBhZC5yZXN0b3JlZCcpO1xuICB9XG5cbiAgdGhpcy5fY2FjaGVkUm9vdEVsZW1lbnQgPSBudWxsO1xuICB0aGlzLl9jYWNoZWRTZWxlY3Rpb24gPSBudWxsO1xuICB0aGlzLl9jYWNoZWRWaWV3Ym94ID0gbnVsbDtcblxuICB0aGlzLl91bmJpbmRFdmVudHMoKTtcblxuICB0aGlzLl9vcGVuID0gZmFsc2U7XG5cbiAgZG9tQ2xhc3Nlcyh0aGlzLl9jYW52YXMuZ2V0Q29udGFpbmVyKCkpLnJlbW92ZSgnZGpzLXNlYXJjaC1vcGVuJyk7XG4gIGRvbUNsYXNzZXModGhpcy5fY29udGFpbmVyKS5yZW1vdmUoJ29wZW4nKTtcblxuICB0aGlzLl9jbGVhclJlc3VsdHMoKTtcblxuICB0aGlzLl9zZWFyY2hJbnB1dC52YWx1ZSA9ICcnO1xuICB0aGlzLl9zZWFyY2hJbnB1dC5ibHVyKCk7XG5cbiAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnc2VhcmNoUGFkLmNsb3NlZCcpO1xuXG4gIHRoaXMuX2NhbnZhcy5yZXN0b3JlRm9jdXMoKTtcbn07XG5cblxuLyoqXG4gKiBUb2dnbGVzIHNlYXJjaCBwYWQgb24vb2ZmLlxuICovXG5TZWFyY2hQYWQucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmlzT3BlbigpID8gdGhpcy5jbG9zZSgpIDogdGhpcy5vcGVuKCk7XG59O1xuXG5cbi8qKlxuICogUmVwb3J0IHN0YXRlIG9mIHNlYXJjaCBwYWQuXG4gKi9cblNlYXJjaFBhZC5wcm90b3R5cGUuaXNPcGVuID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9vcGVuO1xufTtcblxuXG4vKipcbiAqIFByZXNlbGVjdCByZXN1bHQgZW50cnkuXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICovXG5TZWFyY2hQYWQucHJvdG90eXBlLl9wcmVzZWxlY3QgPSBmdW5jdGlvbihub2RlKSB7XG4gIHZhciBzZWxlY3RlZE5vZGUgPSB0aGlzLl9nZXRDdXJyZW50UmVzdWx0KCk7XG5cbiAgLy8gYWxyZWFkeSBzZWxlY3RlZFxuICBpZiAobm9kZSA9PT0gc2VsZWN0ZWROb2RlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gcmVtb3ZpbmcgcHJlc2VsZWN0aW9uIGZyb20gY3VycmVudCBub2RlXG4gIGlmIChzZWxlY3RlZE5vZGUpIHtcbiAgICBkb21DbGFzc2VzKHNlbGVjdGVkTm9kZSkucmVtb3ZlKFNlYXJjaFBhZC5SRVNVTFRfU0VMRUNURURfQ0xBU1MpO1xuICB9XG5cbiAgdmFyIGlkID0gZG9tQXR0cihub2RlLCBTZWFyY2hQYWQuUkVTVUxUX0lEX0FUVFJJQlVURSk7XG4gIHZhciBlbGVtZW50ID0gdGhpcy5fcmVzdWx0c1tpZF0uZWxlbWVudDtcblxuICBkb21DbGFzc2VzKG5vZGUpLmFkZChTZWFyY2hQYWQuUkVTVUxUX1NFTEVDVEVEX0NMQVNTKTtcblxuICB0aGlzLl9jYW52YXMuc2Nyb2xsVG9FbGVtZW50KGVsZW1lbnQsIHtcbiAgICB0b3A6IFNDUk9MTF9UT19FTEVNRU5UX1BBRERJTkdcbiAgfSk7XG5cbiAgdGhpcy5fc2VsZWN0aW9uLnNlbGVjdChlbGVtZW50KTtcblxuICB0aGlzLl9ldmVudEJ1cy5maXJlKCdzZWFyY2hQYWQucHJlc2VsZWN0ZWQnLCBlbGVtZW50KTtcbn07XG5cblxuLyoqXG4gKiBTZWxlY3QgcmVzdWx0IG5vZGUuXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICovXG5TZWFyY2hQYWQucHJvdG90eXBlLl9zZWxlY3QgPSBmdW5jdGlvbihub2RlKSB7XG4gIHZhciBpZCA9IGRvbUF0dHIobm9kZSwgU2VhcmNoUGFkLlJFU1VMVF9JRF9BVFRSSUJVVEUpO1xuICB2YXIgZWxlbWVudCA9IHRoaXMuX3Jlc3VsdHNbaWRdLmVsZW1lbnQ7XG5cbiAgdGhpcy5fY2FjaGVkU2VsZWN0aW9uID0gbnVsbDtcbiAgdGhpcy5fY2FjaGVkVmlld2JveCA9IG51bGw7XG5cbiAgdGhpcy5jbG9zZShmYWxzZSk7XG5cbiAgdGhpcy5fY2FudmFzLnNjcm9sbFRvRWxlbWVudChlbGVtZW50LCB7XG4gICAgdG9wOiBTQ1JPTExfVE9fRUxFTUVOVF9QQURESU5HXG4gIH0pO1xuXG4gIHRoaXMuX3NlbGVjdGlvbi5zZWxlY3QoZWxlbWVudCk7XG5cbiAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnc2VhcmNoUGFkLnNlbGVjdGVkJywgZWxlbWVudCk7XG59O1xuXG5cblNlYXJjaFBhZC5wcm90b3R5cGUuX2dldEJveEh0bWwgPSBmdW5jdGlvbigpIHtcbiAgY29uc3QgYm94ID0gZG9taWZ5KFNlYXJjaFBhZC5CT1hfSFRNTCk7XG4gIGNvbnN0IGlucHV0ID0gZG9tUXVlcnkoU2VhcmNoUGFkLklOUFVUX1NFTEVDVE9SLCBib3gpO1xuXG4gIGlmIChpbnB1dCkge1xuICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIHRoaXMuX3RyYW5zbGF0ZSgnU2VhcmNoIGluIGRpYWdyYW0nKSk7XG4gIH1cblxuICByZXR1cm4gYm94O1xufTtcblxuXG4vKipcbiAqIENyZWF0ZXMgYW5kIGFwcGVuZHMgY2hpbGQgbm9kZSBmcm9tIHJlc3VsdCB0b2tlbnMgYW5kIEhUTUwgdGVtcGxhdGUuXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtUb2tlbltdfSB0b2tlbnNcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZW1wbGF0ZVxuICovXG5mdW5jdGlvbiBjcmVhdGVJbm5lclRleHROb2RlKHBhcmVudE5vZGUsIHRva2VucywgdGVtcGxhdGUpIHtcbiAgdmFyIHRleHQgPSBjcmVhdGVIdG1sVGV4dCh0b2tlbnMpO1xuICB2YXIgY2hpbGROb2RlID0gZG9taWZ5KHRlbXBsYXRlKTtcbiAgY2hpbGROb2RlLmlubmVySFRNTCA9IHRleHQ7XG4gIHBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoY2hpbGROb2RlKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgaW50ZXJuYWwgSFRNTCBtYXJrdXAgZnJvbSByZXN1bHQgdG9rZW5zLlxuICogQ2F0ZXJzIGZvciBoaWdobGlnaHRpbmcgcGF0dGVybiBtYXRjaGVkIHRva2Vucy5cbiAqXG4gKiBAcGFyYW0ge1Rva2VuW119IHRva2Vuc1xuICpcbiAqIEByZXR1cm4ge3N0cmluZ3xudWxsfVxuICovXG5mdW5jdGlvbiBjcmVhdGVIdG1sVGV4dCh0b2tlbnMpIHtcbiAgdmFyIGh0bWxUZXh0ID0gJyc7XG5cbiAgdG9rZW5zLmZvckVhY2goZnVuY3Rpb24odCkge1xuICAgIHZhciB0ZXh0ID0gZXNjYXBlSFRNTCh0LnZhbHVlIHx8IHQubWF0Y2hlZCB8fCB0Lm5vcm1hbCk7XG4gICAgdmFyIG1hdGNoID0gdC5tYXRjaCB8fCB0Lm1hdGNoZWQ7XG5cbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIGh0bWxUZXh0ICs9ICc8YiBjbGFzcz1cIicgKyBTZWFyY2hQYWQuUkVTVUxUX0hJR0hMSUdIVF9DTEFTUyArICdcIj4nICsgdGV4dCArICc8L2I+JztcbiAgICB9IGVsc2Uge1xuICAgICAgaHRtbFRleHQgKz0gdGV4dDtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBodG1sVGV4dCAhPT0gJycgPyBodG1sVGV4dCA6IG51bGw7XG59XG5cblxuLyoqXG4gKiBDT05TVEFOVFNcbiAqL1xuU2VhcmNoUGFkLkNPTlRBSU5FUl9TRUxFQ1RPUiA9ICcuZGpzLXNlYXJjaC1jb250YWluZXInO1xuU2VhcmNoUGFkLklOUFVUX1NFTEVDVE9SID0gJy5kanMtc2VhcmNoLWlucHV0IGlucHV0JztcblNlYXJjaFBhZC5SRVNVTFRTX0NPTlRBSU5FUl9TRUxFQ1RPUiA9ICcuZGpzLXNlYXJjaC1yZXN1bHRzJztcblNlYXJjaFBhZC5SRVNVTFRfU0VMRUNUT1IgPSAnLmRqcy1zZWFyY2gtcmVzdWx0JztcblNlYXJjaFBhZC5SRVNVTFRfU0VMRUNURURfQ0xBU1MgPSAnZGpzLXNlYXJjaC1yZXN1bHQtc2VsZWN0ZWQnO1xuU2VhcmNoUGFkLlJFU1VMVF9TRUxFQ1RFRF9TRUxFQ1RPUiA9ICcuJyArIFNlYXJjaFBhZC5SRVNVTFRfU0VMRUNURURfQ0xBU1M7XG5TZWFyY2hQYWQuUkVTVUxUX0lEX0FUVFJJQlVURSA9ICdkYXRhLXJlc3VsdC1pZCc7XG5TZWFyY2hQYWQuUkVTVUxUX0hJR0hMSUdIVF9DTEFTUyA9ICdkanMtc2VhcmNoLWhpZ2hsaWdodCc7XG5cblNlYXJjaFBhZC5CT1hfSFRNTCA9XG5gPGRpdiBjbGFzcz1cImRqcy1zZWFyY2gtY29udGFpbmVyIGRqcy1zY3JvbGxhYmxlXCI+XG4gIDxkaXYgY2xhc3M9XCJkanMtc2VhcmNoLWlucHV0XCI+XG4gICAgPHN2ZyBjbGFzcz1cImRqcy1zZWFyY2gtaWNvblwiIHdpZHRoPVwiMTRcIiBoZWlnaHQ9XCIxNFwiIHZpZXdCb3g9XCIwIDAgMTQgMTRcIiBmaWxsPVwibm9uZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbiAgICAgIDxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIgZD1cIk05LjAzMjUgOC41SDkuNjI1TDEzLjM2NzUgMTIuMjVMMTIuMjUgMTMuMzY3NUw4LjUgOS42MjVWOS4wMzI1TDguMjk3NSA4LjgyMjVDNy40NDI1IDkuNTU3NSA2LjMzMjUgMTAgNS4xMjUgMTBDMi40MzI1IDEwIDAuMjUgNy44MTc1IDAuMjUgNS4xMjVDMC4yNSAyLjQzMjUgMi40MzI1IDAuMjUgNS4xMjUgMC4yNUM3LjgxNzUgMC4yNSAxMCAyLjQzMjUgMTAgNS4xMjVDMTAgNi4zMzI1IDkuNTU3NSA3LjQ0MjUgOC44MjI1IDguMjk3NUw5LjAzMjUgOC41Wk0xLjc1IDUuMTI1QzEuNzUgNi45OTI1IDMuMjU3NSA4LjUgNS4xMjUgOC41QzYuOTkyNSA4LjUgOC41IDYuOTkyNSA4LjUgNS4xMjVDOC41IDMuMjU3NSA2Ljk5MjUgMS43NSA1LjEyNSAxLjc1QzMuMjU3NSAxLjc1IDEuNzUgMy4yNTc1IDEuNzUgNS4xMjVaXCIgZmlsbD1cIiMyMjI0MkFcIi8+XG4gICAgPC9zdmc+XG4gICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgc3BlbGxjaGVjaz1cImZhbHNlXCIgLz5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJkanMtc2VhcmNoLXJlc3VsdHNcIiAvPlxuPC9kaXY+YDtcblxuU2VhcmNoUGFkLlJFU1VMVF9IVE1MID1cbiAgJzxkaXYgY2xhc3M9XCJkanMtc2VhcmNoLXJlc3VsdFwiPjwvZGl2Pic7XG5cblNlYXJjaFBhZC5SRVNVTFRfUFJJTUFSWV9IVE1MID1cbiAgJzxkaXYgY2xhc3M9XCJkanMtc2VhcmNoLXJlc3VsdC1wcmltYXJ5XCI+PC9kaXY+JztcblxuU2VhcmNoUGFkLlJFU1VMVF9TRUNPTkRBUllfSFRNTCA9XG4gICc8cCBjbGFzcz1cImRqcy1zZWFyY2gtcmVzdWx0LXNlY29uZGFyeVwiPjwvcD4nO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/search-pad/SearchPad.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/search-pad/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/search-pad/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _overlays__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../overlays */ \"(ssr)/./node_modules/diagram-js/lib/features/overlays/index.js\");\n/* harmony import */ var _selection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../selection */ \"(ssr)/./node_modules/diagram-js/lib/features/selection/index.js\");\n/* harmony import */ var _i18n_translate_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../i18n/translate/index.js */ \"(ssr)/./node_modules/diagram-js/lib/i18n/translate/index.js\");\n/* harmony import */ var _SearchPad__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SearchPad */ \"(ssr)/./node_modules/diagram-js/lib/features/search-pad/SearchPad.js\");\n\n\n\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _i18n_translate_index_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    _overlays__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    _selection__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\n  ],\n  searchPad: [ 'type', _SearchPad__WEBPACK_IMPORTED_MODULE_3__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc2VhcmNoLXBhZC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUF5QztBQUNFO0FBQ2lCOztBQUV4Qjs7O0FBR3BDO0FBQ0EsV0FBVztBQUNYO0FBQ0EsaUVBQWU7QUFDZjtBQUNBLElBQUksZ0VBQWU7QUFDbkIsSUFBSSxpREFBYztBQUNsQixJQUFJLGtEQUFlO0FBQ25CO0FBQ0EsdUJBQXVCLGtEQUFTO0FBQ2hDLENBQUMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9zZWFyY2gtcGFkL2luZGV4LmpzPzZjOWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE92ZXJsYXlzTW9kdWxlIGZyb20gJy4uL292ZXJsYXlzJztcbmltcG9ydCBTZWxlY3Rpb25Nb2R1bGUgZnJvbSAnLi4vc2VsZWN0aW9uJztcbmltcG9ydCBUcmFuc2xhdGVNb2R1bGUgZnJvbSAnLi4vLi4vaTE4bi90cmFuc2xhdGUvaW5kZXguanMnO1xuXG5pbXBvcnQgU2VhcmNoUGFkIGZyb20gJy4vU2VhcmNoUGFkJztcblxuXG4vKipcbiAqIEB0eXBlIHsgaW1wb3J0KCdkaWRpJykuTW9kdWxlRGVjbGFyYXRpb24gfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgVHJhbnNsYXRlTW9kdWxlLFxuICAgIE92ZXJsYXlzTW9kdWxlLFxuICAgIFNlbGVjdGlvbk1vZHVsZVxuICBdLFxuICBzZWFyY2hQYWQ6IFsgJ3R5cGUnLCBTZWFyY2hQYWQgXVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/search-pad/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/search/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/search/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _search__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./search */ \"(ssr)/./node_modules/diagram-js/lib/features/search/search.js\");\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  search: [ 'value', _search__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc2VhcmNoL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQThCOztBQUU5QjtBQUNBLFdBQVc7QUFDWDtBQUNBLGlFQUFlO0FBQ2YscUJBQXFCLCtDQUFNO0FBQzNCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc2VhcmNoL2luZGV4LmpzPzdiYWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHNlYXJjaCBmcm9tICcuL3NlYXJjaCc7XG5cbi8qKlxuICogQHR5cGUgeyBpbXBvcnQoJ2RpZGknKS5Nb2R1bGVEZWNsYXJhdGlvbiB9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgc2VhcmNoOiBbICd2YWx1ZScsIHNlYXJjaCBdXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/search/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/search/search.js":
/*!***************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/search/search.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ search)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef { {\n *   index: number;\n *   match: boolean;\n *   value: string;\n * } } Token\n *\n * @typedef {Token[]} Tokens\n */\n\n/**\n * @template R\n *\n * @typedef { {\n *   item: R,\n *   tokens: Record<string, Tokens>\n * } } SearchResult\n */\n\n/**\n * @typedef {Record<string, string | string[]>} SearchItem\n */\n\n/**\n * Search items by query.\n *\n * @template {SearchItem} T\n *\n * @param {T[]} items elements to search in\n * @param {string} pattern pattern to search for\n * @param { {\n *   keys: string[];\n * } } options\n *\n * @returns {SearchResult<T>[]}\n */\nfunction search(items, pattern, options) {\n\n  const {\n    keys\n  } = options;\n\n  pattern = pattern.trim().toLowerCase();\n\n  if (!pattern) {\n    throw new Error('<pattern> must not be empty');\n  }\n\n  const words = pattern.trim().toLowerCase().split(/\\s+/);\n\n  return items.flatMap((item) => {\n    const tokens = matchItem(item, words, keys);\n\n    if (!tokens) {\n      return [];\n    }\n\n    return {\n      item,\n      tokens\n    };\n  }).sort(createResultSorter(keys));\n}\n\n/**\n * Match an item and return tokens in case of a match.\n *\n * @param {SearchItem} item element to be matched\n * @param {string[]} words words from search pattern to find\n * @param {string[]} keys keys to search in the item\n *\n * @returns {Record<string, Tokens>}\n */\nfunction matchItem(item, words, keys) {\n\n  const {\n    matchedWords,\n    tokens\n  } = keys.reduce((result, key) => {\n    const itemValue = item[ key ];\n\n    const {\n      tokens,\n      matchedWords\n    } = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(itemValue) ? (\n      itemValue.reduce(\n        (result, itemString) => {\n          const { tokens, matchedWords } = matchString(itemString, words);\n\n          return {\n            tokens: [ ...result.tokens, tokens ],\n            matchedWords: {\n              ...result.matchedWords,\n              ...matchedWords\n            }\n          };\n        },\n        {\n          matchedWords: {},\n          tokens: []\n        }\n      )\n    ) : (\n      matchString(itemValue, words)\n    );\n\n    return {\n      tokens: {\n        ...result.tokens,\n        [ key ]: tokens,\n      },\n      matchedWords: {\n        ...result.matchedWords,\n        ...matchedWords\n      }\n    };\n  }, {\n    matchedWords: {},\n    tokens: {}\n  });\n\n  // only return result if every word got matched\n  if (Object.keys(matchedWords).length !== words.length) {\n    return null;\n  }\n\n  return tokens;\n}\n\n/**\n * Creates a compare function that can be used in Array.sort() based on a custom scoring function\n *\n * @param {string[]} keys\n *\n * @returns { (resultA: SearchResult, resultB: SearchResult) => number}\n */\nfunction createResultSorter(keys) {\n\n  /**\n   * @param {SearchResult} resultA\n   * @param {SearchResult} resultB\n   */\n  return (resultA, resultB) => {\n    let comparison = 0;\n\n    // used to assign some priority to earlier keys\n    let modifier = 1;\n\n    for (const key of keys) {\n\n      const tokenComparison = compareTokens(\n        resultA.tokens[key],\n        resultB.tokens[key]\n      );\n\n      if (tokenComparison !== 0) {\n        comparison += tokenComparison * modifier;\n        modifier *= 0.9;\n        continue;\n      }\n\n      const stringComparison = compareStrings(\n        resultA.item[ key ],\n        resultB.item[ key ]\n      );\n\n      if (stringComparison !== 0) {\n        comparison += stringComparison * modifier;\n        modifier *= 0.9;\n        continue;\n      }\n    }\n\n    return comparison;\n  };\n\n}\n\n/**\n * Compares two token arrays.\n *\n * @param {Token[]} [tokensA]\n * @param {Token[]} [tokensB]\n *\n * @returns {number}\n */\nfunction compareTokens(tokensA, tokensB) {\n  return scoreTokens(tokensB) - scoreTokens(tokensA);\n}\n\n/**\n * @param { Token[] } tokens\n * @returns { number }\n */\nfunction scoreTokens(tokens) {\n  return tokens.reduce((sum, token) => sum + scoreToken(token), 0);\n}\n\n/**\n * Score a token based on its characteristics\n * and the length of the matched content.\n *\n * @param { Token } token\n *\n * @returns { number }\n */\nfunction scoreToken(token) {\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(token)) {\n    return Math.max(...token.map(scoreToken));\n  }\n\n  const modifier = Math.log(token.value.length);\n\n  if (!token.match) {\n    return -0.07 * modifier;\n  }\n\n  return (\n    token.start\n      ? (\n        token.end\n          ? 131.9\n          : 7.87\n      )\n      : (\n        token.wordStart\n          ? 2.19\n          : 1\n      )\n  ) * modifier;\n}\n\n/**\n * @param {string|string[]} [str='']\n *\n * @return {string}\n */\nfunction stringJoin(str = '') {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(str) ? str.join(', ') : str;\n}\n\n/**\n * Compares two strings. also supports string arrays, which will be joined\n *\n * @param {string|string[]} [a]\n * @param {string|string[]} [b]\n *\n * @returns {number}\n */\nfunction compareStrings(a, b) {\n  return stringJoin(a).localeCompare(stringJoin(b));\n}\n\n/**\n * Match a given string against a set of words,\n * and return the result.\n *\n * @param {string} string\n * @param {string[]} words\n *\n * @return { {\n *   tokens: Token[],\n *   matchedWords: Record<string, boolean>\n * } }\n */\nfunction matchString(string, words) {\n\n  if (!string) {\n    return {\n      tokens: [],\n      matchedWords: {}\n    };\n  }\n\n  const tokens = [];\n  const matchedWords = {};\n\n  const wordsEscaped = words.map(escapeRegexp);\n\n  const regexpString = [\n    `(?<all>${wordsEscaped.join('\\\\s+')})`,\n    ...wordsEscaped\n  ].join('|');\n\n  const regexp = new RegExp(regexpString, 'ig');\n\n  let match;\n  let lastIndex = 0;\n\n  while ((match = regexp.exec(string))) {\n\n    const [ value ] = match;\n\n    const startIndex = match.index;\n    const endIndex = match.index + value.length;\n\n    const start = startIndex === 0;\n    const end = endIndex === string.length;\n\n    const all = !!match.groups.all;\n\n    const wordStart = start || /\\s/.test(string.charAt(startIndex - 1));\n    const wordEnd = end || /\\s/.test(string.charAt(endIndex));\n\n    if (match.index > lastIndex) {\n\n      // add previous token (NO match)\n      tokens.push({\n        value: string.slice(lastIndex, match.index),\n        index: lastIndex\n      });\n    }\n\n    // add current token (match)\n    tokens.push({\n      value,\n      index: match.index,\n      match: true,\n      wordStart,\n      wordEnd,\n      start,\n      end,\n      all\n    });\n\n    const newMatchedWords = all ? words : [ value ];\n\n    for (const word of newMatchedWords) {\n      matchedWords[word.toLowerCase()] = true;\n    }\n\n    lastIndex = match.index + value.length;\n  }\n\n  // add after token (NO match)\n  if (lastIndex < string.length) {\n    tokens.push({\n      value: string.slice(lastIndex),\n      index: lastIndex\n    });\n  }\n\n  return {\n    tokens,\n    matchedWords\n  };\n}\n\nfunction escapeRegexp(string) {\n  return string.replace(/[/\\-\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc2VhcmNoL3NlYXJjaC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFtQzs7QUFFbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLGFBQWEsU0FBUztBQUN0Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQSxhQUFhLG1DQUFtQztBQUNoRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFlBQVk7QUFDMUI7QUFDQSxXQUFXLEtBQUs7QUFDaEIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxhQUFhO0FBQ2I7QUFDZTs7QUFFZjtBQUNBO0FBQ0EsSUFBSTs7QUFFSjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsVUFBVTtBQUNyQixXQUFXLFVBQVU7QUFDckI7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTSxFQUFFLGlEQUFPO0FBQ2Y7QUFDQTtBQUNBLGtCQUFrQix1QkFBdUI7O0FBRXpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILG9CQUFvQjtBQUNwQjtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBLGFBQWEsY0FBYztBQUMzQixhQUFhLGNBQWM7QUFDM0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQjtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0EsTUFBTSxpREFBTztBQUNiO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLGlCQUFpQjtBQUM1QjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsU0FBUyxpREFBTztBQUNoQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlCQUFpQjtBQUM1QixXQUFXLGlCQUFpQjtBQUM1QjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxjQUFjLDBCQUEwQjtBQUN4QztBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDZDQUE2QztBQUM3QyIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9zZWFyY2gvc2VhcmNoLmpzP2ZjYTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJ21pbi1kYXNoJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgaW5kZXg6IG51bWJlcjtcbiAqICAgbWF0Y2g6IGJvb2xlYW47XG4gKiAgIHZhbHVlOiBzdHJpbmc7XG4gKiB9IH0gVG9rZW5cbiAqXG4gKiBAdHlwZWRlZiB7VG9rZW5bXX0gVG9rZW5zXG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUgUlxuICpcbiAqIEB0eXBlZGVmIHsge1xuICogICBpdGVtOiBSLFxuICogICB0b2tlbnM6IFJlY29yZDxzdHJpbmcsIFRva2Vucz5cbiAqIH0gfSBTZWFyY2hSZXN1bHRcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBzdHJpbmdbXT59IFNlYXJjaEl0ZW1cbiAqL1xuXG4vKipcbiAqIFNlYXJjaCBpdGVtcyBieSBxdWVyeS5cbiAqXG4gKiBAdGVtcGxhdGUge1NlYXJjaEl0ZW19IFRcbiAqXG4gKiBAcGFyYW0ge1RbXX0gaXRlbXMgZWxlbWVudHMgdG8gc2VhcmNoIGluXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0dGVybiBwYXR0ZXJuIHRvIHNlYXJjaCBmb3JcbiAqIEBwYXJhbSB7IHtcbiAqICAga2V5czogc3RyaW5nW107XG4gKiB9IH0gb3B0aW9uc1xuICpcbiAqIEByZXR1cm5zIHtTZWFyY2hSZXN1bHQ8VD5bXX1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2VhcmNoKGl0ZW1zLCBwYXR0ZXJuLCBvcHRpb25zKSB7XG5cbiAgY29uc3Qge1xuICAgIGtleXNcbiAgfSA9IG9wdGlvbnM7XG5cbiAgcGF0dGVybiA9IHBhdHRlcm4udHJpbSgpLnRvTG93ZXJDYXNlKCk7XG5cbiAgaWYgKCFwYXR0ZXJuKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCc8cGF0dGVybj4gbXVzdCBub3QgYmUgZW1wdHknKTtcbiAgfVxuXG4gIGNvbnN0IHdvcmRzID0gcGF0dGVybi50cmltKCkudG9Mb3dlckNhc2UoKS5zcGxpdCgvXFxzKy8pO1xuXG4gIHJldHVybiBpdGVtcy5mbGF0TWFwKChpdGVtKSA9PiB7XG4gICAgY29uc3QgdG9rZW5zID0gbWF0Y2hJdGVtKGl0ZW0sIHdvcmRzLCBrZXlzKTtcblxuICAgIGlmICghdG9rZW5zKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGl0ZW0sXG4gICAgICB0b2tlbnNcbiAgICB9O1xuICB9KS5zb3J0KGNyZWF0ZVJlc3VsdFNvcnRlcihrZXlzKSk7XG59XG5cbi8qKlxuICogTWF0Y2ggYW4gaXRlbSBhbmQgcmV0dXJuIHRva2VucyBpbiBjYXNlIG9mIGEgbWF0Y2guXG4gKlxuICogQHBhcmFtIHtTZWFyY2hJdGVtfSBpdGVtIGVsZW1lbnQgdG8gYmUgbWF0Y2hlZFxuICogQHBhcmFtIHtzdHJpbmdbXX0gd29yZHMgd29yZHMgZnJvbSBzZWFyY2ggcGF0dGVybiB0byBmaW5kXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBrZXlzIGtleXMgdG8gc2VhcmNoIGluIHRoZSBpdGVtXG4gKlxuICogQHJldHVybnMge1JlY29yZDxzdHJpbmcsIFRva2Vucz59XG4gKi9cbmZ1bmN0aW9uIG1hdGNoSXRlbShpdGVtLCB3b3Jkcywga2V5cykge1xuXG4gIGNvbnN0IHtcbiAgICBtYXRjaGVkV29yZHMsXG4gICAgdG9rZW5zXG4gIH0gPSBrZXlzLnJlZHVjZSgocmVzdWx0LCBrZXkpID0+IHtcbiAgICBjb25zdCBpdGVtVmFsdWUgPSBpdGVtWyBrZXkgXTtcblxuICAgIGNvbnN0IHtcbiAgICAgIHRva2VucyxcbiAgICAgIG1hdGNoZWRXb3Jkc1xuICAgIH0gPSBpc0FycmF5KGl0ZW1WYWx1ZSkgPyAoXG4gICAgICBpdGVtVmFsdWUucmVkdWNlKFxuICAgICAgICAocmVzdWx0LCBpdGVtU3RyaW5nKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyB0b2tlbnMsIG1hdGNoZWRXb3JkcyB9ID0gbWF0Y2hTdHJpbmcoaXRlbVN0cmluZywgd29yZHMpO1xuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRva2VuczogWyAuLi5yZXN1bHQudG9rZW5zLCB0b2tlbnMgXSxcbiAgICAgICAgICAgIG1hdGNoZWRXb3Jkczoge1xuICAgICAgICAgICAgICAuLi5yZXN1bHQubWF0Y2hlZFdvcmRzLFxuICAgICAgICAgICAgICAuLi5tYXRjaGVkV29yZHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgbWF0Y2hlZFdvcmRzOiB7fSxcbiAgICAgICAgICB0b2tlbnM6IFtdXG4gICAgICAgIH1cbiAgICAgIClcbiAgICApIDogKFxuICAgICAgbWF0Y2hTdHJpbmcoaXRlbVZhbHVlLCB3b3JkcylcbiAgICApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRva2Vuczoge1xuICAgICAgICAuLi5yZXN1bHQudG9rZW5zLFxuICAgICAgICBbIGtleSBdOiB0b2tlbnMsXG4gICAgICB9LFxuICAgICAgbWF0Y2hlZFdvcmRzOiB7XG4gICAgICAgIC4uLnJlc3VsdC5tYXRjaGVkV29yZHMsXG4gICAgICAgIC4uLm1hdGNoZWRXb3Jkc1xuICAgICAgfVxuICAgIH07XG4gIH0sIHtcbiAgICBtYXRjaGVkV29yZHM6IHt9LFxuICAgIHRva2Vuczoge31cbiAgfSk7XG5cbiAgLy8gb25seSByZXR1cm4gcmVzdWx0IGlmIGV2ZXJ5IHdvcmQgZ290IG1hdGNoZWRcbiAgaWYgKE9iamVjdC5rZXlzKG1hdGNoZWRXb3JkcykubGVuZ3RoICE9PSB3b3Jkcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiB0b2tlbnM7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNvbXBhcmUgZnVuY3Rpb24gdGhhdCBjYW4gYmUgdXNlZCBpbiBBcnJheS5zb3J0KCkgYmFzZWQgb24gYSBjdXN0b20gc2NvcmluZyBmdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7c3RyaW5nW119IGtleXNcbiAqXG4gKiBAcmV0dXJucyB7IChyZXN1bHRBOiBTZWFyY2hSZXN1bHQsIHJlc3VsdEI6IFNlYXJjaFJlc3VsdCkgPT4gbnVtYmVyfVxuICovXG5mdW5jdGlvbiBjcmVhdGVSZXN1bHRTb3J0ZXIoa2V5cykge1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1NlYXJjaFJlc3VsdH0gcmVzdWx0QVxuICAgKiBAcGFyYW0ge1NlYXJjaFJlc3VsdH0gcmVzdWx0QlxuICAgKi9cbiAgcmV0dXJuIChyZXN1bHRBLCByZXN1bHRCKSA9PiB7XG4gICAgbGV0IGNvbXBhcmlzb24gPSAwO1xuXG4gICAgLy8gdXNlZCB0byBhc3NpZ24gc29tZSBwcmlvcml0eSB0byBlYXJsaWVyIGtleXNcbiAgICBsZXQgbW9kaWZpZXIgPSAxO1xuXG4gICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuXG4gICAgICBjb25zdCB0b2tlbkNvbXBhcmlzb24gPSBjb21wYXJlVG9rZW5zKFxuICAgICAgICByZXN1bHRBLnRva2Vuc1trZXldLFxuICAgICAgICByZXN1bHRCLnRva2Vuc1trZXldXG4gICAgICApO1xuXG4gICAgICBpZiAodG9rZW5Db21wYXJpc29uICE9PSAwKSB7XG4gICAgICAgIGNvbXBhcmlzb24gKz0gdG9rZW5Db21wYXJpc29uICogbW9kaWZpZXI7XG4gICAgICAgIG1vZGlmaWVyICo9IDAuOTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHN0cmluZ0NvbXBhcmlzb24gPSBjb21wYXJlU3RyaW5ncyhcbiAgICAgICAgcmVzdWx0QS5pdGVtWyBrZXkgXSxcbiAgICAgICAgcmVzdWx0Qi5pdGVtWyBrZXkgXVxuICAgICAgKTtcblxuICAgICAgaWYgKHN0cmluZ0NvbXBhcmlzb24gIT09IDApIHtcbiAgICAgICAgY29tcGFyaXNvbiArPSBzdHJpbmdDb21wYXJpc29uICogbW9kaWZpZXI7XG4gICAgICAgIG1vZGlmaWVyICo9IDAuOTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbXBhcmlzb247XG4gIH07XG5cbn1cblxuLyoqXG4gKiBDb21wYXJlcyB0d28gdG9rZW4gYXJyYXlzLlxuICpcbiAqIEBwYXJhbSB7VG9rZW5bXX0gW3Rva2Vuc0FdXG4gKiBAcGFyYW0ge1Rva2VuW119IFt0b2tlbnNCXVxuICpcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGNvbXBhcmVUb2tlbnModG9rZW5zQSwgdG9rZW5zQikge1xuICByZXR1cm4gc2NvcmVUb2tlbnModG9rZW5zQikgLSBzY29yZVRva2Vucyh0b2tlbnNBKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0geyBUb2tlbltdIH0gdG9rZW5zXG4gKiBAcmV0dXJucyB7IG51bWJlciB9XG4gKi9cbmZ1bmN0aW9uIHNjb3JlVG9rZW5zKHRva2Vucykge1xuICByZXR1cm4gdG9rZW5zLnJlZHVjZSgoc3VtLCB0b2tlbikgPT4gc3VtICsgc2NvcmVUb2tlbih0b2tlbiksIDApO1xufVxuXG4vKipcbiAqIFNjb3JlIGEgdG9rZW4gYmFzZWQgb24gaXRzIGNoYXJhY3RlcmlzdGljc1xuICogYW5kIHRoZSBsZW5ndGggb2YgdGhlIG1hdGNoZWQgY29udGVudC5cbiAqXG4gKiBAcGFyYW0geyBUb2tlbiB9IHRva2VuXG4gKlxuICogQHJldHVybnMgeyBudW1iZXIgfVxuICovXG5mdW5jdGlvbiBzY29yZVRva2VuKHRva2VuKSB7XG4gIGlmIChpc0FycmF5KHRva2VuKSkge1xuICAgIHJldHVybiBNYXRoLm1heCguLi50b2tlbi5tYXAoc2NvcmVUb2tlbikpO1xuICB9XG5cbiAgY29uc3QgbW9kaWZpZXIgPSBNYXRoLmxvZyh0b2tlbi52YWx1ZS5sZW5ndGgpO1xuXG4gIGlmICghdG9rZW4ubWF0Y2gpIHtcbiAgICByZXR1cm4gLTAuMDcgKiBtb2RpZmllcjtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgdG9rZW4uc3RhcnRcbiAgICAgID8gKFxuICAgICAgICB0b2tlbi5lbmRcbiAgICAgICAgICA/IDEzMS45XG4gICAgICAgICAgOiA3Ljg3XG4gICAgICApXG4gICAgICA6IChcbiAgICAgICAgdG9rZW4ud29yZFN0YXJ0XG4gICAgICAgICAgPyAyLjE5XG4gICAgICAgICAgOiAxXG4gICAgICApXG4gICkgKiBtb2RpZmllcjtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gW3N0cj0nJ11cbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIHN0cmluZ0pvaW4oc3RyID0gJycpIHtcbiAgcmV0dXJuIGlzQXJyYXkoc3RyKSA/IHN0ci5qb2luKCcsICcpIDogc3RyO1xufVxuXG4vKipcbiAqIENvbXBhcmVzIHR3byBzdHJpbmdzLiBhbHNvIHN1cHBvcnRzIHN0cmluZyBhcnJheXMsIHdoaWNoIHdpbGwgYmUgam9pbmVkXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IFthXVxuICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IFtiXVxuICpcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGNvbXBhcmVTdHJpbmdzKGEsIGIpIHtcbiAgcmV0dXJuIHN0cmluZ0pvaW4oYSkubG9jYWxlQ29tcGFyZShzdHJpbmdKb2luKGIpKTtcbn1cblxuLyoqXG4gKiBNYXRjaCBhIGdpdmVuIHN0cmluZyBhZ2FpbnN0IGEgc2V0IG9mIHdvcmRzLFxuICogYW5kIHJldHVybiB0aGUgcmVzdWx0LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nW119IHdvcmRzXG4gKlxuICogQHJldHVybiB7IHtcbiAqICAgdG9rZW5zOiBUb2tlbltdLFxuICogICBtYXRjaGVkV29yZHM6IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+XG4gKiB9IH1cbiAqL1xuZnVuY3Rpb24gbWF0Y2hTdHJpbmcoc3RyaW5nLCB3b3Jkcykge1xuXG4gIGlmICghc3RyaW5nKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRva2VuczogW10sXG4gICAgICBtYXRjaGVkV29yZHM6IHt9XG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0IHRva2VucyA9IFtdO1xuICBjb25zdCBtYXRjaGVkV29yZHMgPSB7fTtcblxuICBjb25zdCB3b3Jkc0VzY2FwZWQgPSB3b3Jkcy5tYXAoZXNjYXBlUmVnZXhwKTtcblxuICBjb25zdCByZWdleHBTdHJpbmcgPSBbXG4gICAgYCg/PGFsbD4ke3dvcmRzRXNjYXBlZC5qb2luKCdcXFxccysnKX0pYCxcbiAgICAuLi53b3Jkc0VzY2FwZWRcbiAgXS5qb2luKCd8Jyk7XG5cbiAgY29uc3QgcmVnZXhwID0gbmV3IFJlZ0V4cChyZWdleHBTdHJpbmcsICdpZycpO1xuXG4gIGxldCBtYXRjaDtcbiAgbGV0IGxhc3RJbmRleCA9IDA7XG5cbiAgd2hpbGUgKChtYXRjaCA9IHJlZ2V4cC5leGVjKHN0cmluZykpKSB7XG5cbiAgICBjb25zdCBbIHZhbHVlIF0gPSBtYXRjaDtcblxuICAgIGNvbnN0IHN0YXJ0SW5kZXggPSBtYXRjaC5pbmRleDtcbiAgICBjb25zdCBlbmRJbmRleCA9IG1hdGNoLmluZGV4ICsgdmFsdWUubGVuZ3RoO1xuXG4gICAgY29uc3Qgc3RhcnQgPSBzdGFydEluZGV4ID09PSAwO1xuICAgIGNvbnN0IGVuZCA9IGVuZEluZGV4ID09PSBzdHJpbmcubGVuZ3RoO1xuXG4gICAgY29uc3QgYWxsID0gISFtYXRjaC5ncm91cHMuYWxsO1xuXG4gICAgY29uc3Qgd29yZFN0YXJ0ID0gc3RhcnQgfHwgL1xccy8udGVzdChzdHJpbmcuY2hhckF0KHN0YXJ0SW5kZXggLSAxKSk7XG4gICAgY29uc3Qgd29yZEVuZCA9IGVuZCB8fCAvXFxzLy50ZXN0KHN0cmluZy5jaGFyQXQoZW5kSW5kZXgpKTtcblxuICAgIGlmIChtYXRjaC5pbmRleCA+IGxhc3RJbmRleCkge1xuXG4gICAgICAvLyBhZGQgcHJldmlvdXMgdG9rZW4gKE5PIG1hdGNoKVxuICAgICAgdG9rZW5zLnB1c2goe1xuICAgICAgICB2YWx1ZTogc3RyaW5nLnNsaWNlKGxhc3RJbmRleCwgbWF0Y2guaW5kZXgpLFxuICAgICAgICBpbmRleDogbGFzdEluZGV4XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBhZGQgY3VycmVudCB0b2tlbiAobWF0Y2gpXG4gICAgdG9rZW5zLnB1c2goe1xuICAgICAgdmFsdWUsXG4gICAgICBpbmRleDogbWF0Y2guaW5kZXgsXG4gICAgICBtYXRjaDogdHJ1ZSxcbiAgICAgIHdvcmRTdGFydCxcbiAgICAgIHdvcmRFbmQsXG4gICAgICBzdGFydCxcbiAgICAgIGVuZCxcbiAgICAgIGFsbFxuICAgIH0pO1xuXG4gICAgY29uc3QgbmV3TWF0Y2hlZFdvcmRzID0gYWxsID8gd29yZHMgOiBbIHZhbHVlIF07XG5cbiAgICBmb3IgKGNvbnN0IHdvcmQgb2YgbmV3TWF0Y2hlZFdvcmRzKSB7XG4gICAgICBtYXRjaGVkV29yZHNbd29yZC50b0xvd2VyQ2FzZSgpXSA9IHRydWU7XG4gICAgfVxuXG4gICAgbGFzdEluZGV4ID0gbWF0Y2guaW5kZXggKyB2YWx1ZS5sZW5ndGg7XG4gIH1cblxuICAvLyBhZGQgYWZ0ZXIgdG9rZW4gKE5PIG1hdGNoKVxuICBpZiAobGFzdEluZGV4IDwgc3RyaW5nLmxlbmd0aCkge1xuICAgIHRva2Vucy5wdXNoKHtcbiAgICAgIHZhbHVlOiBzdHJpbmcuc2xpY2UobGFzdEluZGV4KSxcbiAgICAgIGluZGV4OiBsYXN0SW5kZXhcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdG9rZW5zLFxuICAgIG1hdGNoZWRXb3Jkc1xuICB9O1xufVxuXG5mdW5jdGlvbiBlc2NhcGVSZWdleHAoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcucmVwbGFjZSgvWy9cXC1cXFxcXiQqKz8uKCl8W1xcXXt9XS9nLCAnXFxcXCQmJyk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/search/search.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/selection/Selection.js":
/*!*********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/selection/Selection.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Selection)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n */\n\n/**\n * A service that offers the current selection in a diagram.\n * Offers the api to control the selection, too.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nfunction Selection(eventBus, canvas) {\n\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n\n  /**\n   * @type {Object[]}\n   */\n  this._selectedElements = [];\n\n  var self = this;\n\n  eventBus.on([ 'shape.remove', 'connection.remove' ], function(e) {\n    var element = e.element;\n    self.deselect(element);\n  });\n\n  eventBus.on([ 'diagram.clear', 'root.set' ], function(e) {\n    self.select(null);\n  });\n}\n\nSelection.$inject = [ 'eventBus', 'canvas' ];\n\n/**\n * Deselect an element.\n *\n * @param {Object} element The element to deselect.\n */\nSelection.prototype.deselect = function(element) {\n  var selectedElements = this._selectedElements;\n\n  var idx = selectedElements.indexOf(element);\n\n  if (idx !== -1) {\n    var oldSelection = selectedElements.slice();\n\n    selectedElements.splice(idx, 1);\n\n    this._eventBus.fire('selection.changed', { oldSelection: oldSelection, newSelection: selectedElements });\n  }\n};\n\n/**\n * Get the selected elements.\n *\n * @return {Object[]} The selected elements.\n */\nSelection.prototype.get = function() {\n  return this._selectedElements;\n};\n\n/**\n * Check whether an element is selected.\n *\n * @param {Object} element The element.\n *\n * @return {boolean} Whether the element is selected.\n */\nSelection.prototype.isSelected = function(element) {\n  return this._selectedElements.indexOf(element) !== -1;\n};\n\n\n/**\n * Select one or many elements.\n *\n * @param {Object|Object[]} elements The element(s) to select.\n * @param {boolean} [add] Whether to add the element(s) to the selected elements.\n * Defaults to `false`.\n */\nSelection.prototype.select = function(elements, add) {\n  var selectedElements = this._selectedElements,\n      oldSelection = selectedElements.slice();\n\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(elements)) {\n    elements = elements ? [ elements ] : [];\n  }\n\n  var canvas = this._canvas;\n\n  var rootElement = canvas.getRootElement();\n\n  elements = elements.filter(function(element) {\n    var elementRoot = canvas.findRoot(element);\n\n    return rootElement === elementRoot;\n  });\n\n  // selection may be cleared by passing an empty array or null\n  // to the method\n  if (add) {\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(elements, function(element) {\n      if (selectedElements.indexOf(element) !== -1) {\n\n        // already selected\n        return;\n      } else {\n        selectedElements.push(element);\n      }\n    });\n  } else {\n    this._selectedElements = selectedElements = elements.slice();\n  }\n\n  this._eventBus.fire('selection.changed', { oldSelection: oldSelection, newSelection: selectedElements });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc2VsZWN0aW9uL1NlbGVjdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUdrQjs7QUFFbEI7QUFDQSxhQUFhLHFDQUFxQztBQUNsRCxhQUFhLHVDQUF1QztBQUNwRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkI7QUFDZTs7QUFFZjtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSwrQ0FBK0MsNERBQTREO0FBQzNHO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBTyxpREFBTztBQUNkO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsSUFBSSxpREFBTztBQUNYOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTs7QUFFQSw2Q0FBNkMsNERBQTREO0FBQ3pHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NlbGVjdGlvbi9TZWxlY3Rpb24uanM/N2QyYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBpc0FycmF5LFxuICBmb3JFYWNoXG59IGZyb20gJ21pbi1kYXNoJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0NhbnZhcycpLmRlZmF1bHR9IENhbnZhc1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKi9cblxuLyoqXG4gKiBBIHNlcnZpY2UgdGhhdCBvZmZlcnMgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIGluIGEgZGlhZ3JhbS5cbiAqIE9mZmVycyB0aGUgYXBpIHRvIGNvbnRyb2wgdGhlIHNlbGVjdGlvbiwgdG9vLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNlbGVjdGlvbihldmVudEJ1cywgY2FudmFzKSB7XG5cbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcbiAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7T2JqZWN0W119XG4gICAqL1xuICB0aGlzLl9zZWxlY3RlZEVsZW1lbnRzID0gW107XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGV2ZW50QnVzLm9uKFsgJ3NoYXBlLnJlbW92ZScsICdjb25uZWN0aW9uLnJlbW92ZScgXSwgZnVuY3Rpb24oZSkge1xuICAgIHZhciBlbGVtZW50ID0gZS5lbGVtZW50O1xuICAgIHNlbGYuZGVzZWxlY3QoZWxlbWVudCk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKFsgJ2RpYWdyYW0uY2xlYXInLCAncm9vdC5zZXQnIF0sIGZ1bmN0aW9uKGUpIHtcbiAgICBzZWxmLnNlbGVjdChudWxsKTtcbiAgfSk7XG59XG5cblNlbGVjdGlvbi4kaW5qZWN0ID0gWyAnZXZlbnRCdXMnLCAnY2FudmFzJyBdO1xuXG4vKipcbiAqIERlc2VsZWN0IGFuIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gZGVzZWxlY3QuXG4gKi9cblNlbGVjdGlvbi5wcm90b3R5cGUuZGVzZWxlY3QgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHZhciBzZWxlY3RlZEVsZW1lbnRzID0gdGhpcy5fc2VsZWN0ZWRFbGVtZW50cztcblxuICB2YXIgaWR4ID0gc2VsZWN0ZWRFbGVtZW50cy5pbmRleE9mKGVsZW1lbnQpO1xuXG4gIGlmIChpZHggIT09IC0xKSB7XG4gICAgdmFyIG9sZFNlbGVjdGlvbiA9IHNlbGVjdGVkRWxlbWVudHMuc2xpY2UoKTtcblxuICAgIHNlbGVjdGVkRWxlbWVudHMuc3BsaWNlKGlkeCwgMSk7XG5cbiAgICB0aGlzLl9ldmVudEJ1cy5maXJlKCdzZWxlY3Rpb24uY2hhbmdlZCcsIHsgb2xkU2VsZWN0aW9uOiBvbGRTZWxlY3Rpb24sIG5ld1NlbGVjdGlvbjogc2VsZWN0ZWRFbGVtZW50cyB9KTtcbiAgfVxufTtcblxuLyoqXG4gKiBHZXQgdGhlIHNlbGVjdGVkIGVsZW1lbnRzLlxuICpcbiAqIEByZXR1cm4ge09iamVjdFtdfSBUaGUgc2VsZWN0ZWQgZWxlbWVudHMuXG4gKi9cblNlbGVjdGlvbi5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9zZWxlY3RlZEVsZW1lbnRzO1xufTtcblxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIGFuIGVsZW1lbnQgaXMgc2VsZWN0ZWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQgVGhlIGVsZW1lbnQuXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgZWxlbWVudCBpcyBzZWxlY3RlZC5cbiAqL1xuU2VsZWN0aW9uLnByb3RvdHlwZS5pc1NlbGVjdGVkID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gdGhpcy5fc2VsZWN0ZWRFbGVtZW50cy5pbmRleE9mKGVsZW1lbnQpICE9PSAtMTtcbn07XG5cblxuLyoqXG4gKiBTZWxlY3Qgb25lIG9yIG1hbnkgZWxlbWVudHMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R8T2JqZWN0W119IGVsZW1lbnRzIFRoZSBlbGVtZW50KHMpIHRvIHNlbGVjdC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2FkZF0gV2hldGhlciB0byBhZGQgdGhlIGVsZW1lbnQocykgdG8gdGhlIHNlbGVjdGVkIGVsZW1lbnRzLlxuICogRGVmYXVsdHMgdG8gYGZhbHNlYC5cbiAqL1xuU2VsZWN0aW9uLnByb3RvdHlwZS5zZWxlY3QgPSBmdW5jdGlvbihlbGVtZW50cywgYWRkKSB7XG4gIHZhciBzZWxlY3RlZEVsZW1lbnRzID0gdGhpcy5fc2VsZWN0ZWRFbGVtZW50cyxcbiAgICAgIG9sZFNlbGVjdGlvbiA9IHNlbGVjdGVkRWxlbWVudHMuc2xpY2UoKTtcblxuICBpZiAoIWlzQXJyYXkoZWxlbWVudHMpKSB7XG4gICAgZWxlbWVudHMgPSBlbGVtZW50cyA/IFsgZWxlbWVudHMgXSA6IFtdO1xuICB9XG5cbiAgdmFyIGNhbnZhcyA9IHRoaXMuX2NhbnZhcztcblxuICB2YXIgcm9vdEVsZW1lbnQgPSBjYW52YXMuZ2V0Um9vdEVsZW1lbnQoKTtcblxuICBlbGVtZW50cyA9IGVsZW1lbnRzLmZpbHRlcihmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgdmFyIGVsZW1lbnRSb290ID0gY2FudmFzLmZpbmRSb290KGVsZW1lbnQpO1xuXG4gICAgcmV0dXJuIHJvb3RFbGVtZW50ID09PSBlbGVtZW50Um9vdDtcbiAgfSk7XG5cbiAgLy8gc2VsZWN0aW9uIG1heSBiZSBjbGVhcmVkIGJ5IHBhc3NpbmcgYW4gZW1wdHkgYXJyYXkgb3IgbnVsbFxuICAvLyB0byB0aGUgbWV0aG9kXG4gIGlmIChhZGQpIHtcbiAgICBmb3JFYWNoKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICBpZiAoc2VsZWN0ZWRFbGVtZW50cy5pbmRleE9mKGVsZW1lbnQpICE9PSAtMSkge1xuXG4gICAgICAgIC8vIGFscmVhZHkgc2VsZWN0ZWRcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZWN0ZWRFbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuX3NlbGVjdGVkRWxlbWVudHMgPSBzZWxlY3RlZEVsZW1lbnRzID0gZWxlbWVudHMuc2xpY2UoKTtcbiAgfVxuXG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ3NlbGVjdGlvbi5jaGFuZ2VkJywgeyBvbGRTZWxlY3Rpb246IG9sZFNlbGVjdGlvbiwgbmV3U2VsZWN0aW9uOiBzZWxlY3RlZEVsZW1lbnRzIH0pO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/selection/Selection.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/selection/SelectionBehavior.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/selection/SelectionBehavior.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SelectionBehavior)\n/* harmony export */ });\n/* harmony import */ var _util_Mouse__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Mouse */ \"(ssr)/./node_modules/diagram-js/lib/util/Mouse.js\");\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('./Selection').default} Selection\n */\n\n/**\n * @param {EventBus} eventBus\n * @param {Selection} selection\n * @param {Canvas} canvas\n * @param {ElementRegistry} elementRegistry\n */\nfunction SelectionBehavior(eventBus, selection, canvas, elementRegistry) {\n\n  // Select elements on create\n  eventBus.on('create.end', 500, function(event) {\n    var context = event.context,\n        canExecute = context.canExecute,\n        elements = context.elements,\n        hints = context.hints || {},\n        autoSelect = hints.autoSelect;\n\n    if (canExecute) {\n      if (autoSelect === false) {\n\n        // Select no elements\n        return;\n      }\n\n      if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(autoSelect)) {\n        selection.select(autoSelect);\n      } else {\n\n        // Select all elements by default\n        selection.select(elements.filter(isShown));\n      }\n    }\n  });\n\n  // Select connection targets on connect\n  eventBus.on('connect.end', 500, function(event) {\n    var context = event.context,\n        connection = context.connection;\n\n    if (connection) {\n      selection.select(connection);\n    }\n  });\n\n  // Select shapes on move\n  eventBus.on('shape.move.end', 500, function(event) {\n    var previousSelection = event.previousSelection || [];\n\n    var shape = elementRegistry.get(event.context.shape.id);\n\n    // Always select main shape on move\n    var isSelected = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.find)(previousSelection, function(selectedShape) {\n      return shape.id === selectedShape.id;\n    });\n\n    if (!isSelected) {\n      selection.select(shape);\n    }\n  });\n\n  // Select elements on click\n  eventBus.on('element.click', function(event) {\n\n    if (!(0,_util_Mouse__WEBPACK_IMPORTED_MODULE_1__.isPrimaryButton)(event)) {\n      return;\n    }\n\n    var element = event.element;\n\n    if (element === canvas.getRootElement()) {\n      element = null;\n    }\n\n    var isSelected = selection.isSelected(element),\n        isMultiSelect = selection.get().length > 1;\n\n    // Add to selection if SHIFT pressed\n    var add = (0,_util_Mouse__WEBPACK_IMPORTED_MODULE_1__.hasSecondaryModifier)(event);\n\n    if (isSelected && isMultiSelect) {\n      if (add) {\n\n        // Deselect element\n        return selection.deselect(element);\n      } else {\n\n        // Select element only\n        return selection.select(element);\n      }\n    } else if (!isSelected) {\n\n      // Select element\n      selection.select(element, add);\n    } else {\n\n      // Deselect element\n      selection.deselect(element);\n    }\n  });\n}\n\nSelectionBehavior.$inject = [\n  'eventBus',\n  'selection',\n  'canvas',\n  'elementRegistry'\n];\n\n\nfunction isShown(element) {\n  return !element.hidden;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc2VsZWN0aW9uL1NlbGVjdGlvbkJlaGF2aW9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUcwQjs7QUFLUjs7QUFFbEI7QUFDQSxhQUFhLHFDQUFxQztBQUNsRCxhQUFhLDhDQUE4QztBQUMzRCxhQUFhLHVDQUF1QztBQUNwRCxhQUFhLCtCQUErQjtBQUM1Qzs7QUFFQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFdBQVc7QUFDdEIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsaUJBQWlCO0FBQzVCO0FBQ2U7O0FBRWY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVLGlEQUFPO0FBQ2pCO0FBQ0EsUUFBUTs7QUFFUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxxQkFBcUIsOENBQUk7QUFDekI7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQSxTQUFTLDREQUFlO0FBQ3hCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLGlFQUFvQjs7QUFFbEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTs7QUFFUjtBQUNBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9zZWxlY3Rpb24vU2VsZWN0aW9uQmVoYXZpb3IuanM/ZGQxNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBoYXNTZWNvbmRhcnlNb2RpZmllcixcbiAgaXNQcmltYXJ5QnV0dG9uXG59IGZyb20gJy4uLy4uL3V0aWwvTW91c2UnO1xuXG5pbXBvcnQge1xuICBmaW5kLFxuICBpc0FycmF5XG59IGZyb20gJ21pbi1kYXNoJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0NhbnZhcycpLmRlZmF1bHR9IENhbnZhc1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FbGVtZW50UmVnaXN0cnknKS5kZWZhdWx0fSBFbGVtZW50UmVnaXN0cnlcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi9TZWxlY3Rpb24nKS5kZWZhdWx0fSBTZWxlY3Rpb25cbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge1NlbGVjdGlvbn0gc2VsZWN0aW9uXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKiBAcGFyYW0ge0VsZW1lbnRSZWdpc3RyeX0gZWxlbWVudFJlZ2lzdHJ5XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNlbGVjdGlvbkJlaGF2aW9yKGV2ZW50QnVzLCBzZWxlY3Rpb24sIGNhbnZhcywgZWxlbWVudFJlZ2lzdHJ5KSB7XG5cbiAgLy8gU2VsZWN0IGVsZW1lbnRzIG9uIGNyZWF0ZVxuICBldmVudEJ1cy5vbignY3JlYXRlLmVuZCcsIDUwMCwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGNhbkV4ZWN1dGUgPSBjb250ZXh0LmNhbkV4ZWN1dGUsXG4gICAgICAgIGVsZW1lbnRzID0gY29udGV4dC5lbGVtZW50cyxcbiAgICAgICAgaGludHMgPSBjb250ZXh0LmhpbnRzIHx8IHt9LFxuICAgICAgICBhdXRvU2VsZWN0ID0gaGludHMuYXV0b1NlbGVjdDtcblxuICAgIGlmIChjYW5FeGVjdXRlKSB7XG4gICAgICBpZiAoYXV0b1NlbGVjdCA9PT0gZmFsc2UpIHtcblxuICAgICAgICAvLyBTZWxlY3Qgbm8gZWxlbWVudHNcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNBcnJheShhdXRvU2VsZWN0KSkge1xuICAgICAgICBzZWxlY3Rpb24uc2VsZWN0KGF1dG9TZWxlY3QpO1xuICAgICAgfSBlbHNlIHtcblxuICAgICAgICAvLyBTZWxlY3QgYWxsIGVsZW1lbnRzIGJ5IGRlZmF1bHRcbiAgICAgICAgc2VsZWN0aW9uLnNlbGVjdChlbGVtZW50cy5maWx0ZXIoaXNTaG93bikpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLy8gU2VsZWN0IGNvbm5lY3Rpb24gdGFyZ2V0cyBvbiBjb25uZWN0XG4gIGV2ZW50QnVzLm9uKCdjb25uZWN0LmVuZCcsIDUwMCwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGNvbm5lY3Rpb24gPSBjb250ZXh0LmNvbm5lY3Rpb247XG5cbiAgICBpZiAoY29ubmVjdGlvbikge1xuICAgICAgc2VsZWN0aW9uLnNlbGVjdChjb25uZWN0aW9uKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIFNlbGVjdCBzaGFwZXMgb24gbW92ZVxuICBldmVudEJ1cy5vbignc2hhcGUubW92ZS5lbmQnLCA1MDAsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIHByZXZpb3VzU2VsZWN0aW9uID0gZXZlbnQucHJldmlvdXNTZWxlY3Rpb24gfHwgW107XG5cbiAgICB2YXIgc2hhcGUgPSBlbGVtZW50UmVnaXN0cnkuZ2V0KGV2ZW50LmNvbnRleHQuc2hhcGUuaWQpO1xuXG4gICAgLy8gQWx3YXlzIHNlbGVjdCBtYWluIHNoYXBlIG9uIG1vdmVcbiAgICB2YXIgaXNTZWxlY3RlZCA9IGZpbmQocHJldmlvdXNTZWxlY3Rpb24sIGZ1bmN0aW9uKHNlbGVjdGVkU2hhcGUpIHtcbiAgICAgIHJldHVybiBzaGFwZS5pZCA9PT0gc2VsZWN0ZWRTaGFwZS5pZDtcbiAgICB9KTtcblxuICAgIGlmICghaXNTZWxlY3RlZCkge1xuICAgICAgc2VsZWN0aW9uLnNlbGVjdChzaGFwZSk7XG4gICAgfVxuICB9KTtcblxuICAvLyBTZWxlY3QgZWxlbWVudHMgb24gY2xpY2tcbiAgZXZlbnRCdXMub24oJ2VsZW1lbnQuY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgaWYgKCFpc1ByaW1hcnlCdXR0b24oZXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGVsZW1lbnQgPSBldmVudC5lbGVtZW50O1xuXG4gICAgaWYgKGVsZW1lbnQgPT09IGNhbnZhcy5nZXRSb290RWxlbWVudCgpKSB7XG4gICAgICBlbGVtZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgaXNTZWxlY3RlZCA9IHNlbGVjdGlvbi5pc1NlbGVjdGVkKGVsZW1lbnQpLFxuICAgICAgICBpc011bHRpU2VsZWN0ID0gc2VsZWN0aW9uLmdldCgpLmxlbmd0aCA+IDE7XG5cbiAgICAvLyBBZGQgdG8gc2VsZWN0aW9uIGlmIFNISUZUIHByZXNzZWRcbiAgICB2YXIgYWRkID0gaGFzU2Vjb25kYXJ5TW9kaWZpZXIoZXZlbnQpO1xuXG4gICAgaWYgKGlzU2VsZWN0ZWQgJiYgaXNNdWx0aVNlbGVjdCkge1xuICAgICAgaWYgKGFkZCkge1xuXG4gICAgICAgIC8vIERlc2VsZWN0IGVsZW1lbnRcbiAgICAgICAgcmV0dXJuIHNlbGVjdGlvbi5kZXNlbGVjdChlbGVtZW50KTtcbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgLy8gU2VsZWN0IGVsZW1lbnQgb25seVxuICAgICAgICByZXR1cm4gc2VsZWN0aW9uLnNlbGVjdChlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFpc1NlbGVjdGVkKSB7XG5cbiAgICAgIC8vIFNlbGVjdCBlbGVtZW50XG4gICAgICBzZWxlY3Rpb24uc2VsZWN0KGVsZW1lbnQsIGFkZCk7XG4gICAgfSBlbHNlIHtcblxuICAgICAgLy8gRGVzZWxlY3QgZWxlbWVudFxuICAgICAgc2VsZWN0aW9uLmRlc2VsZWN0KGVsZW1lbnQpO1xuICAgIH1cbiAgfSk7XG59XG5cblNlbGVjdGlvbkJlaGF2aW9yLiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdzZWxlY3Rpb24nLFxuICAnY2FudmFzJyxcbiAgJ2VsZW1lbnRSZWdpc3RyeSdcbl07XG5cblxuZnVuY3Rpb24gaXNTaG93bihlbGVtZW50KSB7XG4gIHJldHVybiAhZWxlbWVudC5oaWRkZW47XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/selection/SelectionBehavior.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/selection/SelectionVisuals.js":
/*!****************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/selection/SelectionVisuals.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SelectionVisuals)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n */\n\nvar MARKER_HOVER = 'hover',\n    MARKER_SELECTED = 'selected';\n\n/**\n * A plugin that adds a visible selection UI to shapes and connections\n * by appending the <code>hover</code> and <code>selected</code> classes to them.\n *\n * @class\n *\n * Makes elements selectable, too.\n *\n * @param {Canvas} canvas\n * @param {EventBus} eventBus\n */\nfunction SelectionVisuals(canvas, eventBus) {\n  this._canvas = canvas;\n\n  function addMarker(e, cls) {\n    canvas.addMarker(e, cls);\n  }\n\n  function removeMarker(e, cls) {\n    canvas.removeMarker(e, cls);\n  }\n\n  eventBus.on('element.hover', function(event) {\n    addMarker(event.element, MARKER_HOVER);\n  });\n\n  eventBus.on('element.out', function(event) {\n    removeMarker(event.element, MARKER_HOVER);\n  });\n\n  eventBus.on('selection.changed', function(event) {\n\n    function deselect(s) {\n      removeMarker(s, MARKER_SELECTED);\n    }\n\n    function select(s) {\n      addMarker(s, MARKER_SELECTED);\n    }\n\n    var oldSelection = event.oldSelection,\n        newSelection = event.newSelection;\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(oldSelection, function(e) {\n      if (newSelection.indexOf(e) === -1) {\n        deselect(e);\n      }\n    });\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(newSelection, function(e) {\n      if (oldSelection.indexOf(e) === -1) {\n        select(e);\n      }\n    });\n  });\n}\n\nSelectionVisuals.$inject = [\n  'canvas',\n  'eventBus'\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc2VsZWN0aW9uL1NlbGVjdGlvblZpc3VhbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFa0I7O0FBRWxCO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQsYUFBYSx1Q0FBdUM7QUFDcEQ7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQjtBQUNlO0FBQ2Y7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsSUFBSSxpREFBTztBQUNYO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUwsSUFBSSxpREFBTztBQUNYO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc2VsZWN0aW9uL1NlbGVjdGlvblZpc3VhbHMuanM/MWUxZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBmb3JFYWNoXG59IGZyb20gJ21pbi1kYXNoJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0NhbnZhcycpLmRlZmF1bHR9IENhbnZhc1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKi9cblxudmFyIE1BUktFUl9IT1ZFUiA9ICdob3ZlcicsXG4gICAgTUFSS0VSX1NFTEVDVEVEID0gJ3NlbGVjdGVkJztcblxuLyoqXG4gKiBBIHBsdWdpbiB0aGF0IGFkZHMgYSB2aXNpYmxlIHNlbGVjdGlvbiBVSSB0byBzaGFwZXMgYW5kIGNvbm5lY3Rpb25zXG4gKiBieSBhcHBlbmRpbmcgdGhlIDxjb2RlPmhvdmVyPC9jb2RlPiBhbmQgPGNvZGU+c2VsZWN0ZWQ8L2NvZGU+IGNsYXNzZXMgdG8gdGhlbS5cbiAqXG4gKiBAY2xhc3NcbiAqXG4gKiBNYWtlcyBlbGVtZW50cyBzZWxlY3RhYmxlLCB0b28uXG4gKlxuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2VsZWN0aW9uVmlzdWFscyhjYW52YXMsIGV2ZW50QnVzKSB7XG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcblxuICBmdW5jdGlvbiBhZGRNYXJrZXIoZSwgY2xzKSB7XG4gICAgY2FudmFzLmFkZE1hcmtlcihlLCBjbHMpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlTWFya2VyKGUsIGNscykge1xuICAgIGNhbnZhcy5yZW1vdmVNYXJrZXIoZSwgY2xzKTtcbiAgfVxuXG4gIGV2ZW50QnVzLm9uKCdlbGVtZW50LmhvdmVyJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBhZGRNYXJrZXIoZXZlbnQuZWxlbWVudCwgTUFSS0VSX0hPVkVSKTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ2VsZW1lbnQub3V0JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICByZW1vdmVNYXJrZXIoZXZlbnQuZWxlbWVudCwgTUFSS0VSX0hPVkVSKTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ3NlbGVjdGlvbi5jaGFuZ2VkJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIGZ1bmN0aW9uIGRlc2VsZWN0KHMpIHtcbiAgICAgIHJlbW92ZU1hcmtlcihzLCBNQVJLRVJfU0VMRUNURUQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNlbGVjdChzKSB7XG4gICAgICBhZGRNYXJrZXIocywgTUFSS0VSX1NFTEVDVEVEKTtcbiAgICB9XG5cbiAgICB2YXIgb2xkU2VsZWN0aW9uID0gZXZlbnQub2xkU2VsZWN0aW9uLFxuICAgICAgICBuZXdTZWxlY3Rpb24gPSBldmVudC5uZXdTZWxlY3Rpb247XG5cbiAgICBmb3JFYWNoKG9sZFNlbGVjdGlvbiwgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKG5ld1NlbGVjdGlvbi5pbmRleE9mKGUpID09PSAtMSkge1xuICAgICAgICBkZXNlbGVjdChlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZvckVhY2gobmV3U2VsZWN0aW9uLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAob2xkU2VsZWN0aW9uLmluZGV4T2YoZSkgPT09IC0xKSB7XG4gICAgICAgIHNlbGVjdChlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cblNlbGVjdGlvblZpc3VhbHMuJGluamVjdCA9IFtcbiAgJ2NhbnZhcycsXG4gICdldmVudEJ1cydcbl07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/selection/SelectionVisuals.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/selection/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/selection/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _interaction_events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../interaction-events */ \"(ssr)/./node_modules/diagram-js/lib/features/interaction-events/index.js\");\n/* harmony import */ var _Selection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Selection */ \"(ssr)/./node_modules/diagram-js/lib/features/selection/Selection.js\");\n/* harmony import */ var _SelectionVisuals__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SelectionVisuals */ \"(ssr)/./node_modules/diagram-js/lib/features/selection/SelectionVisuals.js\");\n/* harmony import */ var _SelectionBehavior__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SelectionBehavior */ \"(ssr)/./node_modules/diagram-js/lib/features/selection/SelectionBehavior.js\");\n\n\n\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [ 'selectionVisuals', 'selectionBehavior' ],\n  __depends__: [\n    _interaction_events__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  ],\n  selection: [ 'type', _Selection__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ],\n  selectionVisuals: [ 'type', _SelectionVisuals__WEBPACK_IMPORTED_MODULE_2__[\"default\"] ],\n  selectionBehavior: [ 'type', _SelectionBehavior__WEBPACK_IMPORTED_MODULE_3__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc2VsZWN0aW9uL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTREOztBQUV4QjtBQUNjO0FBQ0U7OztBQUdwRDtBQUNBLFdBQVc7QUFDWDtBQUNBLGlFQUFlO0FBQ2Y7QUFDQTtBQUNBLElBQUksMkRBQXVCO0FBQzNCO0FBQ0EsdUJBQXVCLGtEQUFTO0FBQ2hDLDhCQUE4Qix5REFBZ0I7QUFDOUMsK0JBQStCLDBEQUFpQjtBQUNoRCxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc2VsZWN0aW9uL2luZGV4LmpzP2JiYzciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEludGVyYWN0aW9uRXZlbnRzTW9kdWxlIGZyb20gJy4uL2ludGVyYWN0aW9uLWV2ZW50cyc7XG5cbmltcG9ydCBTZWxlY3Rpb24gZnJvbSAnLi9TZWxlY3Rpb24nO1xuaW1wb3J0IFNlbGVjdGlvblZpc3VhbHMgZnJvbSAnLi9TZWxlY3Rpb25WaXN1YWxzJztcbmltcG9ydCBTZWxlY3Rpb25CZWhhdmlvciBmcm9tICcuL1NlbGVjdGlvbkJlaGF2aW9yJztcblxuXG4vKipcbiAqIEB0eXBlIHsgaW1wb3J0KCdkaWRpJykuTW9kdWxlRGVjbGFyYXRpb24gfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICdzZWxlY3Rpb25WaXN1YWxzJywgJ3NlbGVjdGlvbkJlaGF2aW9yJyBdLFxuICBfX2RlcGVuZHNfXzogW1xuICAgIEludGVyYWN0aW9uRXZlbnRzTW9kdWxlLFxuICBdLFxuICBzZWxlY3Rpb246IFsgJ3R5cGUnLCBTZWxlY3Rpb24gXSxcbiAgc2VsZWN0aW9uVmlzdWFsczogWyAndHlwZScsIFNlbGVjdGlvblZpc3VhbHMgXSxcbiAgc2VsZWN0aW9uQmVoYXZpb3I6IFsgJ3R5cGUnLCBTZWxlY3Rpb25CZWhhdmlvciBdXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/selection/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/snapping/CreateMoveSnapping.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/snapping/CreateMoveSnapping.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CreateMoveSnapping)\n/* harmony export */ });\n/* harmony import */ var _SnapContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SnapContext */ \"(ssr)/./node_modules/diagram-js/lib/features/snapping/SnapContext.js\");\n/* harmony import */ var _SnapUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SnapUtil */ \"(ssr)/./node_modules/diagram-js/lib/features/snapping/SnapUtil.js\");\n/* harmony import */ var _keyboard_KeyboardUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../keyboard/KeyboardUtil */ \"(ssr)/./node_modules/diagram-js/lib/features/keyboard/KeyboardUtil.js\");\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/ModelUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/ModelUtil.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\r\n * @typedef {import('../../core/EventBus').default} EventBus\r\n * @typedef {import('./Snapping').default} Snapping\r\n */\r\n\r\nvar HIGHER_PRIORITY = 1250;\r\n\r\n\r\n/**\r\n * Snap during create and move.\r\n *\r\n * @param {ElementRegistry} elementRegistry\r\n * @param {EventBus} eventBus\r\n * @param {Snapping} snapping\r\n */\r\nfunction CreateMoveSnapping(elementRegistry, eventBus, snapping) {\r\n  var self = this;\r\n\r\n  this._elementRegistry = elementRegistry;\r\n\r\n  eventBus.on([\r\n    'create.start',\r\n    'shape.move.start'\r\n  ], function(event) {\r\n    self.initSnap(event);\r\n  });\r\n\r\n  eventBus.on([\r\n    'create.move',\r\n    'create.end',\r\n    'shape.move.move',\r\n    'shape.move.end'\r\n  ], HIGHER_PRIORITY, function(event) {\r\n    var context = event.context,\r\n        shape = context.shape,\r\n        snapContext = context.snapContext,\r\n        target = context.target;\r\n\r\n    if (event.originalEvent && (0,_keyboard_KeyboardUtil__WEBPACK_IMPORTED_MODULE_0__.isCmd)(event.originalEvent)) {\r\n      return;\r\n    }\r\n\r\n    if ((0,_SnapUtil__WEBPACK_IMPORTED_MODULE_1__.isSnapped)(event) || !target) {\r\n      return;\r\n    }\r\n\r\n    var snapPoints = snapContext.pointsForTarget(target);\r\n\r\n    if (!snapPoints.initialized) {\r\n      snapPoints = self.addSnapTargetPoints(snapPoints, shape, target);\r\n\r\n      snapPoints.initialized = true;\r\n    }\r\n\r\n    snapping.snap(event, snapPoints);\r\n  });\r\n\r\n  eventBus.on([\r\n    'create.cleanup',\r\n    'shape.move.cleanup'\r\n  ], function() {\r\n    snapping.hide();\r\n  });\r\n}\r\n\r\nCreateMoveSnapping.$inject = [\r\n  'elementRegistry',\r\n  'eventBus',\r\n  'snapping'\r\n];\r\n\r\nCreateMoveSnapping.prototype.initSnap = function(event) {\r\n  var elementRegistry = this._elementRegistry;\r\n\r\n  var context = event.context,\r\n      shape = context.shape,\r\n      snapContext = context.snapContext;\r\n\r\n  if (!snapContext) {\r\n    snapContext = context.snapContext = new _SnapContext__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\r\n  }\r\n\r\n  var shapeMid;\r\n\r\n  if (elementRegistry.get(shape.id)) {\r\n\r\n    // move\r\n    shapeMid = (0,_SnapUtil__WEBPACK_IMPORTED_MODULE_1__.mid)(shape, event);\r\n  } else {\r\n\r\n    // create\r\n    shapeMid = {\r\n      x: event.x + (0,_SnapUtil__WEBPACK_IMPORTED_MODULE_1__.mid)(shape).x,\r\n      y: event.y + (0,_SnapUtil__WEBPACK_IMPORTED_MODULE_1__.mid)(shape).y\r\n    };\r\n  }\r\n\r\n  var shapeTopLeft = {\r\n        x: shapeMid.x - shape.width / 2,\r\n        y: shapeMid.y - shape.height / 2\r\n      },\r\n      shapeBottomRight = {\r\n        x: shapeMid.x + shape.width / 2,\r\n        y: shapeMid.y + shape.height / 2\r\n      };\r\n\r\n  snapContext.setSnapOrigin('mid', {\r\n    x: shapeMid.x - event.x,\r\n    y: shapeMid.y - event.y\r\n  });\r\n\r\n  // snap labels to mid only\r\n  if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_3__.isLabel)(shape)) {\r\n    return snapContext;\r\n  }\r\n\r\n  snapContext.setSnapOrigin('top-left', {\r\n    x: shapeTopLeft.x - event.x,\r\n    y: shapeTopLeft.y - event.y\r\n  });\r\n\r\n  snapContext.setSnapOrigin('bottom-right', {\r\n    x: shapeBottomRight.x - event.x,\r\n    y: shapeBottomRight.y - event.y\r\n  });\r\n\r\n  return snapContext;\r\n};\r\n\r\nCreateMoveSnapping.prototype.addSnapTargetPoints = function(snapPoints, shape, target) {\r\n  var snapTargets = this.getSnapTargets(shape, target);\r\n\r\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_4__.forEach)(snapTargets, function(snapTarget) {\r\n\r\n    // handle labels\r\n    if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_3__.isLabel)(snapTarget)) {\r\n\r\n      if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_3__.isLabel)(shape)) {\r\n        snapPoints.add('mid', (0,_SnapUtil__WEBPACK_IMPORTED_MODULE_1__.mid)(snapTarget));\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    // handle connections\r\n    if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_3__.isConnection)(snapTarget)) {\r\n\r\n      // ignore single segment connections\r\n      if (snapTarget.waypoints.length < 3) {\r\n        return;\r\n      }\r\n\r\n      // ignore first and last waypoint\r\n      var waypoints = snapTarget.waypoints.slice(1, -1);\r\n\r\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_4__.forEach)(waypoints, function(waypoint) {\r\n        snapPoints.add('mid', waypoint);\r\n      });\r\n\r\n      return;\r\n    }\r\n\r\n    // handle shapes\r\n    snapPoints.add('mid', (0,_SnapUtil__WEBPACK_IMPORTED_MODULE_1__.mid)(snapTarget));\r\n  });\r\n\r\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_4__.isNumber)(shape.x) || !(0,min_dash__WEBPACK_IMPORTED_MODULE_4__.isNumber)(shape.y)) {\r\n    return snapPoints;\r\n  }\r\n\r\n  // snap to original position when moving\r\n  if (this._elementRegistry.get(shape.id)) {\r\n    snapPoints.add('mid', (0,_SnapUtil__WEBPACK_IMPORTED_MODULE_1__.mid)(shape));\r\n  }\r\n\r\n  return snapPoints;\r\n};\r\n\r\nCreateMoveSnapping.prototype.getSnapTargets = function(shape, target) {\r\n  return (0,_SnapUtil__WEBPACK_IMPORTED_MODULE_1__.getChildren)(target).filter(function(child) {\r\n    return !isHidden(child);\r\n  });\r\n};\r\n\r\n// helpers //////////\r\n\r\nfunction isHidden(element) {\r\n  return !!element.hidden;\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc25hcHBpbmcvQ3JlYXRlTW92ZVNuYXBwaW5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF3QztBQUN4QztBQUtvQjtBQUNwQjtBQUNpRDtBQUNqRDtBQUlrQjtBQUNsQjtBQUk4QjtBQUM5QjtBQUNBO0FBQ0EsYUFBYSw4Q0FBOEM7QUFDM0QsYUFBYSx1Q0FBdUM7QUFDcEQsYUFBYSw4QkFBOEI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCLFdBQVcsVUFBVTtBQUNyQixXQUFXLFVBQVU7QUFDckI7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsNkRBQUs7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvREFBUztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLG9EQUFXO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw4Q0FBRztBQUNsQixJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDhDQUFHO0FBQ3RCLG1CQUFtQiw4Q0FBRztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsTUFBTSx3REFBTztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsaURBQU87QUFDVDtBQUNBO0FBQ0EsUUFBUSx3REFBTztBQUNmO0FBQ0EsVUFBVSx3REFBTztBQUNqQiw4QkFBOEIsOENBQUc7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw2REFBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLGlEQUFPO0FBQ2I7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw4Q0FBRztBQUM3QixHQUFHO0FBQ0g7QUFDQSxPQUFPLGtEQUFRLGNBQWMsa0RBQVE7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw4Q0FBRztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHNEQUFXO0FBQ3BCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NuYXBwaW5nL0NyZWF0ZU1vdmVTbmFwcGluZy5qcz8xN2RkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTbmFwQ29udGV4dCBmcm9tICcuL1NuYXBDb250ZXh0JztcclxuXHJcbmltcG9ydCB7XHJcbiAgZ2V0Q2hpbGRyZW4sXHJcbiAgaXNTbmFwcGVkLFxyXG4gIG1pZFxyXG59IGZyb20gJy4vU25hcFV0aWwnO1xyXG5cclxuaW1wb3J0IHsgaXNDbWQgfSBmcm9tICcuLi9rZXlib2FyZC9LZXlib2FyZFV0aWwnO1xyXG5cclxuaW1wb3J0IHtcclxuICBmb3JFYWNoLFxyXG4gIGlzTnVtYmVyXHJcbn0gZnJvbSAnbWluLWRhc2gnO1xyXG5cclxuaW1wb3J0IHtcclxuICBpc0Nvbm5lY3Rpb24sXHJcbiAgaXNMYWJlbFxyXG59IGZyb20gJy4uLy4uL3V0aWwvTW9kZWxVdGlsJztcclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0VsZW1lbnRSZWdpc3RyeScpLmRlZmF1bHR9IEVsZW1lbnRSZWdpc3RyeVxyXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcclxuICogQHR5cGVkZWYge2ltcG9ydCgnLi9TbmFwcGluZycpLmRlZmF1bHR9IFNuYXBwaW5nXHJcbiAqL1xyXG5cclxudmFyIEhJR0hFUl9QUklPUklUWSA9IDEyNTA7XHJcblxyXG5cclxuLyoqXHJcbiAqIFNuYXAgZHVyaW5nIGNyZWF0ZSBhbmQgbW92ZS5cclxuICpcclxuICogQHBhcmFtIHtFbGVtZW50UmVnaXN0cnl9IGVsZW1lbnRSZWdpc3RyeVxyXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xyXG4gKiBAcGFyYW0ge1NuYXBwaW5nfSBzbmFwcGluZ1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ3JlYXRlTW92ZVNuYXBwaW5nKGVsZW1lbnRSZWdpc3RyeSwgZXZlbnRCdXMsIHNuYXBwaW5nKSB7XHJcbiAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICB0aGlzLl9lbGVtZW50UmVnaXN0cnkgPSBlbGVtZW50UmVnaXN0cnk7XHJcblxyXG4gIGV2ZW50QnVzLm9uKFtcclxuICAgICdjcmVhdGUuc3RhcnQnLFxyXG4gICAgJ3NoYXBlLm1vdmUuc3RhcnQnXHJcbiAgXSwgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgIHNlbGYuaW5pdFNuYXAoZXZlbnQpO1xyXG4gIH0pO1xyXG5cclxuICBldmVudEJ1cy5vbihbXHJcbiAgICAnY3JlYXRlLm1vdmUnLFxyXG4gICAgJ2NyZWF0ZS5lbmQnLFxyXG4gICAgJ3NoYXBlLm1vdmUubW92ZScsXHJcbiAgICAnc2hhcGUubW92ZS5lbmQnXHJcbiAgXSwgSElHSEVSX1BSSU9SSVRZLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxyXG4gICAgICAgIHNoYXBlID0gY29udGV4dC5zaGFwZSxcclxuICAgICAgICBzbmFwQ29udGV4dCA9IGNvbnRleHQuc25hcENvbnRleHQsXHJcbiAgICAgICAgdGFyZ2V0ID0gY29udGV4dC50YXJnZXQ7XHJcblxyXG4gICAgaWYgKGV2ZW50Lm9yaWdpbmFsRXZlbnQgJiYgaXNDbWQoZXZlbnQub3JpZ2luYWxFdmVudCkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc1NuYXBwZWQoZXZlbnQpIHx8ICF0YXJnZXQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBzbmFwUG9pbnRzID0gc25hcENvbnRleHQucG9pbnRzRm9yVGFyZ2V0KHRhcmdldCk7XHJcblxyXG4gICAgaWYgKCFzbmFwUG9pbnRzLmluaXRpYWxpemVkKSB7XHJcbiAgICAgIHNuYXBQb2ludHMgPSBzZWxmLmFkZFNuYXBUYXJnZXRQb2ludHMoc25hcFBvaW50cywgc2hhcGUsIHRhcmdldCk7XHJcblxyXG4gICAgICBzbmFwUG9pbnRzLmluaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBzbmFwcGluZy5zbmFwKGV2ZW50LCBzbmFwUG9pbnRzKTtcclxuICB9KTtcclxuXHJcbiAgZXZlbnRCdXMub24oW1xyXG4gICAgJ2NyZWF0ZS5jbGVhbnVwJyxcclxuICAgICdzaGFwZS5tb3ZlLmNsZWFudXAnXHJcbiAgXSwgZnVuY3Rpb24oKSB7XHJcbiAgICBzbmFwcGluZy5oaWRlKCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbkNyZWF0ZU1vdmVTbmFwcGluZy4kaW5qZWN0ID0gW1xyXG4gICdlbGVtZW50UmVnaXN0cnknLFxyXG4gICdldmVudEJ1cycsXHJcbiAgJ3NuYXBwaW5nJ1xyXG5dO1xyXG5cclxuQ3JlYXRlTW92ZVNuYXBwaW5nLnByb3RvdHlwZS5pbml0U25hcCA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgdmFyIGVsZW1lbnRSZWdpc3RyeSA9IHRoaXMuX2VsZW1lbnRSZWdpc3RyeTtcclxuXHJcbiAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxyXG4gICAgICBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXHJcbiAgICAgIHNuYXBDb250ZXh0ID0gY29udGV4dC5zbmFwQ29udGV4dDtcclxuXHJcbiAgaWYgKCFzbmFwQ29udGV4dCkge1xyXG4gICAgc25hcENvbnRleHQgPSBjb250ZXh0LnNuYXBDb250ZXh0ID0gbmV3IFNuYXBDb250ZXh0KCk7XHJcbiAgfVxyXG5cclxuICB2YXIgc2hhcGVNaWQ7XHJcblxyXG4gIGlmIChlbGVtZW50UmVnaXN0cnkuZ2V0KHNoYXBlLmlkKSkge1xyXG5cclxuICAgIC8vIG1vdmVcclxuICAgIHNoYXBlTWlkID0gbWlkKHNoYXBlLCBldmVudCk7XHJcbiAgfSBlbHNlIHtcclxuXHJcbiAgICAvLyBjcmVhdGVcclxuICAgIHNoYXBlTWlkID0ge1xyXG4gICAgICB4OiBldmVudC54ICsgbWlkKHNoYXBlKS54LFxyXG4gICAgICB5OiBldmVudC55ICsgbWlkKHNoYXBlKS55XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgdmFyIHNoYXBlVG9wTGVmdCA9IHtcclxuICAgICAgICB4OiBzaGFwZU1pZC54IC0gc2hhcGUud2lkdGggLyAyLFxyXG4gICAgICAgIHk6IHNoYXBlTWlkLnkgLSBzaGFwZS5oZWlnaHQgLyAyXHJcbiAgICAgIH0sXHJcbiAgICAgIHNoYXBlQm90dG9tUmlnaHQgPSB7XHJcbiAgICAgICAgeDogc2hhcGVNaWQueCArIHNoYXBlLndpZHRoIC8gMixcclxuICAgICAgICB5OiBzaGFwZU1pZC55ICsgc2hhcGUuaGVpZ2h0IC8gMlxyXG4gICAgICB9O1xyXG5cclxuICBzbmFwQ29udGV4dC5zZXRTbmFwT3JpZ2luKCdtaWQnLCB7XHJcbiAgICB4OiBzaGFwZU1pZC54IC0gZXZlbnQueCxcclxuICAgIHk6IHNoYXBlTWlkLnkgLSBldmVudC55XHJcbiAgfSk7XHJcblxyXG4gIC8vIHNuYXAgbGFiZWxzIHRvIG1pZCBvbmx5XHJcbiAgaWYgKGlzTGFiZWwoc2hhcGUpKSB7XHJcbiAgICByZXR1cm4gc25hcENvbnRleHQ7XHJcbiAgfVxyXG5cclxuICBzbmFwQ29udGV4dC5zZXRTbmFwT3JpZ2luKCd0b3AtbGVmdCcsIHtcclxuICAgIHg6IHNoYXBlVG9wTGVmdC54IC0gZXZlbnQueCxcclxuICAgIHk6IHNoYXBlVG9wTGVmdC55IC0gZXZlbnQueVxyXG4gIH0pO1xyXG5cclxuICBzbmFwQ29udGV4dC5zZXRTbmFwT3JpZ2luKCdib3R0b20tcmlnaHQnLCB7XHJcbiAgICB4OiBzaGFwZUJvdHRvbVJpZ2h0LnggLSBldmVudC54LFxyXG4gICAgeTogc2hhcGVCb3R0b21SaWdodC55IC0gZXZlbnQueVxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gc25hcENvbnRleHQ7XHJcbn07XHJcblxyXG5DcmVhdGVNb3ZlU25hcHBpbmcucHJvdG90eXBlLmFkZFNuYXBUYXJnZXRQb2ludHMgPSBmdW5jdGlvbihzbmFwUG9pbnRzLCBzaGFwZSwgdGFyZ2V0KSB7XHJcbiAgdmFyIHNuYXBUYXJnZXRzID0gdGhpcy5nZXRTbmFwVGFyZ2V0cyhzaGFwZSwgdGFyZ2V0KTtcclxuXHJcbiAgZm9yRWFjaChzbmFwVGFyZ2V0cywgZnVuY3Rpb24oc25hcFRhcmdldCkge1xyXG5cclxuICAgIC8vIGhhbmRsZSBsYWJlbHNcclxuICAgIGlmIChpc0xhYmVsKHNuYXBUYXJnZXQpKSB7XHJcblxyXG4gICAgICBpZiAoaXNMYWJlbChzaGFwZSkpIHtcclxuICAgICAgICBzbmFwUG9pbnRzLmFkZCgnbWlkJywgbWlkKHNuYXBUYXJnZXQpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGhhbmRsZSBjb25uZWN0aW9uc1xyXG4gICAgaWYgKGlzQ29ubmVjdGlvbihzbmFwVGFyZ2V0KSkge1xyXG5cclxuICAgICAgLy8gaWdub3JlIHNpbmdsZSBzZWdtZW50IGNvbm5lY3Rpb25zXHJcbiAgICAgIGlmIChzbmFwVGFyZ2V0LndheXBvaW50cy5sZW5ndGggPCAzKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBpZ25vcmUgZmlyc3QgYW5kIGxhc3Qgd2F5cG9pbnRcclxuICAgICAgdmFyIHdheXBvaW50cyA9IHNuYXBUYXJnZXQud2F5cG9pbnRzLnNsaWNlKDEsIC0xKTtcclxuXHJcbiAgICAgIGZvckVhY2god2F5cG9pbnRzLCBmdW5jdGlvbih3YXlwb2ludCkge1xyXG4gICAgICAgIHNuYXBQb2ludHMuYWRkKCdtaWQnLCB3YXlwb2ludCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGhhbmRsZSBzaGFwZXNcclxuICAgIHNuYXBQb2ludHMuYWRkKCdtaWQnLCBtaWQoc25hcFRhcmdldCkpO1xyXG4gIH0pO1xyXG5cclxuICBpZiAoIWlzTnVtYmVyKHNoYXBlLngpIHx8ICFpc051bWJlcihzaGFwZS55KSkge1xyXG4gICAgcmV0dXJuIHNuYXBQb2ludHM7XHJcbiAgfVxyXG5cclxuICAvLyBzbmFwIHRvIG9yaWdpbmFsIHBvc2l0aW9uIHdoZW4gbW92aW5nXHJcbiAgaWYgKHRoaXMuX2VsZW1lbnRSZWdpc3RyeS5nZXQoc2hhcGUuaWQpKSB7XHJcbiAgICBzbmFwUG9pbnRzLmFkZCgnbWlkJywgbWlkKHNoYXBlKSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gc25hcFBvaW50cztcclxufTtcclxuXHJcbkNyZWF0ZU1vdmVTbmFwcGluZy5wcm90b3R5cGUuZ2V0U25hcFRhcmdldHMgPSBmdW5jdGlvbihzaGFwZSwgdGFyZ2V0KSB7XHJcbiAgcmV0dXJuIGdldENoaWxkcmVuKHRhcmdldCkuZmlsdGVyKGZ1bmN0aW9uKGNoaWxkKSB7XHJcbiAgICByZXR1cm4gIWlzSGlkZGVuKGNoaWxkKTtcclxuICB9KTtcclxufTtcclxuXHJcbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xyXG5cclxuZnVuY3Rpb24gaXNIaWRkZW4oZWxlbWVudCkge1xyXG4gIHJldHVybiAhIWVsZW1lbnQuaGlkZGVuO1xyXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/snapping/CreateMoveSnapping.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/snapping/ResizeSnapping.js":
/*!*************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/snapping/ResizeSnapping.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ResizeSnapping)\n/* harmony export */ });\n/* harmony import */ var _SnapContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SnapContext */ \"(ssr)/./node_modules/diagram-js/lib/features/snapping/SnapContext.js\");\n/* harmony import */ var _SnapUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SnapUtil */ \"(ssr)/./node_modules/diagram-js/lib/features/snapping/SnapUtil.js\");\n/* harmony import */ var _keyboard_KeyboardUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../keyboard/KeyboardUtil */ \"(ssr)/./node_modules/diagram-js/lib/features/keyboard/KeyboardUtil.js\");\n/* harmony import */ var _layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../layout/LayoutUtil */ \"(ssr)/./node_modules/diagram-js/lib/layout/LayoutUtil.js\");\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/ModelUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/ModelUtil.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @typedef {import('../../core/EventBus').default} EventBus\r\n * @typedef {import('./Snapping').default} Snapping\r\n */\r\n\r\nvar HIGHER_PRIORITY = 1250;\r\n\r\n\r\n/**\r\n * Snap during resize.\r\n *\r\n * @param {EventBus} eventBus\r\n * @param {Snapping} snapping\r\n */\r\nfunction ResizeSnapping(eventBus, snapping) {\r\n  var self = this;\r\n\r\n  eventBus.on([ 'resize.start' ], function(event) {\r\n    self.initSnap(event);\r\n  });\r\n\r\n  eventBus.on([\r\n    'resize.move',\r\n    'resize.end',\r\n  ], HIGHER_PRIORITY, function(event) {\r\n    var context = event.context,\r\n        shape = context.shape,\r\n        parent = shape.parent,\r\n        direction = context.direction,\r\n        snapContext = context.snapContext;\r\n\r\n    if (event.originalEvent && (0,_keyboard_KeyboardUtil__WEBPACK_IMPORTED_MODULE_0__.isCmd)(event.originalEvent)) {\r\n      return;\r\n    }\r\n\r\n    if ((0,_SnapUtil__WEBPACK_IMPORTED_MODULE_1__.isSnapped)(event)) {\r\n      return;\r\n    }\r\n\r\n    var snapPoints = snapContext.pointsForTarget(parent);\r\n\r\n    if (!snapPoints.initialized) {\r\n      snapPoints = self.addSnapTargetPoints(snapPoints, shape, parent, direction);\r\n\r\n      snapPoints.initialized = true;\r\n    }\r\n\r\n    if (isHorizontal(direction)) {\r\n      (0,_SnapUtil__WEBPACK_IMPORTED_MODULE_1__.setSnapped)(event, 'x', event.x);\r\n    }\r\n\r\n    if (isVertical(direction)) {\r\n      (0,_SnapUtil__WEBPACK_IMPORTED_MODULE_1__.setSnapped)(event, 'y', event.y);\r\n    }\r\n\r\n    snapping.snap(event, snapPoints);\r\n  });\r\n\r\n  eventBus.on([ 'resize.cleanup' ], function() {\r\n    snapping.hide();\r\n  });\r\n}\r\n\r\nResizeSnapping.prototype.initSnap = function(event) {\r\n  var context = event.context,\r\n      shape = context.shape,\r\n      direction = context.direction,\r\n      snapContext = context.snapContext;\r\n\r\n  if (!snapContext) {\r\n    snapContext = context.snapContext = new _SnapContext__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\r\n  }\r\n\r\n  var snapOrigin = getSnapOrigin(shape, direction);\r\n\r\n  snapContext.setSnapOrigin('corner', {\r\n    x: snapOrigin.x - event.x,\r\n    y: snapOrigin.y - event.y\r\n  });\r\n\r\n  return snapContext;\r\n};\r\n\r\nResizeSnapping.prototype.addSnapTargetPoints = function(snapPoints, shape, target, direction) {\r\n  var snapTargets = this.getSnapTargets(shape, target);\r\n\r\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.forEach)(snapTargets, function(snapTarget) {\r\n    snapPoints.add('corner', (0,_SnapUtil__WEBPACK_IMPORTED_MODULE_1__.bottomRight)(snapTarget));\r\n    snapPoints.add('corner', (0,_SnapUtil__WEBPACK_IMPORTED_MODULE_1__.topLeft)(snapTarget));\r\n  });\r\n\r\n  snapPoints.add('corner', getSnapOrigin(shape, direction));\r\n\r\n  return snapPoints;\r\n};\r\n\r\nResizeSnapping.$inject = [\r\n  'eventBus',\r\n  'snapping'\r\n];\r\n\r\nResizeSnapping.prototype.getSnapTargets = function(shape, target) {\r\n  return (0,_SnapUtil__WEBPACK_IMPORTED_MODULE_1__.getChildren)(target).filter(function(child) {\r\n    return !isAttached(child, shape)\r\n      && !(0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_4__.isConnection)(child)\r\n      && !isHidden(child)\r\n      && !(0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_4__.isLabel)(child);\r\n  });\r\n};\r\n\r\n// helpers //////////\r\n\r\nfunction getSnapOrigin(shape, direction) {\r\n  var mid = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_5__.getMid)(shape),\r\n      trbl = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_5__.asTRBL)(shape);\r\n\r\n  var snapOrigin = {\r\n    x: mid.x,\r\n    y: mid.y\r\n  };\r\n\r\n  if (direction.indexOf('n') !== -1) {\r\n    snapOrigin.y = trbl.top;\r\n  } else if (direction.indexOf('s') !== -1) {\r\n    snapOrigin.y = trbl.bottom;\r\n  }\r\n\r\n  if (direction.indexOf('e') !== -1) {\r\n    snapOrigin.x = trbl.right;\r\n  } else if (direction.indexOf('w') !== -1) {\r\n    snapOrigin.x = trbl.left;\r\n  }\r\n\r\n  return snapOrigin;\r\n}\r\n\r\nfunction isAttached(element, host) {\r\n  return element.host === host;\r\n}\r\n\r\nfunction isHidden(element) {\r\n  return !!element.hidden;\r\n}\r\n\r\nfunction isHorizontal(direction) {\r\n  return direction === 'n' || direction === 's';\r\n}\r\n\r\nfunction isVertical(direction) {\r\n  return direction === 'e' || direction === 'w';\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc25hcHBpbmcvUmVzaXplU25hcHBpbmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUF3QztBQUN4QztBQU9vQjtBQUNwQjtBQUNpRDtBQUNqRDtBQUlpQztBQUNqQztBQUNtQztBQUNuQztBQUk4QjtBQUM5QjtBQUNBO0FBQ0EsYUFBYSx1Q0FBdUM7QUFDcEQsYUFBYSw4QkFBOEI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFVBQVU7QUFDckI7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsNkRBQUs7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvREFBUztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHFEQUFVO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLE1BQU0scURBQVU7QUFDaEI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsb0RBQVc7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLGlEQUFPO0FBQ1QsNkJBQTZCLHNEQUFXO0FBQ3hDLDZCQUE2QixrREFBTztBQUNwQyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxzREFBVztBQUNwQjtBQUNBLFVBQVUsNkRBQVk7QUFDdEI7QUFDQSxVQUFVLHdEQUFPO0FBQ2pCLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwwREFBTTtBQUNsQixhQUFhLDBEQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc25hcHBpbmcvUmVzaXplU25hcHBpbmcuanM/YmM1NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU25hcENvbnRleHQgZnJvbSAnLi9TbmFwQ29udGV4dCc7XHJcblxyXG5pbXBvcnQge1xyXG4gIGJvdHRvbVJpZ2h0LFxyXG4gIGdldENoaWxkcmVuLFxyXG4gIGlzU25hcHBlZCxcclxuICBzZXRTbmFwcGVkLFxyXG4gIHRvcExlZnQsXHJcbn0gZnJvbSAnLi9TbmFwVXRpbCc7XHJcblxyXG5pbXBvcnQgeyBpc0NtZCB9IGZyb20gJy4uL2tleWJvYXJkL0tleWJvYXJkVXRpbCc7XHJcblxyXG5pbXBvcnQge1xyXG4gIGFzVFJCTCxcclxuICBnZXRNaWRcclxufSBmcm9tICcuLi8uLi9sYXlvdXQvTGF5b3V0VXRpbCc7XHJcblxyXG5pbXBvcnQgeyBmb3JFYWNoIH0gZnJvbSAnbWluLWRhc2gnO1xyXG5cclxuaW1wb3J0IHtcclxuICBpc0Nvbm5lY3Rpb24sXHJcbiAgaXNMYWJlbFxyXG59IGZyb20gJy4uLy4uL3V0aWwvTW9kZWxVdGlsJztcclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcclxuICogQHR5cGVkZWYge2ltcG9ydCgnLi9TbmFwcGluZycpLmRlZmF1bHR9IFNuYXBwaW5nXHJcbiAqL1xyXG5cclxudmFyIEhJR0hFUl9QUklPUklUWSA9IDEyNTA7XHJcblxyXG5cclxuLyoqXHJcbiAqIFNuYXAgZHVyaW5nIHJlc2l6ZS5cclxuICpcclxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcclxuICogQHBhcmFtIHtTbmFwcGluZ30gc25hcHBpbmdcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJlc2l6ZVNuYXBwaW5nKGV2ZW50QnVzLCBzbmFwcGluZykge1xyXG4gIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgZXZlbnRCdXMub24oWyAncmVzaXplLnN0YXJ0JyBdLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgc2VsZi5pbml0U25hcChldmVudCk7XHJcbiAgfSk7XHJcblxyXG4gIGV2ZW50QnVzLm9uKFtcclxuICAgICdyZXNpemUubW92ZScsXHJcbiAgICAncmVzaXplLmVuZCcsXHJcbiAgXSwgSElHSEVSX1BSSU9SSVRZLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxyXG4gICAgICAgIHNoYXBlID0gY29udGV4dC5zaGFwZSxcclxuICAgICAgICBwYXJlbnQgPSBzaGFwZS5wYXJlbnQsXHJcbiAgICAgICAgZGlyZWN0aW9uID0gY29udGV4dC5kaXJlY3Rpb24sXHJcbiAgICAgICAgc25hcENvbnRleHQgPSBjb250ZXh0LnNuYXBDb250ZXh0O1xyXG5cclxuICAgIGlmIChldmVudC5vcmlnaW5hbEV2ZW50ICYmIGlzQ21kKGV2ZW50Lm9yaWdpbmFsRXZlbnQpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNTbmFwcGVkKGV2ZW50KSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHNuYXBQb2ludHMgPSBzbmFwQ29udGV4dC5wb2ludHNGb3JUYXJnZXQocGFyZW50KTtcclxuXHJcbiAgICBpZiAoIXNuYXBQb2ludHMuaW5pdGlhbGl6ZWQpIHtcclxuICAgICAgc25hcFBvaW50cyA9IHNlbGYuYWRkU25hcFRhcmdldFBvaW50cyhzbmFwUG9pbnRzLCBzaGFwZSwgcGFyZW50LCBkaXJlY3Rpb24pO1xyXG5cclxuICAgICAgc25hcFBvaW50cy5pbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzSG9yaXpvbnRhbChkaXJlY3Rpb24pKSB7XHJcbiAgICAgIHNldFNuYXBwZWQoZXZlbnQsICd4JywgZXZlbnQueCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzVmVydGljYWwoZGlyZWN0aW9uKSkge1xyXG4gICAgICBzZXRTbmFwcGVkKGV2ZW50LCAneScsIGV2ZW50LnkpO1xyXG4gICAgfVxyXG5cclxuICAgIHNuYXBwaW5nLnNuYXAoZXZlbnQsIHNuYXBQb2ludHMpO1xyXG4gIH0pO1xyXG5cclxuICBldmVudEJ1cy5vbihbICdyZXNpemUuY2xlYW51cCcgXSwgZnVuY3Rpb24oKSB7XHJcbiAgICBzbmFwcGluZy5oaWRlKCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcblJlc2l6ZVNuYXBwaW5nLnByb3RvdHlwZS5pbml0U25hcCA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxyXG4gICAgICBzaGFwZSA9IGNvbnRleHQuc2hhcGUsXHJcbiAgICAgIGRpcmVjdGlvbiA9IGNvbnRleHQuZGlyZWN0aW9uLFxyXG4gICAgICBzbmFwQ29udGV4dCA9IGNvbnRleHQuc25hcENvbnRleHQ7XHJcblxyXG4gIGlmICghc25hcENvbnRleHQpIHtcclxuICAgIHNuYXBDb250ZXh0ID0gY29udGV4dC5zbmFwQ29udGV4dCA9IG5ldyBTbmFwQ29udGV4dCgpO1xyXG4gIH1cclxuXHJcbiAgdmFyIHNuYXBPcmlnaW4gPSBnZXRTbmFwT3JpZ2luKHNoYXBlLCBkaXJlY3Rpb24pO1xyXG5cclxuICBzbmFwQ29udGV4dC5zZXRTbmFwT3JpZ2luKCdjb3JuZXInLCB7XHJcbiAgICB4OiBzbmFwT3JpZ2luLnggLSBldmVudC54LFxyXG4gICAgeTogc25hcE9yaWdpbi55IC0gZXZlbnQueVxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gc25hcENvbnRleHQ7XHJcbn07XHJcblxyXG5SZXNpemVTbmFwcGluZy5wcm90b3R5cGUuYWRkU25hcFRhcmdldFBvaW50cyA9IGZ1bmN0aW9uKHNuYXBQb2ludHMsIHNoYXBlLCB0YXJnZXQsIGRpcmVjdGlvbikge1xyXG4gIHZhciBzbmFwVGFyZ2V0cyA9IHRoaXMuZ2V0U25hcFRhcmdldHMoc2hhcGUsIHRhcmdldCk7XHJcblxyXG4gIGZvckVhY2goc25hcFRhcmdldHMsIGZ1bmN0aW9uKHNuYXBUYXJnZXQpIHtcclxuICAgIHNuYXBQb2ludHMuYWRkKCdjb3JuZXInLCBib3R0b21SaWdodChzbmFwVGFyZ2V0KSk7XHJcbiAgICBzbmFwUG9pbnRzLmFkZCgnY29ybmVyJywgdG9wTGVmdChzbmFwVGFyZ2V0KSk7XHJcbiAgfSk7XHJcblxyXG4gIHNuYXBQb2ludHMuYWRkKCdjb3JuZXInLCBnZXRTbmFwT3JpZ2luKHNoYXBlLCBkaXJlY3Rpb24pKTtcclxuXHJcbiAgcmV0dXJuIHNuYXBQb2ludHM7XHJcbn07XHJcblxyXG5SZXNpemVTbmFwcGluZy4kaW5qZWN0ID0gW1xyXG4gICdldmVudEJ1cycsXHJcbiAgJ3NuYXBwaW5nJ1xyXG5dO1xyXG5cclxuUmVzaXplU25hcHBpbmcucHJvdG90eXBlLmdldFNuYXBUYXJnZXRzID0gZnVuY3Rpb24oc2hhcGUsIHRhcmdldCkge1xyXG4gIHJldHVybiBnZXRDaGlsZHJlbih0YXJnZXQpLmZpbHRlcihmdW5jdGlvbihjaGlsZCkge1xyXG4gICAgcmV0dXJuICFpc0F0dGFjaGVkKGNoaWxkLCBzaGFwZSlcclxuICAgICAgJiYgIWlzQ29ubmVjdGlvbihjaGlsZClcclxuICAgICAgJiYgIWlzSGlkZGVuKGNoaWxkKVxyXG4gICAgICAmJiAhaXNMYWJlbChjaGlsZCk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cclxuXHJcbmZ1bmN0aW9uIGdldFNuYXBPcmlnaW4oc2hhcGUsIGRpcmVjdGlvbikge1xyXG4gIHZhciBtaWQgPSBnZXRNaWQoc2hhcGUpLFxyXG4gICAgICB0cmJsID0gYXNUUkJMKHNoYXBlKTtcclxuXHJcbiAgdmFyIHNuYXBPcmlnaW4gPSB7XHJcbiAgICB4OiBtaWQueCxcclxuICAgIHk6IG1pZC55XHJcbiAgfTtcclxuXHJcbiAgaWYgKGRpcmVjdGlvbi5pbmRleE9mKCduJykgIT09IC0xKSB7XHJcbiAgICBzbmFwT3JpZ2luLnkgPSB0cmJsLnRvcDtcclxuICB9IGVsc2UgaWYgKGRpcmVjdGlvbi5pbmRleE9mKCdzJykgIT09IC0xKSB7XHJcbiAgICBzbmFwT3JpZ2luLnkgPSB0cmJsLmJvdHRvbTtcclxuICB9XHJcblxyXG4gIGlmIChkaXJlY3Rpb24uaW5kZXhPZignZScpICE9PSAtMSkge1xyXG4gICAgc25hcE9yaWdpbi54ID0gdHJibC5yaWdodDtcclxuICB9IGVsc2UgaWYgKGRpcmVjdGlvbi5pbmRleE9mKCd3JykgIT09IC0xKSB7XHJcbiAgICBzbmFwT3JpZ2luLnggPSB0cmJsLmxlZnQ7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gc25hcE9yaWdpbjtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNBdHRhY2hlZChlbGVtZW50LCBob3N0KSB7XHJcbiAgcmV0dXJuIGVsZW1lbnQuaG9zdCA9PT0gaG9zdDtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNIaWRkZW4oZWxlbWVudCkge1xyXG4gIHJldHVybiAhIWVsZW1lbnQuaGlkZGVuO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0hvcml6b250YWwoZGlyZWN0aW9uKSB7XHJcbiAgcmV0dXJuIGRpcmVjdGlvbiA9PT0gJ24nIHx8IGRpcmVjdGlvbiA9PT0gJ3MnO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc1ZlcnRpY2FsKGRpcmVjdGlvbikge1xyXG4gIHJldHVybiBkaXJlY3Rpb24gPT09ICdlJyB8fCBkaXJlY3Rpb24gPT09ICd3JztcclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/snapping/ResizeSnapping.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/snapping/SnapContext.js":
/*!**********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/snapping/SnapContext.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SnapPoints: () => (/* binding */ SnapPoints),\n/* harmony export */   \"default\": () => (/* binding */ SnapContext)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _SnapUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SnapUtil */ \"(ssr)/./node_modules/diagram-js/lib/features/snapping/SnapUtil.js\");\n\n\n\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef {import('../../util/Types').Axis} Axis\n * @typedef {import('../../util/Types').DirectionTRBL} DirectionTRBL\n * @typedef {import('../../util/Types').Point} Point\n *\n * @typedef {DirectionTRBL & 'mid'} SnapLocation\n */\n\n/**\n * A snap context, containing the (possibly incomplete)\n * mappings of drop targets (to identify the snapping)\n * to computed snap points.\n */\nfunction SnapContext() {\n\n  /**\n   * @type {Record<string, SnapPoints>}\n   */\n  this._targets = {};\n\n  /**\n   * @type {Record<SnapLocation, Point>}\n   */\n  this._snapOrigins = {};\n\n  /**\n   * @type {SnapLocation[]}\n   */\n  this._snapLocations = [];\n\n  /**\n   * @type {Record<SnapLocation, Point[]>}\n   */\n  this._defaultSnaps = {};\n}\n\n/**\n * Get the snap origin for a given location.\n *\n * @param {SnapLocation} snapLocation\n *\n * @return {Point}\n */\nSnapContext.prototype.getSnapOrigin = function(snapLocation) {\n  return this._snapOrigins[snapLocation];\n};\n\n/**\n * Set the snap origin for a given location.\n *\n * @param {SnapLocation} snapLocation\n * @param {Point} snapOrigin\n */\nSnapContext.prototype.setSnapOrigin = function(snapLocation, snapOrigin) {\n  this._snapOrigins[snapLocation] = snapOrigin;\n\n  if (this._snapLocations.indexOf(snapLocation) === -1) {\n    this._snapLocations.push(snapLocation);\n  }\n};\n\n/**\n * Add a default snap point.\n *\n * @param {SnapLocation} snapLocation\n * @param {Point} point\n */\nSnapContext.prototype.addDefaultSnap = function(snapLocation, point) {\n\n  var snapValues = this._defaultSnaps[snapLocation];\n\n  if (!snapValues) {\n    snapValues = this._defaultSnaps[snapLocation] = [];\n  }\n\n  snapValues.push(point);\n};\n\n/**\n * Get the snap locations for this context.\n *\n * @return {SnapLocation[]}\n */\nSnapContext.prototype.getSnapLocations = function() {\n  return this._snapLocations;\n};\n\n/**\n * Set the snap locations for this context.\n *\n * The order of locations determines precedence.\n *\n * @param {SnapLocation[]} snapLocations\n */\nSnapContext.prototype.setSnapLocations = function(snapLocations) {\n  this._snapLocations = snapLocations;\n};\n\n/**\n * Get snap points for the given target.\n *\n * @param {Element|string} target\n *\n * @return {SnapPoints}\n */\nSnapContext.prototype.pointsForTarget = function(target) {\n\n  var targetId = target.id || target;\n\n  var snapPoints = this._targets[targetId];\n\n  if (!snapPoints) {\n    snapPoints = this._targets[targetId] = new SnapPoints();\n    snapPoints.initDefaults(this._defaultSnaps);\n  }\n\n  return snapPoints;\n};\n\n\n/**\n * Add points to snap to.\n */\nfunction SnapPoints() {\n\n  /**\n   * Example:\n   *\n   * ```javascript\n   * {\n   *   'top-right': {\n   *     x: [ 100, 200, 300 ]\n   *     y: [ 100, 200, 300 ]\n   *   }\n   * }\n   * ```\n   *\n   * @type {Record<string, Record<Axis, number[]>>}\n   */\n  this._snapValues = {};\n}\n\n/**\n * Add a snap point.\n *\n * @param {SnapLocation} snapLocation\n * @param {Point} point\n */\nSnapPoints.prototype.add = function(snapLocation, point) {\n\n  var snapValues = this._snapValues[snapLocation];\n\n  if (!snapValues) {\n    snapValues = this._snapValues[snapLocation] = { x: [], y: [] };\n  }\n\n  if (snapValues.x.indexOf(point.x) === -1) {\n    snapValues.x.push(point.x);\n  }\n\n  if (snapValues.y.indexOf(point.y) === -1) {\n    snapValues.y.push(point.y);\n  }\n};\n\n/**\n * Snap a point's x or y value.\n *\n * @param {Point} point\n * @param {SnapLocation} snapLocation\n * @param {Axis} axis\n * @param {number} tolerance\n *\n * @return {number}\n */\nSnapPoints.prototype.snap = function(point, snapLocation, axis, tolerance) {\n  var snappingValues = this._snapValues[snapLocation];\n\n  return snappingValues && (0,_SnapUtil__WEBPACK_IMPORTED_MODULE_0__.snapTo)(point[axis], snappingValues[axis], tolerance);\n};\n\n/**\n * Initialize default snap points.\n *\n * @param {Record<SnapLocation, Point[]>} defaultSnaps\n */\nSnapPoints.prototype.initDefaults = function(defaultSnaps) {\n\n  var self = this;\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(defaultSnaps || {}, function(snapPoints, snapLocation) {\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(snapPoints, function(point) {\n      self.add(snapLocation, point);\n    });\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc25hcHBpbmcvU25hcENvbnRleHQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUVrQjs7QUFJRTs7QUFFcEI7QUFDQSxhQUFhLHFDQUFxQztBQUNsRDtBQUNBLGFBQWEsaUNBQWlDO0FBQzlDLGFBQWEsMENBQTBDO0FBQ3ZELGFBQWEsa0NBQWtDO0FBQy9DO0FBQ0EsYUFBYSx1QkFBdUI7QUFDcEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNlOztBQUVmO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsT0FBTztBQUNsQjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0I7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QixXQUFXLE9BQU87QUFDbEI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLG9EQUFvRDtBQUNwRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsY0FBYztBQUN6QixXQUFXLE1BQU07QUFDakIsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQSwyQkFBMkIsaURBQU07QUFDakM7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVywrQkFBK0I7QUFDMUM7QUFDQTs7QUFFQTs7QUFFQSxFQUFFLGlEQUFPLG1CQUFtQjtBQUM1QixJQUFJLGlEQUFPO0FBQ1g7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NuYXBwaW5nL1NuYXBDb250ZXh0LmpzP2ZiOGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgZm9yRWFjaFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIHNuYXBUb1xufSBmcm9tICcuL1NuYXBVdGlsJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9tb2RlbC9UeXBlcycpLkVsZW1lbnR9IEVsZW1lbnRcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi91dGlsL1R5cGVzJykuQXhpc30gQXhpc1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vdXRpbC9UeXBlcycpLkRpcmVjdGlvblRSQkx9IERpcmVjdGlvblRSQkxcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL3V0aWwvVHlwZXMnKS5Qb2ludH0gUG9pbnRcbiAqXG4gKiBAdHlwZWRlZiB7RGlyZWN0aW9uVFJCTCAmICdtaWQnfSBTbmFwTG9jYXRpb25cbiAqL1xuXG4vKipcbiAqIEEgc25hcCBjb250ZXh0LCBjb250YWluaW5nIHRoZSAocG9zc2libHkgaW5jb21wbGV0ZSlcbiAqIG1hcHBpbmdzIG9mIGRyb3AgdGFyZ2V0cyAodG8gaWRlbnRpZnkgdGhlIHNuYXBwaW5nKVxuICogdG8gY29tcHV0ZWQgc25hcCBwb2ludHMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNuYXBDb250ZXh0KCkge1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgU25hcFBvaW50cz59XG4gICAqL1xuICB0aGlzLl90YXJnZXRzID0ge307XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtSZWNvcmQ8U25hcExvY2F0aW9uLCBQb2ludD59XG4gICAqL1xuICB0aGlzLl9zbmFwT3JpZ2lucyA9IHt9O1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7U25hcExvY2F0aW9uW119XG4gICAqL1xuICB0aGlzLl9zbmFwTG9jYXRpb25zID0gW107XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtSZWNvcmQ8U25hcExvY2F0aW9uLCBQb2ludFtdPn1cbiAgICovXG4gIHRoaXMuX2RlZmF1bHRTbmFwcyA9IHt9O1xufVxuXG4vKipcbiAqIEdldCB0aGUgc25hcCBvcmlnaW4gZm9yIGEgZ2l2ZW4gbG9jYXRpb24uXG4gKlxuICogQHBhcmFtIHtTbmFwTG9jYXRpb259IHNuYXBMb2NhdGlvblxuICpcbiAqIEByZXR1cm4ge1BvaW50fVxuICovXG5TbmFwQ29udGV4dC5wcm90b3R5cGUuZ2V0U25hcE9yaWdpbiA9IGZ1bmN0aW9uKHNuYXBMb2NhdGlvbikge1xuICByZXR1cm4gdGhpcy5fc25hcE9yaWdpbnNbc25hcExvY2F0aW9uXTtcbn07XG5cbi8qKlxuICogU2V0IHRoZSBzbmFwIG9yaWdpbiBmb3IgYSBnaXZlbiBsb2NhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1NuYXBMb2NhdGlvbn0gc25hcExvY2F0aW9uXG4gKiBAcGFyYW0ge1BvaW50fSBzbmFwT3JpZ2luXG4gKi9cblNuYXBDb250ZXh0LnByb3RvdHlwZS5zZXRTbmFwT3JpZ2luID0gZnVuY3Rpb24oc25hcExvY2F0aW9uLCBzbmFwT3JpZ2luKSB7XG4gIHRoaXMuX3NuYXBPcmlnaW5zW3NuYXBMb2NhdGlvbl0gPSBzbmFwT3JpZ2luO1xuXG4gIGlmICh0aGlzLl9zbmFwTG9jYXRpb25zLmluZGV4T2Yoc25hcExvY2F0aW9uKSA9PT0gLTEpIHtcbiAgICB0aGlzLl9zbmFwTG9jYXRpb25zLnB1c2goc25hcExvY2F0aW9uKTtcbiAgfVxufTtcblxuLyoqXG4gKiBBZGQgYSBkZWZhdWx0IHNuYXAgcG9pbnQuXG4gKlxuICogQHBhcmFtIHtTbmFwTG9jYXRpb259IHNuYXBMb2NhdGlvblxuICogQHBhcmFtIHtQb2ludH0gcG9pbnRcbiAqL1xuU25hcENvbnRleHQucHJvdG90eXBlLmFkZERlZmF1bHRTbmFwID0gZnVuY3Rpb24oc25hcExvY2F0aW9uLCBwb2ludCkge1xuXG4gIHZhciBzbmFwVmFsdWVzID0gdGhpcy5fZGVmYXVsdFNuYXBzW3NuYXBMb2NhdGlvbl07XG5cbiAgaWYgKCFzbmFwVmFsdWVzKSB7XG4gICAgc25hcFZhbHVlcyA9IHRoaXMuX2RlZmF1bHRTbmFwc1tzbmFwTG9jYXRpb25dID0gW107XG4gIH1cblxuICBzbmFwVmFsdWVzLnB1c2gocG9pbnQpO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIHNuYXAgbG9jYXRpb25zIGZvciB0aGlzIGNvbnRleHQuXG4gKlxuICogQHJldHVybiB7U25hcExvY2F0aW9uW119XG4gKi9cblNuYXBDb250ZXh0LnByb3RvdHlwZS5nZXRTbmFwTG9jYXRpb25zID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9zbmFwTG9jYXRpb25zO1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIHNuYXAgbG9jYXRpb25zIGZvciB0aGlzIGNvbnRleHQuXG4gKlxuICogVGhlIG9yZGVyIG9mIGxvY2F0aW9ucyBkZXRlcm1pbmVzIHByZWNlZGVuY2UuXG4gKlxuICogQHBhcmFtIHtTbmFwTG9jYXRpb25bXX0gc25hcExvY2F0aW9uc1xuICovXG5TbmFwQ29udGV4dC5wcm90b3R5cGUuc2V0U25hcExvY2F0aW9ucyA9IGZ1bmN0aW9uKHNuYXBMb2NhdGlvbnMpIHtcbiAgdGhpcy5fc25hcExvY2F0aW9ucyA9IHNuYXBMb2NhdGlvbnM7XG59O1xuXG4vKipcbiAqIEdldCBzbmFwIHBvaW50cyBmb3IgdGhlIGdpdmVuIHRhcmdldC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR8c3RyaW5nfSB0YXJnZXRcbiAqXG4gKiBAcmV0dXJuIHtTbmFwUG9pbnRzfVxuICovXG5TbmFwQ29udGV4dC5wcm90b3R5cGUucG9pbnRzRm9yVGFyZ2V0ID0gZnVuY3Rpb24odGFyZ2V0KSB7XG5cbiAgdmFyIHRhcmdldElkID0gdGFyZ2V0LmlkIHx8IHRhcmdldDtcblxuICB2YXIgc25hcFBvaW50cyA9IHRoaXMuX3RhcmdldHNbdGFyZ2V0SWRdO1xuXG4gIGlmICghc25hcFBvaW50cykge1xuICAgIHNuYXBQb2ludHMgPSB0aGlzLl90YXJnZXRzW3RhcmdldElkXSA9IG5ldyBTbmFwUG9pbnRzKCk7XG4gICAgc25hcFBvaW50cy5pbml0RGVmYXVsdHModGhpcy5fZGVmYXVsdFNuYXBzKTtcbiAgfVxuXG4gIHJldHVybiBzbmFwUG9pbnRzO1xufTtcblxuXG4vKipcbiAqIEFkZCBwb2ludHMgdG8gc25hcCB0by5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNuYXBQb2ludHMoKSB7XG5cbiAgLyoqXG4gICAqIEV4YW1wbGU6XG4gICAqXG4gICAqIGBgYGphdmFzY3JpcHRcbiAgICoge1xuICAgKiAgICd0b3AtcmlnaHQnOiB7XG4gICAqICAgICB4OiBbIDEwMCwgMjAwLCAzMDAgXVxuICAgKiAgICAgeTogWyAxMDAsIDIwMCwgMzAwIF1cbiAgICogICB9XG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8QXhpcywgbnVtYmVyW10+Pn1cbiAgICovXG4gIHRoaXMuX3NuYXBWYWx1ZXMgPSB7fTtcbn1cblxuLyoqXG4gKiBBZGQgYSBzbmFwIHBvaW50LlxuICpcbiAqIEBwYXJhbSB7U25hcExvY2F0aW9ufSBzbmFwTG9jYXRpb25cbiAqIEBwYXJhbSB7UG9pbnR9IHBvaW50XG4gKi9cblNuYXBQb2ludHMucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKHNuYXBMb2NhdGlvbiwgcG9pbnQpIHtcblxuICB2YXIgc25hcFZhbHVlcyA9IHRoaXMuX3NuYXBWYWx1ZXNbc25hcExvY2F0aW9uXTtcblxuICBpZiAoIXNuYXBWYWx1ZXMpIHtcbiAgICBzbmFwVmFsdWVzID0gdGhpcy5fc25hcFZhbHVlc1tzbmFwTG9jYXRpb25dID0geyB4OiBbXSwgeTogW10gfTtcbiAgfVxuXG4gIGlmIChzbmFwVmFsdWVzLnguaW5kZXhPZihwb2ludC54KSA9PT0gLTEpIHtcbiAgICBzbmFwVmFsdWVzLngucHVzaChwb2ludC54KTtcbiAgfVxuXG4gIGlmIChzbmFwVmFsdWVzLnkuaW5kZXhPZihwb2ludC55KSA9PT0gLTEpIHtcbiAgICBzbmFwVmFsdWVzLnkucHVzaChwb2ludC55KTtcbiAgfVxufTtcblxuLyoqXG4gKiBTbmFwIGEgcG9pbnQncyB4IG9yIHkgdmFsdWUuXG4gKlxuICogQHBhcmFtIHtQb2ludH0gcG9pbnRcbiAqIEBwYXJhbSB7U25hcExvY2F0aW9ufSBzbmFwTG9jYXRpb25cbiAqIEBwYXJhbSB7QXhpc30gYXhpc1xuICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZVxuICpcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuU25hcFBvaW50cy5wcm90b3R5cGUuc25hcCA9IGZ1bmN0aW9uKHBvaW50LCBzbmFwTG9jYXRpb24sIGF4aXMsIHRvbGVyYW5jZSkge1xuICB2YXIgc25hcHBpbmdWYWx1ZXMgPSB0aGlzLl9zbmFwVmFsdWVzW3NuYXBMb2NhdGlvbl07XG5cbiAgcmV0dXJuIHNuYXBwaW5nVmFsdWVzICYmIHNuYXBUbyhwb2ludFtheGlzXSwgc25hcHBpbmdWYWx1ZXNbYXhpc10sIHRvbGVyYW5jZSk7XG59O1xuXG4vKipcbiAqIEluaXRpYWxpemUgZGVmYXVsdCBzbmFwIHBvaW50cy5cbiAqXG4gKiBAcGFyYW0ge1JlY29yZDxTbmFwTG9jYXRpb24sIFBvaW50W10+fSBkZWZhdWx0U25hcHNcbiAqL1xuU25hcFBvaW50cy5wcm90b3R5cGUuaW5pdERlZmF1bHRzID0gZnVuY3Rpb24oZGVmYXVsdFNuYXBzKSB7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGZvckVhY2goZGVmYXVsdFNuYXBzIHx8IHt9LCBmdW5jdGlvbihzbmFwUG9pbnRzLCBzbmFwTG9jYXRpb24pIHtcbiAgICBmb3JFYWNoKHNuYXBQb2ludHMsIGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgICBzZWxmLmFkZChzbmFwTG9jYXRpb24sIHBvaW50KTtcbiAgICB9KTtcbiAgfSk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/snapping/SnapContext.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/snapping/SnapUtil.js":
/*!*******************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/snapping/SnapUtil.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bottomLeft: () => (/* binding */ bottomLeft),\n/* harmony export */   bottomRight: () => (/* binding */ bottomRight),\n/* harmony export */   getChildren: () => (/* binding */ getChildren),\n/* harmony export */   isSnapped: () => (/* binding */ isSnapped),\n/* harmony export */   mid: () => (/* binding */ mid),\n/* harmony export */   setSnapped: () => (/* binding */ setSnapped),\n/* harmony export */   snapTo: () => (/* binding */ snapTo),\n/* harmony export */   topLeft: () => (/* binding */ topLeft),\n/* harmony export */   topRight: () => (/* binding */ topRight)\n/* harmony export */ });\n/**\n * @typedef {import('../../core/Types').ConnectionLike} Connection\n * @typedef {import('../../core/Types').ShapeLike} Shape\n *\n * @typedef {import('../../core/EventBus').Event} Event\n *\n * @typedef {import('../../util/Types').Axis} Axis\n */\n\nvar abs = Math.abs,\n    round = Math.round;\n\n\n/**\n * Snap value to a collection of reference values.\n *\n * @param {number} value\n * @param {Array<number>} values\n * @param {number} [tolerance=10]\n *\n * @return {number} the value we snapped to or null, if none snapped\n */\nfunction snapTo(value, values, tolerance) {\n  tolerance = tolerance === undefined ? 10 : tolerance;\n\n  var idx, snapValue;\n\n  for (idx = 0; idx < values.length; idx++) {\n    snapValue = values[idx];\n\n    if (abs(snapValue - value) <= tolerance) {\n      return snapValue;\n    }\n  }\n}\n\n\nfunction topLeft(bounds) {\n  return {\n    x: bounds.x,\n    y: bounds.y\n  };\n}\n\nfunction topRight(bounds) {\n  return {\n    x: bounds.x + bounds.width,\n    y: bounds.y\n  };\n}\n\nfunction bottomLeft(bounds) {\n  return {\n    x: bounds.x,\n    y: bounds.y + bounds.height\n  };\n}\n\nfunction bottomRight(bounds) {\n  return {\n    x: bounds.x + bounds.width,\n    y: bounds.y + bounds.height\n  };\n}\n\nfunction mid(bounds, defaultValue) {\n\n  if (!bounds || isNaN(bounds.x) || isNaN(bounds.y)) {\n    return defaultValue;\n  }\n\n  return {\n    x: round(bounds.x + bounds.width / 2),\n    y: round(bounds.y + bounds.height / 2)\n  };\n}\n\n\n/**\n * Retrieve the snap state of the given event.\n *\n * @param {Event} event\n * @param {Axis} axis\n *\n * @return {boolean} the snapped state\n *\n */\nfunction isSnapped(event, axis) {\n  var snapped = event.snapped;\n\n  if (!snapped) {\n    return false;\n  }\n\n  if (typeof axis === 'string') {\n    return snapped[axis];\n  }\n\n  return snapped.x && snapped.y;\n}\n\n\n/**\n * Set the given event as snapped.\n *\n * This method may change the x and/or y position of the shape\n * from the given event!\n *\n * @param {Event} event\n * @param {Axis} axis\n * @param {number|boolean} value\n *\n * @return {number} old value\n */\nfunction setSnapped(event, axis, value) {\n  if (typeof axis !== 'string') {\n    throw new Error('axis must be in [x, y]');\n  }\n\n  if (typeof value !== 'number' && value !== false) {\n    throw new Error('value must be Number or false');\n  }\n\n  var delta,\n      previousValue = event[axis];\n\n  var snapped = event.snapped = (event.snapped || {});\n\n\n  if (value === false) {\n    snapped[axis] = false;\n  } else {\n    snapped[axis] = true;\n\n    delta = value - previousValue;\n\n    event[axis] += delta;\n    event['d' + axis] += delta;\n  }\n\n  return previousValue;\n}\n\n/**\n * Get children of a shape.\n *\n * @param {Shape} parent\n *\n * @return {Array<Shape|Connection>}\n */\nfunction getChildren(parent) {\n  return parent.children || [];\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc25hcHBpbmcvU25hcFV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQSxhQUFhLDJDQUEyQztBQUN4RCxhQUFhLHNDQUFzQztBQUNuRDtBQUNBLGFBQWEscUNBQXFDO0FBQ2xEO0FBQ0EsYUFBYSxpQ0FBaUM7QUFDOUM7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsZUFBZTtBQUMxQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDTztBQUNQOztBQUVBOztBQUVBLGdCQUFnQixxQkFBcUI7QUFDckM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPOztBQUVQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxNQUFNO0FBQ2pCO0FBQ0EsWUFBWSxTQUFTO0FBQ3JCO0FBQ0E7QUFDTztBQUNQOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsTUFBTTtBQUNqQixXQUFXLGdCQUFnQjtBQUMzQjtBQUNBLFlBQVksUUFBUTtBQUNwQjtBQUNPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLG9EQUFvRDs7O0FBR3BEO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NuYXBwaW5nL1NuYXBVdGlsLmpzPzBmMTQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL1R5cGVzJykuQ29ubmVjdGlvbkxpa2V9IENvbm5lY3Rpb25cbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvVHlwZXMnKS5TaGFwZUxpa2V9IFNoYXBlXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLkV2ZW50fSBFdmVudFxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL3V0aWwvVHlwZXMnKS5BeGlzfSBBeGlzXG4gKi9cblxudmFyIGFicyA9IE1hdGguYWJzLFxuICAgIHJvdW5kID0gTWF0aC5yb3VuZDtcblxuXG4vKipcbiAqIFNuYXAgdmFsdWUgdG8gYSBjb2xsZWN0aW9uIG9mIHJlZmVyZW5jZSB2YWx1ZXMuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHZhbHVlc1xuICogQHBhcmFtIHtudW1iZXJ9IFt0b2xlcmFuY2U9MTBdXG4gKlxuICogQHJldHVybiB7bnVtYmVyfSB0aGUgdmFsdWUgd2Ugc25hcHBlZCB0byBvciBudWxsLCBpZiBub25lIHNuYXBwZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNuYXBUbyh2YWx1ZSwgdmFsdWVzLCB0b2xlcmFuY2UpIHtcbiAgdG9sZXJhbmNlID0gdG9sZXJhbmNlID09PSB1bmRlZmluZWQgPyAxMCA6IHRvbGVyYW5jZTtcblxuICB2YXIgaWR4LCBzbmFwVmFsdWU7XG5cbiAgZm9yIChpZHggPSAwOyBpZHggPCB2YWx1ZXMubGVuZ3RoOyBpZHgrKykge1xuICAgIHNuYXBWYWx1ZSA9IHZhbHVlc1tpZHhdO1xuXG4gICAgaWYgKGFicyhzbmFwVmFsdWUgLSB2YWx1ZSkgPD0gdG9sZXJhbmNlKSB7XG4gICAgICByZXR1cm4gc25hcFZhbHVlO1xuICAgIH1cbiAgfVxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiB0b3BMZWZ0KGJvdW5kcykge1xuICByZXR1cm4ge1xuICAgIHg6IGJvdW5kcy54LFxuICAgIHk6IGJvdW5kcy55XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b3BSaWdodChib3VuZHMpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBib3VuZHMueCArIGJvdW5kcy53aWR0aCxcbiAgICB5OiBib3VuZHMueVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYm90dG9tTGVmdChib3VuZHMpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBib3VuZHMueCxcbiAgICB5OiBib3VuZHMueSArIGJvdW5kcy5oZWlnaHRcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJvdHRvbVJpZ2h0KGJvdW5kcykge1xuICByZXR1cm4ge1xuICAgIHg6IGJvdW5kcy54ICsgYm91bmRzLndpZHRoLFxuICAgIHk6IGJvdW5kcy55ICsgYm91bmRzLmhlaWdodFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWlkKGJvdW5kcywgZGVmYXVsdFZhbHVlKSB7XG5cbiAgaWYgKCFib3VuZHMgfHwgaXNOYU4oYm91bmRzLngpIHx8IGlzTmFOKGJvdW5kcy55KSkge1xuICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHg6IHJvdW5kKGJvdW5kcy54ICsgYm91bmRzLndpZHRoIC8gMiksXG4gICAgeTogcm91bmQoYm91bmRzLnkgKyBib3VuZHMuaGVpZ2h0IC8gMilcbiAgfTtcbn1cblxuXG4vKipcbiAqIFJldHJpZXZlIHRoZSBzbmFwIHN0YXRlIG9mIHRoZSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICogQHBhcmFtIHtBeGlzfSBheGlzXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gdGhlIHNuYXBwZWQgc3RhdGVcbiAqXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NuYXBwZWQoZXZlbnQsIGF4aXMpIHtcbiAgdmFyIHNuYXBwZWQgPSBldmVudC5zbmFwcGVkO1xuXG4gIGlmICghc25hcHBlZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYXhpcyA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gc25hcHBlZFtheGlzXTtcbiAgfVxuXG4gIHJldHVybiBzbmFwcGVkLnggJiYgc25hcHBlZC55O1xufVxuXG5cbi8qKlxuICogU2V0IHRoZSBnaXZlbiBldmVudCBhcyBzbmFwcGVkLlxuICpcbiAqIFRoaXMgbWV0aG9kIG1heSBjaGFuZ2UgdGhlIHggYW5kL29yIHkgcG9zaXRpb24gb2YgdGhlIHNoYXBlXG4gKiBmcm9tIHRoZSBnaXZlbiBldmVudCFcbiAqXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICogQHBhcmFtIHtBeGlzfSBheGlzXG4gKiBAcGFyYW0ge251bWJlcnxib29sZWFufSB2YWx1ZVxuICpcbiAqIEByZXR1cm4ge251bWJlcn0gb2xkIHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTbmFwcGVkKGV2ZW50LCBheGlzLCB2YWx1ZSkge1xuICBpZiAodHlwZW9mIGF4aXMgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdheGlzIG11c3QgYmUgaW4gW3gsIHldJyk7XG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJyAmJiB2YWx1ZSAhPT0gZmFsc2UpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3ZhbHVlIG11c3QgYmUgTnVtYmVyIG9yIGZhbHNlJyk7XG4gIH1cblxuICB2YXIgZGVsdGEsXG4gICAgICBwcmV2aW91c1ZhbHVlID0gZXZlbnRbYXhpc107XG5cbiAgdmFyIHNuYXBwZWQgPSBldmVudC5zbmFwcGVkID0gKGV2ZW50LnNuYXBwZWQgfHwge30pO1xuXG5cbiAgaWYgKHZhbHVlID09PSBmYWxzZSkge1xuICAgIHNuYXBwZWRbYXhpc10gPSBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICBzbmFwcGVkW2F4aXNdID0gdHJ1ZTtcblxuICAgIGRlbHRhID0gdmFsdWUgLSBwcmV2aW91c1ZhbHVlO1xuXG4gICAgZXZlbnRbYXhpc10gKz0gZGVsdGE7XG4gICAgZXZlbnRbJ2QnICsgYXhpc10gKz0gZGVsdGE7XG4gIH1cblxuICByZXR1cm4gcHJldmlvdXNWYWx1ZTtcbn1cblxuLyoqXG4gKiBHZXQgY2hpbGRyZW4gb2YgYSBzaGFwZS5cbiAqXG4gKiBAcGFyYW0ge1NoYXBlfSBwYXJlbnRcbiAqXG4gKiBAcmV0dXJuIHtBcnJheTxTaGFwZXxDb25uZWN0aW9uPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENoaWxkcmVuKHBhcmVudCkge1xuICByZXR1cm4gcGFyZW50LmNoaWxkcmVuIHx8IFtdO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/snapping/SnapUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/snapping/Snapping.js":
/*!*******************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/snapping/Snapping.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SNAP_LINE_HIDE_DELAY: () => (/* binding */ SNAP_LINE_HIDE_DELAY),\n/* harmony export */   \"default\": () => (/* binding */ Snapping)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _SnapUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SnapUtil */ \"(ssr)/./node_modules/diagram-js/lib/features/snapping/SnapUtil.js\");\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/./node_modules/tiny-svg/dist/index.esm.js\");\n\n\n\n\n\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n *\n * @typedef {import('../../core/EventBus').Event} Event\n *\n * @typedef {import('./SnapContext').SnapPoints} SnapPoints\n */\n\nvar SNAP_TOLERANCE = 7;\n\nvar SNAP_LINE_HIDE_DELAY = 1000;\n\n\n/**\n * Generic snapping feature.\n *\n * @param {Canvas} canvas\n */\nfunction Snapping(canvas) {\n  this._canvas = canvas;\n\n  // delay hide by 1000 seconds since last snap\n  this._asyncHide = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.debounce)((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.bind)(this.hide, this), SNAP_LINE_HIDE_DELAY);\n}\n\nSnapping.$inject = [ 'canvas' ];\n\n/**\n * Snap an event to given snap points.\n *\n * @param {Event} event\n * @param {SnapPoints} snapPoints\n */\nSnapping.prototype.snap = function(event, snapPoints) {\n  var context = event.context,\n      snapContext = context.snapContext,\n      snapLocations = snapContext.getSnapLocations();\n\n  var snapping = {\n    x: (0,_SnapUtil__WEBPACK_IMPORTED_MODULE_1__.isSnapped)(event, 'x'),\n    y: (0,_SnapUtil__WEBPACK_IMPORTED_MODULE_1__.isSnapped)(event, 'y')\n  };\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(snapLocations, function(location) {\n    var snapOrigin = snapContext.getSnapOrigin(location);\n\n    var snapCurrent = {\n      x: event.x + snapOrigin.x,\n      y: event.y + snapOrigin.y\n    };\n\n    // snap both axis if not snapped already\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)([ 'x', 'y' ], function(axis) {\n      var locationSnapping;\n\n      if (!snapping[axis]) {\n        locationSnapping = snapPoints.snap(snapCurrent, location, axis, SNAP_TOLERANCE);\n\n        if (locationSnapping !== undefined) {\n          snapping[axis] = {\n            value: locationSnapping,\n            originValue: locationSnapping - snapOrigin[axis]\n          };\n        }\n      }\n    });\n\n    // no need to continue snapping\n    if (snapping.x && snapping.y) {\n      return false;\n    }\n  });\n\n  // show snap lines\n  this.showSnapLine('vertical', snapping.x && snapping.x.value);\n  this.showSnapLine('horizontal', snapping.y && snapping.y.value);\n\n  // snap event\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)([ 'x', 'y' ], function(axis) {\n    var axisSnapping = snapping[axis];\n\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isObject)(axisSnapping)) {\n      (0,_SnapUtil__WEBPACK_IMPORTED_MODULE_1__.setSnapped)(event, axis, axisSnapping.originValue);\n    }\n  });\n};\n\nSnapping.prototype._createLine = function(orientation) {\n  var root = this._canvas.getLayer('snap');\n\n  var line = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.create)('path');\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.attr)(line, { d: 'M0,0 L0,0' });\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.classes)(line).add('djs-snap-line');\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.append)(root, line);\n\n  return {\n    update: function(position) {\n\n      if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(position)) {\n        (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.attr)(line, { display: 'none' });\n      } else {\n        if (orientation === 'horizontal') {\n          (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.attr)(line, {\n            d: 'M-100000,' + position + ' L+100000,' + position,\n            display: ''\n          });\n        } else {\n          (0,tiny_svg__WEBPACK_IMPORTED_MODULE_2__.attr)(line, {\n            d: 'M ' + position + ',-100000 L ' + position + ', +100000',\n            display: ''\n          });\n        }\n      }\n    }\n  };\n};\n\nSnapping.prototype._createSnapLines = function() {\n  this._snapLines = {\n    horizontal: this._createLine('horizontal'),\n    vertical: this._createLine('vertical')\n  };\n};\n\nSnapping.prototype.showSnapLine = function(orientation, position) {\n\n  var line = this.getSnapLine(orientation);\n\n  if (line) {\n    line.update(position);\n  }\n\n  this._asyncHide();\n};\n\nSnapping.prototype.getSnapLine = function(orientation) {\n  if (!this._snapLines) {\n    this._createSnapLines();\n  }\n\n  return this._snapLines[orientation];\n};\n\nSnapping.prototype.hide = function() {\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(this._snapLines, function(snapLine) {\n    snapLine.update();\n  });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc25hcHBpbmcvU25hcHBpbmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFNa0I7O0FBS0U7O0FBT0Y7O0FBRWxCO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQ7QUFDQSxhQUFhLHFDQUFxQztBQUNsRDtBQUNBLGFBQWEsb0NBQW9DO0FBQ2pEOztBQUVBOztBQUVPOzs7QUFHUDtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDZTtBQUNmOztBQUVBO0FBQ0Esb0JBQW9CLGtEQUFRLENBQUMsOENBQUk7QUFDakM7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsWUFBWTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTyxvREFBUztBQUNoQixPQUFPLG9EQUFTO0FBQ2hCOztBQUVBLEVBQUUsaURBQU87QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUksaURBQU87QUFDWDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRSxpREFBTztBQUNUOztBQUVBLFFBQVEsa0RBQVE7QUFDaEIsTUFBTSxxREFBVTtBQUNoQjtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBLGFBQWEsZ0RBQVM7O0FBRXRCLEVBQUUsOENBQU8sU0FBUyxnQkFBZ0I7O0FBRWxDLEVBQUUsaURBQVU7O0FBRVosRUFBRSxnREFBUzs7QUFFWDtBQUNBOztBQUVBLFdBQVcsa0RBQVE7QUFDbkIsUUFBUSw4Q0FBTyxTQUFTLGlCQUFpQjtBQUN6QyxRQUFRO0FBQ1I7QUFDQSxVQUFVLDhDQUFPO0FBQ2pCO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsVUFBVTtBQUNWLFVBQVUsOENBQU87QUFDakI7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsRUFBRSxpREFBTztBQUNUO0FBQ0EsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NuYXBwaW5nL1NuYXBwaW5nLmpzPzAzOGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgYmluZCxcbiAgZGVib3VuY2UsXG4gIGZvckVhY2gsXG4gIGlzTnVtYmVyLFxuICBpc09iamVjdFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGlzU25hcHBlZCxcbiAgc2V0U25hcHBlZFxufSBmcm9tICcuL1NuYXBVdGlsJztcblxuaW1wb3J0IHtcbiAgYXBwZW5kIGFzIHN2Z0FwcGVuZCxcbiAgYXR0ciBhcyBzdmdBdHRyLFxuICBjbGFzc2VzIGFzIHN2Z0NsYXNzZXMsXG4gIGNyZWF0ZSBhcyBzdmdDcmVhdGVcbn0gZnJvbSAndGlueS1zdmcnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvQ2FudmFzJykuZGVmYXVsdH0gQ2FudmFzXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLkV2ZW50fSBFdmVudFxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vU25hcENvbnRleHQnKS5TbmFwUG9pbnRzfSBTbmFwUG9pbnRzXG4gKi9cblxudmFyIFNOQVBfVE9MRVJBTkNFID0gNztcblxuZXhwb3J0IHZhciBTTkFQX0xJTkVfSElERV9ERUxBWSA9IDEwMDA7XG5cblxuLyoqXG4gKiBHZW5lcmljIHNuYXBwaW5nIGZlYXR1cmUuXG4gKlxuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTbmFwcGluZyhjYW52YXMpIHtcbiAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuXG4gIC8vIGRlbGF5IGhpZGUgYnkgMTAwMCBzZWNvbmRzIHNpbmNlIGxhc3Qgc25hcFxuICB0aGlzLl9hc3luY0hpZGUgPSBkZWJvdW5jZShiaW5kKHRoaXMuaGlkZSwgdGhpcyksIFNOQVBfTElORV9ISURFX0RFTEFZKTtcbn1cblxuU25hcHBpbmcuJGluamVjdCA9IFsgJ2NhbnZhcycgXTtcblxuLyoqXG4gKiBTbmFwIGFuIGV2ZW50IHRvIGdpdmVuIHNuYXAgcG9pbnRzLlxuICpcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gKiBAcGFyYW0ge1NuYXBQb2ludHN9IHNuYXBQb2ludHNcbiAqL1xuU25hcHBpbmcucHJvdG90eXBlLnNuYXAgPSBmdW5jdGlvbihldmVudCwgc25hcFBvaW50cykge1xuICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICBzbmFwQ29udGV4dCA9IGNvbnRleHQuc25hcENvbnRleHQsXG4gICAgICBzbmFwTG9jYXRpb25zID0gc25hcENvbnRleHQuZ2V0U25hcExvY2F0aW9ucygpO1xuXG4gIHZhciBzbmFwcGluZyA9IHtcbiAgICB4OiBpc1NuYXBwZWQoZXZlbnQsICd4JyksXG4gICAgeTogaXNTbmFwcGVkKGV2ZW50LCAneScpXG4gIH07XG5cbiAgZm9yRWFjaChzbmFwTG9jYXRpb25zLCBmdW5jdGlvbihsb2NhdGlvbikge1xuICAgIHZhciBzbmFwT3JpZ2luID0gc25hcENvbnRleHQuZ2V0U25hcE9yaWdpbihsb2NhdGlvbik7XG5cbiAgICB2YXIgc25hcEN1cnJlbnQgPSB7XG4gICAgICB4OiBldmVudC54ICsgc25hcE9yaWdpbi54LFxuICAgICAgeTogZXZlbnQueSArIHNuYXBPcmlnaW4ueVxuICAgIH07XG5cbiAgICAvLyBzbmFwIGJvdGggYXhpcyBpZiBub3Qgc25hcHBlZCBhbHJlYWR5XG4gICAgZm9yRWFjaChbICd4JywgJ3knIF0sIGZ1bmN0aW9uKGF4aXMpIHtcbiAgICAgIHZhciBsb2NhdGlvblNuYXBwaW5nO1xuXG4gICAgICBpZiAoIXNuYXBwaW5nW2F4aXNdKSB7XG4gICAgICAgIGxvY2F0aW9uU25hcHBpbmcgPSBzbmFwUG9pbnRzLnNuYXAoc25hcEN1cnJlbnQsIGxvY2F0aW9uLCBheGlzLCBTTkFQX1RPTEVSQU5DRSk7XG5cbiAgICAgICAgaWYgKGxvY2F0aW9uU25hcHBpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHNuYXBwaW5nW2F4aXNdID0ge1xuICAgICAgICAgICAgdmFsdWU6IGxvY2F0aW9uU25hcHBpbmcsXG4gICAgICAgICAgICBvcmlnaW5WYWx1ZTogbG9jYXRpb25TbmFwcGluZyAtIHNuYXBPcmlnaW5bYXhpc11cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBubyBuZWVkIHRvIGNvbnRpbnVlIHNuYXBwaW5nXG4gICAgaWYgKHNuYXBwaW5nLnggJiYgc25hcHBpbmcueSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gc2hvdyBzbmFwIGxpbmVzXG4gIHRoaXMuc2hvd1NuYXBMaW5lKCd2ZXJ0aWNhbCcsIHNuYXBwaW5nLnggJiYgc25hcHBpbmcueC52YWx1ZSk7XG4gIHRoaXMuc2hvd1NuYXBMaW5lKCdob3Jpem9udGFsJywgc25hcHBpbmcueSAmJiBzbmFwcGluZy55LnZhbHVlKTtcblxuICAvLyBzbmFwIGV2ZW50XG4gIGZvckVhY2goWyAneCcsICd5JyBdLCBmdW5jdGlvbihheGlzKSB7XG4gICAgdmFyIGF4aXNTbmFwcGluZyA9IHNuYXBwaW5nW2F4aXNdO1xuXG4gICAgaWYgKGlzT2JqZWN0KGF4aXNTbmFwcGluZykpIHtcbiAgICAgIHNldFNuYXBwZWQoZXZlbnQsIGF4aXMsIGF4aXNTbmFwcGluZy5vcmlnaW5WYWx1ZSk7XG4gICAgfVxuICB9KTtcbn07XG5cblNuYXBwaW5nLnByb3RvdHlwZS5fY3JlYXRlTGluZSA9IGZ1bmN0aW9uKG9yaWVudGF0aW9uKSB7XG4gIHZhciByb290ID0gdGhpcy5fY2FudmFzLmdldExheWVyKCdzbmFwJyk7XG5cbiAgdmFyIGxpbmUgPSBzdmdDcmVhdGUoJ3BhdGgnKTtcblxuICBzdmdBdHRyKGxpbmUsIHsgZDogJ00wLDAgTDAsMCcgfSk7XG5cbiAgc3ZnQ2xhc3NlcyhsaW5lKS5hZGQoJ2Rqcy1zbmFwLWxpbmUnKTtcblxuICBzdmdBcHBlbmQocm9vdCwgbGluZSk7XG5cbiAgcmV0dXJuIHtcbiAgICB1cGRhdGU6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG5cbiAgICAgIGlmICghaXNOdW1iZXIocG9zaXRpb24pKSB7XG4gICAgICAgIHN2Z0F0dHIobGluZSwgeyBkaXNwbGF5OiAnbm9uZScgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAob3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJykge1xuICAgICAgICAgIHN2Z0F0dHIobGluZSwge1xuICAgICAgICAgICAgZDogJ00tMTAwMDAwLCcgKyBwb3NpdGlvbiArICcgTCsxMDAwMDAsJyArIHBvc2l0aW9uLFxuICAgICAgICAgICAgZGlzcGxheTogJydcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdmdBdHRyKGxpbmUsIHtcbiAgICAgICAgICAgIGQ6ICdNICcgKyBwb3NpdGlvbiArICcsLTEwMDAwMCBMICcgKyBwb3NpdGlvbiArICcsICsxMDAwMDAnLFxuICAgICAgICAgICAgZGlzcGxheTogJydcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbn07XG5cblNuYXBwaW5nLnByb3RvdHlwZS5fY3JlYXRlU25hcExpbmVzID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX3NuYXBMaW5lcyA9IHtcbiAgICBob3Jpem9udGFsOiB0aGlzLl9jcmVhdGVMaW5lKCdob3Jpem9udGFsJyksXG4gICAgdmVydGljYWw6IHRoaXMuX2NyZWF0ZUxpbmUoJ3ZlcnRpY2FsJylcbiAgfTtcbn07XG5cblNuYXBwaW5nLnByb3RvdHlwZS5zaG93U25hcExpbmUgPSBmdW5jdGlvbihvcmllbnRhdGlvbiwgcG9zaXRpb24pIHtcblxuICB2YXIgbGluZSA9IHRoaXMuZ2V0U25hcExpbmUob3JpZW50YXRpb24pO1xuXG4gIGlmIChsaW5lKSB7XG4gICAgbGluZS51cGRhdGUocG9zaXRpb24pO1xuICB9XG5cbiAgdGhpcy5fYXN5bmNIaWRlKCk7XG59O1xuXG5TbmFwcGluZy5wcm90b3R5cGUuZ2V0U25hcExpbmUgPSBmdW5jdGlvbihvcmllbnRhdGlvbikge1xuICBpZiAoIXRoaXMuX3NuYXBMaW5lcykge1xuICAgIHRoaXMuX2NyZWF0ZVNuYXBMaW5lcygpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuX3NuYXBMaW5lc1tvcmllbnRhdGlvbl07XG59O1xuXG5TbmFwcGluZy5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uKCkge1xuICBmb3JFYWNoKHRoaXMuX3NuYXBMaW5lcywgZnVuY3Rpb24oc25hcExpbmUpIHtcbiAgICBzbmFwTGluZS51cGRhdGUoKTtcbiAgfSk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/snapping/Snapping.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/snapping/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/snapping/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _CreateMoveSnapping__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CreateMoveSnapping */ \"(ssr)/./node_modules/diagram-js/lib/features/snapping/CreateMoveSnapping.js\");\n/* harmony import */ var _ResizeSnapping__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ResizeSnapping */ \"(ssr)/./node_modules/diagram-js/lib/features/snapping/ResizeSnapping.js\");\n/* harmony import */ var _Snapping__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Snapping */ \"(ssr)/./node_modules/diagram-js/lib/features/snapping/Snapping.js\");\n\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [\n    'createMoveSnapping',\n    'resizeSnapping',\n    'snapping'\n  ],\n  createMoveSnapping: [ 'type', _CreateMoveSnapping__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ],\n  resizeSnapping: [ 'type', _ResizeSnapping__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ],\n  snapping: [ 'type', _Snapping__WEBPACK_IMPORTED_MODULE_2__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc25hcHBpbmcvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFzRDtBQUNSO0FBQ1o7OztBQUdsQztBQUNBLFdBQVc7QUFDWDtBQUNBLGlFQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQywyREFBa0I7QUFDbEQsNEJBQTRCLHVEQUFjO0FBQzFDLHNCQUFzQixpREFBUTtBQUM5QixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NuYXBwaW5nL2luZGV4LmpzP2Q1OTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENyZWF0ZU1vdmVTbmFwcGluZyBmcm9tICcuL0NyZWF0ZU1vdmVTbmFwcGluZyc7XG5pbXBvcnQgUmVzaXplU25hcHBpbmcgZnJvbSAnLi9SZXNpemVTbmFwcGluZyc7XG5pbXBvcnQgU25hcHBpbmcgZnJvbSAnLi9TbmFwcGluZyc7XG5cblxuLyoqXG4gKiBAdHlwZSB7IGltcG9ydCgnZGlkaScpLk1vZHVsZURlY2xhcmF0aW9uIH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogW1xuICAgICdjcmVhdGVNb3ZlU25hcHBpbmcnLFxuICAgICdyZXNpemVTbmFwcGluZycsXG4gICAgJ3NuYXBwaW5nJ1xuICBdLFxuICBjcmVhdGVNb3ZlU25hcHBpbmc6IFsgJ3R5cGUnLCBDcmVhdGVNb3ZlU25hcHBpbmcgXSxcbiAgcmVzaXplU25hcHBpbmc6IFsgJ3R5cGUnLCBSZXNpemVTbmFwcGluZyBdLFxuICBzbmFwcGluZzogWyAndHlwZScsIFNuYXBwaW5nIF1cbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/snapping/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/space-tool/SpaceTool.js":
/*!**********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/space-tool/SpaceTool.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SpaceTool)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../layout/LayoutUtil */ \"(ssr)/./node_modules/diagram-js/lib/layout/LayoutUtil.js\");\n/* harmony import */ var _util_Elements__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/Elements */ \"(ssr)/./node_modules/diagram-js/lib/util/Elements.js\");\n/* harmony import */ var _SpaceUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SpaceUtil */ \"(ssr)/./node_modules/diagram-js/lib/features/space-tool/SpaceUtil.js\");\n/* harmony import */ var _util_Mouse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/Mouse */ \"(ssr)/./node_modules/diagram-js/lib/util/Mouse.js\");\n/* harmony import */ var _util_Cursor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/Cursor */ \"(ssr)/./node_modules/diagram-js/lib/util/Cursor.js\");\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/ModelUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/ModelUtil.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('../../core/Types').ShapeLike} Shape\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../dragging/Dragging').default} Dragging\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../modeling/Modeling').default} Modeling\n * @typedef {import('../mouse/Mouse').default} Mouse\n * @typedef {import('../rules/Rules').default} Rules\n * @typedef {import('../tool-manager/ToolManager').default} ToolManager\n *\n * @typedef {import('../../util/Types').Axis} Axis\n * @typedef {import('../../util/Types').Direction} Direction\n * @typedef {import('../../util/Types').Point} Point\n */\n\nvar abs = Math.abs,\n    round = Math.round;\n\nvar AXIS_TO_DIMENSION = {\n  x: 'width',\n  y: 'height'\n};\n\nvar CURSOR_CROSSHAIR = 'crosshair';\n\nvar DIRECTION_TO_TRBL = {\n  n: 'top',\n  w: 'left',\n  s: 'bottom',\n  e: 'right'\n};\n\nvar HIGH_PRIORITY = 1500;\n\nvar DIRECTION_TO_OPPOSITE = {\n  n: 's',\n  w: 'e',\n  s: 'n',\n  e: 'w'\n};\n\nvar PADDING = 20;\n\n\n/**\n * Add or remove space by moving and resizing elements.\n *\n * @param {Canvas} canvas\n * @param {Dragging} dragging\n * @param {EventBus} eventBus\n * @param {Modeling} modeling\n * @param {Rules} rules\n * @param {ToolManager} toolManager\n * @param {Mouse} mouse\n */\nfunction SpaceTool(\n    canvas, dragging, eventBus,\n    modeling, rules, toolManager,\n    mouse) {\n\n  this._canvas = canvas;\n  this._dragging = dragging;\n  this._eventBus = eventBus;\n  this._modeling = modeling;\n  this._rules = rules;\n  this._toolManager = toolManager;\n  this._mouse = mouse;\n\n  var self = this;\n\n  toolManager.registerTool('space', {\n    tool: 'spaceTool.selection',\n    dragging: 'spaceTool'\n  });\n\n  eventBus.on('spaceTool.selection.end', function(event) {\n    eventBus.once('spaceTool.selection.ended', function() {\n      self.activateMakeSpace(event.originalEvent);\n    });\n  });\n\n  eventBus.on('spaceTool.move', HIGH_PRIORITY , function(event) {\n    var context = event.context,\n        initialized = context.initialized;\n\n    if (!initialized) {\n      initialized = context.initialized = self.init(event, context);\n    }\n\n    if (initialized) {\n      ensureConstraints(event);\n    }\n  });\n\n  eventBus.on('spaceTool.end', function(event) {\n    var context = event.context,\n        axis = context.axis,\n        direction = context.direction,\n        movingShapes = context.movingShapes,\n        resizingShapes = context.resizingShapes,\n        start = context.start;\n\n    if (!context.initialized) {\n      return;\n    }\n\n    ensureConstraints(event);\n\n    var delta = {\n      x: 0,\n      y: 0\n    };\n\n    delta[ axis ] = round(event[ 'd' + axis ]);\n\n    self.makeSpace(movingShapes, resizingShapes, delta, direction, start);\n\n    eventBus.once('spaceTool.ended', function(event) {\n\n      // activate space tool selection after make space\n      self.activateSelection(event.originalEvent, true, true);\n    });\n  });\n}\n\nSpaceTool.$inject = [\n  'canvas',\n  'dragging',\n  'eventBus',\n  'modeling',\n  'rules',\n  'toolManager',\n  'mouse'\n];\n\n/**\n * Activate space tool selection.\n *\n * @param {MouseEvent|TouchEvent} event\n * @param {boolean} autoActivate\n * @param {boolean} reactivate\n */\nSpaceTool.prototype.activateSelection = function(event, autoActivate, reactivate) {\n  this._dragging.init(event, 'spaceTool.selection', {\n    autoActivate: autoActivate,\n    cursor: CURSOR_CROSSHAIR,\n    data: {\n      context: {\n        reactivate: reactivate\n      }\n    },\n    trapClick: false\n  });\n};\n\n/**\n * Activate space tool make space.\n *\n * @param {MouseEvent|TouchEvent} event\n */\nSpaceTool.prototype.activateMakeSpace = function(event) {\n  this._dragging.init(event, 'spaceTool', {\n    autoActivate: true,\n    cursor: CURSOR_CROSSHAIR,\n    data: {\n      context: {}\n    }\n  });\n};\n\n/**\n * Make space.\n *\n * @param {Array<Shape>} movingShapes\n * @param {Array<Shape>} resizingShapes\n * @param {Point} delta\n * @param {Direction} direction\n * @param {number} start\n */\nSpaceTool.prototype.makeSpace = function(movingShapes, resizingShapes, delta, direction, start) {\n  return this._modeling.createSpace(movingShapes, resizingShapes, delta, direction, start);\n};\n\n/**\n * Initialize make space and return true if that was successful.\n *\n * @param {MouseEvent|TouchEvent} event\n * @param {Object} context\n *\n * @return {boolean}\n */\nSpaceTool.prototype.init = function(event, context) {\n  var axis = abs(event.dx) > abs(event.dy) ? 'x' : 'y',\n      delta = event[ 'd' + axis ],\n      start = event[ axis ] - delta;\n\n  if (abs(delta) < 5) {\n    return false;\n  }\n\n  // invert delta to remove space when moving left\n  if (delta < 0) {\n    delta *= -1;\n  }\n\n  // invert delta to add/remove space when removing/adding space if modifier key is pressed\n  if ((0,_util_Mouse__WEBPACK_IMPORTED_MODULE_0__.hasPrimaryModifier)(event)) {\n    delta *= -1;\n  }\n\n  var direction = (0,_SpaceUtil__WEBPACK_IMPORTED_MODULE_1__.getDirection)(axis, delta);\n\n  var root = this._canvas.getRootElement();\n\n  if (!(0,_util_Mouse__WEBPACK_IMPORTED_MODULE_0__.hasSecondaryModifier)(event) && event.hover) {\n    root = event.hover;\n  }\n\n  var children = [\n    ...(0,_util_Elements__WEBPACK_IMPORTED_MODULE_2__.selfAndAllChildren)(root, true),\n    ...(root.attachers || [])\n  ];\n\n  var elements = this.calculateAdjustments(children, axis, delta, start);\n\n  var minDimensions = this._eventBus.fire('spaceTool.getMinDimensions', {\n    axis: axis,\n    direction: direction,\n    shapes: elements.resizingShapes,\n    start: start\n  });\n\n  var spaceToolConstraints = getSpaceToolConstraints(elements, axis, direction, start, minDimensions);\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.assign)(\n    context,\n    elements,\n    {\n      axis: axis,\n      direction: direction,\n      spaceToolConstraints: spaceToolConstraints,\n      start: start\n    }\n  );\n\n  (0,_util_Cursor__WEBPACK_IMPORTED_MODULE_4__.set)('resize-' + (axis === 'x' ? 'ew' : 'ns'));\n\n  return true;\n};\n\n/**\n * Get elements to be moved and resized.\n *\n * @param {Array<Shape>} elements\n * @param {Axis} axis\n * @param {Point} delta\n * @param {number} start\n *\n * @return {Object}\n */\nSpaceTool.prototype.calculateAdjustments = function(elements, axis, delta, start) {\n  var rules = this._rules;\n\n  var movingShapes = [],\n      resizingShapes = [];\n\n  var attachers = [],\n      connections = [];\n\n  function moveShape(shape) {\n    if (!movingShapes.includes(shape)) {\n      movingShapes.push(shape);\n    }\n\n    var label = shape.label;\n\n    // move external label if its label target is moving\n    if (label && !movingShapes.includes(label)) {\n      movingShapes.push(label);\n    }\n  }\n\n  function resizeShape(shape) {\n    if (!resizingShapes.includes(shape)) {\n      resizingShapes.push(shape);\n    }\n  }\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.forEach)(elements, function(element) {\n    if (!element.parent || (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_5__.isLabel)(element)) {\n      return;\n    }\n\n    // handle connections separately\n    if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_5__.isConnection)(element)) {\n      connections.push(element);\n\n      return;\n    }\n\n    var shapeStart = element[ axis ],\n        shapeEnd = shapeStart + element[ AXIS_TO_DIMENSION[ axis ] ];\n\n    // handle attachers separately\n    if (isAttacher(element)\n      && ((delta > 0 && (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_6__.getMid)(element)[ axis ] > start)\n        || (delta < 0 && (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_6__.getMid)(element)[ axis ] < start))) {\n      attachers.push(element);\n\n      return;\n    }\n\n    // move shape if its start is after space tool\n    if ((delta > 0 && shapeStart > start)\n      || (delta < 0 && shapeEnd < start)) {\n      moveShape(element);\n\n      return;\n    }\n\n    // resize shape if it's resizable and its start is before and its end is after space tool\n    if (shapeStart < start\n      && shapeEnd > start\n      && rules.allowed('shape.resize', { shape: element })\n    ) {\n      resizeShape(element);\n\n      return;\n    }\n  });\n\n  // move attacher if its host is moving\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.forEach)(movingShapes, function(shape) {\n    var attachers = shape.attachers;\n\n    if (attachers) {\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.forEach)(attachers, function(attacher) {\n        moveShape(attacher);\n      });\n    }\n  });\n\n  var allShapes = movingShapes.concat(resizingShapes);\n\n  // move attacher if its mid is after space tool and its host is moving or resizing\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.forEach)(attachers, function(attacher) {\n    var host = attacher.host;\n\n    if (includes(allShapes, host)) {\n      moveShape(attacher);\n    }\n  });\n\n  allShapes = movingShapes.concat(resizingShapes);\n\n  // move external label if its label target's (connection) source and target are moving\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.forEach)(connections, function(connection) {\n    var source = connection.source,\n        target = connection.target,\n        label = connection.label;\n\n    if (includes(allShapes, source)\n      && includes(allShapes, target)\n      && label) {\n      moveShape(label);\n    }\n  });\n\n  return {\n    movingShapes: movingShapes,\n    resizingShapes: resizingShapes\n  };\n};\n\nSpaceTool.prototype.toggle = function() {\n\n  if (this.isActive()) {\n    return this._dragging.cancel();\n  }\n\n  var mouseEvent = this._mouse.getLastMoveEvent();\n\n  this.activateSelection(mouseEvent, !!mouseEvent);\n};\n\nSpaceTool.prototype.isActive = function() {\n  var context = this._dragging.context();\n\n  if (context) {\n    return /^spaceTool/.test(context.prefix);\n  }\n\n  return false;\n};\n\n// helpers //////////\n\nfunction addPadding(trbl) {\n  return {\n    top: trbl.top - PADDING,\n    right: trbl.right + PADDING,\n    bottom: trbl.bottom + PADDING,\n    left: trbl.left - PADDING\n  };\n}\n\nfunction ensureConstraints(event) {\n  var context = event.context,\n      spaceToolConstraints = context.spaceToolConstraints;\n\n  if (!spaceToolConstraints) {\n    return;\n  }\n\n  var x, y;\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_3__.isNumber)(spaceToolConstraints.left)) {\n    x = Math.max(event.x, spaceToolConstraints.left);\n\n    event.dx = event.dx + x - event.x;\n    event.x = x;\n  }\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_3__.isNumber)(spaceToolConstraints.right)) {\n    x = Math.min(event.x, spaceToolConstraints.right);\n\n    event.dx = event.dx + x - event.x;\n    event.x = x;\n  }\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_3__.isNumber)(spaceToolConstraints.top)) {\n    y = Math.max(event.y, spaceToolConstraints.top);\n\n    event.dy = event.dy + y - event.y;\n    event.y = y;\n  }\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_3__.isNumber)(spaceToolConstraints.bottom)) {\n    y = Math.min(event.y, spaceToolConstraints.bottom);\n\n    event.dy = event.dy + y - event.y;\n    event.y = y;\n  }\n}\n\nfunction getSpaceToolConstraints(elements, axis, direction, start, minDimensions) {\n  var movingShapes = elements.movingShapes,\n      resizingShapes = elements.resizingShapes;\n\n  if (!resizingShapes.length) {\n    return;\n  }\n\n  var spaceToolConstraints = {},\n      min,\n      max;\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.forEach)(resizingShapes, function(resizingShape) {\n    var attachers = resizingShape.attachers,\n        children = resizingShape.children;\n\n    var resizingShapeBBox = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_6__.asTRBL)(resizingShape);\n\n    // find children that are not moving or resizing\n    var nonMovingResizingChildren = (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.filter)(children, function(child) {\n      return !(0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_5__.isConnection)(child) &&\n        !(0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_5__.isLabel)(child) &&\n        !includes(movingShapes, child) &&\n        !includes(resizingShapes, child);\n    });\n\n    // find children that are moving\n    var movingChildren = (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.filter)(children, function(child) {\n      return !(0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_5__.isConnection)(child) && !(0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_5__.isLabel)(child) && includes(movingShapes, child);\n    });\n\n    var minOrMax,\n        nonMovingResizingChildrenBBox,\n        movingChildrenBBox,\n        movingAttachers = [],\n        nonMovingAttachers = [],\n        movingAttachersBBox,\n        movingAttachersConstraint,\n        nonMovingAttachersBBox,\n        nonMovingAttachersConstraint;\n\n    if (nonMovingResizingChildren.length) {\n      nonMovingResizingChildrenBBox = addPadding((0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_6__.asTRBL)((0,_util_Elements__WEBPACK_IMPORTED_MODULE_2__.getBBox)(nonMovingResizingChildren)));\n\n      minOrMax = start -\n        resizingShapeBBox[ DIRECTION_TO_TRBL[ direction ] ] +\n        nonMovingResizingChildrenBBox[ DIRECTION_TO_TRBL[ direction ] ];\n\n      if (direction === 'n') {\n        spaceToolConstraints.bottom = max = (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.isNumber)(max) ? Math.min(max, minOrMax) : minOrMax;\n      } else if (direction === 'w') {\n        spaceToolConstraints.right = max = (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.isNumber)(max) ? Math.min(max, minOrMax) : minOrMax;\n      } else if (direction === 's') {\n        spaceToolConstraints.top = min = (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.isNumber)(min) ? Math.max(min, minOrMax) : minOrMax;\n      } else if (direction === 'e') {\n        spaceToolConstraints.left = min = (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.isNumber)(min) ? Math.max(min, minOrMax) : minOrMax;\n      }\n    }\n\n    if (movingChildren.length) {\n      movingChildrenBBox = addPadding((0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_6__.asTRBL)((0,_util_Elements__WEBPACK_IMPORTED_MODULE_2__.getBBox)(movingChildren)));\n\n      minOrMax = start -\n        movingChildrenBBox[ DIRECTION_TO_TRBL[ DIRECTION_TO_OPPOSITE[ direction ] ] ] +\n        resizingShapeBBox[ DIRECTION_TO_TRBL[ DIRECTION_TO_OPPOSITE[ direction ] ] ];\n\n      if (direction === 'n') {\n        spaceToolConstraints.bottom = max = (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.isNumber)(max) ? Math.min(max, minOrMax) : minOrMax;\n      } else if (direction === 'w') {\n        spaceToolConstraints.right = max = (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.isNumber)(max) ? Math.min(max, minOrMax) : minOrMax;\n      } else if (direction === 's') {\n        spaceToolConstraints.top = min = (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.isNumber)(min) ? Math.max(min, minOrMax) : minOrMax;\n      } else if (direction === 'e') {\n        spaceToolConstraints.left = min = (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.isNumber)(min) ? Math.max(min, minOrMax) : minOrMax;\n      }\n    }\n\n    if (attachers && attachers.length) {\n      attachers.forEach(function(attacher) {\n        if (includes(movingShapes, attacher)) {\n          movingAttachers.push(attacher);\n        } else {\n          nonMovingAttachers.push(attacher);\n        }\n      });\n\n      if (movingAttachers.length) {\n        movingAttachersBBox = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_6__.asTRBL)((0,_util_Elements__WEBPACK_IMPORTED_MODULE_2__.getBBox)(movingAttachers.map(_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_6__.getMid)));\n\n        movingAttachersConstraint = resizingShapeBBox[ DIRECTION_TO_TRBL[ DIRECTION_TO_OPPOSITE[ direction ] ] ]\n              - (movingAttachersBBox[ DIRECTION_TO_TRBL[ DIRECTION_TO_OPPOSITE[ direction ] ] ] - start);\n      }\n\n      if (nonMovingAttachers.length) {\n        nonMovingAttachersBBox = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_6__.asTRBL)((0,_util_Elements__WEBPACK_IMPORTED_MODULE_2__.getBBox)(nonMovingAttachers.map(_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_6__.getMid)));\n\n        nonMovingAttachersConstraint = nonMovingAttachersBBox[ DIRECTION_TO_TRBL[ direction ] ]\n              - (resizingShapeBBox[ DIRECTION_TO_TRBL[ direction ] ] - start);\n      }\n\n      if (direction === 'n') {\n        minOrMax = Math.min(movingAttachersConstraint || Infinity, nonMovingAttachersConstraint || Infinity);\n\n        spaceToolConstraints.bottom = max = (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.isNumber)(max) ? Math.min(max, minOrMax) : minOrMax;\n      } else if (direction === 'w') {\n        minOrMax = Math.min(movingAttachersConstraint || Infinity, nonMovingAttachersConstraint || Infinity);\n\n        spaceToolConstraints.right = max = (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.isNumber)(max) ? Math.min(max, minOrMax) : minOrMax;\n      } else if (direction === 's') {\n        minOrMax = Math.max(movingAttachersConstraint || -Infinity, nonMovingAttachersConstraint || -Infinity);\n\n        spaceToolConstraints.top = min = (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.isNumber)(min) ? Math.max(min, minOrMax) : minOrMax;\n      } else if (direction === 'e') {\n        minOrMax = Math.max(movingAttachersConstraint || -Infinity, nonMovingAttachersConstraint || -Infinity);\n\n        spaceToolConstraints.left = min = (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.isNumber)(min) ? Math.max(min, minOrMax) : minOrMax;\n      }\n    }\n\n    var resizingShapeMinDimensions = minDimensions && minDimensions[ resizingShape.id ];\n\n    if (resizingShapeMinDimensions) {\n\n      if (direction === 'n') {\n        minOrMax = start +\n          resizingShape[ AXIS_TO_DIMENSION [ axis ] ] -\n          resizingShapeMinDimensions[ AXIS_TO_DIMENSION[ axis ] ];\n\n        spaceToolConstraints.bottom = max = (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.isNumber)(max) ? Math.min(max, minOrMax) : minOrMax;\n      } else if (direction === 'w') {\n        minOrMax = start +\n          resizingShape[ AXIS_TO_DIMENSION [ axis ] ] -\n          resizingShapeMinDimensions[ AXIS_TO_DIMENSION[ axis ] ];\n\n        spaceToolConstraints.right = max = (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.isNumber)(max) ? Math.min(max, minOrMax) : minOrMax;\n      } else if (direction === 's') {\n        minOrMax = start -\n          resizingShape[ AXIS_TO_DIMENSION [ axis ] ] +\n          resizingShapeMinDimensions[ AXIS_TO_DIMENSION[ axis ] ];\n\n        spaceToolConstraints.top = min = (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.isNumber)(min) ? Math.max(min, minOrMax) : minOrMax;\n      } else if (direction === 'e') {\n        minOrMax = start -\n          resizingShape[ AXIS_TO_DIMENSION [ axis ] ] +\n          resizingShapeMinDimensions[ AXIS_TO_DIMENSION[ axis ] ];\n\n        spaceToolConstraints.left = min = (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.isNumber)(min) ? Math.max(min, minOrMax) : minOrMax;\n      }\n    }\n  });\n\n  return spaceToolConstraints;\n}\n\nfunction includes(array, item) {\n  return array.indexOf(item) !== -1;\n}\n\nfunction isAttacher(element) {\n  return !!element.host;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc3BhY2UtdG9vbC9TcGFjZVRvb2wuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFLa0I7O0FBS2U7O0FBRWE7O0FBRUg7O0FBS2pCOztBQUUyQjs7QUFFSTs7QUFLM0I7O0FBRTlCO0FBQ0EsYUFBYSxzQ0FBc0M7QUFDbkQ7QUFDQSxhQUFhLHFDQUFxQztBQUNsRCxhQUFhLHdDQUF3QztBQUNyRCxhQUFhLHVDQUF1QztBQUNwRCxhQUFhLHdDQUF3QztBQUNyRCxhQUFhLGtDQUFrQztBQUMvQyxhQUFhLGtDQUFrQztBQUMvQyxhQUFhLCtDQUErQztBQUM1RDtBQUNBLGFBQWEsaUNBQWlDO0FBQzlDLGFBQWEsc0NBQXNDO0FBQ25ELGFBQWEsa0NBQWtDO0FBQy9DOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQixXQUFXLFVBQVU7QUFDckIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsT0FBTztBQUNsQixXQUFXLGFBQWE7QUFDeEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHVCQUF1QjtBQUNsQyxXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHVCQUF1QjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QixXQUFXLGNBQWM7QUFDekIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsV0FBVztBQUN0QixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyx1QkFBdUI7QUFDbEMsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTSwrREFBa0I7QUFDeEI7QUFDQTs7QUFFQSxrQkFBa0Isd0RBQVk7O0FBRTlCOztBQUVBLE9BQU8saUVBQW9CO0FBQzNCO0FBQ0E7O0FBRUE7QUFDQSxPQUFPLGtFQUFrQjtBQUN6QjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBLEVBQUUsZ0RBQU07QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRSxpREFBUzs7QUFFWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QixXQUFXLE1BQU07QUFDakIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFLGlEQUFPO0FBQ1QsMkJBQTJCLHdEQUFPO0FBQ2xDO0FBQ0E7O0FBRUE7QUFDQSxRQUFRLDZEQUFZO0FBQ3BCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esd0JBQXdCLDBEQUFNO0FBQzlCLHlCQUF5QiwwREFBTTtBQUMvQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLGdCQUFnQjtBQUN6RDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsRUFBRSxpREFBTztBQUNUOztBQUVBO0FBQ0EsTUFBTSxpREFBTztBQUNiO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBLEVBQUUsaURBQU87QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0EsRUFBRSxpREFBTztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLE1BQU0sa0RBQVE7QUFDZDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTSxrREFBUTtBQUNkOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNLGtEQUFRO0FBQ2Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBLE1BQU0sa0RBQVE7QUFDZDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLCtCQUErQjtBQUMvQjtBQUNBOztBQUVBLEVBQUUsaURBQU87QUFDVDtBQUNBOztBQUVBLDRCQUE0QiwwREFBTTs7QUFFbEM7QUFDQSxvQ0FBb0MsZ0RBQU07QUFDMUMsY0FBYyw2REFBWTtBQUMxQixTQUFTLHdEQUFPO0FBQ2hCO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EseUJBQXlCLGdEQUFNO0FBQy9CLGNBQWMsNkRBQVksWUFBWSx3REFBTztBQUM3QyxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlEQUFpRCwwREFBTSxDQUFDLHVEQUFPOztBQUUvRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEMsa0RBQVE7QUFDcEQsUUFBUTtBQUNSLDJDQUEyQyxrREFBUTtBQUNuRCxRQUFRO0FBQ1IseUNBQXlDLGtEQUFRO0FBQ2pELFFBQVE7QUFDUiwwQ0FBMEMsa0RBQVE7QUFDbEQ7QUFDQTs7QUFFQTtBQUNBLHNDQUFzQywwREFBTSxDQUFDLHVEQUFPOztBQUVwRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEMsa0RBQVE7QUFDcEQsUUFBUTtBQUNSLDJDQUEyQyxrREFBUTtBQUNuRCxRQUFRO0FBQ1IseUNBQXlDLGtEQUFRO0FBQ2pELFFBQVE7QUFDUiwwQ0FBMEMsa0RBQVE7QUFDbEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBLDhCQUE4QiwwREFBTSxDQUFDLHVEQUFPLHFCQUFxQixzREFBTTs7QUFFdkU7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUNBQWlDLDBEQUFNLENBQUMsdURBQU8sd0JBQXdCLHNEQUFNOztBQUU3RTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSw0Q0FBNEMsa0RBQVE7QUFDcEQsUUFBUTtBQUNSOztBQUVBLDJDQUEyQyxrREFBUTtBQUNuRCxRQUFRO0FBQ1I7O0FBRUEseUNBQXlDLGtEQUFRO0FBQ2pELFFBQVE7QUFDUjs7QUFFQSwwQ0FBMEMsa0RBQVE7QUFDbEQ7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0Q0FBNEMsa0RBQVE7QUFDcEQsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQSwyQ0FBMkMsa0RBQVE7QUFDbkQsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQSx5Q0FBeUMsa0RBQVE7QUFDakQsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQSwwQ0FBMEMsa0RBQVE7QUFDbEQ7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3NwYWNlLXRvb2wvU3BhY2VUb29sLmpzP2MzNTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgYXNzaWduLFxuICBmaWx0ZXIsXG4gIGZvckVhY2gsXG4gIGlzTnVtYmVyXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgYXNUUkJMLFxuICBnZXRNaWRcbn0gZnJvbSAnLi4vLi4vbGF5b3V0L0xheW91dFV0aWwnO1xuXG5pbXBvcnQgeyBnZXRCQm94IH0gZnJvbSAnLi4vLi4vdXRpbC9FbGVtZW50cyc7XG5cbmltcG9ydCB7IGdldERpcmVjdGlvbiB9IGZyb20gJy4vU3BhY2VVdGlsJztcblxuaW1wb3J0IHtcbiAgaGFzUHJpbWFyeU1vZGlmaWVyLFxuICBoYXNTZWNvbmRhcnlNb2RpZmllclxufSBmcm9tICcuLi8uLi91dGlsL01vdXNlJztcblxuaW1wb3J0IHsgc2V0IGFzIHNldEN1cnNvciB9IGZyb20gJy4uLy4uL3V0aWwvQ3Vyc29yJztcblxuaW1wb3J0IHsgc2VsZkFuZEFsbENoaWxkcmVuIH0gZnJvbSAnLi4vLi4vdXRpbC9FbGVtZW50cyc7XG5cbmltcG9ydCB7XG4gIGlzQ29ubmVjdGlvbixcbiAgaXNMYWJlbFxufSBmcm9tICcuLi8uLi91dGlsL01vZGVsVXRpbCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9UeXBlcycpLlNoYXBlTGlrZX0gU2hhcGVcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0NhbnZhcycpLmRlZmF1bHR9IENhbnZhc1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vZHJhZ2dpbmcvRHJhZ2dpbmcnKS5kZWZhdWx0fSBEcmFnZ2luZ1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9tb2RlbGluZy9Nb2RlbGluZycpLmRlZmF1bHR9IE1vZGVsaW5nXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9tb3VzZS9Nb3VzZScpLmRlZmF1bHR9IE1vdXNlXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9ydWxlcy9SdWxlcycpLmRlZmF1bHR9IFJ1bGVzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi90b29sLW1hbmFnZXIvVG9vbE1hbmFnZXInKS5kZWZhdWx0fSBUb29sTWFuYWdlclxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL3V0aWwvVHlwZXMnKS5BeGlzfSBBeGlzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi91dGlsL1R5cGVzJykuRGlyZWN0aW9ufSBEaXJlY3Rpb25cbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL3V0aWwvVHlwZXMnKS5Qb2ludH0gUG9pbnRcbiAqL1xuXG52YXIgYWJzID0gTWF0aC5hYnMsXG4gICAgcm91bmQgPSBNYXRoLnJvdW5kO1xuXG52YXIgQVhJU19UT19ESU1FTlNJT04gPSB7XG4gIHg6ICd3aWR0aCcsXG4gIHk6ICdoZWlnaHQnXG59O1xuXG52YXIgQ1VSU09SX0NST1NTSEFJUiA9ICdjcm9zc2hhaXInO1xuXG52YXIgRElSRUNUSU9OX1RPX1RSQkwgPSB7XG4gIG46ICd0b3AnLFxuICB3OiAnbGVmdCcsXG4gIHM6ICdib3R0b20nLFxuICBlOiAncmlnaHQnXG59O1xuXG52YXIgSElHSF9QUklPUklUWSA9IDE1MDA7XG5cbnZhciBESVJFQ1RJT05fVE9fT1BQT1NJVEUgPSB7XG4gIG46ICdzJyxcbiAgdzogJ2UnLFxuICBzOiAnbicsXG4gIGU6ICd3J1xufTtcblxudmFyIFBBRERJTkcgPSAyMDtcblxuXG4vKipcbiAqIEFkZCBvciByZW1vdmUgc3BhY2UgYnkgbW92aW5nIGFuZCByZXNpemluZyBlbGVtZW50cy5cbiAqXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKiBAcGFyYW0ge0RyYWdnaW5nfSBkcmFnZ2luZ1xuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7TW9kZWxpbmd9IG1vZGVsaW5nXG4gKiBAcGFyYW0ge1J1bGVzfSBydWxlc1xuICogQHBhcmFtIHtUb29sTWFuYWdlcn0gdG9vbE1hbmFnZXJcbiAqIEBwYXJhbSB7TW91c2V9IG1vdXNlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNwYWNlVG9vbChcbiAgICBjYW52YXMsIGRyYWdnaW5nLCBldmVudEJ1cyxcbiAgICBtb2RlbGluZywgcnVsZXMsIHRvb2xNYW5hZ2VyLFxuICAgIG1vdXNlKSB7XG5cbiAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuICB0aGlzLl9kcmFnZ2luZyA9IGRyYWdnaW5nO1xuICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuICB0aGlzLl9tb2RlbGluZyA9IG1vZGVsaW5nO1xuICB0aGlzLl9ydWxlcyA9IHJ1bGVzO1xuICB0aGlzLl90b29sTWFuYWdlciA9IHRvb2xNYW5hZ2VyO1xuICB0aGlzLl9tb3VzZSA9IG1vdXNlO1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICB0b29sTWFuYWdlci5yZWdpc3RlclRvb2woJ3NwYWNlJywge1xuICAgIHRvb2w6ICdzcGFjZVRvb2wuc2VsZWN0aW9uJyxcbiAgICBkcmFnZ2luZzogJ3NwYWNlVG9vbCdcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oJ3NwYWNlVG9vbC5zZWxlY3Rpb24uZW5kJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBldmVudEJ1cy5vbmNlKCdzcGFjZVRvb2wuc2VsZWN0aW9uLmVuZGVkJywgZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLmFjdGl2YXRlTWFrZVNwYWNlKGV2ZW50Lm9yaWdpbmFsRXZlbnQpO1xuICAgIH0pO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignc3BhY2VUb29sLm1vdmUnLCBISUdIX1BSSU9SSVRZICwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGluaXRpYWxpemVkID0gY29udGV4dC5pbml0aWFsaXplZDtcblxuICAgIGlmICghaW5pdGlhbGl6ZWQpIHtcbiAgICAgIGluaXRpYWxpemVkID0gY29udGV4dC5pbml0aWFsaXplZCA9IHNlbGYuaW5pdChldmVudCwgY29udGV4dCk7XG4gICAgfVxuXG4gICAgaWYgKGluaXRpYWxpemVkKSB7XG4gICAgICBlbnN1cmVDb25zdHJhaW50cyhldmVudCk7XG4gICAgfVxuICB9KTtcblxuICBldmVudEJ1cy5vbignc3BhY2VUb29sLmVuZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBheGlzID0gY29udGV4dC5heGlzLFxuICAgICAgICBkaXJlY3Rpb24gPSBjb250ZXh0LmRpcmVjdGlvbixcbiAgICAgICAgbW92aW5nU2hhcGVzID0gY29udGV4dC5tb3ZpbmdTaGFwZXMsXG4gICAgICAgIHJlc2l6aW5nU2hhcGVzID0gY29udGV4dC5yZXNpemluZ1NoYXBlcyxcbiAgICAgICAgc3RhcnQgPSBjb250ZXh0LnN0YXJ0O1xuXG4gICAgaWYgKCFjb250ZXh0LmluaXRpYWxpemVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZW5zdXJlQ29uc3RyYWludHMoZXZlbnQpO1xuXG4gICAgdmFyIGRlbHRhID0ge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDBcbiAgICB9O1xuXG4gICAgZGVsdGFbIGF4aXMgXSA9IHJvdW5kKGV2ZW50WyAnZCcgKyBheGlzIF0pO1xuXG4gICAgc2VsZi5tYWtlU3BhY2UobW92aW5nU2hhcGVzLCByZXNpemluZ1NoYXBlcywgZGVsdGEsIGRpcmVjdGlvbiwgc3RhcnQpO1xuXG4gICAgZXZlbnRCdXMub25jZSgnc3BhY2VUb29sLmVuZGVkJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgLy8gYWN0aXZhdGUgc3BhY2UgdG9vbCBzZWxlY3Rpb24gYWZ0ZXIgbWFrZSBzcGFjZVxuICAgICAgc2VsZi5hY3RpdmF0ZVNlbGVjdGlvbihldmVudC5vcmlnaW5hbEV2ZW50LCB0cnVlLCB0cnVlKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cblNwYWNlVG9vbC4kaW5qZWN0ID0gW1xuICAnY2FudmFzJyxcbiAgJ2RyYWdnaW5nJyxcbiAgJ2V2ZW50QnVzJyxcbiAgJ21vZGVsaW5nJyxcbiAgJ3J1bGVzJyxcbiAgJ3Rvb2xNYW5hZ2VyJyxcbiAgJ21vdXNlJ1xuXTtcblxuLyoqXG4gKiBBY3RpdmF0ZSBzcGFjZSB0b29sIHNlbGVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR8VG91Y2hFdmVudH0gZXZlbnRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gYXV0b0FjdGl2YXRlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHJlYWN0aXZhdGVcbiAqL1xuU3BhY2VUb29sLnByb3RvdHlwZS5hY3RpdmF0ZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKGV2ZW50LCBhdXRvQWN0aXZhdGUsIHJlYWN0aXZhdGUpIHtcbiAgdGhpcy5fZHJhZ2dpbmcuaW5pdChldmVudCwgJ3NwYWNlVG9vbC5zZWxlY3Rpb24nLCB7XG4gICAgYXV0b0FjdGl2YXRlOiBhdXRvQWN0aXZhdGUsXG4gICAgY3Vyc29yOiBDVVJTT1JfQ1JPU1NIQUlSLFxuICAgIGRhdGE6IHtcbiAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgcmVhY3RpdmF0ZTogcmVhY3RpdmF0ZVxuICAgICAgfVxuICAgIH0sXG4gICAgdHJhcENsaWNrOiBmYWxzZVxuICB9KTtcbn07XG5cbi8qKlxuICogQWN0aXZhdGUgc3BhY2UgdG9vbCBtYWtlIHNwYWNlLlxuICpcbiAqIEBwYXJhbSB7TW91c2VFdmVudHxUb3VjaEV2ZW50fSBldmVudFxuICovXG5TcGFjZVRvb2wucHJvdG90eXBlLmFjdGl2YXRlTWFrZVNwYWNlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgdGhpcy5fZHJhZ2dpbmcuaW5pdChldmVudCwgJ3NwYWNlVG9vbCcsIHtcbiAgICBhdXRvQWN0aXZhdGU6IHRydWUsXG4gICAgY3Vyc29yOiBDVVJTT1JfQ1JPU1NIQUlSLFxuICAgIGRhdGE6IHtcbiAgICAgIGNvbnRleHQ6IHt9XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICogTWFrZSBzcGFjZS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PFNoYXBlPn0gbW92aW5nU2hhcGVzXG4gKiBAcGFyYW0ge0FycmF5PFNoYXBlPn0gcmVzaXppbmdTaGFwZXNcbiAqIEBwYXJhbSB7UG9pbnR9IGRlbHRhXG4gKiBAcGFyYW0ge0RpcmVjdGlvbn0gZGlyZWN0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRcbiAqL1xuU3BhY2VUb29sLnByb3RvdHlwZS5tYWtlU3BhY2UgPSBmdW5jdGlvbihtb3ZpbmdTaGFwZXMsIHJlc2l6aW5nU2hhcGVzLCBkZWx0YSwgZGlyZWN0aW9uLCBzdGFydCkge1xuICByZXR1cm4gdGhpcy5fbW9kZWxpbmcuY3JlYXRlU3BhY2UobW92aW5nU2hhcGVzLCByZXNpemluZ1NoYXBlcywgZGVsdGEsIGRpcmVjdGlvbiwgc3RhcnQpO1xufTtcblxuLyoqXG4gKiBJbml0aWFsaXplIG1ha2Ugc3BhY2UgYW5kIHJldHVybiB0cnVlIGlmIHRoYXQgd2FzIHN1Y2Nlc3NmdWwuXG4gKlxuICogQHBhcmFtIHtNb3VzZUV2ZW50fFRvdWNoRXZlbnR9IGV2ZW50XG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cblNwYWNlVG9vbC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKGV2ZW50LCBjb250ZXh0KSB7XG4gIHZhciBheGlzID0gYWJzKGV2ZW50LmR4KSA+IGFicyhldmVudC5keSkgPyAneCcgOiAneScsXG4gICAgICBkZWx0YSA9IGV2ZW50WyAnZCcgKyBheGlzIF0sXG4gICAgICBzdGFydCA9IGV2ZW50WyBheGlzIF0gLSBkZWx0YTtcblxuICBpZiAoYWJzKGRlbHRhKSA8IDUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBpbnZlcnQgZGVsdGEgdG8gcmVtb3ZlIHNwYWNlIHdoZW4gbW92aW5nIGxlZnRcbiAgaWYgKGRlbHRhIDwgMCkge1xuICAgIGRlbHRhICo9IC0xO1xuICB9XG5cbiAgLy8gaW52ZXJ0IGRlbHRhIHRvIGFkZC9yZW1vdmUgc3BhY2Ugd2hlbiByZW1vdmluZy9hZGRpbmcgc3BhY2UgaWYgbW9kaWZpZXIga2V5IGlzIHByZXNzZWRcbiAgaWYgKGhhc1ByaW1hcnlNb2RpZmllcihldmVudCkpIHtcbiAgICBkZWx0YSAqPSAtMTtcbiAgfVxuXG4gIHZhciBkaXJlY3Rpb24gPSBnZXREaXJlY3Rpb24oYXhpcywgZGVsdGEpO1xuXG4gIHZhciByb290ID0gdGhpcy5fY2FudmFzLmdldFJvb3RFbGVtZW50KCk7XG5cbiAgaWYgKCFoYXNTZWNvbmRhcnlNb2RpZmllcihldmVudCkgJiYgZXZlbnQuaG92ZXIpIHtcbiAgICByb290ID0gZXZlbnQuaG92ZXI7XG4gIH1cblxuICB2YXIgY2hpbGRyZW4gPSBbXG4gICAgLi4uc2VsZkFuZEFsbENoaWxkcmVuKHJvb3QsIHRydWUpLFxuICAgIC4uLihyb290LmF0dGFjaGVycyB8fCBbXSlcbiAgXTtcblxuICB2YXIgZWxlbWVudHMgPSB0aGlzLmNhbGN1bGF0ZUFkanVzdG1lbnRzKGNoaWxkcmVuLCBheGlzLCBkZWx0YSwgc3RhcnQpO1xuXG4gIHZhciBtaW5EaW1lbnNpb25zID0gdGhpcy5fZXZlbnRCdXMuZmlyZSgnc3BhY2VUb29sLmdldE1pbkRpbWVuc2lvbnMnLCB7XG4gICAgYXhpczogYXhpcyxcbiAgICBkaXJlY3Rpb246IGRpcmVjdGlvbixcbiAgICBzaGFwZXM6IGVsZW1lbnRzLnJlc2l6aW5nU2hhcGVzLFxuICAgIHN0YXJ0OiBzdGFydFxuICB9KTtcblxuICB2YXIgc3BhY2VUb29sQ29uc3RyYWludHMgPSBnZXRTcGFjZVRvb2xDb25zdHJhaW50cyhlbGVtZW50cywgYXhpcywgZGlyZWN0aW9uLCBzdGFydCwgbWluRGltZW5zaW9ucyk7XG5cbiAgYXNzaWduKFxuICAgIGNvbnRleHQsXG4gICAgZWxlbWVudHMsXG4gICAge1xuICAgICAgYXhpczogYXhpcyxcbiAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uLFxuICAgICAgc3BhY2VUb29sQ29uc3RyYWludHM6IHNwYWNlVG9vbENvbnN0cmFpbnRzLFxuICAgICAgc3RhcnQ6IHN0YXJ0XG4gICAgfVxuICApO1xuXG4gIHNldEN1cnNvcigncmVzaXplLScgKyAoYXhpcyA9PT0gJ3gnID8gJ2V3JyA6ICducycpKTtcblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogR2V0IGVsZW1lbnRzIHRvIGJlIG1vdmVkIGFuZCByZXNpemVkLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8U2hhcGU+fSBlbGVtZW50c1xuICogQHBhcmFtIHtBeGlzfSBheGlzXG4gKiBAcGFyYW0ge1BvaW50fSBkZWx0YVxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0XG4gKlxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5TcGFjZVRvb2wucHJvdG90eXBlLmNhbGN1bGF0ZUFkanVzdG1lbnRzID0gZnVuY3Rpb24oZWxlbWVudHMsIGF4aXMsIGRlbHRhLCBzdGFydCkge1xuICB2YXIgcnVsZXMgPSB0aGlzLl9ydWxlcztcblxuICB2YXIgbW92aW5nU2hhcGVzID0gW10sXG4gICAgICByZXNpemluZ1NoYXBlcyA9IFtdO1xuXG4gIHZhciBhdHRhY2hlcnMgPSBbXSxcbiAgICAgIGNvbm5lY3Rpb25zID0gW107XG5cbiAgZnVuY3Rpb24gbW92ZVNoYXBlKHNoYXBlKSB7XG4gICAgaWYgKCFtb3ZpbmdTaGFwZXMuaW5jbHVkZXMoc2hhcGUpKSB7XG4gICAgICBtb3ZpbmdTaGFwZXMucHVzaChzaGFwZSk7XG4gICAgfVxuXG4gICAgdmFyIGxhYmVsID0gc2hhcGUubGFiZWw7XG5cbiAgICAvLyBtb3ZlIGV4dGVybmFsIGxhYmVsIGlmIGl0cyBsYWJlbCB0YXJnZXQgaXMgbW92aW5nXG4gICAgaWYgKGxhYmVsICYmICFtb3ZpbmdTaGFwZXMuaW5jbHVkZXMobGFiZWwpKSB7XG4gICAgICBtb3ZpbmdTaGFwZXMucHVzaChsYWJlbCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVzaXplU2hhcGUoc2hhcGUpIHtcbiAgICBpZiAoIXJlc2l6aW5nU2hhcGVzLmluY2x1ZGVzKHNoYXBlKSkge1xuICAgICAgcmVzaXppbmdTaGFwZXMucHVzaChzaGFwZSk7XG4gICAgfVxuICB9XG5cbiAgZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIGlmICghZWxlbWVudC5wYXJlbnQgfHwgaXNMYWJlbChlbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGhhbmRsZSBjb25uZWN0aW9ucyBzZXBhcmF0ZWx5XG4gICAgaWYgKGlzQ29ubmVjdGlvbihlbGVtZW50KSkge1xuICAgICAgY29ubmVjdGlvbnMucHVzaChlbGVtZW50KTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBzaGFwZVN0YXJ0ID0gZWxlbWVudFsgYXhpcyBdLFxuICAgICAgICBzaGFwZUVuZCA9IHNoYXBlU3RhcnQgKyBlbGVtZW50WyBBWElTX1RPX0RJTUVOU0lPTlsgYXhpcyBdIF07XG5cbiAgICAvLyBoYW5kbGUgYXR0YWNoZXJzIHNlcGFyYXRlbHlcbiAgICBpZiAoaXNBdHRhY2hlcihlbGVtZW50KVxuICAgICAgJiYgKChkZWx0YSA+IDAgJiYgZ2V0TWlkKGVsZW1lbnQpWyBheGlzIF0gPiBzdGFydClcbiAgICAgICAgfHwgKGRlbHRhIDwgMCAmJiBnZXRNaWQoZWxlbWVudClbIGF4aXMgXSA8IHN0YXJ0KSkpIHtcbiAgICAgIGF0dGFjaGVycy5wdXNoKGVsZW1lbnQpO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gbW92ZSBzaGFwZSBpZiBpdHMgc3RhcnQgaXMgYWZ0ZXIgc3BhY2UgdG9vbFxuICAgIGlmICgoZGVsdGEgPiAwICYmIHNoYXBlU3RhcnQgPiBzdGFydClcbiAgICAgIHx8IChkZWx0YSA8IDAgJiYgc2hhcGVFbmQgPCBzdGFydCkpIHtcbiAgICAgIG1vdmVTaGFwZShlbGVtZW50KTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHJlc2l6ZSBzaGFwZSBpZiBpdCdzIHJlc2l6YWJsZSBhbmQgaXRzIHN0YXJ0IGlzIGJlZm9yZSBhbmQgaXRzIGVuZCBpcyBhZnRlciBzcGFjZSB0b29sXG4gICAgaWYgKHNoYXBlU3RhcnQgPCBzdGFydFxuICAgICAgJiYgc2hhcGVFbmQgPiBzdGFydFxuICAgICAgJiYgcnVsZXMuYWxsb3dlZCgnc2hhcGUucmVzaXplJywgeyBzaGFwZTogZWxlbWVudCB9KVxuICAgICkge1xuICAgICAgcmVzaXplU2hhcGUoZWxlbWVudCk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIG1vdmUgYXR0YWNoZXIgaWYgaXRzIGhvc3QgaXMgbW92aW5nXG4gIGZvckVhY2gobW92aW5nU2hhcGVzLCBmdW5jdGlvbihzaGFwZSkge1xuICAgIHZhciBhdHRhY2hlcnMgPSBzaGFwZS5hdHRhY2hlcnM7XG5cbiAgICBpZiAoYXR0YWNoZXJzKSB7XG4gICAgICBmb3JFYWNoKGF0dGFjaGVycywgZnVuY3Rpb24oYXR0YWNoZXIpIHtcbiAgICAgICAgbW92ZVNoYXBlKGF0dGFjaGVyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGFsbFNoYXBlcyA9IG1vdmluZ1NoYXBlcy5jb25jYXQocmVzaXppbmdTaGFwZXMpO1xuXG4gIC8vIG1vdmUgYXR0YWNoZXIgaWYgaXRzIG1pZCBpcyBhZnRlciBzcGFjZSB0b29sIGFuZCBpdHMgaG9zdCBpcyBtb3Zpbmcgb3IgcmVzaXppbmdcbiAgZm9yRWFjaChhdHRhY2hlcnMsIGZ1bmN0aW9uKGF0dGFjaGVyKSB7XG4gICAgdmFyIGhvc3QgPSBhdHRhY2hlci5ob3N0O1xuXG4gICAgaWYgKGluY2x1ZGVzKGFsbFNoYXBlcywgaG9zdCkpIHtcbiAgICAgIG1vdmVTaGFwZShhdHRhY2hlcik7XG4gICAgfVxuICB9KTtcblxuICBhbGxTaGFwZXMgPSBtb3ZpbmdTaGFwZXMuY29uY2F0KHJlc2l6aW5nU2hhcGVzKTtcblxuICAvLyBtb3ZlIGV4dGVybmFsIGxhYmVsIGlmIGl0cyBsYWJlbCB0YXJnZXQncyAoY29ubmVjdGlvbikgc291cmNlIGFuZCB0YXJnZXQgYXJlIG1vdmluZ1xuICBmb3JFYWNoKGNvbm5lY3Rpb25zLCBmdW5jdGlvbihjb25uZWN0aW9uKSB7XG4gICAgdmFyIHNvdXJjZSA9IGNvbm5lY3Rpb24uc291cmNlLFxuICAgICAgICB0YXJnZXQgPSBjb25uZWN0aW9uLnRhcmdldCxcbiAgICAgICAgbGFiZWwgPSBjb25uZWN0aW9uLmxhYmVsO1xuXG4gICAgaWYgKGluY2x1ZGVzKGFsbFNoYXBlcywgc291cmNlKVxuICAgICAgJiYgaW5jbHVkZXMoYWxsU2hhcGVzLCB0YXJnZXQpXG4gICAgICAmJiBsYWJlbCkge1xuICAgICAgbW92ZVNoYXBlKGxhYmVsKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgbW92aW5nU2hhcGVzOiBtb3ZpbmdTaGFwZXMsXG4gICAgcmVzaXppbmdTaGFwZXM6IHJlc2l6aW5nU2hhcGVzXG4gIH07XG59O1xuXG5TcGFjZVRvb2wucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uKCkge1xuXG4gIGlmICh0aGlzLmlzQWN0aXZlKCkpIHtcbiAgICByZXR1cm4gdGhpcy5fZHJhZ2dpbmcuY2FuY2VsKCk7XG4gIH1cblxuICB2YXIgbW91c2VFdmVudCA9IHRoaXMuX21vdXNlLmdldExhc3RNb3ZlRXZlbnQoKTtcblxuICB0aGlzLmFjdGl2YXRlU2VsZWN0aW9uKG1vdXNlRXZlbnQsICEhbW91c2VFdmVudCk7XG59O1xuXG5TcGFjZVRvb2wucHJvdG90eXBlLmlzQWN0aXZlID0gZnVuY3Rpb24oKSB7XG4gIHZhciBjb250ZXh0ID0gdGhpcy5fZHJhZ2dpbmcuY29udGV4dCgpO1xuXG4gIGlmIChjb250ZXh0KSB7XG4gICAgcmV0dXJuIC9ec3BhY2VUb29sLy50ZXN0KGNvbnRleHQucHJlZml4KTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn07XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBhZGRQYWRkaW5nKHRyYmwpIHtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IHRyYmwudG9wIC0gUEFERElORyxcbiAgICByaWdodDogdHJibC5yaWdodCArIFBBRERJTkcsXG4gICAgYm90dG9tOiB0cmJsLmJvdHRvbSArIFBBRERJTkcsXG4gICAgbGVmdDogdHJibC5sZWZ0IC0gUEFERElOR1xuICB9O1xufVxuXG5mdW5jdGlvbiBlbnN1cmVDb25zdHJhaW50cyhldmVudCkge1xuICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICBzcGFjZVRvb2xDb25zdHJhaW50cyA9IGNvbnRleHQuc3BhY2VUb29sQ29uc3RyYWludHM7XG5cbiAgaWYgKCFzcGFjZVRvb2xDb25zdHJhaW50cykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciB4LCB5O1xuXG4gIGlmIChpc051bWJlcihzcGFjZVRvb2xDb25zdHJhaW50cy5sZWZ0KSkge1xuICAgIHggPSBNYXRoLm1heChldmVudC54LCBzcGFjZVRvb2xDb25zdHJhaW50cy5sZWZ0KTtcblxuICAgIGV2ZW50LmR4ID0gZXZlbnQuZHggKyB4IC0gZXZlbnQueDtcbiAgICBldmVudC54ID0geDtcbiAgfVxuXG4gIGlmIChpc051bWJlcihzcGFjZVRvb2xDb25zdHJhaW50cy5yaWdodCkpIHtcbiAgICB4ID0gTWF0aC5taW4oZXZlbnQueCwgc3BhY2VUb29sQ29uc3RyYWludHMucmlnaHQpO1xuXG4gICAgZXZlbnQuZHggPSBldmVudC5keCArIHggLSBldmVudC54O1xuICAgIGV2ZW50LnggPSB4O1xuICB9XG5cbiAgaWYgKGlzTnVtYmVyKHNwYWNlVG9vbENvbnN0cmFpbnRzLnRvcCkpIHtcbiAgICB5ID0gTWF0aC5tYXgoZXZlbnQueSwgc3BhY2VUb29sQ29uc3RyYWludHMudG9wKTtcblxuICAgIGV2ZW50LmR5ID0gZXZlbnQuZHkgKyB5IC0gZXZlbnQueTtcbiAgICBldmVudC55ID0geTtcbiAgfVxuXG4gIGlmIChpc051bWJlcihzcGFjZVRvb2xDb25zdHJhaW50cy5ib3R0b20pKSB7XG4gICAgeSA9IE1hdGgubWluKGV2ZW50LnksIHNwYWNlVG9vbENvbnN0cmFpbnRzLmJvdHRvbSk7XG5cbiAgICBldmVudC5keSA9IGV2ZW50LmR5ICsgeSAtIGV2ZW50Lnk7XG4gICAgZXZlbnQueSA9IHk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0U3BhY2VUb29sQ29uc3RyYWludHMoZWxlbWVudHMsIGF4aXMsIGRpcmVjdGlvbiwgc3RhcnQsIG1pbkRpbWVuc2lvbnMpIHtcbiAgdmFyIG1vdmluZ1NoYXBlcyA9IGVsZW1lbnRzLm1vdmluZ1NoYXBlcyxcbiAgICAgIHJlc2l6aW5nU2hhcGVzID0gZWxlbWVudHMucmVzaXppbmdTaGFwZXM7XG5cbiAgaWYgKCFyZXNpemluZ1NoYXBlcy5sZW5ndGgpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgc3BhY2VUb29sQ29uc3RyYWludHMgPSB7fSxcbiAgICAgIG1pbixcbiAgICAgIG1heDtcblxuICBmb3JFYWNoKHJlc2l6aW5nU2hhcGVzLCBmdW5jdGlvbihyZXNpemluZ1NoYXBlKSB7XG4gICAgdmFyIGF0dGFjaGVycyA9IHJlc2l6aW5nU2hhcGUuYXR0YWNoZXJzLFxuICAgICAgICBjaGlsZHJlbiA9IHJlc2l6aW5nU2hhcGUuY2hpbGRyZW47XG5cbiAgICB2YXIgcmVzaXppbmdTaGFwZUJCb3ggPSBhc1RSQkwocmVzaXppbmdTaGFwZSk7XG5cbiAgICAvLyBmaW5kIGNoaWxkcmVuIHRoYXQgYXJlIG5vdCBtb3Zpbmcgb3IgcmVzaXppbmdcbiAgICB2YXIgbm9uTW92aW5nUmVzaXppbmdDaGlsZHJlbiA9IGZpbHRlcihjaGlsZHJlbiwgZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgIHJldHVybiAhaXNDb25uZWN0aW9uKGNoaWxkKSAmJlxuICAgICAgICAhaXNMYWJlbChjaGlsZCkgJiZcbiAgICAgICAgIWluY2x1ZGVzKG1vdmluZ1NoYXBlcywgY2hpbGQpICYmXG4gICAgICAgICFpbmNsdWRlcyhyZXNpemluZ1NoYXBlcywgY2hpbGQpO1xuICAgIH0pO1xuXG4gICAgLy8gZmluZCBjaGlsZHJlbiB0aGF0IGFyZSBtb3ZpbmdcbiAgICB2YXIgbW92aW5nQ2hpbGRyZW4gPSBmaWx0ZXIoY2hpbGRyZW4sIGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICByZXR1cm4gIWlzQ29ubmVjdGlvbihjaGlsZCkgJiYgIWlzTGFiZWwoY2hpbGQpICYmIGluY2x1ZGVzKG1vdmluZ1NoYXBlcywgY2hpbGQpO1xuICAgIH0pO1xuXG4gICAgdmFyIG1pbk9yTWF4LFxuICAgICAgICBub25Nb3ZpbmdSZXNpemluZ0NoaWxkcmVuQkJveCxcbiAgICAgICAgbW92aW5nQ2hpbGRyZW5CQm94LFxuICAgICAgICBtb3ZpbmdBdHRhY2hlcnMgPSBbXSxcbiAgICAgICAgbm9uTW92aW5nQXR0YWNoZXJzID0gW10sXG4gICAgICAgIG1vdmluZ0F0dGFjaGVyc0JCb3gsXG4gICAgICAgIG1vdmluZ0F0dGFjaGVyc0NvbnN0cmFpbnQsXG4gICAgICAgIG5vbk1vdmluZ0F0dGFjaGVyc0JCb3gsXG4gICAgICAgIG5vbk1vdmluZ0F0dGFjaGVyc0NvbnN0cmFpbnQ7XG5cbiAgICBpZiAobm9uTW92aW5nUmVzaXppbmdDaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgIG5vbk1vdmluZ1Jlc2l6aW5nQ2hpbGRyZW5CQm94ID0gYWRkUGFkZGluZyhhc1RSQkwoZ2V0QkJveChub25Nb3ZpbmdSZXNpemluZ0NoaWxkcmVuKSkpO1xuXG4gICAgICBtaW5Pck1heCA9IHN0YXJ0IC1cbiAgICAgICAgcmVzaXppbmdTaGFwZUJCb3hbIERJUkVDVElPTl9UT19UUkJMWyBkaXJlY3Rpb24gXSBdICtcbiAgICAgICAgbm9uTW92aW5nUmVzaXppbmdDaGlsZHJlbkJCb3hbIERJUkVDVElPTl9UT19UUkJMWyBkaXJlY3Rpb24gXSBdO1xuXG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAnbicpIHtcbiAgICAgICAgc3BhY2VUb29sQ29uc3RyYWludHMuYm90dG9tID0gbWF4ID0gaXNOdW1iZXIobWF4KSA/IE1hdGgubWluKG1heCwgbWluT3JNYXgpIDogbWluT3JNYXg7XG4gICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ3cnKSB7XG4gICAgICAgIHNwYWNlVG9vbENvbnN0cmFpbnRzLnJpZ2h0ID0gbWF4ID0gaXNOdW1iZXIobWF4KSA/IE1hdGgubWluKG1heCwgbWluT3JNYXgpIDogbWluT3JNYXg7XG4gICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ3MnKSB7XG4gICAgICAgIHNwYWNlVG9vbENvbnN0cmFpbnRzLnRvcCA9IG1pbiA9IGlzTnVtYmVyKG1pbikgPyBNYXRoLm1heChtaW4sIG1pbk9yTWF4KSA6IG1pbk9yTWF4O1xuICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICdlJykge1xuICAgICAgICBzcGFjZVRvb2xDb25zdHJhaW50cy5sZWZ0ID0gbWluID0gaXNOdW1iZXIobWluKSA/IE1hdGgubWF4KG1pbiwgbWluT3JNYXgpIDogbWluT3JNYXg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1vdmluZ0NoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgbW92aW5nQ2hpbGRyZW5CQm94ID0gYWRkUGFkZGluZyhhc1RSQkwoZ2V0QkJveChtb3ZpbmdDaGlsZHJlbikpKTtcblxuICAgICAgbWluT3JNYXggPSBzdGFydCAtXG4gICAgICAgIG1vdmluZ0NoaWxkcmVuQkJveFsgRElSRUNUSU9OX1RPX1RSQkxbIERJUkVDVElPTl9UT19PUFBPU0lURVsgZGlyZWN0aW9uIF0gXSBdICtcbiAgICAgICAgcmVzaXppbmdTaGFwZUJCb3hbIERJUkVDVElPTl9UT19UUkJMWyBESVJFQ1RJT05fVE9fT1BQT1NJVEVbIGRpcmVjdGlvbiBdIF0gXTtcblxuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ24nKSB7XG4gICAgICAgIHNwYWNlVG9vbENvbnN0cmFpbnRzLmJvdHRvbSA9IG1heCA9IGlzTnVtYmVyKG1heCkgPyBNYXRoLm1pbihtYXgsIG1pbk9yTWF4KSA6IG1pbk9yTWF4O1xuICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICd3Jykge1xuICAgICAgICBzcGFjZVRvb2xDb25zdHJhaW50cy5yaWdodCA9IG1heCA9IGlzTnVtYmVyKG1heCkgPyBNYXRoLm1pbihtYXgsIG1pbk9yTWF4KSA6IG1pbk9yTWF4O1xuICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICdzJykge1xuICAgICAgICBzcGFjZVRvb2xDb25zdHJhaW50cy50b3AgPSBtaW4gPSBpc051bWJlcihtaW4pID8gTWF0aC5tYXgobWluLCBtaW5Pck1heCkgOiBtaW5Pck1heDtcbiAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAnZScpIHtcbiAgICAgICAgc3BhY2VUb29sQ29uc3RyYWludHMubGVmdCA9IG1pbiA9IGlzTnVtYmVyKG1pbikgPyBNYXRoLm1heChtaW4sIG1pbk9yTWF4KSA6IG1pbk9yTWF4O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChhdHRhY2hlcnMgJiYgYXR0YWNoZXJzLmxlbmd0aCkge1xuICAgICAgYXR0YWNoZXJzLmZvckVhY2goZnVuY3Rpb24oYXR0YWNoZXIpIHtcbiAgICAgICAgaWYgKGluY2x1ZGVzKG1vdmluZ1NoYXBlcywgYXR0YWNoZXIpKSB7XG4gICAgICAgICAgbW92aW5nQXR0YWNoZXJzLnB1c2goYXR0YWNoZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5vbk1vdmluZ0F0dGFjaGVycy5wdXNoKGF0dGFjaGVyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChtb3ZpbmdBdHRhY2hlcnMubGVuZ3RoKSB7XG4gICAgICAgIG1vdmluZ0F0dGFjaGVyc0JCb3ggPSBhc1RSQkwoZ2V0QkJveChtb3ZpbmdBdHRhY2hlcnMubWFwKGdldE1pZCkpKTtcblxuICAgICAgICBtb3ZpbmdBdHRhY2hlcnNDb25zdHJhaW50ID0gcmVzaXppbmdTaGFwZUJCb3hbIERJUkVDVElPTl9UT19UUkJMWyBESVJFQ1RJT05fVE9fT1BQT1NJVEVbIGRpcmVjdGlvbiBdIF0gXVxuICAgICAgICAgICAgICAtIChtb3ZpbmdBdHRhY2hlcnNCQm94WyBESVJFQ1RJT05fVE9fVFJCTFsgRElSRUNUSU9OX1RPX09QUE9TSVRFWyBkaXJlY3Rpb24gXSBdIF0gLSBzdGFydCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChub25Nb3ZpbmdBdHRhY2hlcnMubGVuZ3RoKSB7XG4gICAgICAgIG5vbk1vdmluZ0F0dGFjaGVyc0JCb3ggPSBhc1RSQkwoZ2V0QkJveChub25Nb3ZpbmdBdHRhY2hlcnMubWFwKGdldE1pZCkpKTtcblxuICAgICAgICBub25Nb3ZpbmdBdHRhY2hlcnNDb25zdHJhaW50ID0gbm9uTW92aW5nQXR0YWNoZXJzQkJveFsgRElSRUNUSU9OX1RPX1RSQkxbIGRpcmVjdGlvbiBdIF1cbiAgICAgICAgICAgICAgLSAocmVzaXppbmdTaGFwZUJCb3hbIERJUkVDVElPTl9UT19UUkJMWyBkaXJlY3Rpb24gXSBdIC0gc3RhcnQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAnbicpIHtcbiAgICAgICAgbWluT3JNYXggPSBNYXRoLm1pbihtb3ZpbmdBdHRhY2hlcnNDb25zdHJhaW50IHx8IEluZmluaXR5LCBub25Nb3ZpbmdBdHRhY2hlcnNDb25zdHJhaW50IHx8IEluZmluaXR5KTtcblxuICAgICAgICBzcGFjZVRvb2xDb25zdHJhaW50cy5ib3R0b20gPSBtYXggPSBpc051bWJlcihtYXgpID8gTWF0aC5taW4obWF4LCBtaW5Pck1heCkgOiBtaW5Pck1heDtcbiAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAndycpIHtcbiAgICAgICAgbWluT3JNYXggPSBNYXRoLm1pbihtb3ZpbmdBdHRhY2hlcnNDb25zdHJhaW50IHx8IEluZmluaXR5LCBub25Nb3ZpbmdBdHRhY2hlcnNDb25zdHJhaW50IHx8IEluZmluaXR5KTtcblxuICAgICAgICBzcGFjZVRvb2xDb25zdHJhaW50cy5yaWdodCA9IG1heCA9IGlzTnVtYmVyKG1heCkgPyBNYXRoLm1pbihtYXgsIG1pbk9yTWF4KSA6IG1pbk9yTWF4O1xuICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICdzJykge1xuICAgICAgICBtaW5Pck1heCA9IE1hdGgubWF4KG1vdmluZ0F0dGFjaGVyc0NvbnN0cmFpbnQgfHwgLUluZmluaXR5LCBub25Nb3ZpbmdBdHRhY2hlcnNDb25zdHJhaW50IHx8IC1JbmZpbml0eSk7XG5cbiAgICAgICAgc3BhY2VUb29sQ29uc3RyYWludHMudG9wID0gbWluID0gaXNOdW1iZXIobWluKSA/IE1hdGgubWF4KG1pbiwgbWluT3JNYXgpIDogbWluT3JNYXg7XG4gICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ2UnKSB7XG4gICAgICAgIG1pbk9yTWF4ID0gTWF0aC5tYXgobW92aW5nQXR0YWNoZXJzQ29uc3RyYWludCB8fCAtSW5maW5pdHksIG5vbk1vdmluZ0F0dGFjaGVyc0NvbnN0cmFpbnQgfHwgLUluZmluaXR5KTtcblxuICAgICAgICBzcGFjZVRvb2xDb25zdHJhaW50cy5sZWZ0ID0gbWluID0gaXNOdW1iZXIobWluKSA/IE1hdGgubWF4KG1pbiwgbWluT3JNYXgpIDogbWluT3JNYXg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHJlc2l6aW5nU2hhcGVNaW5EaW1lbnNpb25zID0gbWluRGltZW5zaW9ucyAmJiBtaW5EaW1lbnNpb25zWyByZXNpemluZ1NoYXBlLmlkIF07XG5cbiAgICBpZiAocmVzaXppbmdTaGFwZU1pbkRpbWVuc2lvbnMpIHtcblxuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ24nKSB7XG4gICAgICAgIG1pbk9yTWF4ID0gc3RhcnQgK1xuICAgICAgICAgIHJlc2l6aW5nU2hhcGVbIEFYSVNfVE9fRElNRU5TSU9OIFsgYXhpcyBdIF0gLVxuICAgICAgICAgIHJlc2l6aW5nU2hhcGVNaW5EaW1lbnNpb25zWyBBWElTX1RPX0RJTUVOU0lPTlsgYXhpcyBdIF07XG5cbiAgICAgICAgc3BhY2VUb29sQ29uc3RyYWludHMuYm90dG9tID0gbWF4ID0gaXNOdW1iZXIobWF4KSA/IE1hdGgubWluKG1heCwgbWluT3JNYXgpIDogbWluT3JNYXg7XG4gICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ3cnKSB7XG4gICAgICAgIG1pbk9yTWF4ID0gc3RhcnQgK1xuICAgICAgICAgIHJlc2l6aW5nU2hhcGVbIEFYSVNfVE9fRElNRU5TSU9OIFsgYXhpcyBdIF0gLVxuICAgICAgICAgIHJlc2l6aW5nU2hhcGVNaW5EaW1lbnNpb25zWyBBWElTX1RPX0RJTUVOU0lPTlsgYXhpcyBdIF07XG5cbiAgICAgICAgc3BhY2VUb29sQ29uc3RyYWludHMucmlnaHQgPSBtYXggPSBpc051bWJlcihtYXgpID8gTWF0aC5taW4obWF4LCBtaW5Pck1heCkgOiBtaW5Pck1heDtcbiAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAncycpIHtcbiAgICAgICAgbWluT3JNYXggPSBzdGFydCAtXG4gICAgICAgICAgcmVzaXppbmdTaGFwZVsgQVhJU19UT19ESU1FTlNJT04gWyBheGlzIF0gXSArXG4gICAgICAgICAgcmVzaXppbmdTaGFwZU1pbkRpbWVuc2lvbnNbIEFYSVNfVE9fRElNRU5TSU9OWyBheGlzIF0gXTtcblxuICAgICAgICBzcGFjZVRvb2xDb25zdHJhaW50cy50b3AgPSBtaW4gPSBpc051bWJlcihtaW4pID8gTWF0aC5tYXgobWluLCBtaW5Pck1heCkgOiBtaW5Pck1heDtcbiAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAnZScpIHtcbiAgICAgICAgbWluT3JNYXggPSBzdGFydCAtXG4gICAgICAgICAgcmVzaXppbmdTaGFwZVsgQVhJU19UT19ESU1FTlNJT04gWyBheGlzIF0gXSArXG4gICAgICAgICAgcmVzaXppbmdTaGFwZU1pbkRpbWVuc2lvbnNbIEFYSVNfVE9fRElNRU5TSU9OWyBheGlzIF0gXTtcblxuICAgICAgICBzcGFjZVRvb2xDb25zdHJhaW50cy5sZWZ0ID0gbWluID0gaXNOdW1iZXIobWluKSA/IE1hdGgubWF4KG1pbiwgbWluT3JNYXgpIDogbWluT3JNYXg7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gc3BhY2VUb29sQ29uc3RyYWludHM7XG59XG5cbmZ1bmN0aW9uIGluY2x1ZGVzKGFycmF5LCBpdGVtKSB7XG4gIHJldHVybiBhcnJheS5pbmRleE9mKGl0ZW0pICE9PSAtMTtcbn1cblxuZnVuY3Rpb24gaXNBdHRhY2hlcihlbGVtZW50KSB7XG4gIHJldHVybiAhIWVsZW1lbnQuaG9zdDtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/space-tool/SpaceTool.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/space-tool/SpaceToolPreview.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/space-tool/SpaceToolPreview.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SpaceToolPreview)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/./node_modules/tiny-svg/dist/index.esm.js\");\n/* harmony import */ var _util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/SvgTransformUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/SvgTransformUtil.js\");\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/ModelUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/ModelUtil.js\");\n\n\nvar MARKER_DRAGGING = 'djs-dragging',\n    MARKER_RESIZING = 'djs-resizing';\n\nvar LOW_PRIORITY = 250;\n\n\n\n\n\n\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../../draw/Styles').default} Styles\n */\n\nvar max = Math.max;\n\n\n/**\n * Provides previews for selecting/moving/resizing shapes when creating/removing space.\n *\n * @param {EventBus} eventBus\n * @param {ElementRegistry} elementRegistry\n * @param {Canvas} canvas\n * @param {Styles} styles\n */\nfunction SpaceToolPreview(\n    eventBus, elementRegistry, canvas,\n    styles, previewSupport) {\n\n  function addPreviewGfx(collection, dragGroup) {\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(collection, function(element) {\n      previewSupport.addDragger(element, dragGroup);\n\n      canvas.addMarker(element, MARKER_DRAGGING);\n    });\n  }\n\n  // add crosshair\n  eventBus.on('spaceTool.selection.start', function(event) {\n    var space = canvas.getLayer('space'),\n        context = event.context;\n\n    var orientation = {\n      x: 'M 0,-10000 L 0,10000',\n      y: 'M -10000,0 L 10000,0'\n    };\n\n    var crosshairGroup = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('g');\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(crosshairGroup, styles.cls('djs-crosshair-group', [ 'no-events' ]));\n\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.append)(space, crosshairGroup);\n\n    // horizontal path\n    var pathX = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('path');\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(pathX, 'd', orientation.x);\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.classes)(pathX).add('djs-crosshair');\n\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.append)(crosshairGroup, pathX);\n\n    // vertical path\n    var pathY = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('path');\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(pathY, 'd', orientation.y);\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.classes)(pathY).add('djs-crosshair');\n\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.append)(crosshairGroup, pathY);\n\n    context.crosshairGroup = crosshairGroup;\n  });\n\n  // update crosshair\n  eventBus.on('spaceTool.selection.move', function(event) {\n    var crosshairGroup = event.context.crosshairGroup;\n\n    (0,_util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_2__.translate)(crosshairGroup, event.x, event.y);\n  });\n\n  // remove crosshair\n  eventBus.on('spaceTool.selection.cleanup', function(event) {\n    var context = event.context,\n        crosshairGroup = context.crosshairGroup;\n\n    if (crosshairGroup) {\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.remove)(crosshairGroup);\n    }\n  });\n\n  // add and update move/resize previews\n  eventBus.on('spaceTool.move', LOW_PRIORITY, function(event) {\n\n    var context = event.context,\n        line = context.line,\n        axis = context.axis,\n        movingShapes = context.movingShapes,\n        resizingShapes = context.resizingShapes;\n\n    if (!context.initialized) {\n      return;\n    }\n\n    if (!context.dragGroup) {\n      var spaceLayer = canvas.getLayer('space');\n\n      line = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('path');\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(line, 'd', 'M0,0 L0,0');\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.classes)(line).add('djs-crosshair');\n\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.append)(spaceLayer, line);\n\n      context.line = line;\n\n      var dragGroup = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('g');\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(dragGroup, styles.cls('djs-drag-group', [ 'no-events' ]));\n\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.append)(canvas.getActiveLayer(), dragGroup);\n\n      // shapes\n      addPreviewGfx(movingShapes, dragGroup);\n\n      // connections\n      var movingConnections = context.movingConnections = elementRegistry.filter(function(element) {\n        var sourceIsMoving = false;\n\n        (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(movingShapes, function(shape) {\n          (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(shape.outgoing, function(connection) {\n            if (element === connection) {\n              sourceIsMoving = true;\n            }\n          });\n        });\n\n        var targetIsMoving = false;\n\n        (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(movingShapes, function(shape) {\n          (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(shape.incoming, function(connection) {\n            if (element === connection) {\n              targetIsMoving = true;\n            }\n          });\n        });\n\n        var sourceIsResizing = false;\n\n        (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(resizingShapes, function(shape) {\n          (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(shape.outgoing, function(connection) {\n            if (element === connection) {\n              sourceIsResizing = true;\n            }\n          });\n        });\n\n        var targetIsResizing = false;\n\n        (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(resizingShapes, function(shape) {\n          (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(shape.incoming, function(connection) {\n            if (element === connection) {\n              targetIsResizing = true;\n            }\n          });\n        });\n\n        return (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_3__.isConnection)(element)\n          && (sourceIsMoving || sourceIsResizing)\n          && (targetIsMoving || targetIsResizing);\n      });\n\n\n      addPreviewGfx(movingConnections, dragGroup);\n\n      context.dragGroup = dragGroup;\n    }\n\n    if (!context.frameGroup) {\n      var frameGroup = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('g');\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(frameGroup, styles.cls('djs-frame-group', [ 'no-events' ]));\n\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.append)(canvas.getActiveLayer(), frameGroup);\n\n      var frames = [];\n\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(resizingShapes, function(shape) {\n        var frame = previewSupport.addFrame(shape, frameGroup);\n\n        var initialBounds = frame.getBBox();\n\n        frames.push({\n          element: frame,\n          initialBounds: initialBounds\n        });\n\n        canvas.addMarker(shape, MARKER_RESIZING);\n      });\n\n      context.frameGroup = frameGroup;\n      context.frames = frames;\n    }\n\n    var orientation = {\n      x: 'M' + event.x + ', -10000 L' + event.x + ', 10000',\n      y: 'M -10000, ' + event.y + ' L 10000, ' + event.y\n    };\n\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(line, { d: orientation[ axis ] });\n\n    var opposite = { x: 'y', y: 'x' };\n    var delta = { x: event.dx, y: event.dy };\n    delta[ opposite[ context.axis ] ] = 0;\n\n    // update move previews\n    (0,_util_SvgTransformUtil__WEBPACK_IMPORTED_MODULE_2__.translate)(context.dragGroup, delta.x, delta.y);\n\n    // update resize previews\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(context.frames, function(frame) {\n      var element = frame.element,\n          initialBounds = frame.initialBounds,\n          width,\n          height;\n\n      if (context.direction === 'e') {\n        (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(element, {\n          width: max(initialBounds.width + delta.x, 5)\n        });\n      } else {\n        width = max(initialBounds.width - delta.x, 5);\n\n        (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(element, {\n          width: width,\n          x: initialBounds.x + initialBounds.width - width\n        });\n      }\n\n      if (context.direction === 's') {\n        (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(element, {\n          height: max(initialBounds.height + delta.y, 5)\n        });\n      } else {\n        height = max(initialBounds.height - delta.y, 5);\n\n        (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(element, {\n          height: height,\n          y: initialBounds.y + initialBounds.height - height\n        });\n      }\n    });\n\n  });\n\n  // remove move/resize previews\n  eventBus.on('spaceTool.cleanup', function(event) {\n\n    var context = event.context,\n        movingShapes = context.movingShapes,\n        movingConnections = context.movingConnections,\n        resizingShapes = context.resizingShapes,\n        line = context.line,\n        dragGroup = context.dragGroup,\n        frameGroup = context.frameGroup;\n\n    // moving shapes\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(movingShapes, function(shape) {\n      canvas.removeMarker(shape, MARKER_DRAGGING);\n    });\n\n    // moving connections\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(movingConnections, function(connection) {\n      canvas.removeMarker(connection, MARKER_DRAGGING);\n    });\n\n    if (dragGroup) {\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.remove)(line);\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.remove)(dragGroup);\n    }\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(resizingShapes, function(shape) {\n      canvas.removeMarker(shape, MARKER_RESIZING);\n    });\n\n    if (frameGroup) {\n      (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.remove)(frameGroup);\n    }\n  });\n}\n\nSpaceToolPreview.$inject = [\n  'eventBus',\n  'elementRegistry',\n  'canvas',\n  'styles',\n  'previewSupport'\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc3BhY2UtdG9vbC9TcGFjZVRvb2xQcmV2aWV3LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBRWtCOztBQUVsQjtBQUNBOztBQUVBOztBQVFrQjs7QUFJbUI7O0FBRWU7O0FBRXBEO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQsYUFBYSw4Q0FBOEM7QUFDM0QsYUFBYSx1Q0FBdUM7QUFDcEQsYUFBYSxxQ0FBcUM7QUFDbEQ7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLGlCQUFpQjtBQUM1QixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ2U7QUFDZjtBQUNBOztBQUVBO0FBQ0EsSUFBSSxpREFBTztBQUNYOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHlCQUF5QixnREFBUztBQUNsQyxJQUFJLDhDQUFPOztBQUVYLElBQUksZ0RBQVM7O0FBRWI7QUFDQSxnQkFBZ0IsZ0RBQVM7QUFDekIsSUFBSSw4Q0FBTztBQUNYLElBQUksaURBQVU7O0FBRWQsSUFBSSxnREFBUzs7QUFFYjtBQUNBLGdCQUFnQixnREFBUztBQUN6QixJQUFJLDhDQUFPO0FBQ1gsSUFBSSxpREFBVTs7QUFFZCxJQUFJLGdEQUFTOztBQUViO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUEsSUFBSSxpRUFBUztBQUNiLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNLGdEQUFTO0FBQ2Y7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxhQUFhLGdEQUFTO0FBQ3RCLE1BQU0sOENBQU87QUFDYixNQUFNLGlEQUFVOztBQUVoQixNQUFNLGdEQUFTOztBQUVmOztBQUVBLHNCQUFzQixnREFBUztBQUMvQixNQUFNLDhDQUFPOztBQUViLE1BQU0sZ0RBQVM7O0FBRWY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUSxpREFBTztBQUNmLFVBQVUsaURBQU87QUFDakI7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7O0FBRVQ7O0FBRUEsUUFBUSxpREFBTztBQUNmLFVBQVUsaURBQU87QUFDakI7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7O0FBRVQ7O0FBRUEsUUFBUSxpREFBTztBQUNmLFVBQVUsaURBQU87QUFDakI7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7O0FBRVQ7O0FBRUEsUUFBUSxpREFBTztBQUNmLFVBQVUsaURBQU87QUFDakI7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7O0FBRVQsZUFBZSw2REFBWTtBQUMzQjtBQUNBO0FBQ0EsT0FBTzs7O0FBR1A7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHVCQUF1QixnREFBUztBQUNoQyxNQUFNLDhDQUFPOztBQUViLE1BQU0sZ0RBQVM7O0FBRWY7O0FBRUEsTUFBTSxpREFBTztBQUNiOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJLDhDQUFPLFNBQVMsd0JBQXdCOztBQUU1QyxxQkFBcUI7QUFDckIsa0JBQWtCO0FBQ2xCOztBQUVBO0FBQ0EsSUFBSSxpRUFBUzs7QUFFYjtBQUNBLElBQUksaURBQU87QUFDWDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVEsOENBQU87QUFDZjtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7O0FBRUEsUUFBUSw4Q0FBTztBQUNmO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQSxRQUFRLDhDQUFPO0FBQ2Y7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSOztBQUVBLFFBQVEsOENBQU87QUFDZjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSzs7QUFFTCxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLGlEQUFPO0FBQ1g7QUFDQSxLQUFLOztBQUVMO0FBQ0EsSUFBSSxpREFBTztBQUNYO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLE1BQU0sZ0RBQVM7QUFDZixNQUFNLGdEQUFTO0FBQ2Y7O0FBRUEsSUFBSSxpREFBTztBQUNYO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLE1BQU0sZ0RBQVM7QUFDZjtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9zcGFjZS10b29sL1NwYWNlVG9vbFByZXZpZXcuanM/MjdmZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBmb3JFYWNoXG59IGZyb20gJ21pbi1kYXNoJztcblxudmFyIE1BUktFUl9EUkFHR0lORyA9ICdkanMtZHJhZ2dpbmcnLFxuICAgIE1BUktFUl9SRVNJWklORyA9ICdkanMtcmVzaXppbmcnO1xuXG52YXIgTE9XX1BSSU9SSVRZID0gMjUwO1xuXG5pbXBvcnQge1xuICBhcHBlbmQgYXMgc3ZnQXBwZW5kLFxuICBhdHRyIGFzIHN2Z0F0dHIsXG4gIGNsYXNzZXMgYXMgc3ZnQ2xhc3NlcyxcbiAgY3JlYXRlIGFzIHN2Z0NyZWF0ZSxcbiAgcmVtb3ZlIGFzIHN2Z1JlbW92ZVxufSBmcm9tICd0aW55LXN2Zyc7XG5cbmltcG9ydCB7XG4gIHRyYW5zbGF0ZVxufSBmcm9tICcuLi8uLi91dGlsL1N2Z1RyYW5zZm9ybVV0aWwnO1xuXG5pbXBvcnQgeyBpc0Nvbm5lY3Rpb24gfSBmcm9tICcuLi8uLi91dGlsL01vZGVsVXRpbCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9DYW52YXMnKS5kZWZhdWx0fSBDYW52YXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRWxlbWVudFJlZ2lzdHJ5JykuZGVmYXVsdH0gRWxlbWVudFJlZ2lzdHJ5XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2RyYXcvU3R5bGVzJykuZGVmYXVsdH0gU3R5bGVzXG4gKi9cblxudmFyIG1heCA9IE1hdGgubWF4O1xuXG5cbi8qKlxuICogUHJvdmlkZXMgcHJldmlld3MgZm9yIHNlbGVjdGluZy9tb3ZpbmcvcmVzaXppbmcgc2hhcGVzIHdoZW4gY3JlYXRpbmcvcmVtb3Zpbmcgc3BhY2UuXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7RWxlbWVudFJlZ2lzdHJ5fSBlbGVtZW50UmVnaXN0cnlcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqIEBwYXJhbSB7U3R5bGVzfSBzdHlsZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU3BhY2VUb29sUHJldmlldyhcbiAgICBldmVudEJ1cywgZWxlbWVudFJlZ2lzdHJ5LCBjYW52YXMsXG4gICAgc3R5bGVzLCBwcmV2aWV3U3VwcG9ydCkge1xuXG4gIGZ1bmN0aW9uIGFkZFByZXZpZXdHZngoY29sbGVjdGlvbiwgZHJhZ0dyb3VwKSB7XG4gICAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICBwcmV2aWV3U3VwcG9ydC5hZGREcmFnZ2VyKGVsZW1lbnQsIGRyYWdHcm91cCk7XG5cbiAgICAgIGNhbnZhcy5hZGRNYXJrZXIoZWxlbWVudCwgTUFSS0VSX0RSQUdHSU5HKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIGFkZCBjcm9zc2hhaXJcbiAgZXZlbnRCdXMub24oJ3NwYWNlVG9vbC5zZWxlY3Rpb24uc3RhcnQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBzcGFjZSA9IGNhbnZhcy5nZXRMYXllcignc3BhY2UnKSxcbiAgICAgICAgY29udGV4dCA9IGV2ZW50LmNvbnRleHQ7XG5cbiAgICB2YXIgb3JpZW50YXRpb24gPSB7XG4gICAgICB4OiAnTSAwLC0xMDAwMCBMIDAsMTAwMDAnLFxuICAgICAgeTogJ00gLTEwMDAwLDAgTCAxMDAwMCwwJ1xuICAgIH07XG5cbiAgICB2YXIgY3Jvc3NoYWlyR3JvdXAgPSBzdmdDcmVhdGUoJ2cnKTtcbiAgICBzdmdBdHRyKGNyb3NzaGFpckdyb3VwLCBzdHlsZXMuY2xzKCdkanMtY3Jvc3NoYWlyLWdyb3VwJywgWyAnbm8tZXZlbnRzJyBdKSk7XG5cbiAgICBzdmdBcHBlbmQoc3BhY2UsIGNyb3NzaGFpckdyb3VwKTtcblxuICAgIC8vIGhvcml6b250YWwgcGF0aFxuICAgIHZhciBwYXRoWCA9IHN2Z0NyZWF0ZSgncGF0aCcpO1xuICAgIHN2Z0F0dHIocGF0aFgsICdkJywgb3JpZW50YXRpb24ueCk7XG4gICAgc3ZnQ2xhc3NlcyhwYXRoWCkuYWRkKCdkanMtY3Jvc3NoYWlyJyk7XG5cbiAgICBzdmdBcHBlbmQoY3Jvc3NoYWlyR3JvdXAsIHBhdGhYKTtcblxuICAgIC8vIHZlcnRpY2FsIHBhdGhcbiAgICB2YXIgcGF0aFkgPSBzdmdDcmVhdGUoJ3BhdGgnKTtcbiAgICBzdmdBdHRyKHBhdGhZLCAnZCcsIG9yaWVudGF0aW9uLnkpO1xuICAgIHN2Z0NsYXNzZXMocGF0aFkpLmFkZCgnZGpzLWNyb3NzaGFpcicpO1xuXG4gICAgc3ZnQXBwZW5kKGNyb3NzaGFpckdyb3VwLCBwYXRoWSk7XG5cbiAgICBjb250ZXh0LmNyb3NzaGFpckdyb3VwID0gY3Jvc3NoYWlyR3JvdXA7XG4gIH0pO1xuXG4gIC8vIHVwZGF0ZSBjcm9zc2hhaXJcbiAgZXZlbnRCdXMub24oJ3NwYWNlVG9vbC5zZWxlY3Rpb24ubW92ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNyb3NzaGFpckdyb3VwID0gZXZlbnQuY29udGV4dC5jcm9zc2hhaXJHcm91cDtcblxuICAgIHRyYW5zbGF0ZShjcm9zc2hhaXJHcm91cCwgZXZlbnQueCwgZXZlbnQueSk7XG4gIH0pO1xuXG4gIC8vIHJlbW92ZSBjcm9zc2hhaXJcbiAgZXZlbnRCdXMub24oJ3NwYWNlVG9vbC5zZWxlY3Rpb24uY2xlYW51cCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBjcm9zc2hhaXJHcm91cCA9IGNvbnRleHQuY3Jvc3NoYWlyR3JvdXA7XG5cbiAgICBpZiAoY3Jvc3NoYWlyR3JvdXApIHtcbiAgICAgIHN2Z1JlbW92ZShjcm9zc2hhaXJHcm91cCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBhZGQgYW5kIHVwZGF0ZSBtb3ZlL3Jlc2l6ZSBwcmV2aWV3c1xuICBldmVudEJ1cy5vbignc3BhY2VUb29sLm1vdmUnLCBMT1dfUFJJT1JJVFksIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICAgIGxpbmUgPSBjb250ZXh0LmxpbmUsXG4gICAgICAgIGF4aXMgPSBjb250ZXh0LmF4aXMsXG4gICAgICAgIG1vdmluZ1NoYXBlcyA9IGNvbnRleHQubW92aW5nU2hhcGVzLFxuICAgICAgICByZXNpemluZ1NoYXBlcyA9IGNvbnRleHQucmVzaXppbmdTaGFwZXM7XG5cbiAgICBpZiAoIWNvbnRleHQuaW5pdGlhbGl6ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWNvbnRleHQuZHJhZ0dyb3VwKSB7XG4gICAgICB2YXIgc3BhY2VMYXllciA9IGNhbnZhcy5nZXRMYXllcignc3BhY2UnKTtcblxuICAgICAgbGluZSA9IHN2Z0NyZWF0ZSgncGF0aCcpO1xuICAgICAgc3ZnQXR0cihsaW5lLCAnZCcsICdNMCwwIEwwLDAnKTtcbiAgICAgIHN2Z0NsYXNzZXMobGluZSkuYWRkKCdkanMtY3Jvc3NoYWlyJyk7XG5cbiAgICAgIHN2Z0FwcGVuZChzcGFjZUxheWVyLCBsaW5lKTtcblxuICAgICAgY29udGV4dC5saW5lID0gbGluZTtcblxuICAgICAgdmFyIGRyYWdHcm91cCA9IHN2Z0NyZWF0ZSgnZycpO1xuICAgICAgc3ZnQXR0cihkcmFnR3JvdXAsIHN0eWxlcy5jbHMoJ2Rqcy1kcmFnLWdyb3VwJywgWyAnbm8tZXZlbnRzJyBdKSk7XG5cbiAgICAgIHN2Z0FwcGVuZChjYW52YXMuZ2V0QWN0aXZlTGF5ZXIoKSwgZHJhZ0dyb3VwKTtcblxuICAgICAgLy8gc2hhcGVzXG4gICAgICBhZGRQcmV2aWV3R2Z4KG1vdmluZ1NoYXBlcywgZHJhZ0dyb3VwKTtcblxuICAgICAgLy8gY29ubmVjdGlvbnNcbiAgICAgIHZhciBtb3ZpbmdDb25uZWN0aW9ucyA9IGNvbnRleHQubW92aW5nQ29ubmVjdGlvbnMgPSBlbGVtZW50UmVnaXN0cnkuZmlsdGVyKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIHNvdXJjZUlzTW92aW5nID0gZmFsc2U7XG5cbiAgICAgICAgZm9yRWFjaChtb3ZpbmdTaGFwZXMsIGZ1bmN0aW9uKHNoYXBlKSB7XG4gICAgICAgICAgZm9yRWFjaChzaGFwZS5vdXRnb2luZywgZnVuY3Rpb24oY29ubmVjdGlvbikge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQgPT09IGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgc291cmNlSXNNb3ZpbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgdGFyZ2V0SXNNb3ZpbmcgPSBmYWxzZTtcblxuICAgICAgICBmb3JFYWNoKG1vdmluZ1NoYXBlcywgZnVuY3Rpb24oc2hhcGUpIHtcbiAgICAgICAgICBmb3JFYWNoKHNoYXBlLmluY29taW5nLCBmdW5jdGlvbihjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCA9PT0gY29ubmVjdGlvbikge1xuICAgICAgICAgICAgICB0YXJnZXRJc01vdmluZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBzb3VyY2VJc1Jlc2l6aW5nID0gZmFsc2U7XG5cbiAgICAgICAgZm9yRWFjaChyZXNpemluZ1NoYXBlcywgZnVuY3Rpb24oc2hhcGUpIHtcbiAgICAgICAgICBmb3JFYWNoKHNoYXBlLm91dGdvaW5nLCBmdW5jdGlvbihjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCA9PT0gY29ubmVjdGlvbikge1xuICAgICAgICAgICAgICBzb3VyY2VJc1Jlc2l6aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHRhcmdldElzUmVzaXppbmcgPSBmYWxzZTtcblxuICAgICAgICBmb3JFYWNoKHJlc2l6aW5nU2hhcGVzLCBmdW5jdGlvbihzaGFwZSkge1xuICAgICAgICAgIGZvckVhY2goc2hhcGUuaW5jb21pbmcsIGZ1bmN0aW9uKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50ID09PSBjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgIHRhcmdldElzUmVzaXppbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gaXNDb25uZWN0aW9uKGVsZW1lbnQpXG4gICAgICAgICAgJiYgKHNvdXJjZUlzTW92aW5nIHx8IHNvdXJjZUlzUmVzaXppbmcpXG4gICAgICAgICAgJiYgKHRhcmdldElzTW92aW5nIHx8IHRhcmdldElzUmVzaXppbmcpO1xuICAgICAgfSk7XG5cblxuICAgICAgYWRkUHJldmlld0dmeChtb3ZpbmdDb25uZWN0aW9ucywgZHJhZ0dyb3VwKTtcblxuICAgICAgY29udGV4dC5kcmFnR3JvdXAgPSBkcmFnR3JvdXA7XG4gICAgfVxuXG4gICAgaWYgKCFjb250ZXh0LmZyYW1lR3JvdXApIHtcbiAgICAgIHZhciBmcmFtZUdyb3VwID0gc3ZnQ3JlYXRlKCdnJyk7XG4gICAgICBzdmdBdHRyKGZyYW1lR3JvdXAsIHN0eWxlcy5jbHMoJ2Rqcy1mcmFtZS1ncm91cCcsIFsgJ25vLWV2ZW50cycgXSkpO1xuXG4gICAgICBzdmdBcHBlbmQoY2FudmFzLmdldEFjdGl2ZUxheWVyKCksIGZyYW1lR3JvdXApO1xuXG4gICAgICB2YXIgZnJhbWVzID0gW107XG5cbiAgICAgIGZvckVhY2gocmVzaXppbmdTaGFwZXMsIGZ1bmN0aW9uKHNoYXBlKSB7XG4gICAgICAgIHZhciBmcmFtZSA9IHByZXZpZXdTdXBwb3J0LmFkZEZyYW1lKHNoYXBlLCBmcmFtZUdyb3VwKTtcblxuICAgICAgICB2YXIgaW5pdGlhbEJvdW5kcyA9IGZyYW1lLmdldEJCb3goKTtcblxuICAgICAgICBmcmFtZXMucHVzaCh7XG4gICAgICAgICAgZWxlbWVudDogZnJhbWUsXG4gICAgICAgICAgaW5pdGlhbEJvdW5kczogaW5pdGlhbEJvdW5kc1xuICAgICAgICB9KTtcblxuICAgICAgICBjYW52YXMuYWRkTWFya2VyKHNoYXBlLCBNQVJLRVJfUkVTSVpJTkcpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnRleHQuZnJhbWVHcm91cCA9IGZyYW1lR3JvdXA7XG4gICAgICBjb250ZXh0LmZyYW1lcyA9IGZyYW1lcztcbiAgICB9XG5cbiAgICB2YXIgb3JpZW50YXRpb24gPSB7XG4gICAgICB4OiAnTScgKyBldmVudC54ICsgJywgLTEwMDAwIEwnICsgZXZlbnQueCArICcsIDEwMDAwJyxcbiAgICAgIHk6ICdNIC0xMDAwMCwgJyArIGV2ZW50LnkgKyAnIEwgMTAwMDAsICcgKyBldmVudC55XG4gICAgfTtcblxuICAgIHN2Z0F0dHIobGluZSwgeyBkOiBvcmllbnRhdGlvblsgYXhpcyBdIH0pO1xuXG4gICAgdmFyIG9wcG9zaXRlID0geyB4OiAneScsIHk6ICd4JyB9O1xuICAgIHZhciBkZWx0YSA9IHsgeDogZXZlbnQuZHgsIHk6IGV2ZW50LmR5IH07XG4gICAgZGVsdGFbIG9wcG9zaXRlWyBjb250ZXh0LmF4aXMgXSBdID0gMDtcblxuICAgIC8vIHVwZGF0ZSBtb3ZlIHByZXZpZXdzXG4gICAgdHJhbnNsYXRlKGNvbnRleHQuZHJhZ0dyb3VwLCBkZWx0YS54LCBkZWx0YS55KTtcblxuICAgIC8vIHVwZGF0ZSByZXNpemUgcHJldmlld3NcbiAgICBmb3JFYWNoKGNvbnRleHQuZnJhbWVzLCBmdW5jdGlvbihmcmFtZSkge1xuICAgICAgdmFyIGVsZW1lbnQgPSBmcmFtZS5lbGVtZW50LFxuICAgICAgICAgIGluaXRpYWxCb3VuZHMgPSBmcmFtZS5pbml0aWFsQm91bmRzLFxuICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgIGhlaWdodDtcblxuICAgICAgaWYgKGNvbnRleHQuZGlyZWN0aW9uID09PSAnZScpIHtcbiAgICAgICAgc3ZnQXR0cihlbGVtZW50LCB7XG4gICAgICAgICAgd2lkdGg6IG1heChpbml0aWFsQm91bmRzLndpZHRoICsgZGVsdGEueCwgNSlcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aWR0aCA9IG1heChpbml0aWFsQm91bmRzLndpZHRoIC0gZGVsdGEueCwgNSk7XG5cbiAgICAgICAgc3ZnQXR0cihlbGVtZW50LCB7XG4gICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgIHg6IGluaXRpYWxCb3VuZHMueCArIGluaXRpYWxCb3VuZHMud2lkdGggLSB3aWR0aFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvbnRleHQuZGlyZWN0aW9uID09PSAncycpIHtcbiAgICAgICAgc3ZnQXR0cihlbGVtZW50LCB7XG4gICAgICAgICAgaGVpZ2h0OiBtYXgoaW5pdGlhbEJvdW5kcy5oZWlnaHQgKyBkZWx0YS55LCA1KVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhlaWdodCA9IG1heChpbml0aWFsQm91bmRzLmhlaWdodCAtIGRlbHRhLnksIDUpO1xuXG4gICAgICAgIHN2Z0F0dHIoZWxlbWVudCwge1xuICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgIHk6IGluaXRpYWxCb3VuZHMueSArIGluaXRpYWxCb3VuZHMuaGVpZ2h0IC0gaGVpZ2h0XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIH0pO1xuXG4gIC8vIHJlbW92ZSBtb3ZlL3Jlc2l6ZSBwcmV2aWV3c1xuICBldmVudEJ1cy5vbignc3BhY2VUb29sLmNsZWFudXAnLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgICBtb3ZpbmdTaGFwZXMgPSBjb250ZXh0Lm1vdmluZ1NoYXBlcyxcbiAgICAgICAgbW92aW5nQ29ubmVjdGlvbnMgPSBjb250ZXh0Lm1vdmluZ0Nvbm5lY3Rpb25zLFxuICAgICAgICByZXNpemluZ1NoYXBlcyA9IGNvbnRleHQucmVzaXppbmdTaGFwZXMsXG4gICAgICAgIGxpbmUgPSBjb250ZXh0LmxpbmUsXG4gICAgICAgIGRyYWdHcm91cCA9IGNvbnRleHQuZHJhZ0dyb3VwLFxuICAgICAgICBmcmFtZUdyb3VwID0gY29udGV4dC5mcmFtZUdyb3VwO1xuXG4gICAgLy8gbW92aW5nIHNoYXBlc1xuICAgIGZvckVhY2gobW92aW5nU2hhcGVzLCBmdW5jdGlvbihzaGFwZSkge1xuICAgICAgY2FudmFzLnJlbW92ZU1hcmtlcihzaGFwZSwgTUFSS0VSX0RSQUdHSU5HKTtcbiAgICB9KTtcblxuICAgIC8vIG1vdmluZyBjb25uZWN0aW9uc1xuICAgIGZvckVhY2gobW92aW5nQ29ubmVjdGlvbnMsIGZ1bmN0aW9uKGNvbm5lY3Rpb24pIHtcbiAgICAgIGNhbnZhcy5yZW1vdmVNYXJrZXIoY29ubmVjdGlvbiwgTUFSS0VSX0RSQUdHSU5HKTtcbiAgICB9KTtcblxuICAgIGlmIChkcmFnR3JvdXApIHtcbiAgICAgIHN2Z1JlbW92ZShsaW5lKTtcbiAgICAgIHN2Z1JlbW92ZShkcmFnR3JvdXApO1xuICAgIH1cblxuICAgIGZvckVhY2gocmVzaXppbmdTaGFwZXMsIGZ1bmN0aW9uKHNoYXBlKSB7XG4gICAgICBjYW52YXMucmVtb3ZlTWFya2VyKHNoYXBlLCBNQVJLRVJfUkVTSVpJTkcpO1xuICAgIH0pO1xuXG4gICAgaWYgKGZyYW1lR3JvdXApIHtcbiAgICAgIHN2Z1JlbW92ZShmcmFtZUdyb3VwKTtcbiAgICB9XG4gIH0pO1xufVxuXG5TcGFjZVRvb2xQcmV2aWV3LiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdlbGVtZW50UmVnaXN0cnknLFxuICAnY2FudmFzJyxcbiAgJ3N0eWxlcycsXG4gICdwcmV2aWV3U3VwcG9ydCdcbl07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/space-tool/SpaceToolPreview.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/space-tool/SpaceUtil.js":
/*!**********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/space-tool/SpaceUtil.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDirection: () => (/* binding */ getDirection),\n/* harmony export */   getWaypointsUpdatingConnections: () => (/* binding */ getWaypointsUpdatingConnections),\n/* harmony export */   resizeBounds: () => (/* binding */ resizeBounds)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/**\n * @typedef {import('../../core/Types').ConnectionLike} Connection\n * @typedef {import('../../core/Types').ShapeLike} Shape\n *\n * @typedef {import('../../util/Types').Axis} Axis\n * @typedef {import('../../util/Types').Direction} Direction\n * @typedef {import('../../util/Types').Point} Point\n * @typedef {import('../../util/Types').Rect} Rect\n */\n\n\n\n/**\n * Return direction given axis and delta.\n *\n * @param {Axis} axis\n * @param {number} delta\n *\n * @return {Direction}\n */\nfunction getDirection(axis, delta) {\n\n  if (axis === 'x') {\n    if (delta > 0) {\n      return 'e';\n    }\n\n    if (delta < 0) {\n      return 'w';\n    }\n  }\n\n  if (axis === 'y') {\n    if (delta > 0) {\n      return 's';\n    }\n\n    if (delta < 0) {\n      return 'n';\n    }\n  }\n\n  return null;\n}\n\n/**\n * Returns connections whose waypoints are to be updated. Waypoints are to be updated if start\n * or end is to be moved or resized.\n *\n * @param {Array<Shape>} movingShapes\n * @param {Array<Shape>} resizingShapes\n *\n * @return {Array<Connection>}\n */\nfunction getWaypointsUpdatingConnections(movingShapes, resizingShapes) {\n  var waypointsUpdatingConnections = [];\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(movingShapes.concat(resizingShapes), function(shape) {\n    var incoming = shape.incoming,\n        outgoing = shape.outgoing;\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(incoming.concat(outgoing), function(connection) {\n      var source = connection.source,\n          target = connection.target;\n\n      if (includes(movingShapes, source) ||\n        includes(movingShapes, target) ||\n        includes(resizingShapes, source) ||\n        includes(resizingShapes, target)) {\n\n        if (!includes(waypointsUpdatingConnections, connection)) {\n          waypointsUpdatingConnections.push(connection);\n        }\n      }\n    });\n  });\n\n  return waypointsUpdatingConnections;\n}\n\nfunction includes(array, item) {\n  return array.indexOf(item) !== -1;\n}\n\n/**\n * Resize bounds.\n *\n * @param {Rect} bounds\n * @param {Direction} direction\n * @param {Point} delta\n *\n * @return {Rect}\n */\nfunction resizeBounds(bounds, direction, delta) {\n  var x = bounds.x,\n      y = bounds.y,\n      width = bounds.width,\n      height = bounds.height,\n      dx = delta.x,\n      dy = delta.y;\n\n  switch (direction) {\n  case 'n':\n    return {\n      x: x,\n      y: y + dy,\n      width: width,\n      height: height - dy\n    };\n  case 's':\n    return {\n      x: x,\n      y: y,\n      width: width,\n      height: height + dy\n    };\n  case 'w':\n    return {\n      x: x + dx,\n      y: y,\n      width: width - dx,\n      height: height\n    };\n  case 'e':\n    return {\n      x: x,\n      y: y,\n      width: width + dx,\n      height: height\n    };\n  default:\n    throw new Error('unknown direction: ' + direction);\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc3BhY2UtdG9vbC9TcGFjZVV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0EsYUFBYSwyQ0FBMkM7QUFDeEQsYUFBYSxzQ0FBc0M7QUFDbkQ7QUFDQSxhQUFhLGlDQUFpQztBQUM5QyxhQUFhLHNDQUFzQztBQUNuRCxhQUFhLGtDQUFrQztBQUMvQyxhQUFhLGlDQUFpQztBQUM5Qzs7QUFFbUM7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZO0FBQ1o7QUFDTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsY0FBYztBQUN6QjtBQUNBLFlBQVk7QUFDWjtBQUNPO0FBQ1A7O0FBRUEsRUFBRSxpREFBTztBQUNUO0FBQ0E7O0FBRUEsSUFBSSxpREFBTztBQUNYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsT0FBTztBQUNsQjtBQUNBLFlBQVk7QUFDWjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9zcGFjZS10b29sL1NwYWNlVXRpbC5qcz8zZWE1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9UeXBlcycpLkNvbm5lY3Rpb25MaWtlfSBDb25uZWN0aW9uXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL1R5cGVzJykuU2hhcGVMaWtlfSBTaGFwZVxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL3V0aWwvVHlwZXMnKS5BeGlzfSBBeGlzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi91dGlsL1R5cGVzJykuRGlyZWN0aW9ufSBEaXJlY3Rpb25cbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL3V0aWwvVHlwZXMnKS5Qb2ludH0gUG9pbnRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL3V0aWwvVHlwZXMnKS5SZWN0fSBSZWN0XG4gKi9cblxuaW1wb3J0IHsgZm9yRWFjaCB9IGZyb20gJ21pbi1kYXNoJztcblxuLyoqXG4gKiBSZXR1cm4gZGlyZWN0aW9uIGdpdmVuIGF4aXMgYW5kIGRlbHRhLlxuICpcbiAqIEBwYXJhbSB7QXhpc30gYXhpc1xuICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhXG4gKlxuICogQHJldHVybiB7RGlyZWN0aW9ufVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlyZWN0aW9uKGF4aXMsIGRlbHRhKSB7XG5cbiAgaWYgKGF4aXMgPT09ICd4Jykge1xuICAgIGlmIChkZWx0YSA+IDApIHtcbiAgICAgIHJldHVybiAnZSc7XG4gICAgfVxuXG4gICAgaWYgKGRlbHRhIDwgMCkge1xuICAgICAgcmV0dXJuICd3JztcbiAgICB9XG4gIH1cblxuICBpZiAoYXhpcyA9PT0gJ3knKSB7XG4gICAgaWYgKGRlbHRhID4gMCkge1xuICAgICAgcmV0dXJuICdzJztcbiAgICB9XG5cbiAgICBpZiAoZGVsdGEgPCAwKSB7XG4gICAgICByZXR1cm4gJ24nO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIFJldHVybnMgY29ubmVjdGlvbnMgd2hvc2Ugd2F5cG9pbnRzIGFyZSB0byBiZSB1cGRhdGVkLiBXYXlwb2ludHMgYXJlIHRvIGJlIHVwZGF0ZWQgaWYgc3RhcnRcbiAqIG9yIGVuZCBpcyB0byBiZSBtb3ZlZCBvciByZXNpemVkLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8U2hhcGU+fSBtb3ZpbmdTaGFwZXNcbiAqIEBwYXJhbSB7QXJyYXk8U2hhcGU+fSByZXNpemluZ1NoYXBlc1xuICpcbiAqIEByZXR1cm4ge0FycmF5PENvbm5lY3Rpb24+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2F5cG9pbnRzVXBkYXRpbmdDb25uZWN0aW9ucyhtb3ZpbmdTaGFwZXMsIHJlc2l6aW5nU2hhcGVzKSB7XG4gIHZhciB3YXlwb2ludHNVcGRhdGluZ0Nvbm5lY3Rpb25zID0gW107XG5cbiAgZm9yRWFjaChtb3ZpbmdTaGFwZXMuY29uY2F0KHJlc2l6aW5nU2hhcGVzKSwgZnVuY3Rpb24oc2hhcGUpIHtcbiAgICB2YXIgaW5jb21pbmcgPSBzaGFwZS5pbmNvbWluZyxcbiAgICAgICAgb3V0Z29pbmcgPSBzaGFwZS5vdXRnb2luZztcblxuICAgIGZvckVhY2goaW5jb21pbmcuY29uY2F0KG91dGdvaW5nKSwgZnVuY3Rpb24oY29ubmVjdGlvbikge1xuICAgICAgdmFyIHNvdXJjZSA9IGNvbm5lY3Rpb24uc291cmNlLFxuICAgICAgICAgIHRhcmdldCA9IGNvbm5lY3Rpb24udGFyZ2V0O1xuXG4gICAgICBpZiAoaW5jbHVkZXMobW92aW5nU2hhcGVzLCBzb3VyY2UpIHx8XG4gICAgICAgIGluY2x1ZGVzKG1vdmluZ1NoYXBlcywgdGFyZ2V0KSB8fFxuICAgICAgICBpbmNsdWRlcyhyZXNpemluZ1NoYXBlcywgc291cmNlKSB8fFxuICAgICAgICBpbmNsdWRlcyhyZXNpemluZ1NoYXBlcywgdGFyZ2V0KSkge1xuXG4gICAgICAgIGlmICghaW5jbHVkZXMod2F5cG9pbnRzVXBkYXRpbmdDb25uZWN0aW9ucywgY29ubmVjdGlvbikpIHtcbiAgICAgICAgICB3YXlwb2ludHNVcGRhdGluZ0Nvbm5lY3Rpb25zLnB1c2goY29ubmVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHdheXBvaW50c1VwZGF0aW5nQ29ubmVjdGlvbnM7XG59XG5cbmZ1bmN0aW9uIGluY2x1ZGVzKGFycmF5LCBpdGVtKSB7XG4gIHJldHVybiBhcnJheS5pbmRleE9mKGl0ZW0pICE9PSAtMTtcbn1cblxuLyoqXG4gKiBSZXNpemUgYm91bmRzLlxuICpcbiAqIEBwYXJhbSB7UmVjdH0gYm91bmRzXG4gKiBAcGFyYW0ge0RpcmVjdGlvbn0gZGlyZWN0aW9uXG4gKiBAcGFyYW0ge1BvaW50fSBkZWx0YVxuICpcbiAqIEByZXR1cm4ge1JlY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNpemVCb3VuZHMoYm91bmRzLCBkaXJlY3Rpb24sIGRlbHRhKSB7XG4gIHZhciB4ID0gYm91bmRzLngsXG4gICAgICB5ID0gYm91bmRzLnksXG4gICAgICB3aWR0aCA9IGJvdW5kcy53aWR0aCxcbiAgICAgIGhlaWdodCA9IGJvdW5kcy5oZWlnaHQsXG4gICAgICBkeCA9IGRlbHRhLngsXG4gICAgICBkeSA9IGRlbHRhLnk7XG5cbiAgc3dpdGNoIChkaXJlY3Rpb24pIHtcbiAgY2FzZSAnbic6XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHgsXG4gICAgICB5OiB5ICsgZHksXG4gICAgICB3aWR0aDogd2lkdGgsXG4gICAgICBoZWlnaHQ6IGhlaWdodCAtIGR5XG4gICAgfTtcbiAgY2FzZSAncyc6XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHgsXG4gICAgICB5OiB5LFxuICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgaGVpZ2h0OiBoZWlnaHQgKyBkeVxuICAgIH07XG4gIGNhc2UgJ3cnOlxuICAgIHJldHVybiB7XG4gICAgICB4OiB4ICsgZHgsXG4gICAgICB5OiB5LFxuICAgICAgd2lkdGg6IHdpZHRoIC0gZHgsXG4gICAgICBoZWlnaHQ6IGhlaWdodFxuICAgIH07XG4gIGNhc2UgJ2UnOlxuICAgIHJldHVybiB7XG4gICAgICB4OiB4LFxuICAgICAgeTogeSxcbiAgICAgIHdpZHRoOiB3aWR0aCArIGR4LFxuICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICB9O1xuICBkZWZhdWx0OlxuICAgIHRocm93IG5ldyBFcnJvcigndW5rbm93biBkaXJlY3Rpb246ICcgKyBkaXJlY3Rpb24pO1xuICB9XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/space-tool/SpaceUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/space-tool/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/space-tool/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _dragging__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dragging */ \"(ssr)/./node_modules/diagram-js/lib/features/dragging/index.js\");\n/* harmony import */ var _rules__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../rules */ \"(ssr)/./node_modules/diagram-js/lib/features/rules/index.js\");\n/* harmony import */ var _tool_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tool-manager */ \"(ssr)/./node_modules/diagram-js/lib/features/tool-manager/index.js\");\n/* harmony import */ var _preview_support__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../preview-support */ \"(ssr)/./node_modules/diagram-js/lib/features/preview-support/index.js\");\n/* harmony import */ var _mouse__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../mouse */ \"(ssr)/./node_modules/diagram-js/lib/features/mouse/index.js\");\n/* harmony import */ var _SpaceTool__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./SpaceTool */ \"(ssr)/./node_modules/diagram-js/lib/features/space-tool/SpaceTool.js\");\n/* harmony import */ var _SpaceToolPreview__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./SpaceToolPreview */ \"(ssr)/./node_modules/diagram-js/lib/features/space-tool/SpaceToolPreview.js\");\n\n\n\n\n\n\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [ 'spaceToolPreview' ],\n  __depends__: [\n    _dragging__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    _rules__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    _tool_manager__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    _preview_support__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n    _mouse__WEBPACK_IMPORTED_MODULE_4__[\"default\"]\n  ],\n  spaceTool: [ 'type', _SpaceTool__WEBPACK_IMPORTED_MODULE_5__[\"default\"] ],\n  spaceToolPreview: [ 'type', _SpaceToolPreview__WEBPACK_IMPORTED_MODULE_6__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc3BhY2UtdG9vbC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUF5QztBQUNOO0FBQ2E7QUFDTTtBQUNuQjs7QUFFQztBQUNjOzs7QUFHbEQ7QUFDQSxXQUFXO0FBQ1g7QUFDQSxpRUFBZTtBQUNmO0FBQ0E7QUFDQSxJQUFJLGlEQUFjO0FBQ2xCLElBQUksOENBQVc7QUFDZixJQUFJLHFEQUFpQjtBQUNyQixJQUFJLHdEQUFvQjtBQUN4QixJQUFJLDhDQUFXO0FBQ2Y7QUFDQSx1QkFBdUIsa0RBQVM7QUFDaEMsOEJBQThCLHlEQUFnQjtBQUM5QyxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvc3BhY2UtdG9vbC9pbmRleC5qcz9lNzRhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEcmFnZ2luZ01vZHVsZSBmcm9tICcuLi9kcmFnZ2luZyc7XG5pbXBvcnQgUnVsZXNNb2R1bGUgZnJvbSAnLi4vcnVsZXMnO1xuaW1wb3J0IFRvb2xNYW5hZ2VyTW9kdWxlIGZyb20gJy4uL3Rvb2wtbWFuYWdlcic7XG5pbXBvcnQgUHJldmlld1N1cHBvcnRNb2R1bGUgZnJvbSAnLi4vcHJldmlldy1zdXBwb3J0JztcbmltcG9ydCBNb3VzZU1vZHVsZSBmcm9tICcuLi9tb3VzZSc7XG5cbmltcG9ydCBTcGFjZVRvb2wgZnJvbSAnLi9TcGFjZVRvb2wnO1xuaW1wb3J0IFNwYWNlVG9vbFByZXZpZXcgZnJvbSAnLi9TcGFjZVRvb2xQcmV2aWV3JztcblxuXG4vKipcbiAqIEB0eXBlIHsgaW1wb3J0KCdkaWRpJykuTW9kdWxlRGVjbGFyYXRpb24gfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICdzcGFjZVRvb2xQcmV2aWV3JyBdLFxuICBfX2RlcGVuZHNfXzogW1xuICAgIERyYWdnaW5nTW9kdWxlLFxuICAgIFJ1bGVzTW9kdWxlLFxuICAgIFRvb2xNYW5hZ2VyTW9kdWxlLFxuICAgIFByZXZpZXdTdXBwb3J0TW9kdWxlLFxuICAgIE1vdXNlTW9kdWxlXG4gIF0sXG4gIHNwYWNlVG9vbDogWyAndHlwZScsIFNwYWNlVG9vbCBdLFxuICBzcGFjZVRvb2xQcmV2aWV3OiBbICd0eXBlJywgU3BhY2VUb29sUHJldmlldyBdXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/space-tool/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/tool-manager/ToolManager.js":
/*!**************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/tool-manager/ToolManager.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ToolManager)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dom */ \"(ssr)/./node_modules/min-dom/dist/index.esm.js\");\n\n\n\n\n/**\n * @typedef {import('../../core/EventBus').default} EventBus\n *\n * @typedef {import('../../core/EventBus').Event} Event\n */\n\nvar LOW_PRIORITY = 250;\n\n/**\n * The tool manager acts as middle-man between the available tool's and the Palette,\n * it takes care of making sure that the correct active state is set.\n *\n * @param {EventBus} eventBus\n */\nfunction ToolManager(eventBus) {\n  this._eventBus = eventBus;\n\n  this._tools = [];\n  this._active = null;\n}\n\nToolManager.$inject = [ 'eventBus' ];\n\n/**\n * Register a tool.\n *\n * @param {string} name\n * @param { {\n *   tool: string;\n * } } events\n */\nToolManager.prototype.registerTool = function(name, events) {\n  var tools = this._tools;\n\n  if (!events) {\n    throw new Error('A tool has to be registered with it\\'s \"events\"');\n  }\n\n  tools.push(name);\n  this.bindEvents(name, events);\n};\n\nToolManager.prototype.isActive = function(tool) {\n  return tool && this._active === tool;\n};\n\nToolManager.prototype.length = function(tool) {\n  return this._tools.length;\n};\n\nToolManager.prototype.setActive = function(tool) {\n  var eventBus = this._eventBus;\n\n  if (this._active !== tool) {\n    this._active = tool;\n\n    eventBus.fire('tool-manager.update', { tool: tool });\n  }\n};\n\nToolManager.prototype.bindEvents = function(name, events) {\n  var eventBus = this._eventBus;\n\n  var eventsToRegister = [];\n\n  eventBus.on(events.tool + '.init', function(event) {\n    var context = event.context;\n\n    // Active tools that want to reactivate themselves must do this explicitly\n    if (!context.reactivate && this.isActive(name)) {\n      this.setActive(null);\n\n      return;\n    }\n\n    this.setActive(name);\n\n  }, this);\n\n  // TODO: add test cases\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(events, function(event) {\n    eventsToRegister.push(event + '.ended');\n    eventsToRegister.push(event + '.canceled');\n  });\n\n  eventBus.on(eventsToRegister, LOW_PRIORITY, function(event) {\n\n    // We defer the de-activation of the tool to the .activate phase,\n    // so we're able to check if we want to toggle off the current\n    // active tool or switch to a new one\n    if (!this._active) {\n      return;\n    }\n\n    if (isPaletteClick(event)) {\n      return;\n    }\n\n    this.setActive(null);\n  }, this);\n\n};\n\n\n// helpers ///////////////\n\n/**\n * Check if a given event is a palette click event.\n *\n * @param {Event} event\n *\n * @return {boolean}\n */\nfunction isPaletteClick(event) {\n  var target = event.originalEvent && event.originalEvent.target;\n\n  return target && (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.closest)(target, '.group[data-group=\"tools\"]');\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvdG9vbC1tYW5hZ2VyL1Rvb2xNYW5hZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUVrQjs7QUFJRDs7QUFFakI7QUFDQSxhQUFhLHVDQUF1QztBQUNwRDtBQUNBLGFBQWEscUNBQXFDO0FBQ2xEOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ2U7QUFDZjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsMkNBQTJDLFlBQVk7QUFDdkQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsR0FBRzs7QUFFSDtBQUNBLEVBQUUsaURBQU87QUFDVDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsZ0RBQVU7QUFDN0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvdG9vbC1tYW5hZ2VyL1Rvb2xNYW5hZ2VyLmpzPzNmZGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgZm9yRWFjaFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGNsb3Nlc3QgYXMgZG9tQ2xvc2VzdFxufSBmcm9tICdtaW4tZG9tJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0V2ZW50QnVzJykuRXZlbnR9IEV2ZW50XG4gKi9cblxudmFyIExPV19QUklPUklUWSA9IDI1MDtcblxuLyoqXG4gKiBUaGUgdG9vbCBtYW5hZ2VyIGFjdHMgYXMgbWlkZGxlLW1hbiBiZXR3ZWVuIHRoZSBhdmFpbGFibGUgdG9vbCdzIGFuZCB0aGUgUGFsZXR0ZSxcbiAqIGl0IHRha2VzIGNhcmUgb2YgbWFraW5nIHN1cmUgdGhhdCB0aGUgY29ycmVjdCBhY3RpdmUgc3RhdGUgaXMgc2V0LlxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFRvb2xNYW5hZ2VyKGV2ZW50QnVzKSB7XG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG5cbiAgdGhpcy5fdG9vbHMgPSBbXTtcbiAgdGhpcy5fYWN0aXZlID0gbnVsbDtcbn1cblxuVG9vbE1hbmFnZXIuJGluamVjdCA9IFsgJ2V2ZW50QnVzJyBdO1xuXG4vKipcbiAqIFJlZ2lzdGVyIGEgdG9vbC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHsge1xuICogICB0b29sOiBzdHJpbmc7XG4gKiB9IH0gZXZlbnRzXG4gKi9cblRvb2xNYW5hZ2VyLnByb3RvdHlwZS5yZWdpc3RlclRvb2wgPSBmdW5jdGlvbihuYW1lLCBldmVudHMpIHtcbiAgdmFyIHRvb2xzID0gdGhpcy5fdG9vbHM7XG5cbiAgaWYgKCFldmVudHMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgdG9vbCBoYXMgdG8gYmUgcmVnaXN0ZXJlZCB3aXRoIGl0XFwncyBcImV2ZW50c1wiJyk7XG4gIH1cblxuICB0b29scy5wdXNoKG5hbWUpO1xuICB0aGlzLmJpbmRFdmVudHMobmFtZSwgZXZlbnRzKTtcbn07XG5cblRvb2xNYW5hZ2VyLnByb3RvdHlwZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uKHRvb2wpIHtcbiAgcmV0dXJuIHRvb2wgJiYgdGhpcy5fYWN0aXZlID09PSB0b29sO1xufTtcblxuVG9vbE1hbmFnZXIucHJvdG90eXBlLmxlbmd0aCA9IGZ1bmN0aW9uKHRvb2wpIHtcbiAgcmV0dXJuIHRoaXMuX3Rvb2xzLmxlbmd0aDtcbn07XG5cblRvb2xNYW5hZ2VyLnByb3RvdHlwZS5zZXRBY3RpdmUgPSBmdW5jdGlvbih0b29sKSB7XG4gIHZhciBldmVudEJ1cyA9IHRoaXMuX2V2ZW50QnVzO1xuXG4gIGlmICh0aGlzLl9hY3RpdmUgIT09IHRvb2wpIHtcbiAgICB0aGlzLl9hY3RpdmUgPSB0b29sO1xuXG4gICAgZXZlbnRCdXMuZmlyZSgndG9vbC1tYW5hZ2VyLnVwZGF0ZScsIHsgdG9vbDogdG9vbCB9KTtcbiAgfVxufTtcblxuVG9vbE1hbmFnZXIucHJvdG90eXBlLmJpbmRFdmVudHMgPSBmdW5jdGlvbihuYW1lLCBldmVudHMpIHtcbiAgdmFyIGV2ZW50QnVzID0gdGhpcy5fZXZlbnRCdXM7XG5cbiAgdmFyIGV2ZW50c1RvUmVnaXN0ZXIgPSBbXTtcblxuICBldmVudEJ1cy5vbihldmVudHMudG9vbCArICcuaW5pdCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0O1xuXG4gICAgLy8gQWN0aXZlIHRvb2xzIHRoYXQgd2FudCB0byByZWFjdGl2YXRlIHRoZW1zZWx2ZXMgbXVzdCBkbyB0aGlzIGV4cGxpY2l0bHlcbiAgICBpZiAoIWNvbnRleHQucmVhY3RpdmF0ZSAmJiB0aGlzLmlzQWN0aXZlKG5hbWUpKSB7XG4gICAgICB0aGlzLnNldEFjdGl2ZShudWxsKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc2V0QWN0aXZlKG5hbWUpO1xuXG4gIH0sIHRoaXMpO1xuXG4gIC8vIFRPRE86IGFkZCB0ZXN0IGNhc2VzXG4gIGZvckVhY2goZXZlbnRzLCBmdW5jdGlvbihldmVudCkge1xuICAgIGV2ZW50c1RvUmVnaXN0ZXIucHVzaChldmVudCArICcuZW5kZWQnKTtcbiAgICBldmVudHNUb1JlZ2lzdGVyLnB1c2goZXZlbnQgKyAnLmNhbmNlbGVkJyk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKGV2ZW50c1RvUmVnaXN0ZXIsIExPV19QUklPUklUWSwgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgIC8vIFdlIGRlZmVyIHRoZSBkZS1hY3RpdmF0aW9uIG9mIHRoZSB0b29sIHRvIHRoZSAuYWN0aXZhdGUgcGhhc2UsXG4gICAgLy8gc28gd2UncmUgYWJsZSB0byBjaGVjayBpZiB3ZSB3YW50IHRvIHRvZ2dsZSBvZmYgdGhlIGN1cnJlbnRcbiAgICAvLyBhY3RpdmUgdG9vbCBvciBzd2l0Y2ggdG8gYSBuZXcgb25lXG4gICAgaWYgKCF0aGlzLl9hY3RpdmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNQYWxldHRlQ2xpY2soZXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zZXRBY3RpdmUobnVsbCk7XG4gIH0sIHRoaXMpO1xuXG59O1xuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQ2hlY2sgaWYgYSBnaXZlbiBldmVudCBpcyBhIHBhbGV0dGUgY2xpY2sgZXZlbnQuXG4gKlxuICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc1BhbGV0dGVDbGljayhldmVudCkge1xuICB2YXIgdGFyZ2V0ID0gZXZlbnQub3JpZ2luYWxFdmVudCAmJiBldmVudC5vcmlnaW5hbEV2ZW50LnRhcmdldDtcblxuICByZXR1cm4gdGFyZ2V0ICYmIGRvbUNsb3Nlc3QodGFyZ2V0LCAnLmdyb3VwW2RhdGEtZ3JvdXA9XCJ0b29sc1wiXScpO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/tool-manager/ToolManager.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/tool-manager/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/tool-manager/index.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _dragging__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dragging */ \"(ssr)/./node_modules/diagram-js/lib/features/dragging/index.js\");\n/* harmony import */ var _ToolManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ToolManager */ \"(ssr)/./node_modules/diagram-js/lib/features/tool-manager/ToolManager.js\");\n\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _dragging__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\n  ],\n  __init__: [ 'toolManager' ],\n  toolManager: [ 'type', _ToolManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvdG9vbC1tYW5hZ2VyL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF5Qzs7QUFFRDs7O0FBR3hDO0FBQ0EsV0FBVztBQUNYO0FBQ0EsaUVBQWU7QUFDZjtBQUNBLElBQUksaURBQWM7QUFDbEI7QUFDQTtBQUNBLHlCQUF5QixvREFBVztBQUNwQyxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvdG9vbC1tYW5hZ2VyL2luZGV4LmpzPzg1MmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERyYWdnaW5nTW9kdWxlIGZyb20gJy4uL2RyYWdnaW5nJztcblxuaW1wb3J0IFRvb2xNYW5hZ2VyIGZyb20gJy4vVG9vbE1hbmFnZXInO1xuXG5cbi8qKlxuICogQHR5cGUgeyBpbXBvcnQoJ2RpZGknKS5Nb2R1bGVEZWNsYXJhdGlvbiB9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBEcmFnZ2luZ01vZHVsZVxuICBdLFxuICBfX2luaXRfXzogWyAndG9vbE1hbmFnZXInIF0sXG4gIHRvb2xNYW5hZ2VyOiBbICd0eXBlJywgVG9vbE1hbmFnZXIgXVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/tool-manager/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/tooltips/Tooltips.js":
/*!*******************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/tooltips/Tooltips.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Tooltips)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dom */ \"(ssr)/./node_modules/min-dom/dist/index.esm.js\");\n/* harmony import */ var _util_IdGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/IdGenerator */ \"(ssr)/./node_modules/diagram-js/lib/util/IdGenerator.js\");\n\n\n\n\n\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n *\n * @typedef {import('../../util/Types').RectTRBL} RectTRBL\n *\n * @typedef { {\n *   html: string | HTMLElement;\n *   position: RectTRBL;\n *   show?: {\n *     minZoom?: number;\n *     maxZoom?: number;\n *   };\n *   timeout?: number;\n * } } Tooltip\n */\n\n// document wide unique tooltip ids\nvar ids = new _util_IdGenerator__WEBPACK_IMPORTED_MODULE_0__[\"default\"]('tt');\n\n\nfunction createRoot(parentNode) {\n  var root = (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.domify)(\n    '<div class=\"djs-tooltip-container\" />'\n  );\n\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.assignStyle)(root, {\n    position: 'absolute',\n    width: '0',\n    height: '0'\n  });\n\n  parentNode.insertBefore(root, parentNode.firstChild);\n\n  return root;\n}\n\n\nfunction setPosition(el, x, y) {\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.assignStyle)(el, { left: x + 'px', top: y + 'px' });\n}\n\nfunction setVisible(el, visible) {\n  el.style.display = visible === false ? 'none' : '';\n}\n\n\nvar tooltipClass = 'djs-tooltip',\n    tooltipSelector = '.' + tooltipClass;\n\n/**\n * A service that allows users to render tool tips on the diagram.\n *\n * The tooltip service will take care of updating the tooltip positioning\n * during navigation + zooming.\n *\n * @example\n *\n * ```javascript\n *\n * // add a pink badge on the top left of the shape\n * tooltips.add({\n *   position: {\n *     x: 50,\n *     y: 100\n *   },\n *   html: '<div style=\"width: 10px; background: fuchsia; color: white;\">0</div>'\n * });\n *\n * // or with optional life span\n * tooltips.add({\n *   position: {\n *     top: -5,\n *     left: -5\n *   },\n *   html: '<div style=\"width: 10px; background: fuchsia; color: white;\">0</div>',\n *   ttl: 2000\n * });\n *\n * // remove a tool tip\n * var id = tooltips.add(...);\n *\n * tooltips.remove(id);\n * ```\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nfunction Tooltips(eventBus, canvas) {\n\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n\n  this._ids = ids;\n\n  this._tooltipDefaults = {\n    show: {\n      minZoom: 0.7,\n      maxZoom: 5.0\n    }\n  };\n\n  /**\n   * @type {Record<string, Tooltip>}\n   */\n  this._tooltips = {};\n\n  // root html element for all tooltips\n  this._tooltipRoot = createRoot(canvas.getContainer());\n\n\n  var self = this;\n\n  min_dom__WEBPACK_IMPORTED_MODULE_1__.delegate.bind(this._tooltipRoot, tooltipSelector, 'mousedown', function(event) {\n    event.stopPropagation();\n  });\n\n  min_dom__WEBPACK_IMPORTED_MODULE_1__.delegate.bind(this._tooltipRoot, tooltipSelector, 'mouseover', function(event) {\n    self.trigger('mouseover', event);\n  });\n\n  min_dom__WEBPACK_IMPORTED_MODULE_1__.delegate.bind(this._tooltipRoot, tooltipSelector, 'mouseout', function(event) {\n    self.trigger('mouseout', event);\n  });\n\n  this._init();\n}\n\n\nTooltips.$inject = [ 'eventBus', 'canvas' ];\n\n\n/**\n * Adds an HTML tooltip to the diagram.\n *\n * @param {Tooltip} tooltip\n *\n * @return {string} ID of the tooltip.\n */\nTooltips.prototype.add = function(tooltip) {\n\n  if (!tooltip.position) {\n    throw new Error('must specifiy tooltip position');\n  }\n\n  if (!tooltip.html) {\n    throw new Error('must specifiy tooltip html');\n  }\n\n  var id = this._ids.next();\n\n  tooltip = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.assign)({}, this._tooltipDefaults, tooltip, {\n    id: id\n  });\n\n  this._addTooltip(tooltip);\n\n  if (tooltip.timeout) {\n    this.setTimeout(tooltip);\n  }\n\n  return id;\n};\n\n/**\n * @param {string} action\n * @param {Event} event\n */\nTooltips.prototype.trigger = function(action, event) {\n\n  var node = event.delegateTarget || event.target;\n\n  var tooltip = this.get((0,min_dom__WEBPACK_IMPORTED_MODULE_1__.attr)(node, 'data-tooltip-id'));\n\n  if (!tooltip) {\n    return;\n  }\n\n  if (action === 'mouseover' && tooltip.timeout) {\n    this.clearTimeout(tooltip);\n  }\n\n  if (action === 'mouseout' && tooltip.timeout) {\n\n    // cut timeout after mouse out\n    tooltip.timeout = 1000;\n\n    this.setTimeout(tooltip);\n  }\n};\n\n/**\n * Get tooltip with given ID.\n *\n * @param {Tooltip|string} id\n *\n * @return {Tooltip|undefined}\n */\nTooltips.prototype.get = function(id) {\n\n  if (typeof id !== 'string') {\n    id = id.id;\n  }\n\n  return this._tooltips[id];\n};\n\n/**\n * @param {Tooltip} tooltip\n */\nTooltips.prototype.clearTimeout = function(tooltip) {\n\n  tooltip = this.get(tooltip);\n\n  if (!tooltip) {\n    return;\n  }\n\n  var removeTimer = tooltip.removeTimer;\n\n  if (removeTimer) {\n    clearTimeout(removeTimer);\n    tooltip.removeTimer = null;\n  }\n};\n\n/**\n * @param {Tooltip} tooltip\n */\nTooltips.prototype.setTimeout = function(tooltip) {\n\n  tooltip = this.get(tooltip);\n\n  if (!tooltip) {\n    return;\n  }\n\n  this.clearTimeout(tooltip);\n\n  var self = this;\n\n  tooltip.removeTimer = setTimeout(function() {\n    self.remove(tooltip);\n  }, tooltip.timeout);\n};\n\n/**\n * Remove tooltip with given ID.\n *\n * @param {string | Tooltip} id\n */\nTooltips.prototype.remove = function(id) {\n\n  var tooltip = this.get(id);\n\n  if (tooltip) {\n    (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.remove)(tooltip.html);\n    (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.remove)(tooltip.htmlContainer);\n\n    delete tooltip.htmlContainer;\n\n    delete this._tooltips[tooltip.id];\n  }\n};\n\n\nTooltips.prototype.show = function() {\n  setVisible(this._tooltipRoot);\n};\n\n\nTooltips.prototype.hide = function() {\n  setVisible(this._tooltipRoot, false);\n};\n\n\nTooltips.prototype._updateRoot = function(viewbox) {\n  var a = viewbox.scale || 1;\n  var d = viewbox.scale || 1;\n\n  var matrix = 'matrix(' + a + ',0,0,' + d + ',' + (-1 * viewbox.x * a) + ',' + (-1 * viewbox.y * d) + ')';\n\n  this._tooltipRoot.style.transform = matrix;\n  this._tooltipRoot.style['-ms-transform'] = matrix;\n};\n\n\nTooltips.prototype._addTooltip = function(tooltip) {\n\n  var id = tooltip.id,\n      html = tooltip.html,\n      htmlContainer,\n      tooltipRoot = this._tooltipRoot;\n\n  // unwrap jquery (for those who need it)\n  if (html.get && html.constructor.prototype.jquery) {\n    html = html.get(0);\n  }\n\n  // create proper html elements from\n  // tooltip HTML strings\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isString)(html)) {\n    html = (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.domify)(html);\n  }\n\n  htmlContainer = (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.domify)('<div data-tooltip-id=\"' + id + '\" class=\"' + tooltipClass + '\">');\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.assignStyle)(htmlContainer, { position: 'absolute' });\n\n  htmlContainer.appendChild(html);\n\n  if (tooltip.type) {\n    (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.classes)(htmlContainer).add('djs-tooltip-' + tooltip.type);\n  }\n\n  if (tooltip.className) {\n    (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.classes)(htmlContainer).add(tooltip.className);\n  }\n\n  tooltip.htmlContainer = htmlContainer;\n\n  tooltipRoot.appendChild(htmlContainer);\n\n  this._tooltips[id] = tooltip;\n\n  this._updateTooltip(tooltip);\n};\n\n\nTooltips.prototype._updateTooltip = function(tooltip) {\n\n  var position = tooltip.position,\n      htmlContainer = tooltip.htmlContainer;\n\n  // update overlay html based on tooltip x, y\n\n  setPosition(htmlContainer, position.x, position.y);\n};\n\n\nTooltips.prototype._updateTooltipVisibilty = function(viewbox) {\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.forEach)(this._tooltips, function(tooltip) {\n    var show = tooltip.show,\n        htmlContainer = tooltip.htmlContainer,\n        visible = true;\n\n    if (show) {\n      if (show.minZoom > viewbox.scale ||\n          show.maxZoom < viewbox.scale) {\n        visible = false;\n      }\n\n      setVisible(htmlContainer, visible);\n    }\n  });\n};\n\nTooltips.prototype._init = function() {\n\n  var self = this;\n\n  // scroll/zoom integration\n\n  function updateViewbox(viewbox) {\n    self._updateRoot(viewbox);\n    self._updateTooltipVisibilty(viewbox);\n\n    self.show();\n  }\n\n  this._eventBus.on('canvas.viewbox.changing', function(event) {\n    self.hide();\n  });\n\n  this._eventBus.on('canvas.viewbox.changed', function(event) {\n    updateViewbox(event.viewbox);\n  });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvdG9vbHRpcHMvVG9vbHRpcHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUlrQjs7QUFTRDs7QUFFd0I7O0FBRXpDO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQsYUFBYSx1Q0FBdUM7QUFDcEQ7QUFDQSxhQUFhLHFDQUFxQztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQSxjQUFjLHlEQUFHOzs7QUFHakI7QUFDQSxhQUFhLCtDQUFNO0FBQ25CO0FBQ0E7O0FBRUEsRUFBRSxvREFBVztBQUNiO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQSxFQUFFLG9EQUFXLE9BQU8sK0JBQStCO0FBQ25EOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04scUNBQXFDLHFCQUFxQixhQUFhO0FBQ3ZFLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04scUNBQXFDLHFCQUFxQixhQUFhO0FBQ3ZFO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsUUFBUTtBQUNuQjtBQUNlOztBQUVmO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7O0FBRUEsRUFBRSw2Q0FBVztBQUNiO0FBQ0EsR0FBRzs7QUFFSCxFQUFFLDZDQUFXO0FBQ2I7QUFDQSxHQUFHOztBQUVILEVBQUUsNkNBQVc7QUFDYjtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7O0FBR0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBLFlBQVksUUFBUTtBQUNwQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsWUFBWSxnREFBTSxHQUFHO0FBQ3JCO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLE9BQU87QUFDbEI7QUFDQTs7QUFFQTs7QUFFQSx5QkFBeUIsNkNBQU87O0FBRWhDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0I7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxrQkFBa0I7QUFDN0I7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLElBQUksK0NBQVM7QUFDYixJQUFJLCtDQUFTOztBQUViOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNLGtEQUFRO0FBQ2QsV0FBVywrQ0FBTTtBQUNqQjs7QUFFQSxrQkFBa0IsK0NBQU07QUFDeEIsRUFBRSxvREFBVyxrQkFBa0Isc0JBQXNCOztBQUVyRDs7QUFFQTtBQUNBLElBQUksZ0RBQVU7QUFDZDs7QUFFQTtBQUNBLElBQUksZ0RBQVU7QUFDZDs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7OztBQUdBOztBQUVBLEVBQUUsaURBQU87QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvdG9vbHRpcHMvVG9vbHRpcHMuanM/NDE4NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBpc1N0cmluZyxcbiAgYXNzaWduLFxuICBmb3JFYWNoXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgYXNzaWduU3R5bGUsXG4gIGRvbWlmeSxcbiAgYXR0ciBhcyBkb21BdHRyLFxuICBjbGFzc2VzIGFzIGRvbUNsYXNzZXMsXG4gIHJlbW92ZSBhcyBkb21SZW1vdmUsXG4gIGRlbGVnYXRlIGFzIGRvbURlbGVnYXRlXG59IGZyb20gJ21pbi1kb20nO1xuXG5pbXBvcnQgSWRzIGZyb20gJy4uLy4uL3V0aWwvSWRHZW5lcmF0b3InO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvQ2FudmFzJykuZGVmYXVsdH0gQ2FudmFzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi91dGlsL1R5cGVzJykuUmVjdFRSQkx9IFJlY3RUUkJMXG4gKlxuICogQHR5cGVkZWYgeyB7XG4gKiAgIGh0bWw6IHN0cmluZyB8IEhUTUxFbGVtZW50O1xuICogICBwb3NpdGlvbjogUmVjdFRSQkw7XG4gKiAgIHNob3c/OiB7XG4gKiAgICAgbWluWm9vbT86IG51bWJlcjtcbiAqICAgICBtYXhab29tPzogbnVtYmVyO1xuICogICB9O1xuICogICB0aW1lb3V0PzogbnVtYmVyO1xuICogfSB9IFRvb2x0aXBcbiAqL1xuXG4vLyBkb2N1bWVudCB3aWRlIHVuaXF1ZSB0b29sdGlwIGlkc1xudmFyIGlkcyA9IG5ldyBJZHMoJ3R0Jyk7XG5cblxuZnVuY3Rpb24gY3JlYXRlUm9vdChwYXJlbnROb2RlKSB7XG4gIHZhciByb290ID0gZG9taWZ5KFxuICAgICc8ZGl2IGNsYXNzPVwiZGpzLXRvb2x0aXAtY29udGFpbmVyXCIgLz4nXG4gICk7XG5cbiAgYXNzaWduU3R5bGUocm9vdCwge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHdpZHRoOiAnMCcsXG4gICAgaGVpZ2h0OiAnMCdcbiAgfSk7XG5cbiAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocm9vdCwgcGFyZW50Tm9kZS5maXJzdENoaWxkKTtcblxuICByZXR1cm4gcm9vdDtcbn1cblxuXG5mdW5jdGlvbiBzZXRQb3NpdGlvbihlbCwgeCwgeSkge1xuICBhc3NpZ25TdHlsZShlbCwgeyBsZWZ0OiB4ICsgJ3B4JywgdG9wOiB5ICsgJ3B4JyB9KTtcbn1cblxuZnVuY3Rpb24gc2V0VmlzaWJsZShlbCwgdmlzaWJsZSkge1xuICBlbC5zdHlsZS5kaXNwbGF5ID0gdmlzaWJsZSA9PT0gZmFsc2UgPyAnbm9uZScgOiAnJztcbn1cblxuXG52YXIgdG9vbHRpcENsYXNzID0gJ2Rqcy10b29sdGlwJyxcbiAgICB0b29sdGlwU2VsZWN0b3IgPSAnLicgKyB0b29sdGlwQ2xhc3M7XG5cbi8qKlxuICogQSBzZXJ2aWNlIHRoYXQgYWxsb3dzIHVzZXJzIHRvIHJlbmRlciB0b29sIHRpcHMgb24gdGhlIGRpYWdyYW0uXG4gKlxuICogVGhlIHRvb2x0aXAgc2VydmljZSB3aWxsIHRha2UgY2FyZSBvZiB1cGRhdGluZyB0aGUgdG9vbHRpcCBwb3NpdGlvbmluZ1xuICogZHVyaW5nIG5hdmlnYXRpb24gKyB6b29taW5nLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICpcbiAqIC8vIGFkZCBhIHBpbmsgYmFkZ2Ugb24gdGhlIHRvcCBsZWZ0IG9mIHRoZSBzaGFwZVxuICogdG9vbHRpcHMuYWRkKHtcbiAqICAgcG9zaXRpb246IHtcbiAqICAgICB4OiA1MCxcbiAqICAgICB5OiAxMDBcbiAqICAgfSxcbiAqICAgaHRtbDogJzxkaXYgc3R5bGU9XCJ3aWR0aDogMTBweDsgYmFja2dyb3VuZDogZnVjaHNpYTsgY29sb3I6IHdoaXRlO1wiPjA8L2Rpdj4nXG4gKiB9KTtcbiAqXG4gKiAvLyBvciB3aXRoIG9wdGlvbmFsIGxpZmUgc3BhblxuICogdG9vbHRpcHMuYWRkKHtcbiAqICAgcG9zaXRpb246IHtcbiAqICAgICB0b3A6IC01LFxuICogICAgIGxlZnQ6IC01XG4gKiAgIH0sXG4gKiAgIGh0bWw6ICc8ZGl2IHN0eWxlPVwid2lkdGg6IDEwcHg7IGJhY2tncm91bmQ6IGZ1Y2hzaWE7IGNvbG9yOiB3aGl0ZTtcIj4wPC9kaXY+JyxcbiAqICAgdHRsOiAyMDAwXG4gKiB9KTtcbiAqXG4gKiAvLyByZW1vdmUgYSB0b29sIHRpcFxuICogdmFyIGlkID0gdG9vbHRpcHMuYWRkKC4uLik7XG4gKlxuICogdG9vbHRpcHMucmVtb3ZlKGlkKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFRvb2x0aXBzKGV2ZW50QnVzLCBjYW52YXMpIHtcblxuICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG5cbiAgdGhpcy5faWRzID0gaWRzO1xuXG4gIHRoaXMuX3Rvb2x0aXBEZWZhdWx0cyA9IHtcbiAgICBzaG93OiB7XG4gICAgICBtaW5ab29tOiAwLjcsXG4gICAgICBtYXhab29tOiA1LjBcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nLCBUb29sdGlwPn1cbiAgICovXG4gIHRoaXMuX3Rvb2x0aXBzID0ge307XG5cbiAgLy8gcm9vdCBodG1sIGVsZW1lbnQgZm9yIGFsbCB0b29sdGlwc1xuICB0aGlzLl90b29sdGlwUm9vdCA9IGNyZWF0ZVJvb3QoY2FudmFzLmdldENvbnRhaW5lcigpKTtcblxuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICBkb21EZWxlZ2F0ZS5iaW5kKHRoaXMuX3Rvb2x0aXBSb290LCB0b29sdGlwU2VsZWN0b3IsICdtb3VzZWRvd24nLCBmdW5jdGlvbihldmVudCkge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9KTtcblxuICBkb21EZWxlZ2F0ZS5iaW5kKHRoaXMuX3Rvb2x0aXBSb290LCB0b29sdGlwU2VsZWN0b3IsICdtb3VzZW92ZXInLCBmdW5jdGlvbihldmVudCkge1xuICAgIHNlbGYudHJpZ2dlcignbW91c2VvdmVyJywgZXZlbnQpO1xuICB9KTtcblxuICBkb21EZWxlZ2F0ZS5iaW5kKHRoaXMuX3Rvb2x0aXBSb290LCB0b29sdGlwU2VsZWN0b3IsICdtb3VzZW91dCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgc2VsZi50cmlnZ2VyKCdtb3VzZW91dCcsIGV2ZW50KTtcbiAgfSk7XG5cbiAgdGhpcy5faW5pdCgpO1xufVxuXG5cblRvb2x0aXBzLiRpbmplY3QgPSBbICdldmVudEJ1cycsICdjYW52YXMnIF07XG5cblxuLyoqXG4gKiBBZGRzIGFuIEhUTUwgdG9vbHRpcCB0byB0aGUgZGlhZ3JhbS5cbiAqXG4gKiBAcGFyYW0ge1Rvb2x0aXB9IHRvb2x0aXBcbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9IElEIG9mIHRoZSB0b29sdGlwLlxuICovXG5Ub29sdGlwcy5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24odG9vbHRpcCkge1xuXG4gIGlmICghdG9vbHRpcC5wb3NpdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcignbXVzdCBzcGVjaWZpeSB0b29sdGlwIHBvc2l0aW9uJyk7XG4gIH1cblxuICBpZiAoIXRvb2x0aXAuaHRtbCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbXVzdCBzcGVjaWZpeSB0b29sdGlwIGh0bWwnKTtcbiAgfVxuXG4gIHZhciBpZCA9IHRoaXMuX2lkcy5uZXh0KCk7XG5cbiAgdG9vbHRpcCA9IGFzc2lnbih7fSwgdGhpcy5fdG9vbHRpcERlZmF1bHRzLCB0b29sdGlwLCB7XG4gICAgaWQ6IGlkXG4gIH0pO1xuXG4gIHRoaXMuX2FkZFRvb2x0aXAodG9vbHRpcCk7XG5cbiAgaWYgKHRvb2x0aXAudGltZW91dCkge1xuICAgIHRoaXMuc2V0VGltZW91dCh0b29sdGlwKTtcbiAgfVxuXG4gIHJldHVybiBpZDtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvblxuICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAqL1xuVG9vbHRpcHMucHJvdG90eXBlLnRyaWdnZXIgPSBmdW5jdGlvbihhY3Rpb24sIGV2ZW50KSB7XG5cbiAgdmFyIG5vZGUgPSBldmVudC5kZWxlZ2F0ZVRhcmdldCB8fCBldmVudC50YXJnZXQ7XG5cbiAgdmFyIHRvb2x0aXAgPSB0aGlzLmdldChkb21BdHRyKG5vZGUsICdkYXRhLXRvb2x0aXAtaWQnKSk7XG5cbiAgaWYgKCF0b29sdGlwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGFjdGlvbiA9PT0gJ21vdXNlb3ZlcicgJiYgdG9vbHRpcC50aW1lb3V0KSB7XG4gICAgdGhpcy5jbGVhclRpbWVvdXQodG9vbHRpcCk7XG4gIH1cblxuICBpZiAoYWN0aW9uID09PSAnbW91c2VvdXQnICYmIHRvb2x0aXAudGltZW91dCkge1xuXG4gICAgLy8gY3V0IHRpbWVvdXQgYWZ0ZXIgbW91c2Ugb3V0XG4gICAgdG9vbHRpcC50aW1lb3V0ID0gMTAwMDtcblxuICAgIHRoaXMuc2V0VGltZW91dCh0b29sdGlwKTtcbiAgfVxufTtcblxuLyoqXG4gKiBHZXQgdG9vbHRpcCB3aXRoIGdpdmVuIElELlxuICpcbiAqIEBwYXJhbSB7VG9vbHRpcHxzdHJpbmd9IGlkXG4gKlxuICogQHJldHVybiB7VG9vbHRpcHx1bmRlZmluZWR9XG4gKi9cblRvb2x0aXBzLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihpZCkge1xuXG4gIGlmICh0eXBlb2YgaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgaWQgPSBpZC5pZDtcbiAgfVxuXG4gIHJldHVybiB0aGlzLl90b29sdGlwc1tpZF07XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7VG9vbHRpcH0gdG9vbHRpcFxuICovXG5Ub29sdGlwcy5wcm90b3R5cGUuY2xlYXJUaW1lb3V0ID0gZnVuY3Rpb24odG9vbHRpcCkge1xuXG4gIHRvb2x0aXAgPSB0aGlzLmdldCh0b29sdGlwKTtcblxuICBpZiAoIXRvb2x0aXApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgcmVtb3ZlVGltZXIgPSB0b29sdGlwLnJlbW92ZVRpbWVyO1xuXG4gIGlmIChyZW1vdmVUaW1lcikge1xuICAgIGNsZWFyVGltZW91dChyZW1vdmVUaW1lcik7XG4gICAgdG9vbHRpcC5yZW1vdmVUaW1lciA9IG51bGw7XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtUb29sdGlwfSB0b29sdGlwXG4gKi9cblRvb2x0aXBzLnByb3RvdHlwZS5zZXRUaW1lb3V0ID0gZnVuY3Rpb24odG9vbHRpcCkge1xuXG4gIHRvb2x0aXAgPSB0aGlzLmdldCh0b29sdGlwKTtcblxuICBpZiAoIXRvb2x0aXApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLmNsZWFyVGltZW91dCh0b29sdGlwKTtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdG9vbHRpcC5yZW1vdmVUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgc2VsZi5yZW1vdmUodG9vbHRpcCk7XG4gIH0sIHRvb2x0aXAudGltZW91dCk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSB0b29sdGlwIHdpdGggZ2l2ZW4gSUQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmcgfCBUb29sdGlwfSBpZFxuICovXG5Ub29sdGlwcy5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oaWQpIHtcblxuICB2YXIgdG9vbHRpcCA9IHRoaXMuZ2V0KGlkKTtcblxuICBpZiAodG9vbHRpcCkge1xuICAgIGRvbVJlbW92ZSh0b29sdGlwLmh0bWwpO1xuICAgIGRvbVJlbW92ZSh0b29sdGlwLmh0bWxDb250YWluZXIpO1xuXG4gICAgZGVsZXRlIHRvb2x0aXAuaHRtbENvbnRhaW5lcjtcblxuICAgIGRlbGV0ZSB0aGlzLl90b29sdGlwc1t0b29sdGlwLmlkXTtcbiAgfVxufTtcblxuXG5Ub29sdGlwcy5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uKCkge1xuICBzZXRWaXNpYmxlKHRoaXMuX3Rvb2x0aXBSb290KTtcbn07XG5cblxuVG9vbHRpcHMucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbigpIHtcbiAgc2V0VmlzaWJsZSh0aGlzLl90b29sdGlwUm9vdCwgZmFsc2UpO1xufTtcblxuXG5Ub29sdGlwcy5wcm90b3R5cGUuX3VwZGF0ZVJvb3QgPSBmdW5jdGlvbih2aWV3Ym94KSB7XG4gIHZhciBhID0gdmlld2JveC5zY2FsZSB8fCAxO1xuICB2YXIgZCA9IHZpZXdib3guc2NhbGUgfHwgMTtcblxuICB2YXIgbWF0cml4ID0gJ21hdHJpeCgnICsgYSArICcsMCwwLCcgKyBkICsgJywnICsgKC0xICogdmlld2JveC54ICogYSkgKyAnLCcgKyAoLTEgKiB2aWV3Ym94LnkgKiBkKSArICcpJztcblxuICB0aGlzLl90b29sdGlwUm9vdC5zdHlsZS50cmFuc2Zvcm0gPSBtYXRyaXg7XG4gIHRoaXMuX3Rvb2x0aXBSb290LnN0eWxlWyctbXMtdHJhbnNmb3JtJ10gPSBtYXRyaXg7XG59O1xuXG5cblRvb2x0aXBzLnByb3RvdHlwZS5fYWRkVG9vbHRpcCA9IGZ1bmN0aW9uKHRvb2x0aXApIHtcblxuICB2YXIgaWQgPSB0b29sdGlwLmlkLFxuICAgICAgaHRtbCA9IHRvb2x0aXAuaHRtbCxcbiAgICAgIGh0bWxDb250YWluZXIsXG4gICAgICB0b29sdGlwUm9vdCA9IHRoaXMuX3Rvb2x0aXBSb290O1xuXG4gIC8vIHVud3JhcCBqcXVlcnkgKGZvciB0aG9zZSB3aG8gbmVlZCBpdClcbiAgaWYgKGh0bWwuZ2V0ICYmIGh0bWwuY29uc3RydWN0b3IucHJvdG90eXBlLmpxdWVyeSkge1xuICAgIGh0bWwgPSBodG1sLmdldCgwKTtcbiAgfVxuXG4gIC8vIGNyZWF0ZSBwcm9wZXIgaHRtbCBlbGVtZW50cyBmcm9tXG4gIC8vIHRvb2x0aXAgSFRNTCBzdHJpbmdzXG4gIGlmIChpc1N0cmluZyhodG1sKSkge1xuICAgIGh0bWwgPSBkb21pZnkoaHRtbCk7XG4gIH1cblxuICBodG1sQ29udGFpbmVyID0gZG9taWZ5KCc8ZGl2IGRhdGEtdG9vbHRpcC1pZD1cIicgKyBpZCArICdcIiBjbGFzcz1cIicgKyB0b29sdGlwQ2xhc3MgKyAnXCI+Jyk7XG4gIGFzc2lnblN0eWxlKGh0bWxDb250YWluZXIsIHsgcG9zaXRpb246ICdhYnNvbHV0ZScgfSk7XG5cbiAgaHRtbENvbnRhaW5lci5hcHBlbmRDaGlsZChodG1sKTtcblxuICBpZiAodG9vbHRpcC50eXBlKSB7XG4gICAgZG9tQ2xhc3NlcyhodG1sQ29udGFpbmVyKS5hZGQoJ2Rqcy10b29sdGlwLScgKyB0b29sdGlwLnR5cGUpO1xuICB9XG5cbiAgaWYgKHRvb2x0aXAuY2xhc3NOYW1lKSB7XG4gICAgZG9tQ2xhc3NlcyhodG1sQ29udGFpbmVyKS5hZGQodG9vbHRpcC5jbGFzc05hbWUpO1xuICB9XG5cbiAgdG9vbHRpcC5odG1sQ29udGFpbmVyID0gaHRtbENvbnRhaW5lcjtcblxuICB0b29sdGlwUm9vdC5hcHBlbmRDaGlsZChodG1sQ29udGFpbmVyKTtcblxuICB0aGlzLl90b29sdGlwc1tpZF0gPSB0b29sdGlwO1xuXG4gIHRoaXMuX3VwZGF0ZVRvb2x0aXAodG9vbHRpcCk7XG59O1xuXG5cblRvb2x0aXBzLnByb3RvdHlwZS5fdXBkYXRlVG9vbHRpcCA9IGZ1bmN0aW9uKHRvb2x0aXApIHtcblxuICB2YXIgcG9zaXRpb24gPSB0b29sdGlwLnBvc2l0aW9uLFxuICAgICAgaHRtbENvbnRhaW5lciA9IHRvb2x0aXAuaHRtbENvbnRhaW5lcjtcblxuICAvLyB1cGRhdGUgb3ZlcmxheSBodG1sIGJhc2VkIG9uIHRvb2x0aXAgeCwgeVxuXG4gIHNldFBvc2l0aW9uKGh0bWxDb250YWluZXIsIHBvc2l0aW9uLngsIHBvc2l0aW9uLnkpO1xufTtcblxuXG5Ub29sdGlwcy5wcm90b3R5cGUuX3VwZGF0ZVRvb2x0aXBWaXNpYmlsdHkgPSBmdW5jdGlvbih2aWV3Ym94KSB7XG5cbiAgZm9yRWFjaCh0aGlzLl90b29sdGlwcywgZnVuY3Rpb24odG9vbHRpcCkge1xuICAgIHZhciBzaG93ID0gdG9vbHRpcC5zaG93LFxuICAgICAgICBodG1sQ29udGFpbmVyID0gdG9vbHRpcC5odG1sQ29udGFpbmVyLFxuICAgICAgICB2aXNpYmxlID0gdHJ1ZTtcblxuICAgIGlmIChzaG93KSB7XG4gICAgICBpZiAoc2hvdy5taW5ab29tID4gdmlld2JveC5zY2FsZSB8fFxuICAgICAgICAgIHNob3cubWF4Wm9vbSA8IHZpZXdib3guc2NhbGUpIHtcbiAgICAgICAgdmlzaWJsZSA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBzZXRWaXNpYmxlKGh0bWxDb250YWluZXIsIHZpc2libGUpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5Ub29sdGlwcy5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbigpIHtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgLy8gc2Nyb2xsL3pvb20gaW50ZWdyYXRpb25cblxuICBmdW5jdGlvbiB1cGRhdGVWaWV3Ym94KHZpZXdib3gpIHtcbiAgICBzZWxmLl91cGRhdGVSb290KHZpZXdib3gpO1xuICAgIHNlbGYuX3VwZGF0ZVRvb2x0aXBWaXNpYmlsdHkodmlld2JveCk7XG5cbiAgICBzZWxmLnNob3coKTtcbiAgfVxuXG4gIHRoaXMuX2V2ZW50QnVzLm9uKCdjYW52YXMudmlld2JveC5jaGFuZ2luZycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgc2VsZi5oaWRlKCk7XG4gIH0pO1xuXG4gIHRoaXMuX2V2ZW50QnVzLm9uKCdjYW52YXMudmlld2JveC5jaGFuZ2VkJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB1cGRhdGVWaWV3Ym94KGV2ZW50LnZpZXdib3gpO1xuICB9KTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/tooltips/Tooltips.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/features/tooltips/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/tooltips/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Tooltips__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Tooltips */ \"(ssr)/./node_modules/diagram-js/lib/features/tooltips/Tooltips.js\");\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [ 'tooltips' ],\n  tooltips: [ 'type', _Tooltips__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvdG9vbHRpcHMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBa0M7OztBQUdsQztBQUNBLFdBQVc7QUFDWDtBQUNBLGlFQUFlO0FBQ2Y7QUFDQSxzQkFBc0IsaURBQVE7QUFDOUIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy90b29sdGlwcy9pbmRleC5qcz9hODRlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBUb29sdGlwcyBmcm9tICcuL1Rvb2x0aXBzJztcblxuXG4vKipcbiAqIEB0eXBlIHsgaW1wb3J0KCdkaWRpJykuTW9kdWxlRGVjbGFyYXRpb24gfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICd0b29sdGlwcycgXSxcbiAgdG9vbHRpcHM6IFsgJ3R5cGUnLCBUb29sdGlwcyBdXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/features/tooltips/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/i18n/translate/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/diagram-js/lib/i18n/translate/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _translate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./translate */ \"(ssr)/./node_modules/diagram-js/lib/i18n/translate/translate.js\");\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  translate: [ 'value', _translate__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvaTE4bi90cmFuc2xhdGUvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBb0M7OztBQUdwQztBQUNBLFdBQVc7QUFDWDtBQUNBLGlFQUFlO0FBQ2Ysd0JBQXdCLGtEQUFTO0FBQ2pDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvaTE4bi90cmFuc2xhdGUvaW5kZXguanM/MjY4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHJhbnNsYXRlIGZyb20gJy4vdHJhbnNsYXRlJztcblxuXG4vKipcbiAqIEB0eXBlIHsgaW1wb3J0KCdkaWRpJykuTW9kdWxlRGVjbGFyYXRpb24gfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIHRyYW5zbGF0ZTogWyAndmFsdWUnLCB0cmFuc2xhdGUgXVxufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/i18n/translate/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/i18n/translate/translate.js":
/*!*****************************************************************!*\
  !*** ./node_modules/diagram-js/lib/i18n/translate/translate.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ translate)\n/* harmony export */ });\n/**\n * @typedef { {\n *   [key: string]: string;\n * } } TranslateReplacements\n */\n\n/**\n * A simple translation stub to be used for multi-language support\n * in diagrams. Can be easily replaced with a more sophisticated\n * solution.\n *\n * @example\n *\n * ```javascript\n * // use it inside any diagram component by injecting `translate`.\n *\n * function MyService(translate) {\n *   alert(translate('HELLO {you}', { you: 'You!' }));\n * }\n * ```\n *\n * @param {string} template to interpolate\n * @param {TranslateReplacements} [replacements] a map with substitutes\n *\n * @return {string} the translated string\n */\nfunction translate(template, replacements) {\n\n  replacements = replacements || {};\n\n  return template.replace(/{([^}]+)}/g, function(_, key) {\n    return replacements[key] || '{' + key + '}';\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvaTE4bi90cmFuc2xhdGUvdHJhbnNsYXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixJQUFJLEtBQUssYUFBYTtBQUNuRDtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyx1QkFBdUI7QUFDbEM7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDZTs7QUFFZjs7QUFFQSw0QkFBNEIsSUFBSSxJQUFJO0FBQ3BDLGtDQUFrQyxZQUFZO0FBQzlDLEdBQUc7QUFDSCIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9pMThuL3RyYW5zbGF0ZS90cmFuc2xhdGUuanM/MDA3MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEB0eXBlZGVmIHsge1xuICogICBba2V5OiBzdHJpbmddOiBzdHJpbmc7XG4gKiB9IH0gVHJhbnNsYXRlUmVwbGFjZW1lbnRzXG4gKi9cblxuLyoqXG4gKiBBIHNpbXBsZSB0cmFuc2xhdGlvbiBzdHViIHRvIGJlIHVzZWQgZm9yIG11bHRpLWxhbmd1YWdlIHN1cHBvcnRcbiAqIGluIGRpYWdyYW1zLiBDYW4gYmUgZWFzaWx5IHJlcGxhY2VkIHdpdGggYSBtb3JlIHNvcGhpc3RpY2F0ZWRcbiAqIHNvbHV0aW9uLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogLy8gdXNlIGl0IGluc2lkZSBhbnkgZGlhZ3JhbSBjb21wb25lbnQgYnkgaW5qZWN0aW5nIGB0cmFuc2xhdGVgLlxuICpcbiAqIGZ1bmN0aW9uIE15U2VydmljZSh0cmFuc2xhdGUpIHtcbiAqICAgYWxlcnQodHJhbnNsYXRlKCdIRUxMTyB7eW91fScsIHsgeW91OiAnWW91IScgfSkpO1xuICogfVxuICogYGBgXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRlbXBsYXRlIHRvIGludGVycG9sYXRlXG4gKiBAcGFyYW0ge1RyYW5zbGF0ZVJlcGxhY2VtZW50c30gW3JlcGxhY2VtZW50c10gYSBtYXAgd2l0aCBzdWJzdGl0dXRlc1xuICpcbiAqIEByZXR1cm4ge3N0cmluZ30gdGhlIHRyYW5zbGF0ZWQgc3RyaW5nXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zbGF0ZSh0ZW1wbGF0ZSwgcmVwbGFjZW1lbnRzKSB7XG5cbiAgcmVwbGFjZW1lbnRzID0gcmVwbGFjZW1lbnRzIHx8IHt9O1xuXG4gIHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKC97KFtefV0rKX0vZywgZnVuY3Rpb24oXywga2V5KSB7XG4gICAgcmV0dXJuIHJlcGxhY2VtZW50c1trZXldIHx8ICd7JyArIGtleSArICd9JztcbiAgfSk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/i18n/translate/translate.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/layout/BaseLayouter.js":
/*!************************************************************!*\
  !*** ./node_modules/diagram-js/lib/layout/BaseLayouter.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BaseLayouter)\n/* harmony export */ });\n/* harmony import */ var _LayoutUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LayoutUtil */ \"(ssr)/./node_modules/diagram-js/lib/layout/LayoutUtil.js\");\n/**\n * @typedef {import('../core/Types').ElementLike} Element\n * @typedef {import('../core/Types').ConnectionLike} Connection\n *\n * @typedef {import('../util').Point} Point\n *\n * @typedef { {\n *   connectionStart?: Point;\n *   connectionEnd?: Point;\n *   source?: Element;\n *   target?: Element;\n * } } LayoutConnectionHints\n */\n\n\n\n\n/**\n * A base connection layouter implementation\n * that layouts the connection by directly connecting\n * mid(source) + mid(target).\n */\nfunction BaseLayouter() {}\n\n\n/**\n * Return the new layouted waypoints for the given connection.\n *\n * The connection passed is still unchanged; you may figure out about\n * the new connection start / end via the layout hints provided.\n *\n * @param {Connection} connection\n * @param {LayoutConnectionHints} [hints]\n *\n * @return {Point[]} The waypoints of the laid out connection.\n */\nBaseLayouter.prototype.layoutConnection = function(connection, hints) {\n\n  hints = hints || {};\n\n  return [\n    hints.connectionStart || (0,_LayoutUtil__WEBPACK_IMPORTED_MODULE_0__.getMid)(hints.source || connection.source),\n    hints.connectionEnd || (0,_LayoutUtil__WEBPACK_IMPORTED_MODULE_0__.getMid)(hints.target || connection.target)\n  ];\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvbGF5b3V0L0Jhc2VMYXlvdXRlci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQsYUFBYSx3Q0FBd0M7QUFDckQ7QUFDQSxhQUFhLHlCQUF5QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBSXNCOzs7QUFHdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNlOzs7QUFHZjtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QixXQUFXLHVCQUF1QjtBQUNsQztBQUNBLFlBQVksU0FBUztBQUNyQjtBQUNBOztBQUVBOztBQUVBO0FBQ0EsNkJBQTZCLG1EQUFNO0FBQ25DLDJCQUEyQixtREFBTTtBQUNqQztBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2xheW91dC9CYXNlTGF5b3V0ZXIuanM/YTQwZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2NvcmUvVHlwZXMnKS5FbGVtZW50TGlrZX0gRWxlbWVudFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vY29yZS9UeXBlcycpLkNvbm5lY3Rpb25MaWtlfSBDb25uZWN0aW9uXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vdXRpbCcpLlBvaW50fSBQb2ludFxuICpcbiAqIEB0eXBlZGVmIHsge1xuICogICBjb25uZWN0aW9uU3RhcnQ/OiBQb2ludDtcbiAqICAgY29ubmVjdGlvbkVuZD86IFBvaW50O1xuICogICBzb3VyY2U/OiBFbGVtZW50O1xuICogICB0YXJnZXQ/OiBFbGVtZW50O1xuICogfSB9IExheW91dENvbm5lY3Rpb25IaW50c1xuICovXG5cbmltcG9ydCB7XG4gIGdldE1pZFxufSBmcm9tICcuL0xheW91dFV0aWwnO1xuXG5cbi8qKlxuICogQSBiYXNlIGNvbm5lY3Rpb24gbGF5b3V0ZXIgaW1wbGVtZW50YXRpb25cbiAqIHRoYXQgbGF5b3V0cyB0aGUgY29ubmVjdGlvbiBieSBkaXJlY3RseSBjb25uZWN0aW5nXG4gKiBtaWQoc291cmNlKSArIG1pZCh0YXJnZXQpLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBCYXNlTGF5b3V0ZXIoKSB7fVxuXG5cbi8qKlxuICogUmV0dXJuIHRoZSBuZXcgbGF5b3V0ZWQgd2F5cG9pbnRzIGZvciB0aGUgZ2l2ZW4gY29ubmVjdGlvbi5cbiAqXG4gKiBUaGUgY29ubmVjdGlvbiBwYXNzZWQgaXMgc3RpbGwgdW5jaGFuZ2VkOyB5b3UgbWF5IGZpZ3VyZSBvdXQgYWJvdXRcbiAqIHRoZSBuZXcgY29ubmVjdGlvbiBzdGFydCAvIGVuZCB2aWEgdGhlIGxheW91dCBoaW50cyBwcm92aWRlZC5cbiAqXG4gKiBAcGFyYW0ge0Nvbm5lY3Rpb259IGNvbm5lY3Rpb25cbiAqIEBwYXJhbSB7TGF5b3V0Q29ubmVjdGlvbkhpbnRzfSBbaGludHNdXG4gKlxuICogQHJldHVybiB7UG9pbnRbXX0gVGhlIHdheXBvaW50cyBvZiB0aGUgbGFpZCBvdXQgY29ubmVjdGlvbi5cbiAqL1xuQmFzZUxheW91dGVyLnByb3RvdHlwZS5sYXlvdXRDb25uZWN0aW9uID0gZnVuY3Rpb24oY29ubmVjdGlvbiwgaGludHMpIHtcblxuICBoaW50cyA9IGhpbnRzIHx8IHt9O1xuXG4gIHJldHVybiBbXG4gICAgaGludHMuY29ubmVjdGlvblN0YXJ0IHx8IGdldE1pZChoaW50cy5zb3VyY2UgfHwgY29ubmVjdGlvbi5zb3VyY2UpLFxuICAgIGhpbnRzLmNvbm5lY3Rpb25FbmQgfHwgZ2V0TWlkKGhpbnRzLnRhcmdldCB8fCBjb25uZWN0aW9uLnRhcmdldClcbiAgXTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/layout/BaseLayouter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/layout/CroppingConnectionDocking.js":
/*!*************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/layout/CroppingConnectionDocking.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CroppingConnectionDocking)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _LayoutUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./LayoutUtil */ \"(ssr)/./node_modules/diagram-js/lib/layout/LayoutUtil.js\");\n\n\n\n\n/**\n * @typedef {import('../core/ElementRegistry').default} ElementRegistry\n * @typedef {import('../core/GraphicsFactory').default} GraphicsFactory\n */\n\nfunction dockingToPoint(docking) {\n\n  // use the dockings actual point and\n  // retain the original docking\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({ original: docking.point.original || docking.point }, docking.actual);\n}\n\n\n/**\n * A {@link ConnectionDocking} that crops connection waypoints based on\n * the path(s) of the connection source and target.\n *\n * @param {ElementRegistry} elementRegistry\n * @param {GraphicsFactory} graphicsFactory\n */\nfunction CroppingConnectionDocking(elementRegistry, graphicsFactory) {\n  this._elementRegistry = elementRegistry;\n  this._graphicsFactory = graphicsFactory;\n}\n\nCroppingConnectionDocking.$inject = [ 'elementRegistry', 'graphicsFactory' ];\n\n\n/**\n * @inheritDoc ConnectionDocking#getCroppedWaypoints\n */\nCroppingConnectionDocking.prototype.getCroppedWaypoints = function(connection, source, target) {\n\n  source = source || connection.source;\n  target = target || connection.target;\n\n  var sourceDocking = this.getDockingPoint(connection, source, true),\n      targetDocking = this.getDockingPoint(connection, target);\n\n  var croppedWaypoints = connection.waypoints.slice(sourceDocking.idx + 1, targetDocking.idx);\n\n  croppedWaypoints.unshift(dockingToPoint(sourceDocking));\n  croppedWaypoints.push(dockingToPoint(targetDocking));\n\n  return croppedWaypoints;\n};\n\n/**\n * Return the connection docking point on the specified shape\n *\n * @inheritDoc ConnectionDocking#getDockingPoint\n */\nCroppingConnectionDocking.prototype.getDockingPoint = function(connection, shape, dockStart) {\n\n  var waypoints = connection.waypoints,\n      dockingIdx,\n      dockingPoint,\n      croppedPoint;\n\n  dockingIdx = dockStart ? 0 : waypoints.length - 1;\n  dockingPoint = waypoints[dockingIdx];\n\n  croppedPoint = this._getIntersection(shape, connection, dockStart);\n\n  return {\n    point: dockingPoint,\n    actual: croppedPoint || dockingPoint,\n    idx: dockingIdx\n  };\n};\n\n\n// helpers //////////////////////\n\nCroppingConnectionDocking.prototype._getIntersection = function(shape, connection, takeFirst) {\n\n  var shapePath = this._getShapePath(shape),\n      connectionPath = this._getConnectionPath(connection);\n\n  return (0,_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.getElementLineIntersection)(shapePath, connectionPath, takeFirst);\n};\n\nCroppingConnectionDocking.prototype._getConnectionPath = function(connection) {\n  return this._graphicsFactory.getConnectionPath(connection);\n};\n\nCroppingConnectionDocking.prototype._getShapePath = function(shape) {\n  return this._graphicsFactory.getShapePath(shape);\n};\n\nCroppingConnectionDocking.prototype._getGfx = function(element) {\n  return this._elementRegistry.getGraphics(element);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvbGF5b3V0L0Nyb3BwaW5nQ29ubmVjdGlvbkRvY2tpbmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRWtCOztBQUlJOztBQUV0QjtBQUNBLGFBQWEsMkNBQTJDO0FBQ3hELGFBQWEsMkNBQTJDO0FBQ3hEOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxTQUFTLGdEQUFNLEdBQUcsbURBQW1EO0FBQ3JFOzs7QUFHQTtBQUNBLE1BQU0seUJBQXlCO0FBQy9CO0FBQ0E7QUFDQSxXQUFXLGlCQUFpQjtBQUM1QixXQUFXLGlCQUFpQjtBQUM1QjtBQUNlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSxTQUFTLHVFQUEwQjtBQUNuQzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9sYXlvdXQvQ3JvcHBpbmdDb25uZWN0aW9uRG9ja2luZy5qcz82ZWZiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGFzc2lnblxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGdldEVsZW1lbnRMaW5lSW50ZXJzZWN0aW9uXG59IGZyb20gJy4vTGF5b3V0VXRpbCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vY29yZS9FbGVtZW50UmVnaXN0cnknKS5kZWZhdWx0fSBFbGVtZW50UmVnaXN0cnlcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2NvcmUvR3JhcGhpY3NGYWN0b3J5JykuZGVmYXVsdH0gR3JhcGhpY3NGYWN0b3J5XG4gKi9cblxuZnVuY3Rpb24gZG9ja2luZ1RvUG9pbnQoZG9ja2luZykge1xuXG4gIC8vIHVzZSB0aGUgZG9ja2luZ3MgYWN0dWFsIHBvaW50IGFuZFxuICAvLyByZXRhaW4gdGhlIG9yaWdpbmFsIGRvY2tpbmdcbiAgcmV0dXJuIGFzc2lnbih7IG9yaWdpbmFsOiBkb2NraW5nLnBvaW50Lm9yaWdpbmFsIHx8IGRvY2tpbmcucG9pbnQgfSwgZG9ja2luZy5hY3R1YWwpO1xufVxuXG5cbi8qKlxuICogQSB7QGxpbmsgQ29ubmVjdGlvbkRvY2tpbmd9IHRoYXQgY3JvcHMgY29ubmVjdGlvbiB3YXlwb2ludHMgYmFzZWQgb25cbiAqIHRoZSBwYXRoKHMpIG9mIHRoZSBjb25uZWN0aW9uIHNvdXJjZSBhbmQgdGFyZ2V0LlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudFJlZ2lzdHJ5fSBlbGVtZW50UmVnaXN0cnlcbiAqIEBwYXJhbSB7R3JhcGhpY3NGYWN0b3J5fSBncmFwaGljc0ZhY3RvcnlcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ3JvcHBpbmdDb25uZWN0aW9uRG9ja2luZyhlbGVtZW50UmVnaXN0cnksIGdyYXBoaWNzRmFjdG9yeSkge1xuICB0aGlzLl9lbGVtZW50UmVnaXN0cnkgPSBlbGVtZW50UmVnaXN0cnk7XG4gIHRoaXMuX2dyYXBoaWNzRmFjdG9yeSA9IGdyYXBoaWNzRmFjdG9yeTtcbn1cblxuQ3JvcHBpbmdDb25uZWN0aW9uRG9ja2luZy4kaW5qZWN0ID0gWyAnZWxlbWVudFJlZ2lzdHJ5JywgJ2dyYXBoaWNzRmFjdG9yeScgXTtcblxuXG4vKipcbiAqIEBpbmhlcml0RG9jIENvbm5lY3Rpb25Eb2NraW5nI2dldENyb3BwZWRXYXlwb2ludHNcbiAqL1xuQ3JvcHBpbmdDb25uZWN0aW9uRG9ja2luZy5wcm90b3R5cGUuZ2V0Q3JvcHBlZFdheXBvaW50cyA9IGZ1bmN0aW9uKGNvbm5lY3Rpb24sIHNvdXJjZSwgdGFyZ2V0KSB7XG5cbiAgc291cmNlID0gc291cmNlIHx8IGNvbm5lY3Rpb24uc291cmNlO1xuICB0YXJnZXQgPSB0YXJnZXQgfHwgY29ubmVjdGlvbi50YXJnZXQ7XG5cbiAgdmFyIHNvdXJjZURvY2tpbmcgPSB0aGlzLmdldERvY2tpbmdQb2ludChjb25uZWN0aW9uLCBzb3VyY2UsIHRydWUpLFxuICAgICAgdGFyZ2V0RG9ja2luZyA9IHRoaXMuZ2V0RG9ja2luZ1BvaW50KGNvbm5lY3Rpb24sIHRhcmdldCk7XG5cbiAgdmFyIGNyb3BwZWRXYXlwb2ludHMgPSBjb25uZWN0aW9uLndheXBvaW50cy5zbGljZShzb3VyY2VEb2NraW5nLmlkeCArIDEsIHRhcmdldERvY2tpbmcuaWR4KTtcblxuICBjcm9wcGVkV2F5cG9pbnRzLnVuc2hpZnQoZG9ja2luZ1RvUG9pbnQoc291cmNlRG9ja2luZykpO1xuICBjcm9wcGVkV2F5cG9pbnRzLnB1c2goZG9ja2luZ1RvUG9pbnQodGFyZ2V0RG9ja2luZykpO1xuXG4gIHJldHVybiBjcm9wcGVkV2F5cG9pbnRzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGNvbm5lY3Rpb24gZG9ja2luZyBwb2ludCBvbiB0aGUgc3BlY2lmaWVkIHNoYXBlXG4gKlxuICogQGluaGVyaXREb2MgQ29ubmVjdGlvbkRvY2tpbmcjZ2V0RG9ja2luZ1BvaW50XG4gKi9cbkNyb3BwaW5nQ29ubmVjdGlvbkRvY2tpbmcucHJvdG90eXBlLmdldERvY2tpbmdQb2ludCA9IGZ1bmN0aW9uKGNvbm5lY3Rpb24sIHNoYXBlLCBkb2NrU3RhcnQpIHtcblxuICB2YXIgd2F5cG9pbnRzID0gY29ubmVjdGlvbi53YXlwb2ludHMsXG4gICAgICBkb2NraW5nSWR4LFxuICAgICAgZG9ja2luZ1BvaW50LFxuICAgICAgY3JvcHBlZFBvaW50O1xuXG4gIGRvY2tpbmdJZHggPSBkb2NrU3RhcnQgPyAwIDogd2F5cG9pbnRzLmxlbmd0aCAtIDE7XG4gIGRvY2tpbmdQb2ludCA9IHdheXBvaW50c1tkb2NraW5nSWR4XTtcblxuICBjcm9wcGVkUG9pbnQgPSB0aGlzLl9nZXRJbnRlcnNlY3Rpb24oc2hhcGUsIGNvbm5lY3Rpb24sIGRvY2tTdGFydCk7XG5cbiAgcmV0dXJuIHtcbiAgICBwb2ludDogZG9ja2luZ1BvaW50LFxuICAgIGFjdHVhbDogY3JvcHBlZFBvaW50IHx8IGRvY2tpbmdQb2ludCxcbiAgICBpZHg6IGRvY2tpbmdJZHhcbiAgfTtcbn07XG5cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbkNyb3BwaW5nQ29ubmVjdGlvbkRvY2tpbmcucHJvdG90eXBlLl9nZXRJbnRlcnNlY3Rpb24gPSBmdW5jdGlvbihzaGFwZSwgY29ubmVjdGlvbiwgdGFrZUZpcnN0KSB7XG5cbiAgdmFyIHNoYXBlUGF0aCA9IHRoaXMuX2dldFNoYXBlUGF0aChzaGFwZSksXG4gICAgICBjb25uZWN0aW9uUGF0aCA9IHRoaXMuX2dldENvbm5lY3Rpb25QYXRoKGNvbm5lY3Rpb24pO1xuXG4gIHJldHVybiBnZXRFbGVtZW50TGluZUludGVyc2VjdGlvbihzaGFwZVBhdGgsIGNvbm5lY3Rpb25QYXRoLCB0YWtlRmlyc3QpO1xufTtcblxuQ3JvcHBpbmdDb25uZWN0aW9uRG9ja2luZy5wcm90b3R5cGUuX2dldENvbm5lY3Rpb25QYXRoID0gZnVuY3Rpb24oY29ubmVjdGlvbikge1xuICByZXR1cm4gdGhpcy5fZ3JhcGhpY3NGYWN0b3J5LmdldENvbm5lY3Rpb25QYXRoKGNvbm5lY3Rpb24pO1xufTtcblxuQ3JvcHBpbmdDb25uZWN0aW9uRG9ja2luZy5wcm90b3R5cGUuX2dldFNoYXBlUGF0aCA9IGZ1bmN0aW9uKHNoYXBlKSB7XG4gIHJldHVybiB0aGlzLl9ncmFwaGljc0ZhY3RvcnkuZ2V0U2hhcGVQYXRoKHNoYXBlKTtcbn07XG5cbkNyb3BwaW5nQ29ubmVjdGlvbkRvY2tpbmcucHJvdG90eXBlLl9nZXRHZnggPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiB0aGlzLl9lbGVtZW50UmVnaXN0cnkuZ2V0R3JhcGhpY3MoZWxlbWVudCk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/layout/CroppingConnectionDocking.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/layout/LayoutUtil.js":
/*!**********************************************************!*\
  !*** ./node_modules/diagram-js/lib/layout/LayoutUtil.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   asBounds: () => (/* binding */ asBounds),\n/* harmony export */   asTRBL: () => (/* binding */ asTRBL),\n/* harmony export */   filterRedundantWaypoints: () => (/* binding */ filterRedundantWaypoints),\n/* harmony export */   getBoundsMid: () => (/* binding */ getBoundsMid),\n/* harmony export */   getConnectionMid: () => (/* binding */ getConnectionMid),\n/* harmony export */   getElementLineIntersection: () => (/* binding */ getElementLineIntersection),\n/* harmony export */   getIntersections: () => (/* binding */ getIntersections),\n/* harmony export */   getMid: () => (/* binding */ getMid),\n/* harmony export */   getOrientation: () => (/* binding */ getOrientation),\n/* harmony export */   roundBounds: () => (/* binding */ roundBounds),\n/* harmony export */   roundPoint: () => (/* binding */ roundPoint)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _util_Geometry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Geometry */ \"(ssr)/./node_modules/diagram-js/lib/util/Geometry.js\");\n/* harmony import */ var path_intersection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path-intersection */ \"(ssr)/./node_modules/path-intersection/intersect.js\");\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/ModelUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/ModelUtil.js\");\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('../core/Types').ElementLike} Element\n * @typedef {import('../core/Types').ConnectionLike} Connection\n *\n * @typedef {import('../util/Types').DirectionTRBL} DirectionTRBL\n * @typedef {import('../util/Types').Intersection} Intersection\n * @typedef {import('../util/Types').Point} Point\n * @typedef {import('../util/Types').Rect} Rect\n * @typedef {import('../util/Types').RectTRBL} RectTRBL\n */\n\n/**\n * @param {Rect} bounds\n *\n * @returns {Rect}\n */\nfunction roundBounds(bounds) {\n  return {\n    x: Math.round(bounds.x),\n    y: Math.round(bounds.y),\n    width: Math.round(bounds.width),\n    height: Math.round(bounds.height)\n  };\n}\n\n/**\n * @param {Point} point\n *\n * @returns {Point}\n */\nfunction roundPoint(point) {\n\n  return {\n    x: Math.round(point.x),\n    y: Math.round(point.y)\n  };\n}\n\n\n/**\n * Convert the given bounds to a { top, left, bottom, right } descriptor.\n *\n * @param {Point|Rect} bounds\n *\n * @return {RectTRBL}\n */\nfunction asTRBL(bounds) {\n  return {\n    top: bounds.y,\n    right: bounds.x + (bounds.width || 0),\n    bottom: bounds.y + (bounds.height || 0),\n    left: bounds.x\n  };\n}\n\n\n/**\n * Convert a { top, left, bottom, right } to an objects bounds.\n *\n * @param {RectTRBL} trbl\n *\n * @return {Rect}\n */\nfunction asBounds(trbl) {\n  return {\n    x: trbl.left,\n    y: trbl.top,\n    width: trbl.right - trbl.left,\n    height: trbl.bottom - trbl.top\n  };\n}\n\n\n/**\n * Get the mid of the given bounds or point.\n *\n * @param {Point|Rect} bounds\n *\n * @return {Point}\n */\nfunction getBoundsMid(bounds) {\n  return roundPoint({\n    x: bounds.x + (bounds.width || 0) / 2,\n    y: bounds.y + (bounds.height || 0) / 2\n  });\n}\n\n\n/**\n * Get the mid of the given Connection.\n *\n * @param {Connection} connection\n *\n * @return {Point}\n */\nfunction getConnectionMid(connection) {\n  var waypoints = connection.waypoints;\n\n  // calculate total length and length of each segment\n  var parts = waypoints.reduce(function(parts, point, index) {\n\n    var lastPoint = waypoints[index - 1];\n\n    if (lastPoint) {\n      var lastPart = parts[parts.length - 1];\n\n      var startLength = lastPart && lastPart.endLength || 0;\n      var length = distance(lastPoint, point);\n\n      parts.push({\n        start: lastPoint,\n        end: point,\n        startLength: startLength,\n        endLength: startLength + length,\n        length: length\n      });\n    }\n\n    return parts;\n  }, []);\n\n  var totalLength = parts.reduce(function(length, part) {\n    return length + part.length;\n  }, 0);\n\n  // find which segement contains middle point\n  var midLength = totalLength / 2;\n\n  var i = 0;\n  var midSegment = parts[i];\n\n  while (midSegment.endLength < midLength) {\n    midSegment = parts[++i];\n  }\n\n  // calculate relative position on mid segment\n  var segmentProgress = (midLength - midSegment.startLength) / midSegment.length;\n\n  var midPoint = {\n    x: midSegment.start.x + (midSegment.end.x - midSegment.start.x) * segmentProgress,\n    y: midSegment.start.y + (midSegment.end.y - midSegment.start.y) * segmentProgress\n  };\n\n  return midPoint;\n}\n\n\n/**\n * Get the mid of the given Element.\n *\n * @param {Element} element\n *\n * @return {Point}\n */\nfunction getMid(element) {\n  if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.isConnection)(element)) {\n    return getConnectionMid(element);\n  }\n\n  return getBoundsMid(element);\n}\n\n// orientation utils //////////////////////\n\n/**\n * Get orientation of the given rectangle with respect to\n * the reference rectangle.\n *\n * A padding (positive or negative) may be passed to influence\n * horizontal / vertical orientation and intersection.\n *\n * @param {Rect} rect\n * @param {Rect} reference\n * @param {Point|number} padding\n *\n * @return {DirectionTRBL|Intersection} the orientation; one of top, top-left, left, ..., bottom, right or intersect.\n */\nfunction getOrientation(rect, reference, padding) {\n\n  padding = padding || 0;\n\n  // make sure we can use an object, too\n  // for individual { x, y } padding\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isObject)(padding)) {\n    padding = { x: padding, y: padding };\n  }\n\n\n  var rectOrientation = asTRBL(rect),\n      referenceOrientation = asTRBL(reference);\n\n  var top = rectOrientation.bottom + padding.y <= referenceOrientation.top,\n      right = rectOrientation.left - padding.x >= referenceOrientation.right,\n      bottom = rectOrientation.top - padding.y >= referenceOrientation.bottom,\n      left = rectOrientation.right + padding.x <= referenceOrientation.left;\n\n  var vertical = top ? 'top' : (bottom ? 'bottom' : null),\n      horizontal = left ? 'left' : (right ? 'right' : null);\n\n  if (horizontal && vertical) {\n    return vertical + '-' + horizontal;\n  } else {\n    return horizontal || vertical || 'intersect';\n  }\n}\n\n\n// intersection utils //////////////////////\n\n/**\n * Get intersection between an element and a line path.\n *\n * @param {string} elementPath\n * @param {string} linePath\n * @param {boolean} cropStart Whether to crop start or end.\n *\n * @return {Point}\n */\nfunction getElementLineIntersection(elementPath, linePath, cropStart) {\n\n  var intersections = getIntersections(elementPath, linePath);\n\n  // recognize intersections\n  // only one -> choose\n  // two close together -> choose first\n  // two or more distinct -> pull out appropriate one\n  // none -> ok (fallback to point itself)\n  if (intersections.length === 1) {\n    return roundPoint(intersections[0]);\n  } else if (intersections.length === 2 && (0,_util_Geometry__WEBPACK_IMPORTED_MODULE_3__.pointDistance)(intersections[0], intersections[1]) < 1) {\n    return roundPoint(intersections[0]);\n  } else if (intersections.length > 1) {\n\n    // sort by intersections based on connection segment +\n    // distance from start\n    intersections = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.sortBy)(intersections, function(i) {\n      var distance = Math.floor(i.t2 * 100) || 1;\n\n      distance = 100 - distance;\n\n      distance = (distance < 10 ? '0' : '') + distance;\n\n      // create a sort string that makes sure we sort\n      // line segment ASC + line segment position DESC (for cropStart)\n      // line segment ASC + line segment position ASC (for cropEnd)\n      return i.segment2 + '#' + distance;\n    });\n\n    return roundPoint(intersections[cropStart ? 0 : intersections.length - 1]);\n  }\n\n  return null;\n}\n\n\nfunction getIntersections(a, b) {\n  return (0,path_intersection__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(a, b);\n}\n\n\nfunction filterRedundantWaypoints(waypoints) {\n\n  // alter copy of waypoints, not original\n  waypoints = waypoints.slice();\n\n  var idx = 0,\n      point,\n      previousPoint,\n      nextPoint;\n\n  while (waypoints[idx]) {\n    point = waypoints[idx];\n    previousPoint = waypoints[idx - 1];\n    nextPoint = waypoints[idx + 1];\n\n    if ((0,_util_Geometry__WEBPACK_IMPORTED_MODULE_3__.pointDistance)(point, nextPoint) === 0 ||\n        (0,_util_Geometry__WEBPACK_IMPORTED_MODULE_3__.pointsOnLine)(previousPoint, nextPoint, point)) {\n\n      // remove point, if overlapping with {nextPoint}\n      // or on line with {previousPoint} -> {point} -> {nextPoint}\n      waypoints.splice(idx, 1);\n    } else {\n      idx++;\n    }\n  }\n\n  return waypoints;\n}\n\n// helpers //////////////////////\n\nfunction distance(a, b) {\n  return Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2));\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvbGF5b3V0L0xheW91dFV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBR2tCOztBQUtROztBQUVxQjs7QUFFRTs7QUFFakQ7QUFDQSxhQUFhLHFDQUFxQztBQUNsRCxhQUFhLHdDQUF3QztBQUNyRDtBQUNBLGFBQWEsdUNBQXVDO0FBQ3BELGFBQWEsc0NBQXNDO0FBQ25ELGFBQWEsK0JBQStCO0FBQzVDLGFBQWEsOEJBQThCO0FBQzNDLGFBQWEsa0NBQWtDO0FBQy9DOztBQUVBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBLGFBQWE7QUFDYjtBQUNPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0EsbUNBQW1DLDJCQUEyQjtBQUM5RDtBQUNBLFdBQVcsWUFBWTtBQUN2QjtBQUNBLFlBQVk7QUFDWjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0EsZUFBZSwyQkFBMkI7QUFDMUM7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQSxZQUFZO0FBQ1o7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDQSxZQUFZO0FBQ1o7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQSxZQUFZO0FBQ1o7QUFDTztBQUNQLE1BQU0sNkRBQVk7QUFDbEI7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsTUFBTTtBQUNqQixXQUFXLGNBQWM7QUFDekI7QUFDQSxZQUFZLDRCQUE0QixpQkFBaUI7QUFDekQ7QUFDTzs7QUFFUDs7QUFFQTtBQUNBLHNCQUFzQixPQUFPO0FBQzdCLE9BQU8sa0RBQVE7QUFDZixnQkFBZ0I7QUFDaEI7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFNBQVM7QUFDcEI7QUFDQSxZQUFZO0FBQ1o7QUFDTzs7QUFFUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksdUNBQXVDLDZEQUFhO0FBQ3hEO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0Esb0JBQW9CLGdEQUFNO0FBQzFCOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7OztBQUdPO0FBQ1AsU0FBUyw2REFBYztBQUN2Qjs7O0FBR087O0FBRVA7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLDZEQUFhO0FBQ3JCLFFBQVEsNERBQVk7O0FBRXBCLDRDQUE0QztBQUM1QywwQkFBMEIsZUFBZSxJQUFJLE9BQU8sSUFBSTtBQUN4RDtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvbGF5b3V0L0xheW91dFV0aWwuanM/ZDQwYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBpc09iamVjdCxcbiAgc29ydEJ5XG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgcG9pbnREaXN0YW5jZSxcbiAgcG9pbnRzT25MaW5lXG59IGZyb20gJy4uL3V0aWwvR2VvbWV0cnknO1xuXG5pbXBvcnQgaW50ZXJzZWN0UGF0aHMgZnJvbSAncGF0aC1pbnRlcnNlY3Rpb24nO1xuXG5pbXBvcnQgeyBpc0Nvbm5lY3Rpb24gfSBmcm9tICcuLi91dGlsL01vZGVsVXRpbCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vY29yZS9UeXBlcycpLkVsZW1lbnRMaWtlfSBFbGVtZW50XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9jb3JlL1R5cGVzJykuQ29ubmVjdGlvbkxpa2V9IENvbm5lY3Rpb25cbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi91dGlsL1R5cGVzJykuRGlyZWN0aW9uVFJCTH0gRGlyZWN0aW9uVFJCTFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vdXRpbC9UeXBlcycpLkludGVyc2VjdGlvbn0gSW50ZXJzZWN0aW9uXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi91dGlsL1R5cGVzJykuUG9pbnR9IFBvaW50XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi91dGlsL1R5cGVzJykuUmVjdH0gUmVjdFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vdXRpbC9UeXBlcycpLlJlY3RUUkJMfSBSZWN0VFJCTFxuICovXG5cbi8qKlxuICogQHBhcmFtIHtSZWN0fSBib3VuZHNcbiAqXG4gKiBAcmV0dXJucyB7UmVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kQm91bmRzKGJvdW5kcykge1xuICByZXR1cm4ge1xuICAgIHg6IE1hdGgucm91bmQoYm91bmRzLngpLFxuICAgIHk6IE1hdGgucm91bmQoYm91bmRzLnkpLFxuICAgIHdpZHRoOiBNYXRoLnJvdW5kKGJvdW5kcy53aWR0aCksXG4gICAgaGVpZ2h0OiBNYXRoLnJvdW5kKGJvdW5kcy5oZWlnaHQpXG4gIH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtQb2ludH0gcG9pbnRcbiAqXG4gKiBAcmV0dXJucyB7UG9pbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3VuZFBvaW50KHBvaW50KSB7XG5cbiAgcmV0dXJuIHtcbiAgICB4OiBNYXRoLnJvdW5kKHBvaW50LngpLFxuICAgIHk6IE1hdGgucm91bmQocG9pbnQueSlcbiAgfTtcbn1cblxuXG4vKipcbiAqIENvbnZlcnQgdGhlIGdpdmVuIGJvdW5kcyB0byBhIHsgdG9wLCBsZWZ0LCBib3R0b20sIHJpZ2h0IH0gZGVzY3JpcHRvci5cbiAqXG4gKiBAcGFyYW0ge1BvaW50fFJlY3R9IGJvdW5kc1xuICpcbiAqIEByZXR1cm4ge1JlY3RUUkJMfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNUUkJMKGJvdW5kcykge1xuICByZXR1cm4ge1xuICAgIHRvcDogYm91bmRzLnksXG4gICAgcmlnaHQ6IGJvdW5kcy54ICsgKGJvdW5kcy53aWR0aCB8fCAwKSxcbiAgICBib3R0b206IGJvdW5kcy55ICsgKGJvdW5kcy5oZWlnaHQgfHwgMCksXG4gICAgbGVmdDogYm91bmRzLnhcbiAgfTtcbn1cblxuXG4vKipcbiAqIENvbnZlcnQgYSB7IHRvcCwgbGVmdCwgYm90dG9tLCByaWdodCB9IHRvIGFuIG9iamVjdHMgYm91bmRzLlxuICpcbiAqIEBwYXJhbSB7UmVjdFRSQkx9IHRyYmxcbiAqXG4gKiBAcmV0dXJuIHtSZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNCb3VuZHModHJibCkge1xuICByZXR1cm4ge1xuICAgIHg6IHRyYmwubGVmdCxcbiAgICB5OiB0cmJsLnRvcCxcbiAgICB3aWR0aDogdHJibC5yaWdodCAtIHRyYmwubGVmdCxcbiAgICBoZWlnaHQ6IHRyYmwuYm90dG9tIC0gdHJibC50b3BcbiAgfTtcbn1cblxuXG4vKipcbiAqIEdldCB0aGUgbWlkIG9mIHRoZSBnaXZlbiBib3VuZHMgb3IgcG9pbnQuXG4gKlxuICogQHBhcmFtIHtQb2ludHxSZWN0fSBib3VuZHNcbiAqXG4gKiBAcmV0dXJuIHtQb2ludH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEJvdW5kc01pZChib3VuZHMpIHtcbiAgcmV0dXJuIHJvdW5kUG9pbnQoe1xuICAgIHg6IGJvdW5kcy54ICsgKGJvdW5kcy53aWR0aCB8fCAwKSAvIDIsXG4gICAgeTogYm91bmRzLnkgKyAoYm91bmRzLmhlaWdodCB8fCAwKSAvIDJcbiAgfSk7XG59XG5cblxuLyoqXG4gKiBHZXQgdGhlIG1pZCBvZiB0aGUgZ2l2ZW4gQ29ubmVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0Nvbm5lY3Rpb259IGNvbm5lY3Rpb25cbiAqXG4gKiBAcmV0dXJuIHtQb2ludH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbm5lY3Rpb25NaWQoY29ubmVjdGlvbikge1xuICB2YXIgd2F5cG9pbnRzID0gY29ubmVjdGlvbi53YXlwb2ludHM7XG5cbiAgLy8gY2FsY3VsYXRlIHRvdGFsIGxlbmd0aCBhbmQgbGVuZ3RoIG9mIGVhY2ggc2VnbWVudFxuICB2YXIgcGFydHMgPSB3YXlwb2ludHMucmVkdWNlKGZ1bmN0aW9uKHBhcnRzLCBwb2ludCwgaW5kZXgpIHtcblxuICAgIHZhciBsYXN0UG9pbnQgPSB3YXlwb2ludHNbaW5kZXggLSAxXTtcblxuICAgIGlmIChsYXN0UG9pbnQpIHtcbiAgICAgIHZhciBsYXN0UGFydCA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdO1xuXG4gICAgICB2YXIgc3RhcnRMZW5ndGggPSBsYXN0UGFydCAmJiBsYXN0UGFydC5lbmRMZW5ndGggfHwgMDtcbiAgICAgIHZhciBsZW5ndGggPSBkaXN0YW5jZShsYXN0UG9pbnQsIHBvaW50KTtcblxuICAgICAgcGFydHMucHVzaCh7XG4gICAgICAgIHN0YXJ0OiBsYXN0UG9pbnQsXG4gICAgICAgIGVuZDogcG9pbnQsXG4gICAgICAgIHN0YXJ0TGVuZ3RoOiBzdGFydExlbmd0aCxcbiAgICAgICAgZW5kTGVuZ3RoOiBzdGFydExlbmd0aCArIGxlbmd0aCxcbiAgICAgICAgbGVuZ3RoOiBsZW5ndGhcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJ0cztcbiAgfSwgW10pO1xuXG4gIHZhciB0b3RhbExlbmd0aCA9IHBhcnRzLnJlZHVjZShmdW5jdGlvbihsZW5ndGgsIHBhcnQpIHtcbiAgICByZXR1cm4gbGVuZ3RoICsgcGFydC5sZW5ndGg7XG4gIH0sIDApO1xuXG4gIC8vIGZpbmQgd2hpY2ggc2VnZW1lbnQgY29udGFpbnMgbWlkZGxlIHBvaW50XG4gIHZhciBtaWRMZW5ndGggPSB0b3RhbExlbmd0aCAvIDI7XG5cbiAgdmFyIGkgPSAwO1xuICB2YXIgbWlkU2VnbWVudCA9IHBhcnRzW2ldO1xuXG4gIHdoaWxlIChtaWRTZWdtZW50LmVuZExlbmd0aCA8IG1pZExlbmd0aCkge1xuICAgIG1pZFNlZ21lbnQgPSBwYXJ0c1srK2ldO1xuICB9XG5cbiAgLy8gY2FsY3VsYXRlIHJlbGF0aXZlIHBvc2l0aW9uIG9uIG1pZCBzZWdtZW50XG4gIHZhciBzZWdtZW50UHJvZ3Jlc3MgPSAobWlkTGVuZ3RoIC0gbWlkU2VnbWVudC5zdGFydExlbmd0aCkgLyBtaWRTZWdtZW50Lmxlbmd0aDtcblxuICB2YXIgbWlkUG9pbnQgPSB7XG4gICAgeDogbWlkU2VnbWVudC5zdGFydC54ICsgKG1pZFNlZ21lbnQuZW5kLnggLSBtaWRTZWdtZW50LnN0YXJ0LngpICogc2VnbWVudFByb2dyZXNzLFxuICAgIHk6IG1pZFNlZ21lbnQuc3RhcnQueSArIChtaWRTZWdtZW50LmVuZC55IC0gbWlkU2VnbWVudC5zdGFydC55KSAqIHNlZ21lbnRQcm9ncmVzc1xuICB9O1xuXG4gIHJldHVybiBtaWRQb2ludDtcbn1cblxuXG4vKipcbiAqIEdldCB0aGUgbWlkIG9mIHRoZSBnaXZlbiBFbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICpcbiAqIEByZXR1cm4ge1BvaW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWlkKGVsZW1lbnQpIHtcbiAgaWYgKGlzQ29ubmVjdGlvbihlbGVtZW50KSkge1xuICAgIHJldHVybiBnZXRDb25uZWN0aW9uTWlkKGVsZW1lbnQpO1xuICB9XG5cbiAgcmV0dXJuIGdldEJvdW5kc01pZChlbGVtZW50KTtcbn1cblxuLy8gb3JpZW50YXRpb24gdXRpbHMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIEdldCBvcmllbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gcmVjdGFuZ2xlIHdpdGggcmVzcGVjdCB0b1xuICogdGhlIHJlZmVyZW5jZSByZWN0YW5nbGUuXG4gKlxuICogQSBwYWRkaW5nIChwb3NpdGl2ZSBvciBuZWdhdGl2ZSkgbWF5IGJlIHBhc3NlZCB0byBpbmZsdWVuY2VcbiAqIGhvcml6b250YWwgLyB2ZXJ0aWNhbCBvcmllbnRhdGlvbiBhbmQgaW50ZXJzZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7UmVjdH0gcmVjdFxuICogQHBhcmFtIHtSZWN0fSByZWZlcmVuY2VcbiAqIEBwYXJhbSB7UG9pbnR8bnVtYmVyfSBwYWRkaW5nXG4gKlxuICogQHJldHVybiB7RGlyZWN0aW9uVFJCTHxJbnRlcnNlY3Rpb259IHRoZSBvcmllbnRhdGlvbjsgb25lIG9mIHRvcCwgdG9wLWxlZnQsIGxlZnQsIC4uLiwgYm90dG9tLCByaWdodCBvciBpbnRlcnNlY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRPcmllbnRhdGlvbihyZWN0LCByZWZlcmVuY2UsIHBhZGRpbmcpIHtcblxuICBwYWRkaW5nID0gcGFkZGluZyB8fCAwO1xuXG4gIC8vIG1ha2Ugc3VyZSB3ZSBjYW4gdXNlIGFuIG9iamVjdCwgdG9vXG4gIC8vIGZvciBpbmRpdmlkdWFsIHsgeCwgeSB9IHBhZGRpbmdcbiAgaWYgKCFpc09iamVjdChwYWRkaW5nKSkge1xuICAgIHBhZGRpbmcgPSB7IHg6IHBhZGRpbmcsIHk6IHBhZGRpbmcgfTtcbiAgfVxuXG5cbiAgdmFyIHJlY3RPcmllbnRhdGlvbiA9IGFzVFJCTChyZWN0KSxcbiAgICAgIHJlZmVyZW5jZU9yaWVudGF0aW9uID0gYXNUUkJMKHJlZmVyZW5jZSk7XG5cbiAgdmFyIHRvcCA9IHJlY3RPcmllbnRhdGlvbi5ib3R0b20gKyBwYWRkaW5nLnkgPD0gcmVmZXJlbmNlT3JpZW50YXRpb24udG9wLFxuICAgICAgcmlnaHQgPSByZWN0T3JpZW50YXRpb24ubGVmdCAtIHBhZGRpbmcueCA+PSByZWZlcmVuY2VPcmllbnRhdGlvbi5yaWdodCxcbiAgICAgIGJvdHRvbSA9IHJlY3RPcmllbnRhdGlvbi50b3AgLSBwYWRkaW5nLnkgPj0gcmVmZXJlbmNlT3JpZW50YXRpb24uYm90dG9tLFxuICAgICAgbGVmdCA9IHJlY3RPcmllbnRhdGlvbi5yaWdodCArIHBhZGRpbmcueCA8PSByZWZlcmVuY2VPcmllbnRhdGlvbi5sZWZ0O1xuXG4gIHZhciB2ZXJ0aWNhbCA9IHRvcCA/ICd0b3AnIDogKGJvdHRvbSA/ICdib3R0b20nIDogbnVsbCksXG4gICAgICBob3Jpem9udGFsID0gbGVmdCA/ICdsZWZ0JyA6IChyaWdodCA/ICdyaWdodCcgOiBudWxsKTtcblxuICBpZiAoaG9yaXpvbnRhbCAmJiB2ZXJ0aWNhbCkge1xuICAgIHJldHVybiB2ZXJ0aWNhbCArICctJyArIGhvcml6b250YWw7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGhvcml6b250YWwgfHwgdmVydGljYWwgfHwgJ2ludGVyc2VjdCc7XG4gIH1cbn1cblxuXG4vLyBpbnRlcnNlY3Rpb24gdXRpbHMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIEdldCBpbnRlcnNlY3Rpb24gYmV0d2VlbiBhbiBlbGVtZW50IGFuZCBhIGxpbmUgcGF0aC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudFBhdGhcbiAqIEBwYXJhbSB7c3RyaW5nfSBsaW5lUGF0aFxuICogQHBhcmFtIHtib29sZWFufSBjcm9wU3RhcnQgV2hldGhlciB0byBjcm9wIHN0YXJ0IG9yIGVuZC5cbiAqXG4gKiBAcmV0dXJuIHtQb2ludH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRMaW5lSW50ZXJzZWN0aW9uKGVsZW1lbnRQYXRoLCBsaW5lUGF0aCwgY3JvcFN0YXJ0KSB7XG5cbiAgdmFyIGludGVyc2VjdGlvbnMgPSBnZXRJbnRlcnNlY3Rpb25zKGVsZW1lbnRQYXRoLCBsaW5lUGF0aCk7XG5cbiAgLy8gcmVjb2duaXplIGludGVyc2VjdGlvbnNcbiAgLy8gb25seSBvbmUgLT4gY2hvb3NlXG4gIC8vIHR3byBjbG9zZSB0b2dldGhlciAtPiBjaG9vc2UgZmlyc3RcbiAgLy8gdHdvIG9yIG1vcmUgZGlzdGluY3QgLT4gcHVsbCBvdXQgYXBwcm9wcmlhdGUgb25lXG4gIC8vIG5vbmUgLT4gb2sgKGZhbGxiYWNrIHRvIHBvaW50IGl0c2VsZilcbiAgaWYgKGludGVyc2VjdGlvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIHJvdW5kUG9pbnQoaW50ZXJzZWN0aW9uc1swXSk7XG4gIH0gZWxzZSBpZiAoaW50ZXJzZWN0aW9ucy5sZW5ndGggPT09IDIgJiYgcG9pbnREaXN0YW5jZShpbnRlcnNlY3Rpb25zWzBdLCBpbnRlcnNlY3Rpb25zWzFdKSA8IDEpIHtcbiAgICByZXR1cm4gcm91bmRQb2ludChpbnRlcnNlY3Rpb25zWzBdKTtcbiAgfSBlbHNlIGlmIChpbnRlcnNlY3Rpb25zLmxlbmd0aCA+IDEpIHtcblxuICAgIC8vIHNvcnQgYnkgaW50ZXJzZWN0aW9ucyBiYXNlZCBvbiBjb25uZWN0aW9uIHNlZ21lbnQgK1xuICAgIC8vIGRpc3RhbmNlIGZyb20gc3RhcnRcbiAgICBpbnRlcnNlY3Rpb25zID0gc29ydEJ5KGludGVyc2VjdGlvbnMsIGZ1bmN0aW9uKGkpIHtcbiAgICAgIHZhciBkaXN0YW5jZSA9IE1hdGguZmxvb3IoaS50MiAqIDEwMCkgfHwgMTtcblxuICAgICAgZGlzdGFuY2UgPSAxMDAgLSBkaXN0YW5jZTtcblxuICAgICAgZGlzdGFuY2UgPSAoZGlzdGFuY2UgPCAxMCA/ICcwJyA6ICcnKSArIGRpc3RhbmNlO1xuXG4gICAgICAvLyBjcmVhdGUgYSBzb3J0IHN0cmluZyB0aGF0IG1ha2VzIHN1cmUgd2Ugc29ydFxuICAgICAgLy8gbGluZSBzZWdtZW50IEFTQyArIGxpbmUgc2VnbWVudCBwb3NpdGlvbiBERVNDIChmb3IgY3JvcFN0YXJ0KVxuICAgICAgLy8gbGluZSBzZWdtZW50IEFTQyArIGxpbmUgc2VnbWVudCBwb3NpdGlvbiBBU0MgKGZvciBjcm9wRW5kKVxuICAgICAgcmV0dXJuIGkuc2VnbWVudDIgKyAnIycgKyBkaXN0YW5jZTtcbiAgICB9KTtcblxuICAgIHJldHVybiByb3VuZFBvaW50KGludGVyc2VjdGlvbnNbY3JvcFN0YXJ0ID8gMCA6IGludGVyc2VjdGlvbnMubGVuZ3RoIC0gMV0pO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEludGVyc2VjdGlvbnMoYSwgYikge1xuICByZXR1cm4gaW50ZXJzZWN0UGF0aHMoYSwgYik7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlclJlZHVuZGFudFdheXBvaW50cyh3YXlwb2ludHMpIHtcblxuICAvLyBhbHRlciBjb3B5IG9mIHdheXBvaW50cywgbm90IG9yaWdpbmFsXG4gIHdheXBvaW50cyA9IHdheXBvaW50cy5zbGljZSgpO1xuXG4gIHZhciBpZHggPSAwLFxuICAgICAgcG9pbnQsXG4gICAgICBwcmV2aW91c1BvaW50LFxuICAgICAgbmV4dFBvaW50O1xuXG4gIHdoaWxlICh3YXlwb2ludHNbaWR4XSkge1xuICAgIHBvaW50ID0gd2F5cG9pbnRzW2lkeF07XG4gICAgcHJldmlvdXNQb2ludCA9IHdheXBvaW50c1tpZHggLSAxXTtcbiAgICBuZXh0UG9pbnQgPSB3YXlwb2ludHNbaWR4ICsgMV07XG5cbiAgICBpZiAocG9pbnREaXN0YW5jZShwb2ludCwgbmV4dFBvaW50KSA9PT0gMCB8fFxuICAgICAgICBwb2ludHNPbkxpbmUocHJldmlvdXNQb2ludCwgbmV4dFBvaW50LCBwb2ludCkpIHtcblxuICAgICAgLy8gcmVtb3ZlIHBvaW50LCBpZiBvdmVybGFwcGluZyB3aXRoIHtuZXh0UG9pbnR9XG4gICAgICAvLyBvciBvbiBsaW5lIHdpdGgge3ByZXZpb3VzUG9pbnR9IC0+IHtwb2ludH0gLT4ge25leHRQb2ludH1cbiAgICAgIHdheXBvaW50cy5zcGxpY2UoaWR4LCAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWR4Kys7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHdheXBvaW50cztcbn1cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGRpc3RhbmNlKGEsIGIpIHtcbiAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhhLnggLSBiLngsIDIpICsgTWF0aC5wb3coYS55IC0gYi55LCAyKSk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/layout/LayoutUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/layout/ManhattanLayout.js":
/*!***************************************************************!*\
  !*** ./node_modules/diagram-js/lib/layout/ManhattanLayout.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connectPoints: () => (/* binding */ connectPoints),\n/* harmony export */   connectRectangles: () => (/* binding */ connectRectangles),\n/* harmony export */   repairConnection: () => (/* binding */ repairConnection),\n/* harmony export */   tryLayoutStraight: () => (/* binding */ tryLayoutStraight),\n/* harmony export */   withoutRedundantPoints: () => (/* binding */ withoutRedundantPoints)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _LayoutUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LayoutUtil */ \"(ssr)/./node_modules/diagram-js/lib/layout/LayoutUtil.js\");\n/* harmony import */ var _util_Geometry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/Geometry */ \"(ssr)/./node_modules/diagram-js/lib/util/Geometry.js\");\n\n\n\n\n\n\n/**\n * @typedef {import('../util/Types').Point} Point\n * @typedef {import('../util/Types').Rect} Rect\n */\n\nvar MIN_SEGMENT_LENGTH = 20,\n    POINT_ORIENTATION_PADDING = 5;\n\nvar round = Math.round;\n\nvar INTERSECTION_THRESHOLD = 20,\n    ORIENTATION_THRESHOLD = {\n      'h:h': 20,\n      'v:v': 20,\n      'h:v': -10,\n      'v:h': -10\n    };\n\nfunction needsTurn(orientation, startDirection) {\n  return !{\n    t: /top/,\n    r: /right/,\n    b: /bottom/,\n    l: /left/,\n    h: /./,\n    v: /./\n  }[startDirection].test(orientation);\n}\n\nfunction canLayoutStraight(direction, targetOrientation) {\n  return {\n    t: /top/,\n    r: /right/,\n    b: /bottom/,\n    l: /left/,\n    h: /left|right/,\n    v: /top|bottom/\n  }[direction].test(targetOrientation);\n}\n\nfunction getSegmentBendpoints(a, b, directions) {\n  var orientation = (0,_LayoutUtil__WEBPACK_IMPORTED_MODULE_0__.getOrientation)(b, a, POINT_ORIENTATION_PADDING);\n\n  var startDirection = directions.split(':')[0];\n\n  var xmid = round((b.x - a.x) / 2 + a.x),\n      ymid = round((b.y - a.y) / 2 + a.y);\n\n  var segmentEnd, segmentDirections;\n\n  var layoutStraight = canLayoutStraight(startDirection, orientation),\n      layoutHorizontal = /h|r|l/.test(startDirection),\n      layoutTurn = false;\n\n  var turnNextDirections = false;\n\n  if (layoutStraight) {\n    segmentEnd = layoutHorizontal ? { x: xmid, y: a.y } : { x: a.x, y: ymid };\n\n    segmentDirections = layoutHorizontal ? 'h:h' : 'v:v';\n  } else {\n    layoutTurn = needsTurn(orientation, startDirection);\n\n    segmentDirections = layoutHorizontal ? 'h:v' : 'v:h';\n\n    if (layoutTurn) {\n\n      if (layoutHorizontal) {\n        turnNextDirections = ymid === a.y;\n\n        segmentEnd = {\n          x: a.x + MIN_SEGMENT_LENGTH * (/l/.test(startDirection) ? -1 : 1),\n          y: turnNextDirections ? ymid + MIN_SEGMENT_LENGTH : ymid\n        };\n      } else {\n        turnNextDirections = xmid === a.x;\n\n        segmentEnd = {\n          x: turnNextDirections ? xmid + MIN_SEGMENT_LENGTH : xmid,\n          y: a.y + MIN_SEGMENT_LENGTH * (/t/.test(startDirection) ? -1 : 1)\n        };\n      }\n\n    } else {\n      segmentEnd = {\n        x: xmid,\n        y: ymid\n      };\n    }\n  }\n\n  return {\n    waypoints: getBendpoints(a, segmentEnd, segmentDirections).concat(segmentEnd),\n    directions:  segmentDirections,\n    turnNextDirections: turnNextDirections\n  };\n}\n\nfunction getStartSegment(a, b, directions) {\n  return getSegmentBendpoints(a, b, directions);\n}\n\nfunction getEndSegment(a, b, directions) {\n  var invertedSegment = getSegmentBendpoints(b, a, invertDirections(directions));\n\n  return {\n    waypoints: invertedSegment.waypoints.slice().reverse(),\n    directions: invertDirections(invertedSegment.directions),\n    turnNextDirections: invertedSegment.turnNextDirections\n  };\n}\n\nfunction getMidSegment(startSegment, endSegment) {\n\n  var startDirection = startSegment.directions.split(':')[1],\n      endDirection = endSegment.directions.split(':')[0];\n\n  if (startSegment.turnNextDirections) {\n    startDirection = startDirection == 'h' ? 'v' : 'h';\n  }\n\n  if (endSegment.turnNextDirections) {\n    endDirection = endDirection == 'h' ? 'v' : 'h';\n  }\n\n  var directions = startDirection + ':' + endDirection;\n\n  var bendpoints = getBendpoints(\n    startSegment.waypoints[startSegment.waypoints.length - 1],\n    endSegment.waypoints[0],\n    directions\n  );\n\n  return {\n    waypoints: bendpoints,\n    directions: directions\n  };\n}\n\nfunction invertDirections(directions) {\n  return directions.split(':').reverse().join(':');\n}\n\n/**\n * Handle simple layouts with maximum two bendpoints.\n */\nfunction getSimpleBendpoints(a, b, directions) {\n\n  var xmid = round((b.x - a.x) / 2 + a.x),\n      ymid = round((b.y - a.y) / 2 + a.y);\n\n  // one point, right or left from a\n  if (directions === 'h:v') {\n    return [ { x: b.x, y: a.y } ];\n  }\n\n  // one point, above or below a\n  if (directions === 'v:h') {\n    return [ { x: a.x, y: b.y } ];\n  }\n\n  // vertical segment between a and b\n  if (directions === 'h:h') {\n    return [\n      { x: xmid, y: a.y },\n      { x: xmid, y: b.y }\n    ];\n  }\n\n  // horizontal segment between a and b\n  if (directions === 'v:v') {\n    return [\n      { x: a.x, y: ymid },\n      { x: b.x, y: ymid }\n    ];\n  }\n\n  throw new Error('invalid directions: can only handle varians of [hv]:[hv]');\n}\n\n\n/**\n * Returns the mid points for a manhattan connection between two points.\n *\n * @example h:h (horizontal:horizontal)\n *\n * [a]----[x]\n *         |\n *        [x]----[b]\n *\n * @example h:v (horizontal:vertical)\n *\n * [a]----[x]\n *         |\n *        [b]\n *\n * @example h:r (horizontal:right)\n *\n * [a]----[x]\n *         |\n *    [b]-[x]\n *\n * @param {Point} a\n * @param {Point} b\n * @param {string} directions\n *\n * @return {Point[]}\n */\nfunction getBendpoints(a, b, directions) {\n  directions = directions || 'h:h';\n\n  if (!isValidDirections(directions)) {\n    throw new Error(\n      'unknown directions: <' + directions + '>: ' +\n      'must be specified as <start>:<end> ' +\n      'with start/end in { h,v,t,r,b,l }'\n    );\n  }\n\n  // compute explicit directions, involving trbl dockings\n  // using a three segmented layouting algorithm\n  if (isExplicitDirections(directions)) {\n    var startSegment = getStartSegment(a, b, directions),\n        endSegment = getEndSegment(a, b, directions),\n        midSegment = getMidSegment(startSegment, endSegment);\n\n    return [].concat(\n      startSegment.waypoints,\n      midSegment.waypoints,\n      endSegment.waypoints\n    );\n  }\n\n  // handle simple [hv]:[hv] cases that can be easily computed\n  return getSimpleBendpoints(a, b, directions);\n}\n\n/**\n * Create a connection between the two points according\n * to the manhattan layout (only horizontal and vertical) edges.\n *\n * @param {Point} a\n * @param {Point} b\n * @param {string} [directions='h:h'] Specifies manhattan directions for each\n * point as {direction}:{direction}. A direction for a point is either\n * `h` (horizontal) or `v` (vertical).\n *\n * @return {Point[]}\n */\nfunction connectPoints(a, b, directions) {\n\n  var points = getBendpoints(a, b, directions);\n\n  points.unshift(a);\n  points.push(b);\n\n  return withoutRedundantPoints(points);\n}\n\n\n/**\n * Connect two rectangles using a manhattan layouted connection.\n *\n * @param {Rect} source source rectangle\n * @param {Rect} target target rectangle\n * @param {Point} [start] source docking\n * @param {Point} [end] target docking\n * @param {Object} [hints]\n * @param {string} [hints.preserveDocking=source] preserve docking on selected side\n * @param {string[]} [hints.preferredLayouts]\n * @param {Point|boolean} [hints.connectionStart] whether the start changed\n * @param {Point|boolean} [hints.connectionEnd] whether the end changed\n *\n * @return {Point[]} connection points\n */\nfunction connectRectangles(source, target, start, end, hints) {\n\n  var preferredLayouts = hints && hints.preferredLayouts || [];\n\n  var preferredLayout = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.without)(preferredLayouts, 'straight')[0] || 'h:h';\n\n  var threshold = ORIENTATION_THRESHOLD[preferredLayout] || 0;\n\n  var orientation = (0,_LayoutUtil__WEBPACK_IMPORTED_MODULE_0__.getOrientation)(source, target, threshold);\n\n  var directions = getDirections(orientation, preferredLayout);\n\n  start = start || (0,_LayoutUtil__WEBPACK_IMPORTED_MODULE_0__.getMid)(source);\n  end = end || (0,_LayoutUtil__WEBPACK_IMPORTED_MODULE_0__.getMid)(target);\n\n  var directionSplit = directions.split(':');\n\n  // compute actual docking points for start / end\n  // this ensures we properly layout only parts of the\n  // connection that lies in between the two rectangles\n  var startDocking = getDockingPoint(start, source, directionSplit[0], invertOrientation(orientation)),\n      endDocking = getDockingPoint(end, target, directionSplit[1], orientation);\n\n  return connectPoints(startDocking, endDocking, directions);\n}\n\n\n/**\n * Repair the connection between two rectangles, of which one has been updated.\n *\n * @param {Rect} source\n * @param {Rect} target\n * @param {Point} [start]\n * @param {Point} [end]\n * @param {Point[]} [waypoints]\n * @param {Object} [hints]\n * @param {string[]} [hints.preferredLayouts] The list of preferred layouts.\n * @param {boolean} [hints.connectionStart]\n * @param {boolean} [hints.connectionEnd]\n *\n * @return {Point[]} The waypoints of the repaired connection.\n */\nfunction repairConnection(source, target, start, end, waypoints, hints) {\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isArray)(start)) {\n    waypoints = start;\n    hints = end;\n\n    start = (0,_LayoutUtil__WEBPACK_IMPORTED_MODULE_0__.getMid)(source);\n    end = (0,_LayoutUtil__WEBPACK_IMPORTED_MODULE_0__.getMid)(target);\n  }\n\n  hints = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)({ preferredLayouts: [] }, hints);\n  waypoints = waypoints || [];\n\n  var preferredLayouts = hints.preferredLayouts,\n      preferStraight = preferredLayouts.indexOf('straight') !== -1,\n      repairedWaypoints;\n\n  // just layout non-existing or simple connections\n  // attempt to render straight lines, if required\n\n  // attempt to layout a straight line\n  repairedWaypoints = preferStraight && tryLayoutStraight(source, target, start, end, hints);\n\n  if (repairedWaypoints) {\n    return repairedWaypoints;\n  }\n\n  // try to layout from end\n  repairedWaypoints = hints.connectionEnd && tryRepairConnectionEnd(target, source, end, waypoints);\n\n  if (repairedWaypoints) {\n    return repairedWaypoints;\n  }\n\n  // try to layout from start\n  repairedWaypoints = hints.connectionStart && tryRepairConnectionStart(source, target, start, waypoints);\n\n  if (repairedWaypoints) {\n    return repairedWaypoints;\n  }\n\n  // or whether nothing seems to have changed\n  if (!hints.connectionStart && !hints.connectionEnd && waypoints && waypoints.length) {\n    return waypoints;\n  }\n\n  // simply reconnect if nothing else worked\n  return connectRectangles(source, target, start, end, hints);\n}\n\n\nfunction inRange(a, start, end) {\n  return a >= start && a <= end;\n}\n\nfunction isInRange(axis, a, b) {\n  var size = {\n    x: 'width',\n    y: 'height'\n  };\n\n  return inRange(a[axis], b[axis], b[axis] + b[size[axis]]);\n}\n\n/**\n * Lay out a straight connection.\n *\n * @param {Rect} source\n * @param {Rect} target\n * @param {Point} start\n * @param {Point} end\n * @param {Object} [hints]\n * @param {string} [hints.preserveDocking]\n *\n * @return {Point[]|null} The waypoints or null if layout isn't possible.\n */\nfunction tryLayoutStraight(source, target, start, end, hints) {\n  var axis = {},\n      primaryAxis,\n      orientation;\n\n  orientation = (0,_LayoutUtil__WEBPACK_IMPORTED_MODULE_0__.getOrientation)(source, target);\n\n  // only layout a straight connection if shapes are\n  // horizontally or vertically aligned\n  if (!/^(top|bottom|left|right)$/.test(orientation)) {\n    return null;\n  }\n\n  if (/top|bottom/.test(orientation)) {\n    primaryAxis = 'x';\n  }\n\n  if (/left|right/.test(orientation)) {\n    primaryAxis = 'y';\n  }\n\n  if (hints.preserveDocking === 'target') {\n\n    if (!isInRange(primaryAxis, end, source)) {\n      return null;\n    }\n\n    axis[primaryAxis] = end[primaryAxis];\n\n    return [\n      {\n        x: axis.x !== undefined ? axis.x : start.x,\n        y: axis.y !== undefined ? axis.y : start.y,\n        original: {\n          x: axis.x !== undefined ? axis.x : start.x,\n          y: axis.y !== undefined ? axis.y : start.y\n        }\n      },\n      {\n        x: end.x,\n        y: end.y\n      }\n    ];\n\n  } else {\n\n    if (!isInRange(primaryAxis, start, target)) {\n      return null;\n    }\n\n    axis[primaryAxis] = start[primaryAxis];\n\n    return [\n      {\n        x: start.x,\n        y: start.y\n      },\n      {\n        x: axis.x !== undefined ? axis.x : end.x,\n        y: axis.y !== undefined ? axis.y : end.y,\n        original: {\n          x: axis.x !== undefined ? axis.x : end.x,\n          y: axis.y !== undefined ? axis.y : end.y\n        }\n      }\n    ];\n  }\n\n}\n\n/**\n * Repair a connection from start.\n *\n * @param {Rect} moved\n * @param {Rect} other\n * @param {Point} newDocking\n * @param {Point[]} points originalPoints from moved to other\n *\n * @return {Point[]|null} The waypoints of the repaired connection.\n */\nfunction tryRepairConnectionStart(moved, other, newDocking, points) {\n  return _tryRepairConnectionSide(moved, other, newDocking, points);\n}\n\n/**\n * Repair a connection from end.\n *\n * @param {Rect} moved\n * @param {Rect} other\n * @param {Point} newDocking\n * @param {Point[]} points originalPoints from moved to other\n *\n * @return {Point[]|null} The waypoints of the repaired connection.\n */\nfunction tryRepairConnectionEnd(moved, other, newDocking, points) {\n  var waypoints = points.slice().reverse();\n\n  waypoints = _tryRepairConnectionSide(moved, other, newDocking, waypoints);\n\n  return waypoints ? waypoints.reverse() : null;\n}\n\n/**\n * Repair a connection from one side that moved.\n *\n * @param {Rect} moved\n * @param {Rect} other\n * @param {Point} newDocking\n * @param {Point[]} points originalPoints from moved to other\n *\n * @return {Point[]} The waypoints of the repaired connection.\n */\nfunction _tryRepairConnectionSide(moved, other, newDocking, points) {\n\n  function needsRelayout(points) {\n    if (points.length < 3) {\n      return true;\n    }\n\n    if (points.length > 4) {\n      return false;\n    }\n\n    // relayout if two points overlap\n    // this is most likely due to\n    return !!(0,min_dash__WEBPACK_IMPORTED_MODULE_1__.find)(points, function(p, idx) {\n      var q = points[idx - 1];\n\n      return q && (0,_util_Geometry__WEBPACK_IMPORTED_MODULE_2__.pointDistance)(p, q) < 3;\n    });\n  }\n\n  function repairBendpoint(candidate, oldPeer, newPeer) {\n\n    var alignment = (0,_util_Geometry__WEBPACK_IMPORTED_MODULE_2__.pointsAligned)(oldPeer, candidate);\n\n    switch (alignment) {\n    case 'v':\n\n      // repair horizontal alignment\n      return { x: newPeer.x, y: candidate.y };\n    case 'h':\n\n      // repair vertical alignment\n      return { x: candidate.x, y: newPeer.y };\n    }\n\n    return { x: candidate.x, y: candidate. y };\n  }\n\n  function removeOverlapping(points, a, b) {\n    var i;\n\n    for (i = points.length - 2; i !== 0; i--) {\n\n      // intersects (?) break, remove all bendpoints up to this one and relayout\n      if ((0,_util_Geometry__WEBPACK_IMPORTED_MODULE_2__.pointInRect)(points[i], a, INTERSECTION_THRESHOLD) ||\n          (0,_util_Geometry__WEBPACK_IMPORTED_MODULE_2__.pointInRect)(points[i], b, INTERSECTION_THRESHOLD)) {\n\n        // return sliced old connection\n        return points.slice(i);\n      }\n    }\n\n    return points;\n  }\n\n  // (0) only repair what has layoutable bendpoints\n\n  // (1) if only one bendpoint and on shape moved onto other shapes axis\n  //     (horizontally / vertically), relayout\n\n  if (needsRelayout(points)) {\n    return null;\n  }\n\n  var oldDocking = points[0],\n      newPoints = points.slice(),\n      slicedPoints;\n\n  // (2) repair only last line segment and only if it was layouted before\n\n  newPoints[0] = newDocking;\n  newPoints[1] = repairBendpoint(newPoints[1], oldDocking, newDocking);\n\n\n  // (3) if shape intersects with any bendpoint after repair,\n  //     remove all segments up to this bendpoint and repair from there\n  slicedPoints = removeOverlapping(newPoints, moved, other);\n\n  if (slicedPoints !== newPoints) {\n    newPoints = _tryRepairConnectionSide(moved, other, newDocking, slicedPoints);\n  }\n\n  // (4) do NOT repair if repaired bendpoints are aligned\n  if (newPoints && (0,_util_Geometry__WEBPACK_IMPORTED_MODULE_2__.pointsAligned)(newPoints)) {\n    return null;\n  }\n\n  return newPoints;\n}\n\n\n/**\n * Returns the manhattan directions connecting two rectangles\n * with the given orientation.\n *\n * Will always return the default layout, if it is specific\n * regarding sides already (trbl).\n *\n * @example\n *\n * ```javascript\n * getDirections('top'); // -> 'v:v'\n * getDirections('intersect'); // -> 't:t'\n *\n * getDirections('top-right', 'v:h'); // -> 'v:h'\n * getDirections('top-right', 'h:h'); // -> 'h:h'\n * ```\n *\n * @param {string} orientation\n * @param {string} defaultLayout\n *\n * @return {string}\n */\nfunction getDirections(orientation, defaultLayout) {\n\n  // don't override specific trbl directions\n  if (isExplicitDirections(defaultLayout)) {\n    return defaultLayout;\n  }\n\n  switch (orientation) {\n  case 'intersect':\n    return 't:t';\n\n  case 'top':\n  case 'bottom':\n    return 'v:v';\n\n  case 'left':\n  case 'right':\n    return 'h:h';\n\n  // 'top-left'\n  // 'top-right'\n  // 'bottom-left'\n  // 'bottom-right'\n  default:\n    return defaultLayout;\n  }\n}\n\nfunction isValidDirections(directions) {\n  return directions && /^h|v|t|r|b|l:h|v|t|r|b|l$/.test(directions);\n}\n\nfunction isExplicitDirections(directions) {\n  return directions && /t|r|b|l/.test(directions);\n}\n\nfunction invertOrientation(orientation) {\n  return {\n    'top': 'bottom',\n    'bottom': 'top',\n    'left': 'right',\n    'right': 'left',\n    'top-left': 'bottom-right',\n    'bottom-right': 'top-left',\n    'top-right': 'bottom-left',\n    'bottom-left': 'top-right',\n  }[orientation];\n}\n\nfunction getDockingPoint(point, rectangle, dockingDirection, targetOrientation) {\n\n  // ensure we end up with a specific docking direction\n  // based on the targetOrientation, if <h|v> is being passed\n\n  if (dockingDirection === 'h') {\n    dockingDirection = /left/.test(targetOrientation) ? 'l' : 'r';\n  }\n\n  if (dockingDirection === 'v') {\n    dockingDirection = /top/.test(targetOrientation) ? 't' : 'b';\n  }\n\n  if (dockingDirection === 't') {\n    return { original: point, x: point.x, y: rectangle.y };\n  }\n\n  if (dockingDirection === 'r') {\n    return { original: point, x: rectangle.x + rectangle.width, y: point.y };\n  }\n\n  if (dockingDirection === 'b') {\n    return { original: point, x: point.x, y: rectangle.y + rectangle.height };\n  }\n\n  if (dockingDirection === 'l') {\n    return { original: point, x: rectangle.x, y: point.y };\n  }\n\n  throw new Error('unexpected dockingDirection: <' + dockingDirection + '>');\n}\n\n\n/**\n * Return list of waypoints with redundant ones filtered out.\n *\n * @example\n *\n * Original points:\n *\n *   [x] ----- [x] ------ [x]\n *                         |\n *                        [x] ----- [x] - [x]\n *\n * Filtered:\n *\n *   [x] ---------------- [x]\n *                         |\n *                        [x] ----------- [x]\n *\n * @param {Point[]} waypoints\n *\n * @return {Point[]}\n */\nfunction withoutRedundantPoints(waypoints) {\n  return waypoints.reduce(function(points, p, idx) {\n\n    var previous = points[points.length - 1],\n        next = waypoints[idx + 1];\n\n    if (!(0,_util_Geometry__WEBPACK_IMPORTED_MODULE_2__.pointsOnLine)(previous, next, p, 0)) {\n      points.push(p);\n    }\n\n    return points;\n  }, []);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvbGF5b3V0L01hbmhhdHRhbkxheW91dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUtrQjs7QUFLSTs7QUFPSTs7QUFFMUI7QUFDQSxhQUFhLCtCQUErQjtBQUM1QyxhQUFhLDhCQUE4QjtBQUMzQzs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLG9CQUFvQiwyREFBYzs7QUFFbEM7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxzQ0FBc0Msa0JBQWtCLElBQUk7O0FBRTVEO0FBQ0EsSUFBSTtBQUNKOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxpQkFBaUI7QUFDaEM7O0FBRUE7QUFDQTtBQUNBLGVBQWUsaUJBQWlCO0FBQ2hDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUJBQWlCO0FBQ3pCLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUJBQWlCO0FBQ3pCLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixhQUFhO0FBQ3hDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsUUFBUTtBQUNuQixhQUFhLFVBQVUsRUFBRSxVQUFVO0FBQ25DO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDTzs7QUFFUDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLE1BQU07QUFDakIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQixXQUFXLGVBQWU7QUFDMUIsV0FBVyxlQUFlO0FBQzFCO0FBQ0EsWUFBWSxTQUFTO0FBQ3JCO0FBQ087O0FBRVA7O0FBRUEsd0JBQXdCLGlEQUFPOztBQUUvQjs7QUFFQSxvQkFBb0IsMkRBQWM7O0FBRWxDOztBQUVBLG1CQUFtQixtREFBTTtBQUN6QixlQUFlLG1EQUFNOztBQUVyQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLE1BQU07QUFDakIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsWUFBWSxTQUFTO0FBQ3JCO0FBQ087O0FBRVAsTUFBTSxpREFBTztBQUNiO0FBQ0E7O0FBRUEsWUFBWSxtREFBTTtBQUNsQixVQUFVLG1EQUFNO0FBQ2hCOztBQUVBLFVBQVUsZ0RBQU0sR0FBRyxzQkFBc0I7QUFDekM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLE1BQU07QUFDakIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ087QUFDUCxlQUFlO0FBQ2Y7QUFDQTs7QUFFQSxnQkFBZ0IsMkRBQWM7O0FBRTlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQUk7O0FBRUo7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLE1BQU07QUFDakIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsU0FBUztBQUNwQjtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsT0FBTztBQUNsQixXQUFXLFNBQVM7QUFDcEI7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsTUFBTTtBQUNqQixXQUFXLE9BQU87QUFDbEIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsWUFBWSxTQUFTO0FBQ3JCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLDhDQUFJO0FBQ2pCOztBQUVBLGtCQUFrQiw2REFBYTtBQUMvQixLQUFLO0FBQ0w7O0FBRUE7O0FBRUEsb0JBQW9CLDZEQUFhOztBQUVqQztBQUNBOztBQUVBO0FBQ0EsZUFBZTtBQUNmOztBQUVBO0FBQ0EsZUFBZTtBQUNmOztBQUVBLGFBQWE7QUFDYjs7QUFFQTtBQUNBOztBQUVBLGdDQUFnQyxTQUFTOztBQUV6QztBQUNBLFVBQVUsMkRBQVc7QUFDckIsVUFBVSwyREFBVzs7QUFFckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQiw2REFBYTtBQUNoQztBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLCtCQUErQjtBQUMvQjtBQUNBLHNDQUFzQztBQUN0QyxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQSxZQUFZO0FBQ1o7QUFDTztBQUNQOztBQUVBO0FBQ0E7O0FBRUEsU0FBUyw0REFBWTtBQUNyQjtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2xheW91dC9NYW5oYXR0YW5MYXlvdXQuanM/ZDVlYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBhc3NpZ24sXG4gIGZpbmQsXG4gIGlzQXJyYXksXG4gIHdpdGhvdXRcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5pbXBvcnQge1xuICBnZXRPcmllbnRhdGlvbixcbiAgZ2V0TWlkXG59IGZyb20gJy4vTGF5b3V0VXRpbCc7XG5cbmltcG9ydCB7XG4gIHBvaW50SW5SZWN0LFxuICBwb2ludERpc3RhbmNlLFxuICBwb2ludHNBbGlnbmVkLFxuICBwb2ludHNPbkxpbmVcbn0gZnJvbSAnLi4vdXRpbC9HZW9tZXRyeSc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vdXRpbC9UeXBlcycpLlBvaW50fSBQb2ludFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vdXRpbC9UeXBlcycpLlJlY3R9IFJlY3RcbiAqL1xuXG52YXIgTUlOX1NFR01FTlRfTEVOR1RIID0gMjAsXG4gICAgUE9JTlRfT1JJRU5UQVRJT05fUEFERElORyA9IDU7XG5cbnZhciByb3VuZCA9IE1hdGgucm91bmQ7XG5cbnZhciBJTlRFUlNFQ1RJT05fVEhSRVNIT0xEID0gMjAsXG4gICAgT1JJRU5UQVRJT05fVEhSRVNIT0xEID0ge1xuICAgICAgJ2g6aCc6IDIwLFxuICAgICAgJ3Y6dic6IDIwLFxuICAgICAgJ2g6dic6IC0xMCxcbiAgICAgICd2OmgnOiAtMTBcbiAgICB9O1xuXG5mdW5jdGlvbiBuZWVkc1R1cm4ob3JpZW50YXRpb24sIHN0YXJ0RGlyZWN0aW9uKSB7XG4gIHJldHVybiAhe1xuICAgIHQ6IC90b3AvLFxuICAgIHI6IC9yaWdodC8sXG4gICAgYjogL2JvdHRvbS8sXG4gICAgbDogL2xlZnQvLFxuICAgIGg6IC8uLyxcbiAgICB2OiAvLi9cbiAgfVtzdGFydERpcmVjdGlvbl0udGVzdChvcmllbnRhdGlvbik7XG59XG5cbmZ1bmN0aW9uIGNhbkxheW91dFN0cmFpZ2h0KGRpcmVjdGlvbiwgdGFyZ2V0T3JpZW50YXRpb24pIHtcbiAgcmV0dXJuIHtcbiAgICB0OiAvdG9wLyxcbiAgICByOiAvcmlnaHQvLFxuICAgIGI6IC9ib3R0b20vLFxuICAgIGw6IC9sZWZ0LyxcbiAgICBoOiAvbGVmdHxyaWdodC8sXG4gICAgdjogL3RvcHxib3R0b20vXG4gIH1bZGlyZWN0aW9uXS50ZXN0KHRhcmdldE9yaWVudGF0aW9uKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2VnbWVudEJlbmRwb2ludHMoYSwgYiwgZGlyZWN0aW9ucykge1xuICB2YXIgb3JpZW50YXRpb24gPSBnZXRPcmllbnRhdGlvbihiLCBhLCBQT0lOVF9PUklFTlRBVElPTl9QQURESU5HKTtcblxuICB2YXIgc3RhcnREaXJlY3Rpb24gPSBkaXJlY3Rpb25zLnNwbGl0KCc6JylbMF07XG5cbiAgdmFyIHhtaWQgPSByb3VuZCgoYi54IC0gYS54KSAvIDIgKyBhLngpLFxuICAgICAgeW1pZCA9IHJvdW5kKChiLnkgLSBhLnkpIC8gMiArIGEueSk7XG5cbiAgdmFyIHNlZ21lbnRFbmQsIHNlZ21lbnREaXJlY3Rpb25zO1xuXG4gIHZhciBsYXlvdXRTdHJhaWdodCA9IGNhbkxheW91dFN0cmFpZ2h0KHN0YXJ0RGlyZWN0aW9uLCBvcmllbnRhdGlvbiksXG4gICAgICBsYXlvdXRIb3Jpem9udGFsID0gL2h8cnxsLy50ZXN0KHN0YXJ0RGlyZWN0aW9uKSxcbiAgICAgIGxheW91dFR1cm4gPSBmYWxzZTtcblxuICB2YXIgdHVybk5leHREaXJlY3Rpb25zID0gZmFsc2U7XG5cbiAgaWYgKGxheW91dFN0cmFpZ2h0KSB7XG4gICAgc2VnbWVudEVuZCA9IGxheW91dEhvcml6b250YWwgPyB7IHg6IHhtaWQsIHk6IGEueSB9IDogeyB4OiBhLngsIHk6IHltaWQgfTtcblxuICAgIHNlZ21lbnREaXJlY3Rpb25zID0gbGF5b3V0SG9yaXpvbnRhbCA/ICdoOmgnIDogJ3Y6dic7XG4gIH0gZWxzZSB7XG4gICAgbGF5b3V0VHVybiA9IG5lZWRzVHVybihvcmllbnRhdGlvbiwgc3RhcnREaXJlY3Rpb24pO1xuXG4gICAgc2VnbWVudERpcmVjdGlvbnMgPSBsYXlvdXRIb3Jpem9udGFsID8gJ2g6dicgOiAndjpoJztcblxuICAgIGlmIChsYXlvdXRUdXJuKSB7XG5cbiAgICAgIGlmIChsYXlvdXRIb3Jpem9udGFsKSB7XG4gICAgICAgIHR1cm5OZXh0RGlyZWN0aW9ucyA9IHltaWQgPT09IGEueTtcblxuICAgICAgICBzZWdtZW50RW5kID0ge1xuICAgICAgICAgIHg6IGEueCArIE1JTl9TRUdNRU5UX0xFTkdUSCAqICgvbC8udGVzdChzdGFydERpcmVjdGlvbikgPyAtMSA6IDEpLFxuICAgICAgICAgIHk6IHR1cm5OZXh0RGlyZWN0aW9ucyA/IHltaWQgKyBNSU5fU0VHTUVOVF9MRU5HVEggOiB5bWlkXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0dXJuTmV4dERpcmVjdGlvbnMgPSB4bWlkID09PSBhLng7XG5cbiAgICAgICAgc2VnbWVudEVuZCA9IHtcbiAgICAgICAgICB4OiB0dXJuTmV4dERpcmVjdGlvbnMgPyB4bWlkICsgTUlOX1NFR01FTlRfTEVOR1RIIDogeG1pZCxcbiAgICAgICAgICB5OiBhLnkgKyBNSU5fU0VHTUVOVF9MRU5HVEggKiAoL3QvLnRlc3Qoc3RhcnREaXJlY3Rpb24pID8gLTEgOiAxKVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIHNlZ21lbnRFbmQgPSB7XG4gICAgICAgIHg6IHhtaWQsXG4gICAgICAgIHk6IHltaWRcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB3YXlwb2ludHM6IGdldEJlbmRwb2ludHMoYSwgc2VnbWVudEVuZCwgc2VnbWVudERpcmVjdGlvbnMpLmNvbmNhdChzZWdtZW50RW5kKSxcbiAgICBkaXJlY3Rpb25zOiAgc2VnbWVudERpcmVjdGlvbnMsXG4gICAgdHVybk5leHREaXJlY3Rpb25zOiB0dXJuTmV4dERpcmVjdGlvbnNcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0U3RhcnRTZWdtZW50KGEsIGIsIGRpcmVjdGlvbnMpIHtcbiAgcmV0dXJuIGdldFNlZ21lbnRCZW5kcG9pbnRzKGEsIGIsIGRpcmVjdGlvbnMpO1xufVxuXG5mdW5jdGlvbiBnZXRFbmRTZWdtZW50KGEsIGIsIGRpcmVjdGlvbnMpIHtcbiAgdmFyIGludmVydGVkU2VnbWVudCA9IGdldFNlZ21lbnRCZW5kcG9pbnRzKGIsIGEsIGludmVydERpcmVjdGlvbnMoZGlyZWN0aW9ucykpO1xuXG4gIHJldHVybiB7XG4gICAgd2F5cG9pbnRzOiBpbnZlcnRlZFNlZ21lbnQud2F5cG9pbnRzLnNsaWNlKCkucmV2ZXJzZSgpLFxuICAgIGRpcmVjdGlvbnM6IGludmVydERpcmVjdGlvbnMoaW52ZXJ0ZWRTZWdtZW50LmRpcmVjdGlvbnMpLFxuICAgIHR1cm5OZXh0RGlyZWN0aW9uczogaW52ZXJ0ZWRTZWdtZW50LnR1cm5OZXh0RGlyZWN0aW9uc1xuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRNaWRTZWdtZW50KHN0YXJ0U2VnbWVudCwgZW5kU2VnbWVudCkge1xuXG4gIHZhciBzdGFydERpcmVjdGlvbiA9IHN0YXJ0U2VnbWVudC5kaXJlY3Rpb25zLnNwbGl0KCc6JylbMV0sXG4gICAgICBlbmREaXJlY3Rpb24gPSBlbmRTZWdtZW50LmRpcmVjdGlvbnMuc3BsaXQoJzonKVswXTtcblxuICBpZiAoc3RhcnRTZWdtZW50LnR1cm5OZXh0RGlyZWN0aW9ucykge1xuICAgIHN0YXJ0RGlyZWN0aW9uID0gc3RhcnREaXJlY3Rpb24gPT0gJ2gnID8gJ3YnIDogJ2gnO1xuICB9XG5cbiAgaWYgKGVuZFNlZ21lbnQudHVybk5leHREaXJlY3Rpb25zKSB7XG4gICAgZW5kRGlyZWN0aW9uID0gZW5kRGlyZWN0aW9uID09ICdoJyA/ICd2JyA6ICdoJztcbiAgfVxuXG4gIHZhciBkaXJlY3Rpb25zID0gc3RhcnREaXJlY3Rpb24gKyAnOicgKyBlbmREaXJlY3Rpb247XG5cbiAgdmFyIGJlbmRwb2ludHMgPSBnZXRCZW5kcG9pbnRzKFxuICAgIHN0YXJ0U2VnbWVudC53YXlwb2ludHNbc3RhcnRTZWdtZW50LndheXBvaW50cy5sZW5ndGggLSAxXSxcbiAgICBlbmRTZWdtZW50LndheXBvaW50c1swXSxcbiAgICBkaXJlY3Rpb25zXG4gICk7XG5cbiAgcmV0dXJuIHtcbiAgICB3YXlwb2ludHM6IGJlbmRwb2ludHMsXG4gICAgZGlyZWN0aW9uczogZGlyZWN0aW9uc1xuICB9O1xufVxuXG5mdW5jdGlvbiBpbnZlcnREaXJlY3Rpb25zKGRpcmVjdGlvbnMpIHtcbiAgcmV0dXJuIGRpcmVjdGlvbnMuc3BsaXQoJzonKS5yZXZlcnNlKCkuam9pbignOicpO1xufVxuXG4vKipcbiAqIEhhbmRsZSBzaW1wbGUgbGF5b3V0cyB3aXRoIG1heGltdW0gdHdvIGJlbmRwb2ludHMuXG4gKi9cbmZ1bmN0aW9uIGdldFNpbXBsZUJlbmRwb2ludHMoYSwgYiwgZGlyZWN0aW9ucykge1xuXG4gIHZhciB4bWlkID0gcm91bmQoKGIueCAtIGEueCkgLyAyICsgYS54KSxcbiAgICAgIHltaWQgPSByb3VuZCgoYi55IC0gYS55KSAvIDIgKyBhLnkpO1xuXG4gIC8vIG9uZSBwb2ludCwgcmlnaHQgb3IgbGVmdCBmcm9tIGFcbiAgaWYgKGRpcmVjdGlvbnMgPT09ICdoOnYnKSB7XG4gICAgcmV0dXJuIFsgeyB4OiBiLngsIHk6IGEueSB9IF07XG4gIH1cblxuICAvLyBvbmUgcG9pbnQsIGFib3ZlIG9yIGJlbG93IGFcbiAgaWYgKGRpcmVjdGlvbnMgPT09ICd2OmgnKSB7XG4gICAgcmV0dXJuIFsgeyB4OiBhLngsIHk6IGIueSB9IF07XG4gIH1cblxuICAvLyB2ZXJ0aWNhbCBzZWdtZW50IGJldHdlZW4gYSBhbmQgYlxuICBpZiAoZGlyZWN0aW9ucyA9PT0gJ2g6aCcpIHtcbiAgICByZXR1cm4gW1xuICAgICAgeyB4OiB4bWlkLCB5OiBhLnkgfSxcbiAgICAgIHsgeDogeG1pZCwgeTogYi55IH1cbiAgICBdO1xuICB9XG5cbiAgLy8gaG9yaXpvbnRhbCBzZWdtZW50IGJldHdlZW4gYSBhbmQgYlxuICBpZiAoZGlyZWN0aW9ucyA9PT0gJ3Y6dicpIHtcbiAgICByZXR1cm4gW1xuICAgICAgeyB4OiBhLngsIHk6IHltaWQgfSxcbiAgICAgIHsgeDogYi54LCB5OiB5bWlkIH1cbiAgICBdO1xuICB9XG5cbiAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGRpcmVjdGlvbnM6IGNhbiBvbmx5IGhhbmRsZSB2YXJpYW5zIG9mIFtodl06W2h2XScpO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgbWlkIHBvaW50cyBmb3IgYSBtYW5oYXR0YW4gY29ubmVjdGlvbiBiZXR3ZWVuIHR3byBwb2ludHMuXG4gKlxuICogQGV4YW1wbGUgaDpoIChob3Jpem9udGFsOmhvcml6b250YWwpXG4gKlxuICogW2FdLS0tLVt4XVxuICogICAgICAgICB8XG4gKiAgICAgICAgW3hdLS0tLVtiXVxuICpcbiAqIEBleGFtcGxlIGg6diAoaG9yaXpvbnRhbDp2ZXJ0aWNhbClcbiAqXG4gKiBbYV0tLS0tW3hdXG4gKiAgICAgICAgIHxcbiAqICAgICAgICBbYl1cbiAqXG4gKiBAZXhhbXBsZSBoOnIgKGhvcml6b250YWw6cmlnaHQpXG4gKlxuICogW2FdLS0tLVt4XVxuICogICAgICAgICB8XG4gKiAgICBbYl0tW3hdXG4gKlxuICogQHBhcmFtIHtQb2ludH0gYVxuICogQHBhcmFtIHtQb2ludH0gYlxuICogQHBhcmFtIHtzdHJpbmd9IGRpcmVjdGlvbnNcbiAqXG4gKiBAcmV0dXJuIHtQb2ludFtdfVxuICovXG5mdW5jdGlvbiBnZXRCZW5kcG9pbnRzKGEsIGIsIGRpcmVjdGlvbnMpIHtcbiAgZGlyZWN0aW9ucyA9IGRpcmVjdGlvbnMgfHwgJ2g6aCc7XG5cbiAgaWYgKCFpc1ZhbGlkRGlyZWN0aW9ucyhkaXJlY3Rpb25zKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICd1bmtub3duIGRpcmVjdGlvbnM6IDwnICsgZGlyZWN0aW9ucyArICc+OiAnICtcbiAgICAgICdtdXN0IGJlIHNwZWNpZmllZCBhcyA8c3RhcnQ+OjxlbmQ+ICcgK1xuICAgICAgJ3dpdGggc3RhcnQvZW5kIGluIHsgaCx2LHQscixiLGwgfSdcbiAgICApO1xuICB9XG5cbiAgLy8gY29tcHV0ZSBleHBsaWNpdCBkaXJlY3Rpb25zLCBpbnZvbHZpbmcgdHJibCBkb2NraW5nc1xuICAvLyB1c2luZyBhIHRocmVlIHNlZ21lbnRlZCBsYXlvdXRpbmcgYWxnb3JpdGhtXG4gIGlmIChpc0V4cGxpY2l0RGlyZWN0aW9ucyhkaXJlY3Rpb25zKSkge1xuICAgIHZhciBzdGFydFNlZ21lbnQgPSBnZXRTdGFydFNlZ21lbnQoYSwgYiwgZGlyZWN0aW9ucyksXG4gICAgICAgIGVuZFNlZ21lbnQgPSBnZXRFbmRTZWdtZW50KGEsIGIsIGRpcmVjdGlvbnMpLFxuICAgICAgICBtaWRTZWdtZW50ID0gZ2V0TWlkU2VnbWVudChzdGFydFNlZ21lbnQsIGVuZFNlZ21lbnQpO1xuXG4gICAgcmV0dXJuIFtdLmNvbmNhdChcbiAgICAgIHN0YXJ0U2VnbWVudC53YXlwb2ludHMsXG4gICAgICBtaWRTZWdtZW50LndheXBvaW50cyxcbiAgICAgIGVuZFNlZ21lbnQud2F5cG9pbnRzXG4gICAgKTtcbiAgfVxuXG4gIC8vIGhhbmRsZSBzaW1wbGUgW2h2XTpbaHZdIGNhc2VzIHRoYXQgY2FuIGJlIGVhc2lseSBjb21wdXRlZFxuICByZXR1cm4gZ2V0U2ltcGxlQmVuZHBvaW50cyhhLCBiLCBkaXJlY3Rpb25zKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBjb25uZWN0aW9uIGJldHdlZW4gdGhlIHR3byBwb2ludHMgYWNjb3JkaW5nXG4gKiB0byB0aGUgbWFuaGF0dGFuIGxheW91dCAob25seSBob3Jpem9udGFsIGFuZCB2ZXJ0aWNhbCkgZWRnZXMuXG4gKlxuICogQHBhcmFtIHtQb2ludH0gYVxuICogQHBhcmFtIHtQb2ludH0gYlxuICogQHBhcmFtIHtzdHJpbmd9IFtkaXJlY3Rpb25zPSdoOmgnXSBTcGVjaWZpZXMgbWFuaGF0dGFuIGRpcmVjdGlvbnMgZm9yIGVhY2hcbiAqIHBvaW50IGFzIHtkaXJlY3Rpb259OntkaXJlY3Rpb259LiBBIGRpcmVjdGlvbiBmb3IgYSBwb2ludCBpcyBlaXRoZXJcbiAqIGBoYCAoaG9yaXpvbnRhbCkgb3IgYHZgICh2ZXJ0aWNhbCkuXG4gKlxuICogQHJldHVybiB7UG9pbnRbXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbm5lY3RQb2ludHMoYSwgYiwgZGlyZWN0aW9ucykge1xuXG4gIHZhciBwb2ludHMgPSBnZXRCZW5kcG9pbnRzKGEsIGIsIGRpcmVjdGlvbnMpO1xuXG4gIHBvaW50cy51bnNoaWZ0KGEpO1xuICBwb2ludHMucHVzaChiKTtcblxuICByZXR1cm4gd2l0aG91dFJlZHVuZGFudFBvaW50cyhwb2ludHMpO1xufVxuXG5cbi8qKlxuICogQ29ubmVjdCB0d28gcmVjdGFuZ2xlcyB1c2luZyBhIG1hbmhhdHRhbiBsYXlvdXRlZCBjb25uZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7UmVjdH0gc291cmNlIHNvdXJjZSByZWN0YW5nbGVcbiAqIEBwYXJhbSB7UmVjdH0gdGFyZ2V0IHRhcmdldCByZWN0YW5nbGVcbiAqIEBwYXJhbSB7UG9pbnR9IFtzdGFydF0gc291cmNlIGRvY2tpbmdcbiAqIEBwYXJhbSB7UG9pbnR9IFtlbmRdIHRhcmdldCBkb2NraW5nXG4gKiBAcGFyYW0ge09iamVjdH0gW2hpbnRzXVxuICogQHBhcmFtIHtzdHJpbmd9IFtoaW50cy5wcmVzZXJ2ZURvY2tpbmc9c291cmNlXSBwcmVzZXJ2ZSBkb2NraW5nIG9uIHNlbGVjdGVkIHNpZGVcbiAqIEBwYXJhbSB7c3RyaW5nW119IFtoaW50cy5wcmVmZXJyZWRMYXlvdXRzXVxuICogQHBhcmFtIHtQb2ludHxib29sZWFufSBbaGludHMuY29ubmVjdGlvblN0YXJ0XSB3aGV0aGVyIHRoZSBzdGFydCBjaGFuZ2VkXG4gKiBAcGFyYW0ge1BvaW50fGJvb2xlYW59IFtoaW50cy5jb25uZWN0aW9uRW5kXSB3aGV0aGVyIHRoZSBlbmQgY2hhbmdlZFxuICpcbiAqIEByZXR1cm4ge1BvaW50W119IGNvbm5lY3Rpb24gcG9pbnRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb25uZWN0UmVjdGFuZ2xlcyhzb3VyY2UsIHRhcmdldCwgc3RhcnQsIGVuZCwgaGludHMpIHtcblxuICB2YXIgcHJlZmVycmVkTGF5b3V0cyA9IGhpbnRzICYmIGhpbnRzLnByZWZlcnJlZExheW91dHMgfHwgW107XG5cbiAgdmFyIHByZWZlcnJlZExheW91dCA9IHdpdGhvdXQocHJlZmVycmVkTGF5b3V0cywgJ3N0cmFpZ2h0JylbMF0gfHwgJ2g6aCc7XG5cbiAgdmFyIHRocmVzaG9sZCA9IE9SSUVOVEFUSU9OX1RIUkVTSE9MRFtwcmVmZXJyZWRMYXlvdXRdIHx8IDA7XG5cbiAgdmFyIG9yaWVudGF0aW9uID0gZ2V0T3JpZW50YXRpb24oc291cmNlLCB0YXJnZXQsIHRocmVzaG9sZCk7XG5cbiAgdmFyIGRpcmVjdGlvbnMgPSBnZXREaXJlY3Rpb25zKG9yaWVudGF0aW9uLCBwcmVmZXJyZWRMYXlvdXQpO1xuXG4gIHN0YXJ0ID0gc3RhcnQgfHwgZ2V0TWlkKHNvdXJjZSk7XG4gIGVuZCA9IGVuZCB8fCBnZXRNaWQodGFyZ2V0KTtcblxuICB2YXIgZGlyZWN0aW9uU3BsaXQgPSBkaXJlY3Rpb25zLnNwbGl0KCc6Jyk7XG5cbiAgLy8gY29tcHV0ZSBhY3R1YWwgZG9ja2luZyBwb2ludHMgZm9yIHN0YXJ0IC8gZW5kXG4gIC8vIHRoaXMgZW5zdXJlcyB3ZSBwcm9wZXJseSBsYXlvdXQgb25seSBwYXJ0cyBvZiB0aGVcbiAgLy8gY29ubmVjdGlvbiB0aGF0IGxpZXMgaW4gYmV0d2VlbiB0aGUgdHdvIHJlY3RhbmdsZXNcbiAgdmFyIHN0YXJ0RG9ja2luZyA9IGdldERvY2tpbmdQb2ludChzdGFydCwgc291cmNlLCBkaXJlY3Rpb25TcGxpdFswXSwgaW52ZXJ0T3JpZW50YXRpb24ob3JpZW50YXRpb24pKSxcbiAgICAgIGVuZERvY2tpbmcgPSBnZXREb2NraW5nUG9pbnQoZW5kLCB0YXJnZXQsIGRpcmVjdGlvblNwbGl0WzFdLCBvcmllbnRhdGlvbik7XG5cbiAgcmV0dXJuIGNvbm5lY3RQb2ludHMoc3RhcnREb2NraW5nLCBlbmREb2NraW5nLCBkaXJlY3Rpb25zKTtcbn1cblxuXG4vKipcbiAqIFJlcGFpciB0aGUgY29ubmVjdGlvbiBiZXR3ZWVuIHR3byByZWN0YW5nbGVzLCBvZiB3aGljaCBvbmUgaGFzIGJlZW4gdXBkYXRlZC5cbiAqXG4gKiBAcGFyYW0ge1JlY3R9IHNvdXJjZVxuICogQHBhcmFtIHtSZWN0fSB0YXJnZXRcbiAqIEBwYXJhbSB7UG9pbnR9IFtzdGFydF1cbiAqIEBwYXJhbSB7UG9pbnR9IFtlbmRdXG4gKiBAcGFyYW0ge1BvaW50W119IFt3YXlwb2ludHNdXG4gKiBAcGFyYW0ge09iamVjdH0gW2hpbnRzXVxuICogQHBhcmFtIHtzdHJpbmdbXX0gW2hpbnRzLnByZWZlcnJlZExheW91dHNdIFRoZSBsaXN0IG9mIHByZWZlcnJlZCBsYXlvdXRzLlxuICogQHBhcmFtIHtib29sZWFufSBbaGludHMuY29ubmVjdGlvblN0YXJ0XVxuICogQHBhcmFtIHtib29sZWFufSBbaGludHMuY29ubmVjdGlvbkVuZF1cbiAqXG4gKiBAcmV0dXJuIHtQb2ludFtdfSBUaGUgd2F5cG9pbnRzIG9mIHRoZSByZXBhaXJlZCBjb25uZWN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVwYWlyQ29ubmVjdGlvbihzb3VyY2UsIHRhcmdldCwgc3RhcnQsIGVuZCwgd2F5cG9pbnRzLCBoaW50cykge1xuXG4gIGlmIChpc0FycmF5KHN0YXJ0KSkge1xuICAgIHdheXBvaW50cyA9IHN0YXJ0O1xuICAgIGhpbnRzID0gZW5kO1xuXG4gICAgc3RhcnQgPSBnZXRNaWQoc291cmNlKTtcbiAgICBlbmQgPSBnZXRNaWQodGFyZ2V0KTtcbiAgfVxuXG4gIGhpbnRzID0gYXNzaWduKHsgcHJlZmVycmVkTGF5b3V0czogW10gfSwgaGludHMpO1xuICB3YXlwb2ludHMgPSB3YXlwb2ludHMgfHwgW107XG5cbiAgdmFyIHByZWZlcnJlZExheW91dHMgPSBoaW50cy5wcmVmZXJyZWRMYXlvdXRzLFxuICAgICAgcHJlZmVyU3RyYWlnaHQgPSBwcmVmZXJyZWRMYXlvdXRzLmluZGV4T2YoJ3N0cmFpZ2h0JykgIT09IC0xLFxuICAgICAgcmVwYWlyZWRXYXlwb2ludHM7XG5cbiAgLy8ganVzdCBsYXlvdXQgbm9uLWV4aXN0aW5nIG9yIHNpbXBsZSBjb25uZWN0aW9uc1xuICAvLyBhdHRlbXB0IHRvIHJlbmRlciBzdHJhaWdodCBsaW5lcywgaWYgcmVxdWlyZWRcblxuICAvLyBhdHRlbXB0IHRvIGxheW91dCBhIHN0cmFpZ2h0IGxpbmVcbiAgcmVwYWlyZWRXYXlwb2ludHMgPSBwcmVmZXJTdHJhaWdodCAmJiB0cnlMYXlvdXRTdHJhaWdodChzb3VyY2UsIHRhcmdldCwgc3RhcnQsIGVuZCwgaGludHMpO1xuXG4gIGlmIChyZXBhaXJlZFdheXBvaW50cykge1xuICAgIHJldHVybiByZXBhaXJlZFdheXBvaW50cztcbiAgfVxuXG4gIC8vIHRyeSB0byBsYXlvdXQgZnJvbSBlbmRcbiAgcmVwYWlyZWRXYXlwb2ludHMgPSBoaW50cy5jb25uZWN0aW9uRW5kICYmIHRyeVJlcGFpckNvbm5lY3Rpb25FbmQodGFyZ2V0LCBzb3VyY2UsIGVuZCwgd2F5cG9pbnRzKTtcblxuICBpZiAocmVwYWlyZWRXYXlwb2ludHMpIHtcbiAgICByZXR1cm4gcmVwYWlyZWRXYXlwb2ludHM7XG4gIH1cblxuICAvLyB0cnkgdG8gbGF5b3V0IGZyb20gc3RhcnRcbiAgcmVwYWlyZWRXYXlwb2ludHMgPSBoaW50cy5jb25uZWN0aW9uU3RhcnQgJiYgdHJ5UmVwYWlyQ29ubmVjdGlvblN0YXJ0KHNvdXJjZSwgdGFyZ2V0LCBzdGFydCwgd2F5cG9pbnRzKTtcblxuICBpZiAocmVwYWlyZWRXYXlwb2ludHMpIHtcbiAgICByZXR1cm4gcmVwYWlyZWRXYXlwb2ludHM7XG4gIH1cblxuICAvLyBvciB3aGV0aGVyIG5vdGhpbmcgc2VlbXMgdG8gaGF2ZSBjaGFuZ2VkXG4gIGlmICghaGludHMuY29ubmVjdGlvblN0YXJ0ICYmICFoaW50cy5jb25uZWN0aW9uRW5kICYmIHdheXBvaW50cyAmJiB3YXlwb2ludHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHdheXBvaW50cztcbiAgfVxuXG4gIC8vIHNpbXBseSByZWNvbm5lY3QgaWYgbm90aGluZyBlbHNlIHdvcmtlZFxuICByZXR1cm4gY29ubmVjdFJlY3RhbmdsZXMoc291cmNlLCB0YXJnZXQsIHN0YXJ0LCBlbmQsIGhpbnRzKTtcbn1cblxuXG5mdW5jdGlvbiBpblJhbmdlKGEsIHN0YXJ0LCBlbmQpIHtcbiAgcmV0dXJuIGEgPj0gc3RhcnQgJiYgYSA8PSBlbmQ7XG59XG5cbmZ1bmN0aW9uIGlzSW5SYW5nZShheGlzLCBhLCBiKSB7XG4gIHZhciBzaXplID0ge1xuICAgIHg6ICd3aWR0aCcsXG4gICAgeTogJ2hlaWdodCdcbiAgfTtcblxuICByZXR1cm4gaW5SYW5nZShhW2F4aXNdLCBiW2F4aXNdLCBiW2F4aXNdICsgYltzaXplW2F4aXNdXSk7XG59XG5cbi8qKlxuICogTGF5IG91dCBhIHN0cmFpZ2h0IGNvbm5lY3Rpb24uXG4gKlxuICogQHBhcmFtIHtSZWN0fSBzb3VyY2VcbiAqIEBwYXJhbSB7UmVjdH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1BvaW50fSBzdGFydFxuICogQHBhcmFtIHtQb2ludH0gZW5kXG4gKiBAcGFyYW0ge09iamVjdH0gW2hpbnRzXVxuICogQHBhcmFtIHtzdHJpbmd9IFtoaW50cy5wcmVzZXJ2ZURvY2tpbmddXG4gKlxuICogQHJldHVybiB7UG9pbnRbXXxudWxsfSBUaGUgd2F5cG9pbnRzIG9yIG51bGwgaWYgbGF5b3V0IGlzbid0IHBvc3NpYmxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJ5TGF5b3V0U3RyYWlnaHQoc291cmNlLCB0YXJnZXQsIHN0YXJ0LCBlbmQsIGhpbnRzKSB7XG4gIHZhciBheGlzID0ge30sXG4gICAgICBwcmltYXJ5QXhpcyxcbiAgICAgIG9yaWVudGF0aW9uO1xuXG4gIG9yaWVudGF0aW9uID0gZ2V0T3JpZW50YXRpb24oc291cmNlLCB0YXJnZXQpO1xuXG4gIC8vIG9ubHkgbGF5b3V0IGEgc3RyYWlnaHQgY29ubmVjdGlvbiBpZiBzaGFwZXMgYXJlXG4gIC8vIGhvcml6b250YWxseSBvciB2ZXJ0aWNhbGx5IGFsaWduZWRcbiAgaWYgKCEvXih0b3B8Ym90dG9tfGxlZnR8cmlnaHQpJC8udGVzdChvcmllbnRhdGlvbikpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmICgvdG9wfGJvdHRvbS8udGVzdChvcmllbnRhdGlvbikpIHtcbiAgICBwcmltYXJ5QXhpcyA9ICd4JztcbiAgfVxuXG4gIGlmICgvbGVmdHxyaWdodC8udGVzdChvcmllbnRhdGlvbikpIHtcbiAgICBwcmltYXJ5QXhpcyA9ICd5JztcbiAgfVxuXG4gIGlmIChoaW50cy5wcmVzZXJ2ZURvY2tpbmcgPT09ICd0YXJnZXQnKSB7XG5cbiAgICBpZiAoIWlzSW5SYW5nZShwcmltYXJ5QXhpcywgZW5kLCBzb3VyY2UpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBheGlzW3ByaW1hcnlBeGlzXSA9IGVuZFtwcmltYXJ5QXhpc107XG5cbiAgICByZXR1cm4gW1xuICAgICAge1xuICAgICAgICB4OiBheGlzLnggIT09IHVuZGVmaW5lZCA/IGF4aXMueCA6IHN0YXJ0LngsXG4gICAgICAgIHk6IGF4aXMueSAhPT0gdW5kZWZpbmVkID8gYXhpcy55IDogc3RhcnQueSxcbiAgICAgICAgb3JpZ2luYWw6IHtcbiAgICAgICAgICB4OiBheGlzLnggIT09IHVuZGVmaW5lZCA/IGF4aXMueCA6IHN0YXJ0LngsXG4gICAgICAgICAgeTogYXhpcy55ICE9PSB1bmRlZmluZWQgPyBheGlzLnkgOiBzdGFydC55XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHg6IGVuZC54LFxuICAgICAgICB5OiBlbmQueVxuICAgICAgfVxuICAgIF07XG5cbiAgfSBlbHNlIHtcblxuICAgIGlmICghaXNJblJhbmdlKHByaW1hcnlBeGlzLCBzdGFydCwgdGFyZ2V0KSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgYXhpc1twcmltYXJ5QXhpc10gPSBzdGFydFtwcmltYXJ5QXhpc107XG5cbiAgICByZXR1cm4gW1xuICAgICAge1xuICAgICAgICB4OiBzdGFydC54LFxuICAgICAgICB5OiBzdGFydC55XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB4OiBheGlzLnggIT09IHVuZGVmaW5lZCA/IGF4aXMueCA6IGVuZC54LFxuICAgICAgICB5OiBheGlzLnkgIT09IHVuZGVmaW5lZCA/IGF4aXMueSA6IGVuZC55LFxuICAgICAgICBvcmlnaW5hbDoge1xuICAgICAgICAgIHg6IGF4aXMueCAhPT0gdW5kZWZpbmVkID8gYXhpcy54IDogZW5kLngsXG4gICAgICAgICAgeTogYXhpcy55ICE9PSB1bmRlZmluZWQgPyBheGlzLnkgOiBlbmQueVxuICAgICAgICB9XG4gICAgICB9XG4gICAgXTtcbiAgfVxuXG59XG5cbi8qKlxuICogUmVwYWlyIGEgY29ubmVjdGlvbiBmcm9tIHN0YXJ0LlxuICpcbiAqIEBwYXJhbSB7UmVjdH0gbW92ZWRcbiAqIEBwYXJhbSB7UmVjdH0gb3RoZXJcbiAqIEBwYXJhbSB7UG9pbnR9IG5ld0RvY2tpbmdcbiAqIEBwYXJhbSB7UG9pbnRbXX0gcG9pbnRzIG9yaWdpbmFsUG9pbnRzIGZyb20gbW92ZWQgdG8gb3RoZXJcbiAqXG4gKiBAcmV0dXJuIHtQb2ludFtdfG51bGx9IFRoZSB3YXlwb2ludHMgb2YgdGhlIHJlcGFpcmVkIGNvbm5lY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIHRyeVJlcGFpckNvbm5lY3Rpb25TdGFydChtb3ZlZCwgb3RoZXIsIG5ld0RvY2tpbmcsIHBvaW50cykge1xuICByZXR1cm4gX3RyeVJlcGFpckNvbm5lY3Rpb25TaWRlKG1vdmVkLCBvdGhlciwgbmV3RG9ja2luZywgcG9pbnRzKTtcbn1cblxuLyoqXG4gKiBSZXBhaXIgYSBjb25uZWN0aW9uIGZyb20gZW5kLlxuICpcbiAqIEBwYXJhbSB7UmVjdH0gbW92ZWRcbiAqIEBwYXJhbSB7UmVjdH0gb3RoZXJcbiAqIEBwYXJhbSB7UG9pbnR9IG5ld0RvY2tpbmdcbiAqIEBwYXJhbSB7UG9pbnRbXX0gcG9pbnRzIG9yaWdpbmFsUG9pbnRzIGZyb20gbW92ZWQgdG8gb3RoZXJcbiAqXG4gKiBAcmV0dXJuIHtQb2ludFtdfG51bGx9IFRoZSB3YXlwb2ludHMgb2YgdGhlIHJlcGFpcmVkIGNvbm5lY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIHRyeVJlcGFpckNvbm5lY3Rpb25FbmQobW92ZWQsIG90aGVyLCBuZXdEb2NraW5nLCBwb2ludHMpIHtcbiAgdmFyIHdheXBvaW50cyA9IHBvaW50cy5zbGljZSgpLnJldmVyc2UoKTtcblxuICB3YXlwb2ludHMgPSBfdHJ5UmVwYWlyQ29ubmVjdGlvblNpZGUobW92ZWQsIG90aGVyLCBuZXdEb2NraW5nLCB3YXlwb2ludHMpO1xuXG4gIHJldHVybiB3YXlwb2ludHMgPyB3YXlwb2ludHMucmV2ZXJzZSgpIDogbnVsbDtcbn1cblxuLyoqXG4gKiBSZXBhaXIgYSBjb25uZWN0aW9uIGZyb20gb25lIHNpZGUgdGhhdCBtb3ZlZC5cbiAqXG4gKiBAcGFyYW0ge1JlY3R9IG1vdmVkXG4gKiBAcGFyYW0ge1JlY3R9IG90aGVyXG4gKiBAcGFyYW0ge1BvaW50fSBuZXdEb2NraW5nXG4gKiBAcGFyYW0ge1BvaW50W119IHBvaW50cyBvcmlnaW5hbFBvaW50cyBmcm9tIG1vdmVkIHRvIG90aGVyXG4gKlxuICogQHJldHVybiB7UG9pbnRbXX0gVGhlIHdheXBvaW50cyBvZiB0aGUgcmVwYWlyZWQgY29ubmVjdGlvbi5cbiAqL1xuZnVuY3Rpb24gX3RyeVJlcGFpckNvbm5lY3Rpb25TaWRlKG1vdmVkLCBvdGhlciwgbmV3RG9ja2luZywgcG9pbnRzKSB7XG5cbiAgZnVuY3Rpb24gbmVlZHNSZWxheW91dChwb2ludHMpIHtcbiAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDMpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChwb2ludHMubGVuZ3RoID4gNCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIHJlbGF5b3V0IGlmIHR3byBwb2ludHMgb3ZlcmxhcFxuICAgIC8vIHRoaXMgaXMgbW9zdCBsaWtlbHkgZHVlIHRvXG4gICAgcmV0dXJuICEhZmluZChwb2ludHMsIGZ1bmN0aW9uKHAsIGlkeCkge1xuICAgICAgdmFyIHEgPSBwb2ludHNbaWR4IC0gMV07XG5cbiAgICAgIHJldHVybiBxICYmIHBvaW50RGlzdGFuY2UocCwgcSkgPCAzO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVwYWlyQmVuZHBvaW50KGNhbmRpZGF0ZSwgb2xkUGVlciwgbmV3UGVlcikge1xuXG4gICAgdmFyIGFsaWdubWVudCA9IHBvaW50c0FsaWduZWQob2xkUGVlciwgY2FuZGlkYXRlKTtcblxuICAgIHN3aXRjaCAoYWxpZ25tZW50KSB7XG4gICAgY2FzZSAndic6XG5cbiAgICAgIC8vIHJlcGFpciBob3Jpem9udGFsIGFsaWdubWVudFxuICAgICAgcmV0dXJuIHsgeDogbmV3UGVlci54LCB5OiBjYW5kaWRhdGUueSB9O1xuICAgIGNhc2UgJ2gnOlxuXG4gICAgICAvLyByZXBhaXIgdmVydGljYWwgYWxpZ25tZW50XG4gICAgICByZXR1cm4geyB4OiBjYW5kaWRhdGUueCwgeTogbmV3UGVlci55IH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgeDogY2FuZGlkYXRlLngsIHk6IGNhbmRpZGF0ZS4geSB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlT3ZlcmxhcHBpbmcocG9pbnRzLCBhLCBiKSB7XG4gICAgdmFyIGk7XG5cbiAgICBmb3IgKGkgPSBwb2ludHMubGVuZ3RoIC0gMjsgaSAhPT0gMDsgaS0tKSB7XG5cbiAgICAgIC8vIGludGVyc2VjdHMgKD8pIGJyZWFrLCByZW1vdmUgYWxsIGJlbmRwb2ludHMgdXAgdG8gdGhpcyBvbmUgYW5kIHJlbGF5b3V0XG4gICAgICBpZiAocG9pbnRJblJlY3QocG9pbnRzW2ldLCBhLCBJTlRFUlNFQ1RJT05fVEhSRVNIT0xEKSB8fFxuICAgICAgICAgIHBvaW50SW5SZWN0KHBvaW50c1tpXSwgYiwgSU5URVJTRUNUSU9OX1RIUkVTSE9MRCkpIHtcblxuICAgICAgICAvLyByZXR1cm4gc2xpY2VkIG9sZCBjb25uZWN0aW9uXG4gICAgICAgIHJldHVybiBwb2ludHMuc2xpY2UoaSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvaW50cztcbiAgfVxuXG4gIC8vICgwKSBvbmx5IHJlcGFpciB3aGF0IGhhcyBsYXlvdXRhYmxlIGJlbmRwb2ludHNcblxuICAvLyAoMSkgaWYgb25seSBvbmUgYmVuZHBvaW50IGFuZCBvbiBzaGFwZSBtb3ZlZCBvbnRvIG90aGVyIHNoYXBlcyBheGlzXG4gIC8vICAgICAoaG9yaXpvbnRhbGx5IC8gdmVydGljYWxseSksIHJlbGF5b3V0XG5cbiAgaWYgKG5lZWRzUmVsYXlvdXQocG9pbnRzKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIG9sZERvY2tpbmcgPSBwb2ludHNbMF0sXG4gICAgICBuZXdQb2ludHMgPSBwb2ludHMuc2xpY2UoKSxcbiAgICAgIHNsaWNlZFBvaW50cztcblxuICAvLyAoMikgcmVwYWlyIG9ubHkgbGFzdCBsaW5lIHNlZ21lbnQgYW5kIG9ubHkgaWYgaXQgd2FzIGxheW91dGVkIGJlZm9yZVxuXG4gIG5ld1BvaW50c1swXSA9IG5ld0RvY2tpbmc7XG4gIG5ld1BvaW50c1sxXSA9IHJlcGFpckJlbmRwb2ludChuZXdQb2ludHNbMV0sIG9sZERvY2tpbmcsIG5ld0RvY2tpbmcpO1xuXG5cbiAgLy8gKDMpIGlmIHNoYXBlIGludGVyc2VjdHMgd2l0aCBhbnkgYmVuZHBvaW50IGFmdGVyIHJlcGFpcixcbiAgLy8gICAgIHJlbW92ZSBhbGwgc2VnbWVudHMgdXAgdG8gdGhpcyBiZW5kcG9pbnQgYW5kIHJlcGFpciBmcm9tIHRoZXJlXG4gIHNsaWNlZFBvaW50cyA9IHJlbW92ZU92ZXJsYXBwaW5nKG5ld1BvaW50cywgbW92ZWQsIG90aGVyKTtcblxuICBpZiAoc2xpY2VkUG9pbnRzICE9PSBuZXdQb2ludHMpIHtcbiAgICBuZXdQb2ludHMgPSBfdHJ5UmVwYWlyQ29ubmVjdGlvblNpZGUobW92ZWQsIG90aGVyLCBuZXdEb2NraW5nLCBzbGljZWRQb2ludHMpO1xuICB9XG5cbiAgLy8gKDQpIGRvIE5PVCByZXBhaXIgaWYgcmVwYWlyZWQgYmVuZHBvaW50cyBhcmUgYWxpZ25lZFxuICBpZiAobmV3UG9pbnRzICYmIHBvaW50c0FsaWduZWQobmV3UG9pbnRzKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIG5ld1BvaW50cztcbn1cblxuXG4vKipcbiAqIFJldHVybnMgdGhlIG1hbmhhdHRhbiBkaXJlY3Rpb25zIGNvbm5lY3RpbmcgdHdvIHJlY3RhbmdsZXNcbiAqIHdpdGggdGhlIGdpdmVuIG9yaWVudGF0aW9uLlxuICpcbiAqIFdpbGwgYWx3YXlzIHJldHVybiB0aGUgZGVmYXVsdCBsYXlvdXQsIGlmIGl0IGlzIHNwZWNpZmljXG4gKiByZWdhcmRpbmcgc2lkZXMgYWxyZWFkeSAodHJibCkuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBnZXREaXJlY3Rpb25zKCd0b3AnKTsgLy8gLT4gJ3Y6didcbiAqIGdldERpcmVjdGlvbnMoJ2ludGVyc2VjdCcpOyAvLyAtPiAndDp0J1xuICpcbiAqIGdldERpcmVjdGlvbnMoJ3RvcC1yaWdodCcsICd2OmgnKTsgLy8gLT4gJ3Y6aCdcbiAqIGdldERpcmVjdGlvbnMoJ3RvcC1yaWdodCcsICdoOmgnKTsgLy8gLT4gJ2g6aCdcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBvcmllbnRhdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IGRlZmF1bHRMYXlvdXRcbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldERpcmVjdGlvbnMob3JpZW50YXRpb24sIGRlZmF1bHRMYXlvdXQpIHtcblxuICAvLyBkb24ndCBvdmVycmlkZSBzcGVjaWZpYyB0cmJsIGRpcmVjdGlvbnNcbiAgaWYgKGlzRXhwbGljaXREaXJlY3Rpb25zKGRlZmF1bHRMYXlvdXQpKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRMYXlvdXQ7XG4gIH1cblxuICBzd2l0Y2ggKG9yaWVudGF0aW9uKSB7XG4gIGNhc2UgJ2ludGVyc2VjdCc6XG4gICAgcmV0dXJuICd0OnQnO1xuXG4gIGNhc2UgJ3RvcCc6XG4gIGNhc2UgJ2JvdHRvbSc6XG4gICAgcmV0dXJuICd2OnYnO1xuXG4gIGNhc2UgJ2xlZnQnOlxuICBjYXNlICdyaWdodCc6XG4gICAgcmV0dXJuICdoOmgnO1xuXG4gIC8vICd0b3AtbGVmdCdcbiAgLy8gJ3RvcC1yaWdodCdcbiAgLy8gJ2JvdHRvbS1sZWZ0J1xuICAvLyAnYm90dG9tLXJpZ2h0J1xuICBkZWZhdWx0OlxuICAgIHJldHVybiBkZWZhdWx0TGF5b3V0O1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWREaXJlY3Rpb25zKGRpcmVjdGlvbnMpIHtcbiAgcmV0dXJuIGRpcmVjdGlvbnMgJiYgL15ofHZ8dHxyfGJ8bDpofHZ8dHxyfGJ8bCQvLnRlc3QoZGlyZWN0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIGlzRXhwbGljaXREaXJlY3Rpb25zKGRpcmVjdGlvbnMpIHtcbiAgcmV0dXJuIGRpcmVjdGlvbnMgJiYgL3R8cnxifGwvLnRlc3QoZGlyZWN0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIGludmVydE9yaWVudGF0aW9uKG9yaWVudGF0aW9uKSB7XG4gIHJldHVybiB7XG4gICAgJ3RvcCc6ICdib3R0b20nLFxuICAgICdib3R0b20nOiAndG9wJyxcbiAgICAnbGVmdCc6ICdyaWdodCcsXG4gICAgJ3JpZ2h0JzogJ2xlZnQnLFxuICAgICd0b3AtbGVmdCc6ICdib3R0b20tcmlnaHQnLFxuICAgICdib3R0b20tcmlnaHQnOiAndG9wLWxlZnQnLFxuICAgICd0b3AtcmlnaHQnOiAnYm90dG9tLWxlZnQnLFxuICAgICdib3R0b20tbGVmdCc6ICd0b3AtcmlnaHQnLFxuICB9W29yaWVudGF0aW9uXTtcbn1cblxuZnVuY3Rpb24gZ2V0RG9ja2luZ1BvaW50KHBvaW50LCByZWN0YW5nbGUsIGRvY2tpbmdEaXJlY3Rpb24sIHRhcmdldE9yaWVudGF0aW9uKSB7XG5cbiAgLy8gZW5zdXJlIHdlIGVuZCB1cCB3aXRoIGEgc3BlY2lmaWMgZG9ja2luZyBkaXJlY3Rpb25cbiAgLy8gYmFzZWQgb24gdGhlIHRhcmdldE9yaWVudGF0aW9uLCBpZiA8aHx2PiBpcyBiZWluZyBwYXNzZWRcblxuICBpZiAoZG9ja2luZ0RpcmVjdGlvbiA9PT0gJ2gnKSB7XG4gICAgZG9ja2luZ0RpcmVjdGlvbiA9IC9sZWZ0Ly50ZXN0KHRhcmdldE9yaWVudGF0aW9uKSA/ICdsJyA6ICdyJztcbiAgfVxuXG4gIGlmIChkb2NraW5nRGlyZWN0aW9uID09PSAndicpIHtcbiAgICBkb2NraW5nRGlyZWN0aW9uID0gL3RvcC8udGVzdCh0YXJnZXRPcmllbnRhdGlvbikgPyAndCcgOiAnYic7XG4gIH1cblxuICBpZiAoZG9ja2luZ0RpcmVjdGlvbiA9PT0gJ3QnKSB7XG4gICAgcmV0dXJuIHsgb3JpZ2luYWw6IHBvaW50LCB4OiBwb2ludC54LCB5OiByZWN0YW5nbGUueSB9O1xuICB9XG5cbiAgaWYgKGRvY2tpbmdEaXJlY3Rpb24gPT09ICdyJykge1xuICAgIHJldHVybiB7IG9yaWdpbmFsOiBwb2ludCwgeDogcmVjdGFuZ2xlLnggKyByZWN0YW5nbGUud2lkdGgsIHk6IHBvaW50LnkgfTtcbiAgfVxuXG4gIGlmIChkb2NraW5nRGlyZWN0aW9uID09PSAnYicpIHtcbiAgICByZXR1cm4geyBvcmlnaW5hbDogcG9pbnQsIHg6IHBvaW50LngsIHk6IHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLmhlaWdodCB9O1xuICB9XG5cbiAgaWYgKGRvY2tpbmdEaXJlY3Rpb24gPT09ICdsJykge1xuICAgIHJldHVybiB7IG9yaWdpbmFsOiBwb2ludCwgeDogcmVjdGFuZ2xlLngsIHk6IHBvaW50LnkgfTtcbiAgfVxuXG4gIHRocm93IG5ldyBFcnJvcigndW5leHBlY3RlZCBkb2NraW5nRGlyZWN0aW9uOiA8JyArIGRvY2tpbmdEaXJlY3Rpb24gKyAnPicpO1xufVxuXG5cbi8qKlxuICogUmV0dXJuIGxpc3Qgb2Ygd2F5cG9pbnRzIHdpdGggcmVkdW5kYW50IG9uZXMgZmlsdGVyZWQgb3V0LlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogT3JpZ2luYWwgcG9pbnRzOlxuICpcbiAqICAgW3hdIC0tLS0tIFt4XSAtLS0tLS0gW3hdXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgICAgIFt4XSAtLS0tLSBbeF0gLSBbeF1cbiAqXG4gKiBGaWx0ZXJlZDpcbiAqXG4gKiAgIFt4XSAtLS0tLS0tLS0tLS0tLS0tIFt4XVxuICogICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgICBbeF0gLS0tLS0tLS0tLS0gW3hdXG4gKlxuICogQHBhcmFtIHtQb2ludFtdfSB3YXlwb2ludHNcbiAqXG4gKiBAcmV0dXJuIHtQb2ludFtdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gd2l0aG91dFJlZHVuZGFudFBvaW50cyh3YXlwb2ludHMpIHtcbiAgcmV0dXJuIHdheXBvaW50cy5yZWR1Y2UoZnVuY3Rpb24ocG9pbnRzLCBwLCBpZHgpIHtcblxuICAgIHZhciBwcmV2aW91cyA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0sXG4gICAgICAgIG5leHQgPSB3YXlwb2ludHNbaWR4ICsgMV07XG5cbiAgICBpZiAoIXBvaW50c09uTGluZShwcmV2aW91cywgbmV4dCwgcCwgMCkpIHtcbiAgICAgIHBvaW50cy5wdXNoKHApO1xuICAgIH1cblxuICAgIHJldHVybiBwb2ludHM7XG4gIH0sIFtdKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/layout/ManhattanLayout.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/model/index.js":
/*!****************************************************!*\
  !*** ./node_modules/diagram-js/lib/model/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   isModelElement: () => (/* binding */ isModelElement)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var inherits_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! inherits-browser */ \"(ssr)/./node_modules/inherits-browser/dist/index.es.js\");\n/* harmony import */ var object_refs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! object-refs */ \"(ssr)/./node_modules/object-refs/dist/index.js\");\n\n\n\n\n\nvar parentRefs = new object_refs__WEBPACK_IMPORTED_MODULE_0__.Refs({ name: 'children', enumerable: true, collection: true }, { name: 'parent' }),\n    labelRefs = new object_refs__WEBPACK_IMPORTED_MODULE_0__.Refs({ name: 'labels', enumerable: true, collection: true }, { name: 'labelTarget' }),\n    attacherRefs = new object_refs__WEBPACK_IMPORTED_MODULE_0__.Refs({ name: 'attachers', collection: true }, { name: 'host' }),\n    outgoingRefs = new object_refs__WEBPACK_IMPORTED_MODULE_0__.Refs({ name: 'outgoing', collection: true }, { name: 'source' }),\n    incomingRefs = new object_refs__WEBPACK_IMPORTED_MODULE_0__.Refs({ name: 'incoming', collection: true }, { name: 'target' });\n\n/**\n * @typedef {import('./Types').Element} Element\n * @typedef {import('./Types').Shape} Shape\n * @typedef {import('./Types').Root} Root\n * @typedef {import('./Types').Label} Label\n * @typedef {import('./Types').Connection} Connection\n */\n\n/**\n * The basic graphical representation\n *\n * @class\n * @constructor\n */\nfunction ElementImpl() {\n\n  /**\n   * The object that backs up the shape\n   *\n   * @name Element#businessObject\n   * @type Object\n   */\n  Object.defineProperty(this, 'businessObject', {\n    writable: true\n  });\n\n\n  /**\n   * Single label support, will mapped to multi label array\n   *\n   * @name Element#label\n   * @type Object\n   */\n  Object.defineProperty(this, 'label', {\n    get: function() {\n      return this.labels[0];\n    },\n    set: function(newLabel) {\n\n      var label = this.label,\n          labels = this.labels;\n\n      if (!newLabel && label) {\n        labels.remove(label);\n      } else {\n        labels.add(newLabel, 0);\n      }\n    }\n  });\n\n  /**\n   * The parent shape\n   *\n   * @name Element#parent\n   * @type Shape\n   */\n  parentRefs.bind(this, 'parent');\n\n  /**\n   * The list of labels\n   *\n   * @name Element#labels\n   * @type Label\n   */\n  labelRefs.bind(this, 'labels');\n\n  /**\n   * The list of outgoing connections\n   *\n   * @name Element#outgoing\n   * @type Array<Connection>\n   */\n  outgoingRefs.bind(this, 'outgoing');\n\n  /**\n   * The list of incoming connections\n   *\n   * @name Element#incoming\n   * @type Array<Connection>\n   */\n  incomingRefs.bind(this, 'incoming');\n}\n\n\n/**\n * A graphical object\n *\n * @class\n * @constructor\n *\n * @extends ElementImpl\n */\nfunction ShapeImpl() {\n  ElementImpl.call(this);\n\n  /**\n   * Indicates frame shapes\n   *\n   * @name ShapeImpl#isFrame\n   * @type boolean\n   */\n\n  /**\n   * The list of children\n   *\n   * @name ShapeImpl#children\n   * @type Element[]\n   */\n  parentRefs.bind(this, 'children');\n\n  /**\n   * @name ShapeImpl#host\n   * @type Shape\n   */\n  attacherRefs.bind(this, 'host');\n\n  /**\n   * @name ShapeImpl#attachers\n   * @type Shape\n   */\n  attacherRefs.bind(this, 'attachers');\n}\n\n(0,inherits_browser__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(ShapeImpl, ElementImpl);\n\n\n/**\n * A root graphical object\n *\n * @class\n * @constructor\n *\n * @extends ElementImpl\n */\nfunction RootImpl() {\n  ElementImpl.call(this);\n\n  /**\n   * The list of children\n   *\n   * @name RootImpl#children\n   * @type Element[]\n   */\n  parentRefs.bind(this, 'children');\n}\n\n(0,inherits_browser__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(RootImpl, ShapeImpl);\n\n\n/**\n * A label for an element\n *\n * @class\n * @constructor\n *\n * @extends ShapeImpl\n */\nfunction LabelImpl() {\n  ShapeImpl.call(this);\n\n  /**\n   * The labeled element\n   *\n   * @name LabelImpl#labelTarget\n   * @type Element\n   */\n  labelRefs.bind(this, 'labelTarget');\n}\n\n(0,inherits_browser__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(LabelImpl, ShapeImpl);\n\n\n/**\n * A connection between two elements\n *\n * @class\n * @constructor\n *\n * @extends ElementImpl\n */\nfunction ConnectionImpl() {\n  ElementImpl.call(this);\n\n  /**\n   * The element this connection originates from\n   *\n   * @name ConnectionImpl#source\n   * @type Element\n   */\n  outgoingRefs.bind(this, 'source');\n\n  /**\n   * The element this connection points to\n   *\n   * @name ConnectionImpl#target\n   * @type Element\n   */\n  incomingRefs.bind(this, 'target');\n}\n\n(0,inherits_browser__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(ConnectionImpl, ElementImpl);\n\n\nvar types = {\n  connection: ConnectionImpl,\n  shape: ShapeImpl,\n  label: LabelImpl,\n  root: RootImpl\n};\n\n/**\n * Creates a root element.\n *\n * @overlord\n *\n * @example\n *\n * ```javascript\n * import * as Model from 'diagram-js/lib/model';\n *\n * const root = Model.create('root', {\n *   x: 100,\n *   y: 100,\n *   width: 100,\n *   height: 100\n * });\n * ```\n *\n * @param {'root'} type\n * @param {any} [attrs]\n *\n * @return {Root}\n */\n\n/**\n * Creates a connection.\n *\n * @overlord\n *\n * @example\n *\n * ```javascript\n * import * as Model from 'diagram-js/lib/model';\n *\n * const connection = Model.create('connection', {\n *   waypoints: [\n *     { x: 100, y: 100 },\n *     { x: 200, y: 100 }\n *   ]\n * });\n * ```\n *\n * @param {'connection'} type\n * @param {any} [attrs]\n *\n * @return {Connection}\n */\n\n/**\n * Creates a shape.\n *\n * @overlord\n *\n * @example\n *\n * ```javascript\n * import * as Model from 'diagram-js/lib/model';\n *\n * const shape = Model.create('shape', {\n *   x: 100,\n *   y: 100,\n *   width: 100,\n *   height: 100\n * });\n * ```\n *\n * @param {'shape'} type\n * @param {any} [attrs]\n *\n * @return {Shape}\n */\n\n/**\n * Creates a label.\n *\n * @example\n *\n * ```javascript\n * import * as Model from 'diagram-js/lib/model';\n *\n * const label = Model.create('label', {\n *   x: 100,\n *   y: 100,\n *   width: 100,\n *   height: 100,\n *   labelTarget: shape\n * });\n * ```\n *\n * @param {'label'} type\n * @param {Object} [attrs]\n *\n * @return {Label}\n */\nfunction create(type, attrs) {\n  var Type = types[type];\n  if (!Type) {\n    throw new Error('unknown type: <' + type + '>');\n  }\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.assign)(new Type(), attrs);\n}\n\n/**\n * Checks whether an object is a model instance.\n *\n * @param {any} obj\n *\n * @return {boolean}\n */\nfunction isModelElement(obj) {\n  return obj instanceof ElementImpl;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvbW9kZWwvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBa0M7QUFDTTs7QUFFTDs7QUFFbkMscUJBQXFCLDZDQUFJLEdBQUcsc0RBQXNELElBQUksZ0JBQWdCO0FBQ3RHLG9CQUFvQiw2Q0FBSSxHQUFHLG9EQUFvRCxJQUFJLHFCQUFxQjtBQUN4Ryx1QkFBdUIsNkNBQUksR0FBRyxxQ0FBcUMsSUFBSSxjQUFjO0FBQ3JGLHVCQUF1Qiw2Q0FBSSxHQUFHLG9DQUFvQyxJQUFJLGdCQUFnQjtBQUN0Rix1QkFBdUIsNkNBQUksR0FBRyxvQ0FBb0MsSUFBSSxnQkFBZ0I7O0FBRXRGO0FBQ0EsYUFBYSwyQkFBMkI7QUFDeEMsYUFBYSx5QkFBeUI7QUFDdEMsYUFBYSx3QkFBd0I7QUFDckMsYUFBYSx5QkFBeUI7QUFDdEMsYUFBYSw4QkFBOEI7QUFDM0M7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7OztBQUdIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNERBQVE7OztBQUdSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNERBQVE7OztBQUdSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNERBQVE7OztBQUdSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNERBQVE7OztBQUdSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLEtBQUs7QUFDaEI7QUFDQSxZQUFZO0FBQ1o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxnQkFBZ0I7QUFDekIsU0FBUztBQUNUO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsV0FBVyxLQUFLO0FBQ2hCO0FBQ0EsWUFBWTtBQUNaOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsS0FBSztBQUNoQjtBQUNBLFlBQVk7QUFDWjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsZ0RBQU07QUFDZjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEtBQUs7QUFDaEI7QUFDQSxZQUFZO0FBQ1o7QUFDTztBQUNQO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvbW9kZWwvaW5kZXguanM/MzYyNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NpZ24gfSBmcm9tICdtaW4tZGFzaCc7XG5pbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMtYnJvd3Nlcic7XG5cbmltcG9ydCB7IFJlZnMgfSBmcm9tICdvYmplY3QtcmVmcyc7XG5cbnZhciBwYXJlbnRSZWZzID0gbmV3IFJlZnMoeyBuYW1lOiAnY2hpbGRyZW4nLCBlbnVtZXJhYmxlOiB0cnVlLCBjb2xsZWN0aW9uOiB0cnVlIH0sIHsgbmFtZTogJ3BhcmVudCcgfSksXG4gICAgbGFiZWxSZWZzID0gbmV3IFJlZnMoeyBuYW1lOiAnbGFiZWxzJywgZW51bWVyYWJsZTogdHJ1ZSwgY29sbGVjdGlvbjogdHJ1ZSB9LCB7IG5hbWU6ICdsYWJlbFRhcmdldCcgfSksXG4gICAgYXR0YWNoZXJSZWZzID0gbmV3IFJlZnMoeyBuYW1lOiAnYXR0YWNoZXJzJywgY29sbGVjdGlvbjogdHJ1ZSB9LCB7IG5hbWU6ICdob3N0JyB9KSxcbiAgICBvdXRnb2luZ1JlZnMgPSBuZXcgUmVmcyh7IG5hbWU6ICdvdXRnb2luZycsIGNvbGxlY3Rpb246IHRydWUgfSwgeyBuYW1lOiAnc291cmNlJyB9KSxcbiAgICBpbmNvbWluZ1JlZnMgPSBuZXcgUmVmcyh7IG5hbWU6ICdpbmNvbWluZycsIGNvbGxlY3Rpb246IHRydWUgfSwgeyBuYW1lOiAndGFyZ2V0JyB9KTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuL1R5cGVzJykuRWxlbWVudH0gRWxlbWVudFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi9UeXBlcycpLlNoYXBlfSBTaGFwZVxuICogQHR5cGVkZWYge2ltcG9ydCgnLi9UeXBlcycpLlJvb3R9IFJvb3RcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vVHlwZXMnKS5MYWJlbH0gTGFiZWxcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vVHlwZXMnKS5Db25uZWN0aW9ufSBDb25uZWN0aW9uXG4gKi9cblxuLyoqXG4gKiBUaGUgYmFzaWMgZ3JhcGhpY2FsIHJlcHJlc2VudGF0aW9uXG4gKlxuICogQGNsYXNzXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gRWxlbWVudEltcGwoKSB7XG5cbiAgLyoqXG4gICAqIFRoZSBvYmplY3QgdGhhdCBiYWNrcyB1cCB0aGUgc2hhcGVcbiAgICpcbiAgICogQG5hbWUgRWxlbWVudCNidXNpbmVzc09iamVjdFxuICAgKiBAdHlwZSBPYmplY3RcbiAgICovXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnYnVzaW5lc3NPYmplY3QnLCB7XG4gICAgd3JpdGFibGU6IHRydWVcbiAgfSk7XG5cblxuICAvKipcbiAgICogU2luZ2xlIGxhYmVsIHN1cHBvcnQsIHdpbGwgbWFwcGVkIHRvIG11bHRpIGxhYmVsIGFycmF5XG4gICAqXG4gICAqIEBuYW1lIEVsZW1lbnQjbGFiZWxcbiAgICogQHR5cGUgT2JqZWN0XG4gICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2xhYmVsJywge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5sYWJlbHNbMF07XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKG5ld0xhYmVsKSB7XG5cbiAgICAgIHZhciBsYWJlbCA9IHRoaXMubGFiZWwsXG4gICAgICAgICAgbGFiZWxzID0gdGhpcy5sYWJlbHM7XG5cbiAgICAgIGlmICghbmV3TGFiZWwgJiYgbGFiZWwpIHtcbiAgICAgICAgbGFiZWxzLnJlbW92ZShsYWJlbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsYWJlbHMuYWRkKG5ld0xhYmVsLCAwKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBUaGUgcGFyZW50IHNoYXBlXG4gICAqXG4gICAqIEBuYW1lIEVsZW1lbnQjcGFyZW50XG4gICAqIEB0eXBlIFNoYXBlXG4gICAqL1xuICBwYXJlbnRSZWZzLmJpbmQodGhpcywgJ3BhcmVudCcpO1xuXG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBsYWJlbHNcbiAgICpcbiAgICogQG5hbWUgRWxlbWVudCNsYWJlbHNcbiAgICogQHR5cGUgTGFiZWxcbiAgICovXG4gIGxhYmVsUmVmcy5iaW5kKHRoaXMsICdsYWJlbHMnKTtcblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2Ygb3V0Z29pbmcgY29ubmVjdGlvbnNcbiAgICpcbiAgICogQG5hbWUgRWxlbWVudCNvdXRnb2luZ1xuICAgKiBAdHlwZSBBcnJheTxDb25uZWN0aW9uPlxuICAgKi9cbiAgb3V0Z29pbmdSZWZzLmJpbmQodGhpcywgJ291dGdvaW5nJyk7XG5cbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIGluY29taW5nIGNvbm5lY3Rpb25zXG4gICAqXG4gICAqIEBuYW1lIEVsZW1lbnQjaW5jb21pbmdcbiAgICogQHR5cGUgQXJyYXk8Q29ubmVjdGlvbj5cbiAgICovXG4gIGluY29taW5nUmVmcy5iaW5kKHRoaXMsICdpbmNvbWluZycpO1xufVxuXG5cbi8qKlxuICogQSBncmFwaGljYWwgb2JqZWN0XG4gKlxuICogQGNsYXNzXG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAZXh0ZW5kcyBFbGVtZW50SW1wbFxuICovXG5mdW5jdGlvbiBTaGFwZUltcGwoKSB7XG4gIEVsZW1lbnRJbXBsLmNhbGwodGhpcyk7XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyBmcmFtZSBzaGFwZXNcbiAgICpcbiAgICogQG5hbWUgU2hhcGVJbXBsI2lzRnJhbWVcbiAgICogQHR5cGUgYm9vbGVhblxuICAgKi9cblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgY2hpbGRyZW5cbiAgICpcbiAgICogQG5hbWUgU2hhcGVJbXBsI2NoaWxkcmVuXG4gICAqIEB0eXBlIEVsZW1lbnRbXVxuICAgKi9cbiAgcGFyZW50UmVmcy5iaW5kKHRoaXMsICdjaGlsZHJlbicpO1xuXG4gIC8qKlxuICAgKiBAbmFtZSBTaGFwZUltcGwjaG9zdFxuICAgKiBAdHlwZSBTaGFwZVxuICAgKi9cbiAgYXR0YWNoZXJSZWZzLmJpbmQodGhpcywgJ2hvc3QnKTtcblxuICAvKipcbiAgICogQG5hbWUgU2hhcGVJbXBsI2F0dGFjaGVyc1xuICAgKiBAdHlwZSBTaGFwZVxuICAgKi9cbiAgYXR0YWNoZXJSZWZzLmJpbmQodGhpcywgJ2F0dGFjaGVycycpO1xufVxuXG5pbmhlcml0cyhTaGFwZUltcGwsIEVsZW1lbnRJbXBsKTtcblxuXG4vKipcbiAqIEEgcm9vdCBncmFwaGljYWwgb2JqZWN0XG4gKlxuICogQGNsYXNzXG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAZXh0ZW5kcyBFbGVtZW50SW1wbFxuICovXG5mdW5jdGlvbiBSb290SW1wbCgpIHtcbiAgRWxlbWVudEltcGwuY2FsbCh0aGlzKTtcblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgY2hpbGRyZW5cbiAgICpcbiAgICogQG5hbWUgUm9vdEltcGwjY2hpbGRyZW5cbiAgICogQHR5cGUgRWxlbWVudFtdXG4gICAqL1xuICBwYXJlbnRSZWZzLmJpbmQodGhpcywgJ2NoaWxkcmVuJyk7XG59XG5cbmluaGVyaXRzKFJvb3RJbXBsLCBTaGFwZUltcGwpO1xuXG5cbi8qKlxuICogQSBsYWJlbCBmb3IgYW4gZWxlbWVudFxuICpcbiAqIEBjbGFzc1xuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQGV4dGVuZHMgU2hhcGVJbXBsXG4gKi9cbmZ1bmN0aW9uIExhYmVsSW1wbCgpIHtcbiAgU2hhcGVJbXBsLmNhbGwodGhpcyk7XG5cbiAgLyoqXG4gICAqIFRoZSBsYWJlbGVkIGVsZW1lbnRcbiAgICpcbiAgICogQG5hbWUgTGFiZWxJbXBsI2xhYmVsVGFyZ2V0XG4gICAqIEB0eXBlIEVsZW1lbnRcbiAgICovXG4gIGxhYmVsUmVmcy5iaW5kKHRoaXMsICdsYWJlbFRhcmdldCcpO1xufVxuXG5pbmhlcml0cyhMYWJlbEltcGwsIFNoYXBlSW1wbCk7XG5cblxuLyoqXG4gKiBBIGNvbm5lY3Rpb24gYmV0d2VlbiB0d28gZWxlbWVudHNcbiAqXG4gKiBAY2xhc3NcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBleHRlbmRzIEVsZW1lbnRJbXBsXG4gKi9cbmZ1bmN0aW9uIENvbm5lY3Rpb25JbXBsKCkge1xuICBFbGVtZW50SW1wbC5jYWxsKHRoaXMpO1xuXG4gIC8qKlxuICAgKiBUaGUgZWxlbWVudCB0aGlzIGNvbm5lY3Rpb24gb3JpZ2luYXRlcyBmcm9tXG4gICAqXG4gICAqIEBuYW1lIENvbm5lY3Rpb25JbXBsI3NvdXJjZVxuICAgKiBAdHlwZSBFbGVtZW50XG4gICAqL1xuICBvdXRnb2luZ1JlZnMuYmluZCh0aGlzLCAnc291cmNlJyk7XG5cbiAgLyoqXG4gICAqIFRoZSBlbGVtZW50IHRoaXMgY29ubmVjdGlvbiBwb2ludHMgdG9cbiAgICpcbiAgICogQG5hbWUgQ29ubmVjdGlvbkltcGwjdGFyZ2V0XG4gICAqIEB0eXBlIEVsZW1lbnRcbiAgICovXG4gIGluY29taW5nUmVmcy5iaW5kKHRoaXMsICd0YXJnZXQnKTtcbn1cblxuaW5oZXJpdHMoQ29ubmVjdGlvbkltcGwsIEVsZW1lbnRJbXBsKTtcblxuXG52YXIgdHlwZXMgPSB7XG4gIGNvbm5lY3Rpb246IENvbm5lY3Rpb25JbXBsLFxuICBzaGFwZTogU2hhcGVJbXBsLFxuICBsYWJlbDogTGFiZWxJbXBsLFxuICByb290OiBSb290SW1wbFxufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgcm9vdCBlbGVtZW50LlxuICpcbiAqIEBvdmVybG9yZFxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogaW1wb3J0ICogYXMgTW9kZWwgZnJvbSAnZGlhZ3JhbS1qcy9saWIvbW9kZWwnO1xuICpcbiAqIGNvbnN0IHJvb3QgPSBNb2RlbC5jcmVhdGUoJ3Jvb3QnLCB7XG4gKiAgIHg6IDEwMCxcbiAqICAgeTogMTAwLFxuICogICB3aWR0aDogMTAwLFxuICogICBoZWlnaHQ6IDEwMFxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0geydyb290J30gdHlwZVxuICogQHBhcmFtIHthbnl9IFthdHRyc11cbiAqXG4gKiBAcmV0dXJuIHtSb290fVxuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIGNvbm5lY3Rpb24uXG4gKlxuICogQG92ZXJsb3JkXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBpbXBvcnQgKiBhcyBNb2RlbCBmcm9tICdkaWFncmFtLWpzL2xpYi9tb2RlbCc7XG4gKlxuICogY29uc3QgY29ubmVjdGlvbiA9IE1vZGVsLmNyZWF0ZSgnY29ubmVjdGlvbicsIHtcbiAqICAgd2F5cG9pbnRzOiBbXG4gKiAgICAgeyB4OiAxMDAsIHk6IDEwMCB9LFxuICogICAgIHsgeDogMjAwLCB5OiAxMDAgfVxuICogICBdXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7J2Nvbm5lY3Rpb24nfSB0eXBlXG4gKiBAcGFyYW0ge2FueX0gW2F0dHJzXVxuICpcbiAqIEByZXR1cm4ge0Nvbm5lY3Rpb259XG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgc2hhcGUuXG4gKlxuICogQG92ZXJsb3JkXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBpbXBvcnQgKiBhcyBNb2RlbCBmcm9tICdkaWFncmFtLWpzL2xpYi9tb2RlbCc7XG4gKlxuICogY29uc3Qgc2hhcGUgPSBNb2RlbC5jcmVhdGUoJ3NoYXBlJywge1xuICogICB4OiAxMDAsXG4gKiAgIHk6IDEwMCxcbiAqICAgd2lkdGg6IDEwMCxcbiAqICAgaGVpZ2h0OiAxMDBcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHsnc2hhcGUnfSB0eXBlXG4gKiBAcGFyYW0ge2FueX0gW2F0dHJzXVxuICpcbiAqIEByZXR1cm4ge1NoYXBlfVxuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIGxhYmVsLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogaW1wb3J0ICogYXMgTW9kZWwgZnJvbSAnZGlhZ3JhbS1qcy9saWIvbW9kZWwnO1xuICpcbiAqIGNvbnN0IGxhYmVsID0gTW9kZWwuY3JlYXRlKCdsYWJlbCcsIHtcbiAqICAgeDogMTAwLFxuICogICB5OiAxMDAsXG4gKiAgIHdpZHRoOiAxMDAsXG4gKiAgIGhlaWdodDogMTAwLFxuICogICBsYWJlbFRhcmdldDogc2hhcGVcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHsnbGFiZWwnfSB0eXBlXG4gKiBAcGFyYW0ge09iamVjdH0gW2F0dHJzXVxuICpcbiAqIEByZXR1cm4ge0xhYmVsfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKHR5cGUsIGF0dHJzKSB7XG4gIHZhciBUeXBlID0gdHlwZXNbdHlwZV07XG4gIGlmICghVHlwZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigndW5rbm93biB0eXBlOiA8JyArIHR5cGUgKyAnPicpO1xuICB9XG4gIHJldHVybiBhc3NpZ24obmV3IFR5cGUoKSwgYXR0cnMpO1xufVxuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGFuIG9iamVjdCBpcyBhIG1vZGVsIGluc3RhbmNlLlxuICpcbiAqIEBwYXJhbSB7YW55fSBvYmpcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNNb2RlbEVsZW1lbnQob2JqKSB7XG4gIHJldHVybiBvYmogaW5zdGFuY2VvZiBFbGVtZW50SW1wbDtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/model/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/navigation/keyboard-move/KeyboardMove.js":
/*!******************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/navigation/keyboard-move/KeyboardMove.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ KeyboardMove)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../features/keyboard/Keyboard').default} Keyboard\n */\n\nvar DEFAULT_CONFIG = {\n  moveSpeed: 50,\n  moveSpeedAccelerated: 200\n};\n\n\n/**\n * A feature that allows users to move the canvas using the keyboard.\n *\n * @param {Object} config\n * @param {number} [config.moveSpeed=50]\n * @param {number} [config.moveSpeedAccelerated=200]\n * @param {Keyboard} keyboard\n * @param {Canvas} canvas\n */\nfunction KeyboardMove(\n    config,\n    keyboard,\n    canvas\n) {\n\n  var self = this;\n\n  this._config = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({}, DEFAULT_CONFIG, config || {});\n\n  keyboard.addListener(arrowsListener);\n\n\n  function arrowsListener(context) {\n\n    var event = context.keyEvent,\n        config = self._config;\n\n    if (!keyboard.isCmd(event)) {\n      return;\n    }\n\n    if (keyboard.isKey([\n      'ArrowLeft', 'Left',\n      'ArrowUp', 'Up',\n      'ArrowDown', 'Down',\n      'ArrowRight', 'Right'\n    ], event)) {\n\n      var speed = (\n        keyboard.isShift(event) ?\n          config.moveSpeedAccelerated :\n          config.moveSpeed\n      );\n\n      var direction;\n\n      switch (event.key) {\n      case 'ArrowLeft':\n      case 'Left':\n        direction = 'left';\n        break;\n      case 'ArrowUp':\n      case 'Up':\n        direction = 'up';\n        break;\n      case 'ArrowRight':\n      case 'Right':\n        direction = 'right';\n        break;\n      case 'ArrowDown':\n      case 'Down':\n        direction = 'down';\n        break;\n      }\n\n      self.moveCanvas({\n        speed: speed,\n        direction: direction\n      });\n\n      return true;\n    }\n  }\n\n  /**\n   * @param {{\n   *   direction: 'up' | 'down' | 'left' | 'right';\n   *   speed: number;\n   * }} options\n   */\n  this.moveCanvas = function(options) {\n\n    var dx = 0,\n        dy = 0,\n        speed = options.speed;\n\n    var actualSpeed = speed / Math.min(Math.sqrt(canvas.viewbox().scale), 1);\n\n    switch (options.direction) {\n    case 'left': // Left\n      dx = actualSpeed;\n      break;\n    case 'up': // Up\n      dy = actualSpeed;\n      break;\n    case 'right': // Right\n      dx = -actualSpeed;\n      break;\n    case 'down': // Down\n      dy = -actualSpeed;\n      break;\n    }\n\n    canvas.scroll({\n      dx: dx,\n      dy: dy\n    });\n  };\n\n}\n\n\nKeyboardMove.$inject = [\n  'config.keyboardMove',\n  'keyboard',\n  'canvas'\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvbmF2aWdhdGlvbi9rZXlib2FyZC1tb3ZlL0tleWJvYXJkTW92ZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFrQzs7QUFFbEM7QUFDQSxhQUFhLHFDQUFxQztBQUNsRCxhQUFhLG9EQUFvRDtBQUNqRTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsUUFBUTtBQUNuQjtBQUNlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsaUJBQWlCLGdEQUFNLEdBQUcsOEJBQThCOztBQUV4RDs7O0FBR0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL25hdmlnYXRpb24va2V5Ym9hcmQtbW92ZS9LZXlib2FyZE1vdmUuanM/MzMyMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NpZ24gfSBmcm9tICdtaW4tZGFzaCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9DYW52YXMnKS5kZWZhdWx0fSBDYW52YXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2ZlYXR1cmVzL2tleWJvYXJkL0tleWJvYXJkJykuZGVmYXVsdH0gS2V5Ym9hcmRcbiAqL1xuXG52YXIgREVGQVVMVF9DT05GSUcgPSB7XG4gIG1vdmVTcGVlZDogNTAsXG4gIG1vdmVTcGVlZEFjY2VsZXJhdGVkOiAyMDBcbn07XG5cblxuLyoqXG4gKiBBIGZlYXR1cmUgdGhhdCBhbGxvd3MgdXNlcnMgdG8gbW92ZSB0aGUgY2FudmFzIHVzaW5nIHRoZSBrZXlib2FyZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gKiBAcGFyYW0ge251bWJlcn0gW2NvbmZpZy5tb3ZlU3BlZWQ9NTBdXG4gKiBAcGFyYW0ge251bWJlcn0gW2NvbmZpZy5tb3ZlU3BlZWRBY2NlbGVyYXRlZD0yMDBdXG4gKiBAcGFyYW0ge0tleWJvYXJkfSBrZXlib2FyZFxuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBLZXlib2FyZE1vdmUoXG4gICAgY29uZmlnLFxuICAgIGtleWJvYXJkLFxuICAgIGNhbnZhc1xuKSB7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHRoaXMuX2NvbmZpZyA9IGFzc2lnbih7fSwgREVGQVVMVF9DT05GSUcsIGNvbmZpZyB8fCB7fSk7XG5cbiAga2V5Ym9hcmQuYWRkTGlzdGVuZXIoYXJyb3dzTGlzdGVuZXIpO1xuXG5cbiAgZnVuY3Rpb24gYXJyb3dzTGlzdGVuZXIoY29udGV4dCkge1xuXG4gICAgdmFyIGV2ZW50ID0gY29udGV4dC5rZXlFdmVudCxcbiAgICAgICAgY29uZmlnID0gc2VsZi5fY29uZmlnO1xuXG4gICAgaWYgKCFrZXlib2FyZC5pc0NtZChldmVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoa2V5Ym9hcmQuaXNLZXkoW1xuICAgICAgJ0Fycm93TGVmdCcsICdMZWZ0JyxcbiAgICAgICdBcnJvd1VwJywgJ1VwJyxcbiAgICAgICdBcnJvd0Rvd24nLCAnRG93bicsXG4gICAgICAnQXJyb3dSaWdodCcsICdSaWdodCdcbiAgICBdLCBldmVudCkpIHtcblxuICAgICAgdmFyIHNwZWVkID0gKFxuICAgICAgICBrZXlib2FyZC5pc1NoaWZ0KGV2ZW50KSA/XG4gICAgICAgICAgY29uZmlnLm1vdmVTcGVlZEFjY2VsZXJhdGVkIDpcbiAgICAgICAgICBjb25maWcubW92ZVNwZWVkXG4gICAgICApO1xuXG4gICAgICB2YXIgZGlyZWN0aW9uO1xuXG4gICAgICBzd2l0Y2ggKGV2ZW50LmtleSkge1xuICAgICAgY2FzZSAnQXJyb3dMZWZ0JzpcbiAgICAgIGNhc2UgJ0xlZnQnOlxuICAgICAgICBkaXJlY3Rpb24gPSAnbGVmdCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnQXJyb3dVcCc6XG4gICAgICBjYXNlICdVcCc6XG4gICAgICAgIGRpcmVjdGlvbiA9ICd1cCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnQXJyb3dSaWdodCc6XG4gICAgICBjYXNlICdSaWdodCc6XG4gICAgICAgIGRpcmVjdGlvbiA9ICdyaWdodCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnQXJyb3dEb3duJzpcbiAgICAgIGNhc2UgJ0Rvd24nOlxuICAgICAgICBkaXJlY3Rpb24gPSAnZG93bic7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBzZWxmLm1vdmVDYW52YXMoe1xuICAgICAgICBzcGVlZDogc3BlZWQsXG4gICAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7e1xuICAgKiAgIGRpcmVjdGlvbjogJ3VwJyB8ICdkb3duJyB8ICdsZWZ0JyB8ICdyaWdodCc7XG4gICAqICAgc3BlZWQ6IG51bWJlcjtcbiAgICogfX0gb3B0aW9uc1xuICAgKi9cbiAgdGhpcy5tb3ZlQ2FudmFzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXG4gICAgdmFyIGR4ID0gMCxcbiAgICAgICAgZHkgPSAwLFxuICAgICAgICBzcGVlZCA9IG9wdGlvbnMuc3BlZWQ7XG5cbiAgICB2YXIgYWN0dWFsU3BlZWQgPSBzcGVlZCAvIE1hdGgubWluKE1hdGguc3FydChjYW52YXMudmlld2JveCgpLnNjYWxlKSwgMSk7XG5cbiAgICBzd2l0Y2ggKG9wdGlvbnMuZGlyZWN0aW9uKSB7XG4gICAgY2FzZSAnbGVmdCc6IC8vIExlZnRcbiAgICAgIGR4ID0gYWN0dWFsU3BlZWQ7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd1cCc6IC8vIFVwXG4gICAgICBkeSA9IGFjdHVhbFNwZWVkO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAncmlnaHQnOiAvLyBSaWdodFxuICAgICAgZHggPSAtYWN0dWFsU3BlZWQ7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdkb3duJzogLy8gRG93blxuICAgICAgZHkgPSAtYWN0dWFsU3BlZWQ7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICBjYW52YXMuc2Nyb2xsKHtcbiAgICAgIGR4OiBkeCxcbiAgICAgIGR5OiBkeVxuICAgIH0pO1xuICB9O1xuXG59XG5cblxuS2V5Ym9hcmRNb3ZlLiRpbmplY3QgPSBbXG4gICdjb25maWcua2V5Ym9hcmRNb3ZlJyxcbiAgJ2tleWJvYXJkJyxcbiAgJ2NhbnZhcydcbl07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/navigation/keyboard-move/KeyboardMove.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/navigation/keyboard-move/index.js":
/*!***********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/navigation/keyboard-move/index.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _features_keyboard__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../features/keyboard */ \"(ssr)/./node_modules/diagram-js/lib/features/keyboard/index.js\");\n/* harmony import */ var _KeyboardMove__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./KeyboardMove */ \"(ssr)/./node_modules/diagram-js/lib/navigation/keyboard-move/KeyboardMove.js\");\n\n\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _features_keyboard__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\n  ],\n  __init__: [ 'keyboardMove' ],\n  keyboardMove: [ 'type', _KeyboardMove__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvbmF2aWdhdGlvbi9rZXlib2FyZC1tb3ZlL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxRDs7QUFFWDs7O0FBRzFDO0FBQ0EsV0FBVztBQUNYO0FBQ0EsaUVBQWU7QUFDZjtBQUNBLElBQUksMERBQWM7QUFDbEI7QUFDQTtBQUNBLDBCQUEwQixxREFBWTtBQUN0QyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL25hdmlnYXRpb24va2V5Ym9hcmQtbW92ZS9pbmRleC5qcz8xYmI3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBLZXlib2FyZE1vZHVsZSBmcm9tICcuLi8uLi9mZWF0dXJlcy9rZXlib2FyZCc7XG5cbmltcG9ydCBLZXlib2FyZE1vdmUgZnJvbSAnLi9LZXlib2FyZE1vdmUnO1xuXG5cbi8qKlxuICogQHR5cGUgeyBpbXBvcnQoJ2RpZGknKS5Nb2R1bGVEZWNsYXJhdGlvbiB9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBLZXlib2FyZE1vZHVsZVxuICBdLFxuICBfX2luaXRfXzogWyAna2V5Ym9hcmRNb3ZlJyBdLFxuICBrZXlib2FyZE1vdmU6IFsgJ3R5cGUnLCBLZXlib2FyZE1vdmUgXVxufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/navigation/keyboard-move/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/navigation/movecanvas/MoveCanvas.js":
/*!*************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/navigation/movecanvas/MoveCanvas.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MoveCanvas)\n/* harmony export */ });\n/* harmony import */ var _util_Cursor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/Cursor */ \"(ssr)/./node_modules/diagram-js/lib/util/Cursor.js\");\n/* harmony import */ var _util_ClickTrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/ClickTrap */ \"(ssr)/./node_modules/diagram-js/lib/util/ClickTrap.js\");\n/* harmony import */ var _util_PositionUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/PositionUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/PositionUtil.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! min-dom */ \"(ssr)/./node_modules/min-dom/dist/index.esm.js\");\n/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/Event */ \"(ssr)/./node_modules/diagram-js/lib/util/Event.js\");\n\n\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n */\n\nvar THRESHOLD = 15;\n\n\n/**\n * Move the canvas via mouse.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nfunction MoveCanvas(eventBus, canvas) {\n\n  var context;\n\n  function handleMousedown(event) {\n    return handleStart(event.originalEvent);\n  }\n\n  // listen for move on element mouse down;\n  // allow others to hook into the event before us though\n  // (dragging / element moving will do this)\n  eventBus.on('canvas.focus.changed', function(event) {\n    if (event.focused) {\n      eventBus.on('element.mousedown', 500, handleMousedown);\n    } else {\n      eventBus.off('element.mousedown', handleMousedown);\n    }\n  });\n\n\n  function handleMove(event) {\n\n    var start = context.start,\n        button = context.button,\n        position = (0,_util_Event__WEBPACK_IMPORTED_MODULE_0__.toPoint)(event),\n        delta = (0,_util_PositionUtil__WEBPACK_IMPORTED_MODULE_1__.delta)(position, start);\n\n    if (!context.dragging && length(delta) > THRESHOLD) {\n      context.dragging = true;\n\n      if (button === 0) {\n        (0,_util_ClickTrap__WEBPACK_IMPORTED_MODULE_2__.install)(eventBus);\n      }\n\n      (0,_util_Cursor__WEBPACK_IMPORTED_MODULE_3__.set)('grab');\n    }\n\n    if (context.dragging) {\n\n      var lastPosition = context.last || context.start;\n\n      delta = (0,_util_PositionUtil__WEBPACK_IMPORTED_MODULE_1__.delta)(position, lastPosition);\n\n      canvas.scroll({\n        dx: delta.x,\n        dy: delta.y\n      });\n\n      context.last = position;\n    }\n\n    // prevent select\n    event.preventDefault();\n  }\n\n\n  function handleEnd(event) {\n    min_dom__WEBPACK_IMPORTED_MODULE_4__.event.unbind(document, 'mousemove', handleMove);\n    min_dom__WEBPACK_IMPORTED_MODULE_4__.event.unbind(document, 'mouseup', handleEnd);\n\n    context = null;\n\n    (0,_util_Cursor__WEBPACK_IMPORTED_MODULE_3__.unset)();\n  }\n\n  function handleStart(event) {\n\n    // event is already handled by '.djs-draggable'\n    if ((0,min_dom__WEBPACK_IMPORTED_MODULE_4__.closest)(event.target, '.djs-draggable')) {\n      return;\n    }\n\n    var button = event.button;\n\n    // reject right mouse button or modifier key\n    if (button >= 2 || event.ctrlKey || event.shiftKey || event.altKey) {\n      return;\n    }\n\n    context = {\n      button: button,\n      start: (0,_util_Event__WEBPACK_IMPORTED_MODULE_0__.toPoint)(event)\n    };\n\n    min_dom__WEBPACK_IMPORTED_MODULE_4__.event.bind(document, 'mousemove', handleMove);\n    min_dom__WEBPACK_IMPORTED_MODULE_4__.event.bind(document, 'mouseup', handleEnd);\n\n    // we've handled the event\n    return true;\n  }\n\n  this.isActive = function() {\n    return !!context;\n  };\n\n}\n\n\nMoveCanvas.$inject = [\n  'eventBus',\n  'canvas'\n];\n\n\n\n// helpers ///////\n\nfunction length(point) {\n  return Math.sqrt(Math.pow(point.x, 2) + Math.pow(point.y, 2));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvbmF2aWdhdGlvbi9tb3ZlY2FudmFzL01vdmVDYW52YXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRzJCOztBQUlHOztBQUlHOztBQUtoQjs7QUFJUzs7QUFFMUI7QUFDQSxhQUFhLHFDQUFxQztBQUNsRCxhQUFhLHVDQUF1QztBQUNwRDs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsUUFBUTtBQUNuQjtBQUNlOztBQUVmOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7OztBQUdIOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIsb0RBQU87QUFDMUIsZ0JBQWdCLHlEQUFROztBQUV4QjtBQUNBOztBQUVBO0FBQ0EsUUFBUSx3REFBZ0I7QUFDeEI7O0FBRUEsTUFBTSxpREFBUztBQUNmOztBQUVBOztBQUVBOztBQUVBLGNBQWMseURBQVE7O0FBRXRCO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0EsSUFBSSwwQ0FBUTtBQUNaLElBQUksMENBQVE7O0FBRVo7O0FBRUEsSUFBSSxtREFBVztBQUNmOztBQUVBOztBQUVBO0FBQ0EsUUFBUSxnREFBVTtBQUNsQjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLG9EQUFPO0FBQ3BCOztBQUVBLElBQUksMENBQVE7QUFDWixJQUFJLDBDQUFROztBQUVaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7O0FBRUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL25hdmlnYXRpb24vbW92ZWNhbnZhcy9Nb3ZlQ2FudmFzLmpzPzhjMDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgc2V0IGFzIGN1cnNvclNldCxcbiAgdW5zZXQgYXMgY3Vyc29yVW5zZXRcbn0gZnJvbSAnLi4vLi4vdXRpbC9DdXJzb3InO1xuXG5pbXBvcnQge1xuICBpbnN0YWxsIGFzIGluc3RhbGxDbGlja1RyYXBcbn0gZnJvbSAnLi4vLi4vdXRpbC9DbGlja1RyYXAnO1xuXG5pbXBvcnQge1xuICBkZWx0YSBhcyBkZWx0YVBvc1xufSBmcm9tICcuLi8uLi91dGlsL1Bvc2l0aW9uVXRpbCc7XG5cbmltcG9ydCB7XG4gIGV2ZW50IGFzIGRvbUV2ZW50LFxuICBjbG9zZXN0IGFzIGRvbUNsb3Nlc3Rcbn0gZnJvbSAnbWluLWRvbSc7XG5cbmltcG9ydCB7XG4gIHRvUG9pbnRcbn0gZnJvbSAnLi4vLi4vdXRpbC9FdmVudCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9DYW52YXMnKS5kZWZhdWx0fSBDYW52YXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICovXG5cbnZhciBUSFJFU0hPTEQgPSAxNTtcblxuXG4vKipcbiAqIE1vdmUgdGhlIGNhbnZhcyB2aWEgbW91c2UuXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTW92ZUNhbnZhcyhldmVudEJ1cywgY2FudmFzKSB7XG5cbiAgdmFyIGNvbnRleHQ7XG5cbiAgZnVuY3Rpb24gaGFuZGxlTW91c2Vkb3duKGV2ZW50KSB7XG4gICAgcmV0dXJuIGhhbmRsZVN0YXJ0KGV2ZW50Lm9yaWdpbmFsRXZlbnQpO1xuICB9XG5cbiAgLy8gbGlzdGVuIGZvciBtb3ZlIG9uIGVsZW1lbnQgbW91c2UgZG93bjtcbiAgLy8gYWxsb3cgb3RoZXJzIHRvIGhvb2sgaW50byB0aGUgZXZlbnQgYmVmb3JlIHVzIHRob3VnaFxuICAvLyAoZHJhZ2dpbmcgLyBlbGVtZW50IG1vdmluZyB3aWxsIGRvIHRoaXMpXG4gIGV2ZW50QnVzLm9uKCdjYW52YXMuZm9jdXMuY2hhbmdlZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmZvY3VzZWQpIHtcbiAgICAgIGV2ZW50QnVzLm9uKCdlbGVtZW50Lm1vdXNlZG93bicsIDUwMCwgaGFuZGxlTW91c2Vkb3duKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXZlbnRCdXMub2ZmKCdlbGVtZW50Lm1vdXNlZG93bicsIGhhbmRsZU1vdXNlZG93bik7XG4gICAgfVxuICB9KTtcblxuXG4gIGZ1bmN0aW9uIGhhbmRsZU1vdmUoZXZlbnQpIHtcblxuICAgIHZhciBzdGFydCA9IGNvbnRleHQuc3RhcnQsXG4gICAgICAgIGJ1dHRvbiA9IGNvbnRleHQuYnV0dG9uLFxuICAgICAgICBwb3NpdGlvbiA9IHRvUG9pbnQoZXZlbnQpLFxuICAgICAgICBkZWx0YSA9IGRlbHRhUG9zKHBvc2l0aW9uLCBzdGFydCk7XG5cbiAgICBpZiAoIWNvbnRleHQuZHJhZ2dpbmcgJiYgbGVuZ3RoKGRlbHRhKSA+IFRIUkVTSE9MRCkge1xuICAgICAgY29udGV4dC5kcmFnZ2luZyA9IHRydWU7XG5cbiAgICAgIGlmIChidXR0b24gPT09IDApIHtcbiAgICAgICAgaW5zdGFsbENsaWNrVHJhcChldmVudEJ1cyk7XG4gICAgICB9XG5cbiAgICAgIGN1cnNvclNldCgnZ3JhYicpO1xuICAgIH1cblxuICAgIGlmIChjb250ZXh0LmRyYWdnaW5nKSB7XG5cbiAgICAgIHZhciBsYXN0UG9zaXRpb24gPSBjb250ZXh0Lmxhc3QgfHwgY29udGV4dC5zdGFydDtcblxuICAgICAgZGVsdGEgPSBkZWx0YVBvcyhwb3NpdGlvbiwgbGFzdFBvc2l0aW9uKTtcblxuICAgICAgY2FudmFzLnNjcm9sbCh7XG4gICAgICAgIGR4OiBkZWx0YS54LFxuICAgICAgICBkeTogZGVsdGEueVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnRleHQubGFzdCA9IHBvc2l0aW9uO1xuICAgIH1cblxuICAgIC8vIHByZXZlbnQgc2VsZWN0XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gaGFuZGxlRW5kKGV2ZW50KSB7XG4gICAgZG9tRXZlbnQudW5iaW5kKGRvY3VtZW50LCAnbW91c2Vtb3ZlJywgaGFuZGxlTW92ZSk7XG4gICAgZG9tRXZlbnQudW5iaW5kKGRvY3VtZW50LCAnbW91c2V1cCcsIGhhbmRsZUVuZCk7XG5cbiAgICBjb250ZXh0ID0gbnVsbDtcblxuICAgIGN1cnNvclVuc2V0KCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVTdGFydChldmVudCkge1xuXG4gICAgLy8gZXZlbnQgaXMgYWxyZWFkeSBoYW5kbGVkIGJ5ICcuZGpzLWRyYWdnYWJsZSdcbiAgICBpZiAoZG9tQ2xvc2VzdChldmVudC50YXJnZXQsICcuZGpzLWRyYWdnYWJsZScpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGJ1dHRvbiA9IGV2ZW50LmJ1dHRvbjtcblxuICAgIC8vIHJlamVjdCByaWdodCBtb3VzZSBidXR0b24gb3IgbW9kaWZpZXIga2V5XG4gICAgaWYgKGJ1dHRvbiA+PSAyIHx8IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuc2hpZnRLZXkgfHwgZXZlbnQuYWx0S2V5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29udGV4dCA9IHtcbiAgICAgIGJ1dHRvbjogYnV0dG9uLFxuICAgICAgc3RhcnQ6IHRvUG9pbnQoZXZlbnQpXG4gICAgfTtcblxuICAgIGRvbUV2ZW50LmJpbmQoZG9jdW1lbnQsICdtb3VzZW1vdmUnLCBoYW5kbGVNb3ZlKTtcbiAgICBkb21FdmVudC5iaW5kKGRvY3VtZW50LCAnbW91c2V1cCcsIGhhbmRsZUVuZCk7XG5cbiAgICAvLyB3ZSd2ZSBoYW5kbGVkIHRoZSBldmVudFxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdGhpcy5pc0FjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAhIWNvbnRleHQ7XG4gIH07XG5cbn1cblxuXG5Nb3ZlQ2FudmFzLiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdjYW52YXMnXG5dO1xuXG5cblxuLy8gaGVscGVycyAvLy8vLy8vXG5cbmZ1bmN0aW9uIGxlbmd0aChwb2ludCkge1xuICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KHBvaW50LngsIDIpICsgTWF0aC5wb3cocG9pbnQueSwgMikpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/navigation/movecanvas/MoveCanvas.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/navigation/movecanvas/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/navigation/movecanvas/index.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _MoveCanvas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MoveCanvas */ \"(ssr)/./node_modules/diagram-js/lib/navigation/movecanvas/MoveCanvas.js\");\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [ 'moveCanvas' ],\n  moveCanvas: [ 'type', _MoveCanvas__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvbmF2aWdhdGlvbi9tb3ZlY2FudmFzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXNDOzs7QUFHdEM7QUFDQSxXQUFXO0FBQ1g7QUFDQSxpRUFBZTtBQUNmO0FBQ0Esd0JBQXdCLG1EQUFVO0FBQ2xDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvbmF2aWdhdGlvbi9tb3ZlY2FudmFzL2luZGV4LmpzPzEyYzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE1vdmVDYW52YXMgZnJvbSAnLi9Nb3ZlQ2FudmFzJztcblxuXG4vKipcbiAqIEB0eXBlIHsgaW1wb3J0KCdkaWRpJykuTW9kdWxlRGVjbGFyYXRpb24gfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICdtb3ZlQ2FudmFzJyBdLFxuICBtb3ZlQ2FudmFzOiBbICd0eXBlJywgTW92ZUNhbnZhcyBdXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/navigation/movecanvas/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/navigation/zoomscroll/ZoomScroll.js":
/*!*************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/navigation/zoomscroll/ZoomScroll.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ZoomScroll)\n/* harmony export */ });\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! min-dom */ \"(ssr)/./node_modules/min-dom/dist/index.esm.js\");\n/* harmony import */ var _ZoomUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ZoomUtil */ \"(ssr)/./node_modules/diagram-js/lib/navigation/zoomscroll/ZoomUtil.js\");\n/* harmony import */ var _util_Math__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/Math */ \"(ssr)/./node_modules/diagram-js/lib/util/Math.js\");\n/* harmony import */ var _util_Platform__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/Platform */ \"(ssr)/./node_modules/diagram-js/lib/util/Platform.js\");\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n *\n * @typedef {import('../../util/Types').Point} Point\n * @typedef {import('../../util/Types').ScrollDelta} ScrollDelta\n */\n\nvar sign = Math.sign || function(n) {\n  return n >= 0 ? 1 : -1;\n};\n\nvar RANGE = { min: 0.2, max: 4 },\n    NUM_STEPS = 10;\n\nvar DELTA_THRESHOLD = 0.1;\n\nvar DEFAULT_SCALE = 0.75;\n\n/**\n * An implementation of zooming and scrolling within the\n * {@link Canvas} via the mouse wheel.\n *\n * Mouse wheel zooming / scrolling may be disabled using\n * the {@link toggle(enabled)} method.\n *\n * @param {Object} [config]\n * @param {boolean} [config.enabled=true] default enabled state\n * @param {number} [config.scale=.75] scroll sensivity\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nfunction ZoomScroll(config, eventBus, canvas) {\n\n  config = config || {};\n\n  this._enabled = false;\n\n  this._canvas = canvas;\n  this._container = canvas._container;\n\n  this._handleWheel = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.bind)(this._handleWheel, this);\n\n  this._totalDelta = 0;\n  this._scale = config.scale || DEFAULT_SCALE;\n\n  var self = this;\n\n  eventBus.on('canvas.focus.changed', function(event) {\n    self._init(event.focused && config.enabled !== false);\n  });\n}\n\nZoomScroll.$inject = [\n  'config.zoomScroll',\n  'eventBus',\n  'canvas'\n];\n\n/**\n * @param {ScrollDelta} delta\n */\nZoomScroll.prototype.scroll = function scroll(delta) {\n  this._canvas.scroll(delta);\n};\n\n\nZoomScroll.prototype.reset = function reset() {\n  this._canvas.zoom('fit-viewport');\n};\n\n/**\n * Zoom depending on delta.\n *\n * @param {number} delta\n * @param {Point} position\n */\nZoomScroll.prototype.zoom = function zoom(delta, position) {\n\n  // zoom with half the step size of stepZoom\n  var stepSize = (0,_ZoomUtil__WEBPACK_IMPORTED_MODULE_1__.getStepSize)(RANGE, NUM_STEPS * 2);\n\n  // add until threshold reached\n  this._totalDelta += delta;\n\n  if (Math.abs(this._totalDelta) > DELTA_THRESHOLD) {\n    this._zoom(delta, position, stepSize);\n\n    // reset\n    this._totalDelta = 0;\n  }\n};\n\n\nZoomScroll.prototype._handleWheel = function handleWheel(event) {\n\n  if (!this._canvas.isFocused()) {\n    return;\n  }\n\n  var element = this._container;\n\n  event.preventDefault();\n\n  // pinch to zoom is mapped to wheel + ctrlKey = true\n  // in modern browsers (!)\n\n  var isZoom = event.ctrlKey || ((0,_util_Platform__WEBPACK_IMPORTED_MODULE_2__.isMac)() && event.metaKey);\n\n  var isHorizontalScroll = event.shiftKey;\n\n  var factor = -1 * this._scale,\n      delta;\n\n  if (isZoom) {\n    factor *= event.deltaMode === 0 ? 0.020 : 0.32;\n  } else {\n    factor *= event.deltaMode === 0 ? 1.0 : 16.0;\n  }\n\n  if (isZoom) {\n    var elementRect = element.getBoundingClientRect();\n\n    var offset = {\n      x: event.clientX - elementRect.left,\n      y: event.clientY - elementRect.top\n    };\n\n    delta = (\n      Math.sqrt(\n        Math.pow(event.deltaY, 2) +\n        Math.pow(event.deltaX, 2)\n      ) * sign(event.deltaY) * factor\n    );\n\n    // zoom in relative to diagram {x,y} coordinates\n    this.zoom(delta, offset);\n  } else {\n\n    if (isHorizontalScroll) {\n      delta = {\n        dx: factor * event.deltaY,\n        dy: 0\n      };\n    } else {\n      delta = {\n        dx: factor * event.deltaX,\n        dy: factor * event.deltaY\n      };\n    }\n\n    this.scroll(delta);\n  }\n};\n\n/**\n * Zoom with fixed step size.\n *\n * @param {number} delta Zoom delta (1 for zooming in, -1 for zooming out).\n * @param {Point} [position]\n */\nZoomScroll.prototype.stepZoom = function stepZoom(delta, position) {\n\n  var stepSize = (0,_ZoomUtil__WEBPACK_IMPORTED_MODULE_1__.getStepSize)(RANGE, NUM_STEPS);\n\n  this._zoom(delta, position, stepSize);\n};\n\n\n/**\n * Zoom in/out given a step size.\n *\n * @param {number} delta\n * @param {Point} [position]\n * @param {number} stepSize\n */\nZoomScroll.prototype._zoom = function(delta, position, stepSize) {\n  var canvas = this._canvas;\n\n  var direction = delta > 0 ? 1 : -1;\n\n  var currentLinearZoomLevel = (0,_util_Math__WEBPACK_IMPORTED_MODULE_3__.log10)(canvas.zoom());\n\n  // snap to a proximate zoom step\n  var newLinearZoomLevel = Math.round(currentLinearZoomLevel / stepSize) * stepSize;\n\n  // increase or decrease one zoom step in the given direction\n  newLinearZoomLevel += stepSize * direction;\n\n  // calculate the absolute logarithmic zoom level based on the linear zoom level\n  // (e.g. 2 for an absolute x2 zoom)\n  var newLogZoomLevel = Math.pow(10, newLinearZoomLevel);\n\n  canvas.zoom((0,_ZoomUtil__WEBPACK_IMPORTED_MODULE_1__.cap)(RANGE, newLogZoomLevel), position);\n};\n\n\n/**\n * Toggle the zoom scroll ability via mouse wheel.\n *\n * @param {boolean} [newEnabled] new enabled state\n */\nZoomScroll.prototype.toggle = function toggle(newEnabled) {\n\n  var element = this._container;\n  var handleWheel = this._handleWheel;\n\n  var oldEnabled = this._enabled;\n\n  if (typeof newEnabled === 'undefined') {\n    newEnabled = !oldEnabled;\n  }\n\n  // only react on actual changes\n  if (oldEnabled !== newEnabled) {\n\n    // add or remove wheel listener based on\n    // changed enabled state\n    min_dom__WEBPACK_IMPORTED_MODULE_4__.event[newEnabled ? 'bind' : 'unbind'](element, 'wheel', handleWheel, false);\n  }\n\n  this._enabled = newEnabled;\n\n  return newEnabled;\n};\n\n\nZoomScroll.prototype._init = function(newEnabled) {\n  this.toggle(newEnabled);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvbmF2aWdhdGlvbi96b29tc2Nyb2xsL1pvb21TY3JvbGwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRWlCOztBQUtHOztBQUlLOztBQUlJOztBQUlYOztBQUVsQjtBQUNBLGFBQWEscUNBQXFDO0FBQ2xELGFBQWEsdUNBQXVDO0FBQ3BEO0FBQ0EsYUFBYSxrQ0FBa0M7QUFDL0MsYUFBYSx3Q0FBd0M7QUFDckQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGNBQWMsa0JBQWtCO0FBQ2hDOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxJQUFJLGNBQWM7QUFDbEI7QUFDQTtBQUNBLFFBQVEsdUJBQXVCO0FBQy9CO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsUUFBUTtBQUNuQjtBQUNlOztBQUVmOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsc0JBQXNCLDhDQUFJOztBQUUxQjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsYUFBYTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLE9BQU87QUFDbEI7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQixzREFBVzs7QUFFNUI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSxpQ0FBaUMscURBQUs7O0FBRXRDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9DQUFvQyxLQUFLO0FBQ3pDO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLE9BQU87QUFDbEI7QUFDQTs7QUFFQSxpQkFBaUIsc0RBQVc7O0FBRTVCO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLE9BQU87QUFDbEIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSwrQkFBK0IsaURBQUs7O0FBRXBDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsY0FBYyw4Q0FBRztBQUNqQjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSSwwQ0FBUTtBQUNaOztBQUVBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9uYXZpZ2F0aW9uL3pvb21zY3JvbGwvWm9vbVNjcm9sbC5qcz84YTZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGV2ZW50IGFzIGRvbUV2ZW50XG59IGZyb20gJ21pbi1kb20nO1xuXG5pbXBvcnQge1xuICBnZXRTdGVwU2l6ZSxcbiAgY2FwXG59IGZyb20gJy4vWm9vbVV0aWwnO1xuXG5pbXBvcnQge1xuICBsb2cxMFxufSBmcm9tICcuLi8uLi91dGlsL01hdGgnO1xuXG5pbXBvcnQge1xuICBpc01hY1xufSBmcm9tICcuLi8uLi91dGlsL1BsYXRmb3JtJztcblxuaW1wb3J0IHtcbiAgYmluZFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9DYW52YXMnKS5kZWZhdWx0fSBDYW52YXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL3V0aWwvVHlwZXMnKS5Qb2ludH0gUG9pbnRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL3V0aWwvVHlwZXMnKS5TY3JvbGxEZWx0YX0gU2Nyb2xsRGVsdGFcbiAqL1xuXG52YXIgc2lnbiA9IE1hdGguc2lnbiB8fCBmdW5jdGlvbihuKSB7XG4gIHJldHVybiBuID49IDAgPyAxIDogLTE7XG59O1xuXG52YXIgUkFOR0UgPSB7IG1pbjogMC4yLCBtYXg6IDQgfSxcbiAgICBOVU1fU1RFUFMgPSAxMDtcblxudmFyIERFTFRBX1RIUkVTSE9MRCA9IDAuMTtcblxudmFyIERFRkFVTFRfU0NBTEUgPSAwLjc1O1xuXG4vKipcbiAqIEFuIGltcGxlbWVudGF0aW9uIG9mIHpvb21pbmcgYW5kIHNjcm9sbGluZyB3aXRoaW4gdGhlXG4gKiB7QGxpbmsgQ2FudmFzfSB2aWEgdGhlIG1vdXNlIHdoZWVsLlxuICpcbiAqIE1vdXNlIHdoZWVsIHpvb21pbmcgLyBzY3JvbGxpbmcgbWF5IGJlIGRpc2FibGVkIHVzaW5nXG4gKiB0aGUge0BsaW5rIHRvZ2dsZShlbmFibGVkKX0gbWV0aG9kLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnXVxuICogQHBhcmFtIHtib29sZWFufSBbY29uZmlnLmVuYWJsZWQ9dHJ1ZV0gZGVmYXVsdCBlbmFibGVkIHN0YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gW2NvbmZpZy5zY2FsZT0uNzVdIHNjcm9sbCBzZW5zaXZpdHlcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFpvb21TY3JvbGwoY29uZmlnLCBldmVudEJ1cywgY2FudmFzKSB7XG5cbiAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuXG4gIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcblxuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG4gIHRoaXMuX2NvbnRhaW5lciA9IGNhbnZhcy5fY29udGFpbmVyO1xuXG4gIHRoaXMuX2hhbmRsZVdoZWVsID0gYmluZCh0aGlzLl9oYW5kbGVXaGVlbCwgdGhpcyk7XG5cbiAgdGhpcy5fdG90YWxEZWx0YSA9IDA7XG4gIHRoaXMuX3NjYWxlID0gY29uZmlnLnNjYWxlIHx8IERFRkFVTFRfU0NBTEU7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGV2ZW50QnVzLm9uKCdjYW52YXMuZm9jdXMuY2hhbmdlZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgc2VsZi5faW5pdChldmVudC5mb2N1c2VkICYmIGNvbmZpZy5lbmFibGVkICE9PSBmYWxzZSk7XG4gIH0pO1xufVxuXG5ab29tU2Nyb2xsLiRpbmplY3QgPSBbXG4gICdjb25maWcuem9vbVNjcm9sbCcsXG4gICdldmVudEJ1cycsXG4gICdjYW52YXMnXG5dO1xuXG4vKipcbiAqIEBwYXJhbSB7U2Nyb2xsRGVsdGF9IGRlbHRhXG4gKi9cblpvb21TY3JvbGwucHJvdG90eXBlLnNjcm9sbCA9IGZ1bmN0aW9uIHNjcm9sbChkZWx0YSkge1xuICB0aGlzLl9jYW52YXMuc2Nyb2xsKGRlbHRhKTtcbn07XG5cblxuWm9vbVNjcm9sbC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgdGhpcy5fY2FudmFzLnpvb20oJ2ZpdC12aWV3cG9ydCcpO1xufTtcblxuLyoqXG4gKiBab29tIGRlcGVuZGluZyBvbiBkZWx0YS5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gZGVsdGFcbiAqIEBwYXJhbSB7UG9pbnR9IHBvc2l0aW9uXG4gKi9cblpvb21TY3JvbGwucHJvdG90eXBlLnpvb20gPSBmdW5jdGlvbiB6b29tKGRlbHRhLCBwb3NpdGlvbikge1xuXG4gIC8vIHpvb20gd2l0aCBoYWxmIHRoZSBzdGVwIHNpemUgb2Ygc3RlcFpvb21cbiAgdmFyIHN0ZXBTaXplID0gZ2V0U3RlcFNpemUoUkFOR0UsIE5VTV9TVEVQUyAqIDIpO1xuXG4gIC8vIGFkZCB1bnRpbCB0aHJlc2hvbGQgcmVhY2hlZFxuICB0aGlzLl90b3RhbERlbHRhICs9IGRlbHRhO1xuXG4gIGlmIChNYXRoLmFicyh0aGlzLl90b3RhbERlbHRhKSA+IERFTFRBX1RIUkVTSE9MRCkge1xuICAgIHRoaXMuX3pvb20oZGVsdGEsIHBvc2l0aW9uLCBzdGVwU2l6ZSk7XG5cbiAgICAvLyByZXNldFxuICAgIHRoaXMuX3RvdGFsRGVsdGEgPSAwO1xuICB9XG59O1xuXG5cblpvb21TY3JvbGwucHJvdG90eXBlLl9oYW5kbGVXaGVlbCA9IGZ1bmN0aW9uIGhhbmRsZVdoZWVsKGV2ZW50KSB7XG5cbiAgaWYgKCF0aGlzLl9jYW52YXMuaXNGb2N1c2VkKCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZWxlbWVudCA9IHRoaXMuX2NvbnRhaW5lcjtcblxuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIC8vIHBpbmNoIHRvIHpvb20gaXMgbWFwcGVkIHRvIHdoZWVsICsgY3RybEtleSA9IHRydWVcbiAgLy8gaW4gbW9kZXJuIGJyb3dzZXJzICghKVxuXG4gIHZhciBpc1pvb20gPSBldmVudC5jdHJsS2V5IHx8IChpc01hYygpICYmIGV2ZW50Lm1ldGFLZXkpO1xuXG4gIHZhciBpc0hvcml6b250YWxTY3JvbGwgPSBldmVudC5zaGlmdEtleTtcblxuICB2YXIgZmFjdG9yID0gLTEgKiB0aGlzLl9zY2FsZSxcbiAgICAgIGRlbHRhO1xuXG4gIGlmIChpc1pvb20pIHtcbiAgICBmYWN0b3IgKj0gZXZlbnQuZGVsdGFNb2RlID09PSAwID8gMC4wMjAgOiAwLjMyO1xuICB9IGVsc2Uge1xuICAgIGZhY3RvciAqPSBldmVudC5kZWx0YU1vZGUgPT09IDAgPyAxLjAgOiAxNi4wO1xuICB9XG5cbiAgaWYgKGlzWm9vbSkge1xuICAgIHZhciBlbGVtZW50UmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICB2YXIgb2Zmc2V0ID0ge1xuICAgICAgeDogZXZlbnQuY2xpZW50WCAtIGVsZW1lbnRSZWN0LmxlZnQsXG4gICAgICB5OiBldmVudC5jbGllbnRZIC0gZWxlbWVudFJlY3QudG9wXG4gICAgfTtcblxuICAgIGRlbHRhID0gKFxuICAgICAgTWF0aC5zcXJ0KFxuICAgICAgICBNYXRoLnBvdyhldmVudC5kZWx0YVksIDIpICtcbiAgICAgICAgTWF0aC5wb3coZXZlbnQuZGVsdGFYLCAyKVxuICAgICAgKSAqIHNpZ24oZXZlbnQuZGVsdGFZKSAqIGZhY3RvclxuICAgICk7XG5cbiAgICAvLyB6b29tIGluIHJlbGF0aXZlIHRvIGRpYWdyYW0ge3gseX0gY29vcmRpbmF0ZXNcbiAgICB0aGlzLnpvb20oZGVsdGEsIG9mZnNldCk7XG4gIH0gZWxzZSB7XG5cbiAgICBpZiAoaXNIb3Jpem9udGFsU2Nyb2xsKSB7XG4gICAgICBkZWx0YSA9IHtcbiAgICAgICAgZHg6IGZhY3RvciAqIGV2ZW50LmRlbHRhWSxcbiAgICAgICAgZHk6IDBcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbHRhID0ge1xuICAgICAgICBkeDogZmFjdG9yICogZXZlbnQuZGVsdGFYLFxuICAgICAgICBkeTogZmFjdG9yICogZXZlbnQuZGVsdGFZXG4gICAgICB9O1xuICAgIH1cblxuICAgIHRoaXMuc2Nyb2xsKGRlbHRhKTtcbiAgfVxufTtcblxuLyoqXG4gKiBab29tIHdpdGggZml4ZWQgc3RlcCBzaXplLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBab29tIGRlbHRhICgxIGZvciB6b29taW5nIGluLCAtMSBmb3Igem9vbWluZyBvdXQpLlxuICogQHBhcmFtIHtQb2ludH0gW3Bvc2l0aW9uXVxuICovXG5ab29tU2Nyb2xsLnByb3RvdHlwZS5zdGVwWm9vbSA9IGZ1bmN0aW9uIHN0ZXBab29tKGRlbHRhLCBwb3NpdGlvbikge1xuXG4gIHZhciBzdGVwU2l6ZSA9IGdldFN0ZXBTaXplKFJBTkdFLCBOVU1fU1RFUFMpO1xuXG4gIHRoaXMuX3pvb20oZGVsdGEsIHBvc2l0aW9uLCBzdGVwU2l6ZSk7XG59O1xuXG5cbi8qKlxuICogWm9vbSBpbi9vdXQgZ2l2ZW4gYSBzdGVwIHNpemUuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhXG4gKiBAcGFyYW0ge1BvaW50fSBbcG9zaXRpb25dXG4gKiBAcGFyYW0ge251bWJlcn0gc3RlcFNpemVcbiAqL1xuWm9vbVNjcm9sbC5wcm90b3R5cGUuX3pvb20gPSBmdW5jdGlvbihkZWx0YSwgcG9zaXRpb24sIHN0ZXBTaXplKSB7XG4gIHZhciBjYW52YXMgPSB0aGlzLl9jYW52YXM7XG5cbiAgdmFyIGRpcmVjdGlvbiA9IGRlbHRhID4gMCA/IDEgOiAtMTtcblxuICB2YXIgY3VycmVudExpbmVhclpvb21MZXZlbCA9IGxvZzEwKGNhbnZhcy56b29tKCkpO1xuXG4gIC8vIHNuYXAgdG8gYSBwcm94aW1hdGUgem9vbSBzdGVwXG4gIHZhciBuZXdMaW5lYXJab29tTGV2ZWwgPSBNYXRoLnJvdW5kKGN1cnJlbnRMaW5lYXJab29tTGV2ZWwgLyBzdGVwU2l6ZSkgKiBzdGVwU2l6ZTtcblxuICAvLyBpbmNyZWFzZSBvciBkZWNyZWFzZSBvbmUgem9vbSBzdGVwIGluIHRoZSBnaXZlbiBkaXJlY3Rpb25cbiAgbmV3TGluZWFyWm9vbUxldmVsICs9IHN0ZXBTaXplICogZGlyZWN0aW9uO1xuXG4gIC8vIGNhbGN1bGF0ZSB0aGUgYWJzb2x1dGUgbG9nYXJpdGhtaWMgem9vbSBsZXZlbCBiYXNlZCBvbiB0aGUgbGluZWFyIHpvb20gbGV2ZWxcbiAgLy8gKGUuZy4gMiBmb3IgYW4gYWJzb2x1dGUgeDIgem9vbSlcbiAgdmFyIG5ld0xvZ1pvb21MZXZlbCA9IE1hdGgucG93KDEwLCBuZXdMaW5lYXJab29tTGV2ZWwpO1xuXG4gIGNhbnZhcy56b29tKGNhcChSQU5HRSwgbmV3TG9nWm9vbUxldmVsKSwgcG9zaXRpb24pO1xufTtcblxuXG4vKipcbiAqIFRvZ2dsZSB0aGUgem9vbSBzY3JvbGwgYWJpbGl0eSB2aWEgbW91c2Ugd2hlZWwuXG4gKlxuICogQHBhcmFtIHtib29sZWFufSBbbmV3RW5hYmxlZF0gbmV3IGVuYWJsZWQgc3RhdGVcbiAqL1xuWm9vbVNjcm9sbC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gdG9nZ2xlKG5ld0VuYWJsZWQpIHtcblxuICB2YXIgZWxlbWVudCA9IHRoaXMuX2NvbnRhaW5lcjtcbiAgdmFyIGhhbmRsZVdoZWVsID0gdGhpcy5faGFuZGxlV2hlZWw7XG5cbiAgdmFyIG9sZEVuYWJsZWQgPSB0aGlzLl9lbmFibGVkO1xuXG4gIGlmICh0eXBlb2YgbmV3RW5hYmxlZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBuZXdFbmFibGVkID0gIW9sZEVuYWJsZWQ7XG4gIH1cblxuICAvLyBvbmx5IHJlYWN0IG9uIGFjdHVhbCBjaGFuZ2VzXG4gIGlmIChvbGRFbmFibGVkICE9PSBuZXdFbmFibGVkKSB7XG5cbiAgICAvLyBhZGQgb3IgcmVtb3ZlIHdoZWVsIGxpc3RlbmVyIGJhc2VkIG9uXG4gICAgLy8gY2hhbmdlZCBlbmFibGVkIHN0YXRlXG4gICAgZG9tRXZlbnRbbmV3RW5hYmxlZCA/ICdiaW5kJyA6ICd1bmJpbmQnXShlbGVtZW50LCAnd2hlZWwnLCBoYW5kbGVXaGVlbCwgZmFsc2UpO1xuICB9XG5cbiAgdGhpcy5fZW5hYmxlZCA9IG5ld0VuYWJsZWQ7XG5cbiAgcmV0dXJuIG5ld0VuYWJsZWQ7XG59O1xuXG5cblpvb21TY3JvbGwucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24obmV3RW5hYmxlZCkge1xuICB0aGlzLnRvZ2dsZShuZXdFbmFibGVkKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/navigation/zoomscroll/ZoomScroll.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/navigation/zoomscroll/ZoomUtil.js":
/*!***********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/navigation/zoomscroll/ZoomUtil.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cap: () => (/* binding */ cap),\n/* harmony export */   getStepSize: () => (/* binding */ getStepSize)\n/* harmony export */ });\n/* harmony import */ var _util_Math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/Math */ \"(ssr)/./node_modules/diagram-js/lib/util/Math.js\");\n\n\n/**\n * Get step size for given range and number of steps.\n *\n * @param {Object} range\n * @param {number} range.min\n * @param {number} range.max\n * @param {number} steps\n */\nfunction getStepSize(range, steps) {\n\n  var minLinearRange = (0,_util_Math__WEBPACK_IMPORTED_MODULE_0__.log10)(range.min),\n      maxLinearRange = (0,_util_Math__WEBPACK_IMPORTED_MODULE_0__.log10)(range.max);\n\n  var absoluteLinearRange = Math.abs(minLinearRange) + Math.abs(maxLinearRange);\n\n  return absoluteLinearRange / steps;\n}\n\n/**\n * @param {Object} range\n * @param {number} range.min\n * @param {number} range.max\n * @param {number} scale\n */\nfunction cap(range, scale) {\n  return Math.max(range.min, Math.min(range.max, scale));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvbmF2aWdhdGlvbi96b29tc2Nyb2xsL1pvb21VdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUV5Qjs7QUFFekI7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ087O0FBRVAsdUJBQXVCLGlEQUFLO0FBQzVCLHVCQUF1QixpREFBSzs7QUFFNUI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNPO0FBQ1A7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi9uYXZpZ2F0aW9uL3pvb21zY3JvbGwvWm9vbVV0aWwuanM/NjhhNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBsb2cxMFxufSBmcm9tICcuLi8uLi91dGlsL01hdGgnO1xuXG4vKipcbiAqIEdldCBzdGVwIHNpemUgZm9yIGdpdmVuIHJhbmdlIGFuZCBudW1iZXIgb2Ygc3RlcHMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHJhbmdlXG4gKiBAcGFyYW0ge251bWJlcn0gcmFuZ2UubWluXG4gKiBAcGFyYW0ge251bWJlcn0gcmFuZ2UubWF4XG4gKiBAcGFyYW0ge251bWJlcn0gc3RlcHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0ZXBTaXplKHJhbmdlLCBzdGVwcykge1xuXG4gIHZhciBtaW5MaW5lYXJSYW5nZSA9IGxvZzEwKHJhbmdlLm1pbiksXG4gICAgICBtYXhMaW5lYXJSYW5nZSA9IGxvZzEwKHJhbmdlLm1heCk7XG5cbiAgdmFyIGFic29sdXRlTGluZWFyUmFuZ2UgPSBNYXRoLmFicyhtaW5MaW5lYXJSYW5nZSkgKyBNYXRoLmFicyhtYXhMaW5lYXJSYW5nZSk7XG5cbiAgcmV0dXJuIGFic29sdXRlTGluZWFyUmFuZ2UgLyBzdGVwcztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge09iamVjdH0gcmFuZ2VcbiAqIEBwYXJhbSB7bnVtYmVyfSByYW5nZS5taW5cbiAqIEBwYXJhbSB7bnVtYmVyfSByYW5nZS5tYXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FwKHJhbmdlLCBzY2FsZSkge1xuICByZXR1cm4gTWF0aC5tYXgocmFuZ2UubWluLCBNYXRoLm1pbihyYW5nZS5tYXgsIHNjYWxlKSk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/navigation/zoomscroll/ZoomUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/navigation/zoomscroll/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/diagram-js/lib/navigation/zoomscroll/index.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ZoomScroll__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ZoomScroll */ \"(ssr)/./node_modules/diagram-js/lib/navigation/zoomscroll/ZoomScroll.js\");\n\n\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [ 'zoomScroll' ],\n  zoomScroll: [ 'type', _ZoomScroll__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvbmF2aWdhdGlvbi96b29tc2Nyb2xsL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXNDOzs7QUFHdEM7QUFDQSxXQUFXO0FBQ1g7QUFDQSxpRUFBZTtBQUNmO0FBQ0Esd0JBQXdCLG1EQUFVO0FBQ2xDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvbmF2aWdhdGlvbi96b29tc2Nyb2xsL2luZGV4LmpzPzYzZGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFpvb21TY3JvbGwgZnJvbSAnLi9ab29tU2Nyb2xsJztcblxuXG4vKipcbiAqIEB0eXBlIHsgaW1wb3J0KCdkaWRpJykuTW9kdWxlRGVjbGFyYXRpb24gfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICd6b29tU2Nyb2xsJyBdLFxuICB6b29tU2Nyb2xsOiBbICd0eXBlJywgWm9vbVNjcm9sbCBdXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/navigation/zoomscroll/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/util/AttachUtil.js":
/*!********************************************************!*\
  !*** ./node_modules/diagram-js/lib/util/AttachUtil.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getNewAttachPoint: () => (/* binding */ getNewAttachPoint),\n/* harmony export */   getNewAttachShapeDelta: () => (/* binding */ getNewAttachShapeDelta)\n/* harmony export */ });\n/* harmony import */ var _layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/LayoutUtil */ \"(ssr)/./node_modules/diagram-js/lib/layout/LayoutUtil.js\");\n/* harmony import */ var _PositionUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PositionUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/PositionUtil.js\");\n\n\n\n\n/**\n * @typedef {import('../model/Types').Shape} Shape\n *\n * @typedef {import('../util/Types').Point} Point\n * @typedef {import('../util/Types').Rect} Rect\n */\n\n/**\n * Calculates the absolute point relative to the new element's position.\n *\n * @param {Point} point [absolute]\n * @param {Rect} oldBounds\n * @param {Rect} newBounds\n *\n * @return {Point} point [absolute]\n */\nfunction getNewAttachPoint(point, oldBounds, newBounds) {\n  var oldCenter = (0,_PositionUtil__WEBPACK_IMPORTED_MODULE_0__.center)(oldBounds),\n      newCenter = (0,_PositionUtil__WEBPACK_IMPORTED_MODULE_0__.center)(newBounds),\n      oldDelta = (0,_PositionUtil__WEBPACK_IMPORTED_MODULE_0__.delta)(point, oldCenter);\n\n  var newDelta = {\n    x: oldDelta.x * (newBounds.width / oldBounds.width),\n    y: oldDelta.y * (newBounds.height / oldBounds.height)\n  };\n\n  return (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.roundPoint)({\n    x: newCenter.x + newDelta.x,\n    y: newCenter.y + newDelta.y\n  });\n}\n\n\n/**\n * Calculates the shape's delta relative to a new position\n * of a certain element's bounds.\n *\n * @param {Shape} shape\n * @param {Rect} oldBounds\n * @param {Rect} newBounds\n *\n * @return {Point} delta\n */\nfunction getNewAttachShapeDelta(shape, oldBounds, newBounds) {\n  var shapeCenter = (0,_PositionUtil__WEBPACK_IMPORTED_MODULE_0__.center)(shape),\n      oldCenter = (0,_PositionUtil__WEBPACK_IMPORTED_MODULE_0__.center)(oldBounds),\n      newCenter = (0,_PositionUtil__WEBPACK_IMPORTED_MODULE_0__.center)(newBounds),\n      shapeDelta = (0,_PositionUtil__WEBPACK_IMPORTED_MODULE_0__.delta)(shape, shapeCenter),\n      oldCenterDelta = (0,_PositionUtil__WEBPACK_IMPORTED_MODULE_0__.delta)(shapeCenter, oldCenter),\n      stickyPositionDelta = getStickyPositionDelta(shapeCenter, oldBounds, newBounds);\n\n  if (stickyPositionDelta) {\n    return stickyPositionDelta;\n  }\n\n  var newCenterDelta = {\n    x: oldCenterDelta.x * (newBounds.width / oldBounds.width),\n    y: oldCenterDelta.y * (newBounds.height / oldBounds.height)\n  };\n\n  var newShapeCenter = {\n    x: newCenter.x + newCenterDelta.x,\n    y: newCenter.y + newCenterDelta.y\n  };\n\n  return (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.roundPoint)({\n    x: newShapeCenter.x + shapeDelta.x - shape.x,\n    y: newShapeCenter.y + shapeDelta.y - shape.y\n  });\n}\n\nfunction getStickyPositionDelta(oldShapeCenter, oldBounds, newBounds) {\n  var oldTRBL = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(oldBounds),\n      newTRBL = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(newBounds);\n\n  if (isMoved(oldTRBL, newTRBL)) {\n    return null;\n  }\n\n  var oldOrientation = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.getOrientation)(oldBounds, oldShapeCenter),\n      stickyPositionDelta,\n      newShapeCenter,\n      newOrientation;\n\n  if (oldOrientation === 'top') {\n    stickyPositionDelta = {\n      x: 0,\n      y: newTRBL.bottom - oldTRBL.bottom\n    };\n  } else if (oldOrientation === 'bottom') {\n    stickyPositionDelta = {\n      x: 0,\n      y: newTRBL.top - oldTRBL.top\n    };\n  } else if (oldOrientation === 'right') {\n    stickyPositionDelta = {\n      x: newTRBL.left - oldTRBL.left,\n      y: 0\n    };\n  } else if (oldOrientation === 'left') {\n    stickyPositionDelta = {\n      x: newTRBL.right - oldTRBL.right,\n      y: 0\n    };\n  } else {\n\n    // fallback to proportional movement for corner-placed attachments\n    return null;\n  }\n\n  newShapeCenter = {\n    x: oldShapeCenter.x + stickyPositionDelta.x,\n    y: oldShapeCenter.y + stickyPositionDelta.y\n  };\n\n  newOrientation = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.getOrientation)(newBounds, newShapeCenter);\n\n  if (newOrientation !== oldOrientation) {\n\n    // fallback to proportional movement if orientation would otherwise change\n    return null;\n  }\n\n  return stickyPositionDelta;\n}\n\nfunction isMoved(oldTRBL, newTRBL) {\n  return isHorizontallyMoved(oldTRBL, newTRBL) || isVerticallyMoved(oldTRBL, newTRBL);\n}\n\nfunction isHorizontallyMoved(oldTRBL, newTRBL) {\n  return oldTRBL.right !== newTRBL.right && oldTRBL.left !== newTRBL.left;\n}\n\nfunction isVerticallyMoved(oldTRBL, newTRBL) {\n  return oldTRBL.top !== newTRBL.top && oldTRBL.bottom !== newTRBL.bottom;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9BdHRhY2hVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFJOEI7O0FBS047O0FBRXhCO0FBQ0EsYUFBYSxnQ0FBZ0M7QUFDN0M7QUFDQSxhQUFhLCtCQUErQjtBQUM1QyxhQUFhLDhCQUE4QjtBQUMzQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsTUFBTTtBQUNqQjtBQUNBLFlBQVksT0FBTztBQUNuQjtBQUNPO0FBQ1Asa0JBQWtCLHFEQUFNO0FBQ3hCLGtCQUFrQixxREFBTTtBQUN4QixpQkFBaUIsb0RBQUs7O0FBRXRCO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVMsOERBQVU7QUFDbkI7QUFDQTtBQUNBLEdBQUc7QUFDSDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsTUFBTTtBQUNqQjtBQUNBLFlBQVksT0FBTztBQUNuQjtBQUNPO0FBQ1Asb0JBQW9CLHFEQUFNO0FBQzFCLGtCQUFrQixxREFBTTtBQUN4QixrQkFBa0IscURBQU07QUFDeEIsbUJBQW1CLG9EQUFLO0FBQ3hCLHVCQUF1QixvREFBSztBQUM1Qjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUyw4REFBVTtBQUNuQjtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EsZ0JBQWdCLDBEQUFNO0FBQ3RCLGdCQUFnQiwwREFBTTs7QUFFdEI7QUFDQTtBQUNBOztBQUVBLHVCQUF1QixrRUFBYztBQUNyQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1CQUFtQixrRUFBYzs7QUFFakM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9BdHRhY2hVdGlsLmpzP2RkNjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgYXNUUkJMLFxuICBnZXRPcmllbnRhdGlvbixcbiAgcm91bmRQb2ludFxufSBmcm9tICcuLi9sYXlvdXQvTGF5b3V0VXRpbCc7XG5cbmltcG9ydCB7XG4gIGNlbnRlcixcbiAgZGVsdGFcbn0gZnJvbSAnLi9Qb3NpdGlvblV0aWwnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL21vZGVsL1R5cGVzJykuU2hhcGV9IFNoYXBlXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vdXRpbC9UeXBlcycpLlBvaW50fSBQb2ludFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vdXRpbC9UeXBlcycpLlJlY3R9IFJlY3RcbiAqL1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGFic29sdXRlIHBvaW50IHJlbGF0aXZlIHRvIHRoZSBuZXcgZWxlbWVudCdzIHBvc2l0aW9uLlxuICpcbiAqIEBwYXJhbSB7UG9pbnR9IHBvaW50IFthYnNvbHV0ZV1cbiAqIEBwYXJhbSB7UmVjdH0gb2xkQm91bmRzXG4gKiBAcGFyYW0ge1JlY3R9IG5ld0JvdW5kc1xuICpcbiAqIEByZXR1cm4ge1BvaW50fSBwb2ludCBbYWJzb2x1dGVdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXROZXdBdHRhY2hQb2ludChwb2ludCwgb2xkQm91bmRzLCBuZXdCb3VuZHMpIHtcbiAgdmFyIG9sZENlbnRlciA9IGNlbnRlcihvbGRCb3VuZHMpLFxuICAgICAgbmV3Q2VudGVyID0gY2VudGVyKG5ld0JvdW5kcyksXG4gICAgICBvbGREZWx0YSA9IGRlbHRhKHBvaW50LCBvbGRDZW50ZXIpO1xuXG4gIHZhciBuZXdEZWx0YSA9IHtcbiAgICB4OiBvbGREZWx0YS54ICogKG5ld0JvdW5kcy53aWR0aCAvIG9sZEJvdW5kcy53aWR0aCksXG4gICAgeTogb2xkRGVsdGEueSAqIChuZXdCb3VuZHMuaGVpZ2h0IC8gb2xkQm91bmRzLmhlaWdodClcbiAgfTtcblxuICByZXR1cm4gcm91bmRQb2ludCh7XG4gICAgeDogbmV3Q2VudGVyLnggKyBuZXdEZWx0YS54LFxuICAgIHk6IG5ld0NlbnRlci55ICsgbmV3RGVsdGEueVxuICB9KTtcbn1cblxuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNoYXBlJ3MgZGVsdGEgcmVsYXRpdmUgdG8gYSBuZXcgcG9zaXRpb25cbiAqIG9mIGEgY2VydGFpbiBlbGVtZW50J3MgYm91bmRzLlxuICpcbiAqIEBwYXJhbSB7U2hhcGV9IHNoYXBlXG4gKiBAcGFyYW0ge1JlY3R9IG9sZEJvdW5kc1xuICogQHBhcmFtIHtSZWN0fSBuZXdCb3VuZHNcbiAqXG4gKiBAcmV0dXJuIHtQb2ludH0gZGVsdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE5ld0F0dGFjaFNoYXBlRGVsdGEoc2hhcGUsIG9sZEJvdW5kcywgbmV3Qm91bmRzKSB7XG4gIHZhciBzaGFwZUNlbnRlciA9IGNlbnRlcihzaGFwZSksXG4gICAgICBvbGRDZW50ZXIgPSBjZW50ZXIob2xkQm91bmRzKSxcbiAgICAgIG5ld0NlbnRlciA9IGNlbnRlcihuZXdCb3VuZHMpLFxuICAgICAgc2hhcGVEZWx0YSA9IGRlbHRhKHNoYXBlLCBzaGFwZUNlbnRlciksXG4gICAgICBvbGRDZW50ZXJEZWx0YSA9IGRlbHRhKHNoYXBlQ2VudGVyLCBvbGRDZW50ZXIpLFxuICAgICAgc3RpY2t5UG9zaXRpb25EZWx0YSA9IGdldFN0aWNreVBvc2l0aW9uRGVsdGEoc2hhcGVDZW50ZXIsIG9sZEJvdW5kcywgbmV3Qm91bmRzKTtcblxuICBpZiAoc3RpY2t5UG9zaXRpb25EZWx0YSkge1xuICAgIHJldHVybiBzdGlja3lQb3NpdGlvbkRlbHRhO1xuICB9XG5cbiAgdmFyIG5ld0NlbnRlckRlbHRhID0ge1xuICAgIHg6IG9sZENlbnRlckRlbHRhLnggKiAobmV3Qm91bmRzLndpZHRoIC8gb2xkQm91bmRzLndpZHRoKSxcbiAgICB5OiBvbGRDZW50ZXJEZWx0YS55ICogKG5ld0JvdW5kcy5oZWlnaHQgLyBvbGRCb3VuZHMuaGVpZ2h0KVxuICB9O1xuXG4gIHZhciBuZXdTaGFwZUNlbnRlciA9IHtcbiAgICB4OiBuZXdDZW50ZXIueCArIG5ld0NlbnRlckRlbHRhLngsXG4gICAgeTogbmV3Q2VudGVyLnkgKyBuZXdDZW50ZXJEZWx0YS55XG4gIH07XG5cbiAgcmV0dXJuIHJvdW5kUG9pbnQoe1xuICAgIHg6IG5ld1NoYXBlQ2VudGVyLnggKyBzaGFwZURlbHRhLnggLSBzaGFwZS54LFxuICAgIHk6IG5ld1NoYXBlQ2VudGVyLnkgKyBzaGFwZURlbHRhLnkgLSBzaGFwZS55XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRTdGlja3lQb3NpdGlvbkRlbHRhKG9sZFNoYXBlQ2VudGVyLCBvbGRCb3VuZHMsIG5ld0JvdW5kcykge1xuICB2YXIgb2xkVFJCTCA9IGFzVFJCTChvbGRCb3VuZHMpLFxuICAgICAgbmV3VFJCTCA9IGFzVFJCTChuZXdCb3VuZHMpO1xuXG4gIGlmIChpc01vdmVkKG9sZFRSQkwsIG5ld1RSQkwpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgb2xkT3JpZW50YXRpb24gPSBnZXRPcmllbnRhdGlvbihvbGRCb3VuZHMsIG9sZFNoYXBlQ2VudGVyKSxcbiAgICAgIHN0aWNreVBvc2l0aW9uRGVsdGEsXG4gICAgICBuZXdTaGFwZUNlbnRlcixcbiAgICAgIG5ld09yaWVudGF0aW9uO1xuXG4gIGlmIChvbGRPcmllbnRhdGlvbiA9PT0gJ3RvcCcpIHtcbiAgICBzdGlja3lQb3NpdGlvbkRlbHRhID0ge1xuICAgICAgeDogMCxcbiAgICAgIHk6IG5ld1RSQkwuYm90dG9tIC0gb2xkVFJCTC5ib3R0b21cbiAgICB9O1xuICB9IGVsc2UgaWYgKG9sZE9yaWVudGF0aW9uID09PSAnYm90dG9tJykge1xuICAgIHN0aWNreVBvc2l0aW9uRGVsdGEgPSB7XG4gICAgICB4OiAwLFxuICAgICAgeTogbmV3VFJCTC50b3AgLSBvbGRUUkJMLnRvcFxuICAgIH07XG4gIH0gZWxzZSBpZiAob2xkT3JpZW50YXRpb24gPT09ICdyaWdodCcpIHtcbiAgICBzdGlja3lQb3NpdGlvbkRlbHRhID0ge1xuICAgICAgeDogbmV3VFJCTC5sZWZ0IC0gb2xkVFJCTC5sZWZ0LFxuICAgICAgeTogMFxuICAgIH07XG4gIH0gZWxzZSBpZiAob2xkT3JpZW50YXRpb24gPT09ICdsZWZ0Jykge1xuICAgIHN0aWNreVBvc2l0aW9uRGVsdGEgPSB7XG4gICAgICB4OiBuZXdUUkJMLnJpZ2h0IC0gb2xkVFJCTC5yaWdodCxcbiAgICAgIHk6IDBcbiAgICB9O1xuICB9IGVsc2Uge1xuXG4gICAgLy8gZmFsbGJhY2sgdG8gcHJvcG9ydGlvbmFsIG1vdmVtZW50IGZvciBjb3JuZXItcGxhY2VkIGF0dGFjaG1lbnRzXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBuZXdTaGFwZUNlbnRlciA9IHtcbiAgICB4OiBvbGRTaGFwZUNlbnRlci54ICsgc3RpY2t5UG9zaXRpb25EZWx0YS54LFxuICAgIHk6IG9sZFNoYXBlQ2VudGVyLnkgKyBzdGlja3lQb3NpdGlvbkRlbHRhLnlcbiAgfTtcblxuICBuZXdPcmllbnRhdGlvbiA9IGdldE9yaWVudGF0aW9uKG5ld0JvdW5kcywgbmV3U2hhcGVDZW50ZXIpO1xuXG4gIGlmIChuZXdPcmllbnRhdGlvbiAhPT0gb2xkT3JpZW50YXRpb24pIHtcblxuICAgIC8vIGZhbGxiYWNrIHRvIHByb3BvcnRpb25hbCBtb3ZlbWVudCBpZiBvcmllbnRhdGlvbiB3b3VsZCBvdGhlcndpc2UgY2hhbmdlXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gc3RpY2t5UG9zaXRpb25EZWx0YTtcbn1cblxuZnVuY3Rpb24gaXNNb3ZlZChvbGRUUkJMLCBuZXdUUkJMKSB7XG4gIHJldHVybiBpc0hvcml6b250YWxseU1vdmVkKG9sZFRSQkwsIG5ld1RSQkwpIHx8IGlzVmVydGljYWxseU1vdmVkKG9sZFRSQkwsIG5ld1RSQkwpO1xufVxuXG5mdW5jdGlvbiBpc0hvcml6b250YWxseU1vdmVkKG9sZFRSQkwsIG5ld1RSQkwpIHtcbiAgcmV0dXJuIG9sZFRSQkwucmlnaHQgIT09IG5ld1RSQkwucmlnaHQgJiYgb2xkVFJCTC5sZWZ0ICE9PSBuZXdUUkJMLmxlZnQ7XG59XG5cbmZ1bmN0aW9uIGlzVmVydGljYWxseU1vdmVkKG9sZFRSQkwsIG5ld1RSQkwpIHtcbiAgcmV0dXJuIG9sZFRSQkwudG9wICE9PSBuZXdUUkJMLnRvcCAmJiBvbGRUUkJMLmJvdHRvbSAhPT0gbmV3VFJCTC5ib3R0b207XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/util/AttachUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/util/ClickTrap.js":
/*!*******************************************************!*\
  !*** ./node_modules/diagram-js/lib/util/ClickTrap.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   install: () => (/* binding */ install)\n/* harmony export */ });\n/**\n * @typedef {import('../core/EventBus').default} EventBus\n */\n\nvar TRAP_PRIORITY = 5000;\n\n/**\n * Installs a click trap that prevents a ghost click following a dragging operation.\n *\n * @param {EventBus} eventBus\n * @param {string} [eventName='element.click']\n *\n * @return {() => void} a function to immediately remove the installed trap.\n */\nfunction install(eventBus, eventName) {\n\n  eventName = eventName || 'element.click';\n\n  function trap() {\n    return false;\n  }\n\n  eventBus.once(eventName, TRAP_PRIORITY, trap);\n\n  return function() {\n    eventBus.off(eventName, trap);\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9DbGlja1RyYXAuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0EsYUFBYSxvQ0FBb0M7QUFDakQ7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVksWUFBWTtBQUN4QjtBQUNPOztBQUVQOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi91dGlsL0NsaWNrVHJhcC5qcz9lODNjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKi9cblxudmFyIFRSQVBfUFJJT1JJVFkgPSA1MDAwO1xuXG4vKipcbiAqIEluc3RhbGxzIGEgY2xpY2sgdHJhcCB0aGF0IHByZXZlbnRzIGEgZ2hvc3QgY2xpY2sgZm9sbG93aW5nIGEgZHJhZ2dpbmcgb3BlcmF0aW9uLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge3N0cmluZ30gW2V2ZW50TmFtZT0nZWxlbWVudC5jbGljayddXG4gKlxuICogQHJldHVybiB7KCkgPT4gdm9pZH0gYSBmdW5jdGlvbiB0byBpbW1lZGlhdGVseSByZW1vdmUgdGhlIGluc3RhbGxlZCB0cmFwLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zdGFsbChldmVudEJ1cywgZXZlbnROYW1lKSB7XG5cbiAgZXZlbnROYW1lID0gZXZlbnROYW1lIHx8ICdlbGVtZW50LmNsaWNrJztcblxuICBmdW5jdGlvbiB0cmFwKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGV2ZW50QnVzLm9uY2UoZXZlbnROYW1lLCBUUkFQX1BSSU9SSVRZLCB0cmFwKTtcblxuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgZXZlbnRCdXMub2ZmKGV2ZW50TmFtZSwgdHJhcCk7XG4gIH07XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/util/ClickTrap.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/util/Collections.js":
/*!*********************************************************!*\
  !*** ./node_modules/diagram-js/lib/util/Collections.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   add: () => (/* binding */ add),\n/* harmony export */   indexOf: () => (/* binding */ indexOf),\n/* harmony export */   remove: () => (/* binding */ remove)\n/* harmony export */ });\n/**\n * Failsafe remove an element from a collection\n *\n * @param {Array<Object>} [collection]\n * @param {Object} [element]\n *\n * @return {number} the previous index of the element\n */\nfunction remove(collection, element) {\n\n  if (!collection || !element) {\n    return -1;\n  }\n\n  var idx = collection.indexOf(element);\n\n  if (idx !== -1) {\n    collection.splice(idx, 1);\n  }\n\n  return idx;\n}\n\n/**\n * Fail save add an element to the given connection, ensuring\n * it does not yet exist.\n *\n * @param {Array<Object>} collection\n * @param {Object} element\n * @param {number} [idx]\n */\nfunction add(collection, element, idx) {\n\n  if (!collection || !element) {\n    return;\n  }\n\n  if (typeof idx !== 'number') {\n    idx = -1;\n  }\n\n  var currentIdx = collection.indexOf(element);\n\n  if (currentIdx !== -1) {\n\n    if (currentIdx === idx) {\n\n      // nothing to do, position has not changed\n      return;\n    } else {\n\n      if (idx !== -1) {\n\n        // remove from current position\n        collection.splice(currentIdx, 1);\n      } else {\n\n        // already exists in collection\n        return;\n      }\n    }\n  }\n\n  if (idx !== -1) {\n\n    // insert at specified position\n    collection.splice(idx, 0, element);\n  } else {\n\n    // push to end\n    collection.push(element);\n  }\n}\n\n\n/**\n * Fail save get the index of an element in a collection.\n *\n * @param {Array<Object>} collection\n * @param {Object} element\n *\n * @return {number} the index or -1 if collection or element do\n *                  not exist or the element is not contained.\n */\nfunction indexOf(collection, element) {\n\n  if (!collection || !element) {\n    return -1;\n  }\n\n  return collection.indexOf(element);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9Db2xsZWN0aW9ucy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUIsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ087O0FBRVA7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxNQUFNOztBQUVOOztBQUVBO0FBQ0E7QUFDQSxRQUFROztBQUVSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNPOztBQUVQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvQ29sbGVjdGlvbnMuanM/MTA4ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEZhaWxzYWZlIHJlbW92ZSBhbiBlbGVtZW50IGZyb20gYSBjb2xsZWN0aW9uXG4gKlxuICogQHBhcmFtIHtBcnJheTxPYmplY3Q+fSBbY29sbGVjdGlvbl1cbiAqIEBwYXJhbSB7T2JqZWN0fSBbZWxlbWVudF1cbiAqXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHRoZSBwcmV2aW91cyBpbmRleCBvZiB0aGUgZWxlbWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlKGNvbGxlY3Rpb24sIGVsZW1lbnQpIHtcblxuICBpZiAoIWNvbGxlY3Rpb24gfHwgIWVsZW1lbnQpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICB2YXIgaWR4ID0gY29sbGVjdGlvbi5pbmRleE9mKGVsZW1lbnQpO1xuXG4gIGlmIChpZHggIT09IC0xKSB7XG4gICAgY29sbGVjdGlvbi5zcGxpY2UoaWR4LCAxKTtcbiAgfVxuXG4gIHJldHVybiBpZHg7XG59XG5cbi8qKlxuICogRmFpbCBzYXZlIGFkZCBhbiBlbGVtZW50IHRvIHRoZSBnaXZlbiBjb25uZWN0aW9uLCBlbnN1cmluZ1xuICogaXQgZG9lcyBub3QgeWV0IGV4aXN0LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8T2JqZWN0Pn0gY29sbGVjdGlvblxuICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBbaWR4XVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkKGNvbGxlY3Rpb24sIGVsZW1lbnQsIGlkeCkge1xuXG4gIGlmICghY29sbGVjdGlvbiB8fCAhZWxlbWVudCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh0eXBlb2YgaWR4ICE9PSAnbnVtYmVyJykge1xuICAgIGlkeCA9IC0xO1xuICB9XG5cbiAgdmFyIGN1cnJlbnRJZHggPSBjb2xsZWN0aW9uLmluZGV4T2YoZWxlbWVudCk7XG5cbiAgaWYgKGN1cnJlbnRJZHggIT09IC0xKSB7XG5cbiAgICBpZiAoY3VycmVudElkeCA9PT0gaWR4KSB7XG5cbiAgICAgIC8vIG5vdGhpbmcgdG8gZG8sIHBvc2l0aW9uIGhhcyBub3QgY2hhbmdlZFxuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG5cbiAgICAgIGlmIChpZHggIT09IC0xKSB7XG5cbiAgICAgICAgLy8gcmVtb3ZlIGZyb20gY3VycmVudCBwb3NpdGlvblxuICAgICAgICBjb2xsZWN0aW9uLnNwbGljZShjdXJyZW50SWR4LCAxKTtcbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgLy8gYWxyZWFkeSBleGlzdHMgaW4gY29sbGVjdGlvblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGlkeCAhPT0gLTEpIHtcblxuICAgIC8vIGluc2VydCBhdCBzcGVjaWZpZWQgcG9zaXRpb25cbiAgICBjb2xsZWN0aW9uLnNwbGljZShpZHgsIDAsIGVsZW1lbnQpO1xuICB9IGVsc2Uge1xuXG4gICAgLy8gcHVzaCB0byBlbmRcbiAgICBjb2xsZWN0aW9uLnB1c2goZWxlbWVudCk7XG4gIH1cbn1cblxuXG4vKipcbiAqIEZhaWwgc2F2ZSBnZXQgdGhlIGluZGV4IG9mIGFuIGVsZW1lbnQgaW4gYSBjb2xsZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8T2JqZWN0Pn0gY29sbGVjdGlvblxuICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHRoZSBpbmRleCBvciAtMSBpZiBjb2xsZWN0aW9uIG9yIGVsZW1lbnQgZG9cbiAqICAgICAgICAgICAgICAgICAgbm90IGV4aXN0IG9yIHRoZSBlbGVtZW50IGlzIG5vdCBjb250YWluZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmRleE9mKGNvbGxlY3Rpb24sIGVsZW1lbnQpIHtcblxuICBpZiAoIWNvbGxlY3Rpb24gfHwgIWVsZW1lbnQpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICByZXR1cm4gY29sbGVjdGlvbi5pbmRleE9mKGVsZW1lbnQpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/util/Collections.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/util/Cursor.js":
/*!****************************************************!*\
  !*** ./node_modules/diagram-js/lib/util/Cursor.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   has: () => (/* binding */ has),\n/* harmony export */   set: () => (/* binding */ set),\n/* harmony export */   unset: () => (/* binding */ unset)\n/* harmony export */ });\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dom */ \"(ssr)/./node_modules/min-dom/dist/index.esm.js\");\n\n\nvar CURSOR_CLS_PATTERN = /^djs-cursor-.*$/;\n\n/**\n * @param {string} mode\n */\nfunction set(mode) {\n  var classes = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.classes)(document.body);\n\n  classes.removeMatching(CURSOR_CLS_PATTERN);\n\n  if (mode) {\n    classes.add('djs-cursor-' + mode);\n  }\n}\n\nfunction unset() {\n  set(null);\n}\n\n/**\n * @param {string} mode\n *\n * @return {boolean}\n */\nfunction has(mode) {\n  var classes = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.classes)(document.body);\n\n  return classes.has('djs-cursor-' + mode);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9DdXJzb3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUVpQjs7QUFFakI7O0FBRUE7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDTztBQUNQLGdCQUFnQixnREFBVTs7QUFFMUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBOztBQUVBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUCxnQkFBZ0IsZ0RBQVU7O0FBRTFCO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9DdXJzb3IuanM/ZTY4NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBjbGFzc2VzIGFzIGRvbUNsYXNzZXNcbn0gZnJvbSAnbWluLWRvbSc7XG5cbnZhciBDVVJTT1JfQ0xTX1BBVFRFUk4gPSAvXmRqcy1jdXJzb3ItLiokLztcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0KG1vZGUpIHtcbiAgdmFyIGNsYXNzZXMgPSBkb21DbGFzc2VzKGRvY3VtZW50LmJvZHkpO1xuXG4gIGNsYXNzZXMucmVtb3ZlTWF0Y2hpbmcoQ1VSU09SX0NMU19QQVRURVJOKTtcblxuICBpZiAobW9kZSkge1xuICAgIGNsYXNzZXMuYWRkKCdkanMtY3Vyc29yLScgKyBtb2RlKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5zZXQoKSB7XG4gIHNldChudWxsKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9kZVxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXMobW9kZSkge1xuICB2YXIgY2xhc3NlcyA9IGRvbUNsYXNzZXMoZG9jdW1lbnQuYm9keSk7XG5cbiAgcmV0dXJuIGNsYXNzZXMuaGFzKCdkanMtY3Vyc29yLScgKyBtb2RlKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/util/Cursor.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/util/Elements.js":
/*!******************************************************!*\
  !*** ./node_modules/diagram-js/lib/util/Elements.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   add: () => (/* binding */ add),\n/* harmony export */   eachElement: () => (/* binding */ eachElement),\n/* harmony export */   getBBox: () => (/* binding */ getBBox),\n/* harmony export */   getClosure: () => (/* binding */ getClosure),\n/* harmony export */   getEnclosedElements: () => (/* binding */ getEnclosedElements),\n/* harmony export */   getParents: () => (/* binding */ getParents),\n/* harmony export */   getType: () => (/* binding */ getType),\n/* harmony export */   isFrameElement: () => (/* binding */ isFrameElement),\n/* harmony export */   selfAndAllChildren: () => (/* binding */ selfAndAllChildren),\n/* harmony export */   selfAndChildren: () => (/* binding */ selfAndChildren),\n/* harmony export */   selfAndDirectChildren: () => (/* binding */ selfAndDirectChildren)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('../model/Types').Connection} Connection\n * @typedef {import('../model/Types').Element} Element\n * @typedef {import('../model/Types').Shape} Shape\n *\n * @typedef {import('../util/Types').Rect} Rect\n *\n * @typedef { {\n *   allShapes: Record<string, Shape>,\n *   allConnections: Record<string, Connection>,\n *   topLevel: Record<string, Element>,\n *   enclosedConnections: Record<string, Connection>,\n *   enclosedElements: Record<string, Element>\n * } } Closure\n */\n\n/**\n * Get parent elements.\n *\n * @param {Element[]} elements\n *\n * @return {Element[]}\n */\nfunction getParents(elements) {\n\n  // find elements that are not children of any other elements\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.filter)(elements, function(element) {\n    return !(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.find)(elements, function(e) {\n      return e !== element && getParent(element, e);\n    });\n  });\n}\n\n\nfunction getParent(element, parent) {\n  if (!parent) {\n    return;\n  }\n\n  if (element === parent) {\n    return parent;\n  }\n\n  if (!element.parent) {\n    return;\n  }\n\n  return getParent(element.parent, parent);\n}\n\n\n/**\n * Adds an element to a collection and returns true if the\n * element was added.\n *\n * @param {Object[]} elements\n * @param {Object} element\n * @param {boolean} [unique]\n */\nfunction add(elements, element, unique) {\n  var canAdd = !unique || elements.indexOf(element) === -1;\n\n  if (canAdd) {\n    elements.push(element);\n  }\n\n  return canAdd;\n}\n\n\n/**\n * Iterate over each element in a collection, calling the iterator function `fn`\n * with (element, index, recursionDepth).\n *\n * Recurse into all elements that are returned by `fn`.\n *\n * @param {Element|Element[]} elements\n * @param {(element: Element, index: number, depth: number) => Element[] | boolean | undefined} fn\n * @param {number} [depth] maximum recursion depth\n */\nfunction eachElement(elements, fn, depth) {\n\n  depth = depth || 0;\n\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(elements)) {\n    elements = [ elements ];\n  }\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(elements, function(s, i) {\n    var filter = fn(s, i, depth);\n\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(filter) && filter.length) {\n      eachElement(filter, fn, depth + 1);\n    }\n  });\n}\n\n\n/**\n * Collects self + child elements up to a given depth from a list of elements.\n *\n * @param {Element|Element[]} elements the elements to select the children from\n * @param {boolean} unique whether to return a unique result set (no duplicates)\n * @param {number} maxDepth the depth to search through or -1 for infinite\n *\n * @return {Element[]} found elements\n */\nfunction selfAndChildren(elements, unique, maxDepth) {\n  var result = [],\n      processedChildren = [];\n\n  eachElement(elements, function(element, i, depth) {\n    add(result, element, unique);\n\n    var children = element.children;\n\n    // max traversal depth not reached yet\n    if (maxDepth === -1 || depth < maxDepth) {\n\n      // children exist && children not yet processed\n      if (children && add(processedChildren, children, unique)) {\n        return children;\n      }\n    }\n  });\n\n  return result;\n}\n\n/**\n * Return self + direct children for a number of elements\n *\n * @param {Element[]} elements to query\n * @param {boolean} [allowDuplicates] to allow duplicates in the result set\n *\n * @return {Element[]} the collected elements\n */\nfunction selfAndDirectChildren(elements, allowDuplicates) {\n  return selfAndChildren(elements, !allowDuplicates, 1);\n}\n\n\n/**\n * Return self + ALL children for a number of elements\n *\n * @param {Element[]} elements to query\n * @param {boolean} [allowDuplicates] to allow duplicates in the result set\n *\n * @return {Element[]} the collected elements\n */\nfunction selfAndAllChildren(elements, allowDuplicates) {\n  return selfAndChildren(elements, !allowDuplicates, -1);\n}\n\n\n/**\n * Gets the the closure for all selected elements,\n * their enclosed children and connections.\n *\n * @param {Element[]} elements\n * @param {boolean} [isTopLevel=true]\n * @param {Closure} [closure]\n *\n * @return {Closure} newClosure\n */\nfunction getClosure(elements, isTopLevel, closure) {\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isUndefined)(isTopLevel)) {\n    isTopLevel = true;\n  }\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isObject)(isTopLevel)) {\n    closure = isTopLevel;\n    isTopLevel = true;\n  }\n\n\n  closure = closure || {};\n\n  var allShapes = copyObject(closure.allShapes),\n      allConnections = copyObject(closure.allConnections),\n      enclosedElements = copyObject(closure.enclosedElements),\n      enclosedConnections = copyObject(closure.enclosedConnections);\n\n  var topLevel = copyObject(\n    closure.topLevel,\n    isTopLevel && (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.groupBy)(elements, function(e) { return e.id; })\n  );\n\n\n  function handleConnection(c) {\n    if (topLevel[c.source.id] && topLevel[c.target.id]) {\n      topLevel[c.id] = [ c ];\n    }\n\n    // not enclosed as a child, but maybe logically\n    // (connecting two moved elements?)\n    if (allShapes[c.source.id] && allShapes[c.target.id]) {\n      enclosedConnections[c.id] = enclosedElements[c.id] = c;\n    }\n\n    allConnections[c.id] = c;\n  }\n\n  function handleElement(element) {\n\n    enclosedElements[element.id] = element;\n\n    if (element.waypoints) {\n\n      // remember connection\n      enclosedConnections[element.id] = allConnections[element.id] = element;\n    } else {\n\n      // remember shape\n      allShapes[element.id] = element;\n\n      // remember all connections\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(element.incoming, handleConnection);\n\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(element.outgoing, handleConnection);\n\n      // recurse into children\n      return element.children;\n    }\n  }\n\n  eachElement(elements, handleElement);\n\n  return {\n    allShapes: allShapes,\n    allConnections: allConnections,\n    topLevel: topLevel,\n    enclosedConnections: enclosedConnections,\n    enclosedElements: enclosedElements\n  };\n}\n\n/**\n * Returns the surrounding bbox for all elements in\n * the array or the element primitive.\n *\n * @param {Element|Element[]} elements\n * @param {boolean} [stopRecursion=false]\n *\n * @return {Rect}\n */\nfunction getBBox(elements, stopRecursion) {\n\n  stopRecursion = !!stopRecursion;\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(elements)) {\n    elements = [ elements ];\n  }\n\n  var minX,\n      minY,\n      maxX,\n      maxY;\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(elements, function(element) {\n\n    // If element is a connection the bbox must be computed first\n    var bbox = element;\n    if (element.waypoints && !stopRecursion) {\n      bbox = getBBox(element.waypoints, true);\n    }\n\n    var x = bbox.x,\n        y = bbox.y,\n        height = bbox.height || 0,\n        width = bbox.width || 0;\n\n    if (x < minX || minX === undefined) {\n      minX = x;\n    }\n    if (y < minY || minY === undefined) {\n      minY = y;\n    }\n\n    if ((x + width) > maxX || maxX === undefined) {\n      maxX = x + width;\n    }\n    if ((y + height) > maxY || maxY === undefined) {\n      maxY = y + height;\n    }\n  });\n\n  return {\n    x: minX,\n    y: minY,\n    height: maxY - minY,\n    width: maxX - minX\n  };\n}\n\n\n/**\n * Returns all elements that are enclosed from the bounding box.\n *\n *   * If bbox.(width|height) is not specified the method returns\n *     all elements with element.x/y > bbox.x/y\n *   * If only bbox.x or bbox.y is specified, method return all elements with\n *     e.x > bbox.x or e.y > bbox.y\n *\n * @param {Element[]} elements List of Elements to search through\n * @param {Rect} bbox the enclosing bbox.\n *\n * @return {Element[]} enclosed elements\n */\nfunction getEnclosedElements(elements, bbox) {\n\n  var filteredElements = {};\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(elements, function(element) {\n\n    var e = element;\n\n    if (e.waypoints) {\n      e = getBBox(e);\n    }\n\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(bbox.y) && (e.x > bbox.x)) {\n      filteredElements[element.id] = element;\n    }\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(bbox.x) && (e.y > bbox.y)) {\n      filteredElements[element.id] = element;\n    }\n    if (e.x > bbox.x && e.y > bbox.y) {\n      if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(bbox.width) && (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(bbox.height) &&\n          e.width + e.x < bbox.width + bbox.x &&\n          e.height + e.y < bbox.height + bbox.y) {\n\n        filteredElements[element.id] = element;\n      } else if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(bbox.width) || !(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(bbox.height)) {\n        filteredElements[element.id] = element;\n      }\n    }\n  });\n\n  return filteredElements;\n}\n\n/**\n * Get the element's type\n *\n * @param {Element} element\n *\n * @return {'connection' | 'shape' | 'root'}\n */\nfunction getType(element) {\n\n  if ('waypoints' in element) {\n    return 'connection';\n  }\n\n  if ('x' in element) {\n    return 'shape';\n  }\n\n  return 'root';\n}\n\n/**\n * @param {Element} element\n *\n * @return {boolean}\n */\nfunction isFrameElement(element) {\n  return !!(element && element.isFrame);\n}\n\n// helpers ///////////////////////////////\n\nfunction copyObject(src1, src2) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({}, src1 || {}, src2 || {});\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9FbGVtZW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFVa0I7O0FBRWxCO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQsYUFBYSxrQ0FBa0M7QUFDL0MsYUFBYSxnQ0FBZ0M7QUFDN0M7QUFDQSxhQUFhLDhCQUE4QjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEI7QUFDQSxZQUFZO0FBQ1o7QUFDTzs7QUFFUDtBQUNBLFNBQVMsZ0RBQU07QUFDZixZQUFZLDhDQUFJO0FBQ2hCO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxTQUFTO0FBQ3BCO0FBQ087QUFDUDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtQkFBbUI7QUFDOUIsV0FBVyxxRkFBcUY7QUFDaEcsV0FBVyxRQUFRO0FBQ25CO0FBQ087O0FBRVA7O0FBRUEsT0FBTyxpREFBTztBQUNkO0FBQ0E7O0FBRUEsRUFBRSxpREFBTztBQUNUOztBQUVBLFFBQVEsaURBQU87QUFDZjtBQUNBO0FBQ0EsR0FBRztBQUNIOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1CQUFtQjtBQUM5QixXQUFXLFNBQVM7QUFDcEIsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWSxXQUFXO0FBQ3ZCO0FBQ087QUFDUDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QixXQUFXLFNBQVM7QUFDcEI7QUFDQSxZQUFZLFdBQVc7QUFDdkI7QUFDTztBQUNQO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QixXQUFXLFNBQVM7QUFDcEI7QUFDQSxZQUFZLFdBQVc7QUFDdkI7QUFDTztBQUNQO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEI7QUFDQSxZQUFZLFNBQVM7QUFDckI7QUFDTzs7QUFFUCxNQUFNLHFEQUFXO0FBQ2pCO0FBQ0E7O0FBRUEsTUFBTSxrREFBUTtBQUNkO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQixpREFBTyx5QkFBeUIsY0FBYztBQUNoRTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7O0FBRUE7QUFDQSxNQUFNLGlEQUFPOztBQUViLE1BQU0saURBQU87O0FBRWI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsbUJBQW1CO0FBQzlCLFdBQVcsU0FBUztBQUNwQjtBQUNBLFlBQVk7QUFDWjtBQUNPOztBQUVQO0FBQ0EsT0FBTyxpREFBTztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRSxpREFBTzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsTUFBTTtBQUNqQjtBQUNBLFlBQVksV0FBVztBQUN2QjtBQUNPOztBQUVQOztBQUVBLEVBQUUsaURBQU87O0FBRVQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBLFNBQVMsa0RBQVE7QUFDakI7QUFDQTtBQUNBLFNBQVMsa0RBQVE7QUFDakI7QUFDQTtBQUNBO0FBQ0EsVUFBVSxrREFBUSxnQkFBZ0Isa0RBQVE7QUFDMUM7QUFDQTs7QUFFQTtBQUNBLFFBQVEsVUFBVSxrREFBUSxpQkFBaUIsa0RBQVE7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBLFlBQVk7QUFDWjtBQUNPOztBQUVQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBLFlBQVk7QUFDWjtBQUNPO0FBQ1A7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFNBQVMsZ0RBQU0sR0FBRyxZQUFZLFlBQVk7QUFDMUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9FbGVtZW50cy5qcz9iOTJmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGFzc2lnbixcbiAgZmlsdGVyLFxuICBmaW5kLFxuICBpc0FycmF5LFxuICBpc051bWJlcixcbiAgaXNPYmplY3QsXG4gIGlzVW5kZWZpbmVkLFxuICBncm91cEJ5LFxuICBmb3JFYWNoXG59IGZyb20gJ21pbi1kYXNoJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9tb2RlbC9UeXBlcycpLkNvbm5lY3Rpb259IENvbm5lY3Rpb25cbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL21vZGVsL1R5cGVzJykuRWxlbWVudH0gRWxlbWVudFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vbW9kZWwvVHlwZXMnKS5TaGFwZX0gU2hhcGVcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi91dGlsL1R5cGVzJykuUmVjdH0gUmVjdFxuICpcbiAqIEB0eXBlZGVmIHsge1xuICogICBhbGxTaGFwZXM6IFJlY29yZDxzdHJpbmcsIFNoYXBlPixcbiAqICAgYWxsQ29ubmVjdGlvbnM6IFJlY29yZDxzdHJpbmcsIENvbm5lY3Rpb24+LFxuICogICB0b3BMZXZlbDogUmVjb3JkPHN0cmluZywgRWxlbWVudD4sXG4gKiAgIGVuY2xvc2VkQ29ubmVjdGlvbnM6IFJlY29yZDxzdHJpbmcsIENvbm5lY3Rpb24+LFxuICogICBlbmNsb3NlZEVsZW1lbnRzOiBSZWNvcmQ8c3RyaW5nLCBFbGVtZW50PlxuICogfSB9IENsb3N1cmVcbiAqL1xuXG4vKipcbiAqIEdldCBwYXJlbnQgZWxlbWVudHMuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50W119IGVsZW1lbnRzXG4gKlxuICogQHJldHVybiB7RWxlbWVudFtdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFyZW50cyhlbGVtZW50cykge1xuXG4gIC8vIGZpbmQgZWxlbWVudHMgdGhhdCBhcmUgbm90IGNoaWxkcmVuIG9mIGFueSBvdGhlciBlbGVtZW50c1xuICByZXR1cm4gZmlsdGVyKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgcmV0dXJuICFmaW5kKGVsZW1lbnRzLCBmdW5jdGlvbihlKSB7XG4gICAgICByZXR1cm4gZSAhPT0gZWxlbWVudCAmJiBnZXRQYXJlbnQoZWxlbWVudCwgZSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5cbmZ1bmN0aW9uIGdldFBhcmVudChlbGVtZW50LCBwYXJlbnQpIHtcbiAgaWYgKCFwYXJlbnQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoZWxlbWVudCA9PT0gcGFyZW50KSB7XG4gICAgcmV0dXJuIHBhcmVudDtcbiAgfVxuXG4gIGlmICghZWxlbWVudC5wYXJlbnQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICByZXR1cm4gZ2V0UGFyZW50KGVsZW1lbnQucGFyZW50LCBwYXJlbnQpO1xufVxuXG5cbi8qKlxuICogQWRkcyBhbiBlbGVtZW50IHRvIGEgY29sbGVjdGlvbiBhbmQgcmV0dXJucyB0cnVlIGlmIHRoZVxuICogZWxlbWVudCB3YXMgYWRkZWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3RbXX0gZWxlbWVudHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt1bmlxdWVdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGQoZWxlbWVudHMsIGVsZW1lbnQsIHVuaXF1ZSkge1xuICB2YXIgY2FuQWRkID0gIXVuaXF1ZSB8fCBlbGVtZW50cy5pbmRleE9mKGVsZW1lbnQpID09PSAtMTtcblxuICBpZiAoY2FuQWRkKSB7XG4gICAgZWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgfVxuXG4gIHJldHVybiBjYW5BZGQ7XG59XG5cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgZWFjaCBlbGVtZW50IGluIGEgY29sbGVjdGlvbiwgY2FsbGluZyB0aGUgaXRlcmF0b3IgZnVuY3Rpb24gYGZuYFxuICogd2l0aCAoZWxlbWVudCwgaW5kZXgsIHJlY3Vyc2lvbkRlcHRoKS5cbiAqXG4gKiBSZWN1cnNlIGludG8gYWxsIGVsZW1lbnRzIHRoYXQgYXJlIHJldHVybmVkIGJ5IGBmbmAuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fEVsZW1lbnRbXX0gZWxlbWVudHNcbiAqIEBwYXJhbSB7KGVsZW1lbnQ6IEVsZW1lbnQsIGluZGV4OiBudW1iZXIsIGRlcHRoOiBudW1iZXIpID0+IEVsZW1lbnRbXSB8IGJvb2xlYW4gfCB1bmRlZmluZWR9IGZuXG4gKiBAcGFyYW0ge251bWJlcn0gW2RlcHRoXSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aFxuICovXG5leHBvcnQgZnVuY3Rpb24gZWFjaEVsZW1lbnQoZWxlbWVudHMsIGZuLCBkZXB0aCkge1xuXG4gIGRlcHRoID0gZGVwdGggfHwgMDtcblxuICBpZiAoIWlzQXJyYXkoZWxlbWVudHMpKSB7XG4gICAgZWxlbWVudHMgPSBbIGVsZW1lbnRzIF07XG4gIH1cblxuICBmb3JFYWNoKGVsZW1lbnRzLCBmdW5jdGlvbihzLCBpKSB7XG4gICAgdmFyIGZpbHRlciA9IGZuKHMsIGksIGRlcHRoKTtcblxuICAgIGlmIChpc0FycmF5KGZpbHRlcikgJiYgZmlsdGVyLmxlbmd0aCkge1xuICAgICAgZWFjaEVsZW1lbnQoZmlsdGVyLCBmbiwgZGVwdGggKyAxKTtcbiAgICB9XG4gIH0pO1xufVxuXG5cbi8qKlxuICogQ29sbGVjdHMgc2VsZiArIGNoaWxkIGVsZW1lbnRzIHVwIHRvIGEgZ2l2ZW4gZGVwdGggZnJvbSBhIGxpc3Qgb2YgZWxlbWVudHMuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fEVsZW1lbnRbXX0gZWxlbWVudHMgdGhlIGVsZW1lbnRzIHRvIHNlbGVjdCB0aGUgY2hpbGRyZW4gZnJvbVxuICogQHBhcmFtIHtib29sZWFufSB1bmlxdWUgd2hldGhlciB0byByZXR1cm4gYSB1bmlxdWUgcmVzdWx0IHNldCAobm8gZHVwbGljYXRlcylcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhEZXB0aCB0aGUgZGVwdGggdG8gc2VhcmNoIHRocm91Z2ggb3IgLTEgZm9yIGluZmluaXRlXG4gKlxuICogQHJldHVybiB7RWxlbWVudFtdfSBmb3VuZCBlbGVtZW50c1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZkFuZENoaWxkcmVuKGVsZW1lbnRzLCB1bmlxdWUsIG1heERlcHRoKSB7XG4gIHZhciByZXN1bHQgPSBbXSxcbiAgICAgIHByb2Nlc3NlZENoaWxkcmVuID0gW107XG5cbiAgZWFjaEVsZW1lbnQoZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQsIGksIGRlcHRoKSB7XG4gICAgYWRkKHJlc3VsdCwgZWxlbWVudCwgdW5pcXVlKTtcblxuICAgIHZhciBjaGlsZHJlbiA9IGVsZW1lbnQuY2hpbGRyZW47XG5cbiAgICAvLyBtYXggdHJhdmVyc2FsIGRlcHRoIG5vdCByZWFjaGVkIHlldFxuICAgIGlmIChtYXhEZXB0aCA9PT0gLTEgfHwgZGVwdGggPCBtYXhEZXB0aCkge1xuXG4gICAgICAvLyBjaGlsZHJlbiBleGlzdCAmJiBjaGlsZHJlbiBub3QgeWV0IHByb2Nlc3NlZFxuICAgICAgaWYgKGNoaWxkcmVuICYmIGFkZChwcm9jZXNzZWRDaGlsZHJlbiwgY2hpbGRyZW4sIHVuaXF1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBSZXR1cm4gc2VsZiArIGRpcmVjdCBjaGlsZHJlbiBmb3IgYSBudW1iZXIgb2YgZWxlbWVudHNcbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnRbXX0gZWxlbWVudHMgdG8gcXVlcnlcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2FsbG93RHVwbGljYXRlc10gdG8gYWxsb3cgZHVwbGljYXRlcyBpbiB0aGUgcmVzdWx0IHNldFxuICpcbiAqIEByZXR1cm4ge0VsZW1lbnRbXX0gdGhlIGNvbGxlY3RlZCBlbGVtZW50c1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZkFuZERpcmVjdENoaWxkcmVuKGVsZW1lbnRzLCBhbGxvd0R1cGxpY2F0ZXMpIHtcbiAgcmV0dXJuIHNlbGZBbmRDaGlsZHJlbihlbGVtZW50cywgIWFsbG93RHVwbGljYXRlcywgMSk7XG59XG5cblxuLyoqXG4gKiBSZXR1cm4gc2VsZiArIEFMTCBjaGlsZHJlbiBmb3IgYSBudW1iZXIgb2YgZWxlbWVudHNcbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnRbXX0gZWxlbWVudHMgdG8gcXVlcnlcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2FsbG93RHVwbGljYXRlc10gdG8gYWxsb3cgZHVwbGljYXRlcyBpbiB0aGUgcmVzdWx0IHNldFxuICpcbiAqIEByZXR1cm4ge0VsZW1lbnRbXX0gdGhlIGNvbGxlY3RlZCBlbGVtZW50c1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZkFuZEFsbENoaWxkcmVuKGVsZW1lbnRzLCBhbGxvd0R1cGxpY2F0ZXMpIHtcbiAgcmV0dXJuIHNlbGZBbmRDaGlsZHJlbihlbGVtZW50cywgIWFsbG93RHVwbGljYXRlcywgLTEpO1xufVxuXG5cbi8qKlxuICogR2V0cyB0aGUgdGhlIGNsb3N1cmUgZm9yIGFsbCBzZWxlY3RlZCBlbGVtZW50cyxcbiAqIHRoZWlyIGVuY2xvc2VkIGNoaWxkcmVuIGFuZCBjb25uZWN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnRbXX0gZWxlbWVudHNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzVG9wTGV2ZWw9dHJ1ZV1cbiAqIEBwYXJhbSB7Q2xvc3VyZX0gW2Nsb3N1cmVdXG4gKlxuICogQHJldHVybiB7Q2xvc3VyZX0gbmV3Q2xvc3VyZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2xvc3VyZShlbGVtZW50cywgaXNUb3BMZXZlbCwgY2xvc3VyZSkge1xuXG4gIGlmIChpc1VuZGVmaW5lZChpc1RvcExldmVsKSkge1xuICAgIGlzVG9wTGV2ZWwgPSB0cnVlO1xuICB9XG5cbiAgaWYgKGlzT2JqZWN0KGlzVG9wTGV2ZWwpKSB7XG4gICAgY2xvc3VyZSA9IGlzVG9wTGV2ZWw7XG4gICAgaXNUb3BMZXZlbCA9IHRydWU7XG4gIH1cblxuXG4gIGNsb3N1cmUgPSBjbG9zdXJlIHx8IHt9O1xuXG4gIHZhciBhbGxTaGFwZXMgPSBjb3B5T2JqZWN0KGNsb3N1cmUuYWxsU2hhcGVzKSxcbiAgICAgIGFsbENvbm5lY3Rpb25zID0gY29weU9iamVjdChjbG9zdXJlLmFsbENvbm5lY3Rpb25zKSxcbiAgICAgIGVuY2xvc2VkRWxlbWVudHMgPSBjb3B5T2JqZWN0KGNsb3N1cmUuZW5jbG9zZWRFbGVtZW50cyksXG4gICAgICBlbmNsb3NlZENvbm5lY3Rpb25zID0gY29weU9iamVjdChjbG9zdXJlLmVuY2xvc2VkQ29ubmVjdGlvbnMpO1xuXG4gIHZhciB0b3BMZXZlbCA9IGNvcHlPYmplY3QoXG4gICAgY2xvc3VyZS50b3BMZXZlbCxcbiAgICBpc1RvcExldmVsICYmIGdyb3VwQnkoZWxlbWVudHMsIGZ1bmN0aW9uKGUpIHsgcmV0dXJuIGUuaWQ7IH0pXG4gICk7XG5cblxuICBmdW5jdGlvbiBoYW5kbGVDb25uZWN0aW9uKGMpIHtcbiAgICBpZiAodG9wTGV2ZWxbYy5zb3VyY2UuaWRdICYmIHRvcExldmVsW2MudGFyZ2V0LmlkXSkge1xuICAgICAgdG9wTGV2ZWxbYy5pZF0gPSBbIGMgXTtcbiAgICB9XG5cbiAgICAvLyBub3QgZW5jbG9zZWQgYXMgYSBjaGlsZCwgYnV0IG1heWJlIGxvZ2ljYWxseVxuICAgIC8vIChjb25uZWN0aW5nIHR3byBtb3ZlZCBlbGVtZW50cz8pXG4gICAgaWYgKGFsbFNoYXBlc1tjLnNvdXJjZS5pZF0gJiYgYWxsU2hhcGVzW2MudGFyZ2V0LmlkXSkge1xuICAgICAgZW5jbG9zZWRDb25uZWN0aW9uc1tjLmlkXSA9IGVuY2xvc2VkRWxlbWVudHNbYy5pZF0gPSBjO1xuICAgIH1cblxuICAgIGFsbENvbm5lY3Rpb25zW2MuaWRdID0gYztcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUVsZW1lbnQoZWxlbWVudCkge1xuXG4gICAgZW5jbG9zZWRFbGVtZW50c1tlbGVtZW50LmlkXSA9IGVsZW1lbnQ7XG5cbiAgICBpZiAoZWxlbWVudC53YXlwb2ludHMpIHtcblxuICAgICAgLy8gcmVtZW1iZXIgY29ubmVjdGlvblxuICAgICAgZW5jbG9zZWRDb25uZWN0aW9uc1tlbGVtZW50LmlkXSA9IGFsbENvbm5lY3Rpb25zW2VsZW1lbnQuaWRdID0gZWxlbWVudDtcbiAgICB9IGVsc2Uge1xuXG4gICAgICAvLyByZW1lbWJlciBzaGFwZVxuICAgICAgYWxsU2hhcGVzW2VsZW1lbnQuaWRdID0gZWxlbWVudDtcblxuICAgICAgLy8gcmVtZW1iZXIgYWxsIGNvbm5lY3Rpb25zXG4gICAgICBmb3JFYWNoKGVsZW1lbnQuaW5jb21pbmcsIGhhbmRsZUNvbm5lY3Rpb24pO1xuXG4gICAgICBmb3JFYWNoKGVsZW1lbnQub3V0Z29pbmcsIGhhbmRsZUNvbm5lY3Rpb24pO1xuXG4gICAgICAvLyByZWN1cnNlIGludG8gY2hpbGRyZW5cbiAgICAgIHJldHVybiBlbGVtZW50LmNoaWxkcmVuO1xuICAgIH1cbiAgfVxuXG4gIGVhY2hFbGVtZW50KGVsZW1lbnRzLCBoYW5kbGVFbGVtZW50KTtcblxuICByZXR1cm4ge1xuICAgIGFsbFNoYXBlczogYWxsU2hhcGVzLFxuICAgIGFsbENvbm5lY3Rpb25zOiBhbGxDb25uZWN0aW9ucyxcbiAgICB0b3BMZXZlbDogdG9wTGV2ZWwsXG4gICAgZW5jbG9zZWRDb25uZWN0aW9uczogZW5jbG9zZWRDb25uZWN0aW9ucyxcbiAgICBlbmNsb3NlZEVsZW1lbnRzOiBlbmNsb3NlZEVsZW1lbnRzXG4gIH07XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgc3Vycm91bmRpbmcgYmJveCBmb3IgYWxsIGVsZW1lbnRzIGluXG4gKiB0aGUgYXJyYXkgb3IgdGhlIGVsZW1lbnQgcHJpbWl0aXZlLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudHxFbGVtZW50W119IGVsZW1lbnRzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtzdG9wUmVjdXJzaW9uPWZhbHNlXVxuICpcbiAqIEByZXR1cm4ge1JlY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRCQm94KGVsZW1lbnRzLCBzdG9wUmVjdXJzaW9uKSB7XG5cbiAgc3RvcFJlY3Vyc2lvbiA9ICEhc3RvcFJlY3Vyc2lvbjtcbiAgaWYgKCFpc0FycmF5KGVsZW1lbnRzKSkge1xuICAgIGVsZW1lbnRzID0gWyBlbGVtZW50cyBdO1xuICB9XG5cbiAgdmFyIG1pblgsXG4gICAgICBtaW5ZLFxuICAgICAgbWF4WCxcbiAgICAgIG1heFk7XG5cbiAgZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuXG4gICAgLy8gSWYgZWxlbWVudCBpcyBhIGNvbm5lY3Rpb24gdGhlIGJib3ggbXVzdCBiZSBjb21wdXRlZCBmaXJzdFxuICAgIHZhciBiYm94ID0gZWxlbWVudDtcbiAgICBpZiAoZWxlbWVudC53YXlwb2ludHMgJiYgIXN0b3BSZWN1cnNpb24pIHtcbiAgICAgIGJib3ggPSBnZXRCQm94KGVsZW1lbnQud2F5cG9pbnRzLCB0cnVlKTtcbiAgICB9XG5cbiAgICB2YXIgeCA9IGJib3gueCxcbiAgICAgICAgeSA9IGJib3gueSxcbiAgICAgICAgaGVpZ2h0ID0gYmJveC5oZWlnaHQgfHwgMCxcbiAgICAgICAgd2lkdGggPSBiYm94LndpZHRoIHx8IDA7XG5cbiAgICBpZiAoeCA8IG1pblggfHwgbWluWCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBtaW5YID0geDtcbiAgICB9XG4gICAgaWYgKHkgPCBtaW5ZIHx8IG1pblkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgbWluWSA9IHk7XG4gICAgfVxuXG4gICAgaWYgKCh4ICsgd2lkdGgpID4gbWF4WCB8fCBtYXhYID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG1heFggPSB4ICsgd2lkdGg7XG4gICAgfVxuICAgIGlmICgoeSArIGhlaWdodCkgPiBtYXhZIHx8IG1heFkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgbWF4WSA9IHkgKyBoZWlnaHQ7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4ge1xuICAgIHg6IG1pblgsXG4gICAgeTogbWluWSxcbiAgICBoZWlnaHQ6IG1heFkgLSBtaW5ZLFxuICAgIHdpZHRoOiBtYXhYIC0gbWluWFxuICB9O1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBhbGwgZWxlbWVudHMgdGhhdCBhcmUgZW5jbG9zZWQgZnJvbSB0aGUgYm91bmRpbmcgYm94LlxuICpcbiAqICAgKiBJZiBiYm94Lih3aWR0aHxoZWlnaHQpIGlzIG5vdCBzcGVjaWZpZWQgdGhlIG1ldGhvZCByZXR1cm5zXG4gKiAgICAgYWxsIGVsZW1lbnRzIHdpdGggZWxlbWVudC54L3kgPiBiYm94LngveVxuICogICAqIElmIG9ubHkgYmJveC54IG9yIGJib3gueSBpcyBzcGVjaWZpZWQsIG1ldGhvZCByZXR1cm4gYWxsIGVsZW1lbnRzIHdpdGhcbiAqICAgICBlLnggPiBiYm94Lnggb3IgZS55ID4gYmJveC55XG4gKlxuICogQHBhcmFtIHtFbGVtZW50W119IGVsZW1lbnRzIExpc3Qgb2YgRWxlbWVudHMgdG8gc2VhcmNoIHRocm91Z2hcbiAqIEBwYXJhbSB7UmVjdH0gYmJveCB0aGUgZW5jbG9zaW5nIGJib3guXG4gKlxuICogQHJldHVybiB7RWxlbWVudFtdfSBlbmNsb3NlZCBlbGVtZW50c1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RW5jbG9zZWRFbGVtZW50cyhlbGVtZW50cywgYmJveCkge1xuXG4gIHZhciBmaWx0ZXJlZEVsZW1lbnRzID0ge307XG5cbiAgZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuXG4gICAgdmFyIGUgPSBlbGVtZW50O1xuXG4gICAgaWYgKGUud2F5cG9pbnRzKSB7XG4gICAgICBlID0gZ2V0QkJveChlKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzTnVtYmVyKGJib3gueSkgJiYgKGUueCA+IGJib3gueCkpIHtcbiAgICAgIGZpbHRlcmVkRWxlbWVudHNbZWxlbWVudC5pZF0gPSBlbGVtZW50O1xuICAgIH1cbiAgICBpZiAoIWlzTnVtYmVyKGJib3gueCkgJiYgKGUueSA+IGJib3gueSkpIHtcbiAgICAgIGZpbHRlcmVkRWxlbWVudHNbZWxlbWVudC5pZF0gPSBlbGVtZW50O1xuICAgIH1cbiAgICBpZiAoZS54ID4gYmJveC54ICYmIGUueSA+IGJib3gueSkge1xuICAgICAgaWYgKGlzTnVtYmVyKGJib3gud2lkdGgpICYmIGlzTnVtYmVyKGJib3guaGVpZ2h0KSAmJlxuICAgICAgICAgIGUud2lkdGggKyBlLnggPCBiYm94LndpZHRoICsgYmJveC54ICYmXG4gICAgICAgICAgZS5oZWlnaHQgKyBlLnkgPCBiYm94LmhlaWdodCArIGJib3gueSkge1xuXG4gICAgICAgIGZpbHRlcmVkRWxlbWVudHNbZWxlbWVudC5pZF0gPSBlbGVtZW50O1xuICAgICAgfSBlbHNlIGlmICghaXNOdW1iZXIoYmJveC53aWR0aCkgfHwgIWlzTnVtYmVyKGJib3guaGVpZ2h0KSkge1xuICAgICAgICBmaWx0ZXJlZEVsZW1lbnRzW2VsZW1lbnQuaWRdID0gZWxlbWVudDtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBmaWx0ZXJlZEVsZW1lbnRzO1xufVxuXG4vKipcbiAqIEdldCB0aGUgZWxlbWVudCdzIHR5cGVcbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJuIHsnY29ubmVjdGlvbicgfCAnc2hhcGUnIHwgJ3Jvb3QnfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHlwZShlbGVtZW50KSB7XG5cbiAgaWYgKCd3YXlwb2ludHMnIGluIGVsZW1lbnQpIHtcbiAgICByZXR1cm4gJ2Nvbm5lY3Rpb24nO1xuICB9XG5cbiAgaWYgKCd4JyBpbiBlbGVtZW50KSB7XG4gICAgcmV0dXJuICdzaGFwZSc7XG4gIH1cblxuICByZXR1cm4gJ3Jvb3QnO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0ZyYW1lRWxlbWVudChlbGVtZW50KSB7XG4gIHJldHVybiAhIShlbGVtZW50ICYmIGVsZW1lbnQuaXNGcmFtZSk7XG59XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBjb3B5T2JqZWN0KHNyYzEsIHNyYzIpIHtcbiAgcmV0dXJuIGFzc2lnbih7fSwgc3JjMSB8fCB7fSwgc3JjMiB8fCB7fSk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/util/Elements.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/util/EscapeUtil.js":
/*!********************************************************!*\
  !*** ./node_modules/diagram-js/lib/util/EscapeUtil.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   escapeCSS: () => (/* binding */ escapeCSS),\n/* harmony export */   escapeHTML: () => (/* binding */ escapeHTML)\n/* harmony export */ });\n/**\n * @param {string} str\n *\n * @return {string}\n */\nfunction escapeCSS(str) {\n  return CSS.escape(str);\n}\n\nvar HTML_ESCAPE_MAP = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  '\\'': '&#39;'\n};\n\n/**\n * @param {string} str\n *\n * @return {string}\n */\nfunction escapeHTML(str) {\n  str = '' + str;\n\n  return str && str.replace(/[&<>\"']/g, function(match) {\n    return HTML_ESCAPE_MAP[match];\n  });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9Fc2NhcGVVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZO0FBQ1o7QUFDTztBQUNQO0FBQ0E7O0FBRUE7QUFDQSxhQUFhO0FBQ2IsWUFBWTtBQUNaLFlBQVk7QUFDWixjQUFjO0FBQ2QsY0FBYztBQUNkOztBQUVBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUDs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvRXNjYXBlVXRpbC5qcz9lMGUyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICpcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZUNTUyhzdHIpIHtcbiAgcmV0dXJuIENTUy5lc2NhcGUoc3RyKTtcbn1cblxudmFyIEhUTUxfRVNDQVBFX01BUCA9IHtcbiAgJyYnOiAnJmFtcDsnLFxuICAnPCc6ICcmbHQ7JyxcbiAgJz4nOiAnJmd0OycsXG4gICdcIic6ICcmcXVvdDsnLFxuICAnXFwnJzogJyYjMzk7J1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gKlxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlSFRNTChzdHIpIHtcbiAgc3RyID0gJycgKyBzdHI7XG5cbiAgcmV0dXJuIHN0ciAmJiBzdHIucmVwbGFjZSgvWyY8PlwiJ10vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICByZXR1cm4gSFRNTF9FU0NBUEVfTUFQW21hdGNoXTtcbiAgfSk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/util/EscapeUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/util/Event.js":
/*!***************************************************!*\
  !*** ./node_modules/diagram-js/lib/util/Event.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getOriginal: () => (/* binding */ getOriginal),\n/* harmony export */   stopPropagation: () => (/* binding */ stopPropagation),\n/* harmony export */   toPoint: () => (/* binding */ toPoint)\n/* harmony export */ });\n/**\n * @typedef {import('../util/Types').Point} Point\n */\n\nfunction __stopPropagation(event) {\n  if (!event || typeof event.stopPropagation !== 'function') {\n    return;\n  }\n\n  event.stopPropagation();\n}\n\n/**\n * @param {import('../core/EventBus').Event} event\n *\n * @return {Event}\n */\nfunction getOriginal(event) {\n  return event.originalEvent || event.srcEvent;\n}\n\n/**\n * @param {Event|import('../core/EventBus').Event} event\n */\nfunction stopPropagation(event) {\n  __stopPropagation(event);\n  __stopPropagation(getOriginal(event));\n}\n\n/**\n * @param {Event} event\n *\n * @return {Point|null}\n */\nfunction toPoint(event) {\n\n  if (event.pointers && event.pointers.length) {\n    event = event.pointers[0];\n  }\n\n  if (event.touches && event.touches.length) {\n    event = event.touches[0];\n  }\n\n  return event ? {\n    x: event.clientX,\n    y: event.clientY\n  } : null;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9FdmVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBLGFBQWEsK0JBQStCO0FBQzVDOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLGtDQUFrQztBQUM3QztBQUNBLFlBQVk7QUFDWjtBQUNPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBLFdBQVcsd0NBQXdDO0FBQ25EO0FBQ087QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQSxZQUFZO0FBQ1o7QUFDTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi91dGlsL0V2ZW50LmpzPzdjYjgiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi91dGlsL1R5cGVzJykuUG9pbnR9IFBvaW50XG4gKi9cblxuZnVuY3Rpb24gX19zdG9wUHJvcGFnYXRpb24oZXZlbnQpIHtcbiAgaWYgKCFldmVudCB8fCB0eXBlb2YgZXZlbnQuc3RvcFByb3BhZ2F0aW9uICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2NvcmUvRXZlbnRCdXMnKS5FdmVudH0gZXZlbnRcbiAqXG4gKiBAcmV0dXJuIHtFdmVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE9yaWdpbmFsKGV2ZW50KSB7XG4gIHJldHVybiBldmVudC5vcmlnaW5hbEV2ZW50IHx8IGV2ZW50LnNyY0V2ZW50O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RXZlbnR8aW1wb3J0KCcuLi9jb3JlL0V2ZW50QnVzJykuRXZlbnR9IGV2ZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oZXZlbnQpIHtcbiAgX19zdG9wUHJvcGFnYXRpb24oZXZlbnQpO1xuICBfX3N0b3BQcm9wYWdhdGlvbihnZXRPcmlnaW5hbChldmVudCkpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gKlxuICogQHJldHVybiB7UG9pbnR8bnVsbH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvUG9pbnQoZXZlbnQpIHtcblxuICBpZiAoZXZlbnQucG9pbnRlcnMgJiYgZXZlbnQucG9pbnRlcnMubGVuZ3RoKSB7XG4gICAgZXZlbnQgPSBldmVudC5wb2ludGVyc1swXTtcbiAgfVxuXG4gIGlmIChldmVudC50b3VjaGVzICYmIGV2ZW50LnRvdWNoZXMubGVuZ3RoKSB7XG4gICAgZXZlbnQgPSBldmVudC50b3VjaGVzWzBdO1xuICB9XG5cbiAgcmV0dXJuIGV2ZW50ID8ge1xuICAgIHg6IGV2ZW50LmNsaWVudFgsXG4gICAgeTogZXZlbnQuY2xpZW50WVxuICB9IDogbnVsbDtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/util/Event.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/util/Geometry.js":
/*!******************************************************!*\
  !*** ./node_modules/diagram-js/lib/util/Geometry.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getMidPoint: () => (/* binding */ getMidPoint),\n/* harmony export */   pointDistance: () => (/* binding */ pointDistance),\n/* harmony export */   pointInRect: () => (/* binding */ pointInRect),\n/* harmony export */   pointsAligned: () => (/* binding */ pointsAligned),\n/* harmony export */   pointsAlignedOnAxis: () => (/* binding */ pointsAlignedOnAxis),\n/* harmony export */   pointsOnLine: () => (/* binding */ pointsOnLine)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('../util/Types').Axis} Axis\n * @typedef {import('../util/Types').Point} Point\n * @typedef {import('../util/Types').Rect} Rect\n */\n\n/**\n * Computes the distance between two points.\n *\n * @param {Point} a\n * @param {Point} b\n *\n * @return {number} The distance between the two points.\n */\nfunction pointDistance(a, b) {\n  if (!a || !b) {\n    return -1;\n  }\n\n  return Math.sqrt(\n    Math.pow(a.x - b.x, 2) +\n    Math.pow(a.y - b.y, 2)\n  );\n}\n\n\n/**\n * Returns true if the point r is on the line between p and q.\n *\n * @param {Point} p\n * @param {Point} q\n * @param {Point} r\n * @param {number} [accuracy=5] The accuracy with which to check (lower is better).\n *\n * @return {boolean}\n */\nfunction pointsOnLine(p, q, r, accuracy) {\n\n  if (typeof accuracy === 'undefined') {\n    accuracy = 5;\n  }\n\n  if (!p || !q || !r) {\n    return false;\n  }\n\n  var val = (q.x - p.x) * (r.y - p.y) - (q.y - p.y) * (r.x - p.x),\n      dist = pointDistance(p, q);\n\n  // @see http://stackoverflow.com/a/907491/412190\n  return Math.abs(val / dist) <= accuracy;\n}\n\n\nvar ALIGNED_THRESHOLD = 2;\n\n/**\n * Check whether two points are horizontally or vertically aligned.\n *\n * @param {Point[]|Point} a\n * @param {Point} [b]\n *\n * @return {string|boolean} If and how the two points are aligned ('h', 'v' or `false`).\n */\nfunction pointsAligned(a, b) {\n  var points = Array.from(arguments).flat();\n\n  const axisMap = {\n    'x': 'v',\n    'y': 'h'\n  };\n\n  for (const [ axis, orientation ] of Object.entries(axisMap)) {\n    if (pointsAlignedOnAxis(axis, points)) {\n      return orientation;\n    }\n  }\n\n  return false;\n}\n\n/**\n * @param {Axis} axis\n * @param {Point[]} points\n *\n * @return {boolean}\n */\nfunction pointsAlignedOnAxis(axis, points) {\n  const referencePoint = points[0];\n\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.every)(points, function(point) {\n    return Math.abs(referencePoint[axis] - point[axis]) <= ALIGNED_THRESHOLD;\n  });\n}\n\n/**\n * Returns true if the point p is inside the rectangle rect\n *\n * @param {Point} p\n * @param {Rect} rect\n * @param {number} tolerance\n *\n * @return {boolean}\n */\nfunction pointInRect(p, rect, tolerance) {\n  tolerance = tolerance || 0;\n\n  return p.x > rect.x - tolerance &&\n         p.y > rect.y - tolerance &&\n         p.x < rect.x + rect.width + tolerance &&\n         p.y < rect.y + rect.height + tolerance;\n}\n\n/**\n * Returns a point in the middle of points p and q\n *\n * @param {Point} p\n * @param {Point} q\n *\n * @return {Point} The mid point between the two points.\n */\nfunction getMidPoint(p, q) {\n  return {\n    x: Math.round(p.x + ((q.x - p.x) / 2.0)),\n    y: Math.round(p.y + ((q.y - p.y) / 2.0))\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9HZW9tZXRyeS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRWtCOztBQUVsQjtBQUNBLGFBQWEsOEJBQThCO0FBQzNDLGFBQWEsK0JBQStCO0FBQzVDLGFBQWEsOEJBQThCO0FBQzNDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEI7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZO0FBQ1o7QUFDTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsWUFBWSxnQkFBZ0I7QUFDNUI7QUFDTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLFNBQVM7QUFDcEI7QUFDQSxZQUFZO0FBQ1o7QUFDTztBQUNQOztBQUVBLFNBQVMsK0NBQUs7QUFDZDtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVk7QUFDWjtBQUNPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvR2VvbWV0cnkuanM/YjhjZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBldmVyeVxufSBmcm9tICdtaW4tZGFzaCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vdXRpbC9UeXBlcycpLkF4aXN9IEF4aXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3V0aWwvVHlwZXMnKS5Qb2ludH0gUG9pbnRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3V0aWwvVHlwZXMnKS5SZWN0fSBSZWN0XG4gKi9cblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzLlxuICpcbiAqIEBwYXJhbSB7UG9pbnR9IGFcbiAqIEBwYXJhbSB7UG9pbnR9IGJcbiAqXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSB0d28gcG9pbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcG9pbnREaXN0YW5jZShhLCBiKSB7XG4gIGlmICghYSB8fCAhYikge1xuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIHJldHVybiBNYXRoLnNxcnQoXG4gICAgTWF0aC5wb3coYS54IC0gYi54LCAyKSArXG4gICAgTWF0aC5wb3coYS55IC0gYi55LCAyKVxuICApO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBwb2ludCByIGlzIG9uIHRoZSBsaW5lIGJldHdlZW4gcCBhbmQgcS5cbiAqXG4gKiBAcGFyYW0ge1BvaW50fSBwXG4gKiBAcGFyYW0ge1BvaW50fSBxXG4gKiBAcGFyYW0ge1BvaW50fSByXG4gKiBAcGFyYW0ge251bWJlcn0gW2FjY3VyYWN5PTVdIFRoZSBhY2N1cmFjeSB3aXRoIHdoaWNoIHRvIGNoZWNrIChsb3dlciBpcyBiZXR0ZXIpLlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb2ludHNPbkxpbmUocCwgcSwgciwgYWNjdXJhY3kpIHtcblxuICBpZiAodHlwZW9mIGFjY3VyYWN5ID09PSAndW5kZWZpbmVkJykge1xuICAgIGFjY3VyYWN5ID0gNTtcbiAgfVxuXG4gIGlmICghcCB8fCAhcSB8fCAhcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciB2YWwgPSAocS54IC0gcC54KSAqIChyLnkgLSBwLnkpIC0gKHEueSAtIHAueSkgKiAoci54IC0gcC54KSxcbiAgICAgIGRpc3QgPSBwb2ludERpc3RhbmNlKHAsIHEpO1xuXG4gIC8vIEBzZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvOTA3NDkxLzQxMjE5MFxuICByZXR1cm4gTWF0aC5hYnModmFsIC8gZGlzdCkgPD0gYWNjdXJhY3k7XG59XG5cblxudmFyIEFMSUdORURfVEhSRVNIT0xEID0gMjtcblxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIHR3byBwb2ludHMgYXJlIGhvcml6b250YWxseSBvciB2ZXJ0aWNhbGx5IGFsaWduZWQuXG4gKlxuICogQHBhcmFtIHtQb2ludFtdfFBvaW50fSBhXG4gKiBAcGFyYW0ge1BvaW50fSBbYl1cbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd8Ym9vbGVhbn0gSWYgYW5kIGhvdyB0aGUgdHdvIHBvaW50cyBhcmUgYWxpZ25lZCAoJ2gnLCAndicgb3IgYGZhbHNlYCkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb2ludHNBbGlnbmVkKGEsIGIpIHtcbiAgdmFyIHBvaW50cyA9IEFycmF5LmZyb20oYXJndW1lbnRzKS5mbGF0KCk7XG5cbiAgY29uc3QgYXhpc01hcCA9IHtcbiAgICAneCc6ICd2JyxcbiAgICAneSc6ICdoJ1xuICB9O1xuXG4gIGZvciAoY29uc3QgWyBheGlzLCBvcmllbnRhdGlvbiBdIG9mIE9iamVjdC5lbnRyaWVzKGF4aXNNYXApKSB7XG4gICAgaWYgKHBvaW50c0FsaWduZWRPbkF4aXMoYXhpcywgcG9pbnRzKSkge1xuICAgICAgcmV0dXJuIG9yaWVudGF0aW9uO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0F4aXN9IGF4aXNcbiAqIEBwYXJhbSB7UG9pbnRbXX0gcG9pbnRzXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvaW50c0FsaWduZWRPbkF4aXMoYXhpcywgcG9pbnRzKSB7XG4gIGNvbnN0IHJlZmVyZW5jZVBvaW50ID0gcG9pbnRzWzBdO1xuXG4gIHJldHVybiBldmVyeShwb2ludHMsIGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgcmV0dXJuIE1hdGguYWJzKHJlZmVyZW5jZVBvaW50W2F4aXNdIC0gcG9pbnRbYXhpc10pIDw9IEFMSUdORURfVEhSRVNIT0xEO1xuICB9KTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHBvaW50IHAgaXMgaW5zaWRlIHRoZSByZWN0YW5nbGUgcmVjdFxuICpcbiAqIEBwYXJhbSB7UG9pbnR9IHBcbiAqIEBwYXJhbSB7UmVjdH0gcmVjdFxuICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZVxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb2ludEluUmVjdChwLCByZWN0LCB0b2xlcmFuY2UpIHtcbiAgdG9sZXJhbmNlID0gdG9sZXJhbmNlIHx8IDA7XG5cbiAgcmV0dXJuIHAueCA+IHJlY3QueCAtIHRvbGVyYW5jZSAmJlxuICAgICAgICAgcC55ID4gcmVjdC55IC0gdG9sZXJhbmNlICYmXG4gICAgICAgICBwLnggPCByZWN0LnggKyByZWN0LndpZHRoICsgdG9sZXJhbmNlICYmXG4gICAgICAgICBwLnkgPCByZWN0LnkgKyByZWN0LmhlaWdodCArIHRvbGVyYW5jZTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgcG9pbnQgaW4gdGhlIG1pZGRsZSBvZiBwb2ludHMgcCBhbmQgcVxuICpcbiAqIEBwYXJhbSB7UG9pbnR9IHBcbiAqIEBwYXJhbSB7UG9pbnR9IHFcbiAqXG4gKiBAcmV0dXJuIHtQb2ludH0gVGhlIG1pZCBwb2ludCBiZXR3ZWVuIHRoZSB0d28gcG9pbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWlkUG9pbnQocCwgcSkge1xuICByZXR1cm4ge1xuICAgIHg6IE1hdGgucm91bmQocC54ICsgKChxLnggLSBwLngpIC8gMi4wKSksXG4gICAgeTogTWF0aC5yb3VuZChwLnkgKyAoKHEueSAtIHAueSkgLyAyLjApKVxuICB9O1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/util/Geometry.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/util/GraphicsUtil.js":
/*!**********************************************************!*\
  !*** ./node_modules/diagram-js/lib/util/GraphicsUtil.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getChildren: () => (/* binding */ getChildren),\n/* harmony export */   getVisual: () => (/* binding */ getVisual)\n/* harmony export */ });\n/**\n * SVGs for elements are generated by the {@link GraphicsFactory}.\n *\n * This utility gives quick access to the important semantic\n * parts of an element.\n */\n\n/**\n * Returns the visual part of a diagram element.\n *\n * @param {SVGElement} gfx\n *\n * @return {SVGElement}\n */\nfunction getVisual(gfx) {\n  return gfx.childNodes[0];\n}\n\n/**\n * Returns the children for a given diagram element.\n *\n * @param {SVGElement} gfx\n * @return {SVGElement}\n */\nfunction getChildren(gfx) {\n  return gfx.parentNode.childNodes[1];\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9HcmFwaGljc1V0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBLDJDQUEyQyxzQkFBc0I7QUFDakU7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QixZQUFZO0FBQ1o7QUFDTztBQUNQO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9HcmFwaGljc1V0aWwuanM/ODMzNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNWR3MgZm9yIGVsZW1lbnRzIGFyZSBnZW5lcmF0ZWQgYnkgdGhlIHtAbGluayBHcmFwaGljc0ZhY3Rvcnl9LlxuICpcbiAqIFRoaXMgdXRpbGl0eSBnaXZlcyBxdWljayBhY2Nlc3MgdG8gdGhlIGltcG9ydGFudCBzZW1hbnRpY1xuICogcGFydHMgb2YgYW4gZWxlbWVudC5cbiAqL1xuXG4vKipcbiAqIFJldHVybnMgdGhlIHZpc3VhbCBwYXJ0IG9mIGEgZGlhZ3JhbSBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZ2Z4XG4gKlxuICogQHJldHVybiB7U1ZHRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFZpc3VhbChnZngpIHtcbiAgcmV0dXJuIGdmeC5jaGlsZE5vZGVzWzBdO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGNoaWxkcmVuIGZvciBhIGdpdmVuIGRpYWdyYW0gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGdmeFxuICogQHJldHVybiB7U1ZHRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENoaWxkcmVuKGdmeCkge1xuICByZXR1cm4gZ2Z4LnBhcmVudE5vZGUuY2hpbGROb2Rlc1sxXTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/util/GraphicsUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/util/IdGenerator.js":
/*!*********************************************************!*\
  !*** ./node_modules/diagram-js/lib/util/IdGenerator.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ IdGenerator)\n/* harmony export */ });\n/**\n * Util that provides unique IDs.\n *\n * @class\n * @constructor\n *\n * The ids can be customized via a given prefix and contain a random value to avoid collisions.\n *\n * @param {string} [prefix] a prefix to prepend to generated ids (for better readability)\n */\nfunction IdGenerator(prefix) {\n\n  this._counter = 0;\n  this._prefix = (prefix ? prefix + '-' : '') + Math.floor(Math.random() * 1000000000) + '-';\n}\n\n/**\n * Returns a next unique ID.\n *\n * @return {string} the id\n */\nIdGenerator.prototype.next = function() {\n  return this._prefix + (++this._counter);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9JZEdlbmVyYXRvci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNlOztBQUVmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9JZEdlbmVyYXRvci5qcz9mNTdiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVXRpbCB0aGF0IHByb3ZpZGVzIHVuaXF1ZSBJRHMuXG4gKlxuICogQGNsYXNzXG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBUaGUgaWRzIGNhbiBiZSBjdXN0b21pemVkIHZpYSBhIGdpdmVuIHByZWZpeCBhbmQgY29udGFpbiBhIHJhbmRvbSB2YWx1ZSB0byBhdm9pZCBjb2xsaXNpb25zLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBbcHJlZml4XSBhIHByZWZpeCB0byBwcmVwZW5kIHRvIGdlbmVyYXRlZCBpZHMgKGZvciBiZXR0ZXIgcmVhZGFiaWxpdHkpXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIElkR2VuZXJhdG9yKHByZWZpeCkge1xuXG4gIHRoaXMuX2NvdW50ZXIgPSAwO1xuICB0aGlzLl9wcmVmaXggPSAocHJlZml4ID8gcHJlZml4ICsgJy0nIDogJycpICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDAwMDAwMCkgKyAnLSc7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIG5leHQgdW5pcXVlIElELlxuICpcbiAqIEByZXR1cm4ge3N0cmluZ30gdGhlIGlkXG4gKi9cbklkR2VuZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9wcmVmaXggKyAoKyt0aGlzLl9jb3VudGVyKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/util/IdGenerator.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/util/LineIntersection.js":
/*!**************************************************************!*\
  !*** ./node_modules/diagram-js/lib/util/LineIntersection.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getApproxIntersection: () => (/* binding */ getApproxIntersection)\n/* harmony export */ });\n/* harmony import */ var _Geometry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Geometry */ \"(ssr)/./node_modules/diagram-js/lib/util/Geometry.js\");\n/* harmony import */ var path_intersection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path-intersection */ \"(ssr)/./node_modules/path-intersection/intersect.js\");\n\n\n\n\n/**\n * @typedef {import('../util/Types').Point} Point\n *\n * @typedef { {\n *   bendpoint?: boolean;\n *   index: number;\n *   point: Point;\n * } } Intersection\n */\n\nvar round = Math.round,\n    max = Math.max;\n\n\nfunction circlePath(center, r) {\n  var x = center.x,\n      y = center.y;\n\n  return [\n    [ 'M', x, y ],\n    [ 'm', 0, -r ],\n    [ 'a', r, r, 0, 1, 1, 0, 2 * r ],\n    [ 'a', r, r, 0, 1, 1, 0, -2 * r ],\n    [ 'z' ]\n  ];\n}\n\nfunction linePath(points) {\n  var segments = [];\n\n  points.forEach(function(p, idx) {\n    segments.push([ idx === 0 ? 'M' : 'L', p.x, p.y ]);\n  });\n\n  return segments;\n}\n\n\nvar INTERSECTION_THRESHOLD = 10;\n\n/**\n * @param {Point[]} waypoints\n * @param {Point} reference\n *\n * @return {Intersection|null}\n */\nfunction getBendpointIntersection(waypoints, reference) {\n\n  var i, w;\n\n  for (i = 0; (w = waypoints[i]); i++) {\n\n    if ((0,_Geometry__WEBPACK_IMPORTED_MODULE_1__.pointDistance)(w, reference) <= INTERSECTION_THRESHOLD) {\n      return {\n        point: waypoints[i],\n        bendpoint: true,\n        index: i\n      };\n    }\n  }\n\n  return null;\n}\n\n/**\n * @param {Point[]} waypoints\n * @param {Point} reference\n *\n * @return {Intersection|null}\n */\nfunction getPathIntersection(waypoints, reference) {\n\n  var intersections = (0,path_intersection__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(circlePath(reference, INTERSECTION_THRESHOLD), linePath(waypoints));\n\n  var a = intersections[0],\n      b = intersections[intersections.length - 1],\n      idx;\n\n  if (!a) {\n\n    // no intersection\n    return null;\n  }\n\n  if (a !== b) {\n\n    if (a.segment2 !== b.segment2) {\n\n      // we use the bendpoint in between both segments\n      // as the intersection point\n\n      idx = max(a.segment2, b.segment2) - 1;\n\n      return {\n        point: waypoints[idx],\n        bendpoint: true,\n        index: idx\n      };\n    }\n\n    return {\n      point: {\n        x: (round(a.x + b.x) / 2),\n        y: (round(a.y + b.y) / 2)\n      },\n      index: a.segment2\n    };\n  }\n\n  return {\n    point: {\n      x: round(a.x),\n      y: round(a.y)\n    },\n    index: a.segment2\n  };\n}\n\n/**\n * Returns the closest point on the connection towards a given reference point.\n *\n * @param {Point[]} waypoints\n * @param {Point} reference\n *\n * @return {Intersection|null}\n */\nfunction getApproxIntersection(waypoints, reference) {\n  return getBendpointIntersection(waypoints, reference) || getPathIntersection(waypoints, reference);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9MaW5lSW50ZXJzZWN0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUVvQjs7QUFFMkI7O0FBRS9DO0FBQ0EsYUFBYSwrQkFBK0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsT0FBTztBQUNsQjtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBOztBQUVBLGNBQWMsb0JBQW9COztBQUVsQyxRQUFRLHdEQUFhO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUEsc0JBQXNCLDZEQUFjOztBQUVwQztBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsT0FBTztBQUNsQjtBQUNBLFlBQVk7QUFDWjtBQUNPO0FBQ1A7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi91dGlsL0xpbmVJbnRlcnNlY3Rpb24uanM/MGM5MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBwb2ludERpc3RhbmNlXG59IGZyb20gJy4vR2VvbWV0cnknO1xuXG5pbXBvcnQgaW50ZXJzZWN0UGF0aHMgZnJvbSAncGF0aC1pbnRlcnNlY3Rpb24nO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3V0aWwvVHlwZXMnKS5Qb2ludH0gUG9pbnRcbiAqXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgYmVuZHBvaW50PzogYm9vbGVhbjtcbiAqICAgaW5kZXg6IG51bWJlcjtcbiAqICAgcG9pbnQ6IFBvaW50O1xuICogfSB9IEludGVyc2VjdGlvblxuICovXG5cbnZhciByb3VuZCA9IE1hdGgucm91bmQsXG4gICAgbWF4ID0gTWF0aC5tYXg7XG5cblxuZnVuY3Rpb24gY2lyY2xlUGF0aChjZW50ZXIsIHIpIHtcbiAgdmFyIHggPSBjZW50ZXIueCxcbiAgICAgIHkgPSBjZW50ZXIueTtcblxuICByZXR1cm4gW1xuICAgIFsgJ00nLCB4LCB5IF0sXG4gICAgWyAnbScsIDAsIC1yIF0sXG4gICAgWyAnYScsIHIsIHIsIDAsIDEsIDEsIDAsIDIgKiByIF0sXG4gICAgWyAnYScsIHIsIHIsIDAsIDEsIDEsIDAsIC0yICogciBdLFxuICAgIFsgJ3onIF1cbiAgXTtcbn1cblxuZnVuY3Rpb24gbGluZVBhdGgocG9pbnRzKSB7XG4gIHZhciBzZWdtZW50cyA9IFtdO1xuXG4gIHBvaW50cy5mb3JFYWNoKGZ1bmN0aW9uKHAsIGlkeCkge1xuICAgIHNlZ21lbnRzLnB1c2goWyBpZHggPT09IDAgPyAnTScgOiAnTCcsIHAueCwgcC55IF0pO1xuICB9KTtcblxuICByZXR1cm4gc2VnbWVudHM7XG59XG5cblxudmFyIElOVEVSU0VDVElPTl9USFJFU0hPTEQgPSAxMDtcblxuLyoqXG4gKiBAcGFyYW0ge1BvaW50W119IHdheXBvaW50c1xuICogQHBhcmFtIHtQb2ludH0gcmVmZXJlbmNlXG4gKlxuICogQHJldHVybiB7SW50ZXJzZWN0aW9ufG51bGx9XG4gKi9cbmZ1bmN0aW9uIGdldEJlbmRwb2ludEludGVyc2VjdGlvbih3YXlwb2ludHMsIHJlZmVyZW5jZSkge1xuXG4gIHZhciBpLCB3O1xuXG4gIGZvciAoaSA9IDA7ICh3ID0gd2F5cG9pbnRzW2ldKTsgaSsrKSB7XG5cbiAgICBpZiAocG9pbnREaXN0YW5jZSh3LCByZWZlcmVuY2UpIDw9IElOVEVSU0VDVElPTl9USFJFU0hPTEQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBvaW50OiB3YXlwb2ludHNbaV0sXG4gICAgICAgIGJlbmRwb2ludDogdHJ1ZSxcbiAgICAgICAgaW5kZXg6IGlcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogQHBhcmFtIHtQb2ludFtdfSB3YXlwb2ludHNcbiAqIEBwYXJhbSB7UG9pbnR9IHJlZmVyZW5jZVxuICpcbiAqIEByZXR1cm4ge0ludGVyc2VjdGlvbnxudWxsfVxuICovXG5mdW5jdGlvbiBnZXRQYXRoSW50ZXJzZWN0aW9uKHdheXBvaW50cywgcmVmZXJlbmNlKSB7XG5cbiAgdmFyIGludGVyc2VjdGlvbnMgPSBpbnRlcnNlY3RQYXRocyhjaXJjbGVQYXRoKHJlZmVyZW5jZSwgSU5URVJTRUNUSU9OX1RIUkVTSE9MRCksIGxpbmVQYXRoKHdheXBvaW50cykpO1xuXG4gIHZhciBhID0gaW50ZXJzZWN0aW9uc1swXSxcbiAgICAgIGIgPSBpbnRlcnNlY3Rpb25zW2ludGVyc2VjdGlvbnMubGVuZ3RoIC0gMV0sXG4gICAgICBpZHg7XG5cbiAgaWYgKCFhKSB7XG5cbiAgICAvLyBubyBpbnRlcnNlY3Rpb25cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmIChhICE9PSBiKSB7XG5cbiAgICBpZiAoYS5zZWdtZW50MiAhPT0gYi5zZWdtZW50Mikge1xuXG4gICAgICAvLyB3ZSB1c2UgdGhlIGJlbmRwb2ludCBpbiBiZXR3ZWVuIGJvdGggc2VnbWVudHNcbiAgICAgIC8vIGFzIHRoZSBpbnRlcnNlY3Rpb24gcG9pbnRcblxuICAgICAgaWR4ID0gbWF4KGEuc2VnbWVudDIsIGIuc2VnbWVudDIpIC0gMTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcG9pbnQ6IHdheXBvaW50c1tpZHhdLFxuICAgICAgICBiZW5kcG9pbnQ6IHRydWUsXG4gICAgICAgIGluZGV4OiBpZHhcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHBvaW50OiB7XG4gICAgICAgIHg6IChyb3VuZChhLnggKyBiLngpIC8gMiksXG4gICAgICAgIHk6IChyb3VuZChhLnkgKyBiLnkpIC8gMilcbiAgICAgIH0sXG4gICAgICBpbmRleDogYS5zZWdtZW50MlxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHBvaW50OiB7XG4gICAgICB4OiByb3VuZChhLngpLFxuICAgICAgeTogcm91bmQoYS55KVxuICAgIH0sXG4gICAgaW5kZXg6IGEuc2VnbWVudDJcbiAgfTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjbG9zZXN0IHBvaW50IG9uIHRoZSBjb25uZWN0aW9uIHRvd2FyZHMgYSBnaXZlbiByZWZlcmVuY2UgcG9pbnQuXG4gKlxuICogQHBhcmFtIHtQb2ludFtdfSB3YXlwb2ludHNcbiAqIEBwYXJhbSB7UG9pbnR9IHJlZmVyZW5jZVxuICpcbiAqIEByZXR1cm4ge0ludGVyc2VjdGlvbnxudWxsfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXBwcm94SW50ZXJzZWN0aW9uKHdheXBvaW50cywgcmVmZXJlbmNlKSB7XG4gIHJldHVybiBnZXRCZW5kcG9pbnRJbnRlcnNlY3Rpb24od2F5cG9pbnRzLCByZWZlcmVuY2UpIHx8IGdldFBhdGhJbnRlcnNlY3Rpb24od2F5cG9pbnRzLCByZWZlcmVuY2UpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/util/LineIntersection.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/util/Math.js":
/*!**************************************************!*\
  !*** ./node_modules/diagram-js/lib/util/Math.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   log10: () => (/* binding */ log10),\n/* harmony export */   substract: () => (/* reexport safe */ _PositionUtil__WEBPACK_IMPORTED_MODULE_0__.delta)\n/* harmony export */ });\n/* harmony import */ var _PositionUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PositionUtil */ \"(ssr)/./node_modules/diagram-js/lib/util/PositionUtil.js\");\n/**\n * Get the logarithm of x with base 10.\n *\n * @param {number} x\n */\nfunction log10(x) {\n  return Math.log(x) / Math.log(10);\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9NYXRoLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNPO0FBQ1A7QUFDQTs7QUFFb0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9NYXRoLmpzPzI5MDYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHZXQgdGhlIGxvZ2FyaXRobSBvZiB4IHdpdGggYmFzZSAxMC5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9nMTAoeCkge1xuICByZXR1cm4gTWF0aC5sb2coeCkgLyBNYXRoLmxvZygxMCk7XG59XG5cbmV4cG9ydCB7IGRlbHRhIGFzIHN1YnN0cmFjdCB9IGZyb20gJy4vUG9zaXRpb25VdGlsJztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/util/Math.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/util/ModelUtil.js":
/*!*******************************************************!*\
  !*** ./node_modules/diagram-js/lib/util/ModelUtil.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isConnection: () => (/* binding */ isConnection),\n/* harmony export */   isLabel: () => (/* binding */ isLabel),\n/* harmony export */   isRoot: () => (/* binding */ isRoot)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * Checks whether a value is an instance of Connection.\n *\n * @param {any} value\n *\n * @return {boolean}\n */\nfunction isConnection(value) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isObject)(value) && (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.has)(value, 'waypoints');\n}\n\n/**\n * Checks whether a value is an instance of Label.\n *\n * @param {any} value\n *\n * @return {boolean}\n */\nfunction isLabel(value) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isObject)(value) && (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.has)(value, 'labelTarget');\n}\n\n/**\n * Checks whether a value is an instance of Root.\n *\n * @param {any} value\n *\n * @return {boolean}\n */\nfunction isRoot(value) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isObject)(value) && (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNil)(value.parent);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9Nb2RlbFV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUlrQjs7QUFFbEI7QUFDQTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUCxTQUFTLGtEQUFRLFdBQVcsNkNBQUc7QUFDL0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUCxTQUFTLGtEQUFRLFdBQVcsNkNBQUc7QUFDL0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUCxTQUFTLGtEQUFRLFdBQVcsK0NBQUs7QUFDakMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9Nb2RlbFV0aWwuanM/MGExMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBoYXMsXG4gIGlzTmlsLFxuICBpc09iamVjdFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgYSB2YWx1ZSBpcyBhbiBpbnN0YW5jZSBvZiBDb25uZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Nvbm5lY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHZhbHVlKSAmJiBoYXModmFsdWUsICd3YXlwb2ludHMnKTtcbn1cblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBhIHZhbHVlIGlzIGFuIGluc3RhbmNlIG9mIExhYmVsLlxuICpcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0xhYmVsKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdCh2YWx1ZSkgJiYgaGFzKHZhbHVlLCAnbGFiZWxUYXJnZXQnKTtcbn1cblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBhIHZhbHVlIGlzIGFuIGluc3RhbmNlIG9mIFJvb3QuXG4gKlxuICogQHBhcmFtIHthbnl9IHZhbHVlXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUm9vdCh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3QodmFsdWUpICYmIGlzTmlsKHZhbHVlLnBhcmVudCk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/util/ModelUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/util/Mouse.js":
/*!***************************************************!*\
  !*** ./node_modules/diagram-js/lib/util/Mouse.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   hasPrimaryModifier: () => (/* binding */ hasPrimaryModifier),\n/* harmony export */   hasSecondaryModifier: () => (/* binding */ hasSecondaryModifier),\n/* harmony export */   isAuxiliaryButton: () => (/* binding */ isAuxiliaryButton),\n/* harmony export */   isButton: () => (/* binding */ isButton),\n/* harmony export */   isMac: () => (/* reexport safe */ _Platform__WEBPACK_IMPORTED_MODULE_0__.isMac),\n/* harmony export */   isPrimaryButton: () => (/* binding */ isPrimaryButton),\n/* harmony export */   isSecondaryButton: () => (/* binding */ isSecondaryButton)\n/* harmony export */ });\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Event */ \"(ssr)/./node_modules/diagram-js/lib/util/Event.js\");\n/* harmony import */ var _Platform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Platform */ \"(ssr)/./node_modules/diagram-js/lib/util/Platform.js\");\n\n\n\n\n\n\n/**\n * @param {MouseEvent} event\n * @param {string} button\n *\n * @return {boolean}\n */\nfunction isButton(event, button) {\n  return ((0,_Event__WEBPACK_IMPORTED_MODULE_1__.getOriginal)(event) || event).button === button;\n}\n\n/**\n * @param {MouseEvent} event\n *\n * @return {boolean}\n */\nfunction isPrimaryButton(event) {\n\n  // button === 0 -> left áka primary mouse button\n  return isButton(event, 0);\n}\n\n/**\n * @param {MouseEvent} event\n *\n * @return {boolean}\n */\nfunction isAuxiliaryButton(event) {\n\n  // button === 1 -> auxiliary áka wheel button\n  return isButton(event, 1);\n}\n\n/**\n * @param {MouseEvent} event\n *\n * @return {boolean}\n */\nfunction isSecondaryButton(event) {\n\n  // button === 2 -> right áka secondary button\n  return isButton(event, 2);\n}\n\n/**\n * @param {MouseEvent} event\n *\n * @return {boolean}\n */\nfunction hasPrimaryModifier(event) {\n  var originalEvent = (0,_Event__WEBPACK_IMPORTED_MODULE_1__.getOriginal)(event) || event;\n\n  if (!isPrimaryButton(event)) {\n    return false;\n  }\n\n  // Use cmd as primary modifier key for mac OS\n  if ((0,_Platform__WEBPACK_IMPORTED_MODULE_0__.isMac)()) {\n    return originalEvent.metaKey;\n  } else {\n    return originalEvent.ctrlKey;\n  }\n}\n\n/**\n * @param {MouseEvent} event\n *\n * @return {boolean}\n */\nfunction hasSecondaryModifier(event) {\n  var originalEvent = (0,_Event__WEBPACK_IMPORTED_MODULE_1__.getOriginal)(event) || event;\n\n  return isPrimaryButton(event) && originalEvent.shiftKey;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9Nb3VzZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFFaUI7O0FBSUc7O0FBSUE7O0FBRXBCO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVk7QUFDWjtBQUNPO0FBQ1AsVUFBVSxtREFBZ0I7QUFDMUI7O0FBRUE7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDQSxZQUFZO0FBQ1o7QUFDTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDQSxZQUFZO0FBQ1o7QUFDTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDQSxZQUFZO0FBQ1o7QUFDTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDQSxZQUFZO0FBQ1o7QUFDTztBQUNQLHNCQUFzQixtREFBZ0I7O0FBRXRDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE1BQU0sZ0RBQUs7QUFDWDtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDQSxZQUFZO0FBQ1o7QUFDTztBQUNQLHNCQUFzQixtREFBZ0I7O0FBRXRDO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9Nb3VzZS5qcz8yOGVmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGdldE9yaWdpbmFsIGFzIGdldE9yaWdpbmFsRXZlbnRcbn0gZnJvbSAnLi9FdmVudCc7XG5cbmltcG9ydCB7XG4gIGlzTWFjXG59IGZyb20gJy4vUGxhdGZvcm0nO1xuXG5leHBvcnQge1xuICBpc01hY1xufSBmcm9tICcuL1BsYXRmb3JtJztcblxuLyoqXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gYnV0dG9uXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQnV0dG9uKGV2ZW50LCBidXR0b24pIHtcbiAgcmV0dXJuIChnZXRPcmlnaW5hbEV2ZW50KGV2ZW50KSB8fCBldmVudCkuYnV0dG9uID09PSBidXR0b247XG59XG5cbi8qKlxuICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudFxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1ByaW1hcnlCdXR0b24oZXZlbnQpIHtcblxuICAvLyBidXR0b24gPT09IDAgLT4gbGVmdCDDoWthIHByaW1hcnkgbW91c2UgYnV0dG9uXG4gIHJldHVybiBpc0J1dHRvbihldmVudCwgMCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudFxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0F1eGlsaWFyeUJ1dHRvbihldmVudCkge1xuXG4gIC8vIGJ1dHRvbiA9PT0gMSAtPiBhdXhpbGlhcnkgw6FrYSB3aGVlbCBidXR0b25cbiAgcmV0dXJuIGlzQnV0dG9uKGV2ZW50LCAxKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50XG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU2Vjb25kYXJ5QnV0dG9uKGV2ZW50KSB7XG5cbiAgLy8gYnV0dG9uID09PSAyIC0+IHJpZ2h0IMOha2Egc2Vjb25kYXJ5IGJ1dHRvblxuICByZXR1cm4gaXNCdXR0b24oZXZlbnQsIDIpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnRcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzUHJpbWFyeU1vZGlmaWVyKGV2ZW50KSB7XG4gIHZhciBvcmlnaW5hbEV2ZW50ID0gZ2V0T3JpZ2luYWxFdmVudChldmVudCkgfHwgZXZlbnQ7XG5cbiAgaWYgKCFpc1ByaW1hcnlCdXR0b24oZXZlbnQpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gVXNlIGNtZCBhcyBwcmltYXJ5IG1vZGlmaWVyIGtleSBmb3IgbWFjIE9TXG4gIGlmIChpc01hYygpKSB7XG4gICAgcmV0dXJuIG9yaWdpbmFsRXZlbnQubWV0YUtleTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gb3JpZ2luYWxFdmVudC5jdHJsS2V5O1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudFxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNTZWNvbmRhcnlNb2RpZmllcihldmVudCkge1xuICB2YXIgb3JpZ2luYWxFdmVudCA9IGdldE9yaWdpbmFsRXZlbnQoZXZlbnQpIHx8IGV2ZW50O1xuXG4gIHJldHVybiBpc1ByaW1hcnlCdXR0b24oZXZlbnQpICYmIG9yaWdpbmFsRXZlbnQuc2hpZnRLZXk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/util/Mouse.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/util/Platform.js":
/*!******************************************************!*\
  !*** ./node_modules/diagram-js/lib/util/Platform.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isMac: () => (/* binding */ isMac)\n/* harmony export */ });\nfunction isMac() {\n  return (/mac/i).test(navigator.platform);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9QbGF0Zm9ybS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvUGxhdGZvcm0uanM/ZmMxMCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gaXNNYWMoKSB7XG4gIHJldHVybiAoL21hYy9pKS50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/util/Platform.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/util/PositionUtil.js":
/*!**********************************************************!*\
  !*** ./node_modules/diagram-js/lib/util/PositionUtil.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   center: () => (/* binding */ center),\n/* harmony export */   delta: () => (/* binding */ delta)\n/* harmony export */ });\n/**\n * @typedef {import('../util/Types').Point} Point\n * @typedef {import('../util/Types').Rect} Rect\n */\n\n/**\n * @param {Rect} bounds\n * @return {Point}\n */\nfunction center(bounds) {\n  return {\n    x: bounds.x + (bounds.width / 2),\n    y: bounds.y + (bounds.height / 2)\n  };\n}\n\n\n/**\n * @param {Point} a\n * @param {Point} b\n * @return {Point}\n */\nfunction delta(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9Qb3NpdGlvblV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBLGFBQWEsK0JBQStCO0FBQzVDLGFBQWEsOEJBQThCO0FBQzNDOztBQUVBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFlBQVk7QUFDWjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFlBQVk7QUFDWjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi91dGlsL1Bvc2l0aW9uVXRpbC5qcz9lNjI0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vdXRpbC9UeXBlcycpLlBvaW50fSBQb2ludFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vdXRpbC9UeXBlcycpLlJlY3R9IFJlY3RcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7UmVjdH0gYm91bmRzXG4gKiBAcmV0dXJuIHtQb2ludH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNlbnRlcihib3VuZHMpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBib3VuZHMueCArIChib3VuZHMud2lkdGggLyAyKSxcbiAgICB5OiBib3VuZHMueSArIChib3VuZHMuaGVpZ2h0IC8gMilcbiAgfTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7UG9pbnR9IGFcbiAqIEBwYXJhbSB7UG9pbnR9IGJcbiAqIEByZXR1cm4ge1BvaW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVsdGEoYSwgYikge1xuICByZXR1cm4ge1xuICAgIHg6IGEueCAtIGIueCxcbiAgICB5OiBhLnkgLSBiLnlcbiAgfTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/util/PositionUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/util/Removal.js":
/*!*****************************************************!*\
  !*** ./node_modules/diagram-js/lib/util/Removal.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   saveClear: () => (/* binding */ saveClear)\n/* harmony export */ });\n/**\n * Remove from the beginning of a collection until it is empty.\n *\n * This is a null-safe operation that ensures elements\n * are being removed from the given collection until the\n * collection is empty.\n *\n * The implementation deals with the fact that a remove operation\n * may touch, i.e. remove multiple elements in the collection\n * at a time.\n *\n * @param {Object[]} [collection]\n * @param {(element: Object) => void} removeFn\n *\n * @return {Object[]} the cleared collection\n */\nfunction saveClear(collection, removeFn) {\n\n  if (typeof removeFn !== 'function') {\n    throw new Error('removeFn iterator must be a function');\n  }\n\n  if (!collection) {\n    return;\n  }\n\n  var e;\n\n  while ((e = collection[0])) {\n    removeFn(e);\n  }\n\n  return collection;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9SZW1vdmFsLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsMkJBQTJCO0FBQ3RDO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ087O0FBRVA7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tc3R1ZGlvLXdlYi8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi91dGlsL1JlbW92YWwuanM/NDE1NyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFJlbW92ZSBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgYSBjb2xsZWN0aW9uIHVudGlsIGl0IGlzIGVtcHR5LlxuICpcbiAqIFRoaXMgaXMgYSBudWxsLXNhZmUgb3BlcmF0aW9uIHRoYXQgZW5zdXJlcyBlbGVtZW50c1xuICogYXJlIGJlaW5nIHJlbW92ZWQgZnJvbSB0aGUgZ2l2ZW4gY29sbGVjdGlvbiB1bnRpbCB0aGVcbiAqIGNvbGxlY3Rpb24gaXMgZW1wdHkuXG4gKlxuICogVGhlIGltcGxlbWVudGF0aW9uIGRlYWxzIHdpdGggdGhlIGZhY3QgdGhhdCBhIHJlbW92ZSBvcGVyYXRpb25cbiAqIG1heSB0b3VjaCwgaS5lLiByZW1vdmUgbXVsdGlwbGUgZWxlbWVudHMgaW4gdGhlIGNvbGxlY3Rpb25cbiAqIGF0IGEgdGltZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdFtdfSBbY29sbGVjdGlvbl1cbiAqIEBwYXJhbSB7KGVsZW1lbnQ6IE9iamVjdCkgPT4gdm9pZH0gcmVtb3ZlRm5cbiAqXG4gKiBAcmV0dXJuIHtPYmplY3RbXX0gdGhlIGNsZWFyZWQgY29sbGVjdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gc2F2ZUNsZWFyKGNvbGxlY3Rpb24sIHJlbW92ZUZuKSB7XG5cbiAgaWYgKHR5cGVvZiByZW1vdmVGbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcigncmVtb3ZlRm4gaXRlcmF0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICBpZiAoIWNvbGxlY3Rpb24pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZTtcblxuICB3aGlsZSAoKGUgPSBjb2xsZWN0aW9uWzBdKSkge1xuICAgIHJlbW92ZUZuKGUpO1xuICB9XG5cbiAgcmV0dXJuIGNvbGxlY3Rpb247XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/util/Removal.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/util/RenderUtil.js":
/*!********************************************************!*\
  !*** ./node_modules/diagram-js/lib/util/RenderUtil.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   componentsToPath: () => (/* binding */ componentsToPath),\n/* harmony export */   createLine: () => (/* binding */ createLine),\n/* harmony export */   toSVGPoints: () => (/* binding */ toSVGPoints),\n/* harmony export */   updateLine: () => (/* binding */ updateLine)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/./node_modules/tiny-svg/dist/index.esm.js\");\n\n\n\n\n\n/**\n * @typedef {(string|number)[]} Component\n *\n * @typedef {import('../util/Types').Point} Point\n */\n\n/**\n * @param {Component[] | Component[][]} elements\n *\n * @return {string}\n */\nfunction componentsToPath(elements) {\n  return elements.flat().join(',').replace(/,?([A-Za-z]),?/g, '$1');\n}\n\n/**\n * @param {Point[]} points\n *\n * @return {string}\n */\nfunction toSVGPoints(points) {\n  var result = '';\n\n  for (var i = 0, p; (p = points[i]); i++) {\n    result += p.x + ',' + p.y + ' ';\n  }\n\n  return result;\n}\n\n/**\n * @param {Point} point\n *\n * @return {Component[]}\n */\nfunction move(point) {\n  return [ 'M', point.x, point.y ];\n}\n\n/**\n * @param {Point} point\n *\n * @return {Component[]}\n */\nfunction lineTo(point) {\n  return [ 'L', point.x, point.y ];\n}\n\n/**\n * @param {Point} p1\n * @param {Point} p2\n * @param {Point} p3\n *\n * @return {Component[]}\n */\nfunction curveTo(p1, p2, p3) {\n  return [ 'C', p1.x, p1.y, p2.x, p2.y, p3.x, p3.y ];\n}\n\n/**\n * @param {Point[]} waypoints\n * @param {number} [cornerRadius]\n * @return {Component[][]}\n */\nfunction drawPath(waypoints, cornerRadius) {\n  const pointCount = waypoints.length;\n\n  const path = [ move(waypoints[0]) ];\n\n  for (let i = 1; i < pointCount; i++) {\n\n    const pointBefore = waypoints[i - 1];\n    const point = waypoints[i];\n    const pointAfter = waypoints[i + 1];\n\n    if (!pointAfter || !cornerRadius) {\n      path.push(lineTo(point));\n\n      continue;\n    }\n\n    const effectiveRadius = Math.min(\n      cornerRadius,\n      vectorLength(point.x - pointBefore.x, point.y - pointBefore.y),\n      vectorLength(pointAfter.x - point.x, pointAfter.y - point.y)\n    );\n\n    if (!effectiveRadius) {\n      path.push(lineTo(point));\n\n      continue;\n    }\n\n    const beforePoint = getPointAtLength(point, pointBefore, effectiveRadius);\n    const beforePoint2 = getPointAtLength(point, pointBefore, effectiveRadius * .5);\n\n    const afterPoint = getPointAtLength(point, pointAfter, effectiveRadius);\n    const afterPoint2 = getPointAtLength(point, pointAfter, effectiveRadius * .5);\n\n    path.push(lineTo(beforePoint));\n    path.push(curveTo(beforePoint2, afterPoint2, afterPoint));\n  }\n\n  return path;\n}\n\nfunction getPointAtLength(start, end, length) {\n\n  const deltaX = end.x - start.x;\n  const deltaY = end.y - start.y;\n\n  const totalLength = vectorLength(deltaX, deltaY);\n\n  const percent = length / totalLength;\n\n  return {\n    x: start.x + deltaX * percent,\n    y: start.y + deltaY * percent\n  };\n}\n\nfunction vectorLength(x, y) {\n  return Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n}\n\n/**\n * @param {Point[]} points\n * @param {number|Object} [attrs]\n * @param {number} [radius]\n *\n * @return {SVGElement}\n */\nfunction createLine(points, attrs, radius) {\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(attrs)) {\n    radius = attrs;\n    attrs = null;\n  }\n\n  if (!attrs) {\n    attrs = {};\n  }\n\n  const line = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('path', attrs);\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(radius)) {\n    line.dataset.cornerRadius = String(radius);\n  }\n\n  return updateLine(line, points);\n}\n\n/**\n * @param {SVGElement} gfx\n * @param {Point[]} points\n *\n * @return {SVGElement}\n */\nfunction updateLine(gfx, points) {\n\n  const cornerRadius = parseInt(gfx.dataset.cornerRadius, 10) || 0;\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(gfx, {\n    d: componentsToPath(drawPath(points, cornerRadius))\n  });\n\n  return gfx;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9SZW5kZXJVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUVrQjs7QUFLQTs7O0FBR2xCO0FBQ0EsYUFBYSxtQkFBbUI7QUFDaEM7QUFDQSxhQUFhLCtCQUErQjtBQUM1Qzs7QUFFQTtBQUNBLFdBQVcsNkJBQTZCO0FBQ3hDO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUDtBQUNBOztBQUVBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUDs7QUFFQSxxQkFBcUIsaUJBQWlCO0FBQ3RDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsUUFBUTtBQUNuQixZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBOztBQUVBLGtCQUFrQixnQkFBZ0I7O0FBRWxDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxlQUFlO0FBQzFCLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVk7QUFDWjtBQUNPOztBQUVQLE1BQU0sa0RBQVE7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGVBQWUsZ0RBQVM7O0FBRXhCLE1BQU0sa0RBQVE7QUFDZDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFlBQVk7QUFDdkIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsWUFBWTtBQUNaO0FBQ087O0FBRVA7O0FBRUEsRUFBRSw4Q0FBTztBQUNUO0FBQ0EsR0FBRzs7QUFFSDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvUmVuZGVyVXRpbC5qcz84YTRmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGlzTnVtYmVyXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgYXR0ciBhcyBzdmdBdHRyLFxuICBjcmVhdGUgYXMgc3ZnQ3JlYXRlXG59IGZyb20gJ3Rpbnktc3ZnJztcblxuXG4vKipcbiAqIEB0eXBlZGVmIHsoc3RyaW5nfG51bWJlcilbXX0gQ29tcG9uZW50XG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vdXRpbC9UeXBlcycpLlBvaW50fSBQb2ludFxuICovXG5cbi8qKlxuICogQHBhcmFtIHtDb21wb25lbnRbXSB8IENvbXBvbmVudFtdW119IGVsZW1lbnRzXG4gKlxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcG9uZW50c1RvUGF0aChlbGVtZW50cykge1xuICByZXR1cm4gZWxlbWVudHMuZmxhdCgpLmpvaW4oJywnKS5yZXBsYWNlKC8sPyhbQS1aYS16XSksPy9nLCAnJDEnKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1BvaW50W119IHBvaW50c1xuICpcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvU1ZHUG9pbnRzKHBvaW50cykge1xuICB2YXIgcmVzdWx0ID0gJyc7XG5cbiAgZm9yICh2YXIgaSA9IDAsIHA7IChwID0gcG9pbnRzW2ldKTsgaSsrKSB7XG4gICAgcmVzdWx0ICs9IHAueCArICcsJyArIHAueSArICcgJztcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtQb2ludH0gcG9pbnRcbiAqXG4gKiBAcmV0dXJuIHtDb21wb25lbnRbXX1cbiAqL1xuZnVuY3Rpb24gbW92ZShwb2ludCkge1xuICByZXR1cm4gWyAnTScsIHBvaW50LngsIHBvaW50LnkgXTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1BvaW50fSBwb2ludFxuICpcbiAqIEByZXR1cm4ge0NvbXBvbmVudFtdfVxuICovXG5mdW5jdGlvbiBsaW5lVG8ocG9pbnQpIHtcbiAgcmV0dXJuIFsgJ0wnLCBwb2ludC54LCBwb2ludC55IF07XG59XG5cbi8qKlxuICogQHBhcmFtIHtQb2ludH0gcDFcbiAqIEBwYXJhbSB7UG9pbnR9IHAyXG4gKiBAcGFyYW0ge1BvaW50fSBwM1xuICpcbiAqIEByZXR1cm4ge0NvbXBvbmVudFtdfVxuICovXG5mdW5jdGlvbiBjdXJ2ZVRvKHAxLCBwMiwgcDMpIHtcbiAgcmV0dXJuIFsgJ0MnLCBwMS54LCBwMS55LCBwMi54LCBwMi55LCBwMy54LCBwMy55IF07XG59XG5cbi8qKlxuICogQHBhcmFtIHtQb2ludFtdfSB3YXlwb2ludHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbY29ybmVyUmFkaXVzXVxuICogQHJldHVybiB7Q29tcG9uZW50W11bXX1cbiAqL1xuZnVuY3Rpb24gZHJhd1BhdGgod2F5cG9pbnRzLCBjb3JuZXJSYWRpdXMpIHtcbiAgY29uc3QgcG9pbnRDb3VudCA9IHdheXBvaW50cy5sZW5ndGg7XG5cbiAgY29uc3QgcGF0aCA9IFsgbW92ZSh3YXlwb2ludHNbMF0pIF07XG5cbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBwb2ludENvdW50OyBpKyspIHtcblxuICAgIGNvbnN0IHBvaW50QmVmb3JlID0gd2F5cG9pbnRzW2kgLSAxXTtcbiAgICBjb25zdCBwb2ludCA9IHdheXBvaW50c1tpXTtcbiAgICBjb25zdCBwb2ludEFmdGVyID0gd2F5cG9pbnRzW2kgKyAxXTtcblxuICAgIGlmICghcG9pbnRBZnRlciB8fCAhY29ybmVyUmFkaXVzKSB7XG4gICAgICBwYXRoLnB1c2gobGluZVRvKHBvaW50KSk7XG5cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGNvbnN0IGVmZmVjdGl2ZVJhZGl1cyA9IE1hdGgubWluKFxuICAgICAgY29ybmVyUmFkaXVzLFxuICAgICAgdmVjdG9yTGVuZ3RoKHBvaW50LnggLSBwb2ludEJlZm9yZS54LCBwb2ludC55IC0gcG9pbnRCZWZvcmUueSksXG4gICAgICB2ZWN0b3JMZW5ndGgocG9pbnRBZnRlci54IC0gcG9pbnQueCwgcG9pbnRBZnRlci55IC0gcG9pbnQueSlcbiAgICApO1xuXG4gICAgaWYgKCFlZmZlY3RpdmVSYWRpdXMpIHtcbiAgICAgIHBhdGgucHVzaChsaW5lVG8ocG9pbnQpKTtcblxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgY29uc3QgYmVmb3JlUG9pbnQgPSBnZXRQb2ludEF0TGVuZ3RoKHBvaW50LCBwb2ludEJlZm9yZSwgZWZmZWN0aXZlUmFkaXVzKTtcbiAgICBjb25zdCBiZWZvcmVQb2ludDIgPSBnZXRQb2ludEF0TGVuZ3RoKHBvaW50LCBwb2ludEJlZm9yZSwgZWZmZWN0aXZlUmFkaXVzICogLjUpO1xuXG4gICAgY29uc3QgYWZ0ZXJQb2ludCA9IGdldFBvaW50QXRMZW5ndGgocG9pbnQsIHBvaW50QWZ0ZXIsIGVmZmVjdGl2ZVJhZGl1cyk7XG4gICAgY29uc3QgYWZ0ZXJQb2ludDIgPSBnZXRQb2ludEF0TGVuZ3RoKHBvaW50LCBwb2ludEFmdGVyLCBlZmZlY3RpdmVSYWRpdXMgKiAuNSk7XG5cbiAgICBwYXRoLnB1c2gobGluZVRvKGJlZm9yZVBvaW50KSk7XG4gICAgcGF0aC5wdXNoKGN1cnZlVG8oYmVmb3JlUG9pbnQyLCBhZnRlclBvaW50MiwgYWZ0ZXJQb2ludCkpO1xuICB9XG5cbiAgcmV0dXJuIHBhdGg7XG59XG5cbmZ1bmN0aW9uIGdldFBvaW50QXRMZW5ndGgoc3RhcnQsIGVuZCwgbGVuZ3RoKSB7XG5cbiAgY29uc3QgZGVsdGFYID0gZW5kLnggLSBzdGFydC54O1xuICBjb25zdCBkZWx0YVkgPSBlbmQueSAtIHN0YXJ0Lnk7XG5cbiAgY29uc3QgdG90YWxMZW5ndGggPSB2ZWN0b3JMZW5ndGgoZGVsdGFYLCBkZWx0YVkpO1xuXG4gIGNvbnN0IHBlcmNlbnQgPSBsZW5ndGggLyB0b3RhbExlbmd0aDtcblxuICByZXR1cm4ge1xuICAgIHg6IHN0YXJ0LnggKyBkZWx0YVggKiBwZXJjZW50LFxuICAgIHk6IHN0YXJ0LnkgKyBkZWx0YVkgKiBwZXJjZW50XG4gIH07XG59XG5cbmZ1bmN0aW9uIHZlY3Rvckxlbmd0aCh4LCB5KSB7XG4gIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coeCwgMikgKyBNYXRoLnBvdyh5LCAyKSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtQb2ludFtdfSBwb2ludHNcbiAqIEBwYXJhbSB7bnVtYmVyfE9iamVjdH0gW2F0dHJzXVxuICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpdXNdXG4gKlxuICogQHJldHVybiB7U1ZHRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUxpbmUocG9pbnRzLCBhdHRycywgcmFkaXVzKSB7XG5cbiAgaWYgKGlzTnVtYmVyKGF0dHJzKSkge1xuICAgIHJhZGl1cyA9IGF0dHJzO1xuICAgIGF0dHJzID0gbnVsbDtcbiAgfVxuXG4gIGlmICghYXR0cnMpIHtcbiAgICBhdHRycyA9IHt9O1xuICB9XG5cbiAgY29uc3QgbGluZSA9IHN2Z0NyZWF0ZSgncGF0aCcsIGF0dHJzKTtcblxuICBpZiAoaXNOdW1iZXIocmFkaXVzKSkge1xuICAgIGxpbmUuZGF0YXNldC5jb3JuZXJSYWRpdXMgPSBTdHJpbmcocmFkaXVzKTtcbiAgfVxuXG4gIHJldHVybiB1cGRhdGVMaW5lKGxpbmUsIHBvaW50cyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtTVkdFbGVtZW50fSBnZnhcbiAqIEBwYXJhbSB7UG9pbnRbXX0gcG9pbnRzXG4gKlxuICogQHJldHVybiB7U1ZHRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUxpbmUoZ2Z4LCBwb2ludHMpIHtcblxuICBjb25zdCBjb3JuZXJSYWRpdXMgPSBwYXJzZUludChnZnguZGF0YXNldC5jb3JuZXJSYWRpdXMsIDEwKSB8fCAwO1xuXG4gIHN2Z0F0dHIoZ2Z4LCB7XG4gICAgZDogY29tcG9uZW50c1RvUGF0aChkcmF3UGF0aChwb2ludHMsIGNvcm5lclJhZGl1cykpXG4gIH0pO1xuXG4gIHJldHVybiBnZng7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/util/RenderUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/util/SvgTransformUtil.js":
/*!**************************************************************!*\
  !*** ./node_modules/diagram-js/lib/util/SvgTransformUtil.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   rotate: () => (/* binding */ rotate),\n/* harmony export */   scale: () => (/* binding */ scale),\n/* harmony export */   transform: () => (/* binding */ transform),\n/* harmony export */   translate: () => (/* binding */ translate)\n/* harmony export */ });\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/./node_modules/tiny-svg/dist/index.esm.js\");\n\r\n\r\n\r\n/**\r\n * @param {SVGElement} gfx\r\n * @param {number} x\r\n * @param {number} y\r\n * @param {number} [angle]\r\n * @param {number} [amount]\r\n */\r\nfunction transform(gfx, x, y, angle, amount) {\r\n  var translate = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.createTransform)();\r\n  translate.setTranslate(x, y);\r\n\r\n  var rotate = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.createTransform)();\r\n  rotate.setRotate(angle || 0, 0, 0);\r\n\r\n  var scale = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.createTransform)();\r\n  scale.setScale(amount || 1, amount || 1);\r\n\r\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.transform)(gfx, [ translate, rotate, scale ]);\r\n}\r\n\r\n\r\n/**\r\n * @param {SVGElement} gfx\r\n * @param {number} x\r\n * @param {number} y\r\n */\r\nfunction translate(gfx, x, y) {\r\n  var translate = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.createTransform)();\r\n  translate.setTranslate(x, y);\r\n\r\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.transform)(gfx, translate);\r\n}\r\n\r\n\r\n/**\r\n * @param {SVGElement} gfx\r\n * @param {number} angle\r\n */\r\nfunction rotate(gfx, angle) {\r\n  var rotate = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.createTransform)();\r\n  rotate.setRotate(angle, 0, 0);\r\n\r\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.transform)(gfx, rotate);\r\n}\r\n\r\n\r\n/**\r\n * @param {SVGElement} gfx\r\n * @param {number} amount\r\n */\r\nfunction scale(gfx, amount) {\r\n  var scale = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.createTransform)();\r\n  scale.setScale(amount, amount);\r\n\r\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_0__.transform)(gfx, scale);\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9TdmdUcmFuc2Zvcm1VdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBR2tCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDTztBQUNQLGtCQUFrQix5REFBZTtBQUNqQztBQUNBO0FBQ0EsZUFBZSx5REFBZTtBQUM5QjtBQUNBO0FBQ0EsY0FBYyx5REFBZTtBQUM3QjtBQUNBO0FBQ0EsRUFBRSxtREFBWTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDTztBQUNQLGtCQUFrQix5REFBZTtBQUNqQztBQUNBO0FBQ0EsRUFBRSxtREFBWTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsUUFBUTtBQUNuQjtBQUNPO0FBQ1AsZUFBZSx5REFBZTtBQUM5QjtBQUNBO0FBQ0EsRUFBRSxtREFBWTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsUUFBUTtBQUNuQjtBQUNPO0FBQ1AsY0FBYyx5REFBZTtBQUM3QjtBQUNBO0FBQ0EsRUFBRSxtREFBWTtBQUNkIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1zdHVkaW8td2ViLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvU3ZnVHJhbnNmb3JtVXRpbC5qcz9kYmM0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgdHJhbnNmb3JtIGFzIHN2Z1RyYW5zZm9ybSxcclxuICBjcmVhdGVUcmFuc2Zvcm1cclxufSBmcm9tICd0aW55LXN2Zyc7XHJcblxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZ2Z4XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB5XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbYW5nbGVdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbYW1vdW50XVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybShnZngsIHgsIHksIGFuZ2xlLCBhbW91bnQpIHtcclxuICB2YXIgdHJhbnNsYXRlID0gY3JlYXRlVHJhbnNmb3JtKCk7XHJcbiAgdHJhbnNsYXRlLnNldFRyYW5zbGF0ZSh4LCB5KTtcclxuXHJcbiAgdmFyIHJvdGF0ZSA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xyXG4gIHJvdGF0ZS5zZXRSb3RhdGUoYW5nbGUgfHwgMCwgMCwgMCk7XHJcblxyXG4gIHZhciBzY2FsZSA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xyXG4gIHNjYWxlLnNldFNjYWxlKGFtb3VudCB8fCAxLCBhbW91bnQgfHwgMSk7XHJcblxyXG4gIHN2Z1RyYW5zZm9ybShnZngsIFsgdHJhbnNsYXRlLCByb3RhdGUsIHNjYWxlIF0pO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZ2Z4XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB5XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKGdmeCwgeCwgeSkge1xyXG4gIHZhciB0cmFuc2xhdGUgPSBjcmVhdGVUcmFuc2Zvcm0oKTtcclxuICB0cmFuc2xhdGUuc2V0VHJhbnNsYXRlKHgsIHkpO1xyXG5cclxuICBzdmdUcmFuc2Zvcm0oZ2Z4LCB0cmFuc2xhdGUpO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZ2Z4XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZShnZngsIGFuZ2xlKSB7XHJcbiAgdmFyIHJvdGF0ZSA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xyXG4gIHJvdGF0ZS5zZXRSb3RhdGUoYW5nbGUsIDAsIDApO1xyXG5cclxuICBzdmdUcmFuc2Zvcm0oZ2Z4LCByb3RhdGUpO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZ2Z4XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShnZngsIGFtb3VudCkge1xyXG4gIHZhciBzY2FsZSA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xyXG4gIHNjYWxlLnNldFNjYWxlKGFtb3VudCwgYW1vdW50KTtcclxuXHJcbiAgc3ZnVHJhbnNmb3JtKGdmeCwgc2NhbGUpO1xyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/util/SvgTransformUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/diagram-js/lib/util/Text.js":
/*!**************************************************!*\
  !*** ./node_modules/diagram-js/lib/util/Text.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Text)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"(ssr)/./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tiny-svg */ \"(ssr)/./node_modules/tiny-svg/dist/index.esm.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dom */ \"(ssr)/./node_modules/min-dom/dist/index.esm.js\");\n\n\n\n\n\n\n\n/**\n * @typedef {import('../util/Types').Dimensions} Dimensions\n *\n * @typedef { {\n *   top: number;\n *   left: number;\n *   right: number;\n *   bottom: number;\n * } } Padding\n *\n * @typedef { number | Partial<Padding> } PaddingConfig\n *\n * @typedef { {\n *   horizontal: 'center' | 'left' | 'right';\n *   vertical: 'top' | 'middle';\n * } } Alignment\n *\n *  @typedef { 'center-middle' | 'center-top' } AlignmentConfig\n *\n * @typedef { Partial<{\n *   align: AlignmentConfig;\n *   style: Record<string, number | string>;\n *   padding: PaddingConfig;\n * }> } BaseTextConfig\n *\n * @typedef { BaseTextConfig & Partial<{\n *   size: Dimensions;\n * }> } TextConfig\n *\n * @typedef { BaseTextConfig & Partial<{\n *   box: Dimensions;\n *   fitBox: boolean;\n * }> } TextLayoutConfig\n *\n *  @typedef { Dimensions & {\n *  text: string;\n * } } LineDescriptor\n */\n\nvar DEFAULT_BOX_PADDING = 0;\n\nvar DEFAULT_LABEL_SIZE = {\n  width: 150,\n  height: 50\n};\n\n\n/**\n * @param {AlignmentConfig} align\n * @return {Alignment}\n */\nfunction parseAlign(align) {\n\n  var parts = align.split('-');\n\n  return {\n    horizontal: parts[0] || 'center',\n    vertical: parts[1] || 'top'\n  };\n}\n\n/**\n * @param {PaddingConfig} padding\n *\n * @return {Padding}\n */\nfunction parsePadding(padding) {\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isObject)(padding)) {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({ top: 0, left: 0, right: 0, bottom: 0 }, padding);\n  } else {\n    return {\n      top: padding,\n      left: padding,\n      right: padding,\n      bottom: padding\n    };\n  }\n}\n\n/**\n * @param {string} text\n * @param {SVGTextElement} fakeText\n *\n * @return {import('../util/Types').Dimensions}\n */\nfunction getTextBBox(text, fakeText) {\n\n  fakeText.textContent = text;\n\n  var textBBox;\n\n  try {\n    var bbox,\n        emptyLine = text === '';\n\n    // add dummy text, when line is empty to\n    // determine correct height\n    fakeText.textContent = emptyLine ? 'dummy' : text;\n\n    textBBox = fakeText.getBBox();\n\n    // take text rendering related horizontal\n    // padding into account\n    bbox = {\n      width: textBBox.width + textBBox.x * 2,\n      height: textBBox.height\n    };\n\n    if (emptyLine) {\n\n      // correct width\n      bbox.width = 0;\n    }\n\n    return bbox;\n  } catch (e) {\n    console.log(e);\n\n    return { width: 0, height: 0 };\n  }\n}\n\n\n/**\n * Layout the next line and return the layouted element.\n *\n * Alters the lines passed.\n *\n * @param {string[]} lines\n * @param {number} maxWidth\n * @param {SVGTextElement} fakeText\n *\n * @return {LineDescriptor} the line descriptor\n */\nfunction layoutNext(lines, maxWidth, fakeText) {\n\n  var originalLine = lines.shift(),\n      fitLine = originalLine;\n\n  var textBBox;\n\n  for (;;) {\n    textBBox = getTextBBox(fitLine, fakeText);\n\n    textBBox.width = fitLine ? textBBox.width : 0;\n\n    // try to fit\n    if (fitLine === ' ' || fitLine === '' || textBBox.width < Math.round(maxWidth) || fitLine.length < 2) {\n      return fit(lines, fitLine, originalLine, textBBox);\n    }\n\n    fitLine = shortenLine(fitLine, textBBox.width, maxWidth);\n  }\n}\n\n/**\n * @param {string[]} lines\n * @param {string} fitLine\n * @param {string} originalLine\n * @param {Dimensions} textBBox\n *\n * @return {LineDescriptor}\n */\nfunction fit(lines, fitLine, originalLine, textBBox) {\n  if (fitLine.length < originalLine.length) {\n    var remainder = originalLine.slice(fitLine.length).trim();\n\n    lines.unshift(remainder);\n  }\n\n  return {\n    width: textBBox.width,\n    height: textBBox.height,\n    text: fitLine\n  };\n}\n\nvar SOFT_BREAK = '\\u00AD';\n\n\n/**\n * Shortens a line based on spacing and hyphens.\n * Returns the shortened result on success.\n *\n * @param {string} line\n * @param {number} maxLength the maximum characters of the string\n *\n * @return {string} the shortened string\n */\nfunction semanticShorten(line, maxLength) {\n\n  var parts = line.split(/(\\s|-|\\u00AD)/g),\n      part,\n      shortenedParts = [],\n      length = 0;\n\n  // try to shorten via break chars\n  if (parts.length > 1) {\n\n    while ((part = parts.shift())) {\n      if (part.length + length < maxLength) {\n        shortenedParts.push(part);\n        length += part.length;\n      } else {\n\n        // remove previous part, too if hyphen does not fit anymore\n        if (part === '-' || part === SOFT_BREAK) {\n          shortenedParts.pop();\n        }\n\n        break;\n      }\n    }\n  }\n\n  var last = shortenedParts[shortenedParts.length - 1];\n\n  // translate trailing soft break to actual hyphen\n  if (last && last === SOFT_BREAK) {\n    shortenedParts[shortenedParts.length - 1] = '-';\n  }\n\n  return shortenedParts.join('');\n}\n\n\n/**\n * @param {string} line\n * @param {number} width\n * @param {number} maxWidth\n *\n * @return {string}\n */\nfunction shortenLine(line, width, maxWidth) {\n  var length = Math.max(line.length * (maxWidth / width), 1);\n\n  // try to shorten semantically (i.e. based on spaces and hyphens)\n  var shortenedLine = semanticShorten(line, length);\n\n  if (!shortenedLine) {\n\n    // force shorten by cutting the long word\n    shortenedLine = line.slice(0, Math.max(Math.round(length - 1), 1));\n  }\n\n  return shortenedLine;\n}\n\n\n/**\n * @return {SVGSVGElement}\n */\nfunction getHelperSvg() {\n  var helperSvg = document.getElementById('helper-svg');\n\n  if (!helperSvg) {\n    helperSvg = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('svg');\n\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(helperSvg, {\n      id: 'helper-svg'\n    });\n\n    (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.assignStyle)(helperSvg, {\n      visibility: 'hidden',\n      position: 'fixed',\n      width: 0,\n      height: 0\n    });\n\n    document.body.appendChild(helperSvg);\n  }\n\n  return helperSvg;\n}\n\n\n/**\n * Creates a new label utility\n *\n * @param {TextConfig} [config]\n */\nfunction Text(config) {\n\n  this._config = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({}, {\n    size: DEFAULT_LABEL_SIZE,\n    padding: DEFAULT_BOX_PADDING,\n    style: {},\n    align: 'center-top'\n  }, config || {});\n}\n\n/**\n * Returns the layouted text as an SVG element.\n *\n * @param {string} text\n * @param {TextLayoutConfig} options\n *\n * @return {SVGElement}\n */\nText.prototype.createText = function(text, options) {\n  return this.layoutText(text, options).element;\n};\n\n/**\n * Returns a labels layouted dimensions.\n *\n * @param {string} text to layout\n * @param {TextLayoutConfig} options\n *\n * @return {Dimensions}\n */\nText.prototype.getDimensions = function(text, options) {\n  return this.layoutText(text, options).dimensions;\n};\n\n/**\n * Creates and returns a label and its bounding box.\n *\n * @param {string} text the text to render on the label\n * @param {TextLayoutConfig} options\n *\n * @return { {\n *   element: SVGElement,\n *   dimensions: Dimensions\n * } }\n */\nText.prototype.layoutText = function(text, options) {\n  var box = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({}, this._config.size, options.box),\n      style = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({}, this._config.style, options.style),\n      align = parseAlign(options.align || this._config.align),\n      padding = parsePadding(options.padding !== undefined ? options.padding : this._config.padding),\n      fitBox = options.fitBox || false;\n\n  var lineHeight = getLineHeight(style);\n\n  // we split text by lines and normalize\n  // {soft break} + {line break} => { line break }\n  var lines = text.split(/\\u00AD?\\r?\\n/),\n      layouted = [];\n\n  var maxWidth = box.width - padding.left - padding.right;\n\n  // ensure correct rendering by attaching helper text node to invisible SVG\n  var helperText = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('text');\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(helperText, { x: 0, y: 0 });\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(helperText, style);\n\n  var helperSvg = getHelperSvg();\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.append)(helperSvg, helperText);\n\n  while (lines.length) {\n    layouted.push(layoutNext(lines, maxWidth, helperText));\n  }\n\n  if (align.vertical === 'middle') {\n    padding.top = padding.bottom = 0;\n  }\n\n  var totalHeight = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.reduce)(layouted, function(sum, line, idx) {\n    return sum + (lineHeight || line.height);\n  }, 0) + padding.top + padding.bottom;\n\n  var maxLineWidth = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.reduce)(layouted, function(sum, line, idx) {\n    return line.width > sum ? line.width : sum;\n  }, 0);\n\n  // the y position of the next line\n  var y = padding.top;\n\n  if (align.vertical === 'middle') {\n    y += (box.height - totalHeight) / 2;\n  }\n\n  // magic number initial offset\n  y -= (lineHeight || layouted[0].height) / 4;\n\n\n  var textElement = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('text');\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(textElement, style);\n\n  // layout each line taking into account that parent\n  // shape might resize to fit text size\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(layouted, function(line) {\n\n    var x;\n\n    y += (lineHeight || line.height);\n\n    switch (align.horizontal) {\n    case 'left':\n      x = padding.left;\n      break;\n\n    case 'right':\n      x = ((fitBox ? maxLineWidth : maxWidth)\n        - padding.right - line.width);\n      break;\n\n    default:\n\n      // aka center\n      x = Math.max((((fitBox ? maxLineWidth : maxWidth)\n        - line.width) / 2 + padding.left), 0);\n    }\n\n    var tspan = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('tspan');\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(tspan, { x: x, y: y });\n\n    tspan.textContent = line.text;\n\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.append)(textElement, tspan);\n  });\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.remove)(helperText);\n\n  var dimensions = {\n    width: maxLineWidth,\n    height: totalHeight\n  };\n\n  return {\n    dimensions: dimensions,\n    element: textElement\n  };\n};\n\n\nfunction getLineHeight(style) {\n  if ('fontSize' in style && 'lineHeight' in style) {\n    return style.lineHeight * parseInt(style.fontSize, 10);\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9UZXh0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFLa0I7O0FBT0E7O0FBSUQ7OztBQUdqQjtBQUNBLGFBQWEsb0NBQW9DO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLGNBQWMsNEJBQTRCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsZUFBZSxpQ0FBaUM7QUFDaEQ7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EsSUFBSSxJQUFJO0FBQ1I7QUFDQSxjQUFjO0FBQ2Q7QUFDQSxJQUFJLElBQUk7QUFDUjtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0EsSUFBSSxJQUFJO0FBQ1I7QUFDQSxlQUFlO0FBQ2Y7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUIsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsZUFBZTtBQUMxQjtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBLE1BQU0sa0RBQVE7QUFDZCxXQUFXLGdEQUFNLEdBQUcsc0NBQXNDO0FBQzFELElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsZ0JBQWdCO0FBQzNCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKOztBQUVBLGFBQWE7QUFDYjtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsUUFBUTtBQUNuQixXQUFXLGdCQUFnQjtBQUMzQjtBQUNBLFlBQVksZ0JBQWdCO0FBQzVCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSxTQUFTO0FBQ1Q7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTs7QUFFUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0IsZ0RBQVM7O0FBRXpCLElBQUksOENBQU87QUFDWDtBQUNBLEtBQUs7O0FBRUwsSUFBSSxvREFBVztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QjtBQUNlOztBQUVmLGlCQUFpQixnREFBTSxHQUFHO0FBQzFCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxHQUFHLGNBQWM7QUFDakI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsa0JBQWtCO0FBQzdCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLGtCQUFrQjtBQUM3QjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxrQkFBa0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdEQUFNLEdBQUc7QUFDckIsY0FBYyxnREFBTSxHQUFHO0FBQ3ZCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLE1BQU0sWUFBWSxHQUFHLFlBQVksS0FBSztBQUN0QztBQUNBOztBQUVBOztBQUVBO0FBQ0EsbUJBQW1CLGdEQUFTO0FBQzVCLEVBQUUsOENBQU8sZUFBZSxZQUFZO0FBQ3BDLEVBQUUsOENBQU87O0FBRVQ7O0FBRUEsRUFBRSxnREFBUzs7QUFFWDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLG9CQUFvQixnREFBTTtBQUMxQjtBQUNBLEdBQUc7O0FBRUgscUJBQXFCLGdEQUFNO0FBQzNCO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQSxvQkFBb0IsZ0RBQVM7O0FBRTdCLEVBQUUsOENBQU87O0FBRVQ7QUFDQTtBQUNBLEVBQUUsaURBQU87O0FBRVQ7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0JBQWdCLGdEQUFTO0FBQ3pCLElBQUksOENBQU8sVUFBVSxZQUFZOztBQUVqQzs7QUFFQSxJQUFJLGdEQUFTO0FBQ2IsR0FBRzs7QUFFSCxFQUFFLGdEQUFTOztBQUVYO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLXN0dWRpby13ZWIvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9UZXh0LmpzPzBkOTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgaXNPYmplY3QsXG4gIGFzc2lnbixcbiAgZm9yRWFjaCxcbiAgcmVkdWNlXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgYXBwZW5kIGFzIHN2Z0FwcGVuZCxcbiAgYXR0ciBhcyBzdmdBdHRyLFxuICBjcmVhdGUgYXMgc3ZnQ3JlYXRlLFxuICByZW1vdmUgYXMgc3ZnUmVtb3ZlXG59IGZyb20gJ3Rpbnktc3ZnJztcblxuaW1wb3J0IHtcbiAgYXNzaWduU3R5bGVcbn0gZnJvbSAnbWluLWRvbSc7XG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi91dGlsL1R5cGVzJykuRGltZW5zaW9uc30gRGltZW5zaW9uc1xuICpcbiAqIEB0eXBlZGVmIHsge1xuICogICB0b3A6IG51bWJlcjtcbiAqICAgbGVmdDogbnVtYmVyO1xuICogICByaWdodDogbnVtYmVyO1xuICogICBib3R0b206IG51bWJlcjtcbiAqIH0gfSBQYWRkaW5nXG4gKlxuICogQHR5cGVkZWYgeyBudW1iZXIgfCBQYXJ0aWFsPFBhZGRpbmc+IH0gUGFkZGluZ0NvbmZpZ1xuICpcbiAqIEB0eXBlZGVmIHsge1xuICogICBob3Jpem9udGFsOiAnY2VudGVyJyB8ICdsZWZ0JyB8ICdyaWdodCc7XG4gKiAgIHZlcnRpY2FsOiAndG9wJyB8ICdtaWRkbGUnO1xuICogfSB9IEFsaWdubWVudFxuICpcbiAqICBAdHlwZWRlZiB7ICdjZW50ZXItbWlkZGxlJyB8ICdjZW50ZXItdG9wJyB9IEFsaWdubWVudENvbmZpZ1xuICpcbiAqIEB0eXBlZGVmIHsgUGFydGlhbDx7XG4gKiAgIGFsaWduOiBBbGlnbm1lbnRDb25maWc7XG4gKiAgIHN0eWxlOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXIgfCBzdHJpbmc+O1xuICogICBwYWRkaW5nOiBQYWRkaW5nQ29uZmlnO1xuICogfT4gfSBCYXNlVGV4dENvbmZpZ1xuICpcbiAqIEB0eXBlZGVmIHsgQmFzZVRleHRDb25maWcgJiBQYXJ0aWFsPHtcbiAqICAgc2l6ZTogRGltZW5zaW9ucztcbiAqIH0+IH0gVGV4dENvbmZpZ1xuICpcbiAqIEB0eXBlZGVmIHsgQmFzZVRleHRDb25maWcgJiBQYXJ0aWFsPHtcbiAqICAgYm94OiBEaW1lbnNpb25zO1xuICogICBmaXRCb3g6IGJvb2xlYW47XG4gKiB9PiB9IFRleHRMYXlvdXRDb25maWdcbiAqXG4gKiAgQHR5cGVkZWYgeyBEaW1lbnNpb25zICYge1xuICogIHRleHQ6IHN0cmluZztcbiAqIH0gfSBMaW5lRGVzY3JpcHRvclxuICovXG5cbnZhciBERUZBVUxUX0JPWF9QQURESU5HID0gMDtcblxudmFyIERFRkFVTFRfTEFCRUxfU0laRSA9IHtcbiAgd2lkdGg6IDE1MCxcbiAgaGVpZ2h0OiA1MFxufTtcblxuXG4vKipcbiAqIEBwYXJhbSB7QWxpZ25tZW50Q29uZmlnfSBhbGlnblxuICogQHJldHVybiB7QWxpZ25tZW50fVxuICovXG5mdW5jdGlvbiBwYXJzZUFsaWduKGFsaWduKSB7XG5cbiAgdmFyIHBhcnRzID0gYWxpZ24uc3BsaXQoJy0nKTtcblxuICByZXR1cm4ge1xuICAgIGhvcml6b250YWw6IHBhcnRzWzBdIHx8ICdjZW50ZXInLFxuICAgIHZlcnRpY2FsOiBwYXJ0c1sxXSB8fCAndG9wJ1xuICB9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7UGFkZGluZ0NvbmZpZ30gcGFkZGluZ1xuICpcbiAqIEByZXR1cm4ge1BhZGRpbmd9XG4gKi9cbmZ1bmN0aW9uIHBhcnNlUGFkZGluZyhwYWRkaW5nKSB7XG5cbiAgaWYgKGlzT2JqZWN0KHBhZGRpbmcpKSB7XG4gICAgcmV0dXJuIGFzc2lnbih7IHRvcDogMCwgbGVmdDogMCwgcmlnaHQ6IDAsIGJvdHRvbTogMCB9LCBwYWRkaW5nKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiBwYWRkaW5nLFxuICAgICAgbGVmdDogcGFkZGluZyxcbiAgICAgIHJpZ2h0OiBwYWRkaW5nLFxuICAgICAgYm90dG9tOiBwYWRkaW5nXG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4gKiBAcGFyYW0ge1NWR1RleHRFbGVtZW50fSBmYWtlVGV4dFxuICpcbiAqIEByZXR1cm4ge2ltcG9ydCgnLi4vdXRpbC9UeXBlcycpLkRpbWVuc2lvbnN9XG4gKi9cbmZ1bmN0aW9uIGdldFRleHRCQm94KHRleHQsIGZha2VUZXh0KSB7XG5cbiAgZmFrZVRleHQudGV4dENvbnRlbnQgPSB0ZXh0O1xuXG4gIHZhciB0ZXh0QkJveDtcblxuICB0cnkge1xuICAgIHZhciBiYm94LFxuICAgICAgICBlbXB0eUxpbmUgPSB0ZXh0ID09PSAnJztcblxuICAgIC8vIGFkZCBkdW1teSB0ZXh0LCB3aGVuIGxpbmUgaXMgZW1wdHkgdG9cbiAgICAvLyBkZXRlcm1pbmUgY29ycmVjdCBoZWlnaHRcbiAgICBmYWtlVGV4dC50ZXh0Q29udGVudCA9IGVtcHR5TGluZSA/ICdkdW1teScgOiB0ZXh0O1xuXG4gICAgdGV4dEJCb3ggPSBmYWtlVGV4dC5nZXRCQm94KCk7XG5cbiAgICAvLyB0YWtlIHRleHQgcmVuZGVyaW5nIHJlbGF0ZWQgaG9yaXpvbnRhbFxuICAgIC8vIHBhZGRpbmcgaW50byBhY2NvdW50XG4gICAgYmJveCA9IHtcbiAgICAgIHdpZHRoOiB0ZXh0QkJveC53aWR0aCArIHRleHRCQm94LnggKiAyLFxuICAgICAgaGVpZ2h0OiB0ZXh0QkJveC5oZWlnaHRcbiAgICB9O1xuXG4gICAgaWYgKGVtcHR5TGluZSkge1xuXG4gICAgICAvLyBjb3JyZWN0IHdpZHRoXG4gICAgICBiYm94LndpZHRoID0gMDtcbiAgICB9XG5cbiAgICByZXR1cm4gYmJveDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUubG9nKGUpO1xuXG4gICAgcmV0dXJuIHsgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xuICB9XG59XG5cblxuLyoqXG4gKiBMYXlvdXQgdGhlIG5leHQgbGluZSBhbmQgcmV0dXJuIHRoZSBsYXlvdXRlZCBlbGVtZW50LlxuICpcbiAqIEFsdGVycyB0aGUgbGluZXMgcGFzc2VkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nW119IGxpbmVzXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4V2lkdGhcbiAqIEBwYXJhbSB7U1ZHVGV4dEVsZW1lbnR9IGZha2VUZXh0XG4gKlxuICogQHJldHVybiB7TGluZURlc2NyaXB0b3J9IHRoZSBsaW5lIGRlc2NyaXB0b3JcbiAqL1xuZnVuY3Rpb24gbGF5b3V0TmV4dChsaW5lcywgbWF4V2lkdGgsIGZha2VUZXh0KSB7XG5cbiAgdmFyIG9yaWdpbmFsTGluZSA9IGxpbmVzLnNoaWZ0KCksXG4gICAgICBmaXRMaW5lID0gb3JpZ2luYWxMaW5lO1xuXG4gIHZhciB0ZXh0QkJveDtcblxuICBmb3IgKDs7KSB7XG4gICAgdGV4dEJCb3ggPSBnZXRUZXh0QkJveChmaXRMaW5lLCBmYWtlVGV4dCk7XG5cbiAgICB0ZXh0QkJveC53aWR0aCA9IGZpdExpbmUgPyB0ZXh0QkJveC53aWR0aCA6IDA7XG5cbiAgICAvLyB0cnkgdG8gZml0XG4gICAgaWYgKGZpdExpbmUgPT09ICcgJyB8fCBmaXRMaW5lID09PSAnJyB8fCB0ZXh0QkJveC53aWR0aCA8IE1hdGgucm91bmQobWF4V2lkdGgpIHx8IGZpdExpbmUubGVuZ3RoIDwgMikge1xuICAgICAgcmV0dXJuIGZpdChsaW5lcywgZml0TGluZSwgb3JpZ2luYWxMaW5lLCB0ZXh0QkJveCk7XG4gICAgfVxuXG4gICAgZml0TGluZSA9IHNob3J0ZW5MaW5lKGZpdExpbmUsIHRleHRCQm94LndpZHRoLCBtYXhXaWR0aCk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBsaW5lc1xuICogQHBhcmFtIHtzdHJpbmd9IGZpdExpbmVcbiAqIEBwYXJhbSB7c3RyaW5nfSBvcmlnaW5hbExpbmVcbiAqIEBwYXJhbSB7RGltZW5zaW9uc30gdGV4dEJCb3hcbiAqXG4gKiBAcmV0dXJuIHtMaW5lRGVzY3JpcHRvcn1cbiAqL1xuZnVuY3Rpb24gZml0KGxpbmVzLCBmaXRMaW5lLCBvcmlnaW5hbExpbmUsIHRleHRCQm94KSB7XG4gIGlmIChmaXRMaW5lLmxlbmd0aCA8IG9yaWdpbmFsTGluZS5sZW5ndGgpIHtcbiAgICB2YXIgcmVtYWluZGVyID0gb3JpZ2luYWxMaW5lLnNsaWNlKGZpdExpbmUubGVuZ3RoKS50cmltKCk7XG5cbiAgICBsaW5lcy51bnNoaWZ0KHJlbWFpbmRlcik7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHdpZHRoOiB0ZXh0QkJveC53aWR0aCxcbiAgICBoZWlnaHQ6IHRleHRCQm94LmhlaWdodCxcbiAgICB0ZXh0OiBmaXRMaW5lXG4gIH07XG59XG5cbnZhciBTT0ZUX0JSRUFLID0gJ1xcdTAwQUQnO1xuXG5cbi8qKlxuICogU2hvcnRlbnMgYSBsaW5lIGJhc2VkIG9uIHNwYWNpbmcgYW5kIGh5cGhlbnMuXG4gKiBSZXR1cm5zIHRoZSBzaG9ydGVuZWQgcmVzdWx0IG9uIHN1Y2Nlc3MuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGxpbmVcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhMZW5ndGggdGhlIG1heGltdW0gY2hhcmFjdGVycyBvZiB0aGUgc3RyaW5nXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSB0aGUgc2hvcnRlbmVkIHN0cmluZ1xuICovXG5mdW5jdGlvbiBzZW1hbnRpY1Nob3J0ZW4obGluZSwgbWF4TGVuZ3RoKSB7XG5cbiAgdmFyIHBhcnRzID0gbGluZS5zcGxpdCgvKFxcc3wtfFxcdTAwQUQpL2cpLFxuICAgICAgcGFydCxcbiAgICAgIHNob3J0ZW5lZFBhcnRzID0gW10sXG4gICAgICBsZW5ndGggPSAwO1xuXG4gIC8vIHRyeSB0byBzaG9ydGVuIHZpYSBicmVhayBjaGFyc1xuICBpZiAocGFydHMubGVuZ3RoID4gMSkge1xuXG4gICAgd2hpbGUgKChwYXJ0ID0gcGFydHMuc2hpZnQoKSkpIHtcbiAgICAgIGlmIChwYXJ0Lmxlbmd0aCArIGxlbmd0aCA8IG1heExlbmd0aCkge1xuICAgICAgICBzaG9ydGVuZWRQYXJ0cy5wdXNoKHBhcnQpO1xuICAgICAgICBsZW5ndGggKz0gcGFydC5sZW5ndGg7XG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIC8vIHJlbW92ZSBwcmV2aW91cyBwYXJ0LCB0b28gaWYgaHlwaGVuIGRvZXMgbm90IGZpdCBhbnltb3JlXG4gICAgICAgIGlmIChwYXJ0ID09PSAnLScgfHwgcGFydCA9PT0gU09GVF9CUkVBSykge1xuICAgICAgICAgIHNob3J0ZW5lZFBhcnRzLnBvcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIGxhc3QgPSBzaG9ydGVuZWRQYXJ0c1tzaG9ydGVuZWRQYXJ0cy5sZW5ndGggLSAxXTtcblxuICAvLyB0cmFuc2xhdGUgdHJhaWxpbmcgc29mdCBicmVhayB0byBhY3R1YWwgaHlwaGVuXG4gIGlmIChsYXN0ICYmIGxhc3QgPT09IFNPRlRfQlJFQUspIHtcbiAgICBzaG9ydGVuZWRQYXJ0c1tzaG9ydGVuZWRQYXJ0cy5sZW5ndGggLSAxXSA9ICctJztcbiAgfVxuXG4gIHJldHVybiBzaG9ydGVuZWRQYXJ0cy5qb2luKCcnKTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBsaW5lXG4gKiBAcGFyYW0ge251bWJlcn0gd2lkdGhcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhXaWR0aFxuICpcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gc2hvcnRlbkxpbmUobGluZSwgd2lkdGgsIG1heFdpZHRoKSB7XG4gIHZhciBsZW5ndGggPSBNYXRoLm1heChsaW5lLmxlbmd0aCAqIChtYXhXaWR0aCAvIHdpZHRoKSwgMSk7XG5cbiAgLy8gdHJ5IHRvIHNob3J0ZW4gc2VtYW50aWNhbGx5IChpLmUuIGJhc2VkIG9uIHNwYWNlcyBhbmQgaHlwaGVucylcbiAgdmFyIHNob3J0ZW5lZExpbmUgPSBzZW1hbnRpY1Nob3J0ZW4obGluZSwgbGVuZ3RoKTtcblxuICBpZiAoIXNob3J0ZW5lZExpbmUpIHtcblxuICAgIC8vIGZvcmNlIHNob3J0ZW4gYnkgY3V0dGluZyB0aGUgbG9uZyB3b3JkXG4gICAgc2hvcnRlbmVkTGluZSA9IGxpbmUuc2xpY2UoMCwgTWF0aC5tYXgoTWF0aC5yb3VuZChsZW5ndGggLSAxKSwgMSkpO1xuICB9XG5cbiAgcmV0dXJuIHNob3J0ZW5lZExpbmU7XG59XG5cblxuLyoqXG4gKiBAcmV0dXJuIHtTVkdTVkdFbGVtZW50fVxuICovXG5mdW5jdGlvbiBnZXRIZWxwZXJTdmcoKSB7XG4gIHZhciBoZWxwZXJTdmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGVscGVyLXN2ZycpO1xuXG4gIGlmICghaGVscGVyU3ZnKSB7XG4gICAgaGVscGVyU3ZnID0gc3ZnQ3JlYXRlKCdzdmcnKTtcblxuICAgIHN2Z0F0dHIoaGVscGVyU3ZnLCB7XG4gICAgICBpZDogJ2hlbHBlci1zdmcnXG4gICAgfSk7XG5cbiAgICBhc3NpZ25TdHlsZShoZWxwZXJTdmcsIHtcbiAgICAgIHZpc2liaWxpdHk6ICdoaWRkZW4nLFxuICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICB3aWR0aDogMCxcbiAgICAgIGhlaWdodDogMFxuICAgIH0pO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChoZWxwZXJTdmcpO1xuICB9XG5cbiAgcmV0dXJuIGhlbHBlclN2Zztcbn1cblxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgbGFiZWwgdXRpbGl0eVxuICpcbiAqIEBwYXJhbSB7VGV4dENvbmZpZ30gW2NvbmZpZ11cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVGV4dChjb25maWcpIHtcblxuICB0aGlzLl9jb25maWcgPSBhc3NpZ24oe30sIHtcbiAgICBzaXplOiBERUZBVUxUX0xBQkVMX1NJWkUsXG4gICAgcGFkZGluZzogREVGQVVMVF9CT1hfUEFERElORyxcbiAgICBzdHlsZToge30sXG4gICAgYWxpZ246ICdjZW50ZXItdG9wJ1xuICB9LCBjb25maWcgfHwge30pO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGxheW91dGVkIHRleHQgYXMgYW4gU1ZHIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAqIEBwYXJhbSB7VGV4dExheW91dENvbmZpZ30gb3B0aW9uc1xuICpcbiAqIEByZXR1cm4ge1NWR0VsZW1lbnR9XG4gKi9cblRleHQucHJvdG90eXBlLmNyZWF0ZVRleHQgPSBmdW5jdGlvbih0ZXh0LCBvcHRpb25zKSB7XG4gIHJldHVybiB0aGlzLmxheW91dFRleHQodGV4dCwgb3B0aW9ucykuZWxlbWVudDtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhIGxhYmVscyBsYXlvdXRlZCBkaW1lbnNpb25zLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IHRvIGxheW91dFxuICogQHBhcmFtIHtUZXh0TGF5b3V0Q29uZmlnfSBvcHRpb25zXG4gKlxuICogQHJldHVybiB7RGltZW5zaW9uc31cbiAqL1xuVGV4dC5wcm90b3R5cGUuZ2V0RGltZW5zaW9ucyA9IGZ1bmN0aW9uKHRleHQsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHRoaXMubGF5b3V0VGV4dCh0ZXh0LCBvcHRpb25zKS5kaW1lbnNpb25zO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuZCByZXR1cm5zIGEgbGFiZWwgYW5kIGl0cyBib3VuZGluZyBib3guXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgdGhlIHRleHQgdG8gcmVuZGVyIG9uIHRoZSBsYWJlbFxuICogQHBhcmFtIHtUZXh0TGF5b3V0Q29uZmlnfSBvcHRpb25zXG4gKlxuICogQHJldHVybiB7IHtcbiAqICAgZWxlbWVudDogU1ZHRWxlbWVudCxcbiAqICAgZGltZW5zaW9uczogRGltZW5zaW9uc1xuICogfSB9XG4gKi9cblRleHQucHJvdG90eXBlLmxheW91dFRleHQgPSBmdW5jdGlvbih0ZXh0LCBvcHRpb25zKSB7XG4gIHZhciBib3ggPSBhc3NpZ24oe30sIHRoaXMuX2NvbmZpZy5zaXplLCBvcHRpb25zLmJveCksXG4gICAgICBzdHlsZSA9IGFzc2lnbih7fSwgdGhpcy5fY29uZmlnLnN0eWxlLCBvcHRpb25zLnN0eWxlKSxcbiAgICAgIGFsaWduID0gcGFyc2VBbGlnbihvcHRpb25zLmFsaWduIHx8IHRoaXMuX2NvbmZpZy5hbGlnbiksXG4gICAgICBwYWRkaW5nID0gcGFyc2VQYWRkaW5nKG9wdGlvbnMucGFkZGluZyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5wYWRkaW5nIDogdGhpcy5fY29uZmlnLnBhZGRpbmcpLFxuICAgICAgZml0Qm94ID0gb3B0aW9ucy5maXRCb3ggfHwgZmFsc2U7XG5cbiAgdmFyIGxpbmVIZWlnaHQgPSBnZXRMaW5lSGVpZ2h0KHN0eWxlKTtcblxuICAvLyB3ZSBzcGxpdCB0ZXh0IGJ5IGxpbmVzIGFuZCBub3JtYWxpemVcbiAgLy8ge3NvZnQgYnJlYWt9ICsge2xpbmUgYnJlYWt9ID0+IHsgbGluZSBicmVhayB9XG4gIHZhciBsaW5lcyA9IHRleHQuc3BsaXQoL1xcdTAwQUQ/XFxyP1xcbi8pLFxuICAgICAgbGF5b3V0ZWQgPSBbXTtcblxuICB2YXIgbWF4V2lkdGggPSBib3gud2lkdGggLSBwYWRkaW5nLmxlZnQgLSBwYWRkaW5nLnJpZ2h0O1xuXG4gIC8vIGVuc3VyZSBjb3JyZWN0IHJlbmRlcmluZyBieSBhdHRhY2hpbmcgaGVscGVyIHRleHQgbm9kZSB0byBpbnZpc2libGUgU1ZHXG4gIHZhciBoZWxwZXJUZXh0ID0gc3ZnQ3JlYXRlKCd0ZXh0Jyk7XG4gIHN2Z0F0dHIoaGVscGVyVGV4dCwgeyB4OiAwLCB5OiAwIH0pO1xuICBzdmdBdHRyKGhlbHBlclRleHQsIHN0eWxlKTtcblxuICB2YXIgaGVscGVyU3ZnID0gZ2V0SGVscGVyU3ZnKCk7XG5cbiAgc3ZnQXBwZW5kKGhlbHBlclN2ZywgaGVscGVyVGV4dCk7XG5cbiAgd2hpbGUgKGxpbmVzLmxlbmd0aCkge1xuICAgIGxheW91dGVkLnB1c2gobGF5b3V0TmV4dChsaW5lcywgbWF4V2lkdGgsIGhlbHBlclRleHQpKTtcbiAgfVxuXG4gIGlmIChhbGlnbi52ZXJ0aWNhbCA9PT0gJ21pZGRsZScpIHtcbiAgICBwYWRkaW5nLnRvcCA9IHBhZGRpbmcuYm90dG9tID0gMDtcbiAgfVxuXG4gIHZhciB0b3RhbEhlaWdodCA9IHJlZHVjZShsYXlvdXRlZCwgZnVuY3Rpb24oc3VtLCBsaW5lLCBpZHgpIHtcbiAgICByZXR1cm4gc3VtICsgKGxpbmVIZWlnaHQgfHwgbGluZS5oZWlnaHQpO1xuICB9LCAwKSArIHBhZGRpbmcudG9wICsgcGFkZGluZy5ib3R0b207XG5cbiAgdmFyIG1heExpbmVXaWR0aCA9IHJlZHVjZShsYXlvdXRlZCwgZnVuY3Rpb24oc3VtLCBsaW5lLCBpZHgpIHtcbiAgICByZXR1cm4gbGluZS53aWR0aCA+IHN1bSA/IGxpbmUud2lkdGggOiBzdW07XG4gIH0sIDApO1xuXG4gIC8vIHRoZSB5IHBvc2l0aW9uIG9mIHRoZSBuZXh0IGxpbmVcbiAgdmFyIHkgPSBwYWRkaW5nLnRvcDtcblxuICBpZiAoYWxpZ24udmVydGljYWwgPT09ICdtaWRkbGUnKSB7XG4gICAgeSArPSAoYm94LmhlaWdodCAtIHRvdGFsSGVpZ2h0KSAvIDI7XG4gIH1cblxuICAvLyBtYWdpYyBudW1iZXIgaW5pdGlhbCBvZmZzZXRcbiAgeSAtPSAobGluZUhlaWdodCB8fCBsYXlvdXRlZFswXS5oZWlnaHQpIC8gNDtcblxuXG4gIHZhciB0ZXh0RWxlbWVudCA9IHN2Z0NyZWF0ZSgndGV4dCcpO1xuXG4gIHN2Z0F0dHIodGV4dEVsZW1lbnQsIHN0eWxlKTtcblxuICAvLyBsYXlvdXQgZWFjaCBsaW5lIHRha2luZyBpbnRvIGFjY291bnQgdGhhdCBwYXJlbnRcbiAgLy8gc2hhcGUgbWlnaHQgcmVzaXplIHRvIGZpdCB0ZXh0IHNpemVcbiAgZm9yRWFjaChsYXlvdXRlZCwgZnVuY3Rpb24obGluZSkge1xuXG4gICAgdmFyIHg7XG5cbiAgICB5ICs9IChsaW5lSGVpZ2h0IHx8IGxpbmUuaGVpZ2h0KTtcblxuICAgIHN3aXRjaCAoYWxpZ24uaG9yaXpvbnRhbCkge1xuICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgeCA9IHBhZGRpbmcubGVmdDtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAncmlnaHQnOlxuICAgICAgeCA9ICgoZml0Qm94ID8gbWF4TGluZVdpZHRoIDogbWF4V2lkdGgpXG4gICAgICAgIC0gcGFkZGluZy5yaWdodCAtIGxpbmUud2lkdGgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuXG4gICAgICAvLyBha2EgY2VudGVyXG4gICAgICB4ID0gTWF0aC5tYXgoKCgoZml0Qm94ID8gbWF4TGluZVdpZHRoIDogbWF4V2lkdGgpXG4gICAgICAgIC0gbGluZS53aWR0aCkgLyAyICsgcGFkZGluZy5sZWZ0KSwgMCk7XG4gICAgfVxuXG4gICAgdmFyIHRzcGFuID0gc3ZnQ3JlYXRlKCd0c3BhbicpO1xuICAgIHN2Z0F0dHIodHNwYW4sIHsgeDogeCwgeTogeSB9KTtcblxuICAgIHRzcGFuLnRleHRDb250ZW50ID0gbGluZS50ZXh0O1xuXG4gICAgc3ZnQXBwZW5kKHRleHRFbGVtZW50LCB0c3Bhbik7XG4gIH0pO1xuXG4gIHN2Z1JlbW92ZShoZWxwZXJUZXh0KTtcblxuICB2YXIgZGltZW5zaW9ucyA9IHtcbiAgICB3aWR0aDogbWF4TGluZVdpZHRoLFxuICAgIGhlaWdodDogdG90YWxIZWlnaHRcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGRpbWVuc2lvbnM6IGRpbWVuc2lvbnMsXG4gICAgZWxlbWVudDogdGV4dEVsZW1lbnRcbiAgfTtcbn07XG5cblxuZnVuY3Rpb24gZ2V0TGluZUhlaWdodChzdHlsZSkge1xuICBpZiAoJ2ZvbnRTaXplJyBpbiBzdHlsZSAmJiAnbGluZUhlaWdodCcgaW4gc3R5bGUpIHtcbiAgICByZXR1cm4gc3R5bGUubGluZUhlaWdodCAqIHBhcnNlSW50KHN0eWxlLmZvbnRTaXplLCAxMCk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/diagram-js/lib/util/Text.js\n");

/***/ })

};
;